!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).hmap=e()}(this,(function(){"use strict";var shared,worker,hmap;function define(t,e){if(shared)if(worker){var r="var sharedChunk = {},onmessage=null;  ("+shared+")(sharedChunk);onmessage=("+worker+")(sharedChunk);",i={};shared(i),(hmap=e(i)).workerUrl=window.URL.createObjectURL(new Blob([r],{type:"text/javascript"}))}else worker=e;else shared=e}define(["exports"],(function(exports){const a$1t=["degrees","133824SfUSvj","205906ZhINne","21613jrjZcW","350243zPCKWA","zh_CN","canvas","211506ydzdiF","474543yrkrZw","5HmHPba","2.5.0","webgl","createElement","getContext","1iASUGM","webgl2.0","464583MRgljj","webgl2"],h$5=b$1t;function b$1t(t,e){return a$1t[t-=135]}!function(t,e){const r=b$1t;for(;;)try{if(299098===parseInt(r(148))+-parseInt(r(145))+parseInt(r(144))*parseInt(r(150))+parseInt(r(139))+parseInt(r(142))+-parseInt(r(149))+parseInt(r(143))*parseInt(r(137)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1t);let initState={version:h$5(151),language:h$5(146),browserSupport:!1,isWebGL2Available:function(){const t=h$5;try{var e=document[t(135)](t(147));return!(!window.WebGL2RenderingContext||!e[t(136)](t(140)))}catch(t){return!1}},graphicsRender:h$5(152),webglVersion:h$5(138),labelRender:h$5(147),gridSize:256,dotsPerInch:96,inchesPerUnit:{degrees:4374754,m:39.3700787},_srid:4326,_unit:h$5(141),renderTileOneTime:1e3,checkSite:null,apiKey:null,resource:null,online:!0,EPSILON:1e-10};const a$1s=["5383zrjhnc","662639xojYdn","499949QpMMnf","486560hngajU","244155hPhfQR","131RHEGJa","1369720YqfWtg","187237YSdwki"];function b$1s(t,e){return a$1s[t-=462]}!function(t,e){const r=b$1s;for(;;)try{if(416095===parseInt(r(467))+parseInt(r(462))+parseInt(r(469))+parseInt(r(465))+-parseInt(r(466))*-parseInt(r(463))+-parseInt(r(468))+-parseInt(r(464)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1s);const Constants={PROJ_PJD_3PARAM:1,PROJ_PJD_7PARAM:2,PROJ_PJD_WGS84:4,PROJ_PJD_NODATUM:5,PROJ_SPI:3.14159265359,PROJ_TWO_PI:2*Math.PI,PROJ_HALF_PI:Math.PI/2,PROJ_FORTPI:Math.PI/4,PROJ_R2D:57.29577951308232,PROJ_D2R:.017453292519943295,PROJ_SEC_TO_RAD:484813681109536e-20,PROJ_EPSLN:1e-10,R:6378245,ee:.006693421622965823,PROJ_SIXTH:.16666666666666666,PROJ_RA4:.04722222222222222,PROJ_RA6:.022156084656084655,PROJ_units:{ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},PROJ_PrimeMeridian:{greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},PROJ_ignoredChar:/[\s_\-\/\(\)]/g},a$1r=["floor","pj_mlfn","7DjJNqu","pow","1319109GQjezF","1557599mHHocH","PROJ_HALF_PI","clens","PROJ_SPI","sign","1YJoQvD","C88","C06","keys","msfnz","5534slfOAG","replace","C44","max","517276cqISCp","456037QVLKkK","asinhy","atan","C68","adjust_lon","sinh","log","C22","C08","cos","cosh","986648WmjEzp","log1py","C46","C48","PROJ_TWO_PI","1400957ycpMXU","clens_cmplx","75FXqIUu","phi2z","toLowerCase","hypot","gatg","sin","abs","PROJ_ignoredChar","pj_enfn","C00","C04","sqrt","length"],x$1=b$1r;!function(t,e){const r=b$1r;for(;;)try{if(833568===-parseInt(r(258))+parseInt(r(288))*parseInt(r(260))+parseInt(r(283))*-parseInt(r(278))+parseInt(r(292))+parseInt(r(253))+-parseInt(r(277))+-parseInt(r(293))*-parseInt(r(275)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1r);class ProjMath{static[x$1(287)](t,e,r){let i=t*e;return r/Math[x$1(271)](1-i*i)}static tsfnz(t,e,r){const i=x$1;let n=t*r,s=.5*t;return n=Math[i(276)]((1-n)/(1+n),s),Math.tan(.5*(Constants[i(279)]-e))/n}static[x$1(282)](t){return t<0?-1:1}static[x$1(297)](t){const e=x$1;return Math.abs(t)<=Constants[e(281)]?t:t-this[e(282)](t)*Constants[e(257)]}static[x$1(261)](t,e){const r=x$1;let i,n,s=.5*t,o=Constants[r(279)]-2*Math[r(295)](e);for(let a=0;a<=15;a++)if(i=t*Math[r(265)](o),n=Constants[r(279)]-2*Math[r(295)](e*Math[r(276)]((1-i)/(1+i),s))-o,o+=n,Math[r(266)](n)<=1e-10)return o;return-9999}static[x$1(268)](t){const e=x$1;let r=this,i=[];i[0]=r[e(269)]-t*(r.C02+t*(this[e(270)]+t*(r[e(285)]+t*r[e(250)]))),i[1]=t*(r.C22-t*(r[e(270)]+t*(r[e(285)]+t*r[e(250)])));let n=t*t;return i[2]=n*(r[e(290)]-t*(r[e(255)]+t*r[e(256)])),n*=t,i[3]=n*(r.C66-t*r[e(296)]),i[4]=n*t*r[e(284)],i}static[x$1(274)](t,e,r,i){return r*=e,e*=e,i[0]*t-r*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}static adjust_zone(t,e){if(void 0===t){if((t=Math[x$1(273)](30*(this.adjust_lon(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}static[x$1(264)](t,e){const r=x$1;let i,n=2*Math[r(251)](2*e),s=t[r(272)]-1,o=t[s],a=0;for(;--s>=0;)i=n*o-a+t[s],a=o,o=i;return e+i*Math[r(265)](2*e)}static[x$1(254)](t){let e=1+t,r=e-1;return 0===r?t:t*Math[x$1(299)](e)/r}static[x$1(294)](t){const e=x$1;let r=Math[e(266)](t);return r=this[e(254)](r*(1+r/(this[e(263)](1,r)+1))),t<0?-r:r}static[x$1(298)](t){let e=Math.exp(t);return e=(e-1/e)/2,e}static[x$1(252)](t){let e=Math.exp(t);return e=(e+1/e)/2,e}static[x$1(259)](t,e,r){const i=x$1;let n,s,o=Math.sin(e),a=Math[i(251)](e),h=this[i(298)](r),l=this[i(252)](r),c=2*a*l,u=-2*o*h,p=t.length-1,f=t[p],g=0,d=0,_=0;for(;--p>=0;)n=d,s=g,d=f,g=_,f=c*d-n-u*g+t[p],_=u*d-s+c*g;return c=o*l,u=a*h,[c*f-u*_,c*_+u*f]}static[x$1(280)](t,e){const r=x$1;let i,n=2*Math.cos(e),s=t[r(272)]-1,o=t[s],a=0;for(;--s>=0;)i=n*o-a+t[s],a=o,o=i;return Math.sin(e)*i}static[x$1(263)](t,e){const r=x$1;t=Math[r(266)](t),e=Math[r(266)](e);let i=Math[r(291)](t,e),n=Math.min(t,e)/(i||1);return i*Math[r(271)](1+Math[r(276)](n,2))}static match(t,e){const r=x$1;if(t[e])return t[e];let i,n,s=Object[r(286)](t),o=e.toLowerCase()[r(289)](Constants[r(267)],""),a=-1;for(;++a<s[r(272)];)if(i=s[a],n=i[r(262)]()[r(289)](Constants[r(267)],""),n===o)return t[i]}}function b$1r(t,e){return a$1r[t-=250]}Math[x$1(269)]=1,Math.C02=.25,Math[x$1(270)]=.046875,Math[x$1(285)]=.01953125,Math[x$1(250)]=.01068115234375,Math[x$1(300)]=.75,Math.C44=.46875,Math[x$1(255)]=.013020833333333334,Math.C48=.007120768229166667,Math.C66=.3645833333333333,Math[x$1(296)]=.005696614583333333,Math[x$1(284)]=.3076171875;const a$1q=["sin","phi2z","inverse","setOrdinate","forward","sphere","265850KpZWYI","2tHoQiP","198764JEvRLh","352496ooEevp","tan","475951KcRfEy","log","abs","1632049xNBeaG","PROJ_FORTPI","atan","exp","14802hdKkQM","441710YGBzCM","lat_ts","sqrt","PROJ_HALF_PI","init","_forward","PROJ_R2D","cos","PROJ_D2R","adjust_lon","PROJ_EPSLN","msfnz","long0","tsfnz","7nqlygV","getOrdinate"],p$1=b$1q;function b$1q(t,e){return a$1q[t-=493]}!function(t,e){const r=b$1q;for(;;)try{if(648046===parseInt(r(497))*parseInt(r(520))+parseInt(r(522))+-parseInt(r(496))*-parseInt(r(511))+parseInt(r(521))+parseInt(r(519))+parseInt(r(524))+-parseInt(r(527)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1q);class Merc{constructor(){this[b$1q(501)]()}init(){const t=b$1q,e=this.b/this.a;this.es=1-e*e,!("x0"in this)&&(this.x0=0),!("y0"in this)&&(this.y0=0),this.e=Math[t(499)](this.es),this[t(498)]?this[t(518)]?this.k0=Math[t(504)](this[t(498)]):this.k0=ProjMath[t(508)](this.e,Math[t(513)](this[t(498)]),Math.cos(this[t(498)])):!this.k0&&(this.k?this.k0=this.k:this.k0=1)}[p$1(517)](t){const e=p$1,r=t.getOrdinate("X")*Constants[e(505)],i=t[e(512)]("Y")*Constants[e(505)];if(i*Constants.PROJ_R2D>90&&i*Constants[e(503)]<-90&&r*Constants[e(503)]>180&&r*Constants.PROJ_R2D<-180)return null;let n,s;if(Math[e(526)](Math[e(526)](i)-Constants[e(500)])<=Constants[e(507)])return null;if(this.sphere)n=this.x0+this.a*this.k0*ProjMath.adjust_lon(r-this[e(509)]),s=this.y0+this.a*this.k0*Math[e(525)](Math[e(523)](Constants[e(493)]+.5*i));else{const t=Math[e(513)](i),o=ProjMath[e(510)](this.e,i,t);n=this.x0+this.a*this.k0*ProjMath.adjust_lon(r-this[e(509)]),s=this.y0-this.a*this.k0*Math[e(525)](o)}return t[e(516)]("X",n),t.setOrdinate("Y",s),t}[p$1(515)](t){const e=p$1,r=t[e(512)]("X")-this.x0,i=t[e(512)]("Y")-this.y0;let n,s;if(this[e(518)])s=Constants[e(500)]-2*Math[e(494)](Math[e(495)](-i/(this.a*this.k0)));else{let t=Math[e(495)](-i/(this.a*this.k0));if(s=ProjMath[e(514)](this.e,t),-9999===s)return null}return n=ProjMath[e(506)](this[e(509)]+r/(this.a*this.k0)),t[e(516)]("X",n*Constants[e(503)]),t[e(516)]("Y",s*Constants[e(503)]),t}[p$1(502)](t){const e=p$1,r=t.x,i=t.y;if(i*Constants[e(503)]>90&&i*Constants[e(503)]<-90&&r*Constants[e(503)]>180&&r*Constants[e(503)]<-180)return null;let n,s,o=!1;if(this[e(518)])n=this.x0+this.a*this.k0*ProjMath[e(506)](r-this[e(509)]),s=this.y0+this.a*this.k0*Math[e(525)](Math[e(523)](Constants[e(493)]+.5*i)),!Number.isFinite(s)&&(s=this.y0+this.a*this.k0*Math[e(525)](Math[e(523)](Constants[e(493)]-.5*i)),o=!0);else{const t=Math[e(513)](i),o=ProjMath.tsfnz(this.e,i,t);n=this.x0+this.a*this.k0*ProjMath[e(506)](r-this[e(509)]),s=this.y0-this.a*this.k0*Math[e(525)](o)}return t.x=n,t.y=o?-s:s,t}_inverse(t){const e=p$1,r=t.x-this.x0,i=t.y-this.y0;let n,s;if(this[e(518)])s=Constants[e(500)]-2*Math[e(494)](Math.exp(-i/(this.a*this.k0)));else{let t=Math[e(495)](-i/(this.a*this.k0));if(s=ProjMath.phi2z(this.e,t),-9999===s)return null}return n=ProjMath.adjust_lon(this.long0+r/(this.a*this.k0)),t.x=n,t.y=s,t}}const a$1p=["826126VmVaFm","long0","init","atan2","adjust_lon","PROJ_EPSLN","log","172536LNpzhz","pow","sign","1556ILPeGF","10086BdLUHC","sin","180494Gzyvpm","sqrt","asin","lat0","cos","157JiJdnq","ml0","ep2","pj_mlfn","abs","227662TKhIYf","forward","acos","PROJ_HALF_PI","115131fbZIiS"],H$1=b$1p;function b$1p(t,e){return a$1p[t-=395]}!function(t,e){const r=b$1p;for(;;)try{if(236913===-parseInt(r(418))-parseInt(r(410))+parseInt(r(396))+-parseInt(r(422))+-parseInt(r(406))+parseInt(r(401))*-parseInt(r(421))+parseInt(r(411)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1p);class Tmerc{constructor(){this[b$1p(413)]()}[H$1(413)](){const t=H$1;this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this[t(412)]=void 0!==this.long0?this[t(412)]:0,this.lat0=void 0!==this.lat0?this[t(399)]:0,this.es&&(this.en=ProjMath.pj_enfn(this.es),this.ml0=ProjMath[t(404)](this[t(399)],Math[t(395)](this[t(399)]),Math.cos(this[t(399)]),this.en))}[H$1(407)](t){const e=H$1;let r,i,n,s=t.x,o=t.y,a=ProjMath[e(415)](s-this[e(412)]),h=Math[e(395)](o),l=Math[e(400)](o);if(this.es){let t=l*a,s=Math[e(419)](t,2),c=this[e(403)]*Math[e(419)](l,2),u=Math[e(419)](c,2),p=Math[e(405)](l)>Constants.PROJ_EPSLN?Math.tan(o):0,f=Math[e(419)](p,2),g=Math[e(419)](f,2);r=1-this.es*Math[e(419)](h,2),t/=Math[e(397)](r);let d=ProjMath.pj_mlfn(o,h,l,this.en);i=this.a*(this.k0*t*(1+s/6*(1-f+c+s/20*(5-18*f+g+14*c-58*f*c+s/42*(61+179*g-g*f-479*f)))))+this.x0,n=this.a*(this.k0*(d-this[e(402)]+h*a*t/2*(1+s/12*(5-f+9*c+4*u+s/30*(61+g-58*f+270*c-330*f*c+s/56*(1385+543*g-g*f-3111*f))))))+this.y0}else{let t=l*Math.sin(a);if(Math.abs(Math[e(405)](t)-1)<Constants[e(416)])return 93;if(i=.5*this.a*this.k0*Math[e(417)]((1+t)/(1-t))+this.x0,n=l*Math.cos(a)/Math[e(397)](1-Math.pow(t,2)),t=Math[e(405)](n),t>=1){if(t-1>Constants[e(416)])return 93;n=0}else n=Math[e(408)](n);o<0&&(n=-n),n=this.a*this.k0*(n-this.lat0)+this.y0}return t.x=i,t.y=n,t}inverse(t){const e=H$1;let r,i,n,s,o=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(r=this.ml0+a/this.k0,i=ProjMath[e(404)](r,this.es,this.en),Math.abs(i)<Constants[e(409)]){let t=Math[e(395)](i),a=Math[e(400)](i),h=Math[e(405)](a)>Constants[e(416)]?Math.tan(i):0,l=this[e(403)]*Math[e(419)](a,2),c=Math[e(419)](l,2),u=Math.pow(h,2),p=Math[e(419)](u,2);r=1-this.es*Math.pow(t,2);let f=o*Math[e(397)](r)/this.k0,g=Math[e(419)](f,2);r*=h,n=i-r*g/(1-this.es)*.5*(1-g/12*(5+3*u-9*l*u+l-4*c-g/30*(61+90*u-252*l*u+45*p+46*l-g/56*(1385+3633*u+4095*p+1574*p*u)))),s=ProjMath[e(415)](this[e(412)]+f*(1-g/6*(1+2*u+l-g/20*(5+28*u+24*p+8*l*u+6*l-g/42*(61+662*u+1320*p+720*p*u))))/a)}else n=Constants[e(409)]*Math[e(420)](a),s=0;else{let t=Math.exp(o/this.k0),i=.5*(t-1/t),h=this[e(399)]+a/this.k0,l=Math[e(400)](h);r=Math[e(397)]((1-Math.pow(l,2))/(1+Math[e(419)](i,2))),n=Math[e(398)](r),a<0&&(n=-n),s=0===i&&0===l?0:ProjMath.adjust_lon(Math[e(414)](i,l)+this[e(412)])}return t.x=s,t.y=n,t}}var a$1o=["toString","547250PAKYJX","74eJDEwe","getHeight","_width","838869CgHwRF","clone","720238CIVcjW","isFinite","1322848szepUZ","setWidth","37UlVwkW","equals","_height","getWidth","parameter should be a number and greater than or equal to zero.","7526BcpTSP","10229hdEeZp","43103yNRsKT"],i$4=b$1o;!function(t,e){for(var r=b$1o;;)try{if(792315===-parseInt(r(459))*-parseInt(r(473))-parseInt(r(475))+parseInt(r(474))*-parseInt(r(468))-parseInt(r(462))-parseInt(r(477))+parseInt(r(464))+parseInt(r(466)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1o);class Size{constructor(t=0,e=0){var r=b$1o;if(!(Number[r(465)](t)&&Number[r(465)](e)&&t>=0&&e>=0))throw new TypeError("parameter must be a number and greater than or equal to zero");this[r(461)]=t,this[r(470)]=e}[i$4(463)](){var t=i$4;return new Size(this[t(461)],this[t(470)])}[i$4(469)](t){var e=i$4;return t instanceof Size&&t[e(461)]===this[e(461)]&&t._height===this[e(470)]}destroy(){var t=i$4;delete this[t(461)],delete this[t(470)]}[i$4(471)](){return this[i$4(461)]}[i$4(460)](){return this[i$4(470)]}[i$4(467)](t){var e=i$4;if(!(Number.isFinite(t)&&t>=0))throw new TypeError(e(472));this[e(461)]=t}setHeight(t){var e=i$4;if(!(Number[e(465)](t)&&t>=0))throw new TypeError(e(472));this[e(470)]=t}[i$4(476)](){return this[i$4(461)]+","+this._height}}function b$1o(t,e){return a$1o[t-=459]}const a$1n=["toLowerCase","2BSMfvd","500974uOzzzs","2611521NgjSOu","getValue","435654hyplqH","1003296ONrKHR","clone","55861PucfAp","166740JGGQWz","448641IGVEJn","setValue","toString","1lSolbx","1PHBRzG"],h$4=b$1n;function b$1n(t,e){return a$1n[t-=451]}!function(t,e){const r=b$1n;for(;;)try{if(508385===-parseInt(r(460))*parseInt(r(461))-parseInt(r(465))-parseInt(r(453))+-parseInt(r(454))*-parseInt(r(457))-parseInt(r(464))+-parseInt(r(452))*-parseInt(r(458))+parseInt(r(462)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1n);class Offset{constructor(t=0,e=0,r=0){this._x=t,this._y=e,this._z=r}[h$4(463)](t){return this["_"+t[h$4(459)]()]}[h$4(455)](t,e){this["_"+t[h$4(459)]()]=e}[h$4(451)](){const t=h$4;return new Offset(this[t(463)]("X"),this.getValue("Y"),this[t(463)]("Z"))}[h$4(456)](){return this._x+","+this._y+","+this._z}}const a$1m=["center is not an instance of Coordinate!","split","467442XzMxAk","sqrt",'parameter "xFactor", "yFactor" and "zFactor" must be positive Number!',"crs should be instance of Crs.","atan2","3lwvaNS","parameter axis is not valid, must be X, or Y, or Z.","round","179853FPeTFL","getRadius","get3Dist","pow","GeoCRS","parameter axis is not valid, must be X, or Y, or Z","indexOf","toFixed","1406qizvMJ","201sBoSjq","test","map","the parameters must be Numbers!","val of ordinate is not a number","getCrsType","fromString","getMeterPerDegree","564940UhmDTE","replace","setOrdinate","equals","_rotateAroundAxis","toString","1093EhKqNz","{z}","destroy","sin","90nAcZUl","cos","EPSG","format","isFinite","458dWEjEd","74ZQUHsw","the ordinate value must be numbers!"," is not a Coordinate instance ","to2DString","{y}","getDimension","abs"," is not a number!","1286CYlhIe","{x}","toArray","_unit","parameter coord must be instance of Coordinate!","number","get2Dist","length","parameter coordinate","minus","rotate","getValue","getOrdinate","1291khByKs","_toRadians","tinyRound"," is not a Offset instance!"];function b$1m(t,e){return a$1m[t-=389]}const w$2=b$1m;!function(t,e){const r=b$1m;for(;;)try{if(343762===-parseInt(r(449))*-parseInt(r(424))+parseInt(r(408))+parseInt(r(433))+parseInt(r(416))*-parseInt(r(413))+-parseInt(r(425))*-parseInt(r(439))+parseInt(r(443))*parseInt(r(402))+-parseInt(r(448))*parseInt(r(389)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1m);class Coordinate{constructor(t=0,e=0,r=0,i=!0){const n=b$1m;if(!Number[n(447)](t)||!Number[n(447)](e)||!Number[n(447)](r))throw new TypeError(n(450));"m"!=initState[n(392)]&&!i&&(r=180*r/(6378137*Math.cos(e)*Math.PI)),this._x=t,this._y=e,this._z=r}addOffset(t){const e=b$1m;if(!(t instanceof Offset))throw new ReferenceError('parameter "offset"'+t+e(405));return this._x+=t.getValue("X"),this._y+=t[e(400)]("Y"),this._z+=t[e(400)]("Z"),this}clone(){return new Coordinate(this._x,this._y,this._z)}[w$2(441)](){for(let t in this)delete this[t]}[w$2(436)](t){const e=w$2;if(!(t instanceof Coordinate))throw new TypeError("parameter coordinate"+t+" is not a Coordinate instance ");const r=1e-9;return Math.abs(t._x-this._x)<r&&Math[e(455)](t._y-this._y)<r&&Math.abs(t._z-this._z)<r}[w$2(446)](t,e=1){const r=w$2;return t[r(422)](r(390))<0&&t.indexOf(r(453))<0&&t.indexOf(r(440))<0?this:(t=(t=(t=t[r(434)](r(390),this._x[r(423)](e)))[r(434)](r(453),this._y.toFixed(e))).replace(r(440),this._z[r(423)](e)))[r(438)]()}static[w$2(431)](t){const e=w$2;let r=0,i=0,n=0,s=t[e(407)](",")[e(427)]((t=>1*t));const o=s.length;return 1===o?r=s[0]:2===o?(r=s[0],i=s[1]):o>=3&&(r=s[0],i=s[1],n=s[2]),new Coordinate(r,i,n)}static fromArray(t){let e=0,r=0,i=0;const n=t[w$2(396)];return 1===n?e=t[0]:2===n?(e=t[0],r=t[1]):n>=3&&(e=t[0],r=t[1],i=t[2]),new Coordinate(e,r,i)}[w$2(395)](t,e=4326){const r=w$2;if(!(t instanceof Coordinate))throw new ReferenceError(r(393));const i=Transformer.CrsList["EPSG"+e];if("GeoCRS"===i[r(430)]()){const e=i[r(417)](),n=this[r(403)](this._y),s=this[r(403)](t[r(401)]("Y")),o=(s-n)/2,a=this._toRadians(t[r(401)]("X")-this._x)/2,h=Math[r(442)](o)*Math.sin(o)+Math[r(442)](a)*Math[r(442)](a)*Math[r(444)](n)*Math.cos(s);return 2*e*Math[r(412)](Math[r(409)](h),Math.sqrt(1-h))}{const e=t[r(398)](this),i=e[r(400)]("x"),n=e[r(400)]("y");return Math[r(409)](i*i+n*n)}}[w$2(418)](t,e=4326){const r=w$2;if(!(t instanceof Coordinate))throw new ReferenceError(r(393));const i=Transformer.CrsList[r(445)+e],n=this[r(395)](t,e),s=i[r(432)]();let o=Math[r(455)](this[r(401)]("Z")-t[r(401)]("Z"));return i.getCrsType()===r(420)&&(o*=s),Math[r(409)](n*n+o*o)}[w$2(454)](){return 3}getOrdinate(t){const e=w$2;let r=0;switch(t){case"X":r=this._x;break;case"Y":r=this._y;break;case"Z":r=this._z;break;default:throw new Error(e(421))}return r}isValid(t){const e=w$2;if(t instanceof Crs){return t.getExtent().containsCoord(this,!0)}throw new TypeError(e(411))}minus(t){const e=w$2;if(!(t instanceof Coordinate))throw new Error(e(397)+t+e(451));const r=t[e(401)]("X"),i=t[e(401)]("Y"),n=t[e(401)]("Z"),s=this[e(401)]("X"),o=this[e(401)]("Y"),a=this[e(401)]("Z");return new Offset(s-r,o-i,a-n)}[w$2(399)](t="Z",e=0,r){const i=w$2;if(typeof e!==i(394))throw new TypeError("angle "+e+i(456));if("X"!==t&&"Y"!==t&&"Z"!==t)throw new Error(i(414));if(r){if(!(r instanceof Coordinate))throw new TypeError(i(406));{const n=r._x,s=r._y,o=r._z;switch(t){case"Z":this.setOrdinate("X",this._x-n),this[i(435)]("Y",this._y-s),this._rotateAroundAxis(t,e),this.setOrdinate("X",this._x+n),this[i(435)]("Y",this._y+s);break;case"X":this[i(435)]("Y",this._y-s),this[i(435)]("Z",this._z-o),this[i(437)](t,e),this[i(435)]("Y",this._y+s),this.setOrdinate("Z",this._z+o);break;case"Y":this[i(435)]("X",this._x-n),this[i(435)]("Z",this._z-o),this[i(437)](t,e),this[i(435)]("X",this._x+n),this.setOrdinate("Z",this._z+o)}}}else this[i(437)](t,e);return this}_rotateAroundAxis(t="Z",e=0){const r=w$2;e=e*Math.PI/180;let i=0,n=0,s=0;switch(t){case"Z":i=this.tinyRound(Math[r(444)](e))*this._x-this.tinyRound(Math[r(442)](e))*this._y,n=this[r(404)](Math[r(442)](e))*this._x+this[r(404)](Math[r(444)](e))*this._y,this[r(435)]("X",i),this[r(435)]("Y",n);break;case"X":n=this.tinyRound(Math[r(444)](e))*this._y-this[r(404)](Math[r(442)](e))*this._z,s=this[r(404)](Math[r(442)](e))*this._y+this.tinyRound(Math[r(444)](e))*this._z,this[r(435)]("Z",s),this.setOrdinate("Y",n);break;case"Y":s=this[r(404)](Math[r(444)](e))*this._z-this[r(404)](Math.sin(e))*this._x,i=this.tinyRound(Math[r(442)](e))*this._z+this[r(404)](Math.cos(e))*this._x,this[r(435)]("X",i),this[r(435)]("Z",s)}return this}[w$2(404)](t){const e=w$2;return Math[e(415)](t*Math.pow(10,15))/Math[e(419)](10,15)}setOrdinate(t="X",e){const r=w$2;if(!Number.isFinite(e))throw new Error(r(429));switch(t){case"X":this._x=e;break;case"Y":this._y=e;break;case"Z":this._z=e;break;default:throw new Error(r(421))}return this}scale(t=1,e=1,r=1){const i=w$2;if(!(Number[i(447)](t)&&Number[i(447)](e)&&Number[i(447)](r)))throw new Error(i(428));if(t<=0||e<=0||r<=0)throw new RangeError(i(410));return this[i(435)]("X",t*this[i(401)]("X")),this[i(435)]("Y",e*this[i(401)]("Y")),this.setOrdinate("Z",r*this[i(401)]("Z")),this}[w$2(423)](t){const e=w$2;return/^[0-9]*[0-9][0-9]*$/[e(426)](t)&&(this[e(435)]("X",1*this[e(401)]("X")[e(423)](t)),this[e(435)]("Y",1*this.getOrdinate("Y")[e(423)](t)),this.setOrdinate("Z",1*this[e(401)]("Z").toFixed(t))),this}toString(){return this._x+","+this._y+","+this._z}[w$2(452)](){return this._x+","+this._y}transform(t,e){}[w$2(403)](t){return t*Math.PI/180}[w$2(391)](){return[this._x,this._y,this._z]}}const a$1l=["parseFloat","getArea","containsCoord","extendXY","the parameter deltaX and deltaY must be Number ","length","equals","getTop","168657JmvYEv","getBottomLeft","3JFGray","_left","left value must be smaller than right","replace","max","offset","extendExtent","getHeight","76265JguIEO","isFinite","fromString","containsExtent","6jDorxx","1062FnsUOX","getWidth","setLeft","please make sure left<=right or bottom<=top!","right value must be larger than left","getTopLeft","setBottom","2LNKoyS","push","fromArray","367hGnPJm","getIntersection","parameter arr must be an Array contains 4 Number elements!","_right","pow","getTopRight","getRight","scale","getOrdinate","number","split","clone","_bottom","top must be larger than bottom","53gQcwok","isEmpty","279572AyMnlS","getLeft","_top","intersects","abs","204109UTHjKJ","bottom value must be smaller than top","min","setRight","172922DsBOqu","length of splited str  is not 4!","_compareNumbers","getSize","getBottom","toString"],t$2=b$1l;function b$1l(t,e){return a$1l[t-=469]}!function(t,e){const r=b$1l;for(;;)try{if(313774===parseInt(r(528))*parseInt(r(518))+-parseInt(r(517))*parseInt(r(513))-parseInt(r(489))+parseInt(r(505))*parseInt(r(485))+-parseInt(r(525))*parseInt(r(503))+parseInt(r(480))+-parseInt(r(478)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1l);class Extent{constructor(t,e,r,i){const n=b$1l;if(t>r||e>i)throw new TypeError(n(521));this._left=t,this[n(476)]=e,this[n(531)]=r,this[n(482)]=i}clone(){const t=b$1l;return new Extent(this[t(481)](),this[t(493)](),this.getRight(),this[t(502)]())}[t$2(497)](t,e=!0){const r=t$2,i=t[r(472)]("X"),n=t.getOrdinate("Y");return e?this[r(481)]()<=i&&this[r(470)]()>=i&&this[r(493)]()<=n&&this.getTop()>=n:this[r(481)]()<i&&this[r(470)]()>i&&this[r(493)]()<n&&this[r(502)]()>n}[t$2(516)](t){const e=t$2;return t[e(481)]()>=this[e(481)]()&&t.getRight()<=this[e(470)]()&&t[e(493)]()>=this.getBottom()&&t[e(502)]()<=this[e(502)]()}[t$2(498)](t){const e=t$2,r=t[e(472)]("X"),i=t.getOrdinate("Y");return this._left=this[e(506)]<r?this._left:r,this[e(531)]=this[e(531)]>r?this[e(531)]:r,this[e(482)]=this[e(482)]<i?i:this[e(482)],this._bottom=this[e(476)]<i?this[e(476)]:i,this}[t$2(511)](t){const e=t$2,r=t[e(481)](),i=t[e(470)](),n=t[e(502)](),s=t[e(493)]();return this[e(506)]=Math[e(487)](this[e(506)],r),this[e(531)]=Math[e(509)](this._right,i),this[e(476)]=Math.min(this[e(476)],s),this[e(482)]=Math.max(this._top,n),this}[t$2(501)](t,e=0){const r=t$2;return this[r(491)](t[r(502)](),this[r(502)](),e)&&this[r(491)](t[r(481)](),this.getLeft(),e)&&this[r(491)](t[r(493)](),this[r(493)](),e)&&this[r(491)](t[r(470)](),this.getRight(),e)}[t$2(491)](t,e,r){const i=t$2;let n,s,o;try{n=t.toString()[i(474)](".")[1][i(500)]}catch(t){n=0}try{s=e[i(494)]()[i(474)](".")[1][i(500)]}catch(t){s=0}if(o=Math[i(484)](n-s),o>0){let a=Math[i(532)](10,o);n>s?(t=Number(t[i(494)]()[i(508)](".","")),e=Number(e[i(494)]().replace(".",""))*a,r*=Math[i(532)](10,n)):(t=Number(t.toString()[i(508)](".",""))*a,e=Number(e[i(494)]()[i(508)](".","")),r*=Math[i(532)](10,s))}else t=Number(t[i(494)]().replace(".","")),e=Number(e.toString()[i(508)](".","")),r*=Math[i(532)](10,n);return Math.abs(t-e)<=r}static[t$2(515)](t){const e=t$2,r=t[e(474)](",").map((t=>Number[e(495)](t)));if(4!==r[e(500)])throw new Error(e(490));return Extent[e(527)](r)}[t$2(519)](){const t=t$2;return this[t(470)]()-this[t(481)]()}[t$2(512)](){const t=t$2;return this.getTop()-this[t(493)]()}[t$2(492)](){const t=t$2;return new Size(this.getWidth(),this[t(512)]())}[t$2(496)](){const t=t$2;return this[t(512)]()*this[t(519)]()}getLeft(){return this._left}[t$2(520)](t){const e=t$2;if(t>this.getRight())throw e(507);return this[e(506)]=t,this}getRight(){return this[t$2(531)]}[t$2(488)](t){const e=t$2;if(t<this[e(481)]())throw e(522);return this[e(531)]=t,this}[t$2(493)](){return this._bottom}setBottom(t){const e=t$2;if(t>this[e(502)]())throw e(486);return this[e(476)]=t,this}setTop(t){const e=t$2;if(t<this[e(493)]())throw e(477);return this[e(482)]=t,this}[t$2(502)](){return this[t$2(482)]}[t$2(529)](t){const e=t$2,r=Math[e(509)](t[e(481)](),this[e(481)]()),i=Math[e(509)](t[e(493)](),this[e(493)]()),n=Math[e(487)](t.getRight(),this[e(470)]()),s=Math[e(487)](t[e(502)](),this[e(502)]());if(r>n||i>s)return null;{let t=this[e(475)]();return t[e(520)](r),t.setRight(n),t[e(524)](i),t.setTop(s),t}}getCenter(){const t=t$2,e=(this[t(481)]()+this[t(470)]())/2,r=(this[t(493)]()+this[t(502)]())/2;return new Coordinate(e,r)}[t$2(523)](){const t=t$2;return new Coordinate(this[t(481)](),this[t(502)](),0)}[t$2(469)](){const t=t$2;return new Coordinate(this[t(470)](),this[t(502)](),0)}[t$2(504)](){const t=t$2;return new Coordinate(this[t(481)](),this[t(493)](),0)}getBottomRight(){return new Coordinate(this[t$2(470)](),this.getBottom(),0)}[t$2(483)](t,e=!0){const r=t$2,i=t[r(481)](),n=t[r(470)](),s=t[r(502)](),o=t[r(493)]();let a,h;return e?(a=this[r(506)]<=n&&this[r(531)]>=i,h=this[r(476)]<=s&&this._top>=o):(a=this[r(506)]<n&&this[r(531)]>i,h=this[r(476)]<s&&this._top>o),a&&h}[t$2(479)](){const t=t$2;return this[t(506)]>=this._right||this[t(476)]>=this[t(482)]}[t$2(510)](t,e){const r=t$2;if(!Number[r(514)](t)||!Number[r(514)](e))throw r(499);return this[r(506)]=this[r(506)]+t,this[r(531)]=this[r(531)]+t,this[r(482)]=this[r(482)]+e,this[r(476)]=this[r(476)]+e,this}[t$2(471)](t){const e=t$2;if(typeof t!==e(473)||t<0)throw new TypeError("the parameter ratio must be a number greater or equal to 0");return this[e(506)]=this[e(506)]*t,this[e(476)]=this[e(476)]*t,this[e(531)]=this[e(531)]*t,this[e(482)]=this._top*t,this}toArray(){const t=t$2,e=[];return e[t(526)](this[t(481)]()),e[t(526)](this[t(493)]()),e[t(526)](this[t(470)]()),e.push(this[t(502)]()),e}[t$2(494)](){const t=t$2;return this[t(481)]()+","+this.getBottom()+","+this[t(470)]()+","+this.getTop()}static fromArray(t){const e=t$2,r=e(530);if(t instanceof Array&&4===t[e(500)]){for(let i of t)if(!Number[e(514)](i))throw r;return new Extent(t[0],t[1],t[2],t[3])}throw r}}const a$1k=["clrk66","datum_params","Clarke 1880 mod.","Normal Sphere (r=6370997)","WGS84","PROJ_EPSLN","S-JTSK (Ferro)","Hermannskogel","-403,684,41","PROJ_PJD_7PARAM","Clarke 1866","nad27","589,76,480","482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15","606.0,23.0,413.0","rassadiran","Beduaram","hermannskogel","GRS80","potsdam","Plessis 1817 (France)","Reseau National Belge 1972","nzgd49","Bessel 1841","-133.63,-157.5,-158.62","Clarke 1858","41631BevioE","length","North_American_Datum_1983","Soviet Geodetic System 85","osgb36","0,0,0","22115NIAsdu","4blxYXo","Gunung Segara Jakarta","sqrt","Ireland 1965","Lerch 1979","Southeast Asia","bessel","Bessel 1841 (Namibia)","clrk80","eccentricity","PROJ_RA6","Airy 1830","sphere","Everest 1948","Krassovsky, 1942","Everest (Sabah & Sarawak)","wgs84","PROJ_SEC_TO_RAD","821GjqEZf","datum_type","Kaula 1961","674.374,15.056,405.346","412206LhFBcF","airy","IAU 1976","-106,-87,188","abs","230537YcSOPe","@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat","Hough","osni52","Everest 1969","beduaram","GRS 1980(IUGG, 1980)","Maupertius 1738","Irish National","Delambre 1810 (Belgium)","ggrs87","446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894","1671dxLLqr","653.0,-212.0,449.0","PROJ_RA4","carthage","Helmert 1906","PROJ_SIXTH","clark80","s_jtsk","WGS 60","106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1","rnb72","Beijing54","New Zealand Geodetic Datum 1949","Comm. des Poids et Mesures 1799","Andrae 1876 (Den., Iclnd.)","match","Walbeck","WGS 84","351819yUCOYM","Rassadiran","Naval Weapons Lab., 1965","568311lIWCpf","MERIT 1983","WGS 66"],p=b$1k;!function(t,e){const r=b$1k;for(;;)try{if(316921===-parseInt(r(275))-parseInt(r(208))+parseInt(r(242))+parseInt(r(214))*parseInt(r(215))+-parseInt(r(272))+-parseInt(r(237))+-parseInt(r(254))*-parseInt(r(233)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1k);const ellipses={MERIT:{a:6378137,rf:298.257,ellipseName:p(276)},SGS85:{a:6378136,rf:298.257,ellipseName:p(211)},GRS80:{a:6378137,rf:298.257222101,ellipseName:p(248)},IAU76:{a:6378140,rf:298.257,ellipseName:p(239)},airy:{a:6377563.396,b:6356256.91,ellipseName:p(226)},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:p(274)},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:p(268)},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:p(205)},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:p(222)},clrk66:{a:6378206.4,b:6356583.8,ellipseName:p(288)},clrk80:{a:6378249.145,rf:293.4663,ellipseName:p(280)},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:p(207)},CPM:{a:6375738.7,rf:334.29,ellipseName:p(267)},delmbr:{a:6376428,rf:311.5,ellipseName:p(251)},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:p(228)},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:p(246)},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:p(230)},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:p(258)},hough:{a:6378270,rf:297,ellipseName:p(244)},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:p(235)},lerch:{a:6378139,rf:298.257,ellipseName:p(219)},mprts:{a:6397300,rf:191,ellipseName:p(249)},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:p(202)},krass:{a:6378245,rf:298.3,ellipseName:p(229)},SEasia:{a:6378155,b:6356773.3205,ellipseName:p(220)},walbeck:{a:6376896,b:6355834.8467,ellipseName:p(270)},WGS60:{a:6378165,rf:298.3,ellipseName:p(262)},WGS66:{a:6378145,rf:298.25,ellipseName:p(277)},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:p(271)},sphere:{a:6370997,b:6370997,ellipseName:p(281)}};class Datum{constructor(t,e,r,i,n,s){const o=p;void 0===t||"none"===t?this.datum_type=Constants.PROJ_PJD_NODATUM:this[o(234)]=Constants.PROJ_PJD_WGS84,e&&(this[o(279)]=e.map(parseFloat),(0!==this[o(279)][0]||0!==this.datum_params[1]||0!==this[o(279)][2])&&(this.datum_type=Constants.PROJ_PJD_3PARAM),this.datum_params[o(209)]>3&&(0!==this[o(279)][3]||0!==this.datum_params[4]||0!==this.datum_params[5]||0!==this.datum_params[6])&&(this[o(234)]=Constants[o(287)],this.datum_params[3]*=Constants[o(232)],this[o(279)][4]*=Constants[o(232)],this[o(279)][5]*=Constants[o(232)],this[o(279)][6]=this.datum_params[6]/1e6+1)),this.a=r,this.b=i,this.es=n,this.ep2=s}}function b$1k(t,e){return a$1k[t-=195]}class Ellipse{constructor(t,e,r,i,n){const s=p;if(!t){let n=ProjMath[s(269)](ellipses,i);!n&&(n=ellipses.WGS84),t=n.a,e=n.b,r=n.rf}r&&!e&&(e=(1-1/r)*t),(0===r||Math[s(241)](t-e)<Constants[s(283)])&&(n=!0,e=t),this.a=t,this.b=e,this.rf=r,this[s(227)]=n}[p(224)](t,e,r,i){const n=p;t=t||this.a,e=e||this.b,r=r||this.rf;let s=t*t;const o=e*e;let a=(s-o)/s,h=0;return i?(s=(t*=1-a*(Constants[n(259)]+a*(Constants[n(256)]+a*Constants[n(225)])))*t,a=0):h=Math[n(217)](a),{es:a,e:h,ep2:(s-o)/o}}}let datums={};datums[p(231)]={towgs84:p(213),ellipse:"WGS84",datumName:p(282)},datums.ch1903={towgs84:p(236),ellipse:p(221),datumName:"swiss"},datums[p(252)]={towgs84:"-199.87,74.79,246.62",ellipse:p(200),datumName:"Greek_Geodetic_Reference_System_1987"},datums.nad83={towgs84:"0,0,0",ellipse:p(200),datumName:p(210)},datums[p(289)]={nadgrids:p(243),ellipse:p(278),datumName:"North_American_Datum_1927"},datums[p(201)]={towgs84:p(196),ellipse:p(221),datumName:"Potsdam Rauenberg 1950 DHDN"},datums[p(257)]={towgs84:"-263.0,6.0,431.0",ellipse:p(260),datumName:"Carthage 1934 Tunisia"},datums[p(199)]={towgs84:p(255),ellipse:p(221),datumName:p(285)},datums[p(245)]={towgs84:p(195),ellipse:p(238),datumName:p(250)},datums.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:p(218)},datums[p(197)]={towgs84:p(206),ellipse:"intl",datumName:p(273)},datums[p(204)]={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:p(266)},datums[p(212)]={towgs84:p(253),ellipse:p(238),datumName:p(226)},datums[p(261)]={towgs84:p(290),ellipse:p(221),datumName:p(284)},datums[p(247)]={towgs84:p(240),ellipse:p(223),datumName:p(198)},datums.gunung_segara={towgs84:p(286),ellipse:p(221),datumName:p(216)},datums[p(264)]={towgs84:p(263),ellipse:"intl",datumName:p(203)},datums[p(265)]={towgs84:"-79.012056,104.541645,19.399969,-0.000001,0.319096,-0.081277,0.319405",ellipse:"krass",datumName:p(265)};const a$1j=["checkParams","atan","geocentricToGeodetic","PROJ_PJD_7PARAM","838jOnqQX","PROJ_HALF_PI","118AnlcEZ","PROJ_PJD_3PARAM","146841kMpgWB","7850qwakmi","atan2","PROJ_PJD_NODATUM","datum_params","geocentricToWgs84","93618SeUzqh","31UwnrGm","abs","geocentricFromWgs84","geodeticToGeocentric","4898AIUanG","310267JJYJYv","datum_transform","sin","29ARANFd","compareDatums","datum_type","sqrt","168913APHEPY","cos"],F$1=b$1j;!function(t,e){const r=b$1j;for(;;)try{if(122177===parseInt(r(483))*parseInt(r(481))+-parseInt(r(457))*parseInt(r(471))+parseInt(r(462))+parseInt(r(475))+-parseInt(r(463))*-parseInt(r(467))+parseInt(r(485))+-parseInt(r(468)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1j);class DatumUtil{static[F$1(472)](t,e){const r=F$1;return t.datum_type===e[r(473)]&&(!(t.a!==e.a||Math[r(464)](t.es-e.es)>5e-11)&&(t.datum_type===Constants[r(484)]?t.datum_params[0]===e[r(460)][0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t[r(473)]!==Constants[r(480)]||t[r(460)][0]===e[r(460)][0]&&t[r(460)][1]===e[r(460)][1]&&t[r(460)][2]===e[r(460)][2]&&t[r(460)][3]===e[r(460)][3]&&t[r(460)][4]===e[r(460)][4]&&t[r(460)][5]===e[r(460)][5]&&t[r(460)][6]===e[r(460)][6]))}static[F$1(466)](t,e,r){const i=F$1;let n,s,o,a,h=t.x,l=t.y,c=t.z?t.z:0;if(l<-Constants[i(482)]&&l>-1.001*Constants.PROJ_HALF_PI)l=-Constants[i(482)];else if(l>Constants[i(482)]&&l<1.001*Constants[i(482)])l=Constants[i(482)];else{if(l<-Constants.PROJ_HALF_PI)return{x:-1/0,y:-1/0,z:t.z};if(l>Constants.PROJ_HALF_PI)return{x:1/0,y:1/0,z:t.z}}return h>Math.PI&&(h-=2*Math.PI),s=Math[i(470)](l),a=Math[i(476)](l),o=s*s,n=r/Math[i(474)](1-e*o),{x:(n+c)*a*Math[i(476)](h),y:(n+c)*a*Math[i(470)](h),z:(n*(1-e)+c)*s}}static[F$1(479)](t,e,r,i){const n=F$1,s=1e-12;let o,a,h,l,c,u,p,f,g,d,_,y,m,I,x,v,b=t.x,w=t.y,T=t.z?t.z:0;if(o=Math[n(474)](b*b+w*w),a=Math[n(474)](b*b+w*w+T*T),o/r<s){if(I=0,a/r<s)return x=Constants.PROJ_HALF_PI,v=-i,{x:t.x,y:t.y,z:t.z}}else I=Math[n(458)](w,b);h=T/a,l=o/a,c=1/Math[n(474)](1-e*(2-e)*l*l),f=l*(1-e)*c,g=h*c,m=0;do{m++,p=r/Math[n(474)](1-e*g*g),v=o*f+T*g-p*(1-e*g*g),u=e*p/(p+v),c=1/Math.sqrt(1-u*(2-u)*l*l),d=l*(1-u)*c,_=h*c,y=_*f-d*g,f=d,g=_}while(y*y>1e-24&&m<30);return x=Math[n(478)](_/Math[n(464)](d)),{x:I,y:x,z:v}}static[F$1(461)](t,e,r){const i=F$1;if(e===Constants.PROJ_PJD_3PARAM)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===Constants[i(480)]){const e=r[0],i=r[1],n=r[2],s=r[3],o=r[4],a=r[5],h=r[6];return{x:h*(t.x-a*t.y+o*t.z)+e,y:h*(a*t.x+t.y-s*t.z)+i,z:h*(-o*t.x+s*t.y+t.z)+n}}}static[F$1(465)](t,e,r){const i=F$1;if(e===Constants[i(484)])return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===Constants[i(480)]){const e=r[0],i=r[1],n=r[2],s=r[3],o=r[4],a=r[5],h=r[6],l=(t.x-e)/h,c=(t.y-i)/h,u=(t.z-n)/h;return{x:l+a*c-o*u,y:-a*l+c+s*u,z:o*l-s*c+u}}}static checkParams(t){const e=F$1;return t===Constants[e(484)]||t===Constants[e(480)]}static[F$1(469)](t,e,r){const i=F$1;return this[i(472)](t,e)||t.datum_type===Constants[i(459)]||e[i(473)]===Constants[i(459)]?r:t.es!==e.es||t.a!==e.a||this.checkParams(t[i(473)])||this.checkParams(e.datum_type)?(r=this[i(466)](r,t.es,t.a),this[i(477)](t[i(473)])&&(r=this[i(461)](r,t[i(473)],t[i(460)])),this[i(477)](e[i(473)])&&(r=this[i(465)](r,e[i(473)],e[i(460)])),this[i(479)](r,e.es,e.a,e.b)):r}}function b$1j(t,e){return a$1j[t-=457]}const a$1i=["getWorldExtent","datumCode","getExtent","long0","ellipse","EPSG:","+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=19500000 +y_0=0 +ellps=krass +towgs84=-17.51,-108.32,-62.39,0,0,0,0 +units=m +no_defs","sphere","+proj=geocent +ellps=GRS80 +units=m +no_defs","_toGeodetic","_name","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs","axis","filter","+proj=utm +zone=38 +ellps=intl +units=m +no_defs","longc","fromString","1462fxlBaE","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees","to_meter","getOrdinate","25154fuPWiy","PROJ_units","toLowerCase","1KGHogl","74612psNxqg","_extend","cos","string","towgs84","projName","EPSG:900913","vUnit","zone","_worldExtent","datum","R_A","alpha","datum_params","4GUdyoa","substr","geodeticToGeocentric","_inverse","extent","_toGeocentric","name","wgs84","9tlnwCd","getSemiMinorAxis","GeoCRS","vunits","forward","ProjCRS","from_greenwich","+proj=longlat +ellps=krass +datum=Beijing54 +no_defs","toGeocentric","length","match","getRadius","PROJ_D2R","ep2","indexOf","longlat","reduce","lat2","1KUboln","map","geocent","21075SxxZCA","14tOlDyr","getSrid","getSemiMajorAxis","setOrdinate","39175UyIYDU","286jrucTX","utmSouth","inverse","_units","_metersPerUnit","nadgrids","EPSG:4490","lat0","EPSG:3857","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees","worldExtent","getName","41460QcMTAn","enu","PROJ_R2D","_initDatum","837869QrNyai","none","_extent","_crsType","split","EPSG:4326","getCrsType","GeoCentCRS","getFlattening","lat1","_forward","trim","degrees","getUnit","PROJ_SPI","the param srid must be supplied!","WGS84","init","lat_ts","_srid","@null","ellps","long2","datumName","units","getMetersPerUnit","getMeterPerDegree"],u$2=b$1i;function b$1i(t,e){return a$1i[t-=494]}!function(t,e){const r=b$1i;for(;;)try{if(344270===-parseInt(r(527))*parseInt(r(526))+-parseInt(r(549))*-parseInt(r(575))+parseInt(r(519))*parseInt(r(576))+parseInt(r(523))+-parseInt(r(570))*-parseInt(r(571))+-parseInt(r(588))*-parseInt(r(541))+-parseInt(r(567))*parseInt(r(592)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1i);let defs={"EPSG:4326":u$2(585),"EPSG:4479":u$2(510),"EPSG:4269":u$2(520),"EPSG:3857":u$2(513),"EPSG:4214":u$2(556),"EPSG:2045":u$2(508),"EPSG:2058":u$2(516)};defs[u$2(533)]=defs[u$2(584)],defs[u$2(582)]=defs[u$2(597)];let Projs={merc:new Merc,tmerc:new Tmerc};class Crs{constructor(t,e={}){const r=u$2;if(!t)throw new Error(r(607));let i=r(507)+t;defs[i]&&(e=defs[i]),"string"==typeof e&&(e=Crs[r(518)](e)),this._srid=t,this[r(512)]=e[r(547)]||r(608),this[r(579)]=e[r(499)]||"degrees",this._initDatum(e),this[r(528)](this,e),this.k0=e.k0||0,this[r(514)]=e[r(514)]||r(589),this[r(580)]=e.to_meter?e.to_meter:111e3,this.vUnit=e[r(552)]?e[r(552)]:"m";let n=e[r(532)]||r(564);switch(n){case r(564):this[r(595)]=r(551),this[r(536)]=new Extent(-180,-90,180,90);break;case r(569):this._crsType=r(599),this[r(536)]=new Extent(-12756274,-12756274,12756274,12756274),this[r(579)]="m";break;default:this[r(595)]=r(554),this[r(536)]=new Extent(-20037508.342789,-20037508.342789,20037508.342789,20037508.342789),this[r(579)]===r(604)&&(this[r(579)]="m")}e[r(586)]&&(this._worldExtent=e[r(586)]),this._extent=e[r(545)]||this[r(536)],n=e[r(532)],Projs[n]&&(this[r(609)]=Projs[n][r(609)],this.forward=Projs[n][r(553)],this[r(578)]=Projs[n].inverse,this[r(602)]=Projs[n][r(602)],this[r(544)]=Projs[n][r(544)]),this[r(609)]()}[u$2(609)](){}[u$2(553)](t){return t}inverse(t){return t}toGeodetic(t){const e=u$2;if(this._crsType===e(599)){let r={x:t[e(522)]("X"),y:t[e(522)]("Y"),z:t[e(522)]("Z")};r=DatumUtil.geocentricToGeodetic(r,this.es,this.a,this.b),t[e(574)]("X",r.x*Constants.PROJ_R2D),t.setOrdinate("Y",r.y*Constants[e(590)]),t[e(574)]("Z",r.z)}return t}[u$2(511)](t){return t=DatumUtil.geocentricToGeodetic(t,this.es,this.a,this.b)}[u$2(546)](t){return t=DatumUtil[u$2(543)](t,this.es,this.a)}[u$2(557)](t){const e=u$2;if("GeoCRS"===this[e(595)]){let r={x:t[e(522)]("X")*Constants[e(561)],y:t[e(522)]("Y")*Constants[e(561)],z:t[e(522)]("Z")};r=DatumUtil[e(543)](r,this.es,this.a),t[e(574)]("X",r.x),t[e(574)]("Y",r.y),t[e(574)]("Z",r.z)}return t}[u$2(591)](t){const e=u$2;if(t[e(503)]&&t[e(503)]!==e(593)){let r=ProjMath[e(559)](datums,t.datumCode);r&&(t[e(540)]=r[e(531)]?r[e(531)][e(596)](","):null,t[e(496)]=r[e(506)],t.datumName=r[e(498)]?r[e(498)]:t.datumCode)}this[e(496)]=t.ellps||e(548);let r=new Ellipse(t.a,t.b,t.rf,t.ellps,t[e(509)]);this.a=r.a,this.b=r.b,this.rf=r.rf,this[e(509)]=r.sphere;let i=r.eccentricity(null,null,null,t[e(538)]);this.es=i.es,this.e=i.e,this[e(562)]=i.ep2,this[e(537)]=t[e(537)]||new Datum(t[e(503)],t[e(540)],r.a,r.b,i.es,i[e(562)]),this[e(503)]=t[e(503)]||e(593)}[u$2(605)](){return this[u$2(579)]}[u$2(572)](){return this[u$2(494)]+""}[u$2(587)](){return this._name}[u$2(504)](){return this[u$2(594)]}[u$2(598)](){return this[u$2(595)]}[u$2(560)](){return this._radius||(2*this.a+this.b)/3}getEllipseHeightUnit(){return this[u$2(534)]}[u$2(573)](){return this.a}[u$2(550)](){return this.b?this.b:this.rf?this.a*(1-1/this.rf):void 0}[u$2(600)](t,e){return this.rf?1/this.rf:(t-e)/t}[u$2(500)](){return this[u$2(580)]}[u$2(502)](){return this[u$2(536)]}static[u$2(518)](t){const e=u$2;let r={};const i=t[e(596)]("+")[e(568)]((function(t){return t[e(603)]()}))[e(515)]((function(t){return t}))[e(565)]((function(t,r){const i=e;let n=r[i(596)]("=");return n.push(!0),t[n[0][i(525)]()]=n[1],t}),{});let n,s,o,a={proj:e(532),datum:e(503),rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){const i=e;r[i(583)]=t*Constants[i(561)]},lat_1:function(t){r[e(601)]=t*Constants.PROJ_D2R},lat_2:function(t){const i=e;r[i(566)]=t*Constants[i(561)]},lat_ts:function(t){r[e(610)]=t*Constants.PROJ_D2R},lon_0:function(t){const i=e;r[i(505)]=t*Constants[i(561)]},lon_1:function(t){const i=e;r.long1=t*Constants[i(561)]},lon_2:function(t){r[e(497)]=t*Constants.PROJ_D2R},alpha:function(t){const i=e;r[i(539)]=parseFloat(t)*Constants[i(561)]},lonc:function(t){r[e(517)]=t*Constants.PROJ_D2R},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r[e(538)]=!0},zone:function(t){r[e(535)]=parseInt(t,10)},south:function(){r[e(577)]=!0},towgs84:function(t){const i=e;r[i(540)]=t.split(",")[i(568)]((function(t){return parseFloat(t)}))},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){const i=e;r[i(499)]=t;let n=ProjMath[i(559)](Constants[i(524)],t);n&&(r[i(521)]=n[i(521)])},from_greenwich:function(t){const i=e;r[i(555)]=t*Constants[i(561)]},pm:function(t){const i=e;let n=ProjMath.match(Constants.PROJ_PrimeMeridian,t);r[i(555)]=(n||parseFloat(t))*Constants.PROJ_D2R},nadgrids:function(t){const i=e;t===i(495)?r[i(503)]=i(593):r[i(581)]=t},axis:function(t){const i=e;let n="ewnsud";3===t[i(558)]&&-1!==n[i(563)](t[i(542)](0,1))&&-1!==n.indexOf(t[i(542)](1,1))&&-1!==n[i(563)](t[i(542)](2,1))&&(r[i(514)]=t)}};for(n in i)s=i[n],n in a?(o=a[n],"function"==typeof o?o(s):r[o]=s):r[n]=s;return typeof r[e(503)]===e(530)&&"WGS84"!==r[e(503)]&&(r[e(503)]=r.datumCode[e(525)]()),r}[u$2(528)](t,e){let r,i;if(t=t||{},!e)return t;for(i in e)r=e[i],void 0!==r&&(t[i]=r);return t}getMeterPerDegree(t=0){const e=u$2,r=Math[e(529)](t*Constants[e(606)]/180)*this[e(560)]();return Math.abs(Constants[e(606)]*r/180)}getDegreePerMeter(t){return 1/this[u$2(501)](t)}}const a$1h=["enu","EPSG","delta","number","isInChinaBbox","_inverse","datum","getCrsType","_pointToCoord","WGS84ToGCJ02","742501upQPBl","sqrt","_coordToPoint","isEmptyObject","get","PROJ_SPI","to_meter","3857","getSrid","remove","394447CltVug"," is not in Transformer.CrsList,please add first.","from_greenwich","transformLon","toFixed","getRight","coord latitude and longtitude exceed the range of source coordinate system!","4399SIwHVu","string","PROJ_D2R","CrsList","_extent","the srid should be string or number.","adjust_axis","_toGeodetic","1SUgTub","getOrdinate","1SPrkOR","getTop","sin","axis","GCJ02ToWGS84","PROJ_R2D","340043bHXQBX","abs","3ndBVFB","getBottom","_toGeocentric","GeoCentCRS","datum_transform","256397HHAgTW","getLeft","ProjCRS","20161IkLpOW","4326","setOrdinate","157dReTAa","927194yBEYqq","1VNDeBc"],s=b$1h;function b$1h(t,e){return a$1h[t-=268]}!function(t,e){const r=b$1h;for(;;)try{if(756268===-parseInt(r(311))*parseInt(r(274))+parseInt(r(313))*parseInt(r(326))+parseInt(r(296))+parseInt(r(286))+-parseInt(r(273))*-parseInt(r(303))+-parseInt(r(321))*parseInt(r(270))+-parseInt(r(319))*parseInt(r(275)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1h);class Transformer{static transform(t,e,r){const i=b$1h;let n=this[i(288)](t),s=e,o=r;if(("number"==typeof e||typeof e===i(304))&&(s=this[i(306)]["EPSG"+e],void 0===s))throw new Error(e+i(297));const a=s[i(307)];if(n.x<a[i(268)]()||n.x>a[i(301)]()||n.y<a[i(322)]()||n.y>a[i(314)]())throw new Error(i(302));if((typeof r===i(279)||"string"==typeof r)&&(o=this[i(306)][i(277)+r],void 0===o))throw new Error(r+" is not in Transformer.CrsList,please add first.");s[i(316)]!==i(276)&&(n=this[i(309)](s,!1,n));const h=s.getCrsType();"GeoCRS"===h?n={x:n.x*Constants[i(305)],y:n.y*Constants.PROJ_D2R,z:n.z}:h===i(269)?(s[i(292)]&&(n={x:n.x*s[i(292)],y:n.y*s[i(292)],z:n.z}),n=s[i(281)](n)):h===i(324)&&(n=s[i(310)](n)),s[i(298)]&&(n.x+=e[i(298)]),n=DatumUtil[i(325)](s.datum,o[i(282)],n),o[i(298)]&&(n={x:n.x-o[i(298)],y:n.y});const l=o[i(283)]();return"GeoCRS"===l?n={x:n.x*Constants[i(318)],y:n.y*Constants.PROJ_R2D}:l===i(269)?(n=o._forward(n),o[i(292)]&&(n={x:n.x/o.to_meter,y:n.y/o[i(292)]})):l===i(324)&&(n=o[i(323)](n)),o[i(316)]!==i(276)?this[i(309)](r,!0,n):(t[i(272)]("X",1*n.x[i(300)](12)),t[i(272)]("Y",1*n.y[i(300)](12)),n.z&&t[i(272)]("Z",1*n.z.toFixed(12)),t)}static[s(317)](t){const e=s,[r,i]=t;if(!this[e(280)](r,i))return[r,i];let[n,o]=[r,i],a=this[e(285)]([n,o]),h=a[0]-r,l=a[1]-i;for(;Math[e(320)](h)>1e-6||Math[e(320)](l)>1e-6;)n-=h,o-=l,a=this[e(285)]([n,o]),h=a[0]-r,l=a[1]-i;return[n,o]}static[s(285)](t){const e=s,[r,i]=t;if(!this[e(280)](r,i))return[r,i];const n=this[e(278)](r,i);return[r+n[0],i+n[1]]}static transformLat(t,e){const r=s;let i=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math[r(287)](Math[r(320)](t));return i+=2*(20*Math[r(315)](6*t*Constants[r(291)])+20*Math[r(315)](2*t*Constants[r(291)]))/3,i+=2*(20*Math.sin(e*Constants[r(291)])+40*Math[r(315)](e/3*Constants[r(291)]))/3,i+=2*(160*Math[r(315)](e/12*Constants[r(291)])+320*Math[r(315)](e*Constants.PROJ_SPI/30))/3,i}static[s(299)](t,e){const r=s;let i=300+t+2*e+.1*t*t+.1*t*e+.1*Math[r(287)](Math[r(320)](t));return i+=2*(20*Math[r(315)](6*t*Constants[r(291)])+20*Math[r(315)](2*t*Constants[r(291)]))/3,i+=2*(20*Math[r(315)](t*Constants.PROJ_SPI)+40*Math[r(315)](t/3*Constants[r(291)]))/3,i+=2*(150*Math.sin(t/12*Constants[r(291)])+300*Math.sin(t/30*Constants[r(291)]))/3,i}static[s(278)](t,e){const r=s;let i=this.transformLon(t-105,e-35),n=this.transformLat(t-105,e-35);const o=e/180*Constants[r(291)];let a=Math[r(315)](o);a=1-Constants.ee*a*a;const h=Math[r(287)](a);return i=180*i/(Constants.R/h*Math.cos(o)*Constants[r(291)]),n=180*n/(Constants.R*(1-Constants.ee)/(a*h)*Constants[r(291)]),[i,n]}static isInChinaBbox(t,e){return t>=72.004&&t<=137.8347&&e>=.8293&&e<=55.8271}static add(t){const e=s;("string"==typeof t||typeof t===e(279))&&(t=new Crs(t));const r=t[e(294)]();return this[e(306)][e(277)+r]=t,this}static[s(290)](t){const e=s;if(typeof t===e(304)||typeof t===e(279)){const r=e(277)+t;return this.CrsList[r]}throw new TypeError("the srid should be string or number.")}static[s(295)](t){const e=s;if(typeof t===e(304)||typeof t===e(279)){const r="EPSG"+t;return this.CrsList[r]?(delete this[e(306)][r],1):0}throw new TypeError(e(308))}static[s(289)](t){let e;for(e in t)return!1;return!0}static[s(309)](t,e,r){const i=s;let n,o,a,h=r.x,l=r.y,c=r.z||0,u={};for(a=0;a<3;a++)if(!e||2!==a||void 0!==r.z)switch(0===a?(n=h,o="x"):1===a?(n=l,o="y"):(n=c,o="z"),t[i(316)][a]){case"e":u[o]=n;break;case"w":u[o]=-n;break;case"n":u[o]=n;break;case"s":u[o]=-n;break;case"u":void 0!==r[o]&&(u.z=n);break;case"d":void 0!==r[o]&&(u.z=-n);break;default:return null}return u}static[s(284)](t){return new Coordinate(t.x,t.y,t.z)}static[s(288)](t){const e=s;return{x:t[e(312)]("X"),y:t[e(312)]("Y"),z:t[e(312)]("Z")}}}Transformer[s(306)]={EPSG4326:new Crs(s(271)),EPSG4490:new Crs(s(271)),EPSG3857:new Crs(s(293)),EPSG900913:new Crs(s(293))};const a$1g=["6143MLgcLd","random","xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx","13208XlyeAQ","4018qRfqpf","2daSazk","replace","toString","29GtPeom","3tyZqoM","84969ILvgBB","197559OnseSt","createUnique","136919mcPbnr","122477SNMWsl"];function b$1g(t,e){return a$1g[t-=326]}const h$3=b$1g;!function(t,e){const r=b$1g;for(;;)try{if(138858===parseInt(r(339))+-parseInt(r(328))+parseInt(r(334))*-parseInt(r(340))+-parseInt(r(335))*parseInt(r(330))+-parseInt(r(329))*parseInt(r(333))+parseInt(r(336))+parseInt(r(338)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1g);class Aid{static[h$3(337)](t){const e=h$3;return t+"-"+e(327)[e(331)](/[xy]/g,(function(t){const r=e,i=16*Math[r(326)]()|0;return("x"===t?i:3&i|8)[r(332)](16)}))}}const a$1f=["key","filter","_instance","simpleTask","_heavyTaskFag","fun","doTask","call","addSimple","runSimple","scope","_simpleTaskFag","delete","instance","splice","runHeavy","421609TdZnry","1PplaXl","5787mXedgW","407442VXNphw","has","280899NGOVGb","param","33OHZXJS","length","addFilterTask","467311vPTcWu","141WzaPDt","hasSimpleTask","heavyTask","59692qvZQUG","_simpleTask","2349dMPonD","add"],i$3=b$1f;function b$1f(t,e){return a$1f[t-=303]}!function(t,e){const r=b$1f;for(;;)try{if(299889===parseInt(r(333))+parseInt(r(329))+parseInt(r(319))*parseInt(r(320))+-parseInt(r(322))+parseInt(r(326))*-parseInt(r(321))+parseInt(r(324))+-parseInt(r(330))*parseInt(r(335)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1f);class TaskManager$1{constructor(){const t=b$1f;this[t(334)]=[],this._heavyTask=[],this[t(314)]=new Set,this[t(307)]=new Set}get[i$3(306)](){return this[i$3(334)]}get[i$3(332)](){return this._heavyTask}static[i$3(316)](){const t=i$3;return!this[t(305)]&&(this._instance=new TaskManager$1),this[t(305)]}[i$3(331)](){return this.simpleTask.length>0}hasHeavyTask(){const t=i$3;return this[t(332)][t(327)]>0}[i$3(311)](t,e,r){const i=i$3,n=t.id+r.id;return!this[i(314)][i(323)](n)&&(this[i(306)][this.simpleTask[i(327)]]={scope:t,fun:e,param:r,key:n},this[i(314)][i(336)](n)),this}[i$3(328)](t,e,r){const i=i$3,n=t.id+r.id;return this[i(314)][i(323)](n)?(this[i(304)].param=r,this.filter[i(325)].doTask=1):(this[i(304)]={scope:t,fun:e,param:r,key:n},this[i(304)][i(325)].doTask=1,this[i(306)][this[i(306)][i(327)]]=this[i(304)],this[i(314)][i(336)](n)),this}addHeavy(t,e,r){const i=i$3;return this.heavyTask[this[i(332)].length]={scope:t,fun:e,param:r},this}[i$3(312)](){const t=i$3;if(!this[t(331)]())return!1;for(let e=this[t(306)].length-1;e>=0;e--){let r=this.simpleTask[e];return r[t(325)][t(309)]&&r[t(308)][t(310)](r[t(313)],r[t(325)]),this[t(306)][t(317)](e,1),this[t(314)][t(315)](r[t(303)]),r=null,!0}}[i$3(318)](){const t=i$3;if(!this.hasHeavyTask())return!1;for(let e=this[t(332)][t(327)]-1;e>=0;e--){let r=this.heavyTask[e];return r[t(308)].call(r[t(313)],r.param),this[t(332)][t(317)](e,1),r=null,!0}}}const a$1e=["53755GkdZRi","102SBbOsJ","sqrt","277DOMuAJ","291338VJnZAz","1045AVgweN","407543vATaHI","153992qpYkUA","toString","5BvphLP","equals","the params must be numbers!","the parameter pixel must be instance of Pixel! ","distanceTo","the tolerance must be a positive number!","isFinite","76873aPWTrx","pow","getY","197FoqOws"],j$2=b$1e;function b$1e(t,e){return a$1e[t-=220]}!function(t,e){const r=b$1e;for(;;)try{if(158668===-parseInt(r(232))*parseInt(r(221))+-parseInt(r(237))*-parseInt(r(231))-parseInt(r(236))+-parseInt(r(233))*-parseInt(r(235))-parseInt(r(228))+parseInt(r(239))+parseInt(r(238)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1e);class Pixel{constructor(t,e){const r=b$1e;if(!Number[r(227)](t)||!Number.isFinite(e))throw new Error(r(223));this._x=t,this._y=e}clone(){return new Pixel(this._x,this._y)}[j$2(225)](t){const e=j$2;if(!(t instanceof Pixel))throw new Error(e(224));return Math[e(234)](Math.pow(this._x-t._x,2)+Math[e(229)](this._y-t._y,2))}[j$2(222)](t,e=0){const r=j$2,i=t instanceof Pixel&&Number[r(227)](e);if(e<0)throw new Error(r(226));let n=Math[r(234)](Math.pow(t._x-this._x,2)+Math.pow(t._y-this._y,2));return!!i&&n<=e}getX(){return this._x}[j$2(230)](){return this._y}[j$2(220)](){return this._x+","+this._y}}const a$1d=["angle","s must be a Number!","1364542qIybHV","divideScalar","isNaN","sqrt","164693zrJIyE","798697TTWnfD","830769kurAcJ","ARRAY_TYPE","cross","650317YrKOKf","equals","1iezIFJ","length","vec must be instance of Vector3!","731780hDJRSv","_elements","index must be an integer number more than 0 and less than 3!","normalize","fromArray","index must be an integer more than 0 and less than 3!","applyMatrix3","clone","5JhbBic","set","applyMatrix4","divide","rotateAngle","setElement","isFinite","1kqrLoi","every component of vector must be a number!","add","15668cmvLtu","getElement","getElements","multiply","dot","negate","isInteger"];function b$1d(t,e){return a$1d[t-=326]}const n$3=b$1d;!function(t,e){const r=b$1d;for(;;)try{if(443210===parseInt(r(352))*parseInt(r(335))+parseInt(r(328))*-parseInt(r(351))-parseInt(r(361))+parseInt(r(338))+parseInt(r(356))*parseInt(r(358))+-parseInt(r(353))+parseInt(r(347)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1d);class Vector3{constructor(t=0,e=0,r=0,i=Float32Array){const n=b$1d;if(this[n(354)]=i,!Number[n(334)](t)||!Number[n(334)](e)||!Number[n(334)](r))throw n(336);this._elements=new(this[n(354)])(3),this[n(362)][0]=t,this._elements[1]=e,this[n(362)][2]=r}[n$3(329)](t,e,r){const i=n$3;if(Number[i(349)](t)||Number.isNaN(e)||Number[i(349)](r))throw i(336);return this[i(362)][0]=t,this._elements[1]=e,this._elements[2]=r,this}[n$3(365)](t,e){const r=n$3;return void 0===e&&(e=0),this._elements[0]=t[e],this[r(362)][1]=t[e+1],this._elements[2]=t[e+2],this}getElements(){return this._elements}[n$3(339)](t){const e=n$3;if(t<0||t>2||!Number[e(344)](t))throw e(366);return this._elements[t]}[n$3(337)](t){const e=n$3;if(!(t instanceof Vector3))throw"vec must be instance of Vector3!";let r=t[e(340)](),i=this[e(340)]();return i[0]=this[e(362)][0]+r[0],i[1]=this._elements[1]+r[1],i[2]=this._elements[2]+r[2],this}substract(t){const e=n$3;if(!(t instanceof Vector3))throw e(360);let r=t.getElements(),i=this[e(340)]();return i[0]=this[e(362)][0]-r[0],i[1]=this[e(362)][1]-r[1],i[2]=this._elements[2]-r[2],this}[n$3(341)](t){const e=n$3;if(!(t instanceof Vector3))throw"vec must be instance of Vector3!";let r=t[e(340)](),i=this.getElements();return i[0]=this._elements[0]*r[0],i[1]=this[e(362)][1]*r[1],i[2]=this[e(362)][2]*r[2],this}[n$3(331)](t){const e=n$3;if(!(t instanceof Vector3))throw"vec must be instance of Vector3!";let r=t.getElements();for(let t in r)if(0===t)throw"all elements in dividend must be lager than 0!";let i=this.getElements();return i[0]=this._elements[0]/r[0],i[1]=this[e(362)][1]/r[1],i[2]=this[e(362)][2]/r[2],this}[n$3(342)](t){const e=n$3;if(!(t instanceof Vector3))throw"vec must be instance of Vector3!";const r=t[e(340)]();return this._elements[0]*r[0]+this._elements[1]*r[1]+this[e(362)][2]*r[2]}[n$3(355)](t){const e=n$3;if(!(t instanceof Vector3))throw e(360);let r=t[e(340)](),i=this._elements[0],n=this[e(362)][1],s=this._elements[2],o=r[0],a=r[1],h=r[2];return this._elements[0]=n*h-s*a,this._elements[1]=s*o-i*h,this._elements[2]=i*a-n*o,this}multiplyScalar(t){const e=n$3;if(Number[e(349)](t))throw e(346);let r=this.getElements();return r[0]*=t,r[1]*=t,r[2]*=t,this}[n$3(348)](t){const e=n$3;if(Number.isNaN(t)||0===t)throw"s must be a non-zero Number!";let r=this[e(362)];return r[0]/=t,r[1]/=t,r[2]/=t,this}[n$3(359)](){const t=n$3,e=this._elements;return Math[t(350)](e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}distanceTo(t){const e=n$3;if(!(t instanceof Vector3))throw e(360);let r=this[e(340)](),i=t[e(340)](),n=i[0]-r[0],s=i[1]-r[1],o=i[2]-r[2];return Math[e(350)](n*n+s*s+o*o)}[n$3(343)](){let t=this[n$3(362)];return t[0]=-t[0],t[1]=-t[1],t[2]=-t[2],this}[n$3(364)](){const t=n$3;let e=this[t(362)],r=e[0],i=e[1],n=e[2],s=Math[t(350)](r*r+i*i+n*n);return s>0?(e[0]=r/s,e[1]=i/s,e[2]=n/s):(e[0]=0,e[1]=0,e[2]=0),this}[n$3(345)](t){const e=n$3;return Math.acos(this[e(342)](t)/(this[e(359)]()*t[e(359)]()))}[n$3(326)](t){const e=n$3;let r=this._elements[0],i=this[e(362)][1],n=this[e(362)][2],s=t.getElements();return this[e(362)][0]=s[0]*r+s[3]*i+s[6]*n,this[e(362)][1]=s[1]*r+s[4]*i+s[7]*n,this._elements[2]=s[2]*r+s[5]*i+s[8]*n,this}[n$3(330)](t){const e=n$3;let r=this._elements[0],i=this[e(362)][1],n=this[e(362)][2],s=t[e(340)](),o=1/(s[3]*r+s[7]*i+s[11]*n+s[15]);return this._elements[0]=(s[0]*r+s[4]*i+s[8]*n+s[12])*o,this[e(362)][1]=(s[1]*r+s[5]*i+s[9]*n+s[13])*o,this._elements[2]=(s[2]*r+s[6]*i+s[10]*n+s[14])*o,this}[n$3(332)](t,e=new Vector3(0,0,1)){const r=n$3;let i=this[r(345)](t);return e.dot(this[r(327)]()[r(355)](t))<0&&(i=2*Math.PI-i),i}[n$3(357)](t){let e=this[n$3(340)](),r=t.getElements(),i=!0;for(let t in e)if(e[t]!==r[t]){i=!1;break}return i}[n$3(327)](){let t=this[n$3(362)];return new Vector3(t[0],t[1],t[2],this.ARRAY_TYPE)}[n$3(333)](t,e){const r=n$3;if(t<0||t>2||!Number[r(344)](t))throw r(363);return this[r(362)][t]=e,this}}const a$1c=["isInteger","359717FIqBAo","clone","distance","130859XSIuoY","dot","2QoZDCD","883wCqZNn","ARRAY_TYPE","sqrt","divide","1tTXTVV","356773FeMxWe","36059VdtOyc","add","set","getElement","getElements","s must be a Number!","equals","189717QVaFbQ","index must be an integer more than 0 and less than 4!","cross","normalize","572Rvwolk","isFinite","multiply","_elements","vec must be instance of Vector4!","multiplyScalar","negate","1iFuhJQ","every component of vector must be a number!","493904JMvTew","isNaN"],n$2=b$1c;function b$1c(t,e){return a$1c[t-=104]}!function(t,e){const r=b$1c;for(;;)try{if(298750===parseInt(r(120))*parseInt(r(134))+parseInt(r(115))+parseInt(r(127))+parseInt(r(118))*-parseInt(r(110))+parseInt(r(125))*-parseInt(r(126))+-parseInt(r(112))+parseInt(r(121))*parseInt(r(138)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1c);class Vector4{constructor(t=0,e=0,r=0,i=0,n=Float32Array){const s=b$1c;if(this[s(122)]=n,!(Number[s(104)](t)&&Number[s(104)](e)&&Number[s(104)](r)&&Number[s(104)](i)))throw s(111);this[s(106)]=new(this[s(122)])(4),this[s(106)][0]=t,this[s(106)][1]=e,this._elements[2]=r,this[s(106)][3]=i}[n$2(129)](t,e,r,i){const n=n$2;this[n(106)][0]=t,this[n(106)][1]=e,this[n(106)][2]=r,this._elements[3]=i}[n$2(131)](){return this[n$2(106)]}[n$2(130)](t){const e=n$2;if(t<0||t>3||!Number[e(114)](t))throw e(135);return this[e(106)][t]}[n$2(128)](t){const e=n$2;if(!(t instanceof Vector4))throw e(107);let r=t[e(131)](),i=this[e(131)]();return i[0]=this[e(106)][0]+r[0],i[1]=this[e(106)][1]+r[1],i[2]=this[e(106)][2]+r[2],i[3]=this[e(106)][3]+r[3],this}substract(t){const e=n$2;if(!(t instanceof Vector4))throw e(107);let r=t[e(131)](),i=this[e(131)]();return i[0]=this[e(106)][0]-r[0],i[1]=this[e(106)][1]-r[1],i[2]=this[e(106)][2]-r[2],i[3]=this[e(106)][3]-r[3],this}[n$2(105)](t){const e=n$2;if(!(t instanceof Vector4))throw e(107);let r=t.getElements(),i=this[e(131)]();return i[0]=this[e(106)][0]*r[0],i[1]=this[e(106)][1]*r[1],i[2]=this[e(106)][2]*r[2],i[3]=this[e(106)][3]*r[3],this}[n$2(124)](t){const e=n$2;if(!(t instanceof Vector4))throw e(107);let r=t[e(131)]();for(let t in r)if(0===t)throw"all elements in dividend must be lager than 0!";let i=this.getElements();return i[0]=this[e(106)][0]/r[0],i[1]=this._elements[1]/r[1],i[2]=this[e(106)][2]/r[2],i[3]=this[e(106)][3]/r[3],this}[n$2(119)](t){const e=n$2;if(!(t instanceof Vector4))throw e(107);let r=t[e(131)]();return this[e(106)][0]*r[0]+this[e(106)][1]*r[1]+this[e(106)][2]*r[2]+this._elements[3]*r[3]}[n$2(136)](t){const e=n$2;if(!(t instanceof Vector4))throw"vec must be instance of Vector4!";let r=t[e(131)](),i=this[e(106)][0],n=this._elements[1],s=this[e(106)][2],o=r[0],a=r[1],h=r[2];return this._elements[0]=n*h-s*a,this[e(106)][1]=s*o-i*h,this._elements[2]=i*a-n*o,this}[n$2(108)](t){const e=n$2;if(Number[e(113)](t))throw e(132);let r=this[e(131)]();return r[0]*=t,r[1]*=t,r[2]*=t,r[3]*=t,this}divideScalar(t){const e=n$2;if(Number.isNaN(t)||0===t)throw"s must be a Number!";let r=this[e(131)]();return r[0]/=t,r[1]/=t,r[2]/=t,r[3]/=t,this}length(){let t=this[n$2(131)]();return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]+t[3]*t[3])}[n$2(117)](t){const e=n$2;if(!(t instanceof Vector4))throw e(107);let r=this.getElements(),i=t[e(131)](),n=i[0]-r[0],s=i[1]-r[1],o=i[2]-r[2],a=i[3]-r[3];return Math[e(123)](n*n+s*s+o*o+a*a)}[n$2(109)](){let t=this[n$2(131)]();return t[0]=-t[0],t[1]=-t[1],t[2]=-t[2],t[3]=-t[3],this}[n$2(137)](){const t=n$2;let e=this.getElements(),r=e[0],i=e[1],n=e[2],s=e[3],o=Math[t(123)](r*r+i*i+n*n+s*s);if(o>0)return e[0]=r/o,e[1]=i/o,e[2]=n/o,e[3]=s/o,this;throw"the length of vector must be lager than 0!"}[n$2(133)](t){const e=n$2;let r=this[e(131)](),i=t[e(131)](),n=!0;for(let t in r)r[t]!==i[t]&&(n=!1);return n}[n$2(116)](){let t=this[n$2(131)]();return new Vector4(t[0],t[1],t[2],t[3])}}const a$1b=["getElements","XYZ","4327RRIgdv","toArray","getX","setX","sqrt","298956ZmbMrq","warn","YZX","set","setY","elements","max","asin","setFromVector3","178313lZqJRz","atan2","_order","setFromRotationMatrix","216994adFJPz","313132qvCGRN","getY","XZY","YXZ","getOrder","clone","setOrder","ZXY","314686ZElJSG","ZYX","getW","getZ","fromArray","abs","setZ","54414pZhxDZ","29FFxJVs","min"];function b$1b(t,e){return a$1b[t-=264]}const v$1=b$1b;!function(t,e){const r=b$1b;for(;;)try{if(159294===-parseInt(r(282))*parseInt(r(286))-parseInt(r(281))-parseInt(r(266))+parseInt(r(274))+parseInt(r(265))+-parseInt(r(300))+parseInt(r(291)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1b);class Euler{constructor(t,e,r,i){const n=b$1b;this._x=t||0,this._y=e||0,this._z=r||0,this[n(302)]=i||n(285),this.RotationOrders=[n(285),"YZX",n(273),n(268),n(269),n(275)]}[v$1(288)](){return this._x}setX(t){this._x=t}[v$1(267)](){return this._y}[v$1(295)](t){this._y=t}[v$1(277)](){return this._z}[v$1(280)](t){this._z=t}[v$1(270)](){return this[v$1(302)]}[v$1(272)](t){this[v$1(302)]=t}[v$1(294)](t,e,r,i){const n=v$1;this._x=t,this._y=e,this._z=r,this[n(302)]=i||this[n(302)]}[v$1(271)](){const t=v$1;return new Euler(this._x,this._y,this._z,this[t(302)])}copy(t){const e=v$1;this._x=t[e(288)](),this._y=t[e(267)](),this._z=t.getZ(),this[e(302)]=t[e(270)]()}[v$1(264)](t,e){const r=v$1;let i=function(t,e,r){const i=b$1b;return Math[i(297)](e,Math[i(283)](r,t))},n=t[r(296)],s=n[0],o=n[4],a=n[8],h=n[1],l=n[5],c=n[9],u=n[2],p=n[6],f=n[10];"XYZ"===(e=e||this[r(302)])?(this._y=Math.asin(i(a,-1,1)),Math[r(279)](a)<.99999?(this._x=Math[r(301)](-c,f),this._z=Math[r(301)](-o,s)):(this._x=Math.atan2(p,l),this._z=0)):e===r(269)?(this._x=Math[r(298)](-i(c,-1,1)),Math[r(279)](c)<.99999?(this._y=Math.atan2(a,f),this._z=Math[r(301)](h,l)):(this._y=Math[r(301)](-u,s),this._z=0)):"ZXY"===e?(this._x=Math[r(298)](i(p,-1,1)),Math[r(279)](p)<.99999?(this._y=Math[r(301)](-u,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math[r(301)](h,s))):"ZYX"===e?(this._y=Math[r(298)](-i(u,-1,1)),Math[r(279)](u)<.99999?(this._x=Math[r(301)](p,f),this._z=Math[r(301)](h,s)):(this._x=0,this._z=Math[r(301)](-o,l))):e===r(293)?(this._z=Math[r(298)](i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math[r(301)](-c,l),this._y=Math[r(301)](-u,s)):(this._x=0,this._y=Math[r(301)](a,f))):"XZY"===e?(this._z=Math[r(298)](-i(o,-1,1)),Math.abs(o)<.99999?(this._x=Math[r(301)](p,l),this._y=Math[r(301)](a,s)):(this._x=Math[r(301)](-c,f),this._y=0)):console[r(292)]("hmap.util.Euler: .setFromRotationMatrix() given unsupported order: "+e),this[r(302)]=e}[v$1(299)](t,e){const r=v$1;return this.set(t.x,t.y,t.z,e||this[r(302)])}equals(t){const e=v$1;return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this[e(302)]}[v$1(278)](t){const e=v$1;return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this[e(302)]=t[3]),this}[v$1(287)](t){const e=v$1,r=[];return r[t]=this._x,r[t+1]=this._y,r[t+2]=this._z,r[t+3]=this[e(302)],r}toVector3(){return new Vector3(this._x,this._y,this._z)}}class Quaternion{constructor(t,e,r,i){this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==i?i:1}[v$1(288)](){return this._x}[v$1(289)](t){this._x=t}[v$1(267)](){return this._y}[v$1(295)](t){this._y=t}[v$1(277)](){return this._z}[v$1(280)](t){this._z=t}[v$1(276)](){return this._w}setW(t){this._w=t}setFromRotationMatrix(t){const e=v$1;let r,i=t[e(284)](),n=i[0],s=i[4],o=i[8],a=i[1],h=i[5],l=i[9],c=i[2],u=i[6],p=i[10],f=n+h+p;return f>0?(r=.5/Math[e(290)](f+1),this._w=.25/r,this._x=(u-l)*r,this._y=(o-c)*r,this._z=(a-s)*r):n>h&&n>p?(r=2*Math[e(290)](1+n-h-p),this._w=(u-l)/r,this._x=.25*r,this._y=(s+a)/r,this._z=(o+c)/r):h>p?(r=2*Math[e(290)](1+h-n-p),this._w=(o-c)/r,this._x=(s+a)/r,this._y=.25*r,this._z=(l+u)/r):(r=2*Math[e(290)](1+p-n-h),this._w=(a-s)/r,this._x=(o+c)/r,this._y=(l+u)/r,this._z=.25*r),this}}const a$1a=["1218563OUXSAy","sin","Matrix3#getInverse can't invert matrix, determinant is 0","length","374703VEDOvm","getNormalMatrix","equals","197972hFRkxo","ARRAY_TYPE","385385CMYuzL","clone","fromArray","transpose","scale","transposeIntoArray","copy",'invalid paramter,length of the argument "elements" must not less than 9',"set","cos","warn","fromRotationZ","fromRotationX","2VqmgMU","_elements","211360ZkAQuL","1VeHlBm","setFromMatrix4","1bYsfrk","setUvTransform"," type!","determinant","setIdentity","1TwQzuc","913945Qairsg","setElements","359689zTCfLl","error","invalid parameter,must be instance of Matrix3.","getInverse","toArray","getElements","constructor","multiplyMatrices"],B$4=b$1a;!function(t,e){const r=b$1a;for(;;)try{if(562915===parseInt(r(528))*-parseInt(r(527))+parseInt(r(519))+parseInt(r(517))*parseInt(r(502))+parseInt(r(504))+-parseInt(r(499))+parseInt(r(530))*-parseInt(r(522))+parseInt(r(520))*parseInt(r(495)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1a);class Matrix3{constructor(t,e=Float32Array){const r=b$1a;this[r(503)]=e,this._elements=new this.ARRAY_TYPE(9),t?this[r(529)](t):this[r(526)]()}[B$4(512)](t,e,r,i,n,s,o,a,h){let l=this[B$4(518)];return l[0]=t,l[1]=i,l[2]=o,l[3]=e,l[4]=n,l[5]=a,l[6]=r,l[7]=s,l[8]=h,this}[B$4(529)](t){const e=B$4;if(!(t&&t instanceof this[e(503)]))throw"invalid paramter,the element must be "+this[e(503)]+e(524);if(t[e(498)]<9)throw e(511);let r,i,n;if(i=t,n=this._elements,i!==n)for(r=0;r<9;++r)n[r]=i[r]}getElements(){return this._elements}[B$4(526)](){return this.set(1,0,0,0,1,0,0,0,1),this}[B$4(505)](){const t=B$4;return(new(this[t(493)]))[t(506)](this._elements)}[B$4(510)](t){const e=B$4;let r=this[e(518)],i=t[e(492)]();return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],this}[B$4(521)](t){const e=B$4;let r=t[e(492)]();return this[e(512)](r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this}multiply(t){return this[B$4(494)](this,t)}premultiply(t){return this[B$4(494)](t,this)}[B$4(494)](t,e){const r=B$4;let i=t.getElements(),n=e.getElements(),s=this[r(518)],o=i[0],a=i[3],h=i[6],l=i[1],c=i[4],u=i[7],p=i[2],f=i[5],g=i[8],d=n[0],_=n[3],y=n[6],m=n[1],I=n[4],x=n[7],v=n[2],b=n[5],w=n[8];return s[0]=o*d+a*m+h*v,s[3]=o*_+a*I+h*b,s[6]=o*y+a*x+h*w,s[1]=l*d+c*m+u*v,s[4]=l*_+c*I+u*b,s[7]=l*y+c*x+u*w,s[2]=p*d+f*m+g*v,s[5]=p*_+f*I+g*b,s[8]=p*y+f*x+g*w,this}multiplyScalar(t){let e=this[B$4(518)];return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}[B$4(525)](){let t=this._elements,e=t[0],r=t[1],i=t[2],n=t[3],s=t[4],o=t[5],a=t[6],h=t[7],l=t[8];return e*s*l-e*o*h-r*n*l+r*o*a+i*n*h-i*s*a}[B$4(533)](t,e){const r=B$4;t&&!(t instanceof Matrix3)&&console[r(531)](r(532));let i=t[r(492)](),n=this._elements,s=i[0],o=i[1],a=i[2],h=i[3],l=i[4],c=i[5],u=i[6],p=i[7],f=i[8],g=f*l-c*p,d=c*u-f*h,_=p*h-l*u,y=s*g+o*d+a*_;if(0===y){let t=r(497);if(!0===e)throw new Error(t);return console[r(514)](t),this[r(526)]()}let m=1/y;return n[0]=g*m,n[1]=(a*p-f*o)*m,n[2]=(c*o-a*l)*m,n[3]=d*m,n[4]=(f*s-a*u)*m,n[5]=(a*h-c*s)*m,n[6]=_*m,n[7]=(o*u-p*s)*m,n[8]=(l*s-o*h)*m,this}[B$4(507)](){let t,e=this[B$4(518)];return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}[B$4(500)](t){const e=B$4;return this[e(521)](t)[e(533)](this)[e(507)]()}[B$4(509)](t){let e=this[B$4(518)];return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}[B$4(523)](t,e,r,i,n,s,o){let a=Math[B$4(513)](n),h=Math.sin(n);this.set(r*a,r*h,-r*(a*s+h*o)+s+t,-i*h,i*a,-i*(-h*s+a*o)+o+e,0,0,1)}[B$4(508)](t,e){let r=this[B$4(518)];return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this}rotate(t){const e=B$4;let r=Math[e(513)](t),i=Math[e(496)](t),n=this[e(518)],s=n[0],o=n[3],a=n[6],h=n[1],l=n[4],c=n[7];return n[0]=r*s+i*h,n[3]=r*o+i*l,n[6]=r*a+i*c,n[1]=-i*s+r*h,n[4]=-i*o+r*l,n[7]=-i*a+r*c,this}translate(t,e){let r=this._elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this}[B$4(501)](t){const e=B$4;let r=this[e(518)],i=t[e(492)]();for(let t=0;t<9;t++)if(r[t]!==i[t])return!1;return!0}[B$4(506)](t,e){void 0===e&&(e=0);for(let r=0;r<9;r++)this._elements[r]=t[r+e];return this}[B$4(534)](t,e){void 0===t&&(t=[]),void 0===e&&(e=0);let r=this[B$4(518)];return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}static[B$4(516)](t,e){let r=Math[B$4(513)](t),i=Math.sin(t);if(!e)return new Matrix3(new Float32Array([1,0,0,0,r,-i,0,i,r]));let n=e.getElements();return n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=r,n[5]=i,n[6]=0,n[7]=-i,n[8]=r,e}static fromRotationY(t,e){const r=B$4;let i=Math[r(513)](t),n=Math[r(496)](t);if(!e)return new Matrix3(new Float32Array([i,0,n,0,1,0,-n,0,i]));let s=e[r(492)]();return s[0]=i,s[1]=0,s[2]=-n,s[3]=0,s[4]=1,s[5]=0,s[6]=n,s[7]=0,s[8]=i,e}static[B$4(515)](t,e){const r=B$4;let i=Math.cos(t),n=Math[r(496)](t);if(!e)return new Matrix3(new Float32Array([i,-n,0,n,i,0,0,0,1]));let s=e[r(492)]();return s[0]=i,s[1]=n,s[2]=0,s[3]=-n,s[4]=i,s[5]=0,s[6]=0,s[7]=0,s[8]=1,e}}function b$1a(t,e){return a$1a[t-=492]}const a$19=["860881ZbZDvl","all arguments of setOrtho method must be Number!","all arguments of ortho method must be Number!","hmap.util.Matrix4: .makeRotationFromEuler() expects a Euler rotation","getZ","all arguments of lookAt method must be Number!","YXZ","premultiply","37039VxWIxC","_elements","34yMUjYi","vec must be instance of Vector4!",'length of the argument "elements" must not less than 16',"setIdentity","copy","all arguments of scale method must be Number!","132414CFYGFq","transpose","makeRotationFromQuaternion","setFromRotationMatrix","getW","cos","XZY","YZX","ortho","error","setLookAt","setRotate","null frustum","sqrt","ARRAY_TYPE","9583GqWDUO","translate","setPerspective","fromRotationTranslation","430646ckgybx","all arguments of setLookAt method must be Number!","perspective","all arguments of setScale method must be Number!","319537zPgvMj","matrix must be instance of Matrix4!","setScale","getY","getElements","length","all arguments of perspective method must be Number!","lookAt","setInverseOf","scale","25wAEOfn","ZXY","all arguments of setPerspective method must be Number!","fromArray","isFinite","setFrustum","rotate","869261rHYdqk","all arguments of translate method must be Number!","all arguments of setRotate method must be Number!","near <= 0","multiply","sin","extractRotation","clone","all arguments of rotate method must be Number!","compose","set","far <= 0","setTranslate","setPosition","multiplyMatrices","multiplyVector3","setElements","setOrtho","equals","vec must be instance of Vector3!"],V$1=b$19;function b$19(t,e){return a$19[t-=150]}!function(t,e){const r=b$19;for(;;)try{if(625648===-parseInt(r(189))+-parseInt(r(158))*-parseInt(r(199))+parseInt(r(166))+parseInt(r(150))+-parseInt(r(185))+-parseInt(r(206))+parseInt(r(160))*parseInt(r(181)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$19);class Matrix4{constructor(t,e=Float32Array){const r=b$19;this[r(180)]=e,this[r(159)]=new(this[r(180)])(16),t?this[r(222)](t):this[r(163)]()}[V$1(163)](){let t=this[V$1(159)];return t[0]=1,t[4]=0,t[8]=0,t[12]=0,t[1]=0,t[5]=1,t[9]=0,t[13]=0,t[2]=0,t[6]=0,t[10]=1,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,this}[V$1(222)](t){const e=V$1;if(!t||t[e(194)]<16)throw e(162);let r,i,n;if(i=t,n=this._elements,i!==n)for(r=0;r<16;++r)n[r]=i[r]}[V$1(193)](){return this[V$1(159)]}[V$1(210)](t){const e=V$1;if(!(t instanceof Matrix4))throw e(190);let r,i,n,s,o,a,h,l;if(i=this[e(159)],n=this[e(159)],s=t[e(159)],i===s)for(s=new(this[e(180)])(16),r=0;r<16;++r)s[r]=i[r];for(r=0;r<4;r++)o=n[r],a=n[r+4],h=n[r+8],l=n[r+12],i[r]=o*s[0]+a*s[1]+h*s[2]+l*s[3],i[r+4]=o*s[4]+a*s[5]+h*s[6]+l*s[7],i[r+8]=o*s[8]+a*s[9]+h*s[10]+l*s[11],i[r+12]=o*s[12]+a*s[13]+h*s[14]+l*s[15];return this}[V$1(157)](t){return this[V$1(220)](t,this)}multiplyMatrices(t,e){let r=t.getElements(),i=e.getElements(),n=this._elements,s=r[0],o=r[4],a=r[8],h=r[12],l=r[1],c=r[5],u=r[9],p=r[13],f=r[2],g=r[6],d=r[10],_=r[14],y=r[3],m=r[7],I=r[11],x=r[15],v=i[0],b=i[4],w=i[8],T=i[12],E=i[1],C=i[5],A=i[9],M=i[13],S=i[2],P=i[6],R=i[10],L=i[14],F=i[3],D=i[7],O=i[11],N=i[15];return n[0]=s*v+o*E+a*S+h*F,n[4]=s*b+o*C+a*P+h*D,n[8]=s*w+o*A+a*R+h*O,n[12]=s*T+o*M+a*L+h*N,n[1]=l*v+c*E+u*S+p*F,n[5]=l*b+c*C+u*P+p*D,n[9]=l*w+c*A+u*R+p*O,n[13]=l*T+c*M+u*L+p*N,n[2]=f*v+g*E+d*S+_*F,n[6]=f*b+g*C+d*P+_*D,n[10]=f*w+g*A+d*R+_*O,n[14]=f*T+g*M+d*L+_*N,n[3]=y*v+m*E+I*S+x*F,n[7]=y*b+m*C+I*P+x*D,n[11]=y*w+m*A+I*R+x*O,n[15]=y*T+m*M+I*L+x*N,this}[V$1(221)](t){const e=V$1;if(!(t instanceof Vector3))throw e(225);let r=this._elements,i=t[e(159)],n=new Vector3(0,0,0,this[e(180)]),s=n[e(193)]();return s[0]=i[0]*r[0]+i[1]*r[4]+i[2]*r[8]+r[12],s[1]=i[0]*r[1]+i[1]*r[5]+i[2]*r[9]+r[13],s[2]=i[0]*r[2]+i[1]*r[6]+i[2]*r[10]+r[14],n}multiplyVector4(t){const e=V$1;if(!(t instanceof Vector4))throw e(161);let r=this._elements,i=t[e(159)],n=new Vector4(0,0,0,0,this.ARRAY_TYPE),s=n.getElements();return s[0]=i[0]*r[0]+i[1]*r[4]+i[2]*r[8]+i[3]*r[12],s[1]=i[0]*r[1]+i[1]*r[5]+i[2]*r[9]+i[3]*r[13],s[2]=i[0]*r[2]+i[1]*r[6]+i[2]*r[10]+i[3]*r[14],s[3]=i[0]*r[3]+i[1]*r[7]+i[2]*r[11]+i[3]*r[15],n}[V$1(167)](){let t,e;return t=this[V$1(159)],e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}[V$1(197)](t){const e=V$1;if(!(t instanceof Matrix4))throw"matrix must be instance of Matrix4!";let r,i,n,s,o;if(i=t[e(159)],n=this._elements,s=new(this[e(180)])(16),s[0]=i[5]*i[10]*i[15]-i[5]*i[11]*i[14]-i[9]*i[6]*i[15]+i[9]*i[7]*i[14]+i[13]*i[6]*i[11]-i[13]*i[7]*i[10],s[4]=-i[4]*i[10]*i[15]+i[4]*i[11]*i[14]+i[8]*i[6]*i[15]-i[8]*i[7]*i[14]-i[12]*i[6]*i[11]+i[12]*i[7]*i[10],s[8]=i[4]*i[9]*i[15]-i[4]*i[11]*i[13]-i[8]*i[5]*i[15]+i[8]*i[7]*i[13]+i[12]*i[5]*i[11]-i[12]*i[7]*i[9],s[12]=-i[4]*i[9]*i[14]+i[4]*i[10]*i[13]+i[8]*i[5]*i[14]-i[8]*i[6]*i[13]-i[12]*i[5]*i[10]+i[12]*i[6]*i[9],s[1]=-i[1]*i[10]*i[15]+i[1]*i[11]*i[14]+i[9]*i[2]*i[15]-i[9]*i[3]*i[14]-i[13]*i[2]*i[11]+i[13]*i[3]*i[10],s[5]=i[0]*i[10]*i[15]-i[0]*i[11]*i[14]-i[8]*i[2]*i[15]+i[8]*i[3]*i[14]+i[12]*i[2]*i[11]-i[12]*i[3]*i[10],s[9]=-i[0]*i[9]*i[15]+i[0]*i[11]*i[13]+i[8]*i[1]*i[15]-i[8]*i[3]*i[13]-i[12]*i[1]*i[11]+i[12]*i[3]*i[9],s[13]=i[0]*i[9]*i[14]-i[0]*i[10]*i[13]-i[8]*i[1]*i[14]+i[8]*i[2]*i[13]+i[12]*i[1]*i[10]-i[12]*i[2]*i[9],s[2]=i[1]*i[6]*i[15]-i[1]*i[7]*i[14]-i[5]*i[2]*i[15]+i[5]*i[3]*i[14]+i[13]*i[2]*i[7]-i[13]*i[3]*i[6],s[6]=-i[0]*i[6]*i[15]+i[0]*i[7]*i[14]+i[4]*i[2]*i[15]-i[4]*i[3]*i[14]-i[12]*i[2]*i[7]+i[12]*i[3]*i[6],s[10]=i[0]*i[5]*i[15]-i[0]*i[7]*i[13]-i[4]*i[1]*i[15]+i[4]*i[3]*i[13]+i[12]*i[1]*i[7]-i[12]*i[3]*i[5],s[14]=-i[0]*i[5]*i[14]+i[0]*i[6]*i[13]+i[4]*i[1]*i[14]-i[4]*i[2]*i[13]-i[12]*i[1]*i[6]+i[12]*i[2]*i[5],s[3]=-i[1]*i[6]*i[11]+i[1]*i[7]*i[10]+i[5]*i[2]*i[11]-i[5]*i[3]*i[10]-i[9]*i[2]*i[7]+i[9]*i[3]*i[6],s[7]=i[0]*i[6]*i[11]-i[0]*i[7]*i[10]-i[4]*i[2]*i[11]+i[4]*i[3]*i[10]+i[8]*i[2]*i[7]-i[8]*i[3]*i[6],s[11]=-i[0]*i[5]*i[11]+i[0]*i[7]*i[9]+i[4]*i[1]*i[11]-i[4]*i[3]*i[9]-i[8]*i[1]*i[7]+i[8]*i[3]*i[5],s[15]=i[0]*i[5]*i[10]-i[0]*i[6]*i[9]-i[4]*i[1]*i[10]+i[4]*i[2]*i[9]+i[8]*i[1]*i[6]-i[8]*i[2]*i[5],o=i[0]*s[0]+i[1]*s[4]+i[2]*s[8]+i[3]*s[12],0===o)return this;for(o=1/o,r=0;r<16;r++)n[r]=s[r]*o;return this}invert(){return this[V$1(197)](this)}setOrtho(t,e,r,i,n,s){const o=V$1,a=o(151);if(6!==arguments.length)throw a;for(let t in arguments)if(!Number[o(203)](arguments[t]))throw a;let h,l,c,u;if(t===e||r===i||n===s)throw o(178);return l=1/(e-t),c=1/(i-r),u=1/(s-n),h=this[o(159)],h[0]=2*l,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*c,h[6]=0,h[7]=0,h[8]=0,h[9]=0,h[10]=-2*u,h[11]=0,h[12]=-(e+t)*l,h[13]=-(i+r)*c,h[14]=-(s+n)*u,h[15]=1,this}[V$1(174)](t,e,r,i,n,s){const o=V$1,a=o(152);if(6!==arguments[o(194)])throw a;for(let t in arguments)if(!Number[o(203)](arguments[t]))throw a;return this.multiply((new Matrix4)[o(223)](t,e,r,i,n,s))}[V$1(204)](t,e,r,i,n,s){const o=V$1,a="all arguments of setFrustum method must be Number!";if(6!==arguments[o(194)])throw a;for(let t in arguments)if(!Number.isFinite(arguments[t]))throw a;let h,l,c,u;if(t===e||i===r||n===s)throw o(178);if(n<=0)throw o(209);if(s<=0)throw"far <= 0";return l=1/(e-t),c=1/(i-r),u=1/(s-n),h=this[o(159)],h[0]=2*n*l,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*n*c,h[6]=0,h[7]=0,h[8]=(e+t)*l,h[9]=(i+r)*c,h[10]=-(s+n)*u,h[11]=-1,h[12]=0,h[13]=0,h[14]=-2*n*s*u,h[15]=0,this}frustum(t,e,r,i,n,s){const o=V$1,a="all arguments of frustum method must be Number!";if(6!==arguments.length)throw a;for(let t in arguments)if(!Number[o(203)](arguments[t]))throw a;return this[o(210)]((new Matrix4).setFrustum(t,e,r,i,n,s))}[V$1(183)](t,e,r,i){const n=V$1,s=n(201);if(4!==arguments.length)throw s;for(let t in arguments)if(!Number[n(203)](arguments[t]))throw s;let o,a,h,l;if(r===i||0===e)throw n(178);if(r<=0)throw n(209);if(i<=0)throw n(217);if(t=Math.PI*t/180/2,h=Math[n(211)](t),0===h)throw"null frustum";return a=1/(i-r),l=Math.cos(t)/h,o=this[n(159)],o[0]=l/e,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=l,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-(i+r)*a,o[11]=-1,o[12]=0,o[13]=0,o[14]=-2*r*i*a,o[15]=0,this}[V$1(187)](t,e,r,i){const n=V$1,s=n(195);if(4!==arguments[n(194)])throw s;for(let t in arguments)if(!Number[n(203)](arguments[t]))throw s;return this[n(210)]((new Matrix4)[n(183)](t,e,r,i))}[V$1(191)](t,e,r){const i=V$1,n=i(188);if(3!==arguments[i(194)])throw n;for(let t in arguments)if(!Number[i(203)](arguments[t]))throw n;let s=this._elements;return s[0]=t,s[4]=0,s[8]=0,s[12]=0,s[1]=0,s[5]=e,s[9]=0,s[13]=0,s[2]=0,s[6]=0,s[10]=r,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}[V$1(198)](t,e,r){const i=V$1,n=i(165);if(3!==arguments[i(194)])throw n;for(let t in arguments)if(!Number[i(203)](arguments[t]))throw n;let s=this[i(159)];return s[0]*=t,s[4]*=e,s[8]*=r,s[1]*=t,s[5]*=e,s[9]*=r,s[2]*=t,s[6]*=e,s[10]*=r,s[3]*=t,s[7]*=e,s[11]*=r,this}[V$1(218)](t,e,r){const i=V$1,n="all arguments of setTranslate method must be Number!";if(3!==arguments[i(194)])throw n;for(let t in arguments)if(!Number.isFinite(arguments[t]))throw n;let s=this[i(159)];return s[0]=1,s[4]=0,s[8]=0,s[12]=t,s[1]=0,s[5]=1,s[9]=0,s[13]=e,s[2]=0,s[6]=0,s[10]=1,s[14]=r,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}[V$1(182)](t,e,r){const i=V$1,n=i(207);if(3!==arguments[i(194)])throw n;for(let t in arguments)if(!Number[i(203)](arguments[t]))throw n;let s=this[i(159)];return s[12]+=s[0]*t+s[4]*e+s[8]*r,s[13]+=s[1]*t+s[5]*e+s[9]*r,s[14]+=s[2]*t+s[6]*e+s[10]*r,s[15]+=s[3]*t+s[7]*e+s[11]*r,this}[V$1(177)](t,e,r,i){const n=V$1,s=n(208);if(4!==arguments[n(194)])throw s;for(let t in arguments)if(!Number.isFinite(arguments[t]))throw s;let o,a,h,l,c,u,p,f,g,d,_,y;return t=Math.PI*t/180,o=this[n(159)],a=Math[n(211)](t),h=Math[n(171)](t),0!==e&&0===r&&0===i?(e<0&&(a=-a),o[0]=1,o[4]=0,o[8]=0,o[12]=0,o[1]=0,o[5]=h,o[9]=-a,o[13]=0,o[2]=0,o[6]=a,o[10]=h,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1):0===e&&0!==r&&0===i?(r<0&&(a=-a),o[0]=h,o[4]=0,o[8]=a,o[12]=0,o[1]=0,o[5]=1,o[9]=0,o[13]=0,o[2]=-a,o[6]=0,o[10]=h,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1):0===e&&0===r&&0!==i?(i<0&&(a=-a),o[0]=h,o[4]=-a,o[8]=0,o[12]=0,o[1]=a,o[5]=h,o[9]=0,o[13]=0,o[2]=0,o[6]=0,o[10]=1,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1):(l=Math[n(179)](e*e+r*r+i*i),1!==l&&(c=1/l,e*=c,r*=c,i*=c),u=1-h,p=e*r,f=r*i,g=i*e,d=e*a,_=r*a,y=i*a,o[0]=e*e*u+h,o[1]=p*u+y,o[2]=g*u-_,o[3]=0,o[4]=p*u-y,o[5]=r*r*u+h,o[6]=f*u+d,o[7]=0,o[8]=g*u+_,o[9]=f*u-d,o[10]=i*i*u+h,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1),this}[V$1(205)](t,e,r,i){const n=V$1,s=n(214);if(4!==arguments[n(194)])throw s;for(let t in arguments)if(!Number[n(203)](arguments[t]))throw s;return this.multiply((new Matrix4)[n(177)](t,e,r,i))}[V$1(212)](t){const e=V$1;let r=new Vector3,i=this._elements,n=t[e(193)](),s=1/r.fromArray(n,0)[e(194)](),o=1/r[e(202)](n,4)[e(194)](),a=1/r[e(202)](n,8)[e(194)]();return i[0]=n[0]*s,i[1]=n[1]*s,i[2]=n[2]*s,i[4]=n[4]*o,i[5]=n[5]*o,i[6]=n[6]*o,i[8]=n[8]*a,i[9]=n[9]*a,i[10]=n[10]*a,this}makeRotationFromEuler(t){const e=V$1;!(t&&t instanceof Euler)&&console[e(175)](e(153));let r=this[e(159)],i=t.getX(),n=t[e(192)](),s=t.getZ(),o=Math[e(171)](i),a=Math.sin(i),h=Math[e(171)](n),l=Math[e(211)](n),c=Math.cos(s),u=Math[e(211)](s);const p=t.getOrder();if("XYZ"===p){let t=o*c,e=o*u,i=a*c,n=a*u;r[0]=h*c,r[4]=-h*u,r[8]=l,r[1]=e+i*l,r[5]=t-n*l,r[9]=-a*h,r[2]=n-t*l,r[6]=i+e*l,r[10]=o*h}else if(p===e(156)){let t=h*c,e=h*u,i=l*c,n=l*u;r[0]=t+n*a,r[4]=i*a-e,r[8]=o*l,r[1]=o*u,r[5]=o*c,r[9]=-a,r[2]=e*a-i,r[6]=n+t*a,r[10]=o*h}else if(p===e(200)){let t=h*c,e=h*u,i=l*c,n=l*u;r[0]=t-n*a,r[4]=-o*u,r[8]=i+e*a,r[1]=e+i*a,r[5]=o*c,r[9]=n-t*a,r[2]=-o*l,r[6]=a,r[10]=o*h}else if("ZYX"===p){let t=o*c,e=o*u,i=a*c,n=a*u;r[0]=h*c,r[4]=i*l-e,r[8]=t*l+n,r[1]=h*u,r[5]=n*l+t,r[9]=e*l-i,r[2]=-l,r[6]=a*h,r[10]=o*h}else if(p===e(173)){let t=o*h,e=o*l,i=a*h,n=a*l;r[0]=h*c,r[4]=n-t*u,r[8]=i*u+e,r[1]=u,r[5]=o*c,r[9]=-a*c,r[2]=-l*c,r[6]=e*u+i,r[10]=t-n*u}else if(p===e(172)){let t=o*h,e=o*l,i=a*h,n=a*l;r[0]=h*c,r[4]=-u,r[8]=l*c,r[1]=t*u+n,r[5]=o*c,r[9]=e*u-i,r[2]=i*u-e,r[6]=a*c,r[10]=n*u+t}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}[V$1(164)](t){const e=V$1;let r=this._elements,i=t[e(193)]();return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],this}copyPosition(t){const e=V$1;let r=this[e(159)],i=t[e(193)]();return r[12]=i[12],r[13]=i[13],r[14]=i[14],this}[V$1(219)](t){const e=V$1;let r=this[e(159)];const i=t[e(193)]();return r[12]=i[0],r[13]=i[1],r[14]=i[2],this}[V$1(176)](t,e,r,i,n,s,o,a,h){const l=V$1,c=l(186);if(9!==arguments[l(194)])throw c;for(let t in arguments)if(!Number[l(203)](arguments[t]))throw c;let u,p,f,g,d,_,y,m,I,x,v,b;return p=i-t,f=n-e,g=s-r,d=1/Math[l(179)](p*p+f*f+g*g),p*=d,f*=d,g*=d,_=f*h-g*a,y=g*o-p*h,m=p*a-f*o,I=1/Math[l(179)](_*_+y*y+m*m),_*=I,y*=I,m*=I,x=y*g-m*f,v=m*p-_*g,b=_*f-y*p,u=this[l(159)],u[0]=_,u[1]=x,u[2]=-p,u[3]=0,u[4]=y,u[5]=v,u[6]=-f,u[7]=0,u[8]=m,u[9]=b,u[10]=-g,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,this[l(182)](-t,-e,-r)}[V$1(196)](t,e,r,i,n,s,o,a,h){const l=V$1,c=l(155);if(9!==arguments[l(194)])throw c;for(let t in arguments)if(!Number[l(203)](arguments[t]))throw c;return this[l(210)]((new Matrix4)[l(176)](t,e,r,i,n,s,o,a,h))}[V$1(224)](t){const e=V$1;let r=this[e(193)](),i=t[e(193)](),n=!0;for(let t in r)r[t]!==i[t]&&(n=!1);return n}[V$1(213)](){return new Matrix4(this._elements)}[V$1(215)](t,e,r){const i=V$1;this[i(168)](e);let n=r[i(193)]();return this.scale(n[0],n[1],n[2]),this[i(219)](t),this}composeFromArray(t,e,r){let i=this[V$1(159)];const n=e[0],s=e[1],o=e[2],a=e[3],h=n+n,l=s+s,c=o+o,u=n*h,p=n*l,f=n*c,g=s*l,d=s*c,_=o*c,y=a*h,m=a*l,I=a*c,x=r[0],v=r[1],b=r[2];return i[0]=(1-(g+_))*x,i[1]=(p+I)*x,i[2]=(f-m)*x,i[3]=0,i[4]=(p-I)*v,i[5]=(1-(u+_))*v,i[6]=(d+y)*v,i[7]=0,i[8]=(f+m)*b,i[9]=(d-y)*b,i[10]=(1-(u+g))*b,i[11]=0,i[12]=t[0],i[13]=t[1],i[14]=t[2],i[15]=1,this}[V$1(168)](t){const e=V$1;let r=this[e(159)],i=t.getX(),n=t[e(192)](),s=t[e(154)](),o=t[e(170)](),a=i+i,h=n+n,l=s+s,c=i*a,u=i*h,p=i*l,f=n*h,g=n*l,d=s*l,_=o*a,y=o*h,m=o*l;return r[0]=1-(f+d),r[4]=u-m,r[8]=p+y,r[1]=u+m,r[5]=1-(c+d),r[9]=g-_,r[2]=p-y,r[6]=g+_,r[10]=1-(c+f),r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this}decompose(t,e,r){const i=V$1;let n=new Vector3,s=new Matrix4,o=this._elements,a=n[i(216)](o[0],o[1],o[2])[i(194)](),h=n[i(216)](o[4],o[5],o[6])[i(194)](),l=n.set(o[8],o[9],o[10])[i(194)]();this.determinant()<0&&(a=-a),t[i(193)]()[0]=o[12],t[i(193)]()[1]=o[13],t[i(193)]()[2]=o[14],s.copy(this);let c=1/a,u=1/h,p=1/l;return s.getElements()[0]*=c,s[i(193)]()[1]*=c,s[i(193)]()[2]*=c,s[i(193)]()[4]*=u,s[i(193)]()[5]*=u,s[i(193)]()[6]*=u,s[i(193)]()[8]*=p,s.getElements()[9]*=p,s[i(193)]()[10]*=p,e[i(169)](s),r[i(193)]()[0]=a,r[i(193)]()[1]=h,r[i(193)]()[2]=l,this}determinant(){let t=this[V$1(159)],e=t[0],r=t[4],i=t[8],n=t[12],s=t[1],o=t[5],a=t[9],h=t[13],l=t[2],c=t[6],u=t[10],p=t[14];return t[3]*(+n*a*c-i*h*c-n*o*u+r*h*u+i*o*p-r*a*p)+t[7]*(+e*a*p-e*h*u+n*s*u-i*s*p+i*h*l-n*a*l)+t[11]*(+e*h*c-e*o*p-n*s*c+r*s*p+n*o*l-r*h*l)+t[15]*(-i*o*l-e*a*c+e*o*u+i*s*c-r*s*u+r*a*l)}static[V$1(184)](t,e,r){const i=V$1;if(!(t instanceof Matrix3)&&(t=new Matrix3),(!e||!(e instanceof Vector3))&&(e=new Vector3),!(r instanceof Matrix4)){let r=t[i(193)]();return new Matrix4(new Float32Array([r[0],r[3],r[6],e.getElements()[0],r[1],r[4],r[7],e[i(193)]()[1],r[2],r[5],r[8],e.getElements()[2],0,0,0,1]))}let n=r[i(193)]();return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=0,n[4]=t[3],n[5]=t[4],n[6]=t[5],n[7]=0,n[8]=t[6],n[9]=t[7],n[10]=t[8],n[11]=0,n[12]=e[i(193)]()[0],n[13]=e[i(193)]()[1],n[14]=e[i(193)]()[2],n[15]=1,r}}const a$18=["236554CMxuVb","getType","the Geometry is an abstract class,and can not be instanced!","17nWqlup","simplify","intersectRay","isSelfIntersects","26360oIwiSh","413502wxpfiA","getClosestPoint","moveByDelta","24182zInzYh","25678FEKnqW","472200avmmln","getBBox","49FPladF","getCenter","scale","clone","intersectsGeometry","18pKWqBo","rotate","383353BTaQUW","getOrdinate","getExtent","transform","distanceTo"],l$5=b$18;function b$18(t,e){return a$18[t-=117]}!function(t,e){const r=b$18;for(;;)try{if(310773===parseInt(r(137))+parseInt(r(127))*-parseInt(r(135))+parseInt(r(124))+parseInt(r(119))+parseInt(r(117))*parseInt(r(131))+parseInt(r(132))+-parseInt(r(136))*parseInt(r(139)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$18);class Geometry{constructor(){if(new.target===Geometry)throw new TypeError(b$18(126))}applyTransform(t){}atApproximatePoint(t){}[l$5(142)](){}copyTo(t){const e=l$5;if(!(t instanceof Coordinate))return null;const r=this[e(142)](),i=r[e(121)]()[e(140)](),n=t[e(120)]("X")-i[e(120)]("X"),s=t.getOrdinate("Y")-i.getOrdinate("Y"),o=t[e(120)]("Z")-i[e(120)]("Z");return r[e(134)](n,s,o),r}destroy(){for(const t in this)delete this[t]}[l$5(123)](t,e){}getBuffer(t){}[l$5(133)](t){}[l$5(121)](){}[l$5(125)](){}intersectsExtent(t){}intersectsGeometry(t){return t[l$5(143)](this)}[l$5(129)](t,e){}[l$5(130)](){}isValid(){}[l$5(134)](t,e,r){}[l$5(118)](t,e,r){}[l$5(141)](t,e,r,i){}[l$5(128)](t){}[l$5(122)](t,e){}[l$5(138)](){}}const a$17=["Rectangle","Ellipse","SectorSearch","CurveFlag","Arc","Circle","Polygon","DiagonalArrow","BezierCurveN","CardinalCurveArrow","ParallelSearch","17905AsOClo","173743Pufyzk","CircleExt","4drhAac","MultiLine","Hexagon","FreePolygon","BezierCurve2","DoubleArrow","BezierCurveArrow","10859vAjxyr","1dkDqgZ","RoundedRect","DoveTailStraightArrow","Sector","18186SQeshh","Line","LinearRing","GatheringPlace","DoveTailDiagonalArrow","MultiPolygon","16249dOppYG","Point","Triangle","StraightArrow","CloseCurve","Collection","Lune","11fsJAon","BezierCurve3","13xOSQju","8363IimTTP","106270FBgqcS"],h$2=b$17;function b$17(t,e){return a$17[t-=112]}!function(t,e){const r=b$17;for(;;)try{if(144838===parseInt(r(138))*parseInt(r(145))-parseInt(r(135))+-parseInt(r(146))*-parseInt(r(136))-parseInt(r(150))+-parseInt(r(121))*parseInt(r(122))-parseInt(r(123))+-parseInt(r(112))*-parseInt(r(119)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$17);let GeometryType={Point:h$2(113),MultiPoint:"MultiPoint",Line:h$2(151),MultiLine:h$2(139),LinearRing:h$2(152),Polygon:h$2(130),MultiPolygon:h$2(155),Collection:h$2(117),Circle:h$2(129),Rectangle:h$2(124),Triangle:h$2(114),Hexagon:h$2(140),CircleExt:h$2(137)},GeometryExtType={POLYLINE:{ARC:h$2(128),FREELINE:"FreeLine",BEZIER_CURVE2:h$2(142),BEZIER_CURVE3:h$2(120),BEZIER_CURVEN:h$2(132),CARDINAL_CURVE:"CardinalCurve"},POLYGON:{CIRCLE:h$2(137),ELLIPSE:h$2(125),SECTOR:h$2(149),LUNE:h$2(118),RECTANGLE:"RectangleExt",FREE_POLYGON:h$2(141),GATHERING_PLACE:h$2(153),ROUNDED_RECT:h$2(147),CLOSE_CURVE:h$2(116)},FLAG:{CURVE_FLAG:h$2(127),RECT_FLAG:"RectFlag",TRIANGLE_FLAG:"TriangleFlag"},ARROW:{STRAIGHT_ARROW:h$2(115),DIAGONAL_ARROW:h$2(131),DOUBLE_ARROW:h$2(143),DOVETAIL_STRAIGHT_ARROW:h$2(148),DOVETAIL_DIAGONAL_ARROW:h$2(154)},LARROW:{POLYLINE_ARROW:"PolylineArrow",PARALLEL_SEARCH:h$2(134),SECTOR_SEARCH:h$2(126),BEZIER_CURVE_ARROW:h$2(144),CARDINAL_CURVE_ARROW:h$2(133)}};const a$16=["getRadius","getPolygons","multiPolygonIntersectMultiPolygon2D","lineIntersectPolygon2D","multiPointIntersectMultiPolygon3D","pointIntersectMultiLine3D","lineIntersectMultiPolygon3D","segmentIntersectCircle3D","12098ZMuyhJ","polygonIntersectCircle2D","multiPointIntersectLine2D","_between2D","_left2D","pointIntersectPolygon2D","20131YAiGOJ","polygonIntersectPolygon2D","circle2DIntersectCircle2D","getLines","25BAFIFK","multiPointIntersectMultiLine3D","pointIntersectMultiPolygon3D","multiLineIntersectMultiLine2D","max","getOrdinate","12715Kdcskw","665857LgfWDG","length","getCoordSeq","segmentIntersectLine2D","pointIntersectSegment2D","_xor","pointIntersectPoint3D","multiPolygonIntersectCircle2D","multiPointIntersectPolygon2D","_collinear2D","pointIntersectCircle2D","pow","95AETsxB","multiPointIntersectPolygon3D","getCoordSeqs","lineIntersectLine2D","776600uqmzDg","10bOjxww","distanceTo","pointIntersectMultiPoint2D","getPoints","sqrt","getExtent","pointIntersectMultiPolygon2D","multiPolygonIntersectMultiPolygon3D","lineIntersectMultiPolygon2D","getVectorFromCoords","pointIntersectPoint2D","1180072VKNBQE","dot","pointIntersectMultiLine2D","minus","pointIntersectMultiPoint3D","pointIntersectLine3D","getCoordinate","_doubleArea2D","getVertices","segmentIntersectSegment2D","multiLineIntersectMultiPolygon2D","multiLineIntersectMultiLine3D","formatVectorFromPoints","multiLineIntersectMultiPolygon3D","multiPointIntersectLine3D","pointIntersectLine2D","min","_leftOn2D","polygonIntersectMultiPolygon3D","getLinearRings","lineIntersectMultiLine2D","getCenter","multiPointIntersectMultiPoint2D","1ZRJIUZ","multiLineIntersectPolygon3D","lineIntersectPolygon3D","multiPointIntersectCircle2D","multiPointIntersectMultiPoint3D","_segmentIntersectSegmentProp2D","abs","getCoordCount","4dQuBqC","getValue","equals","segmentIntersectCircle2D","polygonIntersectMultiPolygon2D","EPSILON","lineIntersectCircle2D","514257nOIPMW","cross","pointIntersectPolygon3D","intersects"];function b$16(t,e){return a$16[t-=247]}const B$3=b$16;!function(t,e){const r=b$16;for(;;)try{if(792036===parseInt(r(261))+-parseInt(r(284))*-parseInt(r(328))+-parseInt(r(317))*-parseInt(r(321))+-parseInt(r(327))*-parseInt(r(250))+parseInt(r(311))*parseInt(r(340))+-parseInt(r(249))+-parseInt(r(292))*parseInt(r(299)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$16);class Intersect{static[B$3(260)](t,e){const r=B$3;return 0===Math[r(290)](t.getCoordinate()[r(326)]("X")-e[r(267)]()[r(326)]("X"))&&0===Math[r(290)](t[r(267)]()[r(326)]("Y")-e[r(267)]()[r(326)]("Y"))}static[B$3(334)](t,e){return t[B$3(294)](e)}static[B$3(252)](t,e){const r=B$3,i=e[r(253)]();for(let e=0,n=i[r(329)];e<n;e++)if(this[r(260)](t,i[e]))return!0;return!1}static[B$3(265)](t,e){const r=B$3,i=e[r(253)]();for(let e=0,n=i[r(329)];e<n;e++)if(this[r(334)](t,i[e]))return!0;return!1}static[B$3(332)](t,e){const r=B$3;return this._between2D(e[0][r(267)](),e[1][r(267)](),t[r(267)]())}static pointIntersectSegment3D(t,e){const r=B$3,i=e,n=this[r(273)](i[0],i[1]),s=this[r(273)](i[0],t),o=i[0][r(267)](),a=i[1][r(267)](),h=t[r(267)]();if(n[r(300)](s).equals(new Vector3)){const t=Math.min(o[r(326)]("X"),a[r(326)]("X")),e=Math[r(325)](o[r(326)]("X"),a[r(326)]("X")),i=Math[r(277)](o[r(326)]("Y"),a[r(326)]("Y")),n=Math[r(325)](o[r(326)]("Y"),a[r(326)]("Y")),s=Math[r(277)](o[r(326)]("Z"),a[r(326)]("Z")),l=Math[r(325)](o[r(326)]("Z"),a.getOrdinate("Z"));return t<=h.getOrdinate("X")&&e>=h.getOrdinate("X")&&i<=h[r(326)]("Y")&&n>=h.getOrdinate("Y")&&s<=h.getOrdinate("Z")&&l>=h[r(326)]("Z")}return!1}static[B$3(276)](t,e){const r=B$3,i=e[r(269)](),n=new Array(2);for(let e=0;e<i[r(329)]-1;e++)if(n[0]=i[e],n[1]=i[e+1],this[r(332)](t,n))return!0;return!1}static[B$3(266)](t,e){const r=B$3,i=e.getVertices(),n=new Array(2);for(let e=0,s=i[r(329)];e<s-1;e++)if(n[0]=i[e],n[1]=i[e+1],this.pointIntersectSegment3D(t,n))return!0;return!1}static[B$3(263)](t,e){const r=B$3,i=e.getLines();for(let e=0,n=i[r(329)];e<n;e++)if(this[r(276)](t,i[e]))return!0;return!1}static[B$3(308)](t,e){const r=B$3,i=e[r(320)]();for(let e=0,n=i[r(329)];e<n;e++)if(this[r(266)](t,i[e]))return!0;return!1}static pointIntersectPolygon2D(t,e){const r=B$3,i=e[r(247)](),n=t[r(267)]();let s,o,a,h,l,c,u,p,f,g=0,d=0;for(let t=0,e=i[r(329)];t<e;t++){s=i[t],o=s[r(291)]();for(let t=0;t<o;t++){if(a=s[r(267)](t),a[r(294)](n))return!0;h=s[r(267)]((t+o-1)%o),l=h.minus(n),c=a[r(264)](n),u=c[r(293)]("Y")>0!=l[r(293)]("Y")>0,p=c[r(293)]("Y")<0!=l[r(293)]("Y")<0,(u||p)&&(f=(c[r(293)]("X")*l[r(293)]("Y")-l[r(293)]("X")*c[r(293)]("Y"))/(l[r(293)]("Y")-c[r(293)]("Y")),u&&f>0&&g++,p&&f<0&&d++)}}return g%2!=d%2||g%2==1}static[B$3(301)](t,e){const r=B$3,i=t[r(267)](),n=e[r(247)]()[0],s=this[r(259)](i,n[r(267)](0)),o=this[r(259)](i,n[r(267)](1)),a=this[r(259)](i,n[r(267)](2)),h=s[r(300)](o)[r(262)](a);if(Math.abs(h)>Number[r(297)])return!1;this[r(259)](i,n[r(267)](0)),this[r(259)](n[r(267)](0),n[r(267)](1));for(let t=0,e=n[r(291)]();t<e;t++)this.getVectorFromCoords(i,n[r(267)](t)),this[r(259)](n.getCoordinate(t),n[r(267)](t+1))}static[B$3(256)](t,e){const r=B$3,i=e[r(304)]();for(let e=0,n=i[r(329)];e<n;e++)if(this[r(316)](t,i[e]))return!0;return!1}static[B$3(323)](t,e){const r=B$3,i=e[r(304)]();for(let e=0,n=i.length;e<n;e++)if(this[r(301)](t,i[e]))return!0;return!1}static[B$3(283)](t,e){const r=B$3,i=t.getPoints();for(let t=0,n=i[r(329)];t<n;t++)if(this[r(252)](i[t],e))return!0;return!1}static[B$3(288)](t,e){}static[B$3(313)](t,e){const r=B$3,i=t.getPoints();for(let t=0,n=i.length;t<n;t++)if(this[r(276)](i[t],e))return!0;return!1}static[B$3(275)](t,e){}static multiPointIntersectMultiLine2D(t,e){const r=t[B$3(253)]();for(let t=0,i=r.length;t<i;t++)if(this.pointIntersectMultiLine2D(r[t],e))return!0;return!1}static[B$3(322)](t,e){}static[B$3(336)](t,e){const r=B$3,i=t[r(253)]();for(let t=0;t<i[r(329)];t++)if(this[r(316)](i[t],e))return!0;return!1}static[B$3(341)](t,e){}static multiPointIntersectMultiPolygon2D(t,e){const r=B$3,i=t.getPoints();for(let t=0,n=i[r(329)];t<n;t++)if(this.pointIntersectMultiPolygon2D(i[t],e))return!0;return!1}static[B$3(307)](t,e){}static[B$3(270)](t,e){const r=B$3,i=t[0],n=t[1],s=e[0],o=e[1];return!!this._segmentIntersectSegmentProp2D(i,n,s,o)||!!(this[r(314)](i,n,s)||this[r(314)](i,n,o)||this[r(314)](s,o,i)||this[r(314)](s,o,n))}static segmentIntersectSegment3D(t,e){}static[B$3(289)](t,e,r,i){const n=B$3;return!(this[n(337)](t,e,r)||this[n(337)](t,e,i)||this[n(337)](r,i,t)||this[n(337)](r,i,e))&&(this[n(333)](this[n(315)](t,e,r),this._left2D(t,e,i))&&this[n(333)](this._left2D(r,i,t),this[n(315)](r,i,e)))}static _left2D(t,e,r){return this[B$3(268)](t,e,r)>0}static[B$3(278)](t,e,r){return this[B$3(268)](t,e,r)>=0}static _collinear2D(t,e,r){const i=B$3,n=this[i(268)](t,e,r);return-initState[i(297)]<=n&&n<=initState[i(297)]}static _between2D(t,e,r){const i=B$3;return!!this[i(337)](t,e,r)&&(t[i(326)]("X")!==e[i(326)]("X")?t[i(326)]("X")<=r[i(326)]("X")&&r[i(326)]("X")<=e[i(326)]("X")||t.getOrdinate("X")>=r[i(326)]("X")&&r[i(326)]("X")>=e[i(326)]("X"):t.getOrdinate("Y")<=r[i(326)]("Y")&&r[i(326)]("Y")<=e[i(326)]("Y")||t.getOrdinate("Y")>=r[i(326)]("Y")&&r[i(326)]("Y")>=e[i(326)]("Y"))}static[B$3(268)](t,e,r){const i=B$3;return(r[i(326)]("X")-e.getOrdinate("X"))*(t[i(326)]("Y")-e[i(326)]("Y"))-(t[i(326)]("X")-e.getOrdinate("X"))*(r[i(326)]("Y")-e[i(326)]("Y"))}static[B$3(333)](t,e){return!t^!e}static[B$3(331)](t,e){const r=B$3,i=e.getCoordSeq(),n=new Array(2);for(let e=0;e<i[r(291)]()-1;e++)if(n[0]=i.getCoordinate(e),n[1]=i[r(267)](e+1),this.segmentIntersectSegment2D(t,n))return!0;return!1}static lineIntersectLine2D(t,e){const r=B$3;if(!t[r(255)]()[r(302)](e[r(255)]()))return!1;const i=t[r(330)](),n=new Array(2);for(let t=0;t<i[r(291)]()-1;t++)if(n[0]=i[r(267)](t),n[1]=i.getCoordinate(t+1),this[r(331)](n,e))return!0;return!1}static[B$3(281)](t,e){const r=B$3;if(!t[r(255)]()[r(302)](e[r(255)]()))return!1;const i=e[r(320)]();for(let e=0;e<i[r(329)];e++)if(this[r(248)](t,i[e]))return!0;return!1}static[B$3(324)](t,e){const r=B$3;if(!t[r(255)]()[r(302)](e[r(255)]()))return!1;const i=t.getLines();for(let t=0;t<i[r(329)];t++)if(this.lineIntersectMultiLine2D(i[t],e))return!0;return!1}static lineIntersectPolygon2D(t,e){const r=B$3;if(!t[r(255)]()[r(302)](e[r(255)]()))return!1;const i=e[r(280)]();for(let e=0;e<i[r(329)];e++)if(this[r(248)](t,i[e]))return!0;const n=t[r(269)]();return n[r(329)]>0&&this[r(316)](n[0],e)}static[B$3(286)](t,e){}static[B$3(258)](t,e){const r=B$3;if(!t[r(255)]()[r(302)](e[r(255)]()))return!1;const i=e[r(304)]();for(let e=0,n=i[r(329)];e<n;e++)if(this[r(306)](t,i[e]))return!0;return!1}static[B$3(309)](t,e){}static[B$3(272)](t,e){}static multiLineIntersectPolygon2D(t,e){const r=B$3,i=t.getLines();for(let t=0,n=i[r(329)];t<n;t++)if(this[r(306)](i[t],e))return!0;return!1}static[B$3(285)](t,e){}static[B$3(271)](t,e){const r=B$3,i=t[r(320)]();for(let t=0,n=i[r(329)];t<n;t++)if(this[r(258)](i[t],e))return!0;return!1}static[B$3(274)](t,e){}static[B$3(318)](t,e){const r=B$3;if(!t[r(255)]().intersects(e[r(255)]()))return!1;const i=t[r(280)](),n=e[r(280)]();for(const t of i)for(const e of n)if(this[r(248)](t,e))return!0;if(i[r(329)]>0){const t=i[0].getVertices();if(this[r(316)](t[0],e))return!0}if(n.length>0){const e=n[0][r(269)]();if(this[r(316)](e[0],t))return!0}return!1}static polygonIntersectPolygon3D(t,e){}static[B$3(296)](t,e){const r=B$3;if(!t[r(255)]().intersects(e[r(255)]()))return!1;const i=e[r(304)]();for(let e=0;e<i[r(329)];e++)if(this[r(318)](t,i[e]))return!0;return!1}static[B$3(279)](t,e){}static[B$3(305)](t,e){const r=B$3;if(!t[r(255)]()[r(302)](e[r(255)]()))return!1;const i=t[r(304)]();for(let t=0;t<i[r(329)];t++)if(this.polygonIntersectMultiPolygon2D(i[t],e))return!0;return!1}static[B$3(257)](t,e){}static[B$3(259)](t,e){const r=B$3;return new Vector3(e.getOrdinate("X")-t[r(326)]("X"),e[r(326)]("Y")-t[r(326)]("Y"),e[r(326)]("Z")-t.getOrdinate("Z"))}static formatVectorFromPoints(t,e){const r=B$3;return this[r(259)](t.getCoordinate(),e[r(267)]())}static[B$3(295)](t,e){const r=B$3,i=e[r(303)](),n=e[r(282)](),s=t[0],o=t[1];let a,h,l=s.getOrdinate("X"),c=s[r(326)]("Y"),u=o.getOrdinate("X"),p=o[r(326)]("Y"),f=n[r(267)]()[r(326)]("X"),g=n[r(267)]()[r(326)]("Y");if(l==u)a=l,h=g;else{let t=(c-p)/(l-u),e=c-t*l;a=(f+t*g-t*e)/(t*t+1),h=t*a+e}let d=Math[r(254)](Math[r(339)](a-f,2)+Math[r(339)](h-g,2));const _=n[r(251)](new Point(s));return(_-i)*(n[r(251)](new Point(o))-i)<=0||_>i&&(d<=i&&(a-l)*(a-u)<=0&&(h-c)*(h-p)<=0||void 0)}static[B$3(310)](t,e){}static[B$3(338)](t,e){const r=B$3;let i=e[r(303)](),n=e.getCenter();const s=t[r(267)]().getOrdinate("X"),o=t[r(267)]()[r(326)]("Y"),a=n[r(267)]()[r(326)]("X"),h=n[r(267)]().getOrdinate("Y");return Math[r(254)](Math[r(339)](s-a,2)+Math.pow(o-h,2))<=i}static[B$3(287)](t,e){const r=t[B$3(253)]();for(let t=0,i=r.length;t<i;t++){const i=r[t];if(this.pointIntersectCircle2D(i,e))return!0}return!1}static[B$3(298)](t,e){const r=B$3,i=t[r(330)](),n=new Array(2);for(let t=0;t<i[r(291)]()-1;t++)if(n[0]=i.getCoordinate(t),n[1]=i[r(267)](t+1),this.segmentIntersectCircle2D(n,e))return!0;return!1}static multiLineIntersectCircle2D(t,e){const r=B$3,i=t[r(320)]();for(let t=0,n=i[r(329)];t<n;t++)if(this.lineIntersectCircle2D(i[t],e))return!0;return!1}static[B$3(312)](t,e){const r=B$3,i=t[r(280)](),n=e[r(282)]();for(let t of i)if(this[r(298)](t,e))return!0;return!!this.pointIntersectPolygon2D(n,t)}static[B$3(335)](t,e){const r=B$3,i=t[r(304)]();for(let t of i)if(this[r(312)](t,e))return!0;return!1}static[B$3(319)](t,e){const r=B$3,i=t.getCenter(),n=t[r(303)](),s=e[r(282)](),o=e[r(303)]();return i[r(251)](s)<=n+o}}const a$15=["empty coordinate sequence!","zOrder","EPSILON","linkedList","findHoleBridge","concat","holes","isEarHashed","locallyInside","coordData","465QZxKVE","vertices","deviation","45428kxvruZ","polygonArea","removeNode","385125HFZNiU","earcutLinked","436OSGOJw","push","splitPolygon","prevZ","pointInTriangle","length","getXyzOfCoordSeq","272774UkEVFa","splitEarcut","isValidDiagonal","nextZ","intersectsPolygon","prev","holeIndices","middleInside","area","compareX","isEar","eliminateHoles","steiner","351929lVemGi","signedArea","earcut","eliminateHole","insertNode","188205dhNhme","extractCoords","map","1pLBpJk","getCoordCount","167419TmVmTP","getLeftmost","getCoordDataFromCoordSeq","sort","cureLocalIntersections","abs","next","reduce","equals","6iJkhqg","indexCurve","intersects","polygonCentroid","getFirstCoordinate","getOrdinate","filterPoints"],F=b$15;function b$15(t,e){return a$15[t-=128]}!function(t,e){const r=b$15;for(;;)try{if(186286===parseInt(r(165))+parseInt(r(142))+-parseInt(r(155))+-parseInt(r(160))*-parseInt(r(163))+parseInt(r(130))*-parseInt(r(174))+parseInt(r(191))*-parseInt(r(135))+parseInt(r(133)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$15);class Node$1{constructor(t,e,r,i){const n=b$15;this.i=t,this.x=e,this.y=r,this.m=i,this[n(147)]=null,this.next=null,this.z=null,this[n(138)]=null,this.nextZ=null,this[n(154)]=!1}}class EarCut{static triangulatePolygon(t){const e=b$15,r=this.getCoordDataFromCoordSeq(t),i=this[e(157)](r[e(190)],r[e(148)],3);return this.getTriCoords(r[e(190)],i,3)}static[F(177)](t){const e=F,r=this.getCoordDataFromCoordSeq(t),i=this[e(157)](r[e(190)],r[e(148)],3);let n=0,s=0,o=0,a=0;const h={},l={},c={};let u,p,f,g;for(let t=0;t<i[e(140)];t+=3)h.x=r[e(190)][3*i[t]],h.y=r[e(190)][3*i[t]+1],h.m=r[e(190)][3*i[t]+2],l.x=r[e(190)][3*i[t+1]],l.y=r[e(190)][3*i[t+1]+1],l.m=r.coordData[3*i[t+1]+2],c.x=r.coordData[3*i[t+2]],c.y=r.coordData[3*i[t+2]+1],c.m=r[e(190)][3*i[t+2]+2],u=(h.x+l.x+c.x)/3,p=(h.y+l.y+c.y)/3,f=(h.m+l.m+c.m)/3,g=Math[e(170)](this[e(150)](h,l,c))/2,s+=g*u,o+=g*p,a+=g*f,n+=g;if(0===n){if(0===t[0].getCoordCount())throw e(181);const r=t[0][e(178)]();return[r[e(179)]("X"),r[e(179)]("Y"),r.getOrdinate("Z")]}return[s/n,o/n,a/n]}static[F(131)](t){const e=F,r=this[e(167)](t),i=this[e(157)](r[e(190)],r[e(148)],3);let n=0;const s={},o={},a={};for(let t=0;t<i.length;t+=3)s.x=r.coordData[3*i[t]],s.y=r[e(190)][3*i[t]+1],s.m=r.coordData[3*i[t]+2],o.x=r.coordData[3*i[t+1]],o.y=r[e(190)][3*i[t+1]+1],o.m=r[e(190)][3*i[t+1]+2],a.x=r[e(190)][3*i[t+2]],a.y=r[e(190)][3*i[t+2]+1],a.m=r.coordData[3*i[t+2]+2],n+=Math[e(170)](this[e(150)](s,o,a));return n/2}static[F(167)](t){const e=F,r=[],i=[];let n=t[0][e(164)]();r[e(136)](...this[e(141)](t[0]));for(let s=1;s<t.length;s++)i[e(136)](n),n+=t[s][e(164)](),r[e(136)](...this[e(141)](t[s]));return{coordData:r,holeIndices:i}}static getTriCoords(t,e,r){const i=F,n=e[i(162)]((e=>[t[e*r],t[e*r+1],t[e*r+2]]));return 0===n[i(140)]?n:n[i(172)](((t,e)=>t[i(186)](e)))}static getXyzOfCoordSeq(t){const e=F,r=t[e(161)]()[e(162)]((t=>[t[e(179)]("X"),t[e(179)]("Y"),t[e(179)]("Z")]));return 0===r[e(140)]?r:r[e(172)](((t,r)=>t[e(186)](r)))}static earcut(t,e,r,i=!0){const n=F;r=r||2;let s,o,a,h,l,c,u,p=e&&e.length,f=p?e[0]*r:t[n(140)],g=this[n(184)](t,0,f,r,i),d=[];if(!g||g[n(171)]===g[n(147)])return d;if(p&&(g=this[n(153)](t,e,g,r)),t[n(140)]>80*r){s=a=t[0],o=h=t[1];for(let e=r;e<f;e+=r)l=t[e],c=t[e+1],l<s&&(s=l),c<o&&(o=c),l>a&&(a=l),c>h&&(h=c);u=Math.max(a-s,h-o),u=0!==u?1/u:0}return this[n(134)](g,d,r,s,o,u),d}static[F(184)](t,e,r,i,n){const s=F;let o,a;if(n===this[s(156)](t,e,r,i)>0)for(o=e;o<r;o+=i)a=this[s(159)](o,t[o],t[o+1],t[o+2],a);else for(o=r-i;o>=e;o-=i)a=this[s(159)](o,t[o],t[o+1],t[o+2],a);return a&&this[s(173)](a,a[s(171)])&&(this[s(132)](a),a=a.next),a}static[F(180)](t,e){const r=F;if(!t)return t;e||(e=t);let i,n=t;do{if(i=!1,n[r(154)]||!this.equals(n,n[r(171)])&&0!==this[r(150)](n.prev,n,n[r(171)]))n=n.next;else{if(this.removeNode(n),n=e=n.prev,n===n.next)break;i=!0}}while(i||n!==e);return e}static[F(134)](t,e,r,i,n,s,o){const a=F;if(!t)return;!o&&s&&this[a(175)](t,i,n,s);let h,l,c=t;for(;t[a(147)]!==t[a(171)];)if(h=t[a(147)],l=t.next,s?this.isEarHashed(t,i,n,s):this[a(152)](t))e.push(h.i/r),e[a(136)](t.i/r),e[a(136)](l.i/r),this.removeNode(t),t=l[a(171)],c=l[a(171)];else if((t=l)===c){o?1===o?(t=this.cureLocalIntersections(t,e,r),this[a(134)](t,e,r,i,n,s,2)):2===o&&this[a(143)](t,e,r,i,n,s):this[a(134)](this[a(180)](t),e,r,i,n,s,1);break}}static[F(152)](t){const e=F;let r=t[e(147)],i=t,n=t[e(171)];if(this[e(150)](r,i,n)>=0)return!1;let s=t[e(171)][e(171)];for(;s!==t.prev;){if(this.pointInTriangle(r.x,r.y,i.x,i.y,n.x,n.y,s.x,s.y)&&this[e(150)](s[e(147)],s,s[e(171)])>=0)return!1;s=s[e(171)]}return!0}static[F(188)](t,e,r,i){const n=F;let s=t.prev,o=t,a=t.next;if(this[n(150)](s,o,a)>=0)return!1;let h=s.x<o.x?s.x<a.x?s.x:a.x:o.x<a.x?o.x:a.x,l=s.y<o.y?s.y<a.y?s.y:a.y:o.y<a.y?o.y:a.y,c=s.x>o.x?s.x>a.x?s.x:a.x:o.x>a.x?o.x:a.x,u=s.y>o.y?s.y>a.y?s.y:a.y:o.y>a.y?o.y:a.y,p=this[n(182)](h,l,e,r,i),f=this[n(182)](c,u,e,r,i),g=t[n(138)],d=t.nextZ;for(;g&&g.z>=p&&d&&d.z<=f;){if(g!==t[n(147)]&&g!==t.next&&this[n(139)](s.x,s.y,o.x,o.y,a.x,a.y,g.x,g.y)&&this[n(150)](g[n(147)],g,g.next)>=0)return!1;if(g=g.prevZ,d!==t.prev&&d!==t[n(171)]&&this[n(139)](s.x,s.y,o.x,o.y,a.x,a.y,d.x,d.y)&&this.area(d[n(147)],d,d[n(171)])>=0)return!1;d=d[n(145)]}for(;g&&g.z>=p;){if(g!==t[n(147)]&&g!==t.next&&this.pointInTriangle(s.x,s.y,o.x,o.y,a.x,a.y,g.x,g.y)&&this[n(150)](g.prev,g,g[n(171)])>=0)return!1;g=g[n(138)]}for(;d&&d.z<=f;){if(d!==t[n(147)]&&d!==t[n(171)]&&this[n(139)](s.x,s.y,o.x,o.y,a.x,a.y,d.x,d.y)&&this.area(d.prev,d,d[n(171)])>=0)return!1;d=d[n(145)]}return!0}static[F(169)](t,e,r){const i=F;let n=t;do{let s=n[i(147)],o=n.next[i(171)];!this[i(173)](s,o)&&this[i(176)](s,n,n[i(171)],o)&&this[i(189)](s,o)&&this[i(189)](o,s)&&(e.push(s.i/r),e[i(136)](n.i/r),e[i(136)](o.i/r),this[i(132)](n),this[i(132)](n.next),n=t=o),n=n.next}while(n!==t);return n}static splitEarcut(t,e,r,i,n,s){const o=F;let a=t;do{let t=a[o(171)].next;for(;t!==a.prev;){if(a.i!==t.i&&this[o(144)](a,t)){let h=this.splitPolygon(a,t);return a=this.filterPoints(a,a[o(171)]),h=this.filterPoints(h,h[o(171)]),this[o(134)](a,e,r,i,n,s),void this[o(134)](h,e,r,i,n,s)}t=t.next}a=a[o(171)]}while(a!==t)}static[F(153)](t,e,r,i){const n=F;let s,o,a,h,l,c=[];for(s=0,o=e[n(140)];s<o;s++)a=e[s]*i,h=s<o-1?e[s+1]*i:t[n(140)],l=this[n(184)](t,a,h,i,!1),l===l[n(171)]&&(l.steiner=!0),c.push(this.getLeftmost(l));for(c[n(168)](this[n(151)]),s=0;s<c[n(140)];s++)this[n(158)](c[s],r),r=this[n(180)](r,r[n(171)]);return r}static[F(151)](t,e){return t.x-e.x}static[F(158)](t,e){const r=F;if(e=this[r(185)](t,e)){const i=this[r(137)](e,t);this.filterPoints(i,i[r(171)])}}static[F(185)](t,e){const r=F;let i,n=e,s=t.x,o=t.y,a=-1/0;do{if(o<=n.y&&o>=n[r(171)].y&&n[r(171)].y!==n.y){let t=n.x+(o-n.y)*(n[r(171)].x-n.x)/(n.next.y-n.y);if(t<=s&&t>a){if(a=t,t===s){if(o===n.y)return n;if(o===n.next.y)return n[r(171)]}i=n.x<n[r(171)].x?n:n.next}}n=n[r(171)]}while(n!==e);if(!i)return null;if(s===a)return i[r(147)];let h,l=i,c=i.x,u=i.y,p=1/0;for(n=i[r(171)];n!==l;)s>=n.x&&n.x>=c&&s!==n.x&&this[r(139)](o<u?s:a,o,c,u,o<u?a:s,o,n.x,n.y)&&(h=Math[r(170)](o-n.y)/(s-n.x),(h<p||h===p&&n.x>i.x)&&this[r(189)](n,t)&&(i=n,p=h)),n=n[r(171)];return i}static indexCurve(t,e,r,i){const n=F;let s=t;do{null===s.z&&(s.z=this.zOrder(s.x,s.y,e,r,i)),s.prevZ=s[n(147)],s[n(145)]=s[n(171)],s=s[n(171)]}while(s!==t);s[n(138)][n(145)]=null,s[n(138)]=null,this.sortLinked(s)}static sortLinked(t){const e=F;let r,i,n,s,o,a,h,l,c=1;do{for(i=t,t=null,o=null,a=0;i;){for(a++,n=i,h=0,r=0;r<c&&(h++,n=n[e(145)],n);r++);for(l=c;h>0||l>0&&n;)0!==h&&(0===l||!n||i.z<=n.z)?(s=i,i=i[e(145)],h--):(s=n,n=n[e(145)],l--),o?o[e(145)]=s:t=s,s.prevZ=o,o=s;i=n}o[e(145)]=null,c*=2}while(a>1);return t}static[F(182)](t,e,r,i,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}static[F(166)](t){const e=F;let r=t,i=t;do{(r.x<i.x||r.x===i.x&&r.y<i.y)&&(i=r),r=r[e(171)]}while(r!==t);return i}static pointInTriangle(t,e,r,i,n,s,o,a){return(n-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(i-a)-(r-o)*(e-a)>=0&&(r-o)*(s-a)-(n-o)*(i-a)>=0}static isValidDiagonal(t,e){const r=F;return t.next.i!==e.i&&t[r(147)].i!==e.i&&!this[r(146)](t,e)&&this.locallyInside(t,e)&&this.locallyInside(e,t)&&this[r(149)](t,e)}static[F(150)](t,e,r){const i=(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y);return 0!==i?i:function(){const i=(e.m-t.m)*(r.y-e.y)-(e.y-t.y)*(r.m-e.m);return 0!==i?i:(e.m-t.m)*(r.x-e.x)-(e.x-t.x)*(r.m-e.m)}()}static[F(173)](t,e){return t.x===e.x&&t.y===e.y}static[F(176)](t,e,r,i){const n=F;return!!(this[n(173)](t,e)&&this[n(173)](r,i)||this[n(173)](t,i)&&this[n(173)](r,e))||this[n(150)](t,e,r)>0!=this[n(150)](t,e,i)>0&&this[n(150)](r,i,t)>0!=this[n(150)](r,i,e)>0}static[F(146)](t,e){const r=F;let i=t;do{if(i.i!==t.i&&i[r(171)].i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&this.intersects(i,i[r(171)],t,e))return!0;i=i.next}while(i!==t);return!1}static[F(189)](t,e){const r=F;return this[r(150)](t[r(147)],t,t[r(171)])<0?this[r(150)](t,e,t[r(171)])>=0&&this.area(t,t[r(147)],e)>=0:this[r(150)](t,e,t.prev)<0||this[r(150)](t,t.next,e)<0}static middleInside(t,e){const r=F;let i=t,n=!1,s=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i[r(171)].y>o&&i.next.y!==i.y&&s<(i[r(171)].x-i.x)*(o-i.y)/(i[r(171)].y-i.y)+i.x&&(n=!n),i=i[r(171)]}while(i!==t);return n}static[F(137)](t,e){const r=F;let i=new Node$1(t.i,t.x,t.y,t.z),n=new Node$1(e.i,e.x,e.y,e.z),s=t[r(171)],o=e[r(147)];return t[r(171)]=e,e[r(147)]=t,i[r(171)]=s,s[r(147)]=i,n[r(171)]=i,i[r(147)]=n,o[r(171)]=n,n.prev=o,n}static[F(159)](t,e,r,i,n){const s=F;let o=new Node$1(t,e,r,i);return n?(o.next=n[s(171)],o[s(147)]=n,n[s(171)][s(147)]=o,n[s(171)]=o):(o[s(147)]=o,o.next=o),o}static[F(132)](t){const e=F;t[e(171)][e(147)]=t[e(147)],t[e(147)][e(171)]=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t[e(145)][e(138)]=t[e(138)])}static[F(129)](t,e,r,i){const n=F;let s=e&&e.length,o=s?e[0]*r:t[n(140)],a=Math[n(170)](this[n(156)](t,0,o,r));if(s)for(let i=0,s=e[n(140)];i<s;i++){let o=e[i]*r,h=i<s-1?e[i+1]*r:t[n(140)];a-=Math.abs(this[n(156)](t,o,h,r))}let h=0;for(let e=0;e<i[n(140)];e+=3){let s=i[e]*r,o=i[e+1]*r,a=i[e+2]*r;h+=Math[n(170)]((t[s]-t[a])*(t[o+1]-t[s+1])-(t[s]-t[o])*(t[a+1]-t[s+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)}static[F(156)](t,e,r,i,n=0){const s=F;let o=0;for(;Math[s(170)](o)<initState[s(183)]&&n<3;){o=0;for(let s=e,a=r-i;s<r;s+=i)o+=(t[n+a]-t[n+s])*(t[s+(n+1)%3]+t[a+(n+1)%3]),a=s;n++}return 3===n&&(o=-o),o}static flatten(t){const e=F;let r=t[0][0][e(140)],i={vertices:[],holes:[],dimensions:r},n=0;for(let s=0;s<t[e(140)];s++){for(let n=0;n<t[s].length;n++)for(let o=0;o<r;o++)i[e(128)][e(136)](t[s][n][o]);s>0&&(n+=t[s-1][e(140)],i[e(187)][e(136)](n))}return i}}const a$14=["482597rEelfE","1pCZGMb","splice","getOrdinate","polylabel","clone","659017gzDnfS","length","every","degrees","getConvexHull","334959ecOhlI","_unit","max","_findPolarAngle","extractCoords","shift","getLinearRingCount","_down","filter","1111897LcQtZc","compare","getCoordCount","977855QfTwwN","pop","peek","1011083wGUlxn","some","getCoordinate","getCoordSeq","1jGCqwN","_sortPoints","min","getSegDistSq","atan2","push","sqrt","1tqdiMK","getCentroidCell","SQRT2","getLinearRing","data","657091xjqfJH","pointToPolygonDist","checkCollinear","unshift","_checkPoints"],H=b$14;function b$14(t,e){return a$14[t-=155]}!function(t,e){const r=b$14;for(;;)try{if(586705===parseInt(r(180))+-parseInt(r(175))*-parseInt(r(181))+-parseInt(r(191))+-parseInt(r(163))*parseInt(r(159))+parseInt(r(186))+parseInt(r(170))*parseInt(r(200))+-parseInt(r(156)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$14);class Topology{static _needToReverse(t){const e=b$14;let r=t[e(195)](),i=r[e(187)],n=-180,s=0,o=null;for(let t=0;t<i-1;t++){let i=r[t][e(183)]("X");i>=n&&(n=i,s=t)}let a=r[s];o=0===s?r[i-2]:r[s-1];let h=s+1>=i?r[0]:r[s+1],l=o[e(183)]("X"),c=o[e(183)]("Y"),u=a[e(183)]("X"),p=a[e(183)]("Y"),f=h[e(183)]("X");return(u-l)*(h[e(183)]("Y")-p)-(p-c)*(f-u)<0}static[H(177)](t,e,r){const i=H,n=e.getOrdinate("X")-t[i(183)]("X"),s=e[i(183)]("Y")-t.getOrdinate("Y"),o=r[i(183)]("X")-e.getOrdinate("X");let a=n*(r.getOrdinate("Y")-e[i(183)]("Y"))-s*o;return a=a>0?1:a<0?-1:0,a}static[H(190)](t,e=!1){const r=H;let i;for(let e=0,n=t[r(187)];e<n;e++){if(!(t[e]instanceof Coordinate))throw new TypeError("parameter 'pointArray' should be an array of Coordinate instance");if(void 0===i)i=t[e][r(185)]();else{let n=i[r(183)]("X"),s=i[r(183)]("Y"),o=t[e][r(183)]("X"),a=t[e][r(183)]("Y");(s>a||s==a&&n>o)&&(i=t[e][r(185)]())}}let n,s,o=[];if(e=t[r(188)]((function(t){return t.x<0&&t.y<0})),n=this[r(164)](t,i,e),s=n[r(187)],s<3)return n.unshift(i),n;for(o.push(n[r(196)](),n[r(196)]());;){let t,a,h;if(o.push(n[r(196)]()),t=o[o[r(187)]-3],a=o[o[r(187)]-2],h=o[o[r(187)]-1],this._checkPoints(t,a,h,e)&&o[r(182)](o.length-2,1),0==n[r(187)]){if(s==o[r(187)])return o=o[r(199)]((function(t){return!!t})),!o[r(160)]((function(t){const e=r;return t[e(183)]("X")==i[e(183)]("X")&&t[e(183)]("Y")==i.getOrdinate("Y")}))&&o[r(178)](i),o;n=o,s=n[r(187)],o=[],o[r(168)](n[r(196)](),n[r(196)]())}}}static _findPolarAngle(t,e,r){const i=H;let n,s;if(!t||!e)return 0;if(n=e[i(183)]("X")-t[i(183)]("X"),s=e[i(183)]("Y")-t[i(183)]("Y"),0==n&&0==s)return 0;let o=57.295779513082*Math[i(167)](s,n);return r?o<=0&&(o+=360):o>=0&&(o+=360),o}static[H(164)](t,e,r){let i=this;return t.sort((function(t,n){const s=b$14;let o=i[s(194)](e,t,r),a=i[s(194)](e,n,r);return o<a?-1:o>a?1:0}))}static[H(179)](t,e,r,i){let n,s=this[H(194)](t,e,i),o=this._findPolarAngle(t,r,i);return s>o?(n=s-o,!(n>180)):!(s<o)||(n=o-s,n>180)}static[H(184)](t){const e=H;let r=1;initState[e(192)]===e(189)&&(r=.001);let i=t.getLinearRing(0)[e(162)](),n=i[e(161)](0),s=n._x,o=n._y,a=n._x,h=n._y;for(let t=1;t<i[e(155)]();t++)n=i[e(161)](t),n._x<s&&(s=n._x),n._y<o&&(o=n._y),n._x>a&&(a=n._x),n._y>h&&(h=n._y);let l=a-s,c=h-o,u=Math[e(165)](l,c),p=u/2;if(0===u){return new Coordinate(s,o)}let f=new Queue(void 0,(function(t,r){const i=e;return r[i(193)]-t[i(193)]}));for(let e=s;e<a;e+=u)for(let r=o;r<h;r+=u)f.push(new Cell(e+p,r+p,p,t));let g=this[e(171)](i,t),d=new Cell(s+l/2,o+c/2,0,t);d.d>g.d&&(g=d);let _=f[e(187)];for(;f[e(187)];){let i=f[e(157)]();i.d>g.d&&(g=i),i.max-g.d<=r||(p=i.h/2,f[e(168)](new Cell(i.x-p,i.y-p,p,t)),f[e(168)](new Cell(i.x+p,i.y-p,p,t)),f[e(168)](new Cell(i.x-p,i.y+p,p,t)),f[e(168)](new Cell(i.x+p,i.y+p,p,t)),_+=4)}return new Coordinate(g.x,g.y)}static[H(171)](t,e){const r=H;let i=0,n=0,s=0;for(let e=0,o=t.getCoordCount(),a=o-1;e<o;a=e++){let o=t[r(161)](e),h=t[r(161)](a),l=o._x*h._y-h._x*o._y;n+=(o._x+h._x)*l,s+=(o._y+h._y)*l,i+=3*l}if(0===i){let r=t.getCoordinate(0);return new Cell(r._x,r._y,0,e)}return new Cell(n/i,s/i,0,e)}}class Cell{constructor(t,e,r,i){const n=H;this.x=t,this.y=e,this.h=r,this.d=this.pointToPolygonDist(t,e,i),this.max=this.d+this.h*Math[n(172)]}[H(176)](t,e,r){const i=H;let n=!1,s=1/0;for(let o=0;o<r[i(197)]();o++){let a=r[i(173)](o).getCoordSeq();for(let r=0,o=a.getCoordCount(),h=o-1;r<o;h=r++){let o=a[i(161)](r),l=a.getCoordinate(h);o._y>e!=l._y>e&&t<(l._x-o._x)*(e-o._y)/(l._y-o._y)+o._x&&(n=!n),s=Math[i(165)](s,this[i(166)](t,e,o,l))}}return 0===s?0:(n?1:-1)*Math[i(169)](s)}[H(166)](t,e,r,i){let n=r._x,s=r._y,o=i._x-n,a=i._y-s;if(0!==o||0!==a){let r=((t-n)*o+(e-s)*a)/(o*o+a*a);r>1?(n=i._x,s=i._y):r>0&&(n+=o*r,s+=a*r)}return o=t-n,a=e-s,o*o+a*a}}class Queue{constructor(t=[],e){const r=H;if(this.data=t,this.length=this[r(174)][r(187)],this[r(201)]=e,this.length>0)for(let t=(this[r(187)]>>1)-1;t>=0;t--)this[r(198)](t)}[H(168)](t){const e=H;this[e(174)][e(168)](t),this._up(this[e(187)]++)}[H(157)](){const t=H;if(0===this.length)return;const e=this.data[0],r=this[t(174)].pop();return--this[t(187)]>0&&(this[t(174)][0]=r,this[t(198)](0)),e}[H(158)](){return this[H(174)][0]}_up(t){const{data:e,compare:r}=this,i=e[t];for(;t>0;){const n=t-1>>1,s=e[n];if(r(i,s)>=0)break;e[t]=s,t=n}e[t]=i}[H(198)](t){const e=H,{data:r,compare:i}=this,n=this[e(187)]>>1,s=r[t];for(;t<n;){let n=1+(t<<1);const o=n+1;if(o<this[e(187)]&&i(r[o],r[n])<0&&(n=o),i(r[n],s)>=0)break;r[t]=r[n],t=n}r[t]=s}}const a$13=["slice","139575pmcfwX","equals","the parameter 'coord' must be coordinate and 'index' must be number!","simplify","unshift","19587vSAZrd","getFirstCoordinate"," has beyond the coordinates boundary","remove","clone","the parameter ","reverse","destroy","isFinite","getCoordCount","abs","length","concat","the parameter coordIndex and val must both be Number!","set","cross","28kSHqlM","3201pNVjUR","setOrdinate","encloseRing","the parameter must be number!","getConvexHull","Less than 3 points cannot form a closed ring","containsCoord","swap","parameter coord must be instance of Coordinate!","substract","from","181220PJeIZi"," or ","getLastCoordinate","1uHlbDC","4JLNUfH","76513GWzUMl","addCoord","extractCoords","_coordArr","getExtent","getCoordinate","1JfqUWo","DESC","72632fCdLgd","getOrdinate"," beyond the array boundary.","1257617syrgWt","ASC","splice","push","sort","parameter tolerance must be type of Number with positive finite value!"],D=b$13;function b$13(t,e){return a$13[t-=129]}!function(t,e){const r=b$13;for(;;)try{if(292053===parseInt(r(141))*-parseInt(r(140))+parseInt(r(159))+-parseInt(r(149))+parseInt(r(164))*-parseInt(r(180))+-parseInt(r(136))+-parseInt(r(139))*-parseInt(r(181))+-parseInt(r(152))*-parseInt(r(147)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$13);class CoordSeq{constructor(t=[]){const e=b$13;if(!Array.isArray(t))throw new TypeError("the parameter coordArr must be Array!");for(let e of t)if(!(e instanceof Coordinate))throw new TypeError("the array element must be instance of Coordinate!");this[e(144)]=[...t]}[D(142)](t,e=this._coordArr[D(175)]){const r=D;if(!(t instanceof Coordinate&&Number.isFinite(e)))throw new TypeError(r(161));return e<=0?this[r(144)][r(163)](t):e>=this[r(173)]()?this[r(144)][r(155)](t):this[r(144)][r(154)](e,0,t),this}[D(176)](t){const e=D;let r=this[e(144)],i=t[e(144)];const n=r[e(176)](i);return new CoordSeq(n)}clone(){const t=D,e=[];for(let r=0;r<this[t(144)][t(175)];r++)e[t(155)](this._coordArr[r][t(168)]());return new CoordSeq([...e])}[D(131)](t){const e=D;if(!(t instanceof Coordinate))throw new TypeError(e(133));for(let r=0;r<this[e(144)].length;r++)if(this[e(144)][r][e(160)](t))return r;return-1}[D(171)](){const t=D;for(let e=0,r=this[t(144)][t(175)];e<r;e++)this[t(144)][e][t(171)]();for(let t in this)delete this[t]}[D(183)](){const t=D;if(this[t(173)]()>2)return!this.isRing()&&this[t(144)][t(155)](this[t(144)][0]),this._coordArr;throw t(130)}[D(143)](t=0,e=this[D(144)].length){const r=D;if(!Number[r(172)](t)||!Number.isFinite(e))throw new Error(r(184));const i=this[r(173)]();return 0===e||0===i||t<0||t>i?null:e<0?-e>t+1?this._coordArr[r(158)](0,t+1)[r(170)]():this[r(144)].slice(t+e+1,t+1)[r(170)]():e>0?e<i-t?this[r(144)][r(158)](t,t+e):this[r(144)][r(158)](t,i):void 0}[D(146)](t){const e=D;if(!Number[e(172)](t))throw new TypeError("the parameter must be number!");const r=this[e(173)]();if(t<0||t>=r)throw new RangeError(e(169)+t+e(166));return 0===r?null:this._coordArr[t]}[D(173)](){return this._coordArr.length}[D(165)](){const t=D;return this[t(173)]()>0?this[t(144)][0]:null}[D(138)](){const t=D,e=this[t(173)]();return e>0?this[t(144)][e-1]:null}[D(150)](t,e="X"){const r=D;if(!Number[r(172)](t))throw new Error("the first parameter must be Number");return this[r(146)](t).getOrdinate(e)}[D(160)](t){const e=D;if(this[e(173)]()!==t[e(173)]())return!1;for(let r=0,i=this[e(173)]();r<i;r++){if(!this[e(144)][r][e(160)](t.getCoordinate(r)))return!1;if(r===i-1)return!0}}isRing(){const t=D;return this[t(173)]()>2&&this[t(144)][0][t(160)](this[t(144)][this[t(173)]()-1])}[D(167)](t,e){const r=D;if(!(t>=0&&t<this[r(173)]()))throw new Error(t+r(151));return e=this[r(144)].splice(t,e)[r(175)]}removeRepeat(){const t=D;let e=this[t(173)]();if(e<2)return 0;let r=0;for(let i=1;i<e;i++)this._coordArr[i][t(160)](this._coordArr[i-1])&&(this[t(144)][t(154)](i,1),i--,e--,r++);return r}[D(170)](t=!1){const e=D;if(t)return this[e(144)][e(170)](),this;{const t=this.clone();return t[e(144)][e(170)](),t}}[D(182)](t,e="X",r){const i=D;if(!Number.isFinite(t)||!Number[i(172)](r))throw new Error(i(177));this.getCoordinate(t).setOrdinate(e,r)}[D(162)](t,e=!1){const r=D;if(!Number[r(172)](t)||t<0)throw r(157);if(this&&null!==this){const e=this[r(143)]();if(e[r(175)]<3)return this;const i=new Vector3,n=new Vector3,s=new Vector3;let o=0,a=e[r(175)]-1;const h=[];let l=0,c=function(t,e,o){const a=r;if(i[a(178)](t[a(150)]("X"),t[a(150)]("Y"),t[a(150)]("Z")),n[a(178)](e[a(150)]("X"),e[a(150)]("Y"),e[a(150)]("Z")),s[a(178)](o.getOrdinate("X"),o[a(150)]("Y"),o.getOrdinate("Z")),t.equals(e))return s.substract(i)[a(175)]();const h=s[a(168)]()[a(134)](i)[a(179)](n[a(168)]()[a(134)](i))[a(175)](),l=n[a(168)]()[a(134)](i)[a(175)]();return Math[a(174)](h/l)},u=function(t,e,i,n){const s=r;let o=0;for(let r,n=e+1;n<i;n++)r=c(t[e],t[i],t[n]),r>o&&(o=r,l=n);o>n&&l!==e&&(h[s(155)](l),u(t,e,l,n),u(t,l,i,n))};h[r(155)](o),h[r(155)](a),u(e,o,a,t);const p=[];h.sort(((t,e)=>t-e));const f=Array[r(135)](new Set([...h]));for(let t=0;t<f[r(175)];t++)p.push(e[f[t]]);this[r(144)]=p}return this}[D(156)](t="X",e=D(153)){const r=D;if((e=e.toUpperCase())!==r(153)&&e!==r(148))throw new Error("the parameter order should be 'ASC' or 'DESC'");const i=this[r(168)](),n={ASC:function(t,e,i){const n=r;return t[n(150)](i)-e[n(150)](i)},DESC:function(t,e,i){const n=r;return e.getOrdinate(i)-t[n(150)](i)}};return i[r(144)][r(156)]((function(r,i){return n[e](r,i,t)})),i}[D(132)](t,e){const r=D,i=this[r(173)]();if(!(t>=0&&t<i&&e>=0&&e<i))throw new Error(t+r(137)+e+" beyond the array boundary.");return[this._coordArr[t],this[r(144)][e]]=[this._coordArr[e],this[r(144)][t]],this}[D(145)](){const t=D;if(this._coordArr[t(175)]<=0)return new Extent(0,0,0,0);let e=this[t(144)][0],r=e.getOrdinate("X"),i=e[t(150)]("Y"),n=e[t(150)]("X"),s=e[t(150)]("Y");for(let e=1,o=this[t(144)][t(175)];e<o;e++){let o=this._coordArr[e][t(150)]("X"),a=this._coordArr[e][t(150)]("Y");r=r>o?o:r,n=n<o?o:n,i=i<a?a:i,s=s>a?a:s}return new Extent(r,s,n,i)}[D(129)](){const t=D;let e=this[t(143)]();return Topology[t(129)](e)}}const a$12=["setElement","mode","center","formatVectorFromPoints","lineToLine","earcut","push","getMaxX","distance","getCoordDataFromCoordSeq","2qSSooo","261507jspOBq","rayIntersectBox","has","multiplyScalar","_elements","index","_getArea","getMinX","getTransformParas","distanceToSphere","min","25314xAVwRZ","get","rayIntersectTriangle","getVertices","getMaxY","concat","fill","178573SveXUv","set","getMaxZ","sqrt","getMinY","getMinZ","getPolygonCount","coordData","getPositionFromBuffer","176885lUIqKW","getCoordinate","holeIndices","substract","106396gyhnXf","formatVectorFromCoords","_getAngle","rayIntersectMultiPolygon","getPositionsData","getElement","polygonArea","length","segmentToSegment","251108CTsHWU","rayIntersectPolygon","a_positionL","_rayCrossOctant","end","pow","97694hnDsrf","pointToSegment","normalize","origin","drawCount","getOrdinate","dot","clone"],a0=b$12;function b$12(t,e){return a$12[t-=458]}!function(t,e){const r=b$12;for(;;)try{if(162173===parseInt(r(464))+parseInt(r(514))+-parseInt(r(482))*parseInt(r(494))+parseInt(r(483))+parseInt(r(510))+-parseInt(r(501))+-parseInt(r(458)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$12);class Intersect3D extends Intersect{static[a0(492)](t,e){const r=a0,i=t[r(474)],n=e[r(462)]._elements,s=e[r(467)][r(487)],o=n[0]-s[0],a=n[1]-s[1],h=n[2]-s[2];let l=i[0]-s[0],c=i[1]-s[1],u=i[2]-s[2];const p=o*o+a*a+h*h;let f=o*l+a*c+h*u;return p>0&&(f/=p),f<0?f=0:f>1&&(f=1),l=s[0]+f*o-i[0],c=s[1]+f*a-i[1],u=s[2]+f*h-i[2],Math.sqrt(l*l+c*c+u*u)}static[a0(465)](t,e,r,i=[0,0,0]){const n=a0;let s=0;const o=t._x+i[0],a=t._y+i[1],h=t._z+i[2],l=e._x,c=e._y,u=e._z,p=r._x,f=r._y,g=r._z,d=(p-l)*(o-l)+(f-c)*(a-c)+(g-u)*(h-u);if(d<0)return null;const _=(p-l)*(p-l)+(f-c)*(f-c)+(g-u)*(g-u);if(d>_)return s=Math.sqrt((o-p)*(o-p)+(a-f)*(a-f)+(h-g)*(h-g)),{distance:s,point:new Coordinate(p,f,g)};const y=d/_,m=l+(p-l)*y,I=c+(f-c)*y,x=u+(g-u)*y;return s=Math[n(504)]((m-o)*(m-o)+(I-a)*(I-a)+(x-h)*(x-h)),{distance:s,point:new Coordinate(m,I,x)}}static[a0(476)](t,e,r=[0,0,0]){const i=a0,n=e[i(497)]()[0][i(511)](),s=e[i(497)]()[1][i(511)](),o=[],a=t.getVertices();for(let t=0,e=a[i(521)];t<e-1;t++){let e=a[t][i(511)](),h=a[t+1][i(511)]();if(r instanceof Array)e=new Coordinate(e._x+r[0],e._y+r[1],e._z+r[2]),h=new Coordinate(h._x+r[0],h._y+r[1],h._z+r[2]);else if(Number.isFinite(r)&&0!==r){const t=new Vector3(h._y-e._y,-(h._x-e._x),0);t[i(466)]()[i(486)](r);const n=t.getElements();e=new Coordinate(e._x+n[0],e._y+n[1],e._z+n[2]),h=new Coordinate(h._x+n[0],h._y+n[1],h._z+n[2])}let l=this[i(522)](n,s,e,h);l&&o[i(478)](l)}return o}static segmentToSegment(t,e,r,i){const n=a0;let s=this.formatVectorFromCoords(i,r),o=this[n(515)](t,e),a=this[n(515)](t,r);const h=o[n(470)](o),l=s[n(470)](s),c=o.dot(s),u=o[n(470)](a),p=a[n(470)](s),f=h*l-c*c;let g;if(0===f){let s=r.getOrdinate("Z")>i.getOrdinate("Z")?r:i;g=this[n(465)](s,t,e)}else{let a=(h*p-c*u)/f,d=(l*u-c*p)/f;if(d>=0&&d<=1)if(a>=0&&a<=1){const e=t.getOrdinate("X")+d*o[n(519)](0),i=t[n(469)]("Y")+d*o[n(519)](1),h=t[n(469)]("Z")+d*o[n(519)](2),l=new Coordinate(e,i,h),c=r.getOrdinate("X")-a*s[n(519)](0),u=r[n(469)]("Y")-a*s[n(519)](1),p=r[n(469)]("Z")-a*s[n(519)](2);g={distance:Math.sqrt((e-c)*(e-c)+(i-u)*(i-u)+(h-p)*(h-p)),point:l}}else{const s=this[n(465)](r,t,e),o=this.pointToSegment(i,t,e);g=s&&o&&s[n(480)]>o[n(480)]?o:s}else g=null}return g}static[a0(517)](t,e,r=[0,0,0]){const i=a0;let n=[];for(let r=0,s=e[i(507)]();r<s;r++){let s=this[i(459)](t,e.getPolygon(r));n[i(478)](...s)}return n}static getPositionFromBuffer(t){const e=a0;let r=[],i=t[e(495)]("a_position");if("m"===initState._unit){let n=t[e(485)](e(460))?t[e(495)](e(460)):[].concat.apply([],new Array(i[e(521)])[e(500)](0));const s=t[e(485)](e(460));for(let t=0,o=i[e(521)];t<o;t++)s?r[e(478)](65536*(i[t]+n[t]/65536)):r[e(478)](i[t])}else{const n=t[e(485)](e(460))?t.get(e(460)):[][e(499)].apply([],new Array(i[e(521)])[e(500)](0)),s=Math[e(463)](10,7);for(let t=0,o=i[e(521)];t<o;t++)r[e(478)](i[t]+n[t]/s)}return r}static[a0(459)](t,e,r=[0,0,0],i){const n=a0;let s,o,a,h;if(i){const t=i[n(495)](n(468));o=i[n(495)](n(488)),a=4===i.get(n(473))[0]?t[0]:t[1],h=4===i[n(495)](n(473))[0]?0:t[0],s=this[n(509)](i)}else{const t=EarCut[n(481)](e.getCoordSeqs());s=t[n(508)],o=EarCut[n(477)](t[n(508)],t[n(512)],3),a=o[n(521)],h=0}let l=[],c=new Vector3,u=new Vector3,p=new Vector3,f=0;for(let e=h,i=a-2;e<i;e+=3){f=3*o[e],c[n(502)](s[f]+r[0],s[f+1]+r[1],s[f+2]+r[2]),f=3*o[e+1],u[n(502)](s[f]+r[0],s[f+1]+r[1],s[f+2]+r[2]),f=3*o[e+2],p[n(502)](s[f]+r[0],s[f+1]+r[1],s[f+2]+r[2]);const i=this[n(496)](t,[c,u,p]);i&&l[n(478)](i)}return c=null,u=null,p=null,l}static[a0(518)](){}static rayIntersectTriangle(t,e){const r=a0,[i,n,s,o]=t[r(491)](),a=t[r(467)],h=1/i.getElement(o),l=i[r(519)](n)*h,c=i.getElement(s)*h,u=e[0][r(513)](a),p=e[1][r(513)](a),f=e[2].substract(a),g=u[r(519)](n)-l*u.getElement(o),d=u[r(519)](s)-c*u[r(519)](o),_=p[r(519)](n)-l*p[r(519)](o),y=p.getElement(s)-c*p[r(519)](o),m=f[r(519)](n)-l*f[r(519)](o),I=f[r(519)](s)-c*f[r(519)](o),x=m*y-I*_,v=g*I-d*m,b=_*d-y*g;if((x<0||v<0||b<0)&&(x>0||v>0||b>0))return null;const w=x+v+b;if(0===w)return null;const T=(x*(h*u[r(519)](o))+v*(h*p[r(519)](o))+b*(h*f[r(519)](o)))*(1/w);if(T<.01||T>.99)return null;const E=T*i[r(519)](0)+a.getElement(0),C=T*i.getElement(1)+a[r(519)](1),A=T*i[r(519)](2)+a[r(519)](2);return new Coordinate(E,C,A)}static[a0(515)](t,e){const r=a0;return new Vector3(e[r(469)]("X")-t.getOrdinate("X"),e[r(469)]("Y")-t[r(469)]("Y"),e.getOrdinate("Z")-t[r(469)]("Z"))}static[a0(475)](t,e){const r=a0;return this[r(515)](t[r(511)](),e[r(511)]())}static[a0(489)](t){return EarCut[a0(520)]([new CoordSeq(t)])}static[a0(516)](t,e){const r=a0;return t[r(466)](),e.normalize(),t[r(470)](e)}static[a0(484)](t,e,r){const i=a0,n=this[i(461)](t,e[i(471)](),r.clone()),s=r[i(471)]().normalize();if(n){const t=e[i(519)](0)+n*s[i(519)](0),r=e.getElement(1)+n*s[i(519)](1),o=e[i(519)](2)+n*s[i(519)](2);return new Coordinate(t,r,o)}return null}static[a0(461)](t,e,r){const i=a0,n=new Vector3(0,0,0),s=new Vector3(t[i(479)]()-t[i(490)](),t[i(498)]()-t.getMinY(),t[i(503)]()-t[i(506)]()),o=s[i(471)](),a=o[i(471)]()[i(486)](.5);r.normalize();let h,l,c,u,p,f,g,d,_,y=new Vector3((t[i(479)]()+t[i(490)]())/2,(t[i(498)]()+t[i(505)]())/2,(t[i(503)]()+t[i(506)]())/2);e[i(513)](y).add(a),r[i(519)](0)<0&&(e[i(472)](0,o.getElement(0)-e[i(519)](0)),r[i(472)](0,-r[i(519)](0))),r[i(519)](1)<0&&(e[i(472)](1,o[i(519)](1)-e[i(519)](1)),r[i(472)](1,-r[i(519)](1))),r[i(519)](2)<0&&(e[i(472)](2,o[i(519)](2)-e[i(519)](2)),r[i(472)](2,-r.getElement(2))),h=1/r[i(519)](0),l=1/r[i(519)](1),c=1/r.getElement(2),u=(n.getElement(0)-e[i(519)](0))*h,p=(s[i(519)](0)-e[i(519)](0))*h,f=(n[i(519)](1)-e[i(519)](1))*l,g=(s[i(519)](1)-e[i(519)](1))*l,d=(n[i(519)](2)-e.getElement(2))*c,_=(s[i(519)](2)-e[i(519)](2))*c;let m=Math.max(u,f,d);return m<=Math[i(493)](p,g,_)?m:null}}const a$11=["_line","equals","intersectRay","8329HovFQz","setMinY","getBBox","_minZ","getMinZ","_maxY","_maxX","setMinZ","origin","getMax","_minY","1lXUXPP","609316hnshbA","extendBBox","434022OngWbN","_maxZ","getExtent","229830UQvbTm","1KqALTy","_minX","510832XrnBso","distanceToCamera","getMaxY","_extent","getMinY","extendXYZ","527934vXmFDk","rayIntersectBox","setMaxZ","getCenter","getMaxZ","intersectBBox","getOrdinate","setMinX","clone","getMin","531059khMPKD","updateExtent","moveByDelta","getMinX"],q$1=b$11;function b$11(t,e){return a$11[t-=247]}!function(t,e){const r=b$11;for(;;)try{if(304986===parseInt(r(289))+parseInt(r(272))+-parseInt(r(264))*-parseInt(r(282))+-parseInt(r(258))+parseInt(r(257))*-parseInt(r(260))+parseInt(r(266))+-parseInt(r(263)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$11);class BBox{constructor(t,e,r,i,n,s){const o=b$11;this[o(265)]=t,this[o(256)]=e,this[o(249)]=r,this[o(252)]=i,this[o(251)]=n,this[o(261)]=s,this[o(283)]()}[q$1(279)](t){const e=q$1;return this[e(265)]=t,this[e(283)](),this}[q$1(247)](t){const e=q$1;return this[e(256)]=t,this[e(283)](),this}[q$1(253)](t){const e=q$1;return this[e(249)]=t,this[e(283)](),this}setMaxX(t){const e=q$1;return this._maxX=t,this[e(283)](),this}setMaxY(t){return this[q$1(251)]=t,this.updateExtent(),this}[q$1(274)](t){const e=q$1;return this[e(261)]=t,this[e(283)](),this}[q$1(285)](){return this._minX}[q$1(270)](){return this[q$1(256)]}[q$1(250)](){return this[q$1(249)]}getMaxX(){return this._maxX}[q$1(268)](){return this._maxY}[q$1(276)](){return this._maxZ}[q$1(281)](){const t=q$1;return new Coordinate(this[t(265)],this[t(256)],this[t(249)])}[q$1(284)](t,e,r){const i=q$1;return this[i(265)]+=t,this[i(256)]+=e,this[i(249)]+=r,this[i(252)]+=t,this._maxY+=e,this[i(261)]+=r,this[i(283)](),this}[q$1(255)](){const t=q$1;return new Coordinate(this._maxX,this[t(251)],this[t(261)])}[q$1(275)](){const t=q$1;return new Coordinate((this[t(265)]+this[t(252)])/2,(this[t(256)]+this._maxY)/2,(this[t(249)]+this[t(261)])/2)}[q$1(287)](t){const e=q$1;return t[e(281)]()[e(287)](this[e(281)]())&&t.getMax()[e(287)](this[e(255)]())}extendXYZ(t,e,r){const i=q$1;return t<this[i(265)]?this[i(265)]=t:t>this._maxX&&(this[i(252)]=t),e<this[i(256)]?this[i(256)]=e:e>this[i(251)]&&(this._maxY=e),r<this[i(249)]?this._minZ=r:r>this[i(261)]&&(this._maxZ=r),this[i(283)](),this}[q$1(280)](){const t=q$1;return new BBox(this[t(265)],this[t(256)],this[t(249)],this[t(252)],this[t(251)],this[t(261)])}[q$1(259)](t){const e=q$1;let r=t[e(281)](),i=t[e(255)](),n=r[e(278)]("X"),s=r[e(278)]("Y"),o=r[e(278)]("Z"),a=i[e(278)]("X"),h=i[e(278)]("Y"),l=i[e(278)]("Z");return this[e(271)](n,s,o),this.extendXYZ(a,h,l),this.updateExtent(),this}[q$1(262)](){return!this[q$1(269)]&&this.updateExtent(),this._extent}[q$1(283)](){const t=q$1;this[t(269)]=new Extent(this[t(265)],this[t(256)],this[t(252)],this[t(251)])}[q$1(277)](t){const e=q$1,r=this[e(281)](),i=this[e(255)](),n=t[e(281)](),s=t[e(255)]();return s[e(278)]("X")>=r[e(278)]("X")&&s[e(278)]("Y")>=r[e(278)]("Y")&&s.getOrdinate("Z")>=r[e(278)]("Z")&&n.getOrdinate("X")<=i[e(278)]("X")&&n[e(278)]("Y")<=i[e(278)]("Y")&&n[e(278)]("Z")<=i[e(278)]("Z")}[q$1(288)](t){const e=q$1;if(!this[e(277)](t[e(286)][e(248)]()))return null;let r=Intersect3D[e(273)](this,t[e(254)],t.direction);if(r){return{distanceToCamera:t[e(267)](r),intersectCoordinate:r}}return null}}const a$10=["Stretch","TextPoint","PolygonTexture","23487zlOWJL","MeshTexture","36588TAELww","SpritePoint","PolygonDash","PointOnSurface","1xirSNR","LineDash","PolygonOnSurface","PolygonRadialGradient","1WnbgkI","PointCloud","PolygonNoise","FillSolidBinPainter","691hqyRxD","PolygonSolid","199wxMyzz","PolygonVideoTexture","MeshColor","TextLine","196022LbhzhV","117524GYJUqa","StretchWindow","Voxel","129518XfNpsq","StretchTexture","LineWidth","6lmqxwx","14087HqnHGJ","MeshGroup","LineWidthDash","Line","8ZomEcN"],h$1=b$10;function b$10(t,e){return a$10[t-=198]}!function(t,e){const r=b$10;for(;;)try{if(119350===parseInt(r(213))*parseInt(r(211))+-parseInt(r(224))*parseInt(r(233))+parseInt(r(221))+-parseInt(r(218))+parseInt(r(203))*parseInt(r(225))+-parseInt(r(217))*parseInt(r(207))+-parseInt(r(229))*-parseInt(r(199)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$10);const painterType={NONE:"none",POINT:"Point",TEXT_POINT:h$1(231),TEXT_LINE:h$1(216),SPRITEPOINT:h$1(200),POINT_ON_SURFACE:h$1(202),LINE:h$1(228),LINE_DASH:h$1(204),LINE_WIDTH:h$1(223),LINE_WIDTH_DASH:h$1(227),LINE_ON_SURFACE:"LineOnSurface",POLYGON_SOLID:h$1(212),POLYGON_DASH:h$1(201),POLYGON_TEXTURE:h$1(232),POLYGON_NOISE:h$1(209),POLYGON_VIDEOTEX:h$1(214),POLYGON_RADIALGRADIENT:h$1(206),POLYGON_ON_SURFACE:h$1(205),STRETCH:h$1(230),STRETCH_TEXTURE:h$1(222),STRETCH_WINDOW:h$1(219),VOXEL:h$1(220),MESH_COLOR:h$1(215),MESH_TEXTURE:h$1(198),POINTCLOUD:h$1(208),MESH_GROUP:h$1(226),FILLSOLIDBINPAINTER:h$1(210)},a$$=["exec","74094blfPfy","color must be an Array","203dAGDwn","map","push","toArray","125110PlvbKq","min","clone","substr","5557YHVNJk","1248109KXJGZp","106zjlRNN","toString","660137AnnBwK","slice","1rybodO","rgba(","19DBooXh","deepen","length","data","rgb(","parameter was not a number between 0 and 1!","_isNorColorArr","the color parameter was out of range!","37KKXuNd","fromNormalizeArray","fromArray","1iJsAtk","split","toUint8Array","setOpacity","fromRGBAColor","indexOf","_isColorArr","6506vIYrVz","_color","toRGBColor","fromHexColor","1229327JhozQu"],o$3=b$$;function b$$(t,e){return a$$[t-=191]}!function(t,e){const r=b$$;for(;;)try{if(965550===parseInt(r(222))*parseInt(r(195))-parseInt(r(206))+-parseInt(r(202))*-parseInt(r(220))+-parseInt(r(208))*parseInt(r(226))+-parseInt(r(219))*parseInt(r(224))+parseInt(r(210))*-parseInt(r(218))+parseInt(r(214))*parseInt(r(192)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$$);class Color{constructor(t=0,e=0,r=0,i=1){const n=b$$;if(this[n(203)]=[t,e,r,i],!(t>=0&&t<=255&&e>=0&&e<=255&&r>=0&&r<=255&&i>=0&&i<=1))throw new RangeError(n(191))}[o$3(201)](t){const e=o$3;if(!(t instanceof Array)||t.length<3||t[e(228)]>4)throw new TypeError("color must be an Array of RGB or RGBA!");for(let r=0;r<t[e(228)];r++){let i;if(i=r<3?t[r]>=0&&t[r]<256:t[r]>=0&&t[r]<=1,!i)throw new RangeError(e(191))}return t[e(228)]<4&&(t[3]=1),t}[o$3(232)](t){const e=o$3;if(!(t instanceof Array)||t[e(228)]<3||t[e(228)]>4)throw new TypeError(e(209));for(let r=0;r<t[e(228)];r++){let i;if(i=t[r]>=0&&t[r]<=1,!1===i)throw new RangeError(e(191))}return t[e(228)]<4&&(t[3]=1),t}[o$3(213)](){return this[o$3(203)]}[o$3(197)](){const t=o$3;return[this._color[0],this._color[1],this[t(203)][2],255*this[t(203)][3]]}[o$3(194)](t){this[o$3(203)]=this._isColorArr(t)}[o$3(216)](){const t=this[o$3(203)];return new Color(t[0],t[1],t[2],t[3])}[o$3(198)](t){const e=o$3;if(t<0||t>1)throw new TypeError(e(231));return this[e(203)][3]=t,this[e(203)]}getOpacity(){return this[o$3(203)][3]}toNormalizeArray(){const t=o$3,e=[];for(let r=0;r<3;r++)e[t(212)](this[t(203)][r]/255);return e[t(212)](this._color[3]),e}toHexColor(){const t=o$3;let e,r="#";for(let i=0,n=this._color[t(228)];i<n-1;i++)e=this[t(203)][i][t(221)](16),this._color[i]<16&&(e="0"+e),r+=e;return r}toRGBAColor(){const t=o$3;return"rgba("+this._color[0]+","+this[t(203)][1]+","+this[t(203)][2]+","+this._color[3]+")"}[o$3(204)](){const t=o$3,e=this[t(203)][0],r=this[t(203)][1],i=this._color[2];return t(230)+e+","+r+","+i+")"}[o$3(193)](t){const e=o$3;if(t instanceof Array&&(3===t[e(228)]||4===t[e(228)])){const r=[];for(let i=0;i<3;i++){const n=255*t[i];if(n<0||n>255)return!1;r[e(212)](n)}return r[3]=r[e(228)]>3?r[3]:1,this[e(203)]=r,!0}return!1}[o$3(205)](t){const e=o$3;if(/^#(?:[0-9a-f]{3,4}){1,2}$/i[e(207)](t)){const r=t.length-1;let i;i=r<=4?1:2;const n=parseInt(t[e(217)](1,i),16),s=parseInt(t[e(217)](1+1*i,i),16),o=parseInt(t.substr(1+2*i,i),16);let a;return a=4===r||8===r?parseInt(t[e(217)](1+3*i,i),16)/255:1,this[e(203)]=[n,s,o,a],!0}return!1}[o$3(199)](t){const e=o$3;if(0===t[e(200)](e(225)))return this[e(203)]=t[e(223)](5,-1).split(",")[e(211)](Number),!0;if(0===t[e(200)](e(230))){const r=t.slice(4,-1)[e(196)](",")[e(211)](Number);return r[e(212)](1),this._color=r,!0}return!1}[o$3(227)](t){const e=o$3;return this[e(203)][0]=Math[e(215)](this[e(203)][0]*t,255),this._color[1]=Math.min(this[e(203)][1]*t,255),this[e(203)][2]=Math[e(215)](this[e(203)][2]*t,255),this}static getTextureByColor(t){const e=o$3;let r=new ImageData(2,2),i=r[e(229)][e(228)];for(let n=0;n<i;n+=4)r.data[n+0]=255*t[0],r.data[n+1]=255*t[1],r[e(229)][n+2]=255*t[2],r[e(229)][n+3]=t[3];return r}}var a$_=["_offset","166857bOmmpI","3JmVphd","hasOwnProperty","setOpacity","name","259986zTlGwD","199153mxREgB","1016545ZmUYjb","1pybEfK","constructor","90922VstwHk","getOpacity","_id","createUnique","setOffset","38058gmYWRU","parameter offset must be an instance of Offset","offset","9uttgwG","8146VYoecJ"],k$3=b$_;function b$_(t,e){return a$_[t-=253]}!function(t,e){for(var r=b$_;;)try{if(181713===-parseInt(r(271))+parseInt(r(269))+-parseInt(r(260))*parseInt(r(272))+-parseInt(r(256))*-parseInt(r(258))+-parseInt(r(255))+parseInt(r(265))*-parseInt(r(268))+parseInt(r(257)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$_);class FillSymbol{constructor(t={}){var e=b$_;if(new.target===FillSymbol)throw new SyntaxError("the FillSymbol is an abstract class,can not be instantiated!");this[e(262)]=Aid[e(263)](this[e(259)][e(254)]),this[e(270)]=t[e(273)](e(267))?t[e(267)]:new Offset(0,0)}[k$3(264)](t){var e=k$3;if(t instanceof Offset)throw new TypeError(e(266));return this[e(270)]=t,this}getOffset(){return this[k$3(270)]}[k$3(253)](t){}[k$3(261)](){}}var a$Z=["color must be an instance of Color!","7bXhgnQ","90946aePRFr","123733wXyVon",'parameter "color" must be an instance of Color',"99139yYUHrD","22954AdviKE","16963Ohesiz","2QoKsgv","28MfGCek","1qQZwfm","setColor","setOpacity","24635kMhNJN","getOpacity","296971ejmJTp","9elABIx","_color","clone"],l$4=b$Z;function b$Z(t,e){return a$Z[t-=174]}!function(t,e){for(var r=b$Z;;)try{if(257683===parseInt(r(189))*parseInt(r(184))+parseInt(r(178))*parseInt(r(175))+-parseInt(r(186))*parseInt(r(191))+parseInt(r(187))+-parseInt(r(190))*parseInt(r(188))+-parseInt(r(177))+parseInt(r(183))*parseInt(r(182)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$Z);class ColorFill extends FillSymbol{constructor(t){var e=b$Z;if(super(),!(t instanceof Color))throw new TypeError(e(181));this[e(179)]=t}getColor(){return this[b$Z(179)]}[l$4(192)](t){var e=l$4;if(!(t instanceof Color))throw new TypeError(e(185));this[e(179)]=t}[l$4(180)](){return new ColorFill(this._color.clone())}[l$4(174)](t){var e=l$4;this[e(179)][e(174)](t)}getOpacity(){var t=l$4;return this[t(179)][t(176)]()}}var a$Y=["_opacity","the extent of the parameter 'opacity' is [0,1]","2KwMJZv","311161xkBRCj","_offset","getRotation","9169mLyolb","418sgckaT","name","setOffset","sprite","_scale","14DRmepm","1FsYcfv","rotation","_id","createUnique","setRotation","setRotateWithView","89779mshUoy","_rotateWithView","hasOwnProperty","opacity","boolean","the rotateWithView should be boolean type","2475lErvwU","_rotation","323YTSzGR","offset","the MarkerSymbol is an abstract class,can not be instantiated!","356479XWPWbx","isFinite","getScale","303647oUYZup","33voAHow","1TZdwCH","273vaLtom","getOffset","rotateWithView","getRotateWithView"],l$3=b$Y;!function(t,e){for(var r=b$Y;;)try{if(920672===-parseInt(r(413))*-parseInt(r(406))+parseInt(r(419))*-parseInt(r(430))+-parseInt(r(436))*parseInt(r(424))+-parseInt(r(407))*-parseInt(r(427))+parseInt(r(437))*parseInt(r(429))+-parseInt(r(440))*-parseInt(r(428))+parseInt(r(421))*parseInt(r(401)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$Y);class MarkerSymbol{constructor(t){var e=b$Y;if(new.target===MarkerSymbol)throw new SyntaxError(e(423));if(this[e(434)]=t[e(415)](e(416))?t[e(416)]:1,this[e(438)]=t[e(415)](e(422))?t[e(422)]:new Offset(0,0,0),!(this[e(434)]>=0&&this[e(434)]<=1&&this[e(438)]instanceof Offset))throw new TypeError("the range of the parameter 'opacity' is [0,1] and parameter 'offset' must be hmap.basetype.Offset");this._rotation=Number[e(425)](t[e(408)])?t[e(408)]:0,this[e(414)]=typeof t[e(432)]===e(417)&&t.rotateWithView,this[e(405)]=Number[e(425)](t.scale)?t.scale:1,this[e(404)]=t.sprite||!1,this[e(409)]=Aid[e(410)](this.constructor[e(402)])}getOpacity(){return this[b$Y(434)]}[l$3(433)](){return this[l$3(414)]}[l$3(439)](){return this[l$3(420)]}[l$3(426)](){return this[l$3(405)]}[l$3(431)](){return this._offset}setOpacity(t){var e=l$3;if(!(t>=0&&t<=1))throw new TypeError(e(435));this[e(434)]=t}[l$3(412)](t){if("boolean"!=typeof t)throw new TypeError(l$3(418));this._rotateWithView=t}[l$3(411)](t){this[l$3(420)]=t}setScale(t){this[l$3(405)]=t}[l$3(403)](t){var e=l$3;if(!(t instanceof Offset))throw new TypeError("the parameter must be a Offset");this[e(438)]=t}}function b$Y(t,e){return a$Y[t-=401]}var a$X=["1NaOLpx","_outlineColor","119Inyyhl","_outlineWidth","fillColor","125627xFagcu","outlineWidth","isFinite","879fwRmec","411256ZGmbew","hasOwnProperty","847192MVNNgk","getFillColor","outlineColor","787712XCeMcf","6SulzYc","getOutlineColor","_vertexNum","setOutlineWidth","getOutlineWidth","467807nhPLpu","setOutlineColor","491711AiDUiP","vertexNum","_fillColor","parameter 'color' must be instance of Color"],k$2=b$X;!function(t,e){for(var r=b$X;;)try{if(452931===parseInt(r(361))+parseInt(r(373))*parseInt(r(369))+parseInt(r(362))*-parseInt(r(352))+-parseInt(r(375))*parseInt(r(355))+parseInt(r(367))+parseInt(r(356))+-parseInt(r(358)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$X);class RegularShape extends MarkerSymbol{constructor(t){var e=b$X;if(new.target===RegularShape)throw new SyntaxError("the RegularShape is an abstract class,can not be instantiated!");if(super(t),this[e(371)]=t[e(357)](e(377))?t[e(377)]:new Color(255,0,0,1),this[e(374)]=t[e(357)](e(360))?t[e(360)]:new Color(0,0,0,1),this[e(376)]=t[e(357)](e(353))?t[e(353)]:1,!(this._fillColor instanceof Color&&this[e(374)]instanceof Color&&Number[e(354)](this._outlineWidth)))throw new TypeError("parameter 'fillColor' and 'outlineColor' must be instance of Color and parameter 'outlineWidth' must be a number");this[e(364)]=void 0!==t.vertexNum?t[e(370)]:3}setFillColor(t){if(!(t instanceof Color))throw new TypeError("parameter 'fillColor' must be instance of Color");this._fillColor=t}[k$2(359)](){return this[k$2(371)]}[k$2(368)](t){var e=k$2;if(!(t instanceof Color))throw new TypeError(e(372));this[e(374)]=t}[k$2(363)](){return this[k$2(374)]}[k$2(365)](t){var e=k$2;if(!Number[e(354)](t))throw new TypeError("parameter 'width' must be Number that is not infinity");this[e(376)]=t}[k$2(366)](){return this[k$2(376)]}}function b$X(t,e){return a$X[t-=352]}const a$W=["getRenderData","4qrTkzL","639196ChEoZF","hasOwnProperty","_offset","bgColor","_fillColor","17524yQDiNK","_radius","633608ObxqOg","getOffset","431uZANLp","offset","1572tKBxoh","getMarkerInfo","height","opacity","the radius should be a number that is not infinity.","getOpacity","isFinite","179473ZIepLx","_outlineColor","setRadius","textureCoord","atlasMgr","695042dmJgIT","size","192385rLMGUw","push",'parameter "radius" must be a number that is not infinity',"clone","getValue","angle","radius","getRadius","_outlineWidth"],t$1=b$W;function b$W(t,e){return a$W[t-=477]}!function(t,e){const r=b$W;for(;;)try{if(531081===-parseInt(r(490))-parseInt(r(508))+-parseInt(r(494))*parseInt(r(492))-parseInt(r(488))+parseInt(r(506))+parseInt(r(483))+-parseInt(r(482))*-parseInt(r(501)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$W);class Circle$1 extends RegularShape{constructor(t){const e=b$W;if(super(t=t||{}),this._radius=t[e(484)](e(478))?t[e(478)]:10,!Number[e(500)](this[e(489)]))throw new TypeError(e(510))}[t$1(511)](){const t=t$1,e={radius:this[t(489)],fillColor:this[t(487)][t(511)](),outlineColor:this[t(502)][t(511)](),outlineWidth:this[t(480)],offset:this[t(485)][t(511)]()};return new Circle$1(e)}[t$1(479)](){return this[t$1(489)]}[t$1(503)](t){const e=t$1;if(!Number[e(500)](t))throw new Error(e(498));this._radius=t}[t$1(481)](t,e){const r=t$1,i=t[r(505)],n=[],s=[],o=[],a=[],h=[],l=[],c=2*this[r(479)]();n[r(509)](c,c),s.push(this[r(499)]());const u=this[r(491)]()[r(512)]("X"),p=this[r(491)]()[r(512)]("Y");o.push(u),o[r(509)](p),a[r(509)](1),a.push(1),a.push(1),a[r(509)](1),l.push(this.getRotation()*Math.PI/180);const f={};f[r(507)]=n,f[r(497)]=s,f[r(493)]=o,f.textColor=a,f[r(486)]=[0,0,0,0],f[r(477)]=l,f.hasHalo=[!0];let g=i[r(495)](this);return!g&&(g=i.addMarker(this,(()=>{}))),h[r(509)](g.x),h.push(g.y),h.push(g.width),h.push(g[r(496)]),f[r(504)]=h,f}}var a$V=["lineStyle","984069cDxTzA","butt","capPtCount","parameter dashRatio must be an Array of length four, and the array elements must be numbers that are not infinity","45282BwDeYG","dashPixelLength","getLineCap","_color","renderMode","width should be number and not less zero","481295shbJBn","955jWahmz","_renderMode","_lineJoin","bevel","constructor","lineStyle should be 'dash' or 'solid'","miterLimit","53794seXxLF","setLineJoin","_dashRatio","1hbvDJE","_lineCap","getCapPtCount","dashRatio","setDashPixelLength","lineJoin","hasOwnProperty","dash","color","setCapPtCount","clone","_lineStyle","miter","setLineCap","getLineJoin","getMiterLimit","lineJoin should be 'bevel' or 'miter' or 'round'","_id","1011tJYfvM","lineCap should be 'square', or 'butt', or 'round'","getColor","_dashPixelLength","_capPtCount","length","setColor","createUnique","_lineOffset","parameter dashPixelLength must be an Integer more than zero","setLineStyle","isFinite","getLineOffset","invalid parameter, must be instance of Offset","width","999772uyboPW","lineCap","isInteger","_width","round","setDashRatio","getDashRatio","setMiterLimit","setLineOffset","getDashPixelLength","23752qFjYnN","getRenderMode","_miterLimit","both"],l$2=b$V;function b$V(t,e){return a$V[t-=299]}!function(t,e){for(var r=b$V;;)try{if(659869===-parseInt(r(354))*-parseInt(r(321))+parseInt(r(318))+parseInt(r(339))*-parseInt(r(311))+-parseInt(r(310))+parseInt(r(364))+parseInt(r(300))+parseInt(r(304)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$V);class LineSymbol{constructor(t){var e=b$V;t=t||{},this[e(307)]=t.hasOwnProperty("color")?this[e(345)](t[e(329)]):new Color(0,0,200,1),this._lineCap=t[e(327)](e(355))?this.setLineCap(t[e(355)]):e(301),this._lineJoin=t[e(327)](e(326))?this[e(319)](t.lineJoin):e(314),this[e(332)]=t[e(327)](e(299))?this[e(349)](t.lineStyle):"solid",this[e(347)]=t[e(327)]("lineOffset")?this[e(362)](t.lineOffset):new Offset(0,0),this[e(357)]=t[e(327)](e(353))?this.setWidth(t.width):1,this[e(366)]=t[e(327)](e(317))?this[e(361)](t[e(317)]):this[e(357)],this[e(320)]=t.hasOwnProperty(e(324))?this[e(359)](t.dashRatio):[1,1,1,1],this[e(342)]=t[e(327)](e(305))?this[e(325)](t[e(305)]):20,this[e(343)]=t[e(302)]||5,this[e(312)]=t[e(308)]||e(367),this[e(338)]=Aid[e(346)](this[e(315)].name)}[l$2(331)](){var t=l$2;return new LineSymbol({color:this[t(307)][t(331)](),lineCap:this._lineCap,lineJoin:this[t(313)],lineStyle:this[t(332)],lineOffset:this[t(347)],miterLimit:this[t(366)],width:this._width,dashRatio:this._dashRatio,dashPixelLength:this[t(342)]})}[l$2(363)](){return this._dashPixelLength}setDashPixelLength(t){var e=l$2;if(Number[e(356)](t)&&t>0)return this[e(342)]=t,t;throw new Error(e(348))}[l$2(359)](t){var e=l$2;if(t instanceof Array&&4==t[e(344)]&&Number.isFinite(t[0])&&Number.isFinite(t[1])&&Number[e(350)](t[2])&&Number[e(350)](t[3]))return this[e(320)]=t,this._dashRatio;throw new Error(e(303))}[l$2(360)](){return this._dashRatio}[l$2(341)](){return this._color}[l$2(306)](){return this[l$2(322)]}[l$2(323)](){return this[l$2(343)]}getLineStyle(){return this[l$2(332)]}[l$2(351)](){return this[l$2(347)]}[l$2(335)](){return this[l$2(313)]}[l$2(336)](){return this[l$2(366)]}getWidth(){return this[l$2(357)]}[l$2(345)](t){return this[l$2(307)]=t,this._color}[l$2(334)](t){var e=l$2;if("butt"!==t&&"square"!==t&&t!==e(358))throw new RangeError(e(340));return this._lineCap=t,this[e(322)]}[l$2(330)](t){var e=l$2;return this[e(343)]=t,this[e(343)]}[l$2(349)](t){var e=l$2;if(t!==e(328)&&"solid"!==t)throw new RangeError(e(316));return this._lineStyle=t,this[e(332)]}setLineOffset(t){var e=l$2;if(!(t instanceof Offset))throw new TypeError(e(352));return this[e(347)]=t,this[e(347)]}[l$2(319)](t){var e=l$2;if(t!==e(314)&&t!==e(333)&&t!==e(358))throw new RangeError(e(337));return this._lineJoin=t,this[e(313)]}[l$2(361)](t){var e=l$2;if(!Number[e(350)](t))throw new TypeError("miterLimit should be number that is not infinity");return this[e(366)]=t,this[e(366)]}setWidth(t){var e=l$2;if(!(Number[e(350)](t)&&t>=0))throw new TypeError(e(309));return this[e(357)]=t,this[e(357)]}[l$2(365)](){return this._renderMode}setRenderMode(t){var e=l$2;return this[e(312)]=t,this[e(312)]}}const a$U=["setTextBaseline","_maxAngle","parameter 'offset' must be instance of Offset","parameter 'textAlign' should be left, or right, or center","_rotation","_size","fontWeight","_fontSize","charAt","setHaloColor","_haloColor","addText","substr","height","hasOwnProperty","atlasMgr","setFontFace","isInteger","getFontWeight","rowTextCount","normal","_calulateTotalByteLen","getRotateWithView","clone","72034EcmAsP","_offset","getLineRenderData2","setRotateWithView","getAtlas","placement","setPlacement","length","parameter 'color' must be instance of Color","constructor","haloWidth","getText","setHaloWidth","px ","ceil","top","setText","31709woEwmP","_backgroundColor","getTextAlign","parameter should be a number no less than zero!","sprite","width","center","line","maxAngle","setRowTextCount","setOffset","getContext","createUnique","_overflow","right","push","setOpacity","_textBaseline","getFontSize","getFontColor","overflow","setRotation","_normalize","getFontStyle","fontSize","parameter 'overflow' must be boolean","text","bolder","oblique","measureText","getValue","_textAlign","offset","getPlacement","9174ViHtkq","parameter 'width' must be number","getMaxAngle","opacity","setFontColor","name","_haloWidth","Microsoft YaHei","parameter 'fontFace' must be string","setBackgroundColor","_toMultiLines","split","parameter should be a number and greater than or equal to zero!","getOverflow","bottom","parameter 'text' must be string","haloColor","193939FxIbGu","650895cipTLp","fontColor","_rotateWithView","size","getHaloWidth","rotateWithView","_calRowLength","setOverflow","getRotation","7axPjAC","point","_fontStyle","_id","_fontWeight","left","_rowTextCount","indexOf","toUint8Array","fontStyle","setFontWeight","getHaloColor","floor","setMaxAngle","sin","middle","max","27LzaWlG","parameter 'fontStyle' must be string,for example: 'normal','italic','oblique'","_placement","setTextAlign","rotation","_opacity","863150dsewtY","bold","isFinite","cos","getLineRenderData","textBaseline","bgColor","_text","_fontColor","getFontFace","textureCoord","charCodeAt","getOpacity","_fontFace","textAlign","backgroundColor","font","870627WqSegE"],aa=b$U;function b$U(t,e){return a$U[t-=211]}!function(t,e){const r=b$U;for(;;)try{if(491232===parseInt(r(253))+parseInt(r(303))+parseInt(r(345))*-parseInt(r(280))+-parseInt(r(236))+parseInt(r(254))+parseInt(r(263))*parseInt(r(328))+-parseInt(r(286)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$U);class TextSymbol{constructor(t){const e=b$U;t=t||{},this._fontWeight=t[e(318)](e(310))?this[e(273)](t.fontWeight):400,this[e(285)]=t.hasOwnProperty(e(239))?this[e(218)](t.opacity):1,this[e(265)]=t.hasOwnProperty(e(272))?this.setFontStyle(t[e(272)]):e(324),this._fontSize=t[e(318)](e(226))?this.setFontSize(t[e(226)]):20,this._fontFace=t[e(318)]("fontFace")?this[e(320)](t.fontFace):e(243),this[e(293)]=t[e(318)](e(228))?this[e(344)](t[e(228)]):"",this[e(329)]=t.hasOwnProperty(e(234))?this[e(212)](t[e(234)]):new Offset(0,0,0),this[e(282)]=t[e(318)](e(333))?this.setPlacement(t.placement):"point",this[e(256)]=!!t[e(318)](e(259))&&this.setRotateWithView(t[e(259)]),this[e(308)]=t[e(318)](e(284))?this[e(223)](t[e(284)]):0,this[e(233)]=t[e(318)](e(300))?this[e(283)](t[e(300)]):"center",this[e(219)]=t[e(318)](e(291))?this[e(304)](t[e(291)]):"middle",this[e(215)]=!!t[e(318)](e(222))&&this[e(261)](t[e(222)]),this._fontColor=t[e(318)](e(255))?this[e(240)](t[e(255)]):new Color(0,0,0,1),this[e(314)]=t[e(318)]("haloColor")?this[e(313)](t[e(252)]):new Color(255,255,255,0),this._haloWidth=t[e(318)](e(338))?this[e(340)](t[e(338)]):0,this[e(346)]=t[e(318)](e(301))?this[e(245)](t[e(301)]):new Color(255,255,255,0),this._maxAngle=t[e(318)](e(353))?this.setMaxAngle(t[e(353)]):Number((.25*Math.PI).toFixed(6)),this[e(269)]=t[e(318)](e(323))?this[e(211)](t[e(323)]):6,this[e(349)]=t.sprite||!1,this[e(266)]=Aid[e(214)](this[e(337)][e(241)])}clone(){const t=b$U;return new TextSymbol({fontWeight:this[t(267)],fontStyle:this[t(265)],fontSize:this[t(311)],fontFace:this[t(299)],text:this._text,offset:this._offset,placement:this[t(282)],rotateWithView:this[t(256)],rotation:this[t(308)],textAlign:this[t(233)],textBaseline:this[t(219)],overflow:this[t(215)],maxAngle:this[t(305)],opacity:this[t(285)],fontColor:this[t(294)][t(327)](),haloColor:this[t(314)][t(327)](),haloWidth:this[t(242)],backgroundColor:this._backgroundColor[t(327)](),rowTextCount:this[t(269)]})}[aa(298)](){return this._opacity}setOpacity(t){const e=aa;return this[e(285)]=t,this[e(285)]}getBackgroundColor(){return this[aa(346)]}getFontColor(){return this[aa(294)]}[aa(322)](){const t=aa,e=this[t(267)];return 700===e?t(287):900===e?t(229):"normal"}[aa(225)](){return this[aa(265)]}[aa(220)](){return this._fontSize}[aa(295)](){return this[aa(299)]}[aa(238)](){return this[aa(305)]}getOffset(){return this[aa(329)]}[aa(249)](){return this._overflow}[aa(235)](){return this[aa(282)]}[aa(326)](){return this[aa(256)]}[aa(262)](){return this[aa(308)]}[aa(339)](){return this[aa(293)]}[aa(347)](){return this._textAlign}[aa(274)](){return this[aa(314)]}[aa(258)](){return this[aa(242)]}getTextBaseline(){return this[aa(219)]}getRowTextCount(){return this[aa(269)]}setRowTextCount(t){const e=aa;if(!Number[e(321)](t)||t<0)throw new TypeError(e(248));return this[e(269)]=t,this[e(269)]}[aa(245)](t){const e=aa;if(!(t instanceof Color))throw new TypeError("parameter 'color' must be instance of Color");return this[e(346)]=t,this._backgroundColor}[aa(273)](t){const e=aa;switch(t){case e(324):this._fontWeight=400;break;case e(287):this[e(267)]=700;break;case e(229):this[e(267)]=900;break;default:this._fontWeight=t}return this[e(267)]}setFontStyle(t){const e=aa;if(t===e(324)||"italic"===t||t===e(230))return this._fontStyle=t,this[e(265)];throw new TypeError(e(281))}setFontSize(t){const e=aa;if(!Number[e(321)](t)||t<0)throw new TypeError(e(348));return this[e(311)]=t,this[e(311)]}setFontFace(t){const e=aa;if(!t||"string"!=typeof t)throw new TypeError(e(244));return this[e(299)]=t,this[e(299)]}setFontColor(t){const e=aa;if(!(t instanceof Color))throw new TypeError(e(336));return this[e(294)]=t,this[e(294)]}[aa(313)](t){const e=aa;if(!(t instanceof Color))throw new TypeError(e(336));return this[e(314)]=t,this[e(314)]}[aa(340)](t){const e=aa;if(!Number.isFinite(t)||t<0)throw new TypeError(e(237));return this._haloWidth=t,this._haloWidth}[aa(276)](t){const e=aa;if(!Number[e(288)](t))throw new TypeError("parameter 'maxAngle' must be number");return this[e(305)]=t,this[e(305)]}[aa(212)](t){if(!(t instanceof Offset))throw new TypeError(aa(306));return this._offset=t,this._offset}[aa(261)](t){const e=aa;if("boolean"!=typeof t)throw new TypeError(e(227));return this[e(215)]=t,this._overflow}[aa(334)](t){const e=aa;if(t!==e(264)&&t!==e(352))throw new TypeError("parameter 'placement' should be point or line");return this._placement=t,this[e(282)]}[aa(331)](t){const e=aa;if("boolean"!=typeof t)throw new TypeError("parameter 'rotateWithView' must be boolean");return this[e(256)]=t,this[e(256)]}[aa(223)](t){const e=aa;if(!Number[e(288)](t))throw new TypeError("parameter 'rotation' must be number");return this[e(308)]=t,this[e(308)]}[aa(344)](t){const e=aa;if("string"!=typeof t)throw new TypeError(e(251));return this[e(293)]=t,this[e(293)]}setTextAlign(t){const e=aa;if("left"!==t&&t!==e(216)&&t!==e(351))throw new TypeError(e(307));return this[e(233)]=t,this[e(233)]}[aa(304)](t){const e=aa;if(t!==e(278)&&t!==e(250)&&t!==e(343))throw new TypeError("parameter 'textBaseline' should be middle, or bottom, or top");return this[e(219)]=t,this[e(219)]}getRenderData(t,e){const r=aa,i=t[r(319)],n=i[r(332)](),s=t[r(228)];let o=s[r(335)],a=[],h=[],l=[],c=[],u=[],p=[],f=[],g=[],d=[],_=[];const y=this[r(326)]()?1:0,m=this[r(294)][r(271)](),I=this[r(314)].toUint8Array(),x=this[r(346)].toUint8Array(),v=this[r(329)].getValue("X"),b=-this[r(329)][r(232)]("Y"),w=this[r(308)]*Math.PI/180;let T=this[r(265)]!==r(324)?4:0,E=this[r(311)]<=26?this._fontSize+6:this[r(311)]+8;I[3]>0&&this._haloWidth>0&&(T+=2*this[r(242)]-1,E+=this[r(242)]);let C=this[r(246)](s);for(let t=0,e=C[r(335)];t<e;t++){const s=C[t],o=s[r(335)],A=(this._calRowLength(s,n)+(o-1)*T)/2,M=e*E/2;let S=0;switch(this[r(233)]){case r(268):S=-A;break;case"right":S=A;break;case r(351):S=0}let P,R=v+S;if(e%2){P=(Math[r(275)](e/2)-t)*E}else{P=(Math.floor(e/2)-.5-t)*E}let L=0;switch(this[r(219)]){case r(343):L=P+M;break;case r(250):L=P-M;break;case r(278):L=P}let F=b+L;const D=-P*Math.sin(w),O=P*Math[r(289)](w)-P;R+=D,F+=O;let N=0;for(let t=0;t<o;t++){const e=this[r(260)](s[r(312)](t),n);N+=e/2;const o=-A+N;N+=e/2+T;const v=o*Math[r(289)](w),b=o*Math[r(277)](w);let E=i[r(315)](s[t],this);f[r(217)](E.x),f.push(E.y),f[r(217)](E[r(350)]),f[r(217)](E[r(317)]);let C=Math[r(279)](E[r(350)],E[r(317)]);i.getAtlas()[r(224)]&&(C*=i[r(332)]()[r(309)]),a[r(217)](C,C),l[r(217)](R+v),l[r(217)](F+b);for(let t=0;t<4;t++)c[r(217)](m[t]),u[r(217)](I[t]),p.push(x[t]);d.push(this[r(242)]),h.push(this._opacity),g[r(217)](w),_.push(y)}}let A={};return A.textNum=o,A[r(257)]=a,A[r(239)]=h,A[r(234)]=l,A.textureCoord=f,A.angle=g,A[r(255)]=c,A.haloColor=u,A[r(292)]=p,A[r(338)]=d,A[r(259)]=_,e&&e(A),A}[aa(330)](t,e){const r=aa,i=t.atlasMgr,n=t[r(228)];let s=[],o=[],a=[],h=[],l=[],c=[],u=[],p=[];const f=this[r(298)](),g=this[r(220)](),d=this[r(258)](),_=this[r(221)]()[r(271)](),y=this.getHaloColor()[r(271)](),m=[0,0,0,0];let I=i[r(315)](n,this);const x=I.x,v=I.x+I.width,b=I.y,w=I.y+I.height;u[r(217)](x,w),u[r(217)](v,w),u[r(217)](v,b),u.push(x,b),a[r(217)](0),a[r(217)](0),a[r(217)](0),a[r(217)](0),s[r(217)](g,g),s[r(217)](g,g),s[r(217)](g,g),s.push(g,g);for(let t=0;t<4;t++)h[r(217)](..._),l[r(217)](...y),c.push(...m);p[r(217)](d),p[r(217)](d),p[r(217)](d),p[r(217)](d),o[r(217)](f),o[r(217)](f),o[r(217)](f),o[r(217)](f);let T={};return T.opacity=o,T[r(234)]=a,T[r(257)]=s,T.textureCoord=u,T[r(255)]=h,T.haloColor=l,T[r(292)]=c,T[r(338)]=p,e&&e(T),T}[aa(290)](t,e){const r=aa,i=t.atlasMgr,n=t[r(228)];let s=[],o=[],a=[],h=[],l=[],c=[],u=[],p=[];const f=this[r(298)](),g=this[r(220)](),d=this[r(258)](),_=this[r(221)]()[r(271)](),y=this[r(274)]()[r(271)]();let m=i[r(315)](n,this);u[r(217)](m.x),u[r(217)](m.y),u[r(217)](m[r(350)]),u[r(217)](m[r(317)]),a.push(0),s[r(217)](g,g),h[r(217)](..._),l[r(217)](...y),c[r(217)](0,0,0,0),p[r(217)](d),o[r(217)](f);let I={};return I[r(239)]=o,I[r(234)]=a,I[r(257)]=s,I[r(296)]=u,I.fontColor=h,I[r(252)]=l,I.bgColor=c,I[r(338)]=p,e&&e(I),I}[aa(325)](t){const e=aa;let r=0;for(let i=0,n=t[e(335)];i<n;i++)t[e(297)](i)<255?r+=1:r+=2;return r}[aa(260)](t,e){const r=aa,i=e[r(213)]();return i[r(302)]=this._fontWeight+" "+this[r(265)]+" "+this[r(311)]+r(341)+this[r(299)],i[r(231)](t)[r(350)]}_toMultiLines(t){const e=aa;if(t[e(270)]("\n")>-1)return t[e(247)]("\n");{let r=[],i=t[e(335)];for(let n=0,s=Math[e(342)](i/this._rowTextCount);n<s;n++){if(n==s-1){r[e(217)](t.substr(n*this[e(269)]));break}r[e(217)](t[e(316)](n*this[e(269)],this._rowTextCount))}return r}}}const a$T=["_deepCopy","markerSymbols option should be Array type.","getZIndex","_fillSymbols","isArray","fillSymbols","110024hQIdcO","markerSymbols","setTextSymbols","_zIndex","setFillSymbols","265087HzQGIH","getMarkerSymbols","179161EqOyPG","_lineSymbols","_id","createUnique","name","setLineSymbols","lineSymbols","function","textSymbols","getLineSymbols","zIndex","1736SbWNsO","clone","1sYJLhk","getFillSymbols","setMarkerSymbols","_textSymbols","290458FNLksF","fillSymbols option should be Array type.","constructor","push","_markerSymbols","createFunction","setZIndex","1qSrsCn","getTextSymbols","getDefault","298523EatzuQ","772mZfubn","1HBpWXj"],o$2=b$T;function b$T(t,e){return a$T[t-=215]}!function(t,e){const r=b$T;for(;;)try{if(190393===parseInt(r(215))*parseInt(r(257))+parseInt(r(240))*parseInt(r(242))-parseInt(r(256))-parseInt(r(229))+parseInt(r(222))+parseInt(r(253))*parseInt(r(227))+parseInt(r(246)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$T);class Style{constructor(t){const e=b$T;if(this[e(250)]=[],this[e(219)]=[],this[e(245)]=[],this[e(230)]=[],t){if(t[e(221)]){if(!Array[e(220)](t[e(221)]))throw new TypeError(e(247));this[e(219)]=t.fillSymbols}if(t[e(235)]){if(!Array[e(220)](t[e(235)]))throw new TypeError("lineSymbols option should be Array type.");this[e(230)]=t[e(235)]}if(t[e(223)]){if(!Array[e(220)](t.markerSymbols))throw new TypeError(e(217));this[e(250)]=t[e(223)]}if(t[e(237)]){if(!Array[e(220)](t.textSymbols))throw new TypeError("textSymbols option should be Array type.");this[e(245)]=t[e(237)]}this[e(225)]=t[e(239)]?t.zIndex:0}this[e(231)]=Aid[e(232)](this[e(248)][e(233)])}[o$2(243)](){return this._fillSymbols}[o$2(226)](t){this._fillSymbols=t}[o$2(228)](){return this[o$2(250)]}[o$2(244)](t){this[o$2(250)]=t}[o$2(238)](){return this[o$2(230)]}[o$2(234)](t){this[o$2(230)]=t}[o$2(254)](){return this[o$2(245)]}[o$2(224)](t){this[o$2(245)]=t}[o$2(218)](){return this[o$2(225)]}[o$2(252)](t){this._zIndex=t}static[o$2(255)](){const t=o$2;let e={};return e.fillSymbols=[new ColorFill(new Color(.5,1,0,1))],e.markerSymbols=[new Circle$1],e[t(235)]=[new LineSymbol],e.textSymbols=[new TextSymbol],new Style(e)}static[o$2(251)](t){const e=o$2;let r;if(typeof t===e(236))r=t;else{let i;if(Array[e(220)](t))i=t;else{if(!(t instanceof Style))return null;i=[t]}r=function(){return i}}return r}[o$2(241)](){const t=o$2;let e={};return e[t(221)]=this[t(219)]?this._deepCopy(this[t(219)]):null,e[t(223)]=this._markerSymbols?this[t(216)](this[t(250)]):null,e.lineSymbols=this[t(230)]?this[t(216)](this[t(230)]):null,e[t(237)]=this[t(245)]?this[t(216)](this._textSymbols):null,new Style(e)}_deepCopy(t){const e=o$2;let r=[];for(const i of t)r[e(249)](i[e(241)]());return r}}const a$S=["direction","texture_wrap_t","14184IBXXYJ","unitHeight","19SBTvAy","154718elplIn","getImgSrc","wrap_s","clone","anonymous","2AkZDKM","LINEAR","crossOrigin","unitWidth","loadImg","REPEAT","onerror","_id","3097SKQxsE","setTexture","273907QeWFjI","665666UdXTqe","bind","promise","texture_min_filter","src","wrap_t","string","1SkcZMk","uvExtent","38dLdlFW","_texture","_imgSrc","48903yiPHwp","5ZRXeos","mag_filter","texture_mag_filter","min_filter","21991bUGxUH"],j$1=b$S;function b$S(t,e){return a$S[t-=459]}!function(t,e){const r=b$S;for(;;)try{if(246981===parseInt(r(497))+-parseInt(r(479))*parseInt(r(487))+-parseInt(r(489))*-parseInt(r(477))+parseInt(r(492))*-parseInt(r(493))+-parseInt(r(464))*parseInt(r(469))+parseInt(r(463))*parseInt(r(461))+parseInt(r(480)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$S);class TextureFill extends FillSymbol{constructor(t,e={}){const r=b$S;if(super(),typeof t!==r(486))throw TypeError("the param of imgSrc must be string");this[r(491)]=t,this[r(462)]=e[r(462)],this[r(472)]=e[r(472)],this.wrap_s=e.texture_wrap_s||"REPEAT",this[r(485)]=e[r(460)]||r(474),this.mag_filter=e[r(495)]||r(470),this[r(496)]=e[r(483)]||r(470),this[r(488)]=e[r(488)]||[0,0,1,1],this[r(459)]=e[r(459)]||0,this[r(473)]()}[j$1(473)](){const t=j$1;this[t(482)]=new Promise(((e,r)=>{const i=t;let n=new Image;n.onload=function(){const t=b$S;this[t(490)]=n,this[t(491)]=n[t(484)],e(this)}[i(481)](this),n[i(475)]=function(t){}.bind(this),n[i(471)]=i(468),n[i(484)]=this._imgSrc}))}getTexure(){return this[j$1(490)]}[j$1(478)](t){const e=j$1;if(!(t instanceof Image))throw new TypeError("parameter was not a type of Image!");this[e(490)]=t,this[e(491)]=t[e(484)]}[j$1(467)](){const t=j$1;let e={unitHeight:this[t(462)],unitWidth:this.unitWidth,texture_wrap_s:this[t(466)],texture_wrap_t:this[t(485)],texture_mag_filter:this[t(494)],texture_min_filter:this[t(496)],uvExtent:this[t(488)],direction:this[t(459)]};return new TextureFill(this[t(491)],e)}[j$1(465)](){return this[j$1(491)]}getId(){return this[j$1(476)]}}var a$R=["getScale","texture_mag_filter","353gXNKVF","_scale","93923JJHkxi","_color","texture_min_filter","toNormalizeArray","13hTtVdR","normalColorArr","texture_wrap_s","mag_filter","7753mAfhjY","1381501RMITrY","hasOwnProperty","LINEAR","REPEAT","2876pohkRD","1351412LkWIUE",'parameter "color" must be an instance of Color',"95bvuCTg","min_filter","texture_wrap_t","static","wrap_s","1635212qKpRbE","3462913CrofZy","setScale"];function b$R(t,e){return a$R[t-=495]}var l$1=b$R;!function(t,e){for(var r=b$R;;)try{if(865520===-parseInt(r(508))*-parseInt(r(516))+parseInt(r(498))*-parseInt(r(513))+parseInt(r(521))+-parseInt(r(509))+-parseInt(r(504))*parseInt(r(500))+-parseInt(r(514))+parseInt(r(522)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$R);class Noise{constructor(t={}){var e=b$R;if(new.target===Noise)throw new TypeError("the Noise is an abstract class,and can not be instanced!");this[e(520)]=t[e(506)]||e(512),this.wrap_t=t[e(518)]||e(512),this[e(507)]=t[e(497)]||e(511),this[e(517)]=t[e(502)]||"LINEAR",this._static=!!t[e(510)](e(519))&&t[e(519)]}getColor(){return this[b$R(501)]}setColor(t){var e=b$R;if(!(t instanceof Color))throw new TypeError(e(515));this[e(501)]=t,this[e(505)]=this[e(501)][e(503)]()}[l$1(496)](){return this._scale}[l$1(495)](t){this[l$1(499)]=t}clone(){}}const a$Q=["color","onerror",'parameter "color" must be an instance of Color',"_static","static","LINEAR_MIPMAP_LINEAR","anonymous","_init","getSpeed","bind","1139vIXgdO","typeNum","5JpCZFM","setScale","toNormalizeArray","177DpbZaU","setSpeed","58EEoLuG","2544WJIYXH","getScale","onload","hasOwnProperty","205754khejCi","clone","image","imagePromise","191dFpPqi","_speed","normalColorArr","crossOrigin","_color","src","setColor","min_filter","_scale","scale","resource","48291NwArzv","146420kwKEWY","67871yJzInZ"],q=b$Q;function b$Q(t,e){return a$Q[t-=346]}!function(t,e){const r=b$Q;for(;;)try{if(108140===-parseInt(r(375))*-parseInt(r(373))-parseInt(r(362))+parseInt(r(361))+-parseInt(r(385))+parseInt(r(360))+parseInt(r(380))*parseInt(r(381))+-parseInt(r(378))*-parseInt(r(349)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$Q);class Water extends Noise{constructor(t={}){const e=b$Q;super(t),this[e(356)]=e(368),this._color=t[e(363)]?t.color:new Color(0,115,250,1),this[e(350)]=t.hasOwnProperty("speed")?t.speed:1,this[e(357)]=t[e(384)](e(358))?t[e(358)]:1,this[e(366)]=!!t[e(384)](e(367))&&t[e(367)],this[e(370)]()}_init(){const t=b$Q;this[t(374)]=1,this[t(351)]=this[t(353)][t(377)]();let e=initState[t(359)];if(!e)throw ReferenceError("you must define hmap.initState.resource first!");this[t(348)]=new Promise(((r,i)=>{const n=t;let s=new Image;s[n(383)]=function(){this[n(347)]=s,r(this)}[n(372)](this),s[n(364)]=function(t){i(t)},s[n(352)]=n(369),s[n(354)]=e+"images/waternormals.jpg"}))}getColor(){return this[b$Q(353)]}[q(355)](t){const e=q;if(!(t instanceof Color))throw new TypeError(e(365));this._color=t,this[e(351)]=this[e(353)].toNormalizeArray()}[q(371)](){return this[q(350)]}[q(379)](t){this[q(350)]=t}[q(382)](){return this[q(357)]}[q(376)](t){this[q(357)]=t}[q(346)](){const t=q;return new Water({color:this[t(353)],speed:this._speed,scale:this[t(357)],static:this[t(366)]})}}const a$P=["1731029Gmoqal","type","setType","imagePromise","setNoiseImg","441OwwFjZ","_speed","bind","strength","src","2998LUjXIT","onload","scale","wrap_s","_static","onerror","_color","_type","anonymous","setScale","static","crossOrigin","_imageSrc","1552395MZSdUz","image","wrap_t","1693mmqzxA","hasOwnProperty","NOISE_DYNAMIC_WATER","250xCQhca","images/waternormals.jpg","91367MLrkNC","imageSrc","min_filter","845839yGmNWK","clone","mag_filter","_strength","resource","setStatic","_scale","setSpeed","20LdiWUt","NOISE_TYPE","color","you must define hmap.initState.resource first!","5013100nFTznL"],o$1=b$P;function b$P(t,e){return a$P[t-=491]}!function(t,e){const r=b$P;for(;;)try{if(965809===-parseInt(r(514))+parseInt(r(501))*-parseInt(r(496))-parseInt(r(525))+parseInt(r(520))*-parseInt(r(517))-parseInt(r(491))+parseInt(r(522))*parseInt(r(533))+parseInt(r(537)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$P);class NoiseFill extends FillSymbol{constructor(t={}){const e=b$P;if(super(),t instanceof Noise){if(this[e(508)]=t.typeNum,this._static=t[e(505)],this._scale=t[e(531)]?t[e(531)]:1,this._speed=t._speed?t[e(497)]:1,this._strength=t[e(528)]?t[e(528)]:1,this._color=t[e(507)]?t._color:new Color(10,115,250,1),t instanceof Water){if(!initState[e(529)])throw ReferenceError(e(536));this[e(513)]=initState[e(529)]+e(521)}}else this[e(531)]=t[e(518)](e(503))?t[e(503)]:1,this[e(497)]=t[e(518)]("speed")?t.speed:1,this[e(528)]=t[e(518)](e(499))?t[e(499)]:1,this._type=t[e(518)](e(492))?t.type:NoiseFill[e(519)],this[e(505)]=!!t[e(511)]&&t.static,this[e(507)]=t.color?t[e(535)]:new Color(10,115,250,1),this[e(513)]=t.imageSrc?t[e(523)]:null,1==this[e(508)]&&null===this._imageSrc&&(this[e(513)]=initState[e(529)]+"images/waternormals.jpg");this[e(504)]=t.wrap_s,this[e(516)]=t[e(516)],this[e(527)]=t[e(527)],this[e(524)]=t[e(524)],this[e(495)](this[e(513)])}[o$1(495)](t){const e=o$1;this[e(515)]=null,this[e(494)]=null,null!=t&&(this[e(494)]=new Promise(((r,i)=>{const n=e;let s=new Image;s[n(502)]=function(){this[n(515)]=s,r(this)}[n(498)](this),s[n(506)]=function(t){i(t)},s[n(512)]=n(509),s[n(500)]=t})))}[o$1(510)](t){this._scale=t}[o$1(532)](t){this[o$1(497)]=t}[o$1(493)](t){this[o$1(508)]=t}setColor(t){this._color=t}[o$1(530)](t){this[o$1(531)]=Boolean(t)}[o$1(526)](){const t=o$1;return new constructor({scale:this[t(531)],speed:this[t(497)],strength:this[t(528)],type:this[t(508)],static:this._static,color:this[t(507)],imageSrc:this[t(513)]})}}NoiseFill[o$1(534)]={WATER:1,PERLIN:2,SQUARE:3,CELL:4,TURBULENT:5,DOMAIN:6,DYNAMIC_WATER:7};const a$O=["44031ecteGE","setVideo","241fFmLdb","hasOwnProperty","517028gCKvED","621FcBSRF","_id","1902ZJFLUe","43369JbzAkA","bind","getId","promise","112807GStamg","loadVideo","oncanplay","2nWcPPE","video","1292253NhLqxy","_side","_videoRotate","4067mGnhBV","_video","clone","videoRotate","parameter must be type of HTMLVideoElement!","getVideo"],j=b$O;!function(t,e){const r=b$O;for(;;)try{if(800506===-parseInt(r(174))*parseInt(r(172))-parseInt(r(171))+-parseInt(r(187))*-parseInt(r(169))+parseInt(r(184))+-parseInt(r(175))+-parseInt(r(179))*-parseInt(r(182))+parseInt(r(167)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$O);class VideoFill extends FillSymbol{constructor(t={}){const e=b$O;super(),this[e(188)]=t[e(183)],this._videoRotate=t.videoRotate?t[e(190)]:[0,0,0],this[e(185)]=t[e(170)]("side")?t.side:1,this[e(178)]=this[e(180)]()}[j(180)](){const t=j;let e=this[t(188)];return new Promise(((r,i)=>{const n=t;e[n(181)]=function(){r(this)}[n(176)](this)}))}[j(166)](){return this[j(188)]}[j(168)](t){const e=j;if(!(t instanceof HTMLVideoElement))throw new TypeError(e(191));this[e(188)]=t}[j(189)](){const t=j;let e={video:this[t(188)],videoRotate:this[t(186)],side:this[t(185)]};return new VideoFill(e)}[j(177)](){return this[j(173)]}}function b$O(t,e){return a$O[t-=166]}var a$N=["7034KGOSaF","toColor","203903tSXjLV","9790pABabt","16sqpiVi","fromColor","357022CeIaVR","fromCoord","614571IREgfq","351003CNeZGI","276596nIyVCs"];!function(t,e){for(var r=b$N;;)try{if(329821===parseInt(r(156))+parseInt(r(155))+-parseInt(r(154))+parseInt(r(161))*parseInt(r(160))+parseInt(r(152))+-parseInt(r(159))+parseInt(r(157)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$N);class RadialGradientFill{constructor(t,e,r={}){var i=b$N;this[i(151)]=t,this[i(158)]=e,this.fromCoord=r[i(153)]}}function b$N(t,e){return a$N[t-=151]}const a$M=["1883757xAwAde","angle","getLoadingPromise","anchor","getValue","_imgSrc","28793aHaXwy","52103LBQhpG","length","getSize","2901cEIWXG","getAnchor","getMarkerInfo","getOpacity","1dNHghv","_anchor","1WJqhbp","push","width","getHeight","hasHalo","getColor","height","opacity","getImgSrc","imgSrc","993913jaikkz","textColor","clone","1159JZDVfq","1YZxSEZ","getOffset","setImgSrc","atlasMgr","16509NfHcRH","_size","1ETWABt","getRotation","setColor","textureCoord","1311047YwQsyL","size","getWidth","color","_color",'parameter "color" must be instance of Color',"4wImYpa","offset"],z$1=b$M;function b$M(t,e){return a$M[t-=440]}!function(t,e){const r=b$M;for(;;)try{if(977224===parseInt(r(461))*parseInt(r(447))+parseInt(r(454))*parseInt(r(477))+parseInt(r(473))+parseInt(r(487))*parseInt(r(483))+parseInt(r(445))*parseInt(r(453))+parseInt(r(463))*-parseInt(r(481))+-parseInt(r(476))*parseInt(r(457)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$M);class Icon extends MarkerSymbol{constructor(t){const e=b$M;if(super(t=t||{}),this[e(443)]=t.hasOwnProperty(e(442))?t.color:new Color(0,0,0,0),this._imgSrc=t.imgSrc?t[e(472)]:"",this._size=t.size instanceof Size?t[e(440)]:new Size(32,32),this[e(462)]=t.anchor?t[e(450)]:[.5,.5],!(this[e(443)]instanceof Color))throw new TypeError('parameter "color" must be instance of Color')}clone(){const t=b$M,e={color:this[t(468)]()[t(475)](),imgSrc:this.getImgSrc(),offset:this[t(478)](),size:this[t(456)](),anchor:this.getAnchor(),opacity:this[t(460)]()};return new Icon(e)}getColor(){return this[b$M(443)]}[z$1(471)](){return this[z$1(452)]}[z$1(456)](){return this[z$1(482)]}[z$1(458)](){return this[z$1(462)]}[z$1(485)](t){const e=z$1;if(!(t instanceof Color))throw new TypeError(e(444));this[e(443)]=t}[z$1(479)](t){this[z$1(452)]=t}setSize(t){t instanceof Size&&(this[z$1(482)]=t)}setAnchor(t){const e=z$1;if(!(t instanceof Array&&t[e(455)]>=2))throw new TypeError("the anchor should be Array with a length of at least 2.");this[e(462)][0]=t[0],this[e(462)][1]=t[1]}getRenderData(t,e){const r=z$1,i=t[r(480)];let n=[],s=[],o=[],a=[],h=[],l=[];const c=this[r(456)]();n.push(c.getWidth(),c[r(466)]()),s[r(464)](this[r(460)]());let u=c[r(441)]()*(.5-this[r(458)]()[0])+this[r(478)]()[r(451)]("X"),p=c[r(466)]()*(this[r(458)]()[1]-.5)-this[r(478)]()[r(451)]("Y");o[r(464)](u),o[r(464)](p),a.push(1),a[r(464)](1),a[r(464)](1),a[r(464)](1),l[r(464)](this[r(484)]()*Math.PI/180);let f={};f.size=n,f[r(470)]=s,f[r(446)]=o,f[r(474)]=a,f.bgColor=[0,0,0,0],f[r(448)]=l,f[r(467)]=[!0];const g=i[r(459)](this);if(g)return h.push(g.x),h.push(g.y),h[r(464)](g[r(465)]),h.push(g[r(469)]),f[r(486)]=h,f;{let t=i[r(449)](this);return!t&&(t=i.addMarker(this)),t.then((t=>{const e=r;return h[e(464)](t.x),h[e(464)](t.y),h[e(464)](t[e(465)]),h[e(464)](t.height),f[e(486)]=h,f}))}}}const a$L=["467506PtYPJR","ttf","399233wLFDmT","outlineColor","bgColor","unicode","slice","getUnicode","_rotateWithView","fileUrl","setFileUrl","535387qGFFmJ","\n            @font-face { \n                font-family:'","width","hasOwnProperty","fontSize","getRotation","_size","outlineWidth","size","length","getFillColor","atlasMgr","the anchor should be Array.","isInteger","11066mJViAe","push","angle","_outlineWidth","addCss","getFileType","_outlineColor","setOutlineWidth","offset","_anchor","');\n            }\n            .","_opacity","getOutlineWidth","style","head","_fillColor","appendChild","') format('","fillColor","getOpacity","getFontFamily","clone","getOffset","_fileUrl","text/css","setAnchor","string","379283ClQEQB","getMarkerInfo","_rotation","getFileUrl","getRenderData","_fontFamily","_fontSize","textureCoord","1dQojHh","split",'parameter "fillColor" must be instance of Color',"getOutlineColor","truetype","getValue","171134FLXXGX","type","getAnchor","setOutlineColor","479265xLkXro",'parameter "fillColor" and "outlineColor" must be instance of Color',"setUnicode","_fileType","anchor","_scale","height","_unicode"],w$1=b$L;function b$L(t,e){return a$L[t-=230]}!function(t,e){const r=b$L;for(;;)try{if(437088===parseInt(r(276))+-parseInt(r(284))+parseInt(r(258))+parseInt(r(286))+-parseInt(r(266))*parseInt(r(295))+parseInt(r(231))+parseInt(r(272)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$L);class IconFont extends MarkerSymbol{constructor(t){const e=b$L;if(super(t=t||{}),this[e(240)]=t[e(280)]?t[e(280)]:[.5,.5],this[e(264)]=Number.isInteger(t[e(299)])?t[e(299)]:16,this[e(301)]=t[e(303)]&&t[e(303)]instanceof Size?t.size:new Size(this[e(264)],this._fontSize),this[e(283)]=typeof t[e(289)]===e(257)?t[e(289)]:null,this[e(246)]=t[e(298)](e(249))&&t[e(249)]?t[e(249)]:new Color(255,255,255,0),this[e(237)]=t.hasOwnProperty("outlineColor")&&t[e(287)]?t[e(287)]:new Color(0,0,0,1),this._outlineWidth=Number[e(230)](t.outlineWidth)?t[e(302)]:1,typeof t[e(293)]===e(257)){this[e(254)]=t[e(293)];let r=this[e(254)][e(267)]("/"),i=r[r[e(304)]-1].split(".");switch(this[e(263)]=i[0],i[1]){case e(285):this[e(279)]=e(270)}}else this._fileUrl=null,this[e(263)]=null,this._fileType=null;if(!(this[e(246)]instanceof Color&&this[e(237)]instanceof Color))throw new TypeError(e(277))}[w$1(252)](){const t=w$1;return new IconFont({rotateWithView:this[t(292)],rotation:this[t(260)],scale:this[t(281)],fontSize:this[t(264)],unicode:this[t(283)],fillColor:this[t(246)].clone(),outlineColor:this[t(237)][t(252)](),outlineWidth:this[t(234)],fileUrl:this[t(254)],opacity:this[t(242)],anchor:this[t(240)][t(290)]()})}getSize(){return this[w$1(301)]}getAnchor(){return this[w$1(240)]}getFontSize(){return this._fontSize}[w$1(251)](){return this[w$1(263)]}[w$1(291)](){return this[w$1(283)]}[w$1(305)](){return this[w$1(246)]}[w$1(269)](){return this[w$1(237)]}[w$1(243)](){return this[w$1(234)]}[w$1(261)](){return this[w$1(254)]}[w$1(236)](){return this[w$1(279)]}[w$1(235)](){const t=w$1;let e=t(296)+this[t(263)]+"';\n                src: url('"+this[t(254)]+t(248)+this[t(279)]+t(241)+this[t(263)]+'{ \n                font-family:"'+this[t(263)]+'"!important; \n            }\n      ',r=document.createElement(t(244));if(r[t(273)]=t(255),r.innerHTML=e,document[t(245)])document[t(245)][t(247)](r);else{let e=setInterval((function(){const i=t;document[i(245)]&&(document[i(245)][i(247)](r),clearInterval(e))}),5)}}getClassName(){return this[w$1(263)]}[w$1(256)](t){const e=w$1;if(!(t instanceof Array&&2===t[e(304)]))throw new TypeError(e(307));this[e(240)][0]=t[0],this[e(240)][1]=t[1]}setFontSize(t){Number[w$1(230)](t)&&(this._fontSize=t)}setFillColor(t){const e=w$1;if(!(t instanceof Color))throw new TypeError(e(268));this[e(246)]=t}[w$1(275)](t){const e=w$1;if(!(t instanceof Color))throw new TypeError('parameter "outlineColor" must be instance of Color');this[e(237)]=t}[w$1(238)](t){Number[w$1(230)](t)&&(this._outlineWidth=t)}[w$1(278)](t){const e=w$1;return typeof t===e(257)&&(this[e(283)]=t,!0)}[w$1(294)](t){const e=w$1;if("string"==typeof t){this[e(254)]=t;let r=this._fileUrl[e(267)]("/"),i=r[r[e(304)]-1][e(267)](".");switch(this[e(263)]=i[0],i[1]){case"ttf":this[e(279)]="truetype"}return!0}return!1}[w$1(262)](t,e){const r=w$1,i=t[r(306)];let n=[],s=[],o=[],a=[],h=[],l=[];const c=this.getFontSize();n[r(232)](c,c),s.push(this[r(250)]());let u=(.5-this[r(274)]()[0])*c+this[r(253)]()[r(271)]("X"),p=(this[r(274)]()[1]-.5)*c-this[r(253)]()[r(271)]("Y");o[r(232)](u),o[r(232)](p),a[r(232)](1),a[r(232)](1),a[r(232)](1),a[r(232)](1),l.push(this[r(300)]()*Math.PI/180);let f={};f[r(303)]=n,f.opacity=s,f[r(239)]=o,f.textColor=a,f[r(288)]=[0,0,0,0],f[r(233)]=l,f.hasHalo=[!0];const g=i[r(259)](this);return g?(h[r(232)](g.x),h[r(232)](g.y),h[r(232)](g[r(297)]),h[r(232)](g[r(282)]),f[r(265)]=h,f):i.addMarker(this).then((t=>{const e=r;return h[e(232)](t.x),h.push(t.y),h.push(t[e(297)]),h.push(t[e(282)]),f[e(265)]=h,f}))}}const a$K=["prev","region","reverse","pop","concat","_segments","12009RFOkgv","exists","_handleToGeoJSON","_operater","inverted1","myFill","_union","indexOf","635263KoDsSy","splice","remove","node","isEmpty","difference","fromPolygon","inverted2","start","getHead","root","alongB","pointsSameY","unionPolygons","_intersect","addRegion","linesIntersect","_polygon","children","length","status","56QYGRni","otherFill","before","cannot convert GeoJSON object to TopologyBoolean polygon","other","pointsSame","pointsCollinear","_segmentSelector","intersect","toPolygon","abs","pointAboveOrOnLine","primary","1454185xZbZHk","_epsilon","combined","1248793BIaidW","type","_geojsonHandler","above","_linkList","_xor","calculate","eps","isStart","matches_head","_createSegmentSelector","_difference","insertBefore","pointInsideRegion","dealSelfIntersect","coordinates","after","create","MultiPolygon","index","getOutRing","781421RyLyUU","forEach","_intersecter","unshift","pointsCompare","334545XINtxb","insert","inverted","alongA","xor","below","end","25964oMgnsr","segments","regions","_epsilonHandler","_segmentChainer","matches_pt1","_createLinkedList","next","47aATyHS","seg","_combine","_handleGeoJSON","1egCnej","shift","push"],S=b$K;function b$K(t,e){return a$K[t-=471]}!function(t,e){const r=b$K;for(;;)try{if(731278===-parseInt(r(478))*parseInt(r(527))+-parseInt(r(539))*-parseInt(r(491))-parseInt(r(515))+-parseInt(r(548))*-parseInt(r(535))-parseInt(r(556))+parseInt(r(520))+parseInt(r(494)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$K);class TopologyBoolean{constructor(){const t=b$K;this.eps=1e-9,this[t(492)]=this._epsilonHandler(this[t(501)]),this[t(485)]=this[t(504)](),this._linkList=this._createLinkedList(),this[t(496)]=this[t(538)]()}[S(550)](t){const e=S;return this[e(496)][e(487)](t)}[S(508)](t){const e=S,r=this._geojsonHandler[e(487)](t);return r[e(529)].forEach((t=>{const r=e;t[r(516)](((e,i)=>{const n=r;let s=[];t[n(555)](e)!=i&&s.push(t[n(555)](e),i),s.length>0&&t[n(557)](s[0],s[1]-s[0])}))})),this._geojsonHandler[e(562)](r)}union(t,e){const r=S,i=this[r(550)](t),n=this[r(550)](e),s=this[r(554)](i,n);return this[r(496)].fromPolygon(s)}[S(486)](t,e){const r=S,i=this[r(550)](t),n=this[r(550)](e),s=this[r(471)](i,n);return this._geojsonHandler[r(562)](s)}[S(561)](t,e){const r=S,i=this[r(550)](t),n=this[r(550)](e),s=this[r(505)](i,n);return this._geojsonHandler.fromPolygon(s)}[S(514)](t){const e=S,r=this._handleToGeoJSON(t);return this[e(496)][e(562)](r)}[S(569)](t){const e=S;let r=this[e(550)](t[0]);for(let i=1,n=t.length;i<n;i++){let n=this[e(550)](t[i]);r=this[e(554)](r,n)}return this[e(496)].fromPolygon(r)}[S(554)](t,e){const r=this;return this[S(551)](t,e,(function(t){const e=b$K;return{segments:r[e(485)].union(t[e(493)]),inverted:t.inverted1||t[e(563)]}}))}[S(471)](t,e){const r=this;return this._operater(t,e,(function(t){const e=b$K;return{segments:r._segmentSelector[e(486)](t[e(493)]),inverted:t.inverted1&&t[e(563)]}}))}[S(505)](t,e){const r=this;return this[S(551)](t,e,(function(t){const e=b$K;return{segments:r._segmentSelector[e(561)](t.combined),inverted:t.inverted1&&!t[e(563)]}}))}[S(499)](t,e){const r=this;return this[S(551)](t,e,(function(t){const e=b$K;return{segments:r._segmentSelector[e(524)](t[e(493)]),inverted:t[e(552)]!==t[e(563)]}}))}[S(551)](t,e,r){const i=S,n=this[i(547)](t),s=this[i(547)](e),o=r(this[i(537)](n,s));return this[i(474)](o)}[S(547)](t,e=!0){const r=S,i=this._intersecter(e,this[r(492)]);return t[r(529)].forEach(i[r(472)]),{segments:i[r(500)](t[r(522)]),inverted:t[r(522)]}}[S(537)](t,e,r=!1){const i=S;return{combined:this[i(517)](r,this[i(492)])[i(500)](t.segments,t[i(522)],e[i(528)],e[i(522)]),inverted1:t.inverted,inverted2:e[i(522)]}}[S(474)](t){const e=S;return{regions:this[e(531)](t[e(528)],this[e(492)]),inverted:t[e(522)]}}[S(531)](t,e){const r=S,i=[],n=[];return t[r(516)]((function(t){const s=r;let o=t[s(564)],a=t[s(526)];if(e[s(483)](o,a))return void console.warn("Zero-length segment detected; your epsilon is probably too small or too large");const h={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1};let c=h;function u(t,e,r){const i=s;return c[i(513)]=t,c.matches_head=e,c[i(532)]=r,c===h?(c=l,!1):(c=null,!0)}for(let t=0;t<i.length;t++){const r=i[t],n=r[0];r[1];const h=r[r[s(476)]-1];if(r[r[s(476)]-2],e[s(483)](n,o)){if(u(t,!0,!0))break}else if(e.pointsSame(n,a)){if(u(t,!0,!1))break}else if(e[s(483)](h,o)){if(u(t,!1,!0))break}else if(e.pointsSame(h,a)&&u(t,!1,!1))break}if(c===h)return void i[s(541)]([o,a]);if(c===l){const t=h[s(513)],r=h.matches_pt1?a:o,l=h[s(503)];let c=i[t],u=l?c[0]:c[c[s(476)]-1],p=l?c[1]:c[c.length-2],f=l?c[c[s(476)]-1]:c[0],g=l?c[c[s(476)]-2]:c[1];return e[s(484)](p,u,r)&&(l?c[s(540)]():c[s(545)](),u=p),e[s(483)](f,r)?(i[s(557)](t,1),e[s(484)](g,f,u)&&(l?c[s(545)]():c[s(540)]()),void n.push(c)):void(l?c[s(518)](r):c[s(541)](r))}function p(t){const e=s;i[t][e(544)]()}function f(t,r){const n=s,o=i[t],a=i[r];let h=o[o[n(476)]-1];const l=o[o[n(476)]-2],c=a[0],u=a[1];e[n(484)](l,h,c)&&(o[n(545)](),h=l),e[n(484)](h,c,u)&&a.shift(),i[t]=o[n(546)](a),i[n(557)](r,1)}let g=h.index,d=l.index,_=i[g].length<i[d][s(476)];h[s(503)]?l.matches_head?_?(p(g),f(g,d)):(p(d),f(d,g)):f(d,g):l[s(503)]?f(g,d):_?(p(g),f(d,g)):(p(d),f(g,d))})),n}[S(517)](t,e){const r=S;let i=this;function n(t,e){return{start:t,end:e,myFill:{above:null,below:null},otherFill:null}}function s(t,e,r){const i=b$K;return{start:t,end:e,myFill:{above:r.myFill[i(497)],below:r[i(553)][i(525)]},otherFill:null}}let o=this[r(498)][r(511)]();function a(t,i){const n=r;o[n(506)](t,(function(s){const o=n;return function(t,i,n,s,o,a){const h=r;let l=e[h(519)](i,o);return 0!==l?l:e[h(483)](n,a)?0:t!==s?t?1:-1:e[h(489)](n,s?o:a,s?a:o)?1:-1}(t[o(502)],t.pt,i,s[o(502)],s.pt,s[o(482)].pt)<0}))}function h(t,e){let n=function(t,e){const n=r;let s=i[n(498)][n(559)]({isStart:!0,pt:t.start,seg:t,primary:e,other:null,status:null});return a(s,t[n(526)]),s}(t,e);return function(t,e,n){const s=r;let o=i[s(498)].node({isStart:!1,pt:e[s(526)],seg:e,primary:n,other:t,status:null});t[s(482)]=o,a(o,t.pt)}(n,t,e),n}function l(t,e){const i=r,n=s(e,t[i(536)][i(526)],t[i(536)]);return function(t,e){const i=r;t.other[i(558)](),t[i(536)][i(526)]=e,t.other.pt=e,a(t[i(482)],t.pt)}(t,e),h(n,t[i(490)])}function c(n,s){const a=r;let h=i[a(498)].create();function c(t){return h.findTransition((function(r){return function(t,r){const i=a,n=t[i(536)][i(564)],s=t[i(536)][i(526)],o=r[i(536)][i(564)],h=r[i(536)][i(526)];return e[i(484)](n,o,h)?e[i(484)](s,o,h)||e[i(489)](s,o,h)?1:-1:e[i(489)](n,o,h)?1:-1}(t,r.ev)>0}))}function u(t,r){const i=a,n=t[i(536)],s=r[i(536)],o=n[i(564)],h=n[i(526)],c=s.start,u=s[i(526)],p=e[i(473)](o,h,c,u);if(!1===p){if(!e[i(484)](o,h,c))return!1;if(e[i(483)](o,u)||e.pointsSame(h,c))return!1;let n=e[i(483)](o,c),s=e.pointsSame(h,u);if(n&&s)return r;let a=!n&&e.pointBetween(o,c,u),p=!s&&e.pointBetween(h,c,u);if(n)return p?l(r,h):l(t,u),r;a&&(!s&&(p?l(r,h):l(t,u)),l(r,o))}else 0===p.alongA&&(-1===p[i(567)]?l(t,c):0===p.alongB?l(t,p.pt):1===p.alongB&&l(t,u)),0===p[i(567)]&&(-1===p[i(523)]?l(r,o):0===p.alongA?l(r,p.pt):1===p.alongA&&l(r,h));return!1}const p=[];for(;!o[a(560)]();){let e=o[a(565)]();if(e[a(502)]){let r=c(e),h=r[a(480)]?r[a(480)].ev:null,l=r[a(510)]?r[a(510)].ev:null,p=function(){if(h){let t=u(e,h);if(t)return t}return!!l&&u(e,l)}();if(p){if(t){let t;t=null===e[a(536)][a(553)][a(525)]||e[a(536)][a(553)][a(497)]!==e[a(536)][a(553)][a(525)],t&&(p[a(536)][a(553)][a(497)]=!p.seg[a(553)].above)}else p.seg.otherFill=e.seg[a(553)];e[a(482)][a(558)](),e[a(558)]()}if(o.getHead()!==e)continue;if(t){let t;t=null===e[a(536)][a(553)][a(525)]||e[a(536)].myFill[a(497)]!==e.seg.myFill[a(525)],e[a(536)][a(553)][a(525)]=l?l[a(536)][a(553)][a(497)]:n,t?e[a(536)][a(553)].above=!e[a(536)][a(553)][a(525)]:e[a(536)][a(553)][a(497)]=e[a(536)][a(553)][a(525)]}else if(null===e[a(536)][a(479)]){let t;t=l?e[a(490)]===l[a(490)]?l.seg[a(479)].above:l[a(536)][a(553)][a(497)]:e[a(490)]?s:n,e[a(536)][a(479)]={above:t,below:t}}e[a(482)].status=r[a(521)](i[a(498)][a(559)]({ev:e}))}else{let t=e[a(477)];if(null===t)throw new Error("zero-length segment detected; your epsilon is probably too small or too large");if(h[a(549)](t[a(542)])&&h[a(549)](t.next)&&u(t[a(542)].ev,t.next.ev),t[a(558)](),!e.primary){let t=e[a(536)][a(553)];e.seg[a(553)]=e[a(536)].otherFill,e[a(536)].otherFill=t}p[a(541)](e[a(536)])}o.getHead().remove()}return p}return t?{addRegion:function(t){const i=r;let s,o=t[t[i(476)]-1];for(let r=0;r<t[i(476)];r++){s=o,o=t[r];let a=e[i(519)](s,o);0!==a&&h(n(a<0?s:o,a<0?o:s),!0)}},calculate:function(t){return c(t,!1)}}:{calculate:function(t,e,i,n){const o=r;return t[o(516)]((function(t){const e=o;h(s(t[e(564)],t[e(526)],t),!0)})),i[o(516)]((function(t){const e=o;h(s(t[e(564)],t[e(526)],t),!1)})),c(e,n)}}}[S(533)](){return{create:function(){const t={root:{root:!0,next:null},exists:function(e){return!(null===e||e===t[b$K(566)])},isEmpty:function(){const e=b$K;return null===t.root[e(534)]},getHead:function(){const e=b$K;return t[e(566)][e(534)]},insertBefore:function(e,r){const i=b$K;let n=t[i(566)],s=t[i(566)].next;for(;null!==s;){if(r(s))return e[i(542)]=s.prev,e[i(534)]=s,s[i(542)].next=e,void(s[i(542)]=e);n=s,s=s[i(534)]}n[i(534)]=e,e[i(542)]=n,e.next=null},findTransition:function(e){const r=b$K;let i=t[r(566)],n=t[r(566)][r(534)];for(;null!==n&&!e(n);)i=n,n=n[r(534)];return{before:i===t[r(566)]?null:i,after:n,insert:function(t){const e=r;return t[e(542)]=i,t.next=n,i[e(534)]=t,null!==n&&(n[e(542)]=t),t}}}};return t},node:function(t){const e=b$K;return t[e(542)]=null,t[e(534)]=null,t[e(558)]=function(){const r=e;t.prev[r(534)]=t[r(534)],t.next&&(t[r(534)][r(542)]=t[r(542)]),t[r(542)]=null,t[r(534)]=null},t}}}[S(504)](){function t(t,e){const r=b$K;let i=[];return t[r(516)]((function(t){const n=r;let s=(t[n(553)].above?8:0)+(t.myFill[n(525)]?4:0)+(t[n(479)]&&t[n(479)][n(497)]?2:0)+(t[n(479)]&&t[n(479)][n(525)]?1:0);0!==e[s]&&i[n(541)]({id:-1,start:t[n(564)],end:t[n(526)],myFill:{above:1===e[s],below:2===e[s]},otherFill:null})})),i}return{union:function(e){return t(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0])},intersect:function(e){return t(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0])},difference:function(e){return t(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0])},xor:function(e){return t(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0])}}}[S(530)](t){"number"!=typeof t&&(t=1e-10);const e={pointAboveOrOnLine:function(e,r,i){const n=r[0],s=r[1],o=i[0],a=i[1],h=e[0];return(o-n)*(e[1]-s)-(a-s)*(h-n)>=-t},pointBetween:function(e,r,i){const n=e[1]-r[1],s=i[0]-r[0],o=e[0]-r[0],a=i[1]-r[1],h=o*s+n*a;if(h<t)return!1;return!(h-(s*s+a*a)>-t)},pointsSameX:function(e,r){return Math.abs(e[0]-r[0])<t},pointsSameY:function(e,r){return Math.abs(e[1]-r[1])<t},pointsSame:function(t,r){const i=b$K;return e.pointsSameX(t,r)&&e[i(568)](t,r)},pointsCompare:function(t,r){const i=b$K;return e.pointsSameX(t,r)?e[i(568)](t,r)?0:t[1]<r[1]?-1:1:t[0]<r[0]?-1:1},pointsCollinear:function(e,r,i){const n=b$K,s=e[0]-r[0],o=e[1]-r[1],a=r[0]-i[0],h=r[1]-i[1];return Math[n(488)](s*h-a*o)<t},linesIntersect:function(e,r,i,n){const s=b$K,o=r[0]-e[0],a=r[1]-e[1],h=n[0]-i[0],l=n[1]-i[1],c=o*l-a*h;if(Math[s(488)](c)<t)return!1;const u=e[0]-i[0],p=e[1]-i[1],f=(h*p-l*u)/c,g=(o*p-a*u)/c,d={alongA:0,alongB:0,pt:[e[0]+f*o,e[1]+f*a]};return d[s(523)]=f<=-t?-2:f<t?-1:f-1<=-t?0:f-1<t?1:2,g<=-t?d.alongB=-2:g<t?d[s(567)]=-1:g-1<=-t?d[s(567)]=0:g-1<t?d[s(567)]=1:d.alongB=2,d},pointInsideRegion:function(e,r){const i=b$K,n=e[0],s=e[1];let o=r[r.length-1][0],a=r[r.length-1][1],h=!1;for(let e=0;e<r[i(476)];e++){const i=r[e][0],l=r[e][1];l-s>t!=a-s>t&&(o-i)*(s-l)/(a-l)+i-n>t&&(h=!h),o=i,a=l}return h}};return e}[S(538)](){let t=this;return{fromPolygon:function(e){const r=b$K;function i(e,i){const n=r;return t[n(492)][n(507)]([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],i)}function n(t){return{region:t,children:[]}}e=t[r(474)](t[r(547)](e));let s=n(null);function o(t,e){const s=r;for(let r=0;r<t[s(475)].length;r++){let n=t[s(475)][r];if(i(e,n[s(543)]))return void o(n,e)}let a=n(e);for(let r=0;r<t[s(475)].length;r++){let n=t[s(475)][r];i(n[s(543)],e)&&(a[s(475)][s(541)](n),t[s(475)][s(557)](r,1),r--)}t[s(475)][s(541)](a)}for(let t=0;t<e[r(529)][r(476)];t++){let i=e.regions[t];i[r(476)]<3||o(s,i)}function a(t,e){const i=r;let n=0,s=t[t[i(476)]-1][0],o=t[t[i(476)]-1][1],a=[];for(let e=0;e<t[i(476)];e++){const r=t[e][0],h=t[e][1];a[i(541)]([r,h]),n+=h*s-r*o,s=r,o=h}return n<0!==e&&a[i(544)](),a.push([a[0][0],a[0][1]]),a}let h=[];function l(t){const e=r;let i=[a(t[e(543)],!1)];h[e(541)](i);for(let r=0;r<t[e(475)][e(476)];r++)i[e(541)](c(t[e(475)][r]))}function c(t){const e=r;for(let r=0;r<t[e(475)][e(476)];r++)l(t[e(475)][r]);return a(t[e(543)],!0)}for(let t=0;t<s[r(475)][r(476)];t++)l(s[r(475)][t]);return h.length<=0?{type:"Polygon",coordinates:[]}:1==h[r(476)]?{type:"Polygon",coordinates:h[0]}:{type:r(512),coordinates:h}},toPolygon:function(e,r){const i=b$K;function n(e){const r=b$K;return{segments:t[r(485)][r(561)](e.combined),inverted:e[r(552)]&&!e[r(563)]}}function s(e){const r=b$K;return{segments:t[r(485)].union(e[r(493)]),inverted:e[r(552)]&&!e[r(563)]}}function o(e){const r=b$K;if(e.length<=0)return t[r(547)]({inverted:!1,regions:[]});function i(e){const i=r;let n=e.slice(0,e.length-1);return t[i(547)]({inverted:!1,regions:[n]})}let s=i(e[0]);for(let o=1;o<e.length;o++)s=n(t[r(537)](s,i(e[o])));return s}if("Polygon"===e[i(495)])return t[i(474)](o(e[i(509)]));if("MultiPolygon"===e.type){let r=t._segments({inverted:!1,regions:[]});for(let n=0;n<e[i(509)][i(476)];n++)r=s(t[i(537)](r,o(e[i(509)][n])));return t[i(474)](r)}throw new Error(i(481))}}}}const a$J=["FULL","scale","multiPolygonIntersectMultiPolygon2D","getPolygonCount","getCoordinate","polygonIntersectMultiPolygon2D","getVertices","getCenter","multiPointIntersectMultiPolygon2D","extendBBox","pointIntersectMultiPolygon2D","number","get3Dist","getCoordSeqs","distanceToCamera","_calculateBBox","getPolygons","10973jMNDEI","51217tBGypa","OUTSIDE","isSelfIntersects","the parameters must be number!","transform","clone","getPolygon","getExtent","toUpperCase","length","getBuffer","writeGeometry","getMaxDistPoint","parseInt","getPerimeter","push","containsCoord","linearRingIndex must be a Number!","intersectsGeometry","fromExtent","moveByDelta","linearRingIndex out of range!","getCentroid","intersectRay","getArea","82071FRRcXR","isFinite","1112YbfDen","23oFRjvt","lineIntersectMultiPolygon2D","_extent","337EgAShy","821912BFEEvB","109780zUaHoa","getLinearRingCount","applyTransform","polygonIntersectPolygon2D","_bbox","distance","1592tPicIn","getBBox","rotate","1nlaUWV","_pointsChanged","addPolygon","isValid","getType","polygons","getLinearRing","getLength","readGeometry","lineRingArr","distanceTo","intersectsExtent","destroy","getOrdinate","166vPOPdJ","toPolygon","parameter is illegal!","unionPolygons","parameter must be number!","rayIntersectMultiPolygon","POSITIVE_INFINITY","the parameter is not Coordinate!","polygonIndex must be a Number!","multiLineIntersectMultiPolygon2D","simplify"],A$1=b$J;function b$J(t,e){return a$J[t-=252]}!function(t,e){const r=b$J;for(;;)try{if(215993===-parseInt(r(264))*-parseInt(r(332))+-parseInt(r(324))*parseInt(r(320))-parseInt(r(318))+-parseInt(r(292))*parseInt(r(321))-parseInt(r(326))-parseInt(r(293))+-parseInt(r(335))*-parseInt(r(325)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$J);class MultiPolygon extends Geometry{constructor(t){const e=b$J;if(!(t instanceof Array&&t[e(302)]>0))throw'parameter "polygons" is not an Array or contains no polygon!';super(),this[e(255)]=new Array;for(let r of t){if(!(r instanceof Polygon))throw'All elements in "polygons" must be instance of Polygon!';this[e(255)][e(308)](r)}this._bbox=this[e(290)](),this[e(336)]=!1,this[e(323)]=this[e(330)][e(300)]()}[A$1(252)](t){const e=A$1;t instanceof Polygon&&(this[e(255)][e(308)](t),this[e(330)][e(284)](t[e(333)]()),this[e(323)]=this[e(330)].getExtent())}getArea(){const t=A$1;let e=0;for(let r of this[t(255)])e+=r.getArea();return e}[A$1(288)](t=0,e=this.polygons.length){const r=A$1;if(!Number[r(319)](t)||!Number[r(319)](e))throw new TypeError(r(296));const i=this[r(255)][r(302)];if((t=t<=0?0:Number[r(306)](t))>=(e=e>=i?i:Number[r(306)](e)))return[];let n=[];for(let i=t;i<e;i++)n[r(308)](this.polygons[i][r(288)](0,this[r(255)][i][r(327)]()));return n}[A$1(299)](t){return this[A$1(255)][t]}[A$1(278)](){const t=A$1;return this[t(255)][t(302)]}getPolygons(){return this[A$1(255)]}[A$1(328)](t){const e=A$1;for(let r=0;r<this[e(255)].length;r++)this[e(255)][r][e(328)](t);this[e(336)]=!0,this.getExtent()}atApproximatePoint(t){const e=A$1;if(t instanceof Coordinate)return this[e(300)]()[e(309)](t);throw new TypeError(e(271))}[A$1(298)](){const t=A$1,e=[...this[t(255)]].map((e=>e[t(298)]()));return new MultiPolygon(e)}[A$1(260)](t,e){const r=A$1;let i,n,s,o=Number.POSITIVE_INFINITY;for(let a=0,h=this.polygons[r(302)];a<h&&(i=this.polygons[a][r(260)](t,e),s=i[r(331)]||0==i.distance?i[r(331)]:i,!(o<0&&s>o&&s<0||o>0&&s<o)||(o=s,n=i,0!==o));++a);return n}getBuffer(t,e=A$1(275)){const r=A$1,i=[],n=[],s=new GeoJSON;for(let e=0,o=this[r(278)]();e<o;e++)n[r(308)](s[r(304)](this[r(299)](e))),i[r(308)](s.writeGeometry(this[r(299)](e)[r(303)](t,r(275))));const o=new TopologyBoolean,a=o[r(267)](i);if(e[r(301)]()===r(294)){const t=o.unionPolygons(n);return s.readGeometry(o.difference(a,t),null)}return s[r(258)](a,null)}[A$1(315)](){const t=A$1;let e,r,i=0,n=0,s=0,o=0;for(let a=0;a<this.polygons[t(302)];a++)e=this[t(255)][a][t(315)](),r=this.polygons[a][t(317)](),i+=r*e[t(263)]("X"),n+=r*e[t(263)]("Y"),s+=r*e[t(263)]("Z"),o+=r;return new Coordinate(i/o,n/o,s/o)}getClosestPoint(t){const e=A$1;let r,i=Number[e(270)];for(let n=0,s=this[e(278)]();n<s;n++){let s=this[e(299)](n)[e(259)];for(let n=0,o=s.length;n<o;n++){let o=s[n][e(281)]();for(let n=0,s=o.length-1;n<s;n++){const s=o[n],a=s.getCoordinate()[e(287)](t);a<i&&(i=a,r=s)}}}return r}[A$1(300)](){const t=A$1;return this.getBBox(),this[t(323)]}[A$1(333)](){const t=A$1;return this._pointsChanged&&(this[t(330)]=this[t(290)](),this[t(323)]=this[t(330)][t(300)](),this[t(336)]=!1),this[t(330)]}[A$1(307)](t,e,r=4326){const i=A$1;if(null==t){let t=0;if(null==e)for(let e=0;e<this.polygons[i(302)];e++)t+=this.polygons[e][i(307)](null,r);else{if(!Number[i(319)](e))throw new TypeError(i(310));for(let n=0;n<this[i(255)].length;n++){if(e<0||e>=this[i(255)][n][i(327)]())throw new RangeError(i(314));t+=this[i(255)][n][i(256)](e)[i(257)](r)}}return t}if(typeof t!==i(286))throw i(272);if(t<0||t>=this[i(278)]())throw"polygonIndex out of range!";if(null==e)return this.polygons[t][i(307)](null,r);if(!Number[i(319)](e))throw"linearRingIndex must be a Number!";if(e<0||e>=this.polygons[t][i(327)]())throw i(314);return this[i(255)][t][i(256)](e).getLength(r)}[A$1(254)](){return GeometryType.MultiPolygon}[A$1(311)](t){const e=A$1;if(!t[e(254)])throw new TypeError(e(266));return{Point:()=>Intersect[e(285)](t,this),MultiPoint:()=>Intersect[e(283)](t,this),Line:()=>Intersect[e(322)](t,this),LinearRing:()=>Intersect[e(322)](t,this),Triangle:()=>Intersect.polygonIntersectMultiPolygon2D(t.toPolygon(),this),MultiLine:()=>Intersect[e(273)](t,this),Circle:()=>{const r=e;return Intersect[r(280)](t[r(265)](),this)},Rectangle:()=>Intersect[e(280)](t.toPolygon(),this),Polygon:()=>Intersect[e(280)](t,this),MultiPolygon:()=>Intersect[e(277)](this,t),Collection:()=>t[e(311)](this)}[t.getType()]()}isSelfIntersects(){const t=A$1;for(let e=0,r=this[t(291)]()[t(302)];e<r;e++){let i=this[t(299)](e);if(i[t(295)]())return!0;for(let n=e+1;n<r;n++){let e=this[t(299)](n);if(Intersect[t(329)](i,e))return!0}}return!1}[A$1(253)](){}[A$1(313)](t=0,e=0,r=0){const i=A$1;if(!Number[i(319)](t)||!Number[i(319)](e)||!Number[i(319)](r))throw new Error(i(268));for(let n=0;n<this[i(255)][i(302)];n++)this[i(255)][n]=this.polygons[n][i(313)](t,e,r);return this[i(336)]=!0,this._extent=this[i(300)](),this}[A$1(334)](t,e,r){const i=A$1;for(let n=0,s=this[i(255)][i(302)];n<s;n++)this.polygons[n][i(334)](t,e,r);return this[i(336)]=!0,this[i(323)]=this.getExtent(),this}[A$1(276)](t,e,r,i){const n=A$1;!i&&(i=this[n(300)]()[n(282)]());for(let s=0,o=this[n(255)].length;s<o;s++)this[n(255)][s][n(276)](t,e,r,i);return this[n(336)]=!0,this[n(323)]=this[n(300)](),this}[A$1(274)](t){const e=A$1;for(let r=0;r<this[e(255)].length;r++)this[e(255)][r][e(274)](t);return this[e(336)]=!0,this[e(323)]=this[e(300)](),this}[A$1(297)](t,e){const r=A$1;for(let i=0,n=this[r(255)].length;i<n;i++)this[r(255)][i][r(297)](t,e);return this[r(336)]=!0,this[r(323)]=this[r(300)](),this}_calculateBBox(){const t=A$1;let e=this.polygons[t(302)];if(0===e)return null;this[t(330)]=this[t(255)][0].getBBox();for(let r=1;r<e;r++)this._bbox[t(284)](this[t(255)][r][t(333)]());return this[t(330)]}[A$1(262)](){super.destroy()}[A$1(316)](t,e,r){const i=A$1;let n=Number[i(270)],s=null,o=Intersect3D[i(269)](t,this,r);if(o&&o.length>0)for(let e=0,r=o[i(302)];e<r;e++){let r=t[i(289)](o[e]);r<n&&(n=r,s=o[e])}return Number.isFinite(n)?{intersectCoordinate:s,distance:n}:null}[A$1(261)](t){const e=A$1;return Polygon[e(312)](t)[e(311)](this)}[A$1(305)](t){const e=A$1;let r,i=0;for(let n=0,s=this[e(255)][e(302)];n<s;n++){let s=this[e(255)][n][e(305)](t),o=s[e(279)]()[e(287)](t);o>i&&(i=o,r=s)}return r}}const a$I=["_style","extent","constructor","ARROW","getBasicGeometry","_selected","Point","getStyle","boolean","the parameter should be boolean type.","_lineFeatureDistanceToPolygon","getMarkerSymbols","_attributes","Rectangle","CARDINAL_CURVE_ARROW","479830CDkMnZ","BEZIER_CURVE3","getX","_copyAttrib","isArray","mouseOverHandler","_pointTextSymbolDistanceToPolygon","_pointMarkerSymbolDistanceToPolygon","getFillSymbols","SECTOR","right","MAX_VALUE","intersectRay","length","CLOSE_CURVE","RECTANGLE","Circle","destroy","getResolution","ROUNDED_RECT","push","getAnchor","POLYLINE","getZoomWithInterval","getExtent","getLineStyle","ARC","setGeometry","_enableToPolygon","getLineSymbols","getHeight","LUNE","getFontSize","getWidth","LinearRing","DOVETAIL_STRAIGHT_ARROW","getGeometry","1gEjbmj","_visible","FLAG","hasOwnProperty","sin","getY","setStyle","POLYLINE_ARROW","LINE_DASH","copyTo","ELLIPSE","LINE_WIDTH_DASH","getOffset","getTextSymbols","Polygon","MultiLine","getValue","POINT","28245uYThih","getType","_rowTextCount","ceil","_id","clone","trim","solid","substr","404374alNNxb","clickHandler","1160814nvptZH","getCoordinate","BEZIER_CURVE2","setFid","Line","name","RECT_FLAG","10067VtBXVz","indexOf","object","314185YXnTUZ","top","_geometry","buffer","BEZIER_CURVE_ARROW","distanceTo","getPainterType","STRETCH","getAttributes","POLYGON_NOISE","DOVETAIL_DIAGONAL_ARROW","GATHERING_PLACE","Dash","_pointFeatureDistanceToPolygon","substring","setAttributes","offClick","getText","LARROW","offHover","BEZIER_CURVEN","getTextAlign","getPixelFromCoordinate","getBBox","POLYGON_SOLID","onClick","the parameter is not a Geometry .","POLYGON","toPolygon","_getBoundingPolygon","mouseOutHandler","POLYGON_VIDEOTEX","_painterType","DIAGONAL_ARROW","_validateStyleArr","sprite","toLine","dash","getCoordinateFromPixel","STRAIGHT_ARROW","createStyleFunction","590370tBHTEg","assign","getVisibility","getFid","getSize","MultiPoint","_bbox","SPRITEPOINT","setVisibility","CIRCLE","getLineOffset","DOUBLE_ARROW","POLYGON_TEXTURE","setHighlight"],am=b$I;function b$I(t,e){return a$I[t-=293]}!function(t,e){const r=b$I;for(;;)try{if(313537===-parseInt(r(369))+parseInt(r(314))+parseInt(r(351))*parseInt(r(387))+-parseInt(r(431))+-parseInt(r(378))+-parseInt(r(390))+parseInt(r(380)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$I);class Vector{constructor(t,e={},r){const i=b$I;t instanceof Geometry&&(t[i(354)](i(342))&&(t=t.toPolygon()),this[i(392)]=t,this._attributes=e&&e[i(301)]===Object?e:{},r&&this[i(357)](r),this._styleFunction=void 0,this[i(352)]=!0,this[i(304)]=!1,this[i(373)]=Aid.createUnique(this[i(301)][i(385)]),this[i(437)]=this.getBBox(),this[i(422)]=painterType.NONE)}get id(){return this[b$I(373)]}[am(434)](){return this._id}[am(383)](t){this._id=t}updatePainterType(t=!0){const e=am;let r=painterType.NONE;if(this[e(299)]){switch(this[e(303)]()[e(370)]()){case GeometryType.Point:case GeometryType[e(436)]:r=this[e(299)][e(310)]()[0]&&this[e(299)][e(310)]()[0][e(425)]||this[e(299)][e(364)]()[0]&&this._style[e(364)]()[0].sprite?painterType[e(438)]:painterType[e(368)];break;case GeometryType[e(384)]:case GeometryType[e(348)]:case GeometryType[e(366)]:const t=this[e(299)].getLineSymbols()[0];r=t.getWidth()>1?painterType.LINE_WIDTH:painterType.LINE,t[e(339)]()!==e(376)&&(r+=e(402));break;case GeometryType[e(365)]:case GeometryType.MultiPolygon:case GeometryType[e(330)]:case GeometryType[e(312)]:case GeometryType.Triangle:const i=this._style[e(322)]()[0];if(i instanceof TextureFill)r=painterType[e(297)];else if(i instanceof NoiseFill)r=painterType[e(399)];else if(i instanceof VideoFill)r=painterType[e(421)];else if(i instanceof RadialGradientFill)r=painterType.POLYGON_RADIALGRADIENT;else{const t=this[e(299)][e(343)]()[0];r=t&&t[e(339)]()===e(427)?painterType.POLYGON_DASH:painterType[e(414)]}}return t&&(this[e(422)]=r),r}}[am(396)](){return this[am(422)]}[am(415)](t){this[am(379)]=t}[am(406)](){this.clickHandler=null}onHover(t,e){this[am(319)]=t,this.mouseOutHandler=e}[am(409)](){const t=am;this[t(319)]=null,this[t(420)]=null}static createStyleFunction(t){const e=am;let r;if("function"==typeof t)r=2===t[e(327)]?function(e){return t(this,e)}:t;else{let i;Array[e(318)](t)?i=t:t instanceof Style&&(i=[t]),r=function(){return i}}return r}displayDistanceToPolygon(t,e){const r=am,i=this[r(303)](),n=i[r(370)]();let s=this[r(306)]();if(n===GeometryType.Point)return this[r(403)](t,i,s,e);if(n===GeometryType[r(436)]){let r=Number.MAX_VALUE;for(const n of i.getPoints()){const i=this._pointFeatureDistanceToPolygon(t,n,s,e);i<r&&(r=i)}return r}return n===GeometryType.Line||n===GeometryType[r(366)]?this[r(309)](t,i,s,e):i[r(395)](e,{details:!1,edge:!1})}getBasicGeometry(){const t=am,e=this[t(350)]();switch(e[t(370)]()){case GeometryExtType[t(336)][t(340)]:case GeometryExtType[t(336)][t(382)]:case GeometryExtType[t(336)][t(315)]:case GeometryExtType[t(336)][t(410)]:case GeometryExtType[t(336)].CARDINAL_CURVE:return e[t(426)]();case GeometryExtType[t(417)][t(329)]:case GeometryExtType[t(417)][t(345)]:case GeometryExtType[t(417)][t(333)]:case GeometryExtType[t(417)][t(294)]:case GeometryExtType[t(417)][t(361)]:case GeometryExtType.POLYGON[t(323)]:case GeometryExtType[t(417)][t(328)]:case GeometryExtType.POLYGON[t(401)]:case GeometryExtType.FLAG[t(386)]:case GeometryExtType.FLAG.TRIANGLE_FLAG:case GeometryExtType[t(353)].CURVE_FLAG:case GeometryExtType.ARROW[t(429)]:case GeometryExtType[t(302)][t(423)]:case GeometryExtType[t(302)][t(296)]:case GeometryExtType[t(302)][t(349)]:case GeometryExtType.ARROW[t(400)]:return e[t(418)]();case GeometryExtType[t(408)][t(358)]:case GeometryExtType[t(408)][t(394)]:case GeometryExtType[t(408)][t(313)]:case GeometryExtType[t(408)].PARALLEL_SEARCH:case GeometryExtType[t(408)].SECTOR_SEARCH:return e.toMultiLine()}return e}[am(309)](t,e,r,i){const n=am,s=r[n(343)](),o=this[n(303)]()[n(395)](i,{details:!1,edge:!1});let a=0;for(const t of s)t[n(347)]()>a&&(a=t.getWidth());return o-a/2*t[n(332)]()}_pointTextSymbolDistanceToPolygon(t,e,r,i){const n=am;let s=r[n(407)]()[n(375)]();if(-1!==s[n(388)]("{")){let t=s[n(404)](1,s[n(327)]-1);s=this[n(398)]()[t]?this[n(398)]()[t][n(375)]():""}const o=s[n(327)],a=r[n(346)]();let h=r[n(363)]()[n(367)]("X"),l=-r[n(363)]()[n(367)]("Y");const c=r[n(411)](),u=r.getTextBaseline();let p,f;if(o<=6)p=[s],f=o;else{p=[s[n(377)](0,6),s[n(404)](6,o)];const t=o-6;f=t>6?t:6}const g=p[n(327)];"left"===c?h-=f*a:c===n(324)||(h-=f*a/2),u===n(391)?l-=a*g:"bottom"===u||(l-=a*(g/2));const d=h,_=l,y=d+f*a,m=_+g*a,I=e[n(381)](),x=t[n(412)](I);return this[n(419)](t,x[n(316)]()+d,x[n(356)]()+_,x[n(316)]()+y,x.getY()+m).distanceTo(i,{details:!1,edge:!1})}_getBoundingPolygon(t,e,r,i,n){const s=am,o=new Pixel(e,r),a=new Pixel(i,r),h=new Pixel(e,n),l=new Pixel(i,n),c=t[s(428)](o),u=t[s(428)](a),p=t[s(428)](h),f=t[s(428)](l),g=new LinearRing([new Point(p),new Point(f),new Point(u),new Point(c),new Point(p)]);return new Polygon([g])}_pointMarkerSymbolDistanceToPolygon(t,e,r,i){const n=am;let s;if(r instanceof Icon||r instanceof IconFont){let i,o;if(r instanceof Icon){const t=r.getSize();i=t[n(347)](),o=t.getHeight()}else{const t=r.getFontSize();i=t,o=t}const a=r[n(363)](),h=r[n(335)](),l=(.5-h[0])*i+a[n(367)]("X"),c=(.5-h[1])*o+a[n(367)]("Y");let u=t[n(412)](e.getCoordinate());u=new Pixel(u.getX()+l,u.getY()+c),s=this[n(419)](t,u[n(316)]()-i/2,u[n(356)]()-o/2,u.getX()+i/2,u.getY()+o/2)}else if(r instanceof Circle){const i=r._radius,o=r[n(363)]().getValue("X"),a=r[n(363)]().getValue("Y");let h=t.getPixelFromCoordinate(e.getCoordinate());h=new Pixel(h.getX()+o,h[n(356)]()+a);const l=16,c=2*Math.PI/l,u=[];for(let e=0;e<l;e++){const r=c*e,s=new Pixel(h[n(316)]()+i*Math.cos(r),h.getY()+i*Math[n(355)](r)),o=t[n(428)](s);u[n(334)](new Point(o))}const p=new LinearRing(u);s=new Polygon([p])}return!s&&(s=this.getGeometry()),s[n(395)](i,{details:!1,edge:!1})}[am(403)](t,e,r,i){const n=am,s=r.getMarkerSymbols();let o;if(s.length>0){const r=s[0];o=this[n(321)](t,e,r,i)}const a=r[n(364)]();let h=Number[n(325)];for(const r of a){const s=this[n(320)](t,e,r,i);s<h&&(h=s)}return o<h?o:h}[am(350)](){return this[am(392)]}[am(398)](){return this[am(311)]}[am(306)](){return this._style}[am(341)](t){const e=am;if(!(t instanceof Geometry))throw new TypeError(e(416));this[e(392)]=t,this[e(437)]=this[e(413)]()}[am(405)](t){const e=am;Object[e(432)](this[e(311)],t)}[am(357)](t){const e=am;if(!(t instanceof Style||null==t))throw new TypeError("the parameter style is neither an instance of Style nor null");this[e(299)]=t,this._styleFunction=t?Vector[e(430)](t):void 0}[am(424)](t){const e=am;if(Array[e(318)](t)){let r=!0;for(let i=0;i<t[e(327)];i++)!(t[i]instanceof Style)&&(r=!1);return r}return!1}[am(433)](){return this[am(352)]}setVisibility(t){this[am(352)]=t}getHighlight(){return this[am(304)]}[am(298)](t){const e=am;if(typeof t!==e(307))throw new TypeError(e(308));this[e(304)]=t}[am(360)](t){const e=am;let r=this[e(350)]()[e(360)](t),i=this[e(317)](this._attributes),n=this[e(299)][e(374)]();return new Vector(r,i,n)}_copyAttrib(t){const e=am;let r={};for(let i in t)r[i]=typeof t[i]===e(389)?this[e(317)](t[i]):t[i];return r}[am(338)](){return this[am(350)]().getExtent()}[am(374)](){const t=am,e={};Object.assign(e,this[t(311)]);let r=null;this.getStyle()&&(r=this[t(306)]()[t(374)]());let i=new Vector(this[t(350)]().clone(),e,r);return i[t(293)](this.getVisibility()),i}[am(331)](){const t=am;delete this._geometry,delete this[t(311)],delete this[t(299)],delete this[t(352)]}getBBox(){const t=am;return this[t(392)][t(413)]()}[am(326)](t,e,r){const i=am;if(this[i(422)]===painterType[i(397)]||this[i(422)]===painterType.STRETCH_TEXTURE)return this._bbox[i(326)](t);let n=this[i(350)](),s=[0,0,0];switch(this._painterType){case painterType.LINE:case painterType[i(359)]:case painterType.LINE_WIDTH:case painterType[i(362)]:const t=r[i(332)](r[i(337)]()),e=this[i(299)][i(343)]()[0][i(295)]();s=e instanceof Offset?[e._x*t,e._y*t,e._z*t]:e*t}if(n[i(370)]()===GeometryType[i(305)]){const o=[],a=this[i(299)][i(310)]()[0];if(s=[0,0,0],a&&a instanceof Icon){const t=a[i(363)](),e=a[i(435)](),s=a[i(335)](),h=r.getPixelFromCoordinate(n[i(381)]()),l=new Pixel(h.getX()+t[i(367)]("X")-e[i(347)]()*s[0],h.getY()+t[i(367)]("Y")-e.getHeight()*s[1]),c=new Pixel(h[i(316)]()+t[i(367)]("X")+e[i(347)]()*(1-s[0]),h[i(356)]()+t.getValue("Y")-e.getHeight()*s[1]),u=new Pixel(h.getX()+t[i(367)]("X")-e[i(347)]()*s[0],h[i(356)]()+t[i(367)]("Y")+e[i(344)]()*(1-s[1])),p=new Pixel(h[i(316)]()+t[i(367)]("X")+e[i(347)]()*(1-s[0]),h.getY()+t.getValue("Y")+e[i(344)]()*(1-s[1])),f=new Polygon([new LinearRing([new Point(r[i(428)](l)),new Point(r[i(428)](u)),new Point(r[i(428)](p)),new Point(r[i(428)](c))])]);o[i(334)](f)}else if(a&&a instanceof IconFont){const t=a[i(435)](),e=a[i(346)](),s=a[i(363)](),h=(a[i(346)]()-t[i(347)]())/2,l=(a[i(346)]()-t[i(344)]())/2,c=a[i(335)](),u=r[i(412)](n[i(381)]()),p=new Pixel(u.getX()+s._x-e*c[0]+h,u[i(356)]()+s._y-e*c[1]+l),f=new Pixel(u[i(316)]()+s._x+e*(1-c[0])-h,u.getY()+s._y-e*c[1]+l),g=new Pixel(u[i(316)]()+s._x-e*c[0]+h,u[i(356)]()+s._y+e*(1-c[1])-l),d=new Pixel(u[i(316)]()+s._x+e*(1-c[0])-h,u[i(356)]()+s._y+e*(1-c[1])-l),_=new Polygon([new LinearRing([new Point(r[i(428)](p)),new Point(r[i(428)](g)),new Point(r[i(428)](d)),new Point(r.getCoordinateFromPixel(f))])]);o.push(_)}const h=this[i(299)][i(364)]()[0];if(h){const t=this._attributes[i(300)];if(t&&this.bufferText){const e=r.getPixelFromCoordinate(this[i(392)][i(381)]());let n=0;a&&(n=a.getSize().getHeight());const s=e[i(316)]()+t[0],h=e[i(356)]()+t[1]+n,l=e[i(316)]()+t[2],c=e[i(356)]()+t[3],u=new Polygon([new LinearRing([new Point(r[i(428)](new Pixel(s,c))),new Point(r.getCoordinateFromPixel(new Pixel(s,h))),new Point(r[i(428)](new Pixel(l,h))),new Point(r.getCoordinateFromPixel(new Pixel(l,c)))])]);o.push(u)}else{let t=h[i(407)]()[i(375)]();if(-1!=t[i(388)]("{")){const e=t[i(404)](1,t[i(327)]-1);t=this._attributes[e]?this[i(311)][e][i(375)]():""}if(""!==t){const e=t[i(327)],n=h[i(371)],s=Math.min(e,n)*h[i(346)]()/2,a=Math[i(372)](e/n)*h[i(346)]()/2,l=h[i(363)](),c=r.getPixelFromCoordinate(this[i(392)].getCoordinate()),u=new Pixel(c[i(316)]()-s+l._x,c[i(356)]()-a+l._y),p=new Pixel(c[i(316)]()-s+l._x,c[i(356)]()+a+l._y),f=new Pixel(c[i(316)]()+s+l._x,c[i(356)]()+a+l._y),g=new Pixel(c[i(316)]()+s+l._x,c.getY()-a+l._y),d=new Polygon([new LinearRing([new Point(r[i(428)](u)),new Point(r[i(428)](p)),new Point(r.getCoordinateFromPixel(f)),new Point(r[i(428)](g))])]);o[i(334)](d)}}}if(0!==o[i(327)]){return new MultiPolygon(o)[i(326)](t,e,s)}}return n.intersectRay(t,e,s,this[i(393)])}}const a$H=["intersectRay","parameter is illegal!","getOrdinate","destroy","_generatePoints","getBuffer","getExtent","_generateBBox","6645dXBajb","_minX","getClosestPoint","_pointArr","getCoordSeqs","distanceTo","get3Dist","the line consisting of two points cannot be parallel to the axis","Rectangle","build","moveByDelta","FULL","the coord parameter is not an object of Coordinate!","_bbox","getCoordinate","_minY","transform","push",'parameter "coordinate" must be instance of Coordinate',"simplify","toPolygon","getType","length","62XkKwWY","containsCoord","69371nmuWOs","intersectsGeometry","489816LYZBkM","328657vnwnbi","rotate","parameter 'dist' must be a number that larger than zero !","applyTransform","getBBox","clone","parameter is not Coordinate!","scale","189697tGlMwv","abs","parameter 'tolerance' should be positive number","intersectsExtent","fromExtent","isFinite","409641CgEhNm","at least two points are required!","getCenter","788169DoEUyl"],B$2=b$H;function b$H(t,e){return a$H[t-=461]}!function(t,e){const r=b$H;for(;;)try{if(504335===parseInt(r(512))+parseInt(r(487))*-parseInt(r(510))+parseInt(r(475))+parseInt(r(478))+-parseInt(r(469))+-parseInt(r(514))+parseInt(r(461)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$H);class Rectangle extends Geometry{constructor(t){const e=b$H;if(super(),t[e(509)]<2)throw new Error(e(476));if(!(t[0]instanceof Point&&t[1]instanceof Point))throw new Error("member of points must be instance of Point");this._pointArr=[],this[e(483)](t)}[B$2(466)](){const t=B$2,e=[];e[t(504)](this._pointArr[0].clone()),e[t(504)](this._pointArr[1].clone()),e[t(504)](this[t(490)][2][t(466)]()),e[t(504)](this[t(490)][3][t(466)]());let r=new Rectangle([new Point(new Coordinate(0,1,0)),new Point(new Coordinate(1,0,0))]);return r._pointArr=e,r[t(486)](),r}[B$2(492)](t,e={}){const r=B$2;return this[r(507)]()[r(492)](t,e)}[B$2(513)](t){const e=B$2;if(!t[e(508)])throw new TypeError(e(480));return this[e(507)]().intersectsGeometry(t)}[B$2(462)](t,e,r){const i=B$2;for(let n of this[i(490)])n[i(462)](t,e,r);return this}[B$2(497)](t=0,e=0,r=0){const i=B$2;for(let n of this._pointArr)n[i(497)](t,e,r);return this[i(486)](),this}[B$2(483)](t){const e=B$2;(!t||t[e(509)]<1)&&((t=[]).push(this[e(490)][0]),t.push(this[e(490)][2]));let r,i,n,s,o,a;const h=t[0][e(501)]()[e(481)]("X"),l=t[0].getCoordinate().getOrdinate("Y"),c=t[0].getCoordinate()[e(481)]("Z"),u=t[1].getCoordinate().getOrdinate("X"),p=t[1][e(501)]()[e(481)]("Y"),f=t[1].getCoordinate()[e(481)]("Z");if(Math[e(470)](h-u)<1e-9||Math[e(470)](l-p)<1e-9)throw new Error(e(494));h>u?(r=u,i=h):(r=h,i=u),l>p?(n=p,s=l):(n=l,s=p),c>f?(o=f,a=c):(o=c,a=f),this[e(490)].length=0,Number[e(474)](r)&&Number[e(474)](n)&&Number[e(474)](i)&&Number[e(474)](s)&&(this[e(490)][e(504)](new Point(new Coordinate(r,n,0))),this[e(490)].push(new Point(new Coordinate(i,n,0))),this[e(490)].push(new Point(new Coordinate(i,s,0))),this[e(490)][e(504)](new Point(new Coordinate(r,s,0)))),this._bbox=new BBox(r,n,o,i,s,a)}[B$2(486)](){const t=B$2;let e,r,i,n,s,o;e=r=this._pointArr[0].getCoordinate()[t(481)]("X"),i=n=this._pointArr[0][t(501)]()[t(481)]("Y"),s=o=this[t(490)][0][t(501)]()[t(481)]("Z");for(let a of this[t(490)]){const h=a.getCoordinate().getOrdinate("X"),l=a[t(501)]()[t(481)]("Y"),c=a[t(501)]().getOrdinate("Z");e>h?e=h:r<h&&(r=h),i>l?i=l:n<l&&(n=l),s>c?s=c:o<c&&(o=c)}this._bbox=new BBox(e,i,s,r,n,o)}[B$2(489)](t){const e=B$2;if(!(t instanceof Coordinate))throw new Error(e(467));let r=this[e(490)][0].getCoordinate()[e(493)](t),i=this[e(490)][0];const n=this[e(490)][e(509)];for(let s=0;s<n;s++){const n=this[e(490)][s],o=n[e(501)]().get3Dist(t);o<r&&(r=o,i=n)}return i}[B$2(506)](t){const e=B$2;if(!Number.isFinite(t)||t<0)throw new Error(e(471));return this}getExtent(){const t=B$2;return new Extent(this[t(500)][t(488)],this[t(500)][t(502)],this[t(500)]._maxX,this[t(500)]._maxY)}getType(){return GeometryType[B$2(495)]}[B$2(491)](){return[this.getCoordSeq()]}getCoordSeq(){const t=B$2,e=[];if(0!=this._pointArr[t(509)]){for(let r=0,i=this[t(490)].length;r<i;r++)e.push(this[t(490)][r][t(501)]());e.push(this._pointArr[0][t(501)]())}return new CoordSeq(e)}[B$2(507)](){return new Polygon([new LinearRing(this[B$2(490)])])}toLine(){return new Line(this[B$2(490)])}[B$2(484)](t,e=B$2(498)){const r=B$2;if(!(Number[r(474)](t)&&t>0))throw new Error(r(463));return new PolygonBuffer(this.toPolygon(),t,e)[r(496)]()}[B$2(465)](){return this._bbox}[B$2(479)](t,e){const r=B$2;return this[r(507)]()[r(479)](t,e)}isSelfIntersects(){return!1}[B$2(482)](){super.destroy()}[B$2(503)](t,e){const r=B$2;for(let i=0,n=this[r(490)][r(509)];i<n;i++)this[r(490)][i][r(503)](t,e);return this._generateBBox(),this}[B$2(464)](t){const e=B$2,r=this[e(490)];r[0][e(464)](t),r[1][e(464)](t),r[2][e(464)](t),r[3].applyTransform(t),this[e(486)]()}[B$2(468)](t,e,r,i){const n=B$2;if(void 0!==i&&!(i instanceof Coordinate))throw new TypeError(n(505));!i&&(i=this.getExtent()[n(477)]());for(let s=0,o=this._pointArr.length;s<o;s++)this[n(490)][s][n(468)](t,e,r,i);return this[n(486)](),this}atApproximatePoint(t){const e=B$2;if(!(t instanceof Coordinate))throw new TypeError(e(499));return this[e(485)]()[e(511)](t)}[B$2(472)](t){const e=B$2;return Polygon[e(473)](t)[e(513)](this)}}const a$G=["lineIntersectMultiLine2D","getLines","getLineCount","readGeometry","200278IhQqvl","scale","multiPointIntersectMultiLine2D","13sddgkB","the type of parameter must be number!","_extent","map","the parameter you passed must be Array!","length","distanceTo","getExtent","_lines","the index value is out of Bounds!","toString","every","multiLineIntersectPolygon2D","117309LWLxBN","14064cWCwaH","getLine","distanceToCamera","atApproximatePoint","_pointsChanged","point","isValid","fromCoordSeq","addLine","multiLineIntersectMultiLine2D","extendBBox","intersectsExtent","the parameter is not Coordinate!","distance","fromCoordSeqs","call","222389bYkovB","isFinite","simplify","getBuffer","intersectRay","ROUND","lineToLine","getCoordinate","fromExtent",'not every elements in parameter "lines" is Line instance!',"moveByDelta","155457FqfTyX","isArray","containsCoord","there is no CoordSeq in your Array!","parameter must be number!","POSITIVE_INFINITY","getCoordSeqs","93937shNKGV","isSelfIntersects","getClosestPoint","intersectsGeometry","applyTransform","push","multiLineIntersectMultiPolygon2D","getCoordSeq","parseInt","_calculateBBox","1Sqjtxg","prototype","clone","170718oQecqu","toPolygon","getBBox","_extendBBox","unionPolygons","getVertices","_extendExtent","getType","_line","_bbox","transform","rotate"],A=b$G;!function(t,e){const r=b$G;for(;;)try{if(142082===parseInt(r(224))+parseInt(r(237))+-parseInt(r(253))+parseInt(r(217))+parseInt(r(234))*parseInt(r(206))+parseInt(r(256))*-parseInt(r(190))+-parseInt(r(189)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$G);class MultiLine extends Geometry{constructor(t){const e=b$G;if(!t[e(187)]((function(t,e,r){return t instanceof Line})))throw new Error(e(215));super(),this._lines=t,this._bbox=this[e(233)](),this._pointsChanged=!1,this[e(258)]=this[e(246)][e(263)]()}[A(198)](t){const e=A;if(t instanceof Line)return this[e(264)][e(229)](t),this[e(240)](t),this;throw new TypeError("the type of parameter must be Line!")}static[A(204)](t=[]){const e=A;if(Array[e(218)](t)||"[Object Array]"===Object[e(235)][e(186)][e(205)](t)){if(!t[e(187)]((function(t,e,r){return t instanceof CoordSeq})))throw new Error(e(220));let r=t[e(259)]((function(t,r,i){return Line[e(197)](t)}));return new MultiLine(r)}throw new TypeError(e(260))}[A(223)](t=0,e=this._lines[A(261)]){const r=A;if(Number[r(207)](t)&&Number[r(207)](e)){const i=this._lines[r(261)];if((t=t<=0?0:Number[r(232)](t))>=(e=e>i?i:Number[r(232)](e)))return[];let n=[];for(let i=t,s=e;i<s;i++)n.push(this[r(264)][i][r(231)]());return n}throw new Error("the parameters must be numbers!")}[A(191)](t=0){const e=A;if(!Number[e(207)](t))throw new TypeError(e(257));if(t<0||t>=this[e(264)][e(261)])throw new RangeError(e(185));return this[e(264)][t]}[A(251)](){const t=A;return this._lines[t(261)]}[A(250)](){return this._lines}[A(228)](t){const e=A;for(let r=0,i=this[e(264)][e(261)];r<i;r++)this[e(264)][r].applyTransform(t);this[e(194)]=!0,this._extent=this[e(263)]()}[A(193)](t){const e=A;if(t instanceof Coordinate)return this[e(263)]()[e(219)](t);throw new TypeError(e(202))}[A(236)](){const t=A,e=[];for(let r=0,i=this[t(264)][t(261)];r<i;r++)e[t(229)](this[t(264)][r][t(236)]());return new MultiLine(e)}[A(262)](t,e){const r=A;let i,n,s,o=Number[r(222)];for(let a=0,h=this[r(264)][r(261)];a<h&&(i=this[r(264)][a][r(262)](t,e),s=i.distance||0==i[r(203)]?i.distance:i,!(o<0&&s>o&&s<0||o>0&&s<o)||(o=s,n=i,0!==o));++a);return n}[A(209)](t,e=A(211),r=0){const i=A,n=[],s=new GeoJSON;for(let o=0,a=this[i(251)]();o<a;o++)n[i(229)](s.writeGeometry(this[i(191)](o).getBuffer(t,e,r)));let o=new TopologyBoolean;const a=o[i(241)](n);return o=null,s[i(252)](a,null)}[A(226)](t){const e=A;let r,i=Number[e(222)];for(let n=0,s=this[e(264)][e(261)];n<s;++n){let s=this._lines[n][e(242)]();for(let n=0,o=s[e(261)];n<o;n++){const o=s[n],a=o[e(213)]().get3Dist(t);a<i&&(i=a,r=o)}}return r}[A(263)](){const t=A;return this[t(239)](),this[t(258)]}[A(239)](){const t=A;return this._pointsChanged&&(this[t(246)]=this._calculateBBox(),this[t(194)]=!1,this._extent=this[t(246)].getExtent()),this[t(246)]}[A(244)](){return GeometryType.MultiLine}[A(227)](t){const e=A;if(!t[e(244)])throw new TypeError("parameter is illegal!");return{Point:()=>Intersect.pointIntersectMultiLine2D(t,this),MultiPoint:()=>Intersect[e(255)](t,this),Line:()=>Intersect[e(249)](t,this),LinearRing:()=>Intersect[e(249)](t,this),Triangle:()=>{const r=e;return Intersect[r(188)](this,t[r(238)]())},MultiLine:()=>Intersect[e(199)](this,t),Circle:()=>Intersect[e(188)](this,t.toPolygon()),Rectangle:()=>{const r=e;return Intersect[r(188)](this,t[r(238)]())},Polygon:()=>Intersect[e(188)](this,t),MultiPolygon:()=>Intersect[e(230)](this,t),Collection:()=>t[e(227)](this)}[t[e(244)]()]()}isSelfIntersects(){const t=A;for(let e=0,r=this.getLineCount();e<r;e++){let i=this[t(191)](e);if(i[t(225)]())return!0;for(let n=e+1;n<r;n++){let e=this[t(191)](n);if(Intersect.lineIntersectLine2D(i,e))return!0}}return!1}[A(196)](){}[A(216)](t=0,e=0,r=0){const i=A;if(!Number.isFinite(t)||!Number[i(207)](e)||!Number[i(207)](r))throw new Error(i(221));for(let n=0,s=this[i(264)][i(261)];n<s;n++)this[i(264)][n].moveByDelta(t,e,r);return this._pointsChanged=!0,this[i(258)]=this.getExtent(),this}[A(248)](t,e,r){const i=A;for(let n=0,s=this[i(264)].length;n<s;n++)this[i(264)][n][i(248)](t,e,r);return this[i(194)]=!0,this[i(258)]=this[i(263)](),this}[A(254)](t,e,r,i){const n=A;!i&&(i=this[n(263)]().getCenter());for(let s=0,o=this[n(264)][n(261)];s<o;s++)this[n(264)][s].scale(t,e,r,i);return this._pointsChanged=!0,this._extent=this[n(263)](),this}[A(208)](t){const e=A;for(let r=0;r<this[e(264)].length;r++)this._lines[r][e(208)](t);return this[e(194)]=!0,this[e(258)]=this.getExtent(),this}[A(210)](t,e){const r=A;let i=Number.POSITIVE_INFINITY,n=null;for(let s=0,o=this[r(251)]();s<o;s++){let o=this.getLine(s),a=Intersect3D[r(212)](o,t[r(245)]);for(let s=0,o=a[r(261)];s<o;s++){let o=a[s];if(o&&o.distance<e){let e=t[r(192)](o[r(195)]);e<i&&(i=e,n=o[r(195)])}}}return Number[r(207)](i)?{intersectCoordinate:n,distance:i}:null}transform(t,e){const r=A;for(let i=0,n=this[r(264)][r(261)];i<n;i++)this[r(264)][i][r(247)](t,e);return this[r(194)]=!0,this}[A(233)](){const t=A;let e=this[t(264)][t(261)];if(0===e)return null;this._bbox=this[t(264)][0].getBBox();for(let r=1;r<e;r++)this[t(246)][t(200)](this[t(264)][r][t(239)]());return this[t(246)]}[A(243)](t){const e=A;this[e(258)]=this._extent.extendExtent(t[e(263)]())}destroy(){super.destroy()}[A(240)](t){const e=A;this[e(246)][e(200)](t.getBBox()),this[e(258)]=this._bbox[e(263)]()}[A(201)](t){return Polygon[A(214)](t).intersectsGeometry(this)}}function b$G(t,e){return a$G[t-=185]}const a$F=["sqrt","transform","containsCoord","intersectsGeometry","isSelfIntersects","getCentroid","rotate","isFinite","805487PjrYrH","clone","isAcute","_bbox","applyTransform","2388301NogUDx","_getVAndN","get3Dist","_cCoord","getBuffer","scale","214384SXGVav","64AISxfk","intersectRay","pow","length","1INbLER","_pointsChanged","_aCoord","build","parameter 'tolerance' should be positive number","2rJoUDj","destroy","getCoordSeq","distanceToCamera","the coord parameter is not an object of Coordinate!","distanceTo","toPolygon","min","getInCenter","getClosestPoint","1oTFjbD","parameter is not Coordinate!","getCenter",'parameter "coordinate" must be instance of Coordinate',"getOrdinate","parameter must be number!","isValid","getCoordSeqs","getBBox","_calculateBBox","285733YyBxOT","getType","setOrdinate","1sNTYKh","set","_bCoord","getCircumCenter","moveByDelta","max","FULL","substract","getExtent","19768mBweAk","239023JVWavl","443037FKBuEw","simplify"],L=b$F;function b$F(t,e){return a$F[t-=113]}!function(t,e){const r=b$F;for(;;)try{if(664711===parseInt(r(146))+parseInt(r(122))*-parseInt(r(132))+parseInt(r(135))*-parseInt(r(156))+-parseInt(r(172))*parseInt(r(145))+parseInt(r(177))*parseInt(r(167))+parseInt(r(168))*-parseInt(r(144))+parseInt(r(161)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$F);class Triangle extends Geometry{constructor(t,e,r){const i=b$F;if(super(),!(t instanceof Coordinate&&e instanceof Coordinate&&r instanceof Coordinate))throw new TypeError(i(123));let n=[e[i(126)]("X")-t[i(126)]("X"),e[i(126)]("Y")-t[i(126)]("Y"),e[i(126)]("Z")-t[i(126)]("Z")],s=[r[i(126)]("X")-t.getOrdinate("X"),r[i(126)]("Y")-t[i(126)]("Y"),r[i(126)]("Z")-t[i(126)]("Z")],o=[n[1]*s[2]-s[1]*n[2],n[2]*s[0]-n[0]*s[2],n[0]*s[1]-n[1]*s[0]];if(!(Math[i(170)](o[0],2)+Math.pow(o[1],2)+Math[i(170)](o[2],2)))throw new Error("three Coordinates are in same line!");this[i(174)]=t[i(157)](),this[i(137)]=e[i(157)](),this[i(164)]=r[i(157)](),this[i(159)]=this[i(131)](),this[i(173)]=!1}getArea(){const t=b$F;let e=this._getVAndN()[3],r=Math[t(170)](e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2);return Math[t(148)](r)/2}[L(129)](){return[this.getCoordSeq()]}[L(114)](){const t=L;return new CoordSeq([this._aCoord,this[t(137)],this._cCoord,this[t(174)]])}[L(138)](){}[L(120)](){const t=L;let e=this[t(174)][t(126)]("X"),r=this[t(174)][t(126)]("Y"),i=this[t(174)][t(126)]("Z"),n=this._bCoord[t(126)]("X"),s=this[t(137)].getOrdinate("Y"),o=this[t(137)][t(126)]("Z"),a=this[t(164)][t(126)]("X"),h=this._cCoord[t(126)]("Y"),l=this[t(164)][t(126)]("Z"),c=new Vector3(e,r,i),u=new Vector3(n,s,o),p=new Vector3(a,h,l),f=u[t(142)](p)[t(171)](),g=c[t(142)](p)[t(171)]();u[t(136)](n,s,o),c[t(136)](e,r,i);let d=c[t(142)](u)[t(171)](),_=f+g+d;return new Coordinate((f*e+g*n+d*a)/_,(f*r+g*s+d*h)/_,(f*i+g*o+d*l)/_)}getLongestSideLength(){const t=L;let e=this._getVAndN(),r=e[0],i=e[1],n=e[2],s=Math[t(170)](r[0],2)+Math.pow(r[1],2)+Math[t(170)](r[2],2),o=Math[t(170)](i[0],2)+Math[t(170)](i[1],2)+Math[t(170)](i[2],2),a=Math[t(170)](n[0],2)+Math[t(170)](n[1],2)+Math[t(170)](n[2],2);return Math[t(148)](Math[t(140)](s,o,a))}[L(158)](){const t=L;let e=this[t(162)](),r=e[0],i=e[1],n=e[2],s=Math[t(170)](r[0],2)+Math[t(170)](r[1],2)+Math[t(170)](r[2],2),o=Math[t(170)](i[0],2)+Math[t(170)](i[1],2)+Math[t(170)](i[2],2),a=Math[t(170)](n[0],2)+Math[t(170)](n[1],2)+Math.pow(n[2],2);return!(s+o+a-2*Math[t(140)](s,o,a)<=0)}toPolygon(){const t=L,e=[new Point(this[t(174)]),new Point(this[t(137)]),new Point(this[t(164)])],r=new LinearRing(e);return new Polygon([r])}[L(160)](t){const e=L;this[e(174)]=t(this[e(174)]),this[e(137)]=t(this[e(137)]),this[e(164)]=t(this._cCoord),this[e(173)]=!0}atApproximatePoint(t){const e=L;if(!(t instanceof Coordinate))throw new TypeError(e(116));return this[e(143)]()[e(150)](t)}[L(157)](){const t=L;return new Triangle(this[t(174)],this[t(137)],this._cCoord)}[L(117)](t,e){const r=L;return this[r(118)]()[r(117)](t,e)}[L(165)](t,e=L(141)){const r=L;if(!(Number.isFinite(t)&&t>0))throw new Error("parameter 'dist' must be a number that larger than zero !");return new PolygonBuffer(this[r(118)](),t,e)[r(175)]()}[L(153)](){const t=L,e=[this[t(174)],this._bCoord,this[t(164)]];let r=0,i=0,n=0;for(let s=0;s<3;s++){const o=e[s];r+=o[t(126)]("X"),i+=o[t(126)]("Y"),n+=o.getOrdinate("Z")}return new Coordinate(r/3,i/3,n/3)}[L(121)](t){const e=L;let r=[this[e(174)],this._bCoord,this[e(164)]],i=this[e(174)],n=r[0][e(163)](t);for(let s=1;s<3;s++){const o=r[s],a=o[e(163)](t);a<n&&(i=o,n=a)}return new Point(i)}[L(143)](){const t=L;return this[t(130)]()[t(143)]()}[L(130)](){const t=L;return this._pointsChanged&&(this[t(159)]=this[t(131)](),this[t(173)]=!1),this._bbox}[L(131)](){const t=L;let e=[this[t(174)],this[t(137)],this[t(164)]],r=e[0],i=r[t(126)]("X"),n=r[t(126)]("X"),s=r[t(126)]("Y"),o=r[t(126)]("Y"),a=r[t(126)]("Z"),h=r[t(126)]("Z");for(let l=1;l<3;l++){r=e[l];let c=r[t(126)]("X"),u=r.getOrdinate("Y"),p=r[t(126)]("Z");i=Math[t(119)](i,c),n=Math[t(140)](n,c),o=Math[t(119)](o,u),s=Math[t(140)](s,u),a=Math.max(a,p),h=Math[t(119)](h,p)}return new BBox(i,o,h,n,s,a)}[L(133)](){return GeometryType.Triangle}intersectsGeometry(t){const e=L;return this[e(118)]()[e(151)](t)}[L(152)](){return!1}[L(128)](){}[L(139)](t,e,r){const i=L;if(!Number.isFinite(t)||!Number[i(155)](e)||!Number.isFinite(r))throw new Error(i(127));let n=[this[i(174)],this[i(137)],this[i(164)]];for(let s=0;s<3;s++){const o=n[s];o.setOrdinate("X",o[i(126)]("X")+t),o[i(134)]("Y",o[i(126)]("Y")+e),o.setOrdinate("Z",o[i(126)]("Z")+r)}return this[i(173)]=!0,this}rotate(t="Z",e=0,r){const i=L;return this._aCoord[i(154)](t,e,r),this[i(137)][i(154)](t,e,r),this[i(164)][i(154)](t,e,r),this[i(173)]=!0,this}[L(166)](t,e,r,i){const n=L;if(null!=i&&!(i instanceof Coordinate))throw new TypeError(n(125));!i&&(i=this[n(143)]()[n(124)]());const s=i[n(126)]("X"),o=i.getOrdinate("Y"),a=i[n(126)]("Z");return this[n(139)](-s,-o,-a),this[n(174)].scale(t,e,r),this[n(137)][n(166)](t,e,r),this[n(164)][n(166)](t,e,r),this[n(139)](s,o,a),this}transform(t,e){const r=L;return this[r(174)]=Transformer[r(149)](this[r(174)],t,e),this[r(137)]=Transformer[r(149)](this[r(137)],t,e),this[r(164)]=Transformer[r(149)](this[r(164)],t,e),this[r(173)]=!0,this}[L(162)](){const t=L;let e=[this._bCoord.getOrdinate("X")-this._aCoord[t(126)]("X"),this[t(137)][t(126)]("Y")-this[t(174)].getOrdinate("Y"),this._bCoord.getOrdinate("Z")-this[t(174)][t(126)]("Z")],r=[this._cCoord[t(126)]("X")-this[t(174)][t(126)]("X"),this[t(164)][t(126)]("Y")-this[t(174)].getOrdinate("Y"),this[t(164)][t(126)]("Z")-this[t(174)][t(126)]("Z")],i=[e[1]*r[2]-r[1]*e[2],e[2]*r[0]-e[0]*r[2],e[0]*r[1]-e[1]*r[0]];return[e,r,[this[t(164)].getOrdinate("X")-this[t(137)][t(126)]("X"),this[t(164)].getOrdinate("Y")-this._bCoord[t(126)]("Y"),this[t(164)][t(126)]("Z")-this[t(137)][t(126)]("Z")],i]}[L(113)](){super[L(113)]()}[L(169)](t,e,r=[0,0,0]){const i=L;let n=[new Vector3(this[i(174)]._x+r[0],this[i(174)]._y+r[1],this[i(174)]._z+r[2]),new Vector3(this[i(137)]._x+r[0],this[i(137)]._y+r[1],this._bCoord._z+r[2]),new Vector3(this[i(164)]._x+r[0],this._cCoord._y+r[1],this[i(164)]._z+r[2])],s=Intersect3D.rayIntersectTriangle(t,n);if(s){return{intersectCoordinate:s,distance:t[i(115)](s)}}return null}[L(147)](t){const e=L;if(!Number[e(155)](t)||t<0)throw new Error(e(176));return this}intersectsExtent(t){const e=L;return Polygon.fromExtent(t)[e(151)](this)}}const a$E=["moveByDelta","2QneLTa","1froAqg","getCentroid","getClosesPoint","getBottom","getGeoms","134579tBrJSE","19217cmPbxS","intersectsGeometry","intersectsExtent","destroy","_geometrys","getTop","getOrdinate","16pViJzp","simplify","forEach","distance","clone","parameter 'geometrys' is invalid","scale","map","45IxitKI","getRight","195421SCXrdx","edge","addGeometry","1071067oKFwxb","getArea","4kiXpRQ","length","atApproximatePoint","22921WywlOY","getCoordSeq","POSITIVE_INFINITY","applyTransform","getGeometryTypes","getLines","getLeft","getLength","distanceTo","getType","_validType","59932wIdqCk","isSelfIntersects","37KeBbDn","removeGeom","isValid","1800917ZlyrnJ","getExtent","this geometrys contains invalid geometry.","getCount","transform"],B$1=b$E;function b$E(t,e){return a$E[t-=132]}!function(t,e){const r=b$E;for(;;)try{if(566238===parseInt(r(134))*parseInt(r(150))+parseInt(r(144))*parseInt(r(170))+-parseInt(r(165))*-parseInt(r(175))+-parseInt(r(143))*parseInt(r(149))+-parseInt(r(157))*parseInt(r(132))+-parseInt(r(172))*-parseInt(r(167))-parseInt(r(137)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$E);class Collection extends Geometry{constructor(t){const e=b$E;if(super(),!(t instanceof Array))throw new TypeError("params must be Array");{const r=t[e(173)];if(r<1)throw new Error(e(162));for(let i=0;i<r;i++){const r=t[i];if(!this._validType(r))throw new TypeError(e(139))}this[e(154)]=t}}[B$1(185)](t){return null!=t&&(t instanceof Point||t instanceof MultiPoint||t instanceof Line||t instanceof MultiLine||t instanceof LinearRing||t instanceof Polygon||t instanceof MultiPolygon||t instanceof Triangle||t instanceof Rectangle||t instanceof Circle)}[B$1(169)](t,e){const r=B$1;return this[r(185)](t)?(e<0?e=0:(void 0===e||e>this[r(154)][r(173)])&&(e=this[r(154)][r(173)]),this[r(154)].splice(e,0,t),this):this}[B$1(171)](){const t=B$1;let e=0;return this._geometrys[t(159)]((t=>{t instanceof Point||t instanceof MultiPoint||t instanceof Line||t instanceof MultiLine||(e+=t.getArea())})),e}[B$1(140)](){const t=B$1;return this[t(154)][t(173)]}[B$1(148)](){return this[B$1(154)]}[B$1(179)](){const t=B$1;return this._geometrys[t(164)]((function(e){return e[t(184)]()}))}[B$1(182)](t=4326){const e=B$1;let r=0;return this[e(154)][e(159)]((i=>{const n=e;if(i instanceof Line)r+=i.getLength(t);else if(i instanceof MultiLine){let e=i[n(180)]();for(let i of e)r+=i[n(182)](t)}})),r}[B$1(135)](t){const e=B$1;let r=0;const i=this._geometrys[e(173)];for(let n=0;n<i;n++)this[e(154)][n-r]===t&&(this[e(154)].splice(n,1),r++);return r}[B$1(145)](){const t=B$1;let e=0,r=0,i=0;const n=this[t(154)][t(173)];for(let s=0;s<n;s++)if(this[t(154)][s][t(145)]){const n=this[t(154)][s].getCentroid();e+=n[t(156)]("X"),r+=n[t(156)]("Y"),i+=n[t(156)]("Z")}return e||r||i?new Coordinate(e/n,r/n,i/n):-1}[B$1(174)](t){const e=B$1;let r=!1;return this._geometrys[e(159)]((i=>{i[e(174)](t)&&(r=!0)})),r}[B$1(178)](t){const e=B$1;this._geometrys[e(159)]((r=>{r[e(178)](t)}))}clone(){const t=B$1,e=[...this[t(154)]][t(164)]((e=>e[t(161)]()));return new Collection(e)}[B$1(183)](t,e){const r=B$1;!(e&&!1===e[r(168)])&&e&&e.details;let i,n,s,o=Number[r(177)];for(let a=0,h=this[r(154)].length;a<h&&(i=this[r(154)][a][r(183)](t,e),s=i.distance||0==i[r(160)]?i.distance:i,!(s<o&&(o=s,n=i,0===o)));++a);return n}[B$1(138)](){const t=B$1;let e,r,i,n;if(this[t(154)].length<1)return!1;{let s=this[t(154)][0][t(138)]();e=s.getLeft(),r=s[t(147)](),i=s.getRight(),n=s[t(155)]()}return this[t(154)].forEach((s=>{const o=t,a=s.getExtent();e=a[o(181)]()<e?a.getLeft():e,r=a[o(147)]()<r?a.getBottom():r,i=a[o(166)]()>i?a[o(166)]():i,n=a[o(155)]()>n?a[o(155)]():n})),new Extent(e,r,i,n)}distanceToSegment(t){}getLastCoordinate(){}[B$1(146)](t){}[B$1(176)](t,e){}getType(){return GeometryType.Collection}[B$1(152)](t){const e=B$1,r=this[e(138)](),i=r[e(181)]()>=t.getLeft()&&r[e(147)]()>=t.getBottom()&&r.getLeft()<=t[e(166)]()&&r[e(147)]()<=t[e(155)](),n=r[e(166)]()>=t.getLeft()&&r[e(155)]()>=t.getBottom()&&r[e(166)]()<=t[e(166)]()&&r.getTop()<=t[e(155)]();return i||n}[B$1(136)](){const t=B$1;let e=!0;return this[t(154)].forEach((r=>{!r[t(136)]()&&(e=!1)})),e}[B$1(151)](t){const e=B$1;for(let r=0,i=this[e(154)][e(173)];r<i;r++)if(this[e(154)][r].intersectsGeometry(t))return!0;return!1}moveByDelta(t,e,r){const i=B$1;return this[i(154)][i(159)]((n=>{n[i(142)](t,e,r)})),this}rotate(t,e,r){const i=B$1;this._geometrys[i(159)]((i=>{i.rotate(t,e,r)}))}[B$1(158)](t){const e=B$1;this._geometrys[e(159)]((r=>{r[e(158)](t)}))}[B$1(163)](t,e,r,i){const n=B$1;return!i&&(i=this[n(138)]().getCenter()),this[n(154)][n(159)]((s=>{s[n(163)](t,e,r,i)})),this}[B$1(141)](t,e,r){}[B$1(133)](){const t=B$1;let e=!1;return this[t(154)][t(159)]((r=>{r[t(133)]()&&(e=!0)})),e}[B$1(153)](){super[B$1(153)]()}}const a$D=["features","_coordinatesToArray","toPolygon","string","parse","_getObject","67157IPXDyp","208202bMiqMA","readFeature","MultiLineString","indexOf","Feature","properties","406289gkgvxs","geometries","_readPoints","read","coordinates","11MSjjeN","readGeometryFromObject","Polygon","_writePolygonGeometry","_writeGeometryCollectionGeometry","Unsupported geometry type: ","push","geometry","getType","_coordinateToArray","readFeaturesByGeometryType","getCoordinates","apply","LineString","readFeatures","1ivvjAI","_readPolygonGeometry","getGeoms","FeatureCollection","Point","MultiPolygon","Geometry","Bad JSON: ","_writeRectangleGeometry","_writePlotLineGeometry","GeometryCollection must have geometries array: ","extractCoords","_GEOMETRY_WRITERS","writeFeaturesObject","_writeLineStringGeometry","length","_readPointGeometry","writeFeatureObject","_writeMultiLineStringGeometry","hasOwnProperty","744251BoLvqz","_writePlotPolygonGeometry","_readMultiPointGeometry","type","readLineFeatures","_GEOMETRY_READERS","getCoordSeq","getCoordinate","_writeLinearRingGeometry","_readMultiLineStringGeometry","434236KHnBNZ","readFeaturesFromObject","writeGeometry","fid","writeFeature","_readGeometryCollectionGeometry","52604uvmHlx","_readLineStringGeometry","getCoordSeqs","Bad GeoJSON - no type: ","GeometryCollection","readFeatureFromObject","_writeMultiPolygonGeometry","_readMultiPolygonGeometry","_geometrys","stringify","_readCoordinate","readMPointFeatures","readMPolyFeatures","MultiPoint","_writePointGeometry","getCoordCount","readPolyFeatures","setFid","415014hZOpmg","FeatureCollection only supports collections of features: ","isArray","getOrdinate","_writeMultiPointGeometry","getAttributes"];function b$D(t,e){return a$D[t-=276]}const t=b$D;!function(t,e){const r=b$D;for(;;)try{if(622025===-parseInt(r(281))*parseInt(r(308))+parseInt(r(344))*parseInt(r(293))-parseInt(r(338))+parseInt(r(328))+-parseInt(r(288))+parseInt(r(362))+-parseInt(r(282)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$D);let GEOMETRY_READERS={Point:"_readPointGeometry",MultiPoint:t(330),LineString:t(345),MultiLineString:t(337),Polygon:"_readPolygonGeometry",MultiPolygon:"_readMultiPolygonGeometry",GeometryCollection:t(343)};class GeoJSON{constructor(){}_getObject(e,r){const i=t;let n=null;if(typeof e===i(278))return n=JSON[i(279)](e,r),n||null;if(null!==e)return e;if(!e)throw i(315)+e;if("string"!=typeof e[i(331)])throw i(347)+e}[t(339)](e){const r=t,i=[];if(e&&e[r(331)]===r(311)){if(!e.hasOwnProperty(r(368))||!Array[r(364)](e.features))return i;for(let t=0,n=e[r(368)].length;t<n;++t){const n=this[r(349)](e[r(368)][t]);n&&i[r(299)](n)}}return i}[t(349)](e){const r=t;let i=null;e[r(331)]===r(286)&&(i=e);const n=i[r(287)]?i.properties:{},s=this[r(294)](i[r(300)]);if(!s)return null;const o=new Vector(s,n);return i.id&&o[r(361)](i.id),o}[t(283)](e,r){const i=t;return this[i(349)](this[i(280)](e,r))}[t(294)](e){const r=t;if(null===e)return null;let i;if(e[r(331)]===r(348))i=GeoJSON._readGeometryCollectionGeometry(e);else{if(!Array[r(364)](e[r(292)]))throw"Geometry must have coordinates array: "+e;let t=GEOMETRY_READERS[e.type];if(!t)throw r(298)+e[r(331)];i=GeoJSON[t].apply(GeoJSON,[e])}return i}readGeometry(e,r){const i=t;return this[i(294)](this[i(280)](e,r))}[t(303)](e,r){const i=t,n=[];if(e&&e[i(331)]===i(311)){if(!e[i(327)]("features")||!Array[i(364)](e[i(368)]))return n;const t=e[i(368)];for(let e=0;e<t[i(323)];e++){const s=t[e];(!r||s[i(300)][i(331)]===r)&&n[i(299)](this[i(349)](s))}}return n}static[t(354)](e){if(2!==e[t(323)]&&3!==e.length)throw"Only 2D and 3D coordinates are supported: "+e;return new Coordinate(...e)}static[t(324)](e){const r=t,i=this._readCoordinate(e[r(292)]);return new Point(i)}static[t(330)](e){const r=t;return new MultiPoint(this._readPoints(e[r(292)]))}static _readLineStringGeometry(e){const r=t;return new Line(this[r(290)](e[r(292)]))}static[t(337)](e){const r=t,i=e[r(292)],n=[];for(let t=0;t<i.length;++t)n.push(this[r(345)]({coordinates:i[t]}));return new MultiLine(n)}static _readPolygonGeometry(e){const r=t,i=e[r(292)];if(!i||0==i[r(323)])return null;const n=[];let s;for(let t=0;t<i[r(323)];++t)s=new LinearRing(this[r(290)](i[t])),n[r(299)](s);return new Polygon(n)}static[t(351)](e){const r=t,i=e[r(292)];if(!i||0==i[r(323)])return null;const n=[];for(let t=0;t<i[r(323)];++t)n[r(299)](this[r(309)]({coordinates:i[t]}));return new MultiPolygon(n)}static[t(343)](e){const r=t;if(!Array[r(364)](e[r(289)]))throw r(318)+e;const i=e[r(289)][r(323)],n=new Array(i);for(let t=0;t<i;++t)n[t]=GeoJSON[GEOMETRY_READERS[e[r(289)][t][r(331)]]][r(305)](GeoJSON,[e[r(289)][t]]);return new Collection(n)}static[t(290)](e){const r=t,i=[];for(let t=0;t<e[r(323)];++t)i.push(new Point(this[r(354)](e[t])));return i}static _coordinateToArray(e){const r=t;return[e[r(365)]("X"),e[r(365)]("Y"),e.getOrdinate("Z")]}static _coordinatesToArray(e){const r=t,i=[];for(let t=0;t<e[r(323)];++t)i[r(299)](this[r(302)](e[t]));return i}static[t(358)](e){const r=t,i=e[r(335)]();return{type:r(312),coordinates:this[r(302)](i)}}static[t(366)](e){const r=t;return{type:r(357),coordinates:this[r(276)](e[r(304)]())}}static[t(322)](e){const r=t,i=e[r(334)]();return{type:r(306),coordinates:this[r(276)](i.extractCoords())}}static _writeMultiLineStringGeometry(e){const r=t,i=[],n=e[r(346)]();for(let t=0;t<n.length;++t)n[t][r(359)](),i.push(this._coordinatesToArray(n[t].extractCoords()));return{type:r(284),coordinates:i}}static[t(296)](e){const r=t,i=[],n=e[r(346)](0,e.getLinearRingCount());for(let t=0;t<n[r(323)];++t)i[r(299)](this[r(276)](n[t][r(319)]()));return{type:r(295),coordinates:i}}static[t(329)](e){const r=t,i=[],n=e.getCoordSeqs();for(let t=0;t<n.length;++t)i[r(299)](this[r(276)](n[t][r(319)]()));return{type:r(295),coordinates:i}}static[t(317)](e){const r=t,i=e.getCoordSeq();return{type:r(306),coordinates:this[r(276)](i[r(319)]())}}static _writeCircleGeometry(e){const r=t;return this[r(296)](e[r(277)]())}static[t(316)](e){const r=t;return this._writePolygonGeometry(e[r(277)]())}static[t(336)](e){return this[t(322)](e)}static _writeTriangleGeometry(e){const r=t;return this._writePolygonGeometry(e[r(277)]())}static _writeMultiPolygonGeometry(e){const r=t,i=[],n=e[r(346)]();for(let t=0;t<n.length;++t){const e=n[t];i.push([]);for(let n=0;n<e[r(323)];++n)i[t].push(this[r(276)](e[n][r(319)]()))}return{type:"MultiPolygon",coordinates:i}}static[t(297)](e){const r=t,i=e[r(310)]();let n=i[r(323)],s=new Array(n);for(let t=0;t<n;++t){const e=i[t][r(301)]();s[t]=GeoJSON[r(320)][e][r(305)](GeoJSON,[i[t]])}return{type:r(348),coordinates:s}}isValidType(e,r){const i=t;let n=!1;switch(r){case i(314):[i(312),i(357),i(306),i(284),"Polygon","MultiPolygon",i(348)][i(285)](e[i(331)])>-1&&(n=!0);break;default:e[i(331)]===r&&(n=!0)}return n}[t(307)](e,r){const i=t;return this[i(339)](this[i(280)](e,r))}readPointFeatures(e){const r=t;return this[r(303)](this[r(280)](e),r(312))}[t(355)](e){const r=t;return this[r(303)](this[r(280)](e),r(357))}[t(332)](e){const r=t;return this[r(303)](this[r(280)](e),r(306))}readMLineFeatures(e){const r=t;return this[r(303)](this[r(280)](e),r(284))}[t(360)](e){const r=t;return this[r(303)](this[r(280)](e),r(295))}[t(356)](e){const r=t;return this[r(303)](this._getObject(e),r(313))}readCollectionFeatures(e){const r=t;return this.readFeaturesByGeometryType(this._getObject(e),r(348))}[t(291)](e){const r=t;switch(e[r(331)]){case r(286):return[this[r(349)](e)];case r(311):return this[r(339)](e);case r(348):const t=this[r(294)](e)[r(352)],i=[];return t.forEach((t=>{i[r(299)](new Vector(t))})),i;case r(313):case"Polygon":case r(284):case r(306):case r(312):case r(357):return[new Vector(this[r(294)](e))]}}[t(340)](e){const r=t;if(null===e)return null;let i=e[r(301)]();return GeoJSON._GEOMETRY_WRITERS[i][r(305)](GeoJSON,[e])}writeFeatureObject(e){const r=t;let i={type:"Feature",geometry:this[r(340)](e.getGeometry())};return"{}"!=JSON[r(353)](e[r(367)]())&&(i.properties=e[r(367)]()),null!==e[r(341)]&&(i.id=e.getFid()),i}[t(342)](e){return JSON[t(353)](this.writeFeatureObject(e))}[t(321)](e){const r=t;let i={type:r(311)},n=e[r(323)];i[r(368)]=new Array(n);for(let t=0;t<n;++t){let n=e[t];if(!(n instanceof Vector))throw r(363)+n;i[r(368)][t]=this[r(325)](n)}return i}writeFeatures(e){const r=t;return JSON[r(353)](this[r(321)](e))}}GeoJSON[t(333)]={Point:GeoJSON[t(324)],MultiPoint:GeoJSON._readMultiPointGeometry,LineString:GeoJSON._readLineStringGeometry,MultiLineString:GeoJSON._readMultiLineStringGeometry,Polygon:GeoJSON._readPolygonGeometry,MultiPolygon:GeoJSON[t(351)],GeometryCollection:GeoJSON[t(343)]},GeoJSON[t(320)]={Point:GeoJSON[t(358)],MultiPoint:GeoJSON[t(366)],Line:GeoJSON._writeLineStringGeometry,LinearRing:GeoJSON[t(336)],MultiLine:GeoJSON[t(326)],Polygon:GeoJSON[t(296)],MultiPolygon:GeoJSON[t(350)],Collection:GeoJSON._writeGeometryCollectionGeometry,Triangle:GeoJSON._writePlotPolygonGeometry,RectFlag:GeoJSON[t(329)],TriangleFlag:GeoJSON[t(329)],CurveFlag:GeoJSON[t(329)],Arc:GeoJSON._writePlotLineGeometry,BezierCurve2:GeoJSON[t(317)],BezierCurve3:GeoJSON._writePlotLineGeometry,BezierCurveN:GeoJSON[t(317)],CardinalCurve:GeoJSON[t(317)],CloseCurve:GeoJSON[t(329)],GatheringPlace:GeoJSON[t(329)],CircleExt:GeoJSON[t(329)],Ellipse:GeoJSON[t(329)],Sector:GeoJSON[t(329)],Lune:GeoJSON[t(329)],Circle:GeoJSON[t(329)],Rectangle:GeoJSON[t(329)],RectangleExt:GeoJSON[t(329)],RoundedRect:GeoJSON[t(329)],Flag:GeoJSON[t(329)],StraightArrow:GeoJSON._writePlotPolygonGeometry,DiagonalArrow:GeoJSON[t(329)],DoubleArrow:GeoJSON[t(329)],DoveTailStraightArrow:GeoJSON[t(329)],DoveTailDiagonalArrow:GeoJSON[t(329)],PolylineArrow:GeoJSON._writeMultiLineStringGeometry,ParallelSearch:GeoJSON[t(326)],SectorSearch:GeoJSON[t(326)],BezierCurveArrow:GeoJSON[t(326)],CardinalCurveArrow:GeoJSON._writeMultiLineStringGeometry};const a$C=["getType","sqrt","getLinearRingCount","polygon","_buildLine","sin","getCoordinate","894284Iotsbe","43SKKbYL","writeGeometry","sideSign","FULL","dealSelfIntersect","7TVxGqW","clone","readGeometry","376395xeNbWm","fromCoordSeq","checkCollinear","_antiClockCheck","_getOffsetEnd","toolGeoJSON","31063WHTkDc","abs","getLinearRing","37792OgETAF","1315MPCcsu","quadrantSegments","_computeCap","_buildBufferRing","floor","concat","build","_computeOffsetSeg","LinearRing","atan2","parameter endCap only 'ROUND' or 'FLAT' is valid!","repeat point in the geometry","_buildSimpleBuffer","cos","toUpperCase","_buildLinearRing","getOrdinate","Line","getCoordCount","_buildRingBuffer","73909eUHuXJ","sideType","reverse","the polygon parameter must be instance of Polygon!","getCoordSeq","line","_computeStartCap","_genDirectedFillet","removeRepeat","239zSjicG","_addCornerFillet","592689GsVoDd","_getOffsetStart","push","endCap","length","dist","the line parameter must be instance of Line!","FLAT","topo","_computeEndCap"],K=b$C;!function(t,e){const r=b$C;for(;;)try{if(492433===-parseInt(r(254))*-parseInt(r(225))+parseInt(r(256))+-parseInt(r(215))+-parseInt(r(212))*parseInt(r(245))+parseInt(r(224))+-parseInt(r(206))+-parseInt(r(207))*-parseInt(r(221)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$C);class BufferUtil{static _getOffsetStart(t,e){const r=b$C,i=2*t[r(241)]("X")-e[r(241)]("X"),n=2*t.getOrdinate("Y")-e[r(241)]("Y");return[new Coordinate(i,n),t]}static _computeStartCap(t,e,r,i,n,s){const o=b$C;let a=[];const h=this._computeOffsetSeg(t,e,r,i);if(s===o(196))a[o(191)](t),a[o(191)](h[0]);else{const s=this[o(257)](t,h[0]),l=this[o(232)](s[0],s[1],r,i);let c=Topology.checkCollinear(s[0],t,e);if(1===c){let e=this[o(255)](t,l[1],h[0],c,r,n);a=a.concat(e)}}return a}static[K(219)](t,e){const r=K,i=2*e[r(241)]("X")-t[r(241)]("X"),n=2*e[r(241)]("Y")-t.getOrdinate("Y");return[e,new Coordinate(i,n)]}static[K(198)](t,e,r,i,n,s){const o=K;let a=[];const h=this[o(232)](t,e,r,i);if("FLAT"===s)a.push(h[1]),a[o(191)](e);else{const s=this[o(219)](h[1],e),l=this[o(232)](s[0],s[1],r,i);let c=Topology[o(217)](t,e,s[1]);if(1==c){let t=this[o(255)](e,h[1],l[0],c,r,n);a=a[o(230)](t)}}return a}static[K(227)](t,e,r,i,n,s){const o=K;let a=[];const h=this._computeOffsetSeg(t,e,i,n),l=this[o(232)](e,r,i,n);let c=Topology.checkCollinear(t,e,r);if(-1==c){let t=Line.segmentsIntersect(h,l,{point:!0});t&&a.push(t[o(205)]())}else{let t=this[o(255)](e,h[1],l[0],c,i,s);a=a[o(230)](t)}return a}static[K(218)](t,e){const r=K;let i=0;for(let n=0;n<e-1;n++)i+=-.5*(t.getCoordinate(n+1)[r(241)]("Y")+t.getCoordinate(n).getOrdinate("Y"))*(t[r(205)](n+1)[r(241)]("X")-t[r(205)](n)[r(241)]("X"));return i>0}static[K(255)](t,e,r,i,n,s){const o=K,a=e[o(241)]("X")-t[o(241)]("X"),h=e.getOrdinate("Y")-t[o(241)]("Y"),l=r[o(241)]("X")-t.getOrdinate("X"),c=r[o(241)]("Y")-t[o(241)]("Y");let u=Math[o(234)](h,a),p=Math[o(234)](c,l);return-1===i?u<=p&&(u+=2*Math.PI):u>=p&&(u-=2*Math.PI),this[o(252)](t,u,p,i,n,s)}static[K(232)](t,e,r,i){const n=K,s=e.getOrdinate("X")-t[n(241)]("X"),o=e[n(241)]("Y")-t[n(241)]("Y"),a=Math[n(200)](s*s+o*o);if(0===a)throw n(236);let h=-r*s/a,l=-r*o/a;const c=t[n(241)]("X")-l,u=t[n(241)]("Y")+h,p=e[n(241)]("X")-l,f=e.getOrdinate("Y")+h;return[new Coordinate(c,u),new Coordinate(p,f)]}static[K(252)](t,e,r,i,n,s){const o=K;let a=[];const h=Math[o(222)](e-r),l=h/(Math[o(229)](h*s/(2*Math.PI)+.5)+1),c=t.getOrdinate("X"),u=t.getOrdinate("Y");let p=0;for(;p<=h;){let t=e+i*p;const r=c+n*Math[o(238)](t),s=u+n*Math[o(204)](t),h=new Coordinate(r,s,0);a[o(191)](h),p+=l}if(Math[o(222)](p-h)<l){const t=c+n*Math[o(238)](r),e=u+n*Math[o(204)](r),i=a[a[o(193)]-1];if(i._x!==t||i._y!==e){const r=new Coordinate(t,e,0);a[o(191)](r)}}return a}}function b$C(t,e){return a$C[t-=191]}class LineBuffer{constructor(t,e,r="ROUND",i=0){const n=K;if(!(t instanceof Line||t instanceof LinearRing))throw new TypeError(n(195));if(this[n(226)]=50,this[n(250)]=t,!(Number.isFinite(e)&&e>0))throw new Error;if(this[n(194)]=e,0!==i&&-1!==i&&1!==i)throw new TypeError("parameter sideSign only -1 ,0 or 1 is valid");if(this.endCap=r.toUpperCase(),"ROUND"!==this[n(192)]&&"FLAT"!==this.endCap)throw new TypeError(n(235));this[n(209)]=i}build(){const t=K;switch(this.line[t(199)]()){case GeometryType[t(242)]:return this[t(203)]();case GeometryType[t(233)]:return this[t(240)]()}}[K(240)](){const t=K;let e=this[t(250)][t(249)]().clone();e[t(253)]();const r=e[t(243)](),i=BufferUtil[t(218)](e,r);let n=[];if(1===this[t(209)]){n[t(191)](LinearRing[t(216)](e)),i&&(e=e[t(247)](!0));const s=this[t(244)](e,r);s&&n[t(191)](s)}else if(-1===this[t(209)]){i||(e=e.reverse(!0));const s=this[t(244)](e,r);s&&n[t(191)](s),n[t(191)](this[t(250)])}else{i||(e=e[t(247)](!0));const s=this[t(244)](e,r);s&&n[t(191)](s),e=e.reverse(!0);const o=this[t(244)](e,r);o&&n[t(191)](o)}return n.length<1?null:new Polygon(n)}[K(244)](t,e){const r=K;let i=[];const n=t[r(205)](e-2),s=t.getCoordinate(0),o=t[r(205)](1);i=i[r(230)](BufferUtil[r(227)](n,s,o,this[r(194)],this[r(209)],this[r(226)]));for(let n=1;n<e-1;n++){const e=t[r(205)](n-1),s=t[r(205)](n),o=t[r(205)](n+1);i=i.concat(BufferUtil[r(227)](e,s,o,this.dist,this.sideSign,this[r(226)]))}if(i.length<3)return null;const a=new CoordSeq(i);return LinearRing[r(216)](a)}[K(203)](){const t=K;let e=this[t(250)][t(249)]()[t(213)]();e.removeRepeat();const r=e[t(243)]();let i=[];1===this.sideSign?(!BufferUtil._antiClockCheck(e,r)&&(e=e[t(247)](!0)),i=i[t(230)](this[t(237)](e,r))):-1===this.sideSign?(BufferUtil[t(218)](e,r)&&(e=e[t(247)](!0)),i=i[t(230)](this[t(237)](e,r))):(i=i[t(230)](this[t(237)](e,r)),i.length-=1,e=e[t(247)](!0),i=i.concat(this[t(237)](e,r)));const n=new CoordSeq(i);return new Polygon([LinearRing[t(216)](n)])}[K(237)](t,e,r){const i=K;let n=[];const s=t[i(205)](0),o=t[i(205)](1);n=n.concat(BufferUtil[i(251)](s,o,this[i(194)],this.sideSign,this[i(226)],this[i(192)]));for(let r=1;r<e-1;r++){const e=t[i(205)](r-1),s=t.getCoordinate(r),o=t[i(205)](r+1);n=n.concat(BufferUtil._computeCap(e,s,o,this[i(194)],this[i(209)],this[i(226)]))}const a=t.getCoordinate(e-2),h=t[i(205)](e-1);if(n=n[i(230)](BufferUtil._computeEndCap(a,h,this[i(194)],this[i(209)],this[i(226)],this.endCap)),0!==this.sideSign&&this.line instanceof Line)for(let r=e-2;r>0;r--){const e=t.getCoordinate(r);n.push(e)}return n}}class PolygonBuffer{constructor(t,e,r="FULL"){const i=K;if(!(t instanceof Polygon))throw new TypeError(i(248));if(this[i(226)]=30,this.polygon=t,this.dist=e,this[i(246)]=r[i(239)](),this[i(246)]!==i(210)&&"OUTSIDE"!==this[i(246)])throw new TypeError("parameter sideType only  'FULL' or 'OUTSIDE' is valid !");this[i(209)]=-1,this[i(197)]=new TopologyBoolean,this.toolGeoJSON=new GeoJSON}[K(231)](){const t=K;let e=this[t(202)][t(223)](0)[t(249)]()[t(213)]();e[t(253)]();const r=e[t(243)]();let i=[];if(i[t(191)](this[t(228)](e,r,!0)),this[t(202)][t(201)]()>1)for(let e=1,r=this[t(202)].getLinearRingCount();e<r;e++){const r=this.polygon[t(223)](e)[t(249)]()[t(213)]();r[t(253)]();const n=r.getCoordCount();let s=this._buildBufferRing(r,n,!1);s&&i.push(s)}const n=new Polygon(i),s=this[t(197)][t(211)](this[t(220)].writeGeometry(n));if(this.sideType===t(210))return this[t(220)].readGeometry(s,null);{const e=this[t(197)].difference(s,this[t(220)][t(208)](this.polygon));return this[t(220)][t(214)](e,null)}}[K(228)](t,e,r){const i=K;if(t.getCoordCount()<3)return null;!BufferUtil._antiClockCheck(t,e)===r&&(t=t[i(247)](!0));let n=[];for(let r=1;r<e-1;r++){const e=t[i(205)](r-1),s=t[i(205)](r),o=t.getCoordinate(r+1);n=n[i(230)](BufferUtil[i(227)](e,s,o,this.dist,this[i(209)],this.quadrantSegments))}const s=t[i(205)](e-2),o=t[i(205)](0),a=t[i(205)](1);n=n[i(230)](BufferUtil._computeCap(s,o,a,this[i(194)],this[i(209)],this[i(226)]));let h=new CoordSeq(n);return h.getCoordCount()<3?null:LinearRing.fromCoordSeq(h)}}const a$B=["ARROW","DOVETAIL_DIAGONAL_ARROW","calculateIntersection","POLYGON","abs","86qEzJGI","SECTOR_SEARCH","intersectRay","DIAGONAL_ARROW","getCtrlPoints","toMultiLine","ARC","CARDINAL_CURVE_ARROW","getOrdinate","CIRCLE","CLOSE_CURVE","FLAG","LARROW","calculateArc","ELLIPSE","ROUNDED_RECT","calculateCardinalPoints","BEZIER_CURVE_ARROW","951560veuZDj","2ZsCcoN","pow","cos","SECTOR","BEZIER_CURVEN","the GeometryExt is an abstract class,and can not be instanced!","3zJUPud","getType","toPolygon","POLYLINE_ARROW","getBezierPoints","setOrdinate","calculateAngularBisector","GATHERING_PLACE","61651AWyvxS","16894sSUqSr","calculateAngle","RECTANGLE","DOUBLE_ARROW","atan2","17698TnGaOz","STRAIGHT_ARROW","push","POLYLINE","DOVETAIL_STRAIGHT_ARROW","24WaVOOd","CURVE_FLAG","toLine","1121641oZkSYg","calculateCloseCardinal","501343azKVjI","BEZIER_CURVE3","sqrt","getCoordinate","264828JMbzjK","length"],ac=b$B;function b$B(t,e){return a$B[t-=164]}!function(t,e){const r=b$B;for(;;)try{if(787504===parseInt(r(218))+-parseInt(r(210))*-parseInt(r(215))+parseInt(r(164))+-parseInt(r(189))+-parseInt(r(190))*parseInt(r(204))+-parseInt(r(205))*parseInt(r(171))+-parseInt(r(196))*-parseInt(r(220)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$B);class GeometryExt extends Geometry{constructor(){if(new.target===GeometryExt)throw new TypeError(b$B(195));super()}calculateVector(t,e,r){const i=b$B;let n,s,o,a,h,l,c=e||Math.PI/2,u=r||1,p=Math[i(222)](t.x*t.x+t.y*t.y);if(0==t.y)n=s=p*u*Math[i(192)](c)/t.x,t.x>0?(o=Math[i(222)](u*u-n*n),a=-o):t.x<0&&(a=Math[i(222)](u*u-n*n),o=-a),h={x:n,y:o},l={x:s,y:a};else{let e=-t.x/t.y,r=u*p*Math.cos(c)/t.y,f=1+e*e,g=2*e*r,d=r*r-u*u;n=(-g-Math[i(222)](g*g-4*f*d))/(2*f),s=(-g+Math[i(222)](g*g-4*f*d))/(2*f),o=e*n+r,a=e*s+r,t.y>=0?(h={x:n,y:o},l={x:s,y:a}):t.y<0&&(h={x:s,y:a},l={x:n,y:o})}return[h,l]}[ac(168)](t,e,r,i){const n=ac;let s,o;return t.y*e.x-t.x*e.y==0?t.x*e.x>0||t.y*e.y>0?(s=(r.x+i.x)/2,o=(r.y+i.y)/2):(s=i.x,o=i.y):(s=(t.x*e.x*(i.y-r.y)+r.x*t.y*e.x-i.x*e.y*t.x)/(t.y*e.x-t.x*e.y),o=Math[n(170)](t.x)>1e-8?(s-r.x)*t.y/t.x+r.y:(s-i.x)*e.y/e.x+i.y),{x:s,y:o}}[ac(206)](t,e){let r=Math[ac(209)](t.y-e.y,t.x-e.x);return r<0&&(r+=2*Math.PI),r}calculateMidpoint(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}calculateDistance(t,e){const r=ac;return Math.sqrt(Math[r(191)](t.x-e.x,2)+Math[r(191)](t.y-e.y,2))}[ac(200)](t,e=100){const r=ac,i=[],n=t[r(165)]-1;for(let o=0;o<=1;o+=1/e){let e=0,a=0,h=0;for(let i=0;i<=n;i++){let l=s(n,i),c=Math[r(191)](o,i),u=Math.pow(1-o,n-i);e+=l*c*u*t[i].getCoordinate()[r(179)]("X"),a+=l*c*u*t[i][r(223)]()[r(179)]("Y"),h+=l*c*u*t[i].getCoordinate()[r(179)]("Z")}i.push(new Point(new Coordinate(e,a,h)))}function s(t,e){return o(t)/(o(e)*o(t-e))}function o(t){if(t<=1)return 1;if(2==t)return 2;if(3==t)return 6;if(4==t)return 24;if(5==t)return 120;let e=1;for(let r=1;r<=t;r++)e*=r;return e}return i.push(t[n]),i}[ac(187)](t){const e=ac;if(null==t||t[e(165)]<3)return t;let r=t;const i=[],n=.4,s=.5,o=r.length-1;for(let t=0;t<=o+1-3;t++){let a=r[t],h=r[t+1],l=r[t+2],c=new Point(new Coordinate(0,0,0)),u=new Point(new Coordinate(0,0,0)),p={x:h.getCoordinate()[e(179)]("X")-a[e(223)]()[e(179)]("X"),y:h[e(223)]()[e(179)]("Y")-a[e(223)]().getOrdinate("Y")},f={x:l.getCoordinate()[e(179)]("X")-h[e(223)]().getOrdinate("X"),y:l.getCoordinate().getOrdinate("Y")-h[e(223)]()[e(179)]("Y")},g=Math[e(222)](p.x*p.x+p.y*p.y),d=Math[e(222)](f.x*f.x+f.y*f.y),_={x:p.x/g,y:p.y/g},y={x:f.x/d,y:f.y/d},m={x:_.x+y.x,y:_.y+y.y},I=Math[e(222)](m.x*m.x+m.y*m.y),x={x:m.x/I,y:m.y/I},v=(_.x*y.x+_.y*y.y)/1;if(Math[e(170)](1-v)<.005?(c.getCoordinate()[e(201)]("X",h[e(223)]()[e(179)]("X")-y.x*g*n),c.getCoordinate()[e(201)]("Y",h.getCoordinate()[e(179)]("Y")-y.y*g*n),u[e(223)]()[e(201)]("X",h.getCoordinate()[e(179)]("X")+_.x*d*n),u[e(223)]()[e(201)]("Y",h.getCoordinate()[e(179)]("Y")+_.y*d*n)):(c.getCoordinate()[e(201)]("X",h[e(223)]()[e(179)]("X")-x.x*g*n),c[e(223)]()[e(201)]("Y",h.getCoordinate().getOrdinate("Y")-x.y*g*n),u[e(223)]()[e(201)]("X",h[e(223)]()[e(179)]("X")+x.x*d*n),u.getCoordinate().setOrdinate("Y",h[e(223)]()[e(179)]("Y")+x.y*d*n)),i[3*t+2+0]=c,i[3*t+2+1]=h,i[3*t+2+2]=u,0==t){let r=new Point(new Coordinate(0,0,0)),o={x:c[e(223)]()[e(179)]("X")-a[e(223)]()[e(179)]("X"),y:c[e(223)]()[e(179)]("Y")-a[e(223)]()[e(179)]("Y")},h=Math[e(222)](o.x*o.x+o.y*o.y),l={x:o.x/h,y:o.y/h};r[e(223)]()[e(201)]("X",a[e(223)]()[e(179)]("X")+l.x*g*n*s),r[e(223)]()[e(201)]("Y",a[e(223)]().getOrdinate("Y")+l.y*g*n*s),i[3*t+0]=a,i[3*t+1]=r}if(t==o+1-3){let r=new Point(new Coordinate(0,0,0)),o={x:u.getCoordinate().getOrdinate("X")-l[e(223)]()[e(179)]("X"),y:u[e(223)]()[e(179)]("Y")-l[e(223)]().getOrdinate("Y")},a=Math.sqrt(o.x*o.x+o.y*o.y),h={x:o.x/a,y:o.y/a};r.getCoordinate()[e(201)]("X",l[e(223)]()[e(179)]("X")+h.x*d*n*s),r[e(223)]()[e(201)]("Y",l[e(223)]().getOrdinate("Y")+h.y*d*n*s),i[3*t+2+3]=r,i[3*t+2+4]=l}}return i}[ac(219)](t){const e=ac;if(null==t||t[e(165)]<3)return t;const r=[];for(let e=0;e<t.length;e++)r.push(t[e]);r[e(212)](t[0]);let i=r,n=[],s=.4,o=i[e(165)]-1;for(let t=0;t<=o-1;t++){let r,a,h;t==o-1?(r={x:i[o-1][e(223)]()[e(179)]("X"),y:i[o-1][e(223)]()[e(179)]("Y")},a=i[0],h={x:i[1][e(223)]()[e(179)]("X"),y:i[1][e(223)]()[e(179)]("Y")}):(r={x:i[t][e(223)]().getOrdinate("X"),y:i[t][e(223)]()[e(179)]("Y")},a=i[t+1],h={x:i[t+2].getCoordinate()[e(179)]("X"),y:i[t+2][e(223)]()[e(179)]("Y")});let l=new Point(new Coordinate(0,0,0)),c=new Point(new Coordinate(0,0,0)),u={x:a.getCoordinate()[e(179)]("X")-r.x,y:a[e(223)]().getOrdinate("Y")-r.y},p={x:h.x-a[e(223)]()[e(179)]("X"),y:h.y-a[e(223)]()[e(179)]("Y")},f=Math[e(222)](u.x*u.x+u.y*u.y),g=Math[e(222)](p.x*p.x+p.y*p.y),d={x:u.x/f,y:u.y/f},_={x:p.x/g,y:p.y/g},y={x:d.x+_.x,y:d.y+_.y},m=Math[e(222)](y.x*y.x+y.y*y.y),I={x:y.x/m,y:y.y/m},x=(d.x*_.x+d.y*_.y)/1;Math.abs(1-x)<.005?(l[e(223)]()[e(201)]("X",a.getCoordinate()[e(179)]("X")-_.x*f*s),l.getCoordinate()[e(201)]("Y",a[e(223)]().getOrdinate("Y")-_.y*f*s),c[e(223)]().setOrdinate("X",a.getCoordinate()[e(179)]("X")+d.x*g*s),c[e(223)]()[e(201)]("Y",a[e(223)]()[e(179)]("Y")+d.y*g*s)):(l.getCoordinate()[e(201)]("X",a.getCoordinate()[e(179)]("X")-I.x*f*s),l.getCoordinate()[e(201)]("Y",a[e(223)]()[e(179)]("Y")-I.y*f*s),c.getCoordinate()[e(201)]("X",a[e(223)]()[e(179)]("X")+I.x*g*s),c[e(223)]().setOrdinate("Y",a[e(223)]()[e(179)]("Y")+I.y*g*s)),t==o-1?(n[0]=a,n[1]=c,n[3*(o-2)+2+3]=l,n[3*(o-2)+2+4]=i[o]):(n[3*t+2+0]=l,n[3*t+2+1]=a,n[3*t+2+2]=c)}return n}[ac(202)](t,e){let r=Math[ac(222)](t.x*t.x+t.y*t.y),i=Math.sqrt(e.x*e.x+e.y*e.y);return{x:t.x/r+e.x/i,y:t.y/r+e.y/i}}[ac(184)](t,e,r,i,n,s){const o=ac;(!n||1!=n&&-1!=n)&&(n=-1),s||(s=360);let a=2*Math.PI/s,h=a*n,l=Math[o(170)](i-r),c=[];for(let i=r,n=0;n<l;n+=a){let r=new Point(new Coordinate(Math[o(192)](i)*e+t.x,Math.sin(i)*e+t.y,0));c[o(212)](r),i+=h,i=i<0?i+2*Math.PI:i,i=i>2*Math.PI?i-2*Math.PI:i}return c}[ac(175)](){return this._ctrlPoints}[ac(173)](t,e,r){const i=ac;switch(this[i(197)]()){case GeometryExtType[i(213)][i(177)]:case GeometryExtType.POLYLINE.BEZIER_CURVE2:case GeometryExtType.POLYLINE[i(221)]:case GeometryExtType[i(213)][i(194)]:case GeometryExtType[i(213)].CARDINAL_CURVE:return this[i(217)]()[i(173)](t,e,r);case GeometryExtType.LARROW[i(188)]:case GeometryExtType[i(183)][i(178)]:case GeometryExtType.LARROW.PARALLEL_SEARCH:case GeometryExtType[i(183)][i(172)]:case GeometryExtType[i(183)][i(199)]:return this[i(176)]()[i(173)](t,e,r);case GeometryExtType[i(169)][i(180)]:case GeometryExtType[i(169)][i(185)]:case GeometryExtType[i(169)][i(193)]:case GeometryExtType[i(169)][i(181)]:case GeometryExtType[i(169)].LUNE:case GeometryExtType[i(169)][i(203)]:case GeometryExtType.POLYGON[i(207)]:case GeometryExtType.POLYGON[i(186)]:case GeometryExtType[i(166)][i(211)]:case GeometryExtType.ARROW[i(174)]:case GeometryExtType[i(166)][i(208)]:case GeometryExtType[i(166)][i(167)]:case GeometryExtType[i(166)][i(214)]:case GeometryExtType[i(182)].TRIANGLE_FLAG:case GeometryExtType.FLAG.RECT_FLAG:case GeometryExtType.FLAG[i(216)]:return this[i(198)]()[i(173)](t,e,r);default:return null}}}const a$A=["324840wPNCoU","1758156NgChIL","toLine","1521463zHDaGq","at least three points are required!","1rzPxms","getCoordinate","POLYLINE","push","density","setCtrlPoints","the parameter of points must be 'Array'","524621oSmjgY","getCoordSeq","BEZIER_CURVE2","getType","_ctrlPoints","672769axGctb","slice","length","getBBox","getLength","158903GxFdnS","_generatePoints","_pointArr","1011831naRMvX"];function b$A(t,e){return a$A[t-=204]}const m$1=b$A;!function(t,e){const r=b$A;for(;;)try{if(934439===-parseInt(r(220))-parseInt(r(208))+parseInt(r(213))+-parseInt(r(217))+-parseInt(r(229))*-parseInt(r(222))+parseInt(r(218))+parseInt(r(216)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$A);class BezierCurve2 extends GeometryExt{constructor(t,e=50){const r=b$A;if(super(),!(t instanceof Array))throw new TypeError("the parameter of points must be 'Array'");if(t[r(210)]<3)throw new RangeError(r(221));t=t.slice(0,3),this[r(226)]=e,this[r(207)]=t,this[r(215)]=[],this[r(214)]()}_generatePoints(){const t=b$A,e=this._ctrlPoints[0],r=this[t(207)][1],i=this[t(207)][2],n=this.getBezierPoints([e,r,i],this[t(226)]);this._pointArr=n}[m$1(204)](){const t=m$1,e=[];if(0!=this[t(215)][t(210)])for(let r of this[t(215)])e[t(225)](r[t(223)]());return new CoordSeq(e)}[m$1(219)](){return new Line(this._pointArr)}[m$1(211)](){const t=m$1;return this[t(219)]()[t(211)]()}[m$1(206)](){const t=m$1;return GeometryExtType[t(224)][t(205)]}[m$1(212)](t){const e=m$1;return this[e(219)]()[e(212)](t)}[m$1(227)](t){const e=m$1;if(!(t instanceof Array))throw new TypeError(e(228));if(t[e(210)]<3)throw new RangeError("at least three points are required!");t=t[e(209)](0,3),this[e(207)]=t,this[e(214)]()}}const a$z=["parseInt","220781iNsJdO","getLeft","isSelfIntersects","getCoordinate","getTop","getLength","_bottom","scale","simplify","distance","map","cos","2656026vNENlw","fromExtent","_top","toPolygon","lineToLine","NEGATIVE_INFINITY","distanceToSegment","_pointArr","sin","splice","intersectsGeometry","pointIntersectLine2D","Line","extractCoords","point","_left","distanceTo","getPoints","1pbrsdl","292640QbDiIa","getCoordSeq","lineIntersectLine2D","unshift","fromCoordSeq","get2Dist","concat","split","getCenter","length","1046127oUZYKO","toArray","CrsList","lineIntersectMultiPolygon2D","getCrsType","slice","destroy","segmentsIntersect","lineIntersectPolygon2D","_angularDis","sqrt","getMeterPerDegree","EPSG","segmentIntersectSegment2D","getOrdinate","_bbox","all the elements in 'Points' parameter must be Point instance!","every","moveByDelta","atan2","getBottom","isValid","push",'parameter "startIndex" and "endIndex" must be Number!',"build","7OMfQVP","getType","setTop","getCoordCount","setRight","parameter is not Coordinate!","the parameter 'points' should contain more than 1 Point element!","setLeft","abs","lineIntersectMultiLine2D","the first parameter must be a Coordinate!","tolerance","getVertices","reduce","getBBox","min","setOrdinate","_right","remove",'parameter "fraction" must be Number between 0 and 1!',"parameter is illegal!","round","GeoCRS","_toRadians","transform","_line","parameter 'tolerance' should be a Number not great than 1","6308Wuvcnq","_srid","_extendExtent","rotate","_pointsChanged","1077185FrUyFF","divide","forEachSegment","pow","getExtent","splitWith","_calculateBBox","the parameter is not Coordinate!","_extent","1YTROcM","max","getCentroid","edge","5224qlkhCW","addCoord","clone","_getSortedSegments","getRadius","POSITIVE_INFINITY","distanceToCamera","_intermediate","removeCoord","19QGLutZ","isFinite"],ap=b$z;function b$z(t,e){return a$z[t-=111]}!function(t,e){const r=b$z;for(;;)try{if(617275===parseInt(r(153))+-parseInt(r(219))*-parseInt(r(141))+-parseInt(r(128))+-parseInt(r(184))+-parseInt(r(183))*parseInt(r(194))+-parseInt(r(123))*-parseInt(r(150))+parseInt(r(165))*parseInt(r(137)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$z);class Line extends Geometry{constructor(t){const e=b$z;if(t.length<2)throw new Error(e(225));if(!t[e(211)]((function(t,e,r){return t instanceof Point})))throw new Error(e(210));super(),this[e(172)]=t,this[e(209)]=this[e(134)](),this._pointsChanged=!1,this[e(136)]=this._bbox.getExtent()}[ap(142)](t,e){const r=ap;if(!(t instanceof Coordinate))throw new TypeError(r(229));if(void 0===e&&(e=this[r(172)].length),!Number[r(151)](e))throw new TypeError("the index must be a number!");if((e=e>this._pointArr[r(193)]?this[r(172)][r(193)]:e<0?0:e)<this._pointArr[r(193)]){const i=new Point(t);this._pointArr[r(174)](e,0,i)}else this[r(172)][r(216)](new Point(t));this[r(127)]=!0,this[r(132)]()}[ap(130)](t){const e=ap;for(let r=0,i=this._pointArr[e(193)]-1;r<i;r++)t(new Line(this._pointArr.slice(r,r+2)));this._pointsChanged=!0,this[e(132)]()}static fromCoordSeq(t){const e=ap;if(!(t instanceof CoordSeq))throw new Error('parameter "coordSeq" must be instance of CoordSeq');let r=t[e(178)]()[e(163)]((t=>new Point(t)));return new Line(r)}static[ap(166)](t){const e=ap;if(!(t instanceof Extent))return null;const r=new Coordinate(t[e(180)],t[e(159)]),i=new Coordinate(t[e(180)],t[e(167)]),n=new Coordinate(t[e(113)],t[e(167)]),s=new Coordinate(t[e(113)],t._bottom),o=[new Point(r),new Point(i),new Point(n),new Point(s)];return new Line(o)}getCoordinateAt(t){const e=ap;if(Number[e(151)](t)&&t>=0&&t<=1){const r=Math[e(117)]((this._pointArr[e(193)]-1)*t);return this._pointArr[r].getCoordinate()}throw new RangeError(e(115))}[ap(185)](t=0,e=this[ap(172)][ap(193)]){const r=ap;if(!Number.isFinite(t)||!Number[r(151)](e))throw new TypeError(r(217));const i=this[r(172)][r(193)];if((t=t<=0?0:Number[r(152)](t))>=(e=e>=i?i:Number[r(152)](e)))return[];let n=this[r(172)][r(199)](t,e)[r(163)]((function(t,e,r){return t.getCoordinate()}));return new CoordSeq(n)}getLength(t){const e=ap;!t&&(t=initState[e(124)]);let r=0;const i=Transformer[e(196)][e(206)+t],n=i[e(205)]();for(let s=1,o=this[e(172)][e(193)];s<o;s++){const o=this._pointArr[s-1][e(156)](),a=this[e(172)][s][e(156)](),h=o[e(189)](a,t);let l=Math[e(227)](a.getOrdinate("Z")-o[e(208)]("Z"));i[e(198)]()===e(118)&&(l*=n),r+=Math[e(204)](h*h+l*l)}return r}[ap(231)](){return this[ap(172)]}[ap(149)](t){const e=ap;if(!(t instanceof Coordinate))return-1;const r=new Point(t),i=this._pointArr.length;for(let t=i-1;t>=0;t--)r.equals(this[e(172)][t])&&this[e(172)][e(174)](t,1);let n=this[e(172)][e(193)];return n<i&&1===n&&this[e(172)][e(216)](this[e(172)][0]),this[e(127)]=!0,this[e(132)](),i-n}[ap(191)](t,e){}[ap(133)](t,e){}[ap(144)](){const t=ap,e=this._pointArr[t(193)]-1;let r,i,n=new Array(e);for(let s=0;s<e;++s)r=this[t(172)][s].getCoordinate(),i=this[t(172)][s+1].getCoordinate(),r[t(208)]("X")<i[t(208)]("X")?n[s]=[r,i]:n[s]=[i,r];return n.sort((function(e,r){const i=t;return e[0][i(208)]("X")-r[0][i(208)]("X")}))}static[ap(201)](t,e,r){const i=ap,n=r&&r[i(179)],s=r&&r[i(230)];let o=!1;const a=t[0][i(208)]("X")-e[0][i(208)]("X"),h=t[0][i(208)]("Y")-e[0][i(208)]("Y"),l=t[1][i(208)]("X")-t[0].getOrdinate("X"),c=t[1][i(208)]("Y")-t[0][i(208)]("Y"),u=e[1][i(208)]("Y")-e[0][i(208)]("Y"),p=e[1].getOrdinate("X")-e[0][i(208)]("X"),f=u*l-p*c,g=p*h-u*a,d=l*h-c*a,_=t[0][i(208)]("X")-e[1][i(208)]("X"),y=t[0][i(208)]("Y")-e[1][i(208)]("Y"),m=t[1][i(208)]("X")-e[0].getOrdinate("X"),I=t[1][i(208)]("Y")-e[0][i(208)]("Y"),x=t[1][i(208)]("X")-e[1][i(208)]("X"),v=t[1][i(208)]("Y")-e[1][i(208)]("Y"),b=e[0][i(208)]("X")-t[0][i(208)]("X"),w=e[0].getOrdinate("Y")-t[0].getOrdinate("Y"),T=e[0][i(208)]("X")-t[1][i(208)]("X"),E=e[0][i(208)]("Y")-t[1][i(208)]("Y"),C=e[1][i(208)]("X")-t[0][i(208)]("X"),A=e[1].getOrdinate("Y")-t[0][i(208)]("Y"),M=e[1][i(208)]("X")-t[1].getOrdinate("X"),S=e[1].getOrdinate("Y")-t[1].getOrdinate("Y");if(0===f)0===g&&0===d&&(o=(a*_<0||h*y<0||m*x<0||I*v<0||b*T<0||w*E<0||C*M<0||A*S<0)&&(!n||new Point(t[0])));else{const e=g/f,r=d/f;if(e>=0&&e<=1&&r>=0&&r<=1)if(n){const r=t[0].getOrdinate("X")+e*l,n=t[0][i(208)]("Y")+e*c;o=new Point(new Coordinate(r,n))}else o=!0}if(s){let r;if(o){if(n){let n,a,h,l=[t,e];t:for(let t=0;t<2;++t){n=l[t];for(let t=0;t<2;++t)if(a=n[t][i(208)]("X"),h=n[t].getOrdinate("Y"),r=Math.sqrt(Math[i(131)](a-o.x,2)+Math[i(131)](h-o.y,2)),r<s){o.x=a,o.y=h;break t}}}}else{const r=[t,e];let a,h,l,c;t:for(let t=0;t<2;++t){a=r[t],h=r[(t+1)%2];for(let t=0;t<2;++t)if(l=new Point(new Coordinate(a[t][i(208)]("X"),a[t][i(208)]("Y"))),c=l[i(171)](h),c[i(162)]<s){o=!n||new Point(new Coordinate(l.x,l.y));break t}}}}return o}[ap(143)](){const t=ap,e=[];for(let r=0,i=this._pointArr[t(193)];r<i;r++)e.push(this[t(172)][r][t(143)]());return new Line(e)}[ap(200)](){super[ap(200)]()}applyTransform(t){const e=ap;for(let r=0,i=this[e(172)][e(193)];r<i;r++)this[e(172)][r].applyTransform(t);this[e(127)]=!0,this[e(132)]()}atApproximatePoint(t){const e=ap;if(t instanceof Coordinate)return this[e(132)]().containsCoord(t);throw new TypeError(e(135))}distanceTo(t,e={}){const r=ap,i=!(e&&!1===e[r(140)]),n=e&&e.details;let s,o={},a=Number.POSITIVE_INFINITY;if(t instanceof Point){const e=this[r(144)]();let i;for(let h=0,l=e.length;h<l&&(i=e[h],s=t[r(171)](i),!(s[r(162)]<a&&(a=s.distance,o={x0:s.x,y0:s.y,x1:t[r(156)]()[r(208)]("X"),y1:t[r(156)]()[r(208)]("Y"),distance:s[r(162)]},!n&&(o=o.distance),0===a)));++h);}else if(t instanceof Line){const e=this._getSortedSegments(),i=t[r(144)](),s={point:!0};t:for(let t=0,n=e[r(193)];t<n;++t){let n=e[t],h=n[0][r(208)]("X"),l=n[0][r(208)]("Y");for(let t=0,e=i[r(193)];t<e;++t){let e=i[t],c=Line.segmentsIntersect(n,e,s);if(c){a=0,o={distance:0,x0:c[r(156)]().getOrdinate("X"),y0:c.getCoordinate()[r(208)]("Y"),x1:c.getCoordinate()[r(208)]("X"),y1:c[r(156)]().getOrdinate("Y")};break t}{let t=new Point(new Coordinate(h,l))[r(171)](e),i=new Point(new Coordinate(n[1].getOrdinate("X"),n[1][r(208)]("Y")))[r(171)](e),s=t,c=[h,l];i.distance<t[r(162)]&&(s=i,c=[n[1][r(208)]("X"),n[1].getOrdinate("Y")]),s.distance<a&&(a=s[r(162)],o={distance:a,x0:c[0],y0:c[1],x1:s.x,y1:s.y})}}}if(0!==a){let t={},n=Number[r(146)];t:for(let o=0,a=i[r(193)];o<a;++o){let a=i[o],h=a[0][r(208)]("X"),l=a[0].getOrdinate("Y");for(let i=0,o=e.length;i<o;++i){let o=e[i],c=Line.segmentsIntersect(a,o,s);if(c){n=0,t={distance:0,x0:c[r(156)]().getOrdinate("X"),y0:c.getCoordinate()[r(208)]("Y"),x1:c.getCoordinate().getOrdinate("X"),y1:c[r(156)]().getOrdinate("Y")};break t}{let e=new Point(new Coordinate(h,l))[r(171)](o),i=new Point(new Coordinate(a[1].getOrdinate("X"),a[1][r(208)]("Y")))[r(171)](o),s=e,c=[h,l];i.distance<e[r(162)]&&(s=i,c=[a[1][r(208)]("X"),a[1][r(208)]("Y")]),s[r(162)]<n&&(n=s[r(162)],t={distance:n,x0:c[0],y0:c[1],x1:s.x,y1:s.y})}}}n<a&&(a=n,o={distance:t.distance,x0:t.x1,y0:t.y1,x1:t.x0,y1:t.y0})}!n&&(o=o[r(162)])}else if(t instanceof Circle){let n=t[r(192)](),s=t[r(145)](),a=this[r(181)](n,e),h=a[r(162)]||0==a[r(162)]?a[r(162)]-s:a-s;if(h<0){let t,e=Number[r(170)],i=n.getCoordinate(),o=i[r(208)]("X"),h=i[r(208)]("Y"),l=this[r(231)]();for(let i of l){let n=i.getCoordinate(),s=n.getOrdinate("X"),a=n[r(208)]("Y"),l=Math[r(204)]((s-o)*(s-o)+(a-h)*(a-h));e<l&&(e=l,t=n)}a instanceof Object?(a[r(162)]=e-s,a.x0=t[r(208)]("X"),a.y0=t[r(208)]("Y")):a=e-s}!i&&h<=0?o=0:a instanceof Object?(a.x1=a.x1+(a.x0-a.x1)*s/(h+s),a.y1=a.y1+(a.y0-a.y1)*s/(h+s),o={distance:h,x0:a.x0,y0:a.y0,x1:a.x1,y1:a.y1}):o=h}else o=t[r(181)](this,e),n&&(i||!i&&o.distance>0)&&(o={distance:o.distance,x0:o.x1,y0:o.y1,x1:o.x0,y1:o.y0});return o}getBuffer(t,e="ROUND",r=0){const i=ap;if(!(Number[i(151)](t)&&t>0))throw new Error("parameter 'dist' must be a number that larger than zero !");return new LineBuffer(this,t,e,r)[i(218)]()}[ap(139)](){const t=ap;let e=0,r=0,i=0;for(let n of this[t(172)])e+=n.getCoordinate()[t(208)]("X"),r+=n[t(156)]().getOrdinate("Y"),i+=n[t(156)]()[t(208)]("Z");const n=e/this[t(172)][t(193)],s=r/this[t(172)][t(193)],o=i/this._pointArr[t(193)];return new Coordinate(n,s,o)}getClosestPoint(t){const e=ap;if(!(t instanceof Coordinate))throw new Error(e(224));let r=this[e(172)][0].getCoordinate().get3Dist(t),i=this._pointArr[0];const n=this[e(172)][e(193)];for(let s=0;s<n;s++){const n=this[e(172)][s],o=n[e(156)]().get3Dist(t);o<r&&(r=o,i=n)}return i}[ap(132)](){const t=ap;return this.getBBox(),this[t(136)]}[ap(233)](){const t=ap;return this._pointsChanged&&(this[t(209)]=this._calculateBBox(),this._pointsChanged=!1,this[t(136)]=this[t(209)][t(132)]()),this[t(209)]}[ap(220)](){return GeometryType[ap(177)]}[ap(175)](t){const e=ap;if(!t.getType)throw new TypeError(e(116));return{Point:()=>Intersect[e(176)](t,this),MultiPoint:()=>Intersect.multiPointIntersectLine2D(t,this),Line:()=>Intersect[e(186)](this,t),LinearRing:()=>Intersect.lineIntersectLine2D(this,t),Triangle:()=>Intersect[e(202)](this,t.toPolygon()),MultiLine:()=>Intersect[e(228)](this,t),Circle:()=>{const r=e;return Intersect.lineIntersectPolygon2D(this,t[r(168)]())},Rectangle:()=>{const r=e;return Intersect[r(202)](this,t[r(168)]())},Polygon:()=>Intersect[e(202)](this,t),MultiPolygon:()=>Intersect[e(197)](this,t),Collection:()=>t[e(175)](this)}[t[e(220)]()]()}[ap(155)](){const t=ap;let e=this._pointArr,r=e[t(193)];if(r<=3)return!1;for(let i=3;i<r;i++){let n=[e[i-3].getCoordinate(),e[i-2][t(156)]()];for(let s=i;s<r;s++){let r=[e[s-1][t(156)](),e[s][t(156)]()];if(Intersect[t(207)](n,r))return!0}}return!1}[ap(215)](){}[ap(212)](t=0,e=0,r=0){const i=ap;if(!Number[i(151)](t)||!Number[i(151)](e)||!Number[i(151)](r))throw new Error("parameter must be number!");let n;for(let s=0,o=this._pointArr[i(193)];s<o;s++)n=this[i(172)][s][i(156)](),n[i(112)]("X",n[i(208)]("X")+t),n[i(112)]("Y",n.getOrdinate("Y")+e),n[i(112)]("Z",n[i(208)]("Z")+r);return this[i(127)]=!0,this[i(132)](),this}[ap(126)](t,e,r){const i=ap;for(let n=0,s=this[i(172)][i(193)];n<s;n++)this._pointArr[n][i(126)](t,e,r);return this[i(127)]=!0,this.getExtent(),this}[ap(160)](t,e,r,i){const n=ap;!i&&(i=this.getExtent().getCenter());for(let s=0,o=this[n(172)][n(193)];s<o;s++)this[n(172)][s][n(160)](t,e,r,i);return this[n(127)]=!0,this[n(132)](),this}[ap(161)](t){const e=ap,r=this[e(185)]()[e(161)](t)[e(178)](),i=[];for(let t=0;t<r.length;t++)i[e(216)](new Point(r[t]));return this[e(172)]=i,this[e(127)]=!0,this}smooth(t=.5){const e=ap;if(!Number.isFinite(t)||t>1)throw new Error(e(122));let r=this[e(185)]()[e(178)]();function i(t,r,i){const n=e,s=t[n(208)]("X")-r.getOrdinate("X"),o=t[n(208)]("Y")-r[n(208)]("Y"),a=Math.sqrt(s*s+o*o),h=s/a,l=o/a,c=r[n(208)]("X")+h*i/35,u=r.getOrdinate("Y")+l*i/35;return new Coordinate(c,u)}let n=r[e(199)](1)[e(232)](((r,n,s,o)=>{const a=e;let h=o[s+1],l=r[r[a(193)]-1];if(h&&0!==Topology.checkCollinear(l,h,n)){const e=i(l,n,t),s=i(h,n,t),o=new BezierCurve2([new Point(e),new Point(n),new Point(s)]);return r[a(190)](o[a(185)]().extractCoords())}return r.concat(n)}),[r[0]]);return Line[e(188)](new CoordSeq(n))}[ap(120)](t,e){const r=ap;for(let i=0,n=this[r(172)][r(193)];i<n;i++)this[r(172)][i][r(120)](t,e);return this[r(127)]=!0,this}intersectRay(t,e,r){const i=ap;let n=Intersect3D[i(169)](this,t[i(121)],r),s=Number[i(146)],o=null;for(let r=0,a=n[i(193)];r<a;r++){let a=n[r];if(a&&a[i(162)]<e){let e=t[i(147)](a[i(179)]);e<s&&(s=e,o=a[i(179)])}}return Number[i(151)](s)?{intersectCoordinate:o,distance:s}:null}[ap(125)](t){const e=ap,r=this._extent[e(154)]()<t[e(208)]("X")?this[e(136)][e(154)]():t[e(208)]("X"),i=this._extent.getRight()>t[e(208)]("X")?this[e(136)].getRight():t[e(208)]("X"),n=this._extent[e(157)]()>t[e(208)]("Y")?this[e(136)][e(157)]():t[e(208)]("Y"),s=this[e(136)][e(214)]()<t[e(208)]("Y")?this[e(136)][e(214)]():t[e(208)]("Y");this._extent[e(226)](r),this[e(136)][e(223)](i),this[e(136)][e(221)](n),this._extent.setBottom(s)}[ap(134)](){const t=ap;let e=this[t(172)][t(193)];if(0===e)return new BBox(0,0,0,0,0,0);let r=this._pointArr[0][t(156)](),i=r[t(208)]("X"),n=r[t(208)]("X"),s=r[t(208)]("Y"),o=r.getOrdinate("Y"),a=r[t(208)]("Z"),h=r.getOrdinate("Z");for(let l=1;l<e;l++){r=this[t(172)][l][t(156)]();let e=r.getOrdinate("X"),c=r[t(208)]("Y"),u=r[t(208)]("Z");i=Math[t(111)](i,e),n=Math[t(138)](n,e),o=Math[t(111)](o,c),s=Math.max(s,c),a=Math.max(a,u),h=Math[t(111)](h,u)}return new BBox(i,o,h,n,s,a)}[ap(119)](t){return t*Math.PI/180}[ap(203)](t,e){const r=ap,i=this._toRadians(t._y),n=this[r(119)](e._y),s=(n-i)/2,o=this[r(119)](e._x-t._x)/2,a=Math[r(173)](s)*Math[r(173)](s)+Math[r(173)](o)*Math.sin(o)*Math[r(164)](i)*Math[r(164)](n);return 2*Math[r(213)](Math[r(204)](a),Math[r(204)](1-a))}[ap(148)](t,e,r){const i=ap,n=this[i(203)](t,e),s=this[i(119)](t._y),o=this[i(119)](e._y),a=this[i(119)](t._x),h=this._toRadians(e._x),l=Math[i(173)]((1-r)*n)/Math[i(173)](n),c=Math[i(173)](r*n)/Math[i(173)](n),u=l*Math[i(164)](s)*Math[i(164)](a)+c*Math[i(164)](o)*Math[i(164)](h),p=l*Math.cos(s)*Math[i(173)](a)+c*Math[i(164)](o)*Math[i(173)](h),f=l*Math[i(173)](s)+c*Math[i(173)](o),g=Math[i(213)](f,Math[i(204)](u*u+p*p)),d=Math[i(213)](p,u);return new Coordinate(d/Math.PI*180,g/Math.PI*180,0)}[ap(129)](t,e=4326){const r=ap;if(1===t)return[this];const i=Transformer[r(196)][r(206)+e].getCrsType();let n=this[r(185)]();const s=n[r(222)]();let o=0;if(i!==r(118)){const e=this[r(158)](3857)/t;let i,o=e,a=n.getCoordinate(0),h=[],l=new CoordSeq([a]),c=!1;for(let u=1;u<s&&!c;u++){const s=n.getCoordinate(u),p=s[r(208)]("X"),f=s[r(208)]("Y"),g=s[r(208)]("Z");for(;;){if(1===t){const t=n[r(222)]();for(let e=u;e<t;e++)l[r(142)](n.getCoordinate(e));h.push(Line.fromCoordSeq(l)),c=!0;break}const d=new Point(a),_=new Point(s);i=new Line([d,_]);const y=i.getLength(3857);if(Math.abs(y-o)<.2){l.addCoord(n.getCoordinate(u)),h.push(Line.fromCoordSeq(l)),l.remove(0,l[r(222)]()-1),t--,a=s;break}if(!(y>o)){a=s,l[r(142)](n.getCoordinate(u)),o-=y;break}{const i=a[r(208)]("X"),n=a.getOrdinate("Y"),s=a[r(208)]("Z"),c=new Coordinate((p-i)*o/y+i,(f-n)*o/y+n,(g-s)*o/y+s);l[r(142)](c),h.push(Line.fromCoordSeq(l)),l.remove(0,l[r(222)]()-1),t--,a=c,o=e}}}return h[0].getCoordSeq()[r(156)](0).setOrdinate("X",n[r(156)](0)[r(208)]("X")),h[0][r(185)]().getCoordinate(0)[r(112)]("Y",n.getCoordinate(0)[r(208)]("Y")),h[0][r(185)]()[r(156)](0)[r(112)]("Z",n[r(156)](0)[r(208)]("Z")),h}{for(let t=s-1;t>0;t--){const e=n[r(156)](t),i=n[r(156)](t-1);o+=this._angularDis(e,i)}const e=o/t;for(let i=0;i<s;i++){let i=e,o=n[r(156)](0),a=[],h=new CoordSeq([o]),l=!1;for(let c=1;c<s&&!l;c++){const s=n.getCoordinate(c);for(;;){if(1===t){const t=n[r(222)]();for(let e=c;e<t;e++)h.addCoord(n.getCoordinate(e));a[r(216)](Line.fromCoordSeq(h)),l=!0;break}const u=this[r(203)](o,s);if(Math[r(227)](u-i)<2e-8){h.addCoord(n[r(156)](c)),a.push(Line[r(188)](h)),h[r(114)](0,h[r(222)]()-1),t--;break}if(!(u>i)){o=s,h[r(142)](n.getCoordinate(c)),i-=u;break}{const n=i/u,l=n*(s._z-o._z)+o._z,c=this._intermediate(o,s,n);c.setOrdinate("Z",l),h[r(142)](c),a[r(216)](Line[r(188)](h)),h[r(114)](0,h[r(222)]()-1),t--,o=c,i=e}}}return a[0][r(185)]().getCoordinate(0).setOrdinate("X",n[r(156)](0)[r(208)]("X")),a[0][r(185)]()[r(156)](0)[r(112)]("Y",n[r(156)](0)[r(208)]("Y")),a[0][r(185)]()[r(156)](0).setOrdinate("Z",n[r(156)](0)[r(208)]("Z")),a}}}[ap(182)](t=0,e=this[ap(172)][ap(193)]){const r=ap;return this[r(172)][r(199)](t,e)}addPoints(t,e=this[ap(172)].length){const r=ap;e<0?this[r(172)][r(187)](...t):e<this[r(172)].length?this[r(172)][r(174)](e,0,...t):this[r(172)][r(216)](...t)}intersectsExtent(t){const e=ap;return Polygon[e(166)](t)[e(175)](this)}[ap(195)](){const t=ap,e=[];for(let r=0,i=this[t(172)][t(193)];r<i;r++)e[t(216)](this[t(172)][r][t(156)]().toArray());return e}}const a$y=["_pointsChanged","POSITIVE_INFINITY","parameter 'dist' must be a number that larger than zero!","getCoordSeq","extractCoords","837028GsltMQ","rotate","length","143KzcBmc","polygonArea","clone","getCentroid","120223zCMBDZ","fromCoordSeq","getTopRight","getTopLeft","isValid","push","removeCoord","getArea","241691eFBUux","getLength","2283NBQvoV",'parameter "coordSeq" must be instance of hmap.basetype.CoordSeq',"1uVHcUx","ROUND","distanceToCamera","intersectRay","pop","getBuffer","build","_line","fromExtent","576635IzkNRx","polygonCentroid","point","getBottomRight","pointIntersectPolygon2D","isFinite","LinearRing","getExtent","destroy","invalid LinearRing,the num of points less than 3","distance","forEachSegment","addCoord","scale","map","478250sOJbiC","equals","5wNrzEF","distanceTo","toPolygon","parameter is not a Coordinate!","isSelfIntersects","containsCoord","segmentIntersectSegment2D","_pointArr","498484nOhFfU","getCoordinate"],y$2=b$y;function b$y(t,e){return a$y[t-=202]}!function(t,e){const r=b$y;for(;;)try{if(452934===parseInt(r(250))+-parseInt(r(228))+parseInt(r(242))*parseInt(r(220))+parseInt(r(235))+-parseInt(r(218))+parseInt(r(254))*-parseInt(r(203))+-parseInt(r(238))*-parseInt(r(252)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$y);class LinearRing extends Line{constructor(t){const e=b$y;if(!t)return null;const r=t[e(237)];if(r<3)throw new Error(e(212));const i=t[0][e(229)](),n=t[r-1].getCoordinate();!i[e(219)](n)&&t.push(t[0][e(240)]()),super(t)}[y$2(215)](t,e){const r=y$2,i=this[r(227)][r(237)];e>i-1||void 0===e?e=i-1:e<0&&(e=0);let n=new Point(t);if(e===i-1&&n[r(219)](this[r(227)][e]))return 0;this[r(227)].splice(e,0,n);let s=this[r(227)][0][r(229)](),o=this[r(227)][i-1].getCoordinate();return!s[r(219)](o)&&(this._pointArr[i]=this._pointArr[0]),this[r(230)]=!0,1}[y$2(240)](){const t=y$2,e=[...this[t(227)]][t(217)]((e=>e[t(240)]()));return new LinearRing(e)}[y$2(225)](t){const e=y$2,r=new Polygon([this]);return Intersect[e(207)](new Point(t),r)}static[y$2(243)](t){const e=y$2;if(!(t instanceof CoordSeq))throw new Error(e(253));let r=t[e(234)]()[e(217)]((t=>new Point(t)));return new LinearRing(r)}static[y$2(202)](t){const e=y$2;if(!(t instanceof Extent))return null;const r=t.getBottomLeft(),i=t[e(245)](),n=t[e(244)](),s=t[e(206)](),o=new Point(r),a=new Point(i),h=new Point(n),l=new Point(s);return new LinearRing([o,a,h,l,o])}getCoordinateAt(t){return super.getCoordinateAt(t)}getLength(t){return super[y$2(251)](t)}[y$2(249)](){const t=y$2;return EarCut[t(239)]([this[t(233)]()])}[y$2(233)](t=0,e=this[y$2(227)][y$2(237)]){return super[y$2(233)](t,e)}[y$2(241)](){const t=y$2;return new Coordinate(...EarCut[t(204)]([this[t(233)]()]))}[y$2(248)](t){const e=y$2;let r=0;if(!(t instanceof Coordinate))throw new TypeError(e(223));let i=[...this._pointArr],n=this[e(227)][e(237)],s=new Point(t);for(let t=n-1;t>=0;t--)s.equals(this[e(227)][t])&&(t===n-1?(this[e(227)].splice(0,1,this[e(227)][t-1]),this._pointArr[e(258)](),r++):(this._pointArr.splice(t,1),r++));return this[e(230)]=!0,this._pointArr[e(237)]<3?(this._pointArr=[...i],0):r}getType(){return GeometryType[y$2(209)]}[y$2(246)](){}[y$2(211)](){super[y$2(211)]()}distanceTo(t,e={}){return super[y$2(221)](t,e)}[y$2(222)](){return new Polygon([this])}simplify(t){const e=y$2,r=this.getCoordSeq().simplify(t,!0)[e(234)](),i=[];for(let t=0;t<r.length;t++)i.push(new Point(r[t]));return this[e(227)]=i,this[e(230)]=!0,this}[y$2(257)](t,e){const r=y$2;let i=Intersect3D.lineToLine(this,t[r(261)]),n=Number[r(231)],s=null;for(let o=0,a=i[r(237)];o<a;o++){let a=i[o];if(a&&a[r(213)]<e){let e=t[r(256)](a[r(205)]);e<n&&(n=e,s=a[r(205)])}}return Number[r(208)](n)?{intersectCoordinate:s,distance:n}:null}[y$2(259)](t,e=0){const r=y$2;if(!(Number.isFinite(t)&&t>0))throw new Error(r(232));return new LineBuffer(this,t,r(255),e)[r(260)]()}[y$2(210)](){return super[y$2(210)]()}forEachSegment(t){super[y$2(214)](t)}moveByDelta(t=0,e=0,r=0){return super.moveByDelta(t,e,r)}[y$2(236)](t,e,r){return super[y$2(236)](t,e,r)}[y$2(216)](t,e,r,i){return super[y$2(216)](t,e,r,i)}[y$2(224)](){const t=y$2;let e=[],r=this[t(227)][t(237)]-1;if(r<=3)return!1;for(let i=0;i<r;i++)e[t(247)](this[t(227)][i]);for(let i=3;i<r;i++){let n=[e[i-3].getCoordinate(),e[i-2][t(229)]()];for(let s=i;s<r;s++){let r=[e[s-1].getCoordinate(),e[s][t(229)]()];if(Intersect[t(226)](n,r))return!0}}return!1}}const a$x=["FULL","parseInt","rayIntersectPolygon","getArea","distanceToCamera","linearRingIndex out of range!","getBBox","polygonIntersectMultiPolygon2D","length","fromCircle","parameter is illegal!","intersectsGeometry","_splitConcave","writeGeometry","polygonCentroid","706201kqeKwd","polylabel","getLinearRingCount","getOrdinate","2KcrncL","intersect","fromRectangle","push","getCoordSeqs","sin","get3Dist","polygonIntersectPolygon2D","atApproximatePoint","the parameter is not Coordinate!","removeRepeat","extractCoords","transform","1054510ukgQUR","getCentroid","3697920lSkBRo","toConvexPolys","distance","containsCoord","readGeometry","union","getLinearRings","getLinearRing","isFinite",'parameter "radius", "side" and "rotation" must be type of Number!',"getLength","moveByDelta","isConvexity","distanceTo","ASC","applyTransform","toPolygon","appendLinearRing","extendBBox","1119385PuuvZW","13669xWvLjw","getClosestPoint","polygonArea","scale","776895rAGtCE","clone","details","intersectsExtent","getExtent","isInteger","457IORSKs","simplify","getPerimeter","createRegularPolygon","equals","101dTNZUB","getVertices","fromExtent","lineIntersectPolygon2D","isSelfIntersects","getType","lineRingArr","getMaxDistPoint","remove","lineIntersectLine2D","toArray","getCenter","getBuffer","getCoordinate","getCoordSeq","abs","rotate","destroy","fromCoords","toLinearRing","parameter 'dist' must be a number that larger than zero !","linearRingIndex must be a Number!","map","build","getCoordCount","1895lQBTgQ","multiLineIntersectPolygon2D","POSITIVE_INFINITY","sort"],U=b$x;function b$x(t,e){return a$x[t-=245]}!function(t,e){const r=b$x;for(;;)try{if(802836===-parseInt(r(273))+-parseInt(r(335))*-parseInt(r(305))+parseInt(r(294))+parseInt(r(299))+parseInt(r(310))*parseInt(r(295))+-parseInt(r(256))*-parseInt(r(260))+-parseInt(r(275)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$x);class Polygon extends Geometry{constructor(t){if(!(t instanceof Array&&t[b$x(249)]>0))throw new TypeError('parameter "linearRing" is not an Array or contains no LinearRing!');super(),this.lineRingArr=t}[U(257)](){return Topology.polylabel(this)}[U(292)](t){const e=U;let r=t instanceof LinearRing;return r&&this[e(316)][e(263)](t),r}static[U(308)](t,e,r,i){const n=U;if(!Number.isFinite(e)||!Number[n(283)](r)||!Number[n(283)](i))throw n(284);if(!(t instanceof Coordinate))throw'parameter "origin" must be instance of Coordinate!';if(r<3)return null;const s=2*Math.PI/r,o=[],a=t[n(259)]("X"),h=t[n(259)]("Y");for(let t=0;t<r;t++){const r=s*t+i*Math.PI/180,l=e*Math.cos(r)+a,c=e*Math[n(265)](r)+h;o[t]=new Point(new Coordinate(l,c))}o[n(263)](o[0]);const l=new LinearRing(o);return new Polygon([l])}static[U(250)](t){return t instanceof Circle?t[U(291)]():null}static[U(312)](t){return t instanceof Extent?new Polygon([LinearRing.fromExtent(t)]):null}static[U(262)](t){return t instanceof Rectangle?t[U(329)]():null}[U(287)](){const t=U;const e=this[t(264)](0,1),r=e[t(334)]();for(let i=0;i<r-3;i++){const r=e[t(323)](i+2),n=e[t(323)](i+1),s=e[t(323)](i),o=n[t(259)]("X")-s.getOrdinate("X"),a=n[t(259)]("Y")-s[t(259)]("Y"),h=n[t(259)]("Z")-s.getOrdinate("Z"),l=new Vector3(o,a,h),c=r[t(259)]("X")-n.getOrdinate("X"),u=r[t(259)]("Y")-n.getOrdinate("Y"),p=r[t(259)]("Z")-n[t(259)]("Z"),f=new Vector3(c,u,p);if(l.rotateAngle(f)>180)return!1}return!0}toConvexPolys(){const t=U;let e=[];if(!0===this[t(287)]())e[t(263)](this);else{let r=this._splitConcave();for(let i=0;i<r[t(249)];i++)e[t(263)](...r[i][t(276)]())}return e}[U(253)](){const t=U;let e=[];let r=this[t(282)](0)[t(324)]()[t(270)](),i=r[t(338)]("X",t(289));const n=r[t(278)](i[t(323)](0)),s=n-1,o=n+1,a=r[t(323)](n),h=r.getCoordinate(s),l=r[t(323)](o),c=[h,a,l],u=CoordSeq[t(328)](c);let p=i[t(323)](1);(h.equals(i[1])||l[t(309)](p))&&(p=i[t(323)](2));if(u[t(278)](p)){const i=n,s=r[t(278)](p),o=r[t(271)](i,s-i),a=LinearRing[t(328)](o),h=new Polygon([a]);e[t(263)](h);const l=[];for(let e=s;e<r[t(334)]();e++)l[t(263)](r[t(323)](e));for(let e=0;e<i;e++)l[t(263)](r.getCoordinate(e));const c=LinearRing.fromCoords(l),u=new Polygon([c]);e.push(u)}else{const i=new Polygon([u]);e[t(263)](i),r=r[t(318)](n,1);const s=LinearRing.fromCoordSeq(r),o=new Polygon([s]);e[t(263)](o)}return e}[U(342)](){const t=U;return EarCut[t(297)](this[t(264)]())}[U(264)](t=0,e=this[U(316)][U(249)]){const r=U;if(!Number[r(283)](t)||!Number[r(283)](e))throw new Error("the parameters is not a number");const i=this[r(316)][r(249)];if((t=t<=0?0:Number.parseInt(t))>=(e=e>=i?i:Number[r(340)](e)))return[];let n=[];for(let i=t;i<e;i++)n.push(this[r(316)][i].getCoordSeq());return n}[U(282)](t=0){const e=U;if(Number[e(304)](t))return t>=0&&t<this[e(316)][e(249)]?this[e(316)][t]:null;throw new Error("the parameter must be a Integer")}[U(258)](){const t=U;return this[t(316)][t(249)]}[U(281)](){return this.lineRingArr}[U(290)](t){const e=U;for(let r=0;r<this[e(316)].length;r++)this.lineRingArr[r][e(290)](t)}[U(268)](t){const e=U;if(t instanceof Coordinate)return this[e(303)]()[e(278)](t,!0);throw new TypeError(e(269))}[U(322)](t,e=U(339)){const r=U;if(!(Number[r(283)](t)&&t>0))throw new Error(r(330));return new PolygonBuffer(this,t,e)[r(333)]()}[U(300)](){const t=U,e=[...this[t(316)]][t(332)]((t=>t.clone()));return new Polygon(e)}[U(288)](t,e={}){const r=U,i=!(e&&!1===e.edge),n=e&&e[r(301)];if(!i&&this[r(252)](t))return n?{distance:0}:0;{let n,s,o,a=Number[r(337)];for(let i=0,h=this[r(316)][r(249)];i<h;++i)n=this[r(316)][i][r(288)](t,e),o=n[r(277)]||0==n.distance?n[r(277)]:n,Math[r(325)](o)<Math.abs(a)&&(a=o,s=n);return i&&this.intersectsGeometry(t)&&(0!=a&&(a=-a),s&&(s[r(277)]||0==s[r(277)])?s[r(277)]=a:s=a),s}}[U(274)](){const t=U;return new Coordinate(...EarCut[t(255)](this[t(264)]()))}[U(296)](t){const e=U;let r,i=Number.POSITIVE_INFINITY;for(let n=0,s=this[e(316)][e(249)];n<s;n++){let s=this.lineRingArr[n][e(311)]();for(let n=0,o=s.length;n<o;n++){const o=s[n],a=o[e(323)]()[e(266)](t);a<i&&(i=a,r=o)}}return r}[U(303)](){const t=U;return this[t(282)](0)[t(303)]()}[U(307)](t,e=4326){const r=U;if(null==t){let t=0;for(let i=0;i<this[r(316)][r(249)];i++)t+=this[r(316)][i][r(285)](e);return t}if(!Number[r(283)](t))throw r(331);if(t<0||t>=this[r(316)][r(249)])throw r(246);return this.lineRingArr[t].getLength(e)}[U(315)](){return GeometryType.Polygon}[U(286)](t,e,r){const i=U;for(let n=0;n<this[i(316)].length;n++)this[i(316)][n][i(286)](t,e,r);return this}[U(252)](t){const e=U;if(!t.getType)throw new TypeError(e(251));return{Point:()=>Intersect.pointIntersectPolygon2D(t,this),MultiPoint:()=>Intersect.multiPointIntersectPolygon2D(t,this),Line:()=>Intersect[e(313)](t,this),LinearRing:()=>Intersect.lineIntersectPolygon2D(t,this),Triangle:()=>{const r=e;return Intersect[r(267)](this,t[r(291)]())},MultiLine:()=>Intersect[e(336)](t,this),Circle:()=>{const r=e;return Intersect[r(267)](this,t[r(291)]())},Rectangle:()=>{const r=e;return Intersect.polygonIntersectPolygon2D(this,t[r(291)]())},Polygon:()=>Intersect[e(267)](this,t),MultiPolygon:()=>Intersect[e(248)](this,t),Collection:()=>t[e(252)](this)}[t[e(315)]()]()}isSelfIntersects(){const t=U;let e=this[t(281)](),r=e[t(249)];for(let i=0;i<r;i++){let n=e[i];if(n[t(314)]())return!0;for(let s=i+1;s<r;s++){let r=e[s];if(Intersect[t(319)](n,r))return!0}}return!1}isValid(){}[U(326)](t,e,r){const i=U;for(let n=0;n<this[i(316)].length;n++)this[i(316)][n][i(326)](t,e,r);return this}[U(298)](t,e,r,i){const n=U;!i&&(i=this[n(303)]()[n(321)]());for(let s=0;s<this.lineRingArr[n(249)];s++)this[n(316)][s][n(298)](t,e,r,i);return this}[U(306)](t){const e=U;for(let r=0;r<this[e(316)][e(249)];r++)this[e(316)][r][e(306)](t);return this}[U(272)](t,e){const r=U;for(let i=0,n=this[r(316)][r(249)];i<n;i++)this[r(316)][i][r(272)](t,e);return this}[U(327)](){super.destroy()}[U(247)](){const t=U;let e=this[t(282)](0)[t(247)]();for(let r=1,i=this[t(258)]();r<i;r++)e[t(293)](this[t(282)](r)[t(247)]());return e}intersectRay(t,e,r,i){const n=U;let s=Intersect3D[n(341)](t,this,r,i),o=Number.POSITIVE_INFINITY,a=null;if(s&&s.length>0)for(let e=0,r=s[n(249)];e<r;e++){let r=t[n(245)](s[e]);r<o&&(o=r,a=s[e])}return Number[n(283)](o)?{intersectCoordinate:a,distance:o}:null}[U(302)](t){const e=U;return Polygon.fromExtent(t)[e(252)](this)}[U(317)](t){const e=U;let r,i=0;for(let n=0,s=this[e(316)].length;n<s;n++){let s=this[e(316)][n].getVertices();for(let n=0,o=s[e(249)];n<o;n++){const o=s[n],a=o[e(323)]()[e(266)](t);a>i&&(i=a,r=o)}}return r}[U(261)](t){const e=U;let r=new GeoJSON,i=r[e(254)](this),n=r[e(254)](t);const s=(new TopologyBoolean)[e(261)](i,n);return r.readGeometry(s,null)}[U(280)](t){const e=U;let r=new GeoJSON,i=r.writeGeometry(this),n=r[e(254)](t);const s=(new TopologyBoolean)[e(280)](i,n);return r[e(279)](s,null)}difference(t){const e=U;let r=new GeoJSON,i=r[e(254)](this),n=r[e(254)](t);const s=(new TopologyBoolean).difference(i,n);return r[e(279)](s,null)}[U(320)](){const t=U,e=[];for(let r=0,i=this[t(258)]();r<i;r++)e[t(263)](this.getLinearRing(0)[t(320)]());return e}}const a$w=["4629ZQtsnp","sin","getBottom","1DmylKW","getExtent","getType","getCoordinate","distanceToCamera","pow","transform","1NRgnnb","applyTransform","351TMqLOP","cos","point","397362yiGIqC","setOrdinate","getLinearRing","getBBox","must be number!","getCoordSeq","4301mvZOXK","rotate","polygonIntersectCircle2D","getCenter","193kTuySO","parseInt","destroy","parameter is illegal!","_calculateBBox",'parameter "radius" must be Number and greater than zero',"setRadius","getLeft","getOrdinate","getCentroid","moveByDelta","toPolygon",'parameter "center" must be instance of Point!',"distanceTo","getRadius","multiPointIntersectCircle2D","atApproximatePoint","isFinite","multiPolygonIntersectCircle2D","getArea","Circle",'parameter "xyzFactor" must be positive Number!',"intersectsGeometry","OUTSIDE","getRight","582334UfzPsO","getPoints","intersectsExtent","max","_bbox","getTop","_center","926743dYNAEj","_circlePoints","5GoQWbD","_radius","getClosestPoint","_pointsChanged","min","getCoordSeqs","isSelfIntersects","scale","pointIntersectCircle2D","_pointNum","pointToSegment","498991gnmqRQ","endIndex must greater than startIndex!",'parameter "origin" must be instance of Coordinate',"the center is not a Point","floor","lineIntersectCircle2D","_line","getLength","the parameter ","clone","parameter must be number!","length","sqrt","33690YQXCdR","getGeoms","push","intersectRay","extractCoords"],G=b$w;function b$w(t,e){return a$w[t-=357]}!function(t,e){const r=b$w;for(;;)try{if(849634===parseInt(r(378))+parseInt(r(408))*-parseInt(r(404))+parseInt(r(365))+-parseInt(r(393))*-parseInt(r(433))+parseInt(r(395))*parseInt(r(383))+-parseInt(r(440))*-parseInt(r(386))+parseInt(r(398))*-parseInt(r(442)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$w);class Circle extends Geometry{constructor(t,e,r=50){const i=b$w;if(!(t instanceof Point))throw new TypeError(i(420));if(!Number[i(425)](e)||e<=0)throw new TypeError(i(413));if(Math[i(369)](r)!==r||r<=7)throw new TypeError('parameter "pointNum" must be Integer and no less than 8');super(),this[i(439)]=t,this[i(443)]=e,this._pointNum=r;const n=this[i(439)][i(389)](),s=n.getOrdinate("X"),o=n.getOrdinate("Y"),a=n[i(416)]("Z"),h=[];let l;for(let t=0;t<this[i(363)];t++)l=2*Math.PI/this._pointNum*t,h[i(380)](new Point(new Coordinate(s+this[i(443)]*Math[i(396)](l),o+this[i(443)]*Math[i(384)](l),a)));h[i(380)](h[0][i(374)]()),this._pointNum=h.length,this[i(441)]=h,this[i(437)]=this[i(412)](),this._pointsChanged=!1}[G(427)](){const t=G;return Math.PI*this[t(443)]*this._radius}[G(407)](){return this[G(439)]}[G(403)](t=0,e=this[G(363)]){const r=G;if(Number[r(425)](t)&&Number[r(425)](e)){const i=this[r(363)];if((t=t<=0?0:Number[r(409)](t))>=(e=e>i?i:Number[r(409)](e)))throw new RangeError(r(366));const n=[],s=this[r(434)]();for(let t of s)n[r(380)](t[r(389)]());const o=new CoordSeq(n);return new CoordSeq(o[r(382)](t,e-t))}throw new TypeError(r(373)+t+"&"+e+r(402))}[G(359)](){return[this.getCoordSeq()]}[G(372)](){return 2*Math.PI*this.getRadius()}[G(434)](){return this._circlePoints}getPointNum(){const t=G;return this[t(441)][t(376)]}[G(422)](){return this._radius}setCenter(t){const e=G;if(!(t instanceof Point))throw new Error(e(368));const r=t[e(389)](),i=this[e(439)][e(389)](),n=r.getOrdinate("X")-i[e(416)]("X"),s=r[e(416)]("Y")-i[e(416)]("Y"),o=r[e(416)]("Z")-i[e(416)]("Z");return this[e(418)](n,s,o),this}[G(414)](t){const e=G;if(!Number[e(425)](t)||t<=0)return!1;const r=t/this[e(443)],i=this._center[e(389)](),n=i[e(416)]("X"),s=i[e(416)]("Y"),o=i[e(416)]("Z"),a=[];for(let t of this[e(403)]().extractCoords())t[e(399)]("X",(t[e(416)]("X")-n)*r+n),t[e(399)]("Y",(t[e(416)]("Y")-s)*r+s),t[e(399)]("Z",(t[e(416)]("Z")-o)*r+o),a[e(380)](new Point(t));return this[e(441)]=a,this[e(443)]=t,this[e(357)]=!0,!0}[G(419)](){let t=this[G(434)]();return new Polygon([new LinearRing(t)])}[G(394)](t){const e=G;let r;for(let i=0,n=this[e(441)][e(376)];i<n;i++)r=t(this[e(441)][i][e(389)]()),this[e(441)][i]=new Point(r);this[e(357)]=!0;let i=this[e(387)]();const n=(i[e(415)]()+i[e(432)]())/2,s=(i[e(438)]()+i[e(385)]())/2,o=this.getPoints();let a,h,l;a=h=o[0][e(389)]()[e(416)]("Z");for(let t of o)l=t[e(389)]()[e(416)]("Z"),a=a<l?l:a,h=h>l?l:h;const c=(a+h)/2,u=this[e(439)][e(389)]();u[e(399)]("X",n),u[e(399)]("Y",s),u[e(399)]("Z",c);const p=this[e(441)][0][e(389)]();this[e(443)]=Math[e(377)](Math[e(391)](p.getOrdinate("X"),2)+Math[e(391)](p[e(416)]("Y"),2)+Math[e(391)](p[e(416)]("Z"),2))}[G(424)](t){if(t instanceof Coordinate)return this[G(387)]().containsCoord(t);throw new TypeError("the parameter is not Coordinate!")}clone(){const t=G;return new Circle(this[t(439)][t(374)](),this[t(443)],this[t(441)].length-1)}[G(421)](t,e){return this.toPolygon().distanceTo(t,e)}getBuffer(t,e="FULL"){const r=G;if(!(Number[r(425)](t)&&t>0))throw new Error("parameter 'dist' must be a number larger than zero !");const i=new Circle(this[r(439)].clone(),this[r(443)]+t);if(e===r(431)){const t=i.toPolygon().getLinearRing(0),e=this[r(419)]()[r(400)](0);return new Polygon([t,e])}return i}[G(417)](){const t=G;return this[t(439)][t(389)]()}[G(444)](t){const e=G;if(!(t instanceof Coordinate))throw new Error(e(411));const r=this._center,i=this[e(443)];let n,s=r[e(389)]()[e(416)]("X"),o=r[e(389)]()[e(416)]("Y"),a=t[e(416)]("X"),h=t.getOrdinate("Y"),l=Math.sqrt(Math.pow(s-a,2)+Math.pow(o-h,2));if(0!=l){n=new Point(new Coordinate(s+(a-s)*i/l,o+(h-o)*i/l,0))}return n}[G(387)](){return this[G(401)]().getExtent()}[G(401)](){const t=G;return this[t(357)]&&(this._bbox=this[t(412)](),this._pointsChanged=!1),this[t(437)]}_calculateBBox(){const t=G;let e=this[t(441)].length;if(0===e)return new BBox(0,0,0,0,0,0);let r=this[t(441)][0][t(389)](),i=r[t(416)]("X"),n=r[t(416)]("X"),s=r.getOrdinate("Y"),o=r.getOrdinate("Y"),a=r[t(416)]("Z"),h=r[t(416)]("Z");for(let l=1;l<e;l++){r=this._circlePoints[l][t(389)]();let e=r[t(416)]("X"),c=r[t(416)]("Y"),u=r[t(416)]("Z");i=Math[t(358)](i,e),n=Math[t(436)](n,e),o=Math[t(358)](o,c),s=Math[t(436)](s,c),a=Math[t(436)](a,u),h=Math[t(358)](h,u)}return new BBox(i,o,h,n,s,a)}[G(388)](){return GeometryType[G(428)]}[G(430)](t){const e=G;if(!t[e(388)])throw new TypeError(e(411));return{Point:()=>Intersect[e(362)](t,this),MultiPoint:()=>Intersect[e(423)](t,this),Line:()=>Intersect.lineIntersectCircle2D(t,this),LinearRing:()=>Intersect[e(370)](t,this),Triangle:()=>Intersect[e(406)](t.toPolygon(),this),MultiLine:()=>Intersect.multiLineIntersectCircle2D(t,this),Circle:()=>Intersect.circle2DIntersectCircle2D(this,t),Rectangle:()=>{const r=e;return Intersect[r(406)](t[r(419)](),this)},Polygon:()=>Intersect[e(406)](t,this),MultiPolygon:()=>Intersect[e(426)](t,this),Collection:()=>{const r=e;for(let e of t[r(379)]())if(this[r(430)](e))return!0;return!1}}[t[e(388)]()]()}[G(360)](){return!1}isValid(){}moveByDelta(t,e,r){const i=G;if(!Number.isFinite(t)||!Number.isFinite(e)||!Number.isFinite(r))throw new Error(i(375));const n=[];let s=this[i(403)]().extractCoords();for(let o of s)o[i(399)]("X",o.getOrdinate("X")+t),o.setOrdinate("Y",o[i(416)]("Y")+e),o[i(399)]("Z",o[i(416)]("Z")+r),n[i(380)](new Point(o));this._circlePoints=n;const o=this[i(439)][i(389)]();return o[i(399)]("X",o[i(416)]("X")+t),o[i(399)]("Y",o[i(416)]("Y")+e),o[i(399)]("Z",o[i(416)]("Z")+r),this[i(357)]=!0,this}[G(405)](t,e,r){const i=G;this[i(439)][i(405)](t,e,r);for(let n=0;n<this[i(441)][i(376)];n++)this[i(441)][n][i(405)](t,e,r);this[i(357)]=!0}[G(361)](t,e){const r=G;if(!Number[r(425)](t)||t<=0)throw new RangeError(r(429));if(e&&!(e instanceof Coordinate))throw new TypeError(r(367));!e&&(e=this[r(439)][r(389)]()),this._center[r(361)](t,t,t,e);for(let i of this._circlePoints)i[r(361)](t,t,t,e);return this[r(443)]=t*this[r(443)],this.setRadius(this._radius),this._pointsChanged=!0,this}simplify(t){return this}[G(392)](t,e){const r=G;this[r(439)].transform(t,e);for(let i=0;i<this._pointNum;i++)this[r(441)][i][r(392)](t,e);return this[r(357)]=!0,this}destroy(){super[G(410)]()}[G(381)](t,e,r){const i=G;let n=this[i(407)](),s=Intersect3D[i(364)](n.getCoordinate(),t[i(371)].getVertices()[0][i(389)](),t._line.getVertices()[1].getCoordinate(),r);if(!s)return null;if(s.distance-this.getRadius()<e){let e=t[i(390)](s[i(397)]);return{intersectCoordinate:s[i(397)],distance:e}}}[G(435)](t){const e=G;return Polygon.fromExtent(t)[e(430)](this)}}const a$v=["263259vTouEW","distance","Point","179761PTFohW","pow","rotate","isSelfIntersects","1fBqDIS","547531qyvnRY","parameter is illegal!","pointToSegment","916222PJtjAD","distanceToSegment","3EYUWnI","_distanceSquaredToSegment","atApproximatePoint","parameter 'dist' must be a number that larger than zero !","details","isFinite","distanceTo","getCoordinate","applyTransform","getType","distanceToCamera","getExtent","getOrdinate","pointIntersectPolygon2D","toPolygon","equals","the parameter is not Coordinate!","edge","getCenter","isValid","scale","getBuffer","346RABHIY","1895uWNTwl","getVertices","setCoordinate","getBBox",'parameter "origin" must be instance of Coordinate',"pointIntersectLine3D","pointIntersectMultiPoint3D","parameter must be number!","intersectsExtent","simplify","sqrt","containsCoord","destroy","parameter is not Coordinate!","pointIntersectMultiPolygon2D","parameter 'coord' must be instance of  Coordinate!","clone","parameter 'point' must be an instance of Point!","68632WFFJQB","moveByDelta","intersectsGeometry","492376IPajEt","_coordinate","getRadius","_line","point","1ASBUKM","setOrdinate","getClosestPoint","transform"],y$1=b$v;function b$v(t,e){return a$v[t-=489]}!function(t,e){const r=b$v;for(;;)try{if(605101===-parseInt(r(511))*parseInt(r(510))+parseInt(r(544))*-parseInt(r(548))+parseInt(r(552))+-parseInt(r(532))+-parseInt(r(549))*-parseInt(r(537))+parseInt(r(541))+-parseInt(r(529))*-parseInt(r(554)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$v);class Point extends Geometry{constructor(t){if(super(),!(t instanceof Coordinate))throw new Error("parameter is not Coordinate instance!");this._coordinate=t}[y$1(503)](t){const e=y$1;if(!(t&&t instanceof Point))throw new Error(e(528));return this._coordinate[e(503)](t.getCoordinate())}getCoordinate(){return this[y$1(533)]}[y$1(513)](t){const e=y$1;if(!(t instanceof Coordinate))throw new TypeError(e(526));this[e(533)]=t}[y$1(496)](t){const e=y$1;this[e(533)]=t(this[e(495)]())}[y$1(490)](t){const e=y$1;if(!(t instanceof Coordinate))throw new TypeError(e(504));return this[e(499)]()[e(522)](t)}clone(){const t=y$1;return new Point(this[t(533)][t(527)]())}[y$1(494)](t,e){const r=y$1,i=!(e&&!1===e[r(505)]),n=e&&e[r(492)];let s,o,a,h,l,c;if(t instanceof Point)o=this[r(533)][r(500)]("X"),a=this._coordinate[r(500)]("Y"),h=t[r(495)]()[r(500)]("X"),l=t[r(495)]()[r(500)]("Y"),s=Math[r(521)](Math.pow(o-h,2)+Math[r(545)](a-l,2)),c=n?{x0:o,y0:a,x1:h,y1:l,distance:s}:s;else if(t instanceof Circle){o=this[r(533)][r(500)]("X"),a=this[r(533)][r(500)]("Y"),h=t[r(506)]()[r(495)]().getOrdinate("X"),l=t[r(506)]()[r(495)]()[r(500)]("Y"),s=Math.sqrt(Math[r(545)](o-h,2)+Math.pow(a-l,2)),0!==s&&(h-=(h-o)*t[r(534)]()/s,l-=(l-a)*t[r(534)]()/s);let e=s-t[r(534)]();!i&&e<=0&&(e=0),c=n?{x0:o,y0:a,x1:h,y1:l,distance:e}:e}else c=t[r(494)](this,e),n&&(i||!i&&c.distance>0)&&(c={distance:c[r(542)],x0:c.x1,y0:c.y1,x1:c.x0,y1:c.y0});return c}[y$1(553)](t){return this[y$1(489)](t)}[y$1(489)](t){const e=y$1,r=this.getCoordinate()[e(500)]("X"),i=this[e(495)]()[e(500)]("Y"),n=t[0].getOrdinate("X"),s=t[0][e(500)]("Y"),o=t[1][e(500)]("X"),a=t[1][e(500)]("Y"),h=o-n,l=a-s,c=(h*(r-n)+l*(i-s))/(Math[e(545)](h,2)+Math[e(545)](l,2));let u,p;return c<=0?(u=n,p=s):c>=1?(u=o,p=a):(u=n+c*h,p=s+c*l),{distance:Math[e(521)](Math[e(545)](u-r,2)+Math[e(545)](p-i,2)),x:u,y:p,along:c}}[y$1(509)](t){const e=y$1;if(!(Number[e(493)](t)&&t>0))throw new Error(e(491));return new Circle(this,t)}getCentroid(){return this[y$1(495)]()}[y$1(539)](t){if(!(t instanceof Coordinate))throw new Error(y$1(524));return this}[y$1(499)](){const t=y$1,e=this[t(533)][t(500)]("X"),r=this._coordinate[t(500)]("Y");return new Extent(e,r,e,r)}[y$1(497)](){return GeometryType[y$1(543)]}[y$1(531)](t){const e=y$1;if(!t.getType)throw new TypeError(e(550));return{Point:()=>Intersect.pointIntersectPoint3D(this,t),MultiPoint:()=>Intersect[e(517)](this,t),Line:()=>Intersect[e(516)](this,t),LinearRing:()=>Intersect[e(516)](this,t),Triangle:()=>{const r=e;return Intersect[r(501)](this,t[r(502)]())},MultiLine:()=>Intersect.pointIntersectMultiLine3D(this,t),Circle:()=>Intersect[e(501)](this,t.toPolygon()),Rectangle:()=>{const r=e;return Intersect[r(501)](this,t[r(502)]())},Polygon:()=>Intersect[e(501)](this,t),MultiPolygon:()=>Intersect[e(525)](this,t),Collection:()=>t[e(531)](this)}[t[e(497)]()]()}[y$1(547)](){return!1}[y$1(507)](){}[y$1(530)](t,e,r){const i=y$1;if(!Number[i(493)](t)||!Number.isFinite(e)||!Number[i(493)](r))throw new Error(i(518));let n=this[i(533)];return n[i(538)]("X",n[i(500)]("X")+t),n.setOrdinate("Y",n[i(500)]("Y")+e),n[i(538)]("Z",n[i(500)]("Z")+r),this}[y$1(546)](t,e,r){const i=y$1;return this[i(533)][i(546)](t,e,r),this}[y$1(508)](t,e,r,i){const n=y$1;if(!Number[n(493)](t)||!Number[n(493)](e)||!Number[n(493)](r)||t<=0||e<=0||r<=0)throw new RangeError('parameter "xFactor", "yFactor" and "zFactor" must be positive Number!');if(i&&!(i instanceof Coordinate))throw new TypeError(n(515));if(!i)return this;const s=i[n(500)]("X"),o=i[n(500)]("Y"),a=i[n(500)]("Z");return this[n(530)](-s,-o,-a),this[n(533)][n(508)](t,e,r),this[n(530)](s,o,a),this}[y$1(520)](t){return this}[y$1(540)](t,e){const r=y$1;return this[r(533)]=Transformer[r(540)](this[r(533)],t,e),this}destroy(){super[y$1(523)]()}[y$1(514)](){const t=y$1;let e=this[t(533)][t(500)]("X"),r=this[t(533)][t(500)]("Y"),i=this._coordinate[t(500)]("Z");return new BBox(e,r,i,e,r,i)}intersectRay(t,e,r){const i=y$1;let n=Intersect3D[i(551)](this.getCoordinate(),t[i(535)][i(512)]()[0][i(495)](),t[i(535)][i(512)]()[1][i(495)](),r);if(!n)return null;if(n[i(542)]<e){return{distance:t[i(498)](n.point),intersectCoordinate:n[i(536)]}}return null}[y$1(519)](t){const e=y$1;return Polygon.fromExtent(t)[e(531)](this)}}const a$u=["23rnSKuF","getPointCount","simplify","push","max","scale","equals","getClosestPoint","unionPolygons","containsCoord","MultiPoint","writeGeometry","getBBox","multiPointIntersectPolygon2D","abs","distanceToCamera","getCenter","parameter is illegal!","every","14807zkTvlh","removePoint","1fWFpHw","125469roXIAY","applyTransform","16511SWHlYa","clone","getBuffer","length","getExtent","POSITIVE_INFINITY","getPoints","multiPointIntersectLine2D","parameter is not an array of all Point!","2wtFxJK","isValid","27607UhiaOG","isSelfIntersects","311414zPEBSZ","addPoint","getType","splice","getCoordinate","getCoordinates","_calculateBBox","distance","7ZjNwLX","parameter is not available!","getVertices","multiPointIntersectMultiLine2D","576200ceLCDo","parameter is not Coordinate!","_points","toPolygon","readGeometry","getCentroid","moveByDelta","isFinite","getOrdinate","intersectsGeometry","multiPointIntersectMultiPolygon2D","_bbox","point","min","get3Dist","intersectsExtent","pointToSegment","atApproximatePoint","_pointsChanged","parameter is not Point!","transform","67463fbBiyd","distanceTo","getPoint"],z=b$u;function b$u(t,e){return a$u[t-=298]}!function(t,e){const r=b$u;for(;;)try{if(200466===parseInt(r(306))*parseInt(r(343))+parseInt(r(346))*parseInt(r(370))+parseInt(r(310))+-parseInt(r(365))*-parseInt(r(318))+-parseInt(r(367))*parseInt(r(308))+-parseInt(r(368))+-parseInt(r(322)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$u);class MultiPoint extends Geometry{constructor(t){const e=b$u;if(super(),!(t instanceof Array))throw new Error("parameter is not an array of Points!");if(!t[e(364)]((function(t){return t instanceof Point})))throw new Error(e(305));this[e(324)]=t,this[e(333)]=this[e(316)](),this._pointsChanged=!1}[z(311)](t,e=0){const r=z;if(!Number[r(329)](e))throw new Error("parameter is not available!");if(!(t instanceof Point))throw new Error(r(341));let i=e;return i<0&&(i=0),this._points[r(313)](i,0,t),this._pointsChanged=!0,this}[z(366)](t){const e=z;let r=[],i=0;const n=this._points[e(300)];if(!(t instanceof Point))return i=-1,i;for(let i=0;i<n;i++)!t[e(352)](this._points[i])&&r[e(349)](this._points[i]);return i=n-r[e(300)],this[e(324)]=r,this[e(340)]=!0,i}[z(315)](){const t=z;let e=[];const r=this[t(324)][t(300)];for(let i=0;i<r;i++){const r=this[t(324)][i];e[t(349)](r.getCoordinate())}return e}[z(345)](t){const e=z,r=this._points.length;if(!Number.isFinite(t)||t<0||t>=r)throw new Error(e(319));return this[e(324)][t]}[z(347)](){const t=z;return this[t(324)][t(300)]}[z(303)](){return this[z(324)]}[z(369)](t){const e=z;for(let r=0;r<this[e(324)][e(300)];r++)this._points[r][e(369)](t);this[e(340)]=!0}[z(339)](t){const e=z;if(!(t instanceof Coordinate))throw new Error(e(323));return this[e(301)]()[e(355)](t)}[z(298)](){const t=z,e=[...this[t(324)]].map((e=>e[t(298)]()));return new MultiPoint(e)}[z(344)](t,e){const r=z;let i,n,s,o=Number[r(302)];for(let a=0,h=this._points[r(300)];a<h;++a)i=this[r(324)][a][r(344)](t,e),s=i[r(317)]||0==i[r(317)]?i[r(317)]:i,Math[r(360)](s)<Math[r(360)](o)&&(o=s,n=i);return n}[z(299)](t){const e=z,r=[],i=new GeoJSON;for(let n=0,s=this.getPointCount();n<s;n++)r[e(349)](i[e(357)](this[e(345)](n).getBuffer(t)[e(325)]()));let n=new TopologyBoolean;const s=n[e(354)](r);return n=null,i[e(326)](s,null)}[z(327)](){const t=z;let e=0,r=0,i=0;const n=this[t(324)][t(300)];for(let s=0;s<n;s++){const n=this[t(324)][s];e+=n[t(314)]()[t(330)]("X"),r+=n[t(314)]().getOrdinate("Y"),i+=n[t(314)]()[t(330)]("Z")}return e/=n,r/=n,i/=n,new Coordinate(e,r,i)}[z(353)](t){const e=z;if(!(t instanceof Coordinate))throw new Error("parameter is not Coordinate!");let r=this._points[0][e(314)]()[e(336)](t),i=this[e(324)][0];const n=this[e(324)][e(300)];for(let s=0;s<n;s++){const n=this._points[s],o=n.getCoordinate()[e(336)](t);o<r&&(r=o,i=n)}return i}[z(301)](){const t=z;return this.getBBox(),this[t(333)][t(301)]()}[z(312)](){return GeometryType[z(356)]}[z(331)](t){const e=z;if(!t[e(312)])throw new TypeError(e(363));return{Point:()=>Intersect.pointIntersectMultiPoint2D(t,this),MultiPoint:()=>Intersect.multiPointIntersectMultiPoint2D(this,t),Line:()=>Intersect.multiPointIntersectLine2D(this,t),LinearRing:()=>Intersect[e(304)](this,t),Triangle:()=>{const r=e;return Intersect[r(359)](this,t[r(325)]())},MultiLine:()=>Intersect[e(321)](this,t),Circle:()=>{const r=e;return Intersect[r(359)](this,t[r(325)]())},Rectangle:()=>Intersect.multiPointIntersectPolygon2D(this,t.toPolygon()),Polygon:()=>Intersect[e(359)](this,t),MultiPolygon:()=>Intersect[e(332)](this,t),Collection:()=>t[e(331)](this)}[t.getType()]()}[z(309)](){return!1}[z(307)](){}[z(328)](t,e,r){const i=z;if(!Number[i(329)](t)||!Number[i(329)](e)||!Number[i(329)](r))throw new Error("parameter must be number!");const n=this[i(324)][i(300)];for(let s=0;s<n;s++)this._points[s][i(328)](t,e,r);return this[i(340)]=!0,this}rotate(t,e,r){const i=z,n=this[i(324)][i(300)];for(let i=0;i<n;i++)this._points[i].rotate(t,e,r);return this[i(340)]=!0,this}[z(351)](t,e,r,i){const n=z;!i&&(i=this[n(301)]()[n(362)]());const s=this[n(324)].length;for(let o=0;o<s;o++)this[n(324)][o][n(351)](t,e,r,i);this._pointsChanged=!0}[z(348)](t){return this}[z(342)](t,e){const r=z;for(let i=0,n=this[r(324)][r(300)];i<n;i++)this[r(324)][i][r(342)](t,e);return this[r(340)]=!0,this}destroy(){super.destroy()}[z(358)](){const t=z;return this[t(340)]&&(this[t(333)]=this[t(316)](),this[t(340)]=!1),this[t(333)]}[z(316)](){const t=z;let e=this[t(324)][t(300)];if(0===e)return new BBox(0,0,0,0,0,0);let r=this[t(324)][0][t(314)](),i=r[t(330)]("X"),n=r.getOrdinate("X"),s=r[t(330)]("Y"),o=r[t(330)]("Y"),a=r[t(330)]("Z"),h=r[t(330)]("Z");for(let l=1;l<e;l++){r=this[t(324)][l][t(314)]();let e=r.getOrdinate("X"),c=r[t(330)]("Y"),u=r[t(330)]("Z");i=Math[t(335)](i,e),n=Math[t(350)](n,e),o=Math[t(335)](o,c),s=Math[t(350)](s,c),a=Math[t(350)](a,u),h=Math[t(335)](h,u)}return new BBox(i,o,h,n,s,a)}intersectRay(t,e,r){const i=z;let n=Number[i(302)],s=null;for(let o=0,a=this[i(324)][i(300)];o<a;o++){let a=Intersect3D[i(338)](this[i(324)][o][i(314)](),t._line[i(320)]()[0].getCoordinate(),t._line.getVertices()[1].getCoordinate(),r);if(a&&a[i(317)]<e){let e=t[i(361)](a[i(334)]);e<n&&(n=e,s=a[i(334)])}}return Number[i(329)](n)?{intersectCoordinate:s,distance:n}:null}[z(337)](t){return Polygon.fromExtent(t).intersectsGeometry(this)}}const a$t=["_id","415212yjcnKz","1201217NBxHBf","translate","1VfXOZZ","rotate","167483isoMRv","225ptUwew","_sourceMatrix","matrix.translate must be an Array!","reduce","1359338bVfxXR","722097IJLDUi","_modelData","scale","matrix.rotate must be an Array!","2327dpfbCs","_resetOrigin","155AhRaYz","matrix.scale must be an Array!","getMid","isFinite","getModelMatrix","1291rtNexr","modelMatrix"],m=b$t;function b$t(t,e){return a$t[t-=190]}!function(t,e){const r=b$t;for(;;)try{if(742399===parseInt(r(193))+-parseInt(r(204))+-parseInt(r(194))+-parseInt(r(196))*-parseInt(r(203))+-parseInt(r(208))*-parseInt(r(199))+parseInt(r(198))+-parseInt(r(190))*-parseInt(r(210)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$t);class Model{constructor(){const t=b$t;if(new.target===Model)throw new TypeError("the Model is an abstract class,and can not be instanced!");this[t(205)]={},this[t(191)]=new Matrix4,this[t(209)]=!1,this[t(192)]=Aid.createUnique(this.constructor.name),this[t(200)]={scale:[1,1,1],rotate:[0,0,0],translate:[0,0,0]}}[m(212)](){return this[m(192)]}resetOrigin(){this[m(209)]=!0}modelToWorld(t){const e=m,r=t.translate?t[e(195)]:[0,0,0],i=t[e(197)]?t[e(197)]:[0,0,0],n=t.scale?t[e(206)]:[1,1,1];if(!Number[e(213)](r[e(202)](((t,e)=>t+e))))throw new Error(e(201));if(!Number[e(213)](i[e(202)](((t,e)=>t+e))))throw new Error(e(207));if(!Number[e(213)](n[e(202)](((t,e)=>t+e))))throw new Error(e(211));this[e(200)]=t,this.modelMatrix=(new Matrix4)[e(195)](r[0],r[1],r[2])[e(197)](i[0],1,0,0)[e(197)](i[1],0,1,0)[e(197)](i[2],0,0,1)[e(206)](n[0],n[1],n[2])}[m(214)](){return this[m(191)]}}var a$s=["3uPxwnZ","composeFromArray","863wGghMD","position","93946UOCsqL","2nOyTFd","41347xdHyrC","203162AMVvlR","929YYmFTd","19tDgZNE","fromJSON","9fdgTHX","151uTaVZV","length","680595yVIkRH","674FLDZzE","getMatrix","rotation","matrix","scale","14492FCxxji"];function b$s(t,e){return a$s[t-=393]}var k$1=b$s;!function(t,e){for(var r=b$s;;)try{if(518206===parseInt(r(404))*parseInt(r(397))+parseInt(r(407))+parseInt(r(408))*-parseInt(r(401))+-parseInt(r(402))*-parseInt(r(413))+-parseInt(r(393))*parseInt(r(400))+-parseInt(r(399))*-parseInt(r(398))+-parseInt(r(405))*parseInt(r(395)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$s);class TRS{constructor(t=[0,0,0],e=[0,0,0,1],r=[1,1,1],i=[]){var n=b$s;this[n(396)]=t,this[n(410)]=e,this[n(412)]=r,this[n(411)]=i}toJSON(){var t=b$s;return{position:this[t(396)],rotation:this.rotation,scale:this[t(412)],matrix:this[t(411)]}}[k$1(403)](t){var e=k$1;return new constructor(t[e(396)],t[e(410)],t.scale,t[e(411)])}[k$1(409)](t){var e=k$1;return 16===this[e(411)][e(406)]?new Matrix4(new Float32Array(this[e(411)])):(t=t||new Matrix4)[e(394)](this.position,this[e(410)],this[e(412)])}}var a$r=["getPrimitives","1deBUzp","1DuGAfk","toJSON","1GKMVXM","579947bfuXos","581DtjyDO","1756480uISaWk","1aYCaia","199gIuQoq","798607YygsUI","1599069mKRGkk","3114058lXbeYQ","primitives","1181lKHthE","1459FSmNne","mesh"];function b$r(t,e){return a$r[t-=264]}var h=b$r;!function(t,e){for(var r=b$r;;)try{if(899289===parseInt(r(269))*parseInt(r(272))+parseInt(r(268))*parseInt(r(275))-parseInt(r(271))+-parseInt(r(278))*parseInt(r(279))+-parseInt(r(270))*parseInt(r(273))+parseInt(r(266))*-parseInt(r(274))+parseInt(r(265))*parseInt(r(276)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$r);class MeshRender{constructor(t){this.mesh=t}[h(264)](){var t=h;return this[t(280)][t(277)]}[h(267)](){return{mesh:this[h(280)]}}}const a$q=["PNG","_readJPG","1933FuZgkt","IMAGE_HEAD_SIGS","158vZkgwL","slice","getMineType","_readBMP","105593McbElg","2251ehaHuQ","GIF","image/png","2COQzzw","17564ektTtB","setBytes","image/jpeg","_readPNG","BMP","_readUint32LE","_readGIF","40yMiNlS","265507DnVvoV","length","JPG","123835nzNEHB","_readUint32BE","_readUint16BE","image/bmp","55856bBuKVQ","_bytes","2Sxpdci","toString","3WkfNVU","_readUint16LE"],w=b$q;function b$q(t,e){return a$q[t-=389]}!function(t,e){const r=b$q;for(;;)try{if(191286===-parseInt(r(408))+parseInt(r(403))*parseInt(r(391))+parseInt(r(416))+-parseInt(r(415))*parseInt(r(404))+parseInt(r(399))*parseInt(r(397))+parseInt(r(389))*-parseInt(r(407))+-parseInt(r(419))*parseInt(r(393)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$q);class ImageUtil{constructor(t){const e=b$q;this[e(390)]=t||[],this[e(398)]={GIF:[71,73,70],PNG:[137,80,78,71,13,10,26,10],JPG:[255,216],BMP:[66,77]}}getBytes(){return this._bytes}[w(409)](t){this[w(390)]=t}[w(420)](t,e){var r=new Uint32Array(1);return r[0]=(255&t[e+0])<<24,r[0]=r[0]|(255&t[e+1])<<16,r[0]=r[0]|(255&t[e+2])<<8,r[0]=r[0]|255&t[e+3],r[0]}[w(421)](t,e){var r=new Uint32Array(1);return r[0]=(255&t[e+0])<<8,r[0]=r[0]|255&t[e+1],r[0]}[w(413)](t,e){var r=new Uint32Array(1);return r[0]=(255&t[e+3])<<24,r[0]=r[0]|(255&t[e+2])<<16,r[0]=r[0]|(255&t[e+1])<<8,r[0]=r[0]|255&t[e+0],r[0]}[w(394)](t,e){var r=new Uint32Array(1);return r[0]=(255&t[e+1])<<8,r[0]=r[0]|255&t[e+0],r[0]}[w(411)](t){const e=w;if(t[e(400)](0,8)[e(392)]()===this[e(398)][e(395)][e(392)]()){return{width:this[e(420)](t,16),height:this[e(420)](t,20)}}}[w(396)](t){const e=w;for(let r=0;r<t[e(417)];r++)if(255===t[r])switch(t[r+1]){case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:return{width:this._readUint16BE(t,r+7),height:this[e(421)](t,r+5)}}}[w(414)](t){const e=w;return{width:this[e(394)](t,6),height:this[e(394)](t,8)}}[w(402)](t){const e=w;let r=this[e(394)](t,22);return{width:this[e(394)](t,18),height:r}}[w(401)](){const t=w;return this[t(390)][t(400)](0,8)[t(392)]()===this[t(398)][t(395)].toString()?t(406):this[t(390)][t(400)](0,2).toString()===this[t(398)][t(418)][t(392)]()?t(410):this._bytes.slice(0,3)[t(392)]()===this[t(398)].GIF[t(392)]()?"image/gif":this._bytes[t(400)](0,2)[t(392)]()===this[t(398)][t(412)][t(392)]()?t(422):""}getImgWidthHeight(){const t=w;return this[t(390)].slice(0,8).toString()===this[t(398)][t(395)][t(392)]()?this[t(411)](this._bytes):this[t(390)][t(400)](0,2)[t(392)]()===this[t(398)].JPG[t(392)]()?this[t(396)](this[t(390)]):this[t(390)][t(400)](0,3).toString()===this[t(398)][t(405)][t(392)]()?this[t(414)](this[t(390)]):this[t(390)][t(400)](0,2)[t(392)]()===this[t(398)].BMP[t(392)]()?this[t(402)](this[t(390)]):{width:0,height:0}}}const a$p=["778507WasPyY","destroy","boolean","bufferView","gltf","getHighlight","texture","3dtile0627","entries","max","setHighlight","setParent","slice","57etTsWt","forEach","resetOrigin","the parameter should be boolean type.","u_diffuse","map","center","_loadGLTF","attribs","isTex","accessors","_id","_getMaterial","glb","indices","_loadBinaryGLTF","root","version","_elements","offHover","_addChildren","setTranslate","count","name","RGBFormat","RGBAFormat","bufferInfo","16911SCxGPP","mouseOutHandler","setScale","index"," is not supported!","modelMatrix","getMatrix","materials","getAccessorAndBuffer","toString","fromJSON","clickHandler","asset","buffers","rotate","993018IvLqez","length","arraybuffer","glTF version ","KHR_techniques_webgl","push","modelPosition","baseColorFactor","substr","_mode","_parseNodes","parse3DtileGltf","min","2UFCbyo","_sRMatrix","header","_sourceMatrix","arrayBuffer","_resetOrigin","3dtile","decodeText","colorTexture","blob","toJSON","textures","mouseOverHandler","componentType","1pMgbwm","byteLength","source","drawables","byteOffset","setBytes","elementType","get","there was no binary data in glTF!","setPosition","_loadJSON","105306cAdPUw","onHover","bufferViews","getElements","buffer","  is not supported!","_parseMeshes","_calculateCenter","findNodeByName","toLowerCase","512321pxtDPY","stride","mimeType","material","all","_baseURL","cannot parse this type!","a_position","_loadImages","scenes","getPromiseGLTF","getImgWidthHeight","_loadTexture","translate","60661RfgcfL","type","then","nodes","scale","meshes","isLoad","_modelData","_parseScenes","numElements","parseModeFromUrl","multiplyVector3","json","images","_loadBuffer","_loadFile","data","u_tex","512273JmAQaZ","_selected","getUint32","uri","baseColorTexture","samplerObj","u_diffuseTex","setRotate","href","offClick","colorFactor"],I=b$p;function b$p(t,e){return a$p[t-=307]}!function(t,e){const r=b$p;for(;;)try{if(536277===parseInt(r(427))+parseInt(r(385))*-parseInt(r(360))+parseInt(r(374))*parseInt(r(438))+-parseInt(r(409))+-parseInt(r(332))*parseInt(r(451))+parseInt(r(347))+-parseInt(r(395)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$p);class GLTF extends Model{constructor(t){const e=b$p;if(super(),this._id=Aid.createUnique(this.constructor[e(328)]),!t)throw new Error("url must need!");t===e(445)?this[e(356)]=e(366):this[e(419)](t),this[e(353)]=[0,0,0],this[e(361)]=new Matrix4,this._selected=!1,this[e(416)]=void 0}[I(370)](){const t=I;return{_id:this[t(316)],_selected:this[t(428)],_sRMatrix:this._sRMatrix[t(388)](),_modelData:null,modelPosition:this[t(353)],gltf:{_id:this[t(442)][t(316)],center:this.gltf[t(311)],images:this[t(442)][t(422)],meshes:this[t(442)][t(414)],nodes:function(e){const r=t;let i=[];for(let t=0;t<e.length;t++)i[r(352)](e[t][r(370)]());return i}(this[t(442)][t(412)]),scenes:function(e){const r=t;let i=[];for(let t=0;t<e[r(348)];t++)i[r(352)]({name:e[t][r(328)],nodes:e[t][r(412)],root:e[t][r(321)][r(370)]()});return i}(this[t(442)][t(404)])}}}[I(342)](t){const e=I;this[e(316)]=t._id,this[e(361)]=new Matrix4(t._sRMatrix),this[e(428)]=t._selected,this.modelPosition=t.modelPosition,this[e(416)]=null;const r=function(t){const r=e;let i=[];for(let e=0;e<t[r(348)];e++){const n=new Node(t[e][r(321)][r(376)],t[e][r(321)][r(328)]);n[r(342)](t[e][r(321)]),i.push({name:t[e].name,nodes:t[e][r(412)],root:n})}return i}(t[e(442)][e(404)]);function i(t,r){const i=e;for(let e=0;e<r[i(348)];e++){let n=r[e][i(321)][i(393)](t);if(n)return n}return null}return this[e(442)]={_id:t[e(442)][e(316)],center:t[e(442)][e(311)],images:t[e(442)].images,meshes:t[e(442)][e(414)],scenes:r,nodes:function(t){const n=e;let s=[];for(let e=0;e<t[n(348)];e++){const o=i(t[e][n(328)],r);o&&s[n(352)](o)}return s}(t[e(442)][e(412)])},this}static[I(340)](t,e){const r=I,i=t[r(315)][e],n=t[r(387)][i[r(441)]];if(!n[r(425)]){const e=t[r(345)][n[r(389)]]||t[r(345)];n[r(425)]=new Uint8Array(e,n[r(378)],n[r(375)])}return{accessor:i,buffer:n,stride:n[r(396)]||0}}onClick(t){this[I(343)]=t}[I(436)](){this[I(343)]=null}[I(386)](t,e){const r=I;this.mouseOverHandler=t,this[r(333)]=e}[I(324)](){const t=I;this[t(372)]=null,this[t(333)]=null}static accessorTypeToNumCompenents(t){return accessorTypeToNumComponentsMap[t]||null}static[I(367)](t){let e="";for(let r=0,i=t[I(348)];r<i;r++)e+=String.fromCharCode(t[r]);return decodeURIComponent(decodeURI(e))}[I(383)](t,e,r){const i=I;this[i(363)].translate=[t,e,r];let n=this.modelMatrix[i(323)];return n[12]=t,n[13]=e,n[14]=r,this[i(353)][0]=t,this.modelPosition[1]=e,this.modelPosition[2]=r,this}[I(326)](t,e,r){const i=I;return this[i(363)][i(408)][0]+=t,this[i(363)][i(408)][1]+=e,this[i(363)][i(408)][2]+=r,this.modelMatrix.translate(t,e,r),this[i(353)][0]+=t,this[i(353)][1]+=e,this.modelPosition[2]+=r,this}[I(434)](t,e,r){const i=I;return this._sourceMatrix.rotate=[t,e,r],this[i(337)][i(346)](t,1,0,0),this[i(337)][i(346)](e,0,1,0),this.modelMatrix[i(346)](r,0,0,1),this[i(361)][i(346)](t,1,0,0)[i(346)](e,0,1,0)[i(346)](r,0,0,1),this}[I(334)](t,e,r){const i=I;return this[i(363)][i(413)]=[t,e,r],this[i(337)][i(413)](t,e,r),this._sRMatrix[i(413)](t,e,r),this}[I(443)](){return this[I(428)]}[I(448)](t){const e=I,r=this[e(442)];if(typeof t!==e(440))throw new TypeError(e(308));{this._selected=t;let i=this._modelData;if(i){let r=i[e(412)];r&&r[e(452)](((e,r)=>{e._selected=t}))}else r[e(411)]((function(){const r=e;let n=i[r(412)];n&&n[r(452)](((e,i)=>{e[r(428)]=t}))}))}}[I(439)](){const t=I;for(let e in this[t(442)])delete this.gltf[e];for(let t in this)delete this[t]}[I(405)](){return this[I(442)]}[I(419)](t){const e=I,r=t.lastIndexOf("."),i=t[e(355)](r+1);if(i===e(442))this._mode="gltf",this[e(442)]=this[e(312)](t);else{if(i!==e(318))throw this._mode=null,new Error(e(401));this._mode=e(318),this[e(442)]=this[e(320)](t)}const n=this;this[e(442)]&&this[e(442)][e(411)]((function(t){n[e(416)]=t}))}async[I(312)](t){const e=I,r=await this[e(384)](t);if(void 0===!r.asset||2!=r[e(344)][e(322)][0])throw new Error(e(350)+r.asset[e(322)][0]+e(336));return this[e(400)]=new URL(t,location[e(435)]),await this[e(423)](r),await this._loadImages(r),this[e(391)](r),this[e(357)](r),this[e(417)](r),r[e(316)]=this._id,r}async[I(384)](t){const e=I;return await this[e(424)](t,e(421))}async[I(424)](t,e){const r=await fetch(t);return await r[e]()}async _loadBinary(t){const e=I;return this[e(424)](t,e(364))}async[I(423)](t){const e=I;t[e(345)]=t[e(345)]||[],t.buffers=await Promise[e(399)](t[e(345)][e(310)]((t=>{const r=e,i=new URL(t[r(430)],this[r(400)][r(435)]);return this._loadBinary(i[r(435)])})))}[I(391)](t){const e=I,r=t[e(414)]||[];for(let i=0,n=r[e(348)];i<n;i++){const n=r[i].primitives;for(let r=0,i=n[e(348)];r<i;r++){const i=n[r],s={};let o;for(const[r,n]of Object[e(446)](i.attributes)){const{accessor:i,buffer:a,stride:h}=GLTF[e(340)](t,n);o=i[e(327)],s["a_"+r[e(394)]()]={buffer:a,type:i[e(373)],numComponents:GLTF.accessorTypeToNumCompenents(i[e(410)]),stride:h,offset:i[e(378)]||0,min:i[e(359)],max:i[e(447)]}}const a={attribs:s,numElements:o};if(void 0!==i[e(319)]){const{accessor:r,buffer:n}=GLTF[e(340)](t,i[e(319)]);a[e(418)]=r[e(327)],a[e(319)]=n,a[e(380)]=r[e(373)],a.byteOffset=r[e(378)]||0}i[e(331)]=a,i[e(398)]=this[e(317)](t,i[e(398)])}}}[I(317)](t,e){const r=I;if(!t.materials||!t[r(339)][e])return defaultMaterial;let i={colorFactor:[.5,.8,1,1],isTex:!1},n={};if(this[r(356)]!==r(366)){const{name:s,pbrMetallicRoughness:o,normalTexture:a,occlusionTexture:h,emssiveTexture:l}=t[r(339)][e];if(o){i[r(437)]=o[r(354)]||[1,1,1,1];const e=o[r(431)];i.isTex=!1,e&&(e[r(444)]=this[r(407)](t,e[r(335)]),n[r(368)]=e,i[r(371)]=n,i[r(314)]=!0)}}else{const{extensions:s,pbrMetallicRoughness:o}=t[r(339)][e];if(o){i[r(437)]=o.baseColorFactor||[1,1,1,1],i[r(314)]=!1;const e=o[r(431)];e&&(e.texture=this[r(407)](t,e[r(335)]),n[r(368)]=e,i[r(371)]=n,i[r(314)]=!0)}else if(s){const e=s[r(351)],{techniques:o,values:a}=e;i.colorFactor=a[r(309)]||[1,1,1,1],i[r(314)]=!1;const h=a[r(433)]||a[r(426)];h&&null!=h[r(335)]&&(h[r(444)]=this[r(407)](t,h.index),n.colorTexture=h,i[r(371)]=n,i.isTex=!0)}}return i}_loadTexture(t,e){const r=I,i=t[r(371)][e];return i&&!i[r(432)]&&(i[r(432)]={}),i}async[I(403)](t){const e=I;let r=new ImageUtil;t[e(422)]=t[e(422)]||[],t.images=t[e(422)].map((e=>{const{name:i,uri:n,bufferView:s}=e;return e.isLoad=!1,new Promise(((i,o)=>{const a=b$p;if(void 0!==s&&void 0!==e[a(397)]){const n=t[a(387)][s];if(!n[a(425)]){const s=t[a(345)][n.buffer]||t.buffers;n[a(425)]=new Uint8Array(s,n[a(378)],n.byteLength);const h=e.mimeType;e.blob=new Blob([n.data],{type:h}),r.setBytes(n[a(425)]);const{width:l,height:c}=r[a(406)]();createImageBitmap(e[a(369)],0,0,l,c)[a(411)]((t=>{e.isLoad=!0,i(t),o(null)}))}}else if(n){let t=new URL(n,this[a(400)][a(435)]);fetch(t[a(341)](),{method:a(381),responseType:a(349)})[a(411)]((t=>t[a(364)]()))[a(411)]((t=>{const n=a;if(t){let s=new Uint8Array(t);r[n(379)](s);const a=r.getMineType(),{width:h,height:l}=r.getImgWidthHeight();e.blob=new Blob([s],{type:a}),createImageBitmap(e.blob,0,0,h,l)[n(411)]((t=>{e[n(415)]=!0,i(t),o(null)}))}}))}}))}));const i=[];for(let r=0;r<t.images[e(348)];r++)i[e(352)](await t[e(422)][r]);t[e(422)]=i}[I(357)](t){const e=I;t.nodes=t.nodes||[];const r=t[e(412)];t[e(412)]=t.nodes.map((r=>{const i=e,{name:n,skin:s,mesh:o,translation:a,rotation:h,scale:l,matrix:c}=r,u=new TRS(a,h,l,c),p=new Node(u,n);p[i(321)]=this;const f=t[i(414)][o];return f&&p[i(377)][i(352)](new MeshRender(f)),p})),t[e(412)].forEach(((i,n)=>{const s=e,o=r[n].children;o&&this[s(325)](t[s(412)],i,o)})),t[e(311)]=this[e(392)](t)}[I(307)](){this[I(365)]=!0}[I(392)](t){const e=I,r=[],i=[];t[e(412)][e(452)]((t=>{const n=e,s=t[n(377)],o=s[n(348)];for(let e=0;e<o;e++){const o=s[e].getPrimitives(),a=o[n(348)];for(let e=0;e<a;e++){const s=o[e],a=s[n(331)].attribs.a_position[n(359)],h=s[n(331)][n(313)][n(402)].max;r[n(352)](t[n(376)][n(338)]()[n(420)](new Vector3(...a)).getElements()),i.push(t[n(376)].getMatrix()[n(420)](new Vector3(...h))[n(388)]())}}}));let n=r[0][0],s=r[0][1],o=r[0][2],a=i[0][0],h=i[0][0],l=i[0][0];r[e(452)]((t=>{n>t[0]&&(n=t[0]),s>t[1]&&(s=t[1]),o>t[2]&&(o=t[2])})),i[e(452)]((t=>{a<t[0]&&(a=t[0]),h<t[1]&&(h=t[1]),l<t[2]&&(l=t[2])}));return this[e(365)]?[(n+a)/2,(s+h)/2,(o+l)/2]:[0,0,0]}[I(417)](t){const e=I;t[e(404)]=t.scenes||[];for(const r of t[e(404)])r[e(321)]=new Node(new TRS,r.name),this._addChildren(t[e(412)],r[e(321)],r[e(412)])}[I(325)](t,e,r){const i=I;r[i(452)]((r=>{const n=i;t[r][n(449)](e)}))}async[I(320)](t){const e=I,r=await this[e(424)](t,e(364));return this[e(400)]=new URL(t,location[e(435)]),this._parseBinaryGLTF(r)}async _parseBinaryGLTF(t){const e=I;let r={};const i=GLTF.decodeText(new Uint8Array(t[e(450)](0,4))),n=new DataView(t,0,12);if(r[e(362)]={magic:i,version:n.getUint32(4,!0),length:n[e(429)](8,!0)},2!=r.header[e(322)])throw new Error(e(350)+r.header[e(322)]+e(390));const s=new DataView(t,12);let o=0;for(;o<s[e(375)];){const i=s[e(429)](o,!0);o+=4;const n=s.getUint32(o,!0);if(o+=4,1313821514===n)r[e(421)]=GLTF[e(367)](new Uint8Array(t,12+o,i));else if(5130562===n){const n=12+o;r[e(345)]=t[e(450)](n,n+i)}o+=i}let a=JSON.parse(r.json);if(a.buffers=r[e(345)],!r[e(345)])throw new Error(e(382));return await this._loadImages(a),this[e(391)](a),this[e(357)](a),this._parseScenes(a),a._id=this[e(316)],a}[I(358)](t){const e=I;return this._loadImages(t),this[e(391)](t),this[e(357)](t),this._parseScenes(t),t._id=this[e(316)],this[e(442)]=t,t}parse3DTileGltf2(t,e,r=null){}}let accessorTypeToNumComponentsMap={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},glTypeToTypedArrayMap={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5124:Int32Array,5125:Uint32Array,5126:Float32Array},imageMimeTypeMap={"image/png":I(330),"image/jpeg":I(329)},defaultMaterial={colorFactor:[.5,.8,1,1],isTex:!1};const a$o=["966373jImhuR","_calcTransformDirection","1078732jYYSME","distanceToCamera","end","getFloat32","numElements","name","BYTES_PER_ELEMENT","setInverseOf","traverse","1ubCZoe","findNodeByName","getHighlight","_removeChild","byteLength","updateWorldMatrix","children","origin","boolean","direction","source","POSITIVE_INFINITY","_elements","indexof","position","multiplyVector3","localMatrix","5iyAfIF","mesh","_selected","splice","getUint8Array","the parameter should be boolean type.","multiply","getMatrix","403873gaazbV","_modelCenter","clone","getUint16","attribs","offset","toJSON","getElements","push","_addChild","setParent","worldMatrix","set","rotation","indices","3936590bZFYnE","1284971KmDOeM","getFloat32Array","buffer","matrix","a_position","type","parent","_json","687566tlmLNu","data","160649ODKAXJ","substract","setHighlight","drawables","byteOffset","length","keys"],O=b$o;function b$o(t,e){return a$o[t-=248]}!function(t,e){const r=b$o;for(;;)try{if(644576===parseInt(r(269))+-parseInt(r(252))+-parseInt(r(305))+parseInt(r(262))*-parseInt(r(297))+parseInt(r(280))*-parseInt(r(271))+-parseInt(r(260))+parseInt(r(251)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$o);class Node{constructor(t,e){const r=b$o;this[r(276)]=e,this.source=t,this[r(258)]=null,this[r(286)]=[],this[r(296)]=new Matrix4,this.worldMatrix=new Matrix4,this[r(265)]=[],this._selected=!1}[O(311)](){const t=O;return!this._json&&(this._json={name:this.name,source:this[t(290)][t(311)](),children:function(e){const r=t;let i=[];for(let t=0;t<e[r(267)];t++)i[r(313)](e[t].toJSON());return i}(this[t(286)]),localMatrix:this[t(296)][t(312)](),worldMatrix:this.worldMatrix[t(312)](),drawables:function(e){const r=t;let i=[];for(let t=0;t<e.length;t++)i[r(313)](e[t][r(311)]());return i}(this[t(265)]),_selected:this._selected}),this[t(259)]}fromJSON(t){const e=O;this[e(276)]=t[e(276)],this._selected=t[e(299)],this[e(290)]=new TRS(t[e(294)],t[e(249)],t.scale,t[e(255)]),this[e(296)]=new Matrix4(t[e(296)]),this[e(316)]=new Matrix4(t.worldMatrix),this[e(286)]=function(t,r){const i=e;let n=[];for(let e=0;e<t.length;e++){const s=new Node(t[e][i(290)],t[e][i(276)]);s.fromJSON(t[e]),s[i(315)](r),n.push(s)}return n}(t[e(286)],this),this[e(265)]=function(t){const r=e;let i=[];for(let e=0;e<t[r(267)];e++){const n=new MeshRender(t[e][r(298)]);i[r(313)](n)}return i}(t[e(265)]),this[e(306)]=[0,0,0]}[O(281)](t){const e=O;for(let r=0;r<this[e(286)][e(267)];r++){if(this[e(286)][r].name===t)return this[e(286)][r];const i=this[e(286)][r][e(281)](t);if(i)return i}return null}[O(282)](){return this[O(299)]}[O(264)](t){const e=O;if(typeof t!==e(288))throw new TypeError(e(302));this[e(299)]=t}setParent(t){const e=O;this.parent&&(this[e(258)]._removeChild(this),this.parent=null),t&&(t._addChild(this),this.parent=t)}updateWorldMatrix(t){const e=O,r=this[e(290)];r&&(this[e(296)]=r[e(304)](this[e(296)])),this[e(316)]=t?t[e(307)]()[e(303)](this[e(296)]):this[e(296)][e(307)]();const i=this[e(316)];for(let t of this[e(286)])t[e(285)](i)}[O(279)](t){const e=O;t(this);for(const r of this.children)r[e(279)](t)}[O(314)](t){const e=O;this[e(286)][e(313)](t)}[O(283)](t){const e=O,r=this[e(286)][e(293)](t);this[e(286)][e(300)](r,1)}resetMatrixSource(t=[0,0,0],e=[0,0,0,1],r=[1,1,1]){this.source=new TRS([t[0],t[2],t[1]],[e[0],e[2],e[1],e[3]],[r[0],r[2],r[1]])}intersectRay(t){const e=O;let r=[],i=new Matrix4;i.multiply(this[e(316)]);let n=new Matrix4;n[e(278)](i);const s=t.clone();s.origin=n[e(295)](s[e(287)]),s[e(273)]=n[e(295)](s[e(273)]),s[e(289)]=s.end[e(263)](s.origin),s[e(270)]();const o=this.drawables[0].getPrimitives();let a=[],h=[],l=new Vector3,c=new Vector3,u=new Vector3;for(let t=0,i=o.length;t<i;t++){const i=o[t].bufferInfo;h=this[e(253)](i[e(309)][e(256)]),a=i.indices?this[e(301)](i.elementType,i[e(250)],i[e(275)],i[e(266)]):[...new Array(h[e(267)]/3)[e(268)]()];let n=[];for(let t=0,i=a.length-2;t<i;t+=3){let i=3*a[t];l.set(h[i],h[i+1],h[i+2]),i=3*a[t+1],c[e(248)](h[i],h[i+1],h[i+2]),i=3*a[t+2],u.set(h[i],h[i+1],h[i+2]),n=[l,c,u];let o=Intersect3D.rayIntersectTriangle(s,n);o&&r.push(o)}}if(a[e(267)]=0,h.length=0,r[e(267)]>0){let n=Number[e(291)],s=null;for(let o=0,a=r[e(267)];o<a;o++){const a=r[o];let h=i[e(295)](new Vector3(a._x,a._y,a._z)),l=new Coordinate(h[e(292)][0],h._elements[1],h[e(292)][2]),c=t[e(272)](l);c<n&&(n=c,s=l)}return{distanceToCamera:n,intersectCoordinate:s}}return null}getUint8Array(t,e,r,i=0){const n=O,s=glTypeToTypedArrayMap[t][n(277)],o=[],a=r*s+i,h=new DataView(e.data[n(254)],e.byteOffset,e[n(284)]);if(2===s)for(;i<a;)o[n(313)](h[n(308)](i,!0)),i+=s;else if(4===s)for(;i<a;)o[n(313)](h.getUint32(i,!0)),i+=s;return o}getFloat32Array(t){const e=O,r=glTypeToTypedArrayMap[t[e(257)]][e(277)],i=[],n=new DataView(t[e(254)][e(261)][e(254)],t.buffer[e(266)],t[e(254)][e(284)]);let s=t[e(310)];for(;s<n[e(284)];)i[e(313)](n[e(274)](s,!0)),s+=r,i.push(n[e(274)](s,!0)),s+=r,i.push(n[e(274)](s,!0)),s+=r;return i}}const a$n=["invalid inflate mode","BLOCK","readBits","parseBlock","charCodeAt","DistExtraTable","POSITIVE_INFINITY","decodeHuffman","Order","8PkKxMs","string","buildHuffmanTable","BufferTypeConst","expandBuffer","parseDynamicHuffmanBlock","bitsbuf","decodeHuffmanAdaptive","1yqdhZg","ADAPTIVE","addRatio","DistCodeTable","bitsbuflen","332WoYBEE","undefined","push","checkTypArray","concatBuffer","blocks","invalid uncompressed block header: length verify","FixedLiteralLengthTable","verify","78856djrBSK","slice","FixedDistanceTable","parseUncompressedBlock","LengthExtraTable","6867bPxbZA","expandBufferAdaptive","set","invalid adler-32 checksum","MaxBackwardLength","parseFixedHuffmanBlock","decompress","LengthCodeTable","input","USE_TYPEDARRAY","checkAdler32","1582TkwcvH","invalid uncompressed block header: NLEN","totalpos","input buffer is broken","length","currentLitlenTable","resize","BufferType","subarray","rawinflate","464838znyFRs","concatBufferDynamic","bfinal","readCodeByTable","296593vrrzXy","method","bufferSize","output","number","314xllpqb","invalid fcheck flag:","index","buffer","MaxCopyLength","196832sfzfdw","fixRatio","bufferType"],x=b$n;!function(t,e){const r=b$n;for(;;)try{if(187762===parseInt(r(205))*-parseInt(r(150))+-parseInt(r(210))*parseInt(r(180))+parseInt(r(185))+-parseInt(r(175))+-parseInt(r(197))*-parseInt(r(161))+-parseInt(r(145))+parseInt(r(171)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$n);class RawInflate{constructor(t,e){const r=b$n;switch(this[r(183)]=void 0,this[r(200)]={BLOCK:0,ADAPTIVE:1},this[r(154)]=32768,this[r(184)]=258,this[r(141)]=[],this[r(177)]=32768,this[r(163)]=0,this.ip=0,this.bitsbuf=0,this[r(209)]=0,this[r(159)]=this.checkTypArray(),this[r(158)]=this[r(159)]?new Uint8Array(t):t,this[r(178)],this.op,this[r(173)]=!1,this[r(187)]=this[r(200)].ADAPTIVE,this[r(167)]=!1,(e||!(e={}))&&(e[r(182)]&&(this.ip=e[r(182)]),e[r(177)]&&(this[r(177)]=e[r(177)]),e.bufferType&&(this[r(187)]=e[r(187)]),e[r(167)]&&(this[r(167)]=e[r(167)])),this[r(187)]){case this[r(200)][r(189)]:this.op=this[r(154)],this[r(178)]=new(this[r(159)]?Uint8Array:Array)(this[r(154)]+this[r(177)]+this[r(184)]);break;case this[r(200)][r(206)]:this.op=0,this[r(178)]=new(this[r(159)]?Uint8Array:Array)(this[r(177)]),this[r(201)]=this[r(151)],this[r(140)]=this[r(172)],this[r(195)]=this[r(204)];break;default:throw new Error(r(188))}}[x(156)](){const t=x;for(;!this.bfinal;)this[t(191)]();return this.concatBuffer()}Order(){let t=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];return this.USE_TYPEDARRAY?new Uint16Array(t):t}[x(157)](){let t=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];return this[x(159)]?new Uint16Array(t):t}[x(149)](){let t=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];return this[x(159)]?new Uint8Array(t):t}[x(208)](){let t=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];return this[x(159)]?new Uint16Array(t):t}[x(193)](){let t=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];return this.USE_TYPEDARRAY?new Uint8Array(t):t}[x(143)](){const t=x;let e,r,i=new(this[t(159)]?Uint8Array:Array)(288);for(e=0,r=i.length;e<r;++e)i[e]=e<=143?8:e<=255?9:e<=279?7:8;return this[t(199)](i)}FixedDistanceTable(){let t,e,r=new(this.USE_TYPEDARRAY?Uint8Array:Array)(30);for(t=0,e=r.length;t<e;++t)r[t]=5;return this.buildHuffmanTable(r)}[x(191)](){const t=x;let e=this[t(190)](3);switch(1&e&&(this[t(173)]=!0),e>>>=1,e){case 0:this[t(148)]();break;case 1:this[t(155)]();break;case 2:this[t(202)]();break;default:throw new Error("unknown BTYPE: "+e)}}readBits(t){const e=x;let r,i=this[e(203)],n=this.bitsbuflen,s=this[e(158)],o=this.ip,a=s[e(165)];for(;n<t;){if(o>=a)throw new Error(e(164));i|=s[o++]<<n,n+=8}return r=i&(1<<t)-1,i>>>=t,n-=t,this.bitsbuf=i,this[e(209)]=n,this.ip=o,r}readCodeByTable(t){const e=x;let r,i,n=this[e(203)],s=this[e(209)],o=this.input,a=this.ip,h=o.length,l=t[0],c=t[1];for(;s<c&&!(a>=h);)n|=o[a++]<<s,s+=8;if(r=l[n&(1<<c)-1],i=r>>>16,i>s)throw new Error("invalid code length: "+i);return this.bitsbuf=n>>i,this[e(209)]=s-i,this.ip=a,65535&r}[x(148)](){const t=x;let e,r,i,n=this[t(158)],s=this.ip,o=this[t(178)],a=this.op,h=n[t(165)],l=o[t(165)];if(this[t(203)]=0,this[t(209)]=0,s+1>=h)throw new Error("invalid uncompressed block header: LEN");if(e=n[s++]|n[s++]<<8,s+1>=h)throw new Error(t(162));if(r=n[s++]|n[s++]<<8,e===~r)throw new Error(t(142));if(s+e>n[t(165)])throw new Error("input buffer is broken");switch(this[t(187)]){case RawInflate[t(168)][t(189)]:for(;a+e>o[t(165)];){if(i=l-a,e-=i,this[t(159)])o.set(n[t(169)](s,s+i),a),a+=i,s+=i;else for(;i--;)o[a++]=n[s++];this.op=a,o=this.expandBuffer(),a=this.op}break;case RawInflate.BufferType[t(206)]:for(;a+e>o[t(165)];)o=this[t(201)]({fixRatio:2});break;default:throw new Error(t(188))}if(this[t(159)])o[t(152)](n[t(169)](s,s+e),a),a+=e,s+=e;else for(;e--;)o[a++]=n[s++];this.ip=s,this.op=a,this[t(178)]=o}[x(155)](){const t=x;this.decodeHuffman(this[t(143)](),this[t(147)]())}[x(202)](){const t=x;let e,r,i,n,s,o,a,h,l=this[t(190)](5)+257,c=this.readBits(5)+1,u=this.readBits(4)+4,p=this[t(196)](),f=new(this[t(159)]?Uint8Array:Array)(p[t(165)]);for(h=0;h<u;++h)f[p[h]]=this[t(190)](3);if(!this.USE_TYPEDARRAY)for(h=u,u=f[t(165)];h<u;++h)f[p[h]]=0;e=this[t(199)](f),n=new(this[t(159)]?Uint8Array:Array)(l+c);for(let r=0,i=l+c;r<i;)switch(s=this.readCodeByTable(e),s){case 16:for(a=3+this[t(190)](2);a--;)n[r++]=o;break;case 17:for(a=3+this.readBits(3);a--;)n[r++]=0;o=0;break;case 18:for(a=11+this.readBits(7);a--;)n[r++]=0;o=0;break;default:n[r++]=s,o=s}r=this.USE_TYPEDARRAY?this[t(199)](n[t(169)](0,l)):this[t(199)](n[t(146)](0,l)),i=this.USE_TYPEDARRAY?this.buildHuffmanTable(n[t(169)](l)):this[t(199)](n[t(146)](l)),this[t(195)](r,i)}decodeHuffman(t,e){const r=x;let i=this.output,n=this.op;this[r(166)]=t;let s,o,a,h,l=i[r(165)]-this[r(184)];for(;256!==(s=this.readCodeByTable(t));)if(s<256)n>=l&&(this.op=n,i=this[r(201)](),n=this.op),i[n++]=s;else for(o=s-257,h=this[r(157)]()[o],this[r(149)]()[o]>0&&(h+=this[r(190)](this[r(149)]()[o])),s=this[r(174)](e),a=this[r(208)]()[s],this[r(193)]()[s]>0&&(a+=this[r(190)](this[r(193)]()[s])),n>=l&&(this.op=n,i=this[r(201)](),n=this.op);h--;)i[n]=i[n++-a];for(;this[r(209)]>=8;)this.bitsbuflen-=8,this.ip--;this.op=n}[x(204)](t,e){const r=x;let i=this[r(178)],n=this.op;this[r(166)]=t;let s,o,a,h,l=i[r(165)];for(;256!==(s=this[r(174)](t));)if(s<256)n>=l&&(i=this.expandBuffer(),l=i.length),i[n++]=s;else for(o=s-257,h=this.LengthCodeTable()[o],this.LengthExtraTable()[o]>0&&(h+=this.readBits(this[r(149)]()[o])),s=this[r(174)](e),a=this[r(208)]()[s],this[r(193)]()[s]>0&&(a+=this[r(190)](this.DistExtraTable()[s])),n+h>l&&(i=this[r(201)](),l=i[r(165)]);h--;)i[n]=i[n++-a];for(;this.bitsbuflen>=8;)this.bitsbuflen-=8,this.ip--;this.op=n}[x(201)](t){const e=x;let r,i,n=this[e(154)],s=new(this[e(159)]?Uint8Array:Array)(this.op-n),o=this.op-this[e(154)],a=this[e(178)];if(this[e(159)])s[e(152)](a.subarray(n,s[e(165)]));else for(r=0,i=s[e(165)];r<i;++r)s[r]=a[r+n];if(this[e(141)][e(138)](s),this[e(163)]+=s[e(165)],this[e(159)])a.set(a[e(169)](o,o+n));else for(r=0;r<n;++r)a[r]=a[o+r];return this.op=n,a}[x(151)](t){const e=x;let r,i,n,s,o=this[e(158)][e(165)]/this.ip+1|0,a=this[e(158)],h=this[e(178)];return t&&(typeof t[e(186)]===e(179)&&(o=t[e(186)]),typeof t[e(207)]===e(179)&&(o+=t[e(207)])),o<2?(i=(a.length-this.ip)/this[e(166)][2],s=i/2*258|0,n=s<h[e(165)]?h[e(165)]+s:h[e(165)]<<1):n=h[e(165)]*o,this[e(159)]?(r=new Uint8Array(n),r[e(152)](h)):r=h,this[e(178)]=r,this[e(178)]}[x(140)](){const t=x;let e,r=this[t(154)],i=this[t(163)]+(this.op-r),n=this[t(178)],s=this[t(141)],o=new(this.USE_TYPEDARRAY?Uint8Array:Array)(i),a=0;if(0===s[t(165)])return this[t(159)]?this[t(178)][t(169)](r,this.op):this.output[t(146)](r,this.op);for(let r=0,i=s[t(165)];r<i;++r){e=s[r];for(let t=0,r=e.length;t<r;++t)o[a++]=e[t]}for(let t=r,e=this.op;t<e;++t)o[a++]=n[t];return this[t(141)]=[],this.buffer=o,this[t(183)]}concatBufferDynamic(){const t=x;let e,r=this.op;return this.USE_TYPEDARRAY?this[t(167)]?(e=new Uint8Array(r),e[t(152)](this.output[t(169)](0,r))):e=this[t(178)][t(169)](0,r):(this.output[t(165)]>r&&(this[t(178)][t(165)]=r),e=this[t(178)]),this[t(183)]=e,this[t(183)]}[x(199)](t){const e=x;let r,i,n,s,o,a,h,l,c,u,p,f=t[e(165)],g=0,d=Number[e(194)];for(l=0,c=f;l<c;++l)t[l]>g&&(g=t[l]),t[l]<d&&(d=t[l]);for(r=1<<g,i=new(this[e(159)]?Uint32Array:Array)(r),n=1,s=0,o=2;n<=g;){for(l=0;l<f;++l)if(t[l]===n){for(a=0,h=s,u=0;u<n;++u)a=a<<1|1&h,h>>=1;for(p=n<<16|l,u=a;u<r;u+=o)i[u]=p;++s}++n,s<<=1,o<<=1}return[i,g,d]}[x(139)](){const t=x;return typeof Uint8Array!==t(137)&&"undefined"!=typeof Uint16Array&&typeof Uint32Array!==t(137)&&"undefined"!=typeof DataView}}class Inflate{constructor(t,e){const r=x;let i,n;switch(this[r(158)]=t,this.ip=0,this[r(170)],this[r(144)],(e||!(e={}))&&(e[r(182)]&&(this.ip=e[r(182)]),e[r(144)]&&(this[r(144)]=e.verify)),i=t[this.ip++],n=t[this.ip++],15&i){case 8:this[r(176)]=8;break;default:throw new Error("unsupported compression method")}if(((i<<8)+n)%31!=0)throw new Error(r(181)+((i<<8)+n)%31);if(32&n)throw new Error("fdict flag is not supported");this[r(170)]=new RawInflate(t,{index:this.ip,bufferSize:e[r(177)],bufferType:e[r(187)],resize:e[r(167)]})}[x(156)](){const t=x;let e,r,i=this.input;if(e=this[t(170)][t(156)](),this.ip=this.rawinflate.ip,this[t(144)]&&(r=(i[this.ip++]<<24|i[this.ip++]<<16|i[this.ip++]<<8|i[this.ip++])>>>0,r!==this[t(160)](e)))throw new Error(t(153));return e}[x(160)](t){const e=x;if(typeof t===e(198)){let r,i,n=t.split("");for(r=0,i=n.length;r<i;r++)n[r]=(255&n[r][e(192)](0))>>>0;return n}{let e,r=1,i=0,n=t.length,s=0;for(;n>0;){e=n>1024?1024:n,n-=e;do{r+=t[s++],i+=r}while(--e);r%=65521,i%=65521}return(i<<16|r)>>>0}}}function b$n(t,e){return a$n[t-=137]}const a$m=["599732IFhNsJ","getIndexList","objectStoreNames","_indexedDB","put","result","closeDB","7226PdosKw","149SMTUmw","_indexList","readonly","transaction","createIndex","3019283efUDHu","onerror","storeList","1318XiFhZL","fail","getAllData","no objectStore was found for the specified name!","value","test","clearData","add","_storeName","getData","continue","Add failed!","_version","addHeavy","1fCIDUS","258733vXjCgk","clear","496094btrjtM","findData","1093446nNRbFr","Database link opened successfully!","setIndex","updated successfully","keyPath","No corresponding data found","catch","_storeList","contains","indexName","forEach","no objectStore was found for the specified name","_dataBase","_taskManager","_dbName","close","init","version must be a integer greater than 0!","_request","addDataByTask","objectStore","open","target","update failed","Added successfully!","alreadyOpen","_storeParam","delData","tileName","addData","instance","onsuccess","cleared successfully","push","index","841VazHrG","getStoreParam","IndexedDB","get","openCursor","readwrite","Database link opened fail!","getStoreName"],u$1=b$m;!function(t,e){const r=b$m;for(;;)try{if(603042===parseInt(r(463))*parseInt(r(487))-parseInt(r(471))-parseInt(r(502))+parseInt(r(479))*-parseInt(r(478))-parseInt(r(506))-parseInt(r(504))+parseInt(r(501))*parseInt(r(484)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$m);class IndexedDB{constructor(t,e=1,r={}){const i=b$m;if(this[i(474)]=indexedDB||mozIndexedDB||webkitIndexedDB||msIndexedDB,this[i(442)]=t,!/^\d+$/[i(492)](e))throw new Error(i(445));if(this[i(499)]=e,r.storeList&&!(r[i(486)]instanceof Array))throw new Error("options.storeList must be an array of DataStore!");this[i(513)]=r[i(486)]||[],this[i(441)]=TaskManager$1[i(458)](),this.id=i(465),this[i(453)]=!1}[u$1(444)](){const t=u$1;this[t(446)]=this._indexedDB[t(449)](this[t(442)],this[t(499)]);const e=this;return this[t(446)].onupgradeneeded=function(r){const i=t,n=r[i(450)].result;e._storeList[i(438)]((t=>{const e=i;if(!n.objectStoreNames[e(514)](t.getStoreName())){const r=n.createObjectStore(t[e(470)](),t[e(464)]());t[e(472)]().forEach((t=>{const i=e;r[i(483)](t[i(437)],t[i(510)],t.indexParam)}))}}))},new Promise(((e,r)=>{const i=t,n=this;this[i(446)][i(459)]=function(t){const r=i;n._dataBase=t[r(450)][r(476)],n[r(453)]=!0,e({code:1,msg:r(507),res:t.target[r(476)]})},this[i(446)][i(485)]=function(t){r({code:0,msg:i(469),res:t})}}))}closeDB(){const t=u$1;this[t(453)]=!1,this._dataBase[t(443)]()}addObjectStore(t){const e=u$1;this._storeList[e(461)](t),this[e(499)]++,this[e(477)](),this[e(444)]()}[u$1(457)](t,e={},r){const i=u$1;if(!this[i(440)].objectStoreNames.contains(t))throw new Error(i(490));const n=this;return new Promise(((s,o)=>{const a=i,h=n[a(440)][a(482)]([t],a(468))[a(448)](t);let l;l=r?h.add(e,r):h.add(e),l[a(459)]=function(t){e=null,s({code:1,msg:a(452)})},l[a(485)]=function(t){o({code:0,msg:"Add failed",error:{event:t,data:e}})}}))[i(512)]((t=>{throw t}))}[u$1(447)](t,e={},r){const i=u$1;if(!this[i(440)][i(473)][i(514)](t))throw new Error(i(490));const n=this;return new Promise(((s,o)=>{const a=i;n[a(441)][a(500)](n,(function(t){const e=a,{storeName:r,data:i,key:h}=t,l=n[e(440)][e(482)]([r],e(468))[e(448)](r);let c;c=h?l[e(494)](i,h):l[e(494)](i),c[e(459)]=function(t){s({code:1,msg:e(452)})},c.onerror=function(t){o({code:0,msg:e(498),error:{event:t,data:i}})}}),{storeName:t,data:e,key:r,id:e[a(456)]})}))[i(512)]((t=>{throw t}))}[u$1(496)](t,e){const r=u$1;if(!this[r(440)][r(473)][r(514)](t))throw new Error("no objectStore was found for the specified name!");return new Promise(((i,n)=>{const s=r,o=this[s(440)].transaction([t],s(481))[s(448)](t)[s(466)](e);o[s(459)]=function(t){const e=s;t.target[e(476)]?i({code:1,msg:"ok",result:t[e(450)][e(476)]}):i({code:2,result:t.target[e(476)],msg:"No corresponding data found"})},o[s(485)]=function(t){n({code:0,msg:s(488),error:t})}}))}[u$1(505)](t,e,r){const i=u$1;if(!this[i(440)][i(473)][i(514)](t))throw new Error("no objectStore was found for the specified name");return new Promise(((n,s)=>{const o=i,a=this._dataBase[o(482)]([t],o(481)).objectStore(t)[o(462)](e)[o(466)](r);a[o(459)]=function(t){n(t[o(450)].result)},a.onerror=function(t){s({code:0,msg:"query failed",error:t})}}))}[u$1(455)](t,e){const r=u$1;if(!this[r(440)][r(473)][r(514)](t))throw new Error("no objectStore was found for the specified name");return new Promise(((i,n)=>{const s=r,o=this[s(440)][s(482)]([t],s(468))[s(448)](t).delete(e);o[s(459)]=function(t){const e=s;t[e(450)][e(476)]?i({code:1,result:t[e(450)].result,msg:"deleted successfully"}):i({code:2,result:t[e(450)].result,msg:e(511)})},o[s(485)]=function(t){n({code:0,msg:"delete failed",error:t})}}))}[u$1(493)](t){const e=u$1;if(!this[e(440)][e(473)][e(514)](t))throw new Error(e(439));return new Promise(((r,i)=>{const n=e,s=this[n(440)][n(482)]([t],n(468))[n(448)](t)[n(503)]();s[n(459)]=function(t){const e=n;r({code:1,result:t[e(450)][e(476)],msg:e(460)})},s.onerror=function(t){i({code:0,msg:"clear failed",error:t})}}))}updateData(t,e){const r=u$1;if(!this._dataBase.objectStoreNames.contains(t))throw new Error(r(439));return new Promise(((i,n)=>{const s=r,o=this[s(440)][s(482)]([t],"readwrite").objectStore(t)[s(475)](e);o.onsuccess=function(t){const e=s;i({code:1,result:t.target[e(476)],msg:e(509)})},o.onerror=function(t){n({code:0,msg:s(451),error:t})}}))}[u$1(489)](t){const e=u$1;if(!this._dataBase.objectStoreNames[e(514)](t))throw new Error(e(439));const r=[];return new Promise(((i,n)=>{const s=e,o=this[s(440)][s(482)]([t],s(481))[s(448)](t)[s(467)]();o[s(459)]=function(t){const e=s,n=t.target.result;n?(r.push(n[e(491)]),n[e(497)]()):i(r)},o.onerror=function(t){n(t)}}))}}class DataStore{constructor(t,e={keyPath:"id",autoIncrement:!0}){const r=u$1;this[r(495)]=t,this._storeParam=e,this[r(480)]=[]}[u$1(470)](){return this[u$1(495)]}[u$1(464)](){return this[u$1(454)]}getIndexList(){return this._indexList}[u$1(508)](t,e,r){const i=u$1;this[i(480)][i(461)]({indexName:t,keyPath:e,indexParam:r})}}function b$m(t,e){return a$m[t-=437]}const a$l=["bufferName","alreadyOpen","buffers","addData","read","setHVTStoreName","89soGWTq","setIndex","indexParam","hasOwnProperty","38kDQXAO","indexDb","354gdwVyn","tiles","url","504745cxrdML","gjtCache","3dtilesCache","storeList","getData","keyPath","open","20635qBJNyh","initPromise","7417Bliuuk","map","1esUiVu","hvtCache","name","close","14879USWsFS","version","storesName","31DnnRWd","write","1jJnzpy","5ybAuNA","dbName","indexList","3286FQIyJW","111947pskhCN","1109861JqbpFh","forEach","tileName"],k=b$l;!function(t,e){const r=b$l;for(;;)try{if(653347===-parseInt(r(266))*-parseInt(r(262))+-parseInt(r(236))*-parseInt(r(256))+parseInt(r(265))*parseInt(r(238))+-parseInt(r(259))*-parseInt(r(248))+-parseInt(r(232))*parseInt(r(250))+-parseInt(r(252))*parseInt(r(241))+-parseInt(r(261))*parseInt(r(267)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$l);const DbConfig={"3dtilesCache":{version:1,storeList:[{name:"tiles",indexList:[{name:k(225),keyPath:k(225),indexParam:{}}],options:{keyPath:k(225)}}]},s3mCache:{version:1,storeList:[{name:k(239),indexList:[{name:k(225),keyPath:k(225),indexParam:{}}],options:{keyPath:"tileName"}},{name:k(228),indexList:[{name:k(226),keyPath:k(226),indexParam:{}}],options:{keyPath:k(226)}}]},hvtCache:{version:1,storeList:[{name:k(239),indexList:[{name:"url",keyPath:k(240),indexParam:{}}],options:{keyPath:k(240)}}]},hvtbCache:{version:1,storeList:[{name:k(239),indexList:[{name:"url",keyPath:"url",indexParam:{}}],options:{keyPath:k(240)}}]},gjtCache:{version:1,storeList:[{name:k(239),indexList:[{name:"url",keyPath:k(240),indexParam:{}}],options:{keyPath:k(240)}}]}};function b$l(t,e){return a$l[t-=224]}const DbName={TILES_3D:k(243),S3M_BINARY:"s3mCache",HIK_VECT:k(253),HVTB:"hvtbCache",GEOJSONTILE:k(242)};class DbHelper{constructor(t,e){const r=k;if(!e&&!DbConfig[r(235)](t))return;let i=DbConfig[t]||e||{},n=i[r(244)][r(251)]((t=>{const e=r;let i=new DataStore(t[e(254)],t.options);return t[e(264)][e(224)]((t=>{const r=e;i[r(233)](t[r(254)],t[r(246)],t[r(234)])})),i}));this[r(237)]=new IndexedDB(t,i[r(257)],{storeList:n}),this[r(263)]=t,this[r(258)]=i[r(244)][r(251)]((t=>t[r(254)]))}get[k(227)](){const t=k;return!!this.indexDb&&this.indexDb[t(227)]}[k(247)](){const t=k;return!this[t(249)]&&(this[t(249)]=this[t(237)]&&this[t(237)].init()),this.initPromise}[k(255)](){const t=k;this[t(237)]&&this[t(237)].closeDB()}[k(230)](t,e=0){const r=k;return this[r(237)][r(245)](this.storesName[e],t)}[k(260)](t,e=0){const r=k;return this.indexDb[r(229)](this[r(258)][e],t)}[k(231)](){}}const a$k=["float_value","4dJPVtC","name","keys","read","labels","Layer","1iVMPiS","writeFloatField","498713yCTNkd","readBoolean","readVarint","values","Value","GeomType","substring","pos","writeVarintField","1189318CxDBML","readFloat","version","1798993ZrXumy","readPackedVarint","type","write","push","writeBooleanField","geometry","readPackedFloat","_readField","writeStringField","double_value","3876202PyvJSm","161362ZNrvFP","812716nZeUPD","length","writeSVarintField","sint_value","163rUhxCL","1DUVHOj","tags","Feature","layers","extent","holeIndex","writePackedVarint","2251EUzEiR","writeMessage","lineDists","uint_value","string_value","readDouble","readFields","writeDoubleField","readString","int_value"],i$2=b$k;function b$k(t,e){return a$k[t-=384]}!function(t,e){const r=b$k;for(;;)try{if(923359===-parseInt(r(434))-parseInt(r(431))+-parseInt(r(395))*-parseInt(r(403))+parseInt(r(414))*-parseInt(r(390))+-parseInt(r(422))*parseInt(r(420))+parseInt(r(391))+-parseInt(r(389))*-parseInt(r(396)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$k);let Tile={};Tile[i$2(417)]=function(t,e){const r=i$2;return t[r(409)](Tile[r(386)],{layers:[]},e)},Tile[i$2(386)]=function(t,e,r){const i=i$2;if(3===t)e.layers.push(Tile[i(419)][i(417)](r,r[i(424)]()+r[i(429)]));else if(4===t){const t=r.readString();t&&(e[i(418)]=t.substring(3))}else if(5===t){const t=r.readString();t&&(e.labelImg="data:image/png;base64,"+t[i(428)](3))}},Tile[i$2(437)]=function(t,e){const r=i$2;if(t[r(399)])for(let i=0;i<t[r(399)].length;i++)e[r(404)](3,Tile[r(419)].write,t[r(399)][i])},Tile[i$2(427)]={UNKNOWN:0,POINT:1,LINESTRING:2,POLYGON:3},Tile.Value={},Tile.Value[i$2(417)]=function(t,e){const r=i$2;return t[r(409)](Tile[r(426)][r(386)],{string_value:"",float_value:0,double_value:0,int_value:0,uint_value:0,sint_value:0,bool_value:!1},e)},Tile.Value[i$2(386)]=function(t,e,r){const i=i$2;1===t?e[i(407)]=r[i(411)]():2===t?e[i(413)]=r[i(432)]():3===t?e[i(388)]=r[i(408)]():4===t?e.int_value=r.readVarint(!0):5===t?e.uint_value=r[i(424)]():6===t?e[i(394)]=r.readSVarint():7===t&&(e.bool_value=r[i(423)]())},Tile[i$2(426)].write=function(t,e){const r=i$2;t.string_value&&e[r(387)](1,t[r(407)]),t[r(413)]&&e[r(421)](2,t[r(413)]),t[r(388)]&&e[r(410)](3,t[r(388)]),t[r(412)]&&e[r(430)](4,t[r(412)]),t[r(406)]&&e[r(430)](5,t[r(406)]),t[r(394)]&&e[r(393)](6,t[r(394)]),t.bool_value&&e[r(439)](7,t.bool_value)},Tile.Feature={},Tile[i$2(398)][i$2(417)]=function(t,e){const r=i$2;return t[r(409)](Tile[r(398)][r(386)],{id:0,tags:[],type:0,geometry:[],holeIndex:[],lineDists:[]},e)},Tile.Feature[i$2(386)]=function(t,e,r){const i=i$2;1===t?e.id=r.readVarint():2===t?r[i(435)](e[i(397)]):3===t?e.type=r.readVarint():4===t?r.readPackedFloat(e[i(384)]):5===t?r[i(385)](e.lineDists):6===t&&r[i(435)](e.holeIndex)},Tile[i$2(398)][i$2(437)]=function(t,e){const r=i$2;t.id&&e[r(430)](1,t.id),t.tags&&e.writePackedVarint(2,t[r(397)]),t[r(436)]&&e[r(430)](3,t[r(436)]),t[r(384)]&&e[r(402)](4,t[r(384)]),t.lineDists&&e[r(402)](5,t[r(405)]),t.holeIndex&&e[r(402)](6,t[r(401)])},Tile.Layer={},Tile[i$2(419)][i$2(417)]=function(t,e){const r=i$2;return t.readFields(Tile[r(419)]._readField,{version:1,name:"",features:[],keys:[],values:[],extent:4096},e)},Tile[i$2(419)]._readField=function(t,e,r){const i=i$2;15===t?e[i(433)]=r[i(424)]():1===t?e[i(415)]=r[i(411)]():2===t?e.features[i(438)](Tile[i(398)][i(417)](r,r.readVarint()+r.pos)):3===t?e[i(416)][i(438)](r[i(411)]()):4===t?e[i(425)][i(438)](Tile.Value[i(417)](r,r[i(424)]()+r[i(429)])):5===t&&(e[i(400)]=r[i(424)]())},Tile[i$2(419)][i$2(437)]=function(t,e){const r=i$2;if(null!=t[r(433)]&&1!==t[r(433)]&&e[r(430)](15,t.version),t[r(415)]&&e[r(387)](1,t.name),t.features)for(let i=0;i<t.features.length;i++)e[r(404)](2,Tile[r(398)].write,t.features[i]);if(t[r(416)])for(let i=0;i<t[r(416)][r(392)];i++)e[r(387)](3,t[r(416)][i]);if(t[r(425)])for(let i=0;i<t[r(425)][r(392)];i++)e[r(404)](4,Tile.Value[r(437)],t.values[i]);null!=t.extent&&4096!==t[r(400)]&&e[r(430)](5,t[r(400)])};const a$j=["buf","writeSFixed64","47353xZjACo","readSVarint","type","Bytes","499jGpUEo","abs","readFixed64","readDouble","floor","realloc","subarray","writeDouble","writeString","writeSFixed32","readSFixed32","2osfYMR","writeVarint","unimplemented type: ","writeSVarint","expected varint not more than 10 bytes","229oXYIcx","4597hgmoxP","length","writeFixed32","155OKCYsA","writeBoolean","charCodeAt","109EitdsA","Varint","set","push","skip","readVarint","isView","pos","fromCharCode","570215mDCpvX","writeTag","13291czJnTm","pow","readSFixed64","482753KtTdal","Fixed64","LN2","writeFloat","writeFixed64","2hLJzBr","Fixed32","writeRawMessage","writeVarintField","writeMessage","prototype","287980TgStHu","ceil"],C=b$j;function b$j(t,e){return a$j[t-=158]}function Pbf(t){const e=b$j;this[e(195)]=ArrayBuffer[e(174)]&&ArrayBuffer[e(174)](t)?t:new Uint8Array(t||0),this[e(175)]=0,this.type=0,this[e(163)]=this.buf[e(163)]}function read(t,e,r,i,n){const s=b$j;let o,a,h=8*n-i-1,l=(1<<h)-1,c=l>>1,u=-7,p=r?n-1:0,f=r?-1:1,g=t[e+p];for(p+=f,o=g&(1<<-u)-1,g>>=-u,u+=h;u>0;o=256*o+t[e+p],p+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+t[e+p],p+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(g?-1:1);a+=Math[s(180)](2,i),o-=c}return(g?-1:1)*a*Math.pow(2,o-i)}function write(t,e,r,i,n,s){const o=b$j;let a,h,l,c=8*s-n-1,u=(1<<c)-1,p=u>>1,f=23===n?Math.pow(2,-24)-Math[o(180)](2,-77):0,g=i?0:s-1,d=i?1:-1,_=e<0||0===e&&1/e<0?1:0;for(e=Math[o(202)](e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,a=u):(a=Math[o(205)](Math.log(e)/Math[o(184)]),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+p>=1?f/l:f*Math[o(180)](2,1-p))*l>=2&&(a++,l/=2),a+p>=u?(h=0,a=u):a+p>=1?(h=(e*l-1)*Math[o(180)](2,n),a+=p):(h=e*Math[o(180)](2,p-1)*Math[o(180)](2,n),a=0));n>=8;t[r+g]=255&h,g+=d,h/=256,n-=8);for(a=a<<n|h,c+=n;c>0;t[r+g]=255&a,g+=d,a/=256,c-=8);t[r+g-d]|=128*_}!function(t,e){const r=b$j;for(;;)try{if(701504===parseInt(r(168))*-parseInt(r(162))+-parseInt(r(201))*-parseInt(r(165))+-parseInt(r(187))*parseInt(r(197))+-parseInt(r(182))*parseInt(r(212))-parseInt(r(193))-parseInt(r(177))+-parseInt(r(161))*-parseInt(r(179)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$j),Pbf[C(169)]=0,Pbf.Fixed64=1,Pbf[C(200)]=2,Pbf[C(188)]=5;let SHIFT_LEFT_32=4294967296,SHIFT_RIGHT_32=1/SHIFT_LEFT_32;function readVarintRemainder(t,e,r){const i=C;let n,s,o=r[i(195)];if(s=o[r[i(175)]++],n=(112&s)>>4,s<128)return toNum(t,n,e);if(s=o[r[i(175)]++],n|=(127&s)<<3,s<128)return toNum(t,n,e);if(s=o[r[i(175)]++],n|=(127&s)<<10,s<128)return toNum(t,n,e);if(s=o[r[i(175)]++],n|=(127&s)<<17,s<128)return toNum(t,n,e);if(s=o[r.pos++],n|=(127&s)<<24,s<128)return toNum(t,n,e);if(s=o[r[i(175)]++],n|=(1&s)<<31,s<128)return toNum(t,n,e);throw new Error(i(160))}function readPackedEnd(t){const e=C;return t.type===Pbf[e(200)]?t[e(173)]()+t.pos:t[e(175)]+1}function toNum(t,e,r){return r?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function writeBigVarint(t,e){let r,i;if(t>=0?(r=t%4294967296|0,i=t/4294967296|0):(r=~(-t%4294967296),i=~(-t/4294967296),4294967295^r?r=r+1|0:(r=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("given varint doesn't fit into 10 bytes");e.realloc(10),writeBigVarintLow(r,i,e),writeBigVarintHigh(i,e)}function writeBigVarintLow(t,e,r){const i=C;r[i(195)][r[i(175)]++]=127&t|128,t>>>=7,r[i(195)][r[i(175)]++]=127&t|128,t>>>=7,r[i(195)][r[i(175)]++]=127&t|128,t>>>=7,r[i(195)][r[i(175)]++]=127&t|128,t>>>=7,r.buf[r[i(175)]]=127&t}function writeBigVarintHigh(t,e){const r=C;let i=(7&t)<<4;e[r(195)][e[r(175)]++]|=i|((t>>>=3)?128:0),t&&(e[r(195)][e[r(175)]++]=127&t|((t>>>=7)?128:0),t&&(e[r(195)][e[r(175)]++]=127&t|((t>>>=7)?128:0),t&&(e[r(195)][e[r(175)]++]=127&t|((t>>>=7)?128:0),t&&(e[r(195)][e[r(175)]++]=127&t|((t>>>=7)?128:0),t&&(e[r(195)][e[r(175)]++]=127&t)))))}function makeRoomForExtraLength(t,e,r){const i=C;let n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math[i(194)](Math.log(e)/(7*Math.LN2));r[i(206)](n);for(let e=r[i(175)]-1;e>=t;e--)r[i(195)][e+n]=r[i(195)][e]}function writePackedVarint(t,e){const r=C;for(let i=0;i<t.length;i++)e[r(213)](t[i])}function writePackedSVarint(t,e){const r=C;for(let i=0;i<t[r(163)];i++)e[r(159)](t[i])}function writePackedFloat(t,e){const r=C;for(let i=0;i<t[r(163)];i++)e[r(185)](t[i])}function writePackedDouble(t,e){const r=C;for(let i=0;i<t[r(163)];i++)e[r(208)](t[i])}function writePackedBoolean(t,e){const r=C;for(let i=0;i<t[r(163)];i++)e[r(166)](t[i])}function writePackedFixed32(t,e){const r=C;for(let i=0;i<t[r(163)];i++)e.writeFixed32(t[i])}function writePackedSFixed32(t,e){for(let r=0;r<t.length;r++)e.writeSFixed32(t[r])}function writePackedFixed64(t,e){const r=C;for(let i=0;i<t[r(163)];i++)e[r(186)](t[i])}function writePackedSFixed64(t,e){const r=C;for(let i=0;i<t[r(163)];i++)e.writeSFixed64(t[i])}function readUInt32(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function writeInt32(t,e,r){t[r]=e,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24}function readInt32(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function readUtf8(t,e,r){const i=C;let n="",s=e;for(;s<r;){let e,o,a,h=t[s],l=null,c=h>239?4:h>223?3:h>191?2:1;if(s+c>r)break;1===c?h<128&&(l=h):2===c?(e=t[s+1],128==(192&e)&&(l=(31&h)<<6|63&e,l<=127&&(l=null))):3===c?(e=t[s+1],o=t[s+2],128==(192&e)&&128==(192&o)&&(l=(15&h)<<12|(63&e)<<6|63&o,(l<=2047||l>=55296&&l<=57343)&&(l=null))):4===c&&(e=t[s+1],o=t[s+2],a=t[s+3],128==(192&e)&&128==(192&o)&&128==(192&a)&&(l=(15&h)<<18|(63&e)<<12|(63&o)<<6|63&a,(l<=65535||l>=1114112)&&(l=null))),null===l?(l=65533,c=1):l>65535&&(l-=65536,n+=String[i(176)](l>>>10&1023|55296),l=56320|1023&l),n+=String[i(176)](l),s+=c}return n}function writeUtf8(t,e,r){const i=C;for(let n,s,o=0;o<e[i(163)];o++){if(n=e[i(167)](o),n>55295&&n<57344){if(!s){n>56319||o+1===e[i(163)]?(t[r++]=239,t[r++]=191,t[r++]=189):s=n;continue}if(n<56320){t[r++]=239,t[r++]=191,t[r++]=189,s=n;continue}n=s-55296<<10|n-56320|65536,s=null}else s&&(t[r++]=239,t[r++]=191,t[r++]=189,s=null);n<128?t[r++]=n:(n<2048?t[r++]=n>>6|192:(n<65536?t[r++]=n>>12|224:(t[r++]=n>>18|240,t[r++]=n>>12&63|128),t[r++]=n>>6&63|128),t[r++]=63&n|128)}return r}Pbf[C(192)]={destroy:function(){this[C(195)]=null},readFields:function(t,e,r){const i=C;for(r=r||this[i(163)];this[i(175)]<r;){let r=this.readVarint(),n=r>>3,s=this.pos;this[i(199)]=7&r,t(n,e,this),this[i(175)]===s&&this[i(172)](r)}return e},readMessage:function(t,e){const r=C;return this.readFields(t,e,this[r(173)]()+this[r(175)])},readFixed32:function(){const t=C;let e=readUInt32(this[t(195)],this[t(175)]);return this[t(175)]+=4,e},readSFixed32:function(){const t=C;let e=readInt32(this[t(195)],this[t(175)]);return this[t(175)]+=4,e},readFixed64:function(){const t=C;let e=readUInt32(this[t(195)],this[t(175)])+readUInt32(this.buf,this[t(175)]+4)*SHIFT_LEFT_32;return this.pos+=8,e},readSFixed64:function(){const t=C;let e=readUInt32(this[t(195)],this[t(175)])+readInt32(this[t(195)],this[t(175)]+4)*SHIFT_LEFT_32;return this[t(175)]+=8,e},readFloat:function(){const t=C;let e=read(this[t(195)],this.pos,!0,23,4);return this[t(175)]+=4,e},readDouble:function(){const t=C;let e=read(this[t(195)],this[t(175)],!0,52,8);return this[t(175)]+=8,e},readVarint:function(t){const e=C;let r,i,n=this[e(195)];return i=n[this[e(175)]++],r=127&i,i<128?r:(i=n[this.pos++],r|=(127&i)<<7,i<128?r:(i=n[this[e(175)]++],r|=(127&i)<<14,i<128?r:(i=n[this[e(175)]++],r|=(127&i)<<21,i<128?r:(i=n[this[e(175)]],r|=(15&i)<<28,readVarintRemainder(r,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){let t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this[C(173)]())},readString:function(){const t=C;let e=this[t(173)]()+this[t(175)],r=readUtf8(this[t(195)],this.pos,e);return this[t(175)]=e,r},readBytes:function(){const t=C;let e=this[t(173)]()+this.pos,r=this[t(195)][t(207)](this[t(175)],e);return this.pos=e,r},readPackedVarint:function(t,e){const r=C;let i=readPackedEnd(this);for(t=t||[];this[r(175)]<i;)t[r(171)](this.readVarint(e));return t},readPackedSVarint:function(t){const e=C;let r=readPackedEnd(this);for(t=t||[];this[e(175)]<r;)t[e(171)](this[e(198)]());return t},readPackedBoolean:function(t){const e=C;let r=readPackedEnd(this);for(t=t||[];this[e(175)]<r;)t[e(171)](this.readBoolean());return t},readPackedFloat:function(t){const e=C;let r=readPackedEnd(this);for(t=t||[];this[e(175)]<r;)t[e(171)](this.readFloat());return t},readPackedDouble:function(t){const e=C;let r=readPackedEnd(this);for(t=t||[];this[e(175)]<r;)t[e(171)](this[e(204)]());return t},readPackedFixed32:function(t){const e=C;let r=readPackedEnd(this);for(t=t||[];this[e(175)]<r;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){const e=C;let r=readPackedEnd(this);for(t=t||[];this[e(175)]<r;)t[e(171)](this[e(211)]());return t},readPackedFixed64:function(t){const e=C;let r=readPackedEnd(this);for(t=t||[];this.pos<r;)t[e(171)](this[e(203)]());return t},readPackedSFixed64:function(t){const e=C;let r=readPackedEnd(this);for(t=t||[];this.pos<r;)t[e(171)](this[e(181)]());return t},skip:function(t){const e=C;let r=7&t;if(r===Pbf[e(169)])for(;this.buf[this[e(175)]++]>127;);else if(r===Pbf.Bytes)this[e(175)]=this.readVarint()+this[e(175)];else if(r===Pbf[e(188)])this[e(175)]+=4;else{if(r!==Pbf[e(183)])throw new Error(e(158)+r);this[e(175)]+=8}},writeTag:function(t,e){this[C(213)](t<<3|e)},realloc:function(t){const e=C;let r=this[e(163)]||16;for(;r<this.pos+t;)r*=2;if(r!==this[e(163)]){let t=new Uint8Array(r);t[e(170)](this[e(195)]),this[e(195)]=t,this[e(163)]=r}},finish:function(){const t=C;return this[t(163)]=this.pos,this[t(175)]=0,this.buf[t(207)](0,this.length)},writeFixed32:function(t){const e=C;this[e(206)](4),writeInt32(this[e(195)],t,this.pos),this[e(175)]+=4},writeSFixed32:function(t){const e=C;this.realloc(4),writeInt32(this.buf,t,this[e(175)]),this.pos+=4},writeFixed64:function(t){const e=C;this[e(206)](8),writeInt32(this[e(195)],-1&t,this[e(175)]),writeInt32(this[e(195)],Math[e(205)](t*SHIFT_RIGHT_32),this[e(175)]+4),this[e(175)]+=8},writeSFixed64:function(t){const e=C;this[e(206)](8),writeInt32(this[e(195)],-1&t,this[e(175)]),writeInt32(this[e(195)],Math[e(205)](t*SHIFT_RIGHT_32),this.pos+4),this.pos+=8},writeVarint:function(t){const e=C;(t=+t||0)>268435455||t<0?writeBigVarint(t,this):(this[e(206)](4),this.buf[this[e(175)]++]=127&t|(t>127?128:0),t<=127||(this[e(195)][this[e(175)]++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this[e(195)][this[e(175)]++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this[e(195)][this[e(175)]++]=t>>>7&127))))},writeSVarint:function(t){this[C(213)](t<0?2*-t-1:2*t)},writeBoolean:function(t){this[C(213)](Boolean(t))},writeString:function(t){const e=C;t=String(t),this[e(206)](4*t[e(163)]),this[e(175)]++;let r=this[e(175)];this[e(175)]=writeUtf8(this[e(195)],t,this[e(175)]);let i=this[e(175)]-r;i>=128&&makeRoomForExtraLength(r,i,this),this.pos=r-1,this[e(213)](i),this[e(175)]+=i},writeFloat:function(t){const e=C;this[e(206)](4),write(this.buf,t,this[e(175)],!0,23,4),this[e(175)]+=4},writeDouble:function(t){const e=C;this[e(206)](8),write(this[e(195)],t,this[e(175)],!0,52,8),this[e(175)]+=8},writeBytes:function(t){const e=C;let r=t[e(163)];this[e(213)](r),this.realloc(r);for(let i=0;i<r;i++)this[e(195)][this[e(175)]++]=t[i]},writeRawMessage:function(t,e){const r=C;this[r(175)]++;let i=this[r(175)];t(e,this);let n=this[r(175)]-i;n>=128&&makeRoomForExtraLength(i,n,this),this.pos=i-1,this[r(213)](n),this[r(175)]+=n},writeMessage:function(t,e,r){const i=C;this[i(178)](t,Pbf[i(200)]),this[i(189)](e,r)},writePackedVarint:function(t,e){this[C(191)](t,writePackedVarint,e)},writePackedSVarint:function(t,e){this[C(191)](t,writePackedSVarint,e)},writePackedBoolean:function(t,e){this.writeMessage(t,writePackedBoolean,e)},writePackedFloat:function(t,e){this[C(191)](t,writePackedFloat,e)},writePackedDouble:function(t,e){this[C(191)](t,writePackedDouble,e)},writePackedFixed32:function(t,e){this[C(191)](t,writePackedFixed32,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,writePackedSFixed32,e)},writePackedFixed64:function(t,e){this.writeMessage(t,writePackedFixed64,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,writePackedSFixed64,e)},writeBytesField:function(t,e){const r=C;this[r(178)](t,Pbf[r(200)]),this.writeBytes(e)},writeFixed32Field:function(t,e){const r=C;this[r(178)](t,Pbf.Fixed32),this[r(164)](e)},writeSFixed32Field:function(t,e){const r=C;this[r(178)](t,Pbf[r(188)]),this[r(210)](e)},writeFixed64Field:function(t,e){const r=C;this[r(178)](t,Pbf[r(183)]),this[r(186)](e)},writeSFixed64Field:function(t,e){const r=C;this.writeTag(t,Pbf.Fixed64),this[r(196)](e)},writeVarintField:function(t,e){const r=C;this[r(178)](t,Pbf[r(169)]),this[r(213)](e)},writeSVarintField:function(t,e){const r=C;this[r(178)](t,Pbf[r(169)]),this[r(159)](e)},writeStringField:function(t,e){const r=C;this.writeTag(t,Pbf[r(200)]),this[r(209)](e)},writeFloatField:function(t,e){const r=C;this.writeTag(t,Pbf.Fixed32),this[r(185)](e)},writeDoubleField:function(t,e){const r=C;this[r(178)](t,Pbf[r(183)]),this[r(208)](e)},writeBooleanField:function(t,e){this[C(190)](t,Boolean(e))}};const a$i=["395EdaVwb","1166330EtCEMB","346neYyjQ","5HAvTET","2356924qxgbgj","539792NUZAgw","913TTEyGP","644903tbmazL","read","13EuxuWD","173867MCFUMu"];function b$i(t,e){return a$i[t-=389]}!function(t,e){const r=b$i;for(;;)try{if(747403===parseInt(r(389))*-parseInt(r(396))+-parseInt(r(392))*-parseInt(r(399))+-parseInt(r(395))*-parseInt(r(397))-parseInt(r(391))+parseInt(r(393))+-parseInt(r(398))+parseInt(r(390)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$i);class Hvt{constructor(){}static read(t){const e=b$i,r=new Pbf(t);try{return Tile[e(394)](r)}catch(t){return null}}}var a$h=["states","UNSIGNED_BYTE","componentType","arrayEquals","extensionsRequired","removeEmptyNodes","sort","updateInstanceTechniques","isNodeEmpty","dataTypeConst","splice","JOINTS_0","jointName","convert","input","hasOwnProperty","meshPrimitiveTargetAttribute","1JKDjwX","accessorWithSemantic","indexOf","scene","technique","blendFuncSeparate","UNSIGNED_SHORT","children","removeEmptyArrays","indexedSemantics","nodes","computeAccessorByteStride","scale","convertType","alphaMode","semantic","program","skin","typeToGltfElementName","JOINTS","POSITION","requireKnownExtensions","output","aspectRatio","getSizeInBytes","meshPrimitive","camera","animationSampler","bufferView","name","materialValue","blendEquationSeparate","COLOR","BYTE","instanceTechnique","rotation","compressedImage","COLOR_0","addBuffer","VEC3","supportedBlendFactors","vertexShader","count","buffers","3TevbaM","addExtensionsUsed","KHR_materials_common","requirePositionAccessorMinMax","indices","55552BkTGRa","2.0","1312717CPlKVH","BLEND","byteOffset","accessorContainingVertexAttributeData","3mCAvfe","VEC4","perspective","23dpeZWa","extras","max","KHR_techniques_webgl","425097cjZGlv","texture","moveTechniqueRenderStates","removeUnusedElementsByType","gltf","underscoreApplicationSpecificSemantics","skins","extensions","bufferViews","requireAnimationAccessorMinMax","images","stripAsset","shaders","uniforms","findAccessorMinMax","331511LHmmyN","functions","byteLength","moveByteStrideToBufferView","meshes","deleteNode","KHR_blend","POSITIVE_INFINITY","getSupportedBlendFactors","sampler","mimeType","techniqueUniform","updateAccessorComponentTypes","meshPrimitiveAttribute","requireByteLength","programs","value","mesh","keys","scenes","removeAnimationSamplerNames","techniques","objectLegacy","enable","clampCameraParameters","KHR_draco_mesh_compression","values","getAccessorByteStride","accessor","CULL_FACE","asset","animation","removeAnimationSamplersIndirection","buffer","material","shader","39373zzSDuC","jointNames","fragmentShader","animations","format","type","moveTechniquesToExtension","glExtensionsUsed","_pipeline","techniqueParameter","cameras","materials","334779TeyGzE","skeletons","node","readAccessorPacked","getResult","WEIGHTS","knownSemantics","source","removeBufferType","yfov","min","meshPrimitiveTarget","isStateEnabled","length","string","requireAttributeSetIndex","MAT4","parameters","accessors","309056orJQCu","KHR_binary_glTF","removeTextureProperties","samplers","numberOfComponentsForType","textures","extensionsUsed","VEC2","knownExtensions","TEXCOORD","animationChannel","objectsToArrays","matrix","attributes","byteStride","target","removeUnusedElements","SCALAR","techniqueAttribute","image","TEXCOORD_0","internalFormat","inverseBindMatrices","addExtensionsRequired","push"],E=b$h;function b$h(t,e){return a$h[t-=400]}!function(t,e){for(var r=b$h;;)try{if(509269===parseInt(r(558))*-parseInt(r(497))+parseInt(r(416))*-parseInt(r(516))+parseInt(r(434))+parseInt(r(449))*parseInt(r(427))+-parseInt(r(421))+parseInt(r(485))*-parseInt(r(430))+parseInt(r(423)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$h);class GLTFConvert{constructor(t){var e=b$h;this[e(438)]=t,t[e(479)]=defined(this[e(438)][e(479)])?this[e(438)][e(479)]:{},t[e(479)].version=e(422),this[e(524)]={CESIUM_RTC:!0,KHR_materials_common:!0,WEB3D_quantized_attributes:!0},this[e(412)]={ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775},this[e(503)]={POSITION:!0,NORMAL:!0,TANGENT:!0},this.indexedSemantics={COLOR:"COLOR",JOINT:"JOINTS",JOINTS:e(577),TEXCOORD:"TEXCOORD",WEIGHT:e(502),WEIGHTS:e(502)},this[e(576)]={accessor:e(515),buffer:e(415),bufferView:"bufferViews"},this[e(550)]={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,CULL_FACE:2884,BLEND:3042},this[e(554)]()}[E(501)](){return this[E(438)]}convert(){var t=E;this[t(548)](),this[t(481)](),this[t(546)](),this[t(527)](),this[t(469)](),this[t(445)](),this[t(579)](),this[t(463)](),this.moveByteStrideToBufferView(),this[t(419)](),this[t(443)](),this.removeBufferType(),this.removeTextureProperties(),this[t(512)](),this[t(439)](),this[t(461)](),this.clampCameraParameters(),this[t(436)](),this[t(491)](),this[t(566)]()}[E(548)](){var t=E,e=this[t(438)][t(496)];for(var r in e)if(e[t(556)](r)){var i=e[r],n=i[t(406)];defined(n)&&(i[t(562)]=n[t(562)],i[t(475)]=n[t(475)],delete i[t(406)])}}[E(481)](){var t=E,e=this.gltf[t(488)];for(var r in e)if(e[t(556)](r)){var i=e[r],n=i[t(514)];if(defined(n)){var s=i.samplers;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];a.input=n[a[t(555)]],a[t(580)]=n[a[t(580)]]}delete i[t(514)]}}}[E(546)](){var t=E;let e=this[t(438)],r=this;return ForEach[t(499)](e,(function(e,i){var n=t;r[n(549)](e)&&r[n(454)](i)})),e}[E(549)](t){var e=E;return(!defined(t[e(565)])||0===t[e(565)][e(510)])&&(!defined(t[e(453)])||0===t.meshes[e(510)])&&!defined(t.camera)&&!defined(t.skin)&&!defined(t[e(498)])&&!defined(t[e(553)])&&(!defined(t.translation)||this.arrayEquals(t.translation,[0,0,0]))&&(!defined(t[e(570)])||this[e(544)](t[e(570)],[1,1,1]))&&(!defined(t[e(407)])||this[e(544)](t[e(407)],[0,0,0,1]))&&(!defined(t[e(528)])||this[e(544)](t[e(528)],Matrix4().getElements()))&&!defined(t.extensions)&&!defined(t[e(431)])}[E(544)](t,e){var r=E;if(!(t instanceof Array&&e instanceof Array))return!1;for(let i=0;i<t[r(510)];i++)if(!e[i]||t[i]!==e[i])return!1;return!0}deleteNode(t){var e=E;const r=this[e(438)];ForEach[e(561)](r,(function(r){var i=e,n=r[i(568)];if(defined(n))for(var s=n[i(510)];s>=0;--s)if(n[s]===t)return void n[i(551)](s,1)})),ForEach.node(r,(function(r,i){var n=e;if(defined(r.children)){var s=r.children[n(560)](t);s>-1&&(r[n(565)][n(551)](s,1),this.isNodeEmpty(r)&&this[n(454)](i))}})),delete r[e(568)][t]}[E(527)](){var t,e,r=E,i={accessors:{},animations:{},buffers:{},bufferViews:{},cameras:{},images:{},materials:{},meshes:{},nodes:{},programs:{},samplers:{},scenes:{},shaders:{},skins:{},textures:{},techniques:{}},n={};let s=this[r(438)],o=s.nodes;for(var a in o)o[r(556)](a)&&(defined(e=o[a][r(553)])&&(n[e]=a));for(var h in s)if(s[r(556)](h)&&defined(i[h])){var l={},c=s[h];s[h]=objectToArray(c,l),i[h]=l}for(e in n)n.hasOwnProperty(e)&&(n[e]=i[r(568)][n[e]]);defined(s.scene)&&(s.scene=i[r(468)][s[r(561)]]),ForEach[r(400)](s,(function(t){var e=r;defined(t.buffer)&&(t.buffer=i[e(415)][t[e(482)]])})),ForEach[r(477)](s,(function(t){var e=r;defined(t[e(400)])&&(t[e(400)]=i.bufferViews[t[e(400)]])})),ForEach[r(484)](s,(function(t){var e=r,n=t[e(441)];if(defined(n)){var s=n[e(517)];defined(s)&&(t[e(400)]=i[e(442)][s.bufferView],delete n[e(517)]),0===Object.keys(n).length&&delete t[e(441)]}})),ForEach.program(s,(function(t){var e=r;defined(t[e(413)])&&(t[e(413)]=i[e(446)][t[e(413)]]),defined(t[e(487)])&&(t[e(487)]=i.shaders[t[e(487)]])})),ForEach.technique(s,(function(t){var e=r;defined(t[e(574)])&&(t[e(574)]=i[e(464)][t[e(574)]]),ForEach[e(494)](t,(function(t){var r=e;defined(t[r(499)])&&(t.node=i[r(568)][t[r(499)]]);var n=t.value;typeof n===r(511)&&(t.value={index:i.textures[n]})}))})),ForEach[r(466)](s,(function(t){var e=r;ForEach[e(583)](t,(function(t){var r=e;defined(t[r(420)])&&(t[r(420)]=i[r(515)][t.indices]),ForEach[r(462)](t,(function(e,r){t.attributes[r]=i.accessors[e]})),defined(t[r(483)])&&(t[r(483)]=i[r(496)][t.material])}))})),ForEach.node(s,(function(e){var n=r,o=e[n(565)];if(defined(o)){var a=o[n(510)];for(t=0;t<a;++t)o[t]=i[n(568)][o[t]]}if(defined(e[n(453)])){var h=e.meshes,l=h[n(510)];if(l>0)for(e[n(466)]=i[n(453)][h[0]],t=1;t<l;++t){var c={mesh:i[n(453)][h[t]]},u=addToArray(s[n(568)],c);!defined(o)&&(o=[],e[n(565)]=o),o[n(540)](u)}delete e[n(453)]}if(defined(e.camera)&&(e[n(584)]=i[n(495)][e.camera]),defined(e[n(575)])&&(e[n(575)]=i.skins[e[n(575)]]),defined(e[n(498)])){var p=e[n(498)];if(p[n(510)]>0&&defined(e[n(575)]))s[n(440)][e[n(575)]].skeleton=i.nodes[p[0]];delete e[n(498)]}defined(e.jointName)&&delete e[n(553)]})),ForEach[r(575)](s,(function(e){var s=r;defined(e.inverseBindMatrices)&&(e[s(538)]=i[s(515)][e[s(538)]]);var o=e[s(486)];if(defined(o)){var a=[],h=o[s(510)];for(t=0;t<h;++t)a[t]=n[o[t]];e.joints=a,delete e[s(486)]}})),ForEach[r(561)](s,(function(e){var n=r,s=e[n(568)];if(defined(s)){var o=s[n(510)];for(t=0;t<o;++t)s[t]=i[n(568)][s[t]]}})),ForEach[r(480)](s,(function(t){var e=r,n={};t[e(519)]=objectToArray(t[e(519)],n),ForEach.animationSampler(t,(function(t){var r=e;t.input=i[r(515)][t[r(555)]],t.output=i[r(515)][t[r(580)]]})),ForEach[e(526)](t,(function(t){var r=e;t[r(458)]=n[t.sampler];var s=t[r(531)];defined(s)&&(s[r(499)]=i.nodes[s.id],delete s.id)}))})),ForEach[r(483)](s,(function(t){var e=r;defined(t.technique)&&(t[e(562)]=i.techniques[t[e(562)]]),ForEach.materialValue(t,(function(r,n){var s=e;typeof r===s(511)&&(t.values[n]={index:i[s(521)][r]})}));var n=t[e(441)];if(defined(n)){var s=n[e(418)];defined(s)&&ForEach[e(402)](s,(function(t,r){var n=e;typeof t===n(511)&&(s[n(475)][r]={index:i[n(521)][t]})}))}})),ForEach[r(535)](s,(function(t){var e=r,n=t[e(441)];if(defined(n)){var s=n[e(517)];defined(s)&&(t.bufferView=i[e(442)][s[e(400)]],t[e(459)]=s[e(459)],delete n[e(517)]),0===Object[e(467)](n)[e(510)]&&delete t.extensions}ForEach[e(408)](t,(function(t){var r=e,s=t[r(441)];if(defined(s)){var o=s[r(517)];defined(o)&&(t[r(400)]=i[r(442)][o.bufferView],t[r(459)]=o[r(459)],delete s[r(517)]),0===Object[r(467)](n)[r(510)]&&delete t[r(441)]}}))})),ForEach[r(435)](s,(function(t){var e=r;defined(t.sampler)&&(t[e(458)]=i[e(519)][t[e(458)]]),defined(t.source)&&(t[e(504)]=i[e(444)][t[e(504)]])}))}[E(469)](){var t=E;let e=this[t(438)];ForEach[t(480)](e,(function(e){var r=t;ForEach[r(585)](e,(function(t){delete t[r(401)]}))}))}[E(445)](){var t=E;let e=this.gltf[t(479)];delete e.profile,delete e.premultipliedAlpha}requireKnownExtensions(){var t=E;let e=this[t(438)],r=e.extensionsUsed;if(e[t(545)]=defined(e[t(545)])?e[t(545)]:[],defined(r))for(var i=r.length,n=0;n<i;++n){var s=r[n];defined(this.knownExtensions[s])&&e[t(545)][t(540)](s)}}[E(463)](){var t=E;let e=this[t(438)],r=this;ForEach[t(482)](e,(function(e){var r=t;!defined(e[r(451)])&&(e[r(451)]=e[r(431)][r(493)][r(504)][r(510)])})),ForEach[t(477)](e,(function(i){var n=t,s=i[n(400)];if(defined(s)){var o=e.bufferViews[s],a=r[n(569)](i),h=i.byteOffset+i[n(414)]*a;o[n(451)]=Math[n(432)](defined(o[n(451)])?o.byteLength:0,h)}}))}[E(569)](t){var e=E;return defined(t.byteStride)&&0!==t[e(530)]?t[e(530)]:this[e(476)](t)}getAccessorByteStride(t){var e=E;let r=this[e(438)],i=t.bufferView;if(defined(i)){var n=r[e(442)][i];if(defined(n[e(530)])&&n[e(530)]>0)return n[e(530)]}return ComponentDatatype[e(582)](t.componentType)*this[e(520)](t[e(490)])}[E(520)](t){var e=E;switch(t){case e(533):return 1;case e(523):return 2;case e(411):return 3;case e(428):case"MAT2":return 4;case"MAT3":return 9;case e(513):return 16}}[E(452)](){var t=E;let e=this[t(438)];var r,i,n,s=e[t(442)],o={};ForEach[t(426)](e,(function(r){var i=t,n=e[i(515)][r];defined(n.bufferView)&&(o[n[i(400)]]=!0)}));var a={};for(var h in ForEach[t(477)](e,(function(e){var r=t;defined(e.bufferView)&&(a[e[r(400)]]=a[e.bufferView]||[],a[e.bufferView][r(540)](e))})),a)if(a[t(556)](h)){n=s[h];var l=a[h];l[t(547)]((function(e,r){var i=t;return e[i(425)]-r[i(425)]}));var c=0,u=0,p=l[t(510)];for(r=0;r<p;++r){var f=l[r],g=this.computeAccessorByteStride(f),d=f[t(425)],_=f.count*g;delete f[t(530)];var y=r<p-1;if(g!==(y?this.computeAccessorByteStride(l[r+1]):void 0)){var m=clone(n,!0);o[h]&&(m[t(530)]=g),m[t(425)]+=c,m[t(451)]=d+_-c;var I=addToArray(s,m);for(i=u;i<=r;++i)(f=l[i])[t(400)]=I,f[t(425)]=f[t(425)]-c;c=y?l[r+1][t(425)]:void 0,u=r+1}}}this[t(532)]()}[E(532)](){var t=E;return this[t(437)]("accessor"),this[t(437)]("bufferView"),this.removeUnusedElementsByType(t(482)),this[t(438)]}[E(437)](t){var e=E;let r=this[e(438)];var i=r[this[e(576)][t]];if(defined(i))for(var n=0,s=getListOfElementsIdsInUse[t](r),o=i[e(510)],a=0;a<o;++a)!s[a]&&(Remove[t](r,a-n),n++)}[E(419)](){var t=E;let e=this[t(438)];ForEach[t(559)](e,t(578),(function(r){var i=t,n=e[i(515)][r];if(!defined(n.min)||!defined(n[i(432)])){var s=this.findAccessorMinMax(e,n);n[i(507)]=s[i(507)],n.max=s.max}}))}[E(448)](t){var e=E;let r=this[e(438)];var i=r[e(442)],n=r[e(415)],s=t[e(400)],o=this[e(520)](t[e(490)]);if(!defined(t.bufferView))return{min:arrayFill(new Array(o),0),max:arrayFill(new Array(o),0)};for(var a=arrayFill(new Array(o),Number[e(456)]),h=arrayFill(new Array(o),Number.NEGATIVE_INFINITY),l=i[s],c=n[l.buffer][e(431)][e(493)][e(504)],u=t[e(414)],p=this[e(476)](t),f=t.byteOffset+l.byteOffset+c[e(425)],g=t[e(543)],d=ComponentDatatype[e(582)](g),_=new DataView(c[e(482)]),y=new Array(o),m=getComponentReader(g),I=0;I<u;I++){m(_,f,o,d,y);for(var x=0;x<o;x++){var v=y[x];a[x]=Math[e(507)](a[x],v),h[x]=Math[e(432)](h[x],v)}f+=p}return{min:a,max:h}}requireAnimationAccessorMinMax(){var t=E;let e=this[t(438)];ForEach[t(480)](e,(function(r){var i=t;ForEach[i(585)](r,(function(t){var r=i,n=e[r(515)][t[r(555)]];if(!defined(n[r(507)])||!defined(n[r(432)])){var s=this[r(448)](e,n);n.min=s[r(507)],n.max=s[r(432)]}}))}))}[E(505)](){var t=E;let e=this[t(438)];ForEach.buffer(e,(function(e){delete e[t(490)]}))}[E(518)](){var t=E;let e=this[t(438)];ForEach[t(435)](e,(function(e){var r=t;delete e[r(489)],delete e[r(537)],delete e[r(531)],delete e[r(490)]}))}[E(512)](){var t=E;let e=this[t(438)];ForEach[t(466)](e,(function(e){var r=t;ForEach[r(583)](e,(function(t){var e=r;ForEach[e(462)](t,(function(r,i){var n=e;i===n(525)?t[n(529)][n(536)]=r:i===n(404)&&(t[n(529)][n(409)]=r)})),delete t[e(529)][e(525)],delete t.attributes[e(404)]}))})),ForEach[t(562)](e,(function(e){var r=t;ForEach[r(494)](e,(function(t){var e=r,i=t[e(573)];defined(i)&&("TEXCOORD"===i?t[e(573)]=e(536):"COLOR"===i&&(t[e(573)]=e(409)))}))}))}[E(439)](){var t=E;let e=this[t(438)],r=this,i={};ForEach[t(466)](e,(function(e){var n=t;ForEach[n(583)](e,(function(t){var e=n;for(var s in ForEach[e(462)](t,(function(t,n){var s=e;if("_"!==n.charAt(0)){var o=n.search(/_[0-9]+/g),a=n,h="_0";o>=0&&(a=n.substring(0,o),h=n.substring(o));var l,c=r[s(567)][a];defined(c)?(l=c+h,i[n]=l):!defined(r[s(503)][a])&&(l="_"+n,i[n]=l)}})),i)if(i.hasOwnProperty(s)){var o=i[s],a=t[e(529)][s];defined(a)&&(delete t.attributes[s],t[e(529)][o]=a)}}))})),ForEach[t(562)](e,(function(e){var r=t;ForEach[r(494)](e,(function(t){var e=r,n=i[t[e(573)]];defined(n)&&(t[e(573)]=n)}))}))}[E(461)](){var t=E;let e,r=this[t(438)],i=this;return ForEach[t(559)](r,t(552),(function(n){var s=t,o=r[s(515)][n];e=o.componentType,e===this[s(550)][s(405)]?i[s(571)](o,ComponentDatatype[s(542)]):e!==this[s(550)][s(542)]&&e!==this[s(550)].UNSIGNED_SHORT&&i[s(571)](o,ComponentDatatype[s(564)])})),ForEach[t(559)](r,"WEIGHTS_0",(function(n){var s=t,o=r[s(515)][n];e=o[s(543)],e===this.dataTypeConst[s(405)]?i[s(571)](o,ComponentDatatype[s(542)]):e===this[s(550)].SHORT&&i[s(571)](o,ComponentDatatype.UNSIGNED_SHORT)})),r}[E(571)](t,e){var r=E;let i=this.gltf;var n=ComponentDatatype.createTypedArray(e,this.readAccessorPacked(i,t)),s=new Uint8Array(n[r(482)]);t[r(400)]=this[r(410)](s),t.componentType=e,t.byteOffset=0}[E(500)](t,e){var r=E,i=this[r(476)](e),n=ComponentDatatype[r(582)](e[r(543)]),s=this[r(520)](e[r(490)]),o=e[r(414)],a=new Array(s*o);if(!defined(e.bufferView))return arrayFill(a,0),a;for(var h=t[r(442)][e[r(400)]],l=t[r(415)][h.buffer].extras[r(493)].source,c=e.byteOffset+h[r(425)]+l.byteOffset,u=new DataView(l[r(482)]),p=new Array(s),f=getComponentReader(e.componentType),g=0;g<o;++g){f(u,c,s,n,p);for(var d=0;d<s;++d)a[g*s+d]=p[d];c+=i}return a}[E(410)](t){var e=E;let r=this[e(438)];var i={byteLength:t.length,extras:{_pipeline:{source:t}}},n={buffer:addToArray(r[e(415)],i),byteOffset:0,byteLength:t[e(510)]};return addToArray(r[e(442)],n)}[E(473)](){var t=E;let e=this.gltf;ForEach[t(584)](e,(function(e){var r=t,i=e[r(429)];if(defined(i)){var n=i.aspectRatio;defined(n)&&0===n&&delete i[r(581)];var s=i.yfov;defined(s)&&0===s&&(i[r(506)]=1)}}))}moveTechniqueRenderStates(){var t=E;let e={},r={},i=this.gltf;if(!defined(i[t(470)]))return i;let n=this;return ForEach[t(562)](i,(function(i,s){var o=t,a=i.states;if(defined(a)){var h=r[s]={};if(n.isStateEnabled(a,n[o(550)][o(424)])){h[o(572)]="BLEND";var l=a[o(450)];defined(l)&&(defined(l[o(403)])||defined(l[o(563)]))&&(e[s]={blendEquation:defined(l[o(403)])?l[o(403)]:1,blendFactors:this[o(457)](l.blendFuncSeparate,1)})}!n[o(509)](a,n[o(550)][o(478)])&&(h.doubleSided=!0),delete i[o(541)]}})),Object[t(467)](e)[t(510)]>0&&(!defined(i[t(441)])&&(i.extensions={}),this[t(417)](i,"KHR_blend")),ForEach[t(483)](i,(function(i){var n=t;if(defined(i[n(562)])){var s=r[i[n(562)]];ForEach[n(471)](s,(function(t,e){i[e]=t}));var o=e[i.technique];defined(o)&&(!defined(i[n(441)])&&(i[n(441)]={}),i[n(441)][n(455)]=o)}})),i}getSupportedBlendFactors(t,e){var r=E;if(!defined(t))return e;for(var i=0;i<4;i++)if(-1===this[r(412)].indexOf(t[i]))return e;return t}[E(491)](){var t=E;let e=this[t(438)],r=e[t(470)];var i={},n={};if(defined(r)){var s={programs:[],shaders:[],techniques:[]},o=e.glExtensionsUsed;delete e[t(492)],ForEach[t(562)](e,(function(r,a){var h,l=t,c={name:r[l(401)],program:void 0,attributes:{},uniforms:{}};ForEach[l(534)](r,(function(t,e){var i=l;h=r.parameters[t],c[i(529)][e]={semantic:h[i(573)]}})),ForEach[l(460)](r,(function(t,e){var n=l;h=r[n(514)][t],c[n(447)][e]={count:h[n(414)],node:h.node,type:h[n(490)],semantic:h[n(573)],value:h[n(465)]},i[t]=e}));var u=e[l(464)][r[l(574)]],p={name:u[l(401)],fragmentShader:void 0,vertexShader:void 0,glExtensions:o},f=e[l(446)][u[l(487)]];p[l(487)]=addToArray(s.shaders,f,!0);var g=e[l(446)][u[l(413)]];p[l(413)]=addToArray(s[l(446)],g,!0),c.program=addToArray(s[l(464)],p),n[a]=addToArray(s.techniques,c)})),s.techniques[t(510)]>0&&(!defined(e.extensions)&&(e[t(441)]={}),e[t(441)][t(433)]=s,this.addExtensionsUsed(e,t(433)),this[t(539)](e,t(433)))}return ForEach.material(e,(function(e){var r=t;if(defined(e[r(562)])){var s={technique:n[e[r(562)]]};ForEach.objectLegacy(e[r(475)],(function(t,e){var n=r;!defined(s.values)&&(s.values={});var o=i[e];s[n(475)][o]=t})),!defined(e[r(441)])&&(e[r(441)]={}),e[r(441)][r(433)]=s}delete e[r(562)],delete e[r(475)]})),delete e[t(470)],delete e.programs,delete e.shaders,e}[E(566)](){var t=E;let e=this[t(438)];for(var r in e)if(e[t(556)](r)){var i=e[r];i instanceof Array&&0===i[t(510)]&&delete e[r]}ForEach[t(499)](e,(function(e){defined(e[t(565)])&&0===e.children.length&&delete e.children}))}[E(417)](t){var e=E;let r=this[e(438)],i=r[e(522)];!defined(i)&&(i=[],r[e(522)]=i),addToArray(i,t,!0)}[E(539)](t){var e=E;let r=this[e(438)],i=r[e(545)];!defined(i)&&(i=[],r[e(545)]=i),addToArray(i,t,!0),this[e(417)](t)}[E(509)](t,e){var r=t[E(472)];return!!defined(r)&&r.indexOf(e)>-1}}function getListOfElementsIdsInUse(){}getListOfElementsIdsInUse[E(477)]=function(t){var e=E,r={};return ForEach[e(466)](t,(function(t){var i=e;ForEach[i(583)](t,(function(t){var e=i;ForEach[e(462)](t,(function(t){r[t]=!0})),ForEach[e(508)](t,(function(t){ForEach[e(557)](t,(function(t){r[t]=!0}))}));var n=t.indices;defined(n)&&(r[n]=!0)}))})),ForEach[e(575)](t,(function(t){defined(t[e(538)])&&(r[t.inverseBindMatrices]=!0)})),ForEach[e(480)](t,(function(t){var i=e;ForEach[i(585)](t,(function(t){var e=i;defined(t.input)&&(r[t[e(555)]]=!0),defined(t.output)&&(r[t[e(580)]]=!0)}))})),r},getListOfElementsIdsInUse[E(482)]=function(t){var e={};return ForEach.bufferView(t,(function(t){var r=b$h;defined(t[r(482)])&&(e[t[r(482)]]=!0)})),e},getListOfElementsIdsInUse[E(400)]=function(t){var e=E,r={};return ForEach.accessor(t,(function(t){defined(t.bufferView)&&(r[t.bufferView]=!0)})),ForEach[e(484)](t,(function(t){var i=e;defined(t[i(400)])&&(r[t[i(400)]]=!0)})),ForEach[e(535)](t,(function(t){var i=e;defined(t[i(400)])&&(r[t.bufferView]=!0),ForEach[i(408)](t,(function(t){var e=i;defined(t[e(400)])&&(r[t[e(400)]]=!0)}))})),hasExtension(t,"KHR_draco_mesh_compression")&&ForEach[e(466)](t,(function(t){ForEach.meshPrimitive(t,(function(t){var e=b$h;defined(t[e(441)])&&defined(t[e(441)][e(474)])&&(r[t[e(441)][e(474)][e(400)]]=!0)}))})),r};const a$g=["2HyXEpT","glTF","extensionsRequired","shader","_pipeline","addExtras","387707Royjkt","source","KHR_binary_glTF","extras","removeExtensionsRequired","Binary glTF version is not 1 or 2","slice","indexOf","parse","gltf","Binary glTF scene format is not JSON","5QttTFC","parseGlbVersion2","buffers","133rtAwEn","extensionsUsed","941LNytRx","binary_glTF","783648zCQQRf","getResult","File is not valid binary glTF","image","450244cAMUGF","hasOwnProperty","addPipelineExtras","gltfView","removeExtensionsUsed","buffer","function","157410VMqHOB","splice","destroy","ready","508259PdIqfP","9680uDGGMS","keys","This object has been destroyed!","byteOffset","length","1099FzrUrv","parseGlbVersion1","subarray"],v=b$g;function b$g(t,e){return a$g[t-=328]}!function(t,e){const r=b$g;for(;;)try{if(647973===-parseInt(r(335))*parseInt(r(355))+-parseInt(r(360))*parseInt(r(337))+parseInt(r(350))+parseInt(r(369))+-parseInt(r(363))*parseInt(r(343))+parseInt(r(339))+-parseInt(r(332))*-parseInt(r(354)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$g);class Batched3dModel{constructor(t={}){const e=b$g;let r=t[e(346)];if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),this[e(353)]=!1,r instanceof Uint8Array){let t=this.parseGlb(r),i=t.buffers[0][e(372)][e(367)][e(370)],n=i.buffer[e(375)](i[e(358)],i.byteOffset+i.byteLength);t[e(334)]=n,this.gltf=t,this.ready=!0}}parseGlb(t){const e=b$g;if(getStringFromTypedArray(t,0,Math.min(4,t[e(359)]))!==e(364))throw TypeError(e(341));let r=new DataView(t[e(348)]),i=new Array(5);for(let n=0;n<5;++n)i[n]=r.getUint32(t[e(358)]+4*n,!0);let n=i[1];if(1!==n&&2!==n)throw TypeError(e(374));if(1===n){let r=this.parseGlbVersion1(t,i);return new GLTFConvert(r)[e(340)]()}return this[e(333)](t,i)}[v(361)](t,e){const r=v;let i=e[2],n=e[3];if(0!==e[4])throw r(331);let s=20+n,o=getStringFromTypedArray(t,20,n),a=JSON[r(329)](o);this[r(345)](a);let h=t[r(362)](s,i),l=a[r(334)];if(defined(l)&&Object[r(356)](l).length>0){let t=l[r(338)]||l.KHR_binary_glTF;defined(t)&&(t[r(372)][r(367)].source=h)}return this[r(347)](a,r(371)),a}parseGlbVersion2(t,e){const r=v;let i,n,s=e[2],o=12;for(;o<s;){let e=new Array(2);for(let i=0;i<2;++i)e[i]=new DataView(t[r(348)]).getUint32(t[r(358)]+o+4*i,!0);let s=e[0],a=e[1];o+=8;let h=t[r(362)](o,o+s);if(o+=s,1313821514===a){let t=getStringFromTypedArray(h);i=JSON[r(329)](t),this[r(345)](i)}else 5130562===a&&(n=h)}if(defined(i)&&defined(n)){let t=i[r(334)];if(defined(t)&&t.length>0){t[0].extras._pipeline[r(370)]=n}}return i}[v(345)](t){const e=v,r=this;ForEach[e(366)](t,(function(t){r[e(368)](t)})),ForEach[e(348)](t,(function(t){r[e(368)](t)})),ForEach[e(342)](t,(function(t){r[e(368)](t),ForEach.compressedImage(t,(function(t){r.addExtras(t)}))}))}[v(368)](t){const e=v;t[e(372)]=defined(t[e(372)])?t[e(372)]:{},t.extras[e(367)]=defined(t[e(372)][e(367)])?t[e(372)][e(367)]:{}}removeExtensionsUsed(t,e){const r=v;let i=t.extensionsUsed;if(defined(i)){let n=i.indexOf(e);n>=0&&i[r(351)](n,1),this[r(373)](t,e),0===i.length&&delete t[r(336)]}}[v(373)](t,e){const r=v;let i=t[r(365)];if(defined(i)){let n=i[r(328)](e);n>=0&&i[r(351)](n,1),0===i[r(359)]&&delete t[r(365)]}}getGltf(){return this.gltf}[v(352)](){const t=v;for(var e in this)typeof this[e]===t(349)&&(this[e]=function(){throw t(357)});if(this[t(353)]=!1,this[t(330)]){for(var r in this.gltf)this[t(330)][t(344)](r)&&delete this.gltf[r];this[t(330)]=void 0}}}const a$f=["glTF byte length must be greater than 0.","457978atvcxp","getModel","1zVENxR","571709CdoCYD","subarray","buffer","BYTES_PER_ELEMENT","1032203ABwhXU","997093dzYoDg","destroy","function","118zzlLIx","warn","474jAPVAH","_model","Only Batched 3D Model version 1 is supported.  Version ","This b3dm header is using the legacy format [batchTableJsonByteLength] [batchTableBinaryByteLength] [batchLength]. The new format is [featureTableJsonByteLength] [featureTableBinaryByteLength] [batchTableJsonByteLength] [batchTableBinaryByteLength]","2390898lIHXjr","1xUgkCw","getUint32","b3dm-glb-unaligned:The embedded glb is not aligned to a 4-byte boundary.","_rtcCenterTransform","_contentModelMatrix","This object has been destroyed!","45245vLqEzE"],u=b$f;function b$f(t,e){return a$f[t-=297]}!function(t,e){const r=b$f;for(;;)try{if(576510===parseInt(r(309))*-parseInt(r(307))+-parseInt(r(310))*-parseInt(r(299))+-parseInt(r(320))*-parseInt(r(318))-parseInt(r(314))+parseInt(r(305))+-parseInt(r(315))+parseInt(r(298)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$f);class Batched3DModelContent{constructor(t,e){const r=b$f;this[r(321)]=void 0,this[r(302)]=void 0,this[r(303)]=void 0,this.initTileContent(t,e)}initTileContent(t,e){const r=b$f;let i=e||0;e=i;let n=Uint32Array[r(313)],s=new Uint8Array(t),o=new DataView(t);e+=n;let a=o[r(300)](e,!0);if(1!==a)throw r(322)+a+" is not.";e+=n;let h=o.getUint32(e,!0);e+=n;let l=o.getUint32(e,!0);e+=n;let c=o[r(300)](e,!0);e+=n;let u=o[r(300)](e,!0);e+=n;let p=o[r(300)](e,!0);e+=n,u>=570425344?(e-=2*n,u=c,p=0,l=0,c=0,console[r(319)]("This b3dm header is using the legacy format [batchLength] [batchTableByteLength]. The new format is [featureTableJsonByteLength] [featureTableBinaryByteLength] [batchTableJsonByteLength] [batchTableBinaryByteLength]")):p>=570425344&&(e-=n,u=l,p=c,l=0,c=0,console[r(319)](r(297))),0===l||(e+=l),e+=c,u>0&&(e+=u,p>0&&(e+=p));let f,g=i+h-e;if(0===g)throw r(306);e%4==0?f=new Uint8Array(s[r(312)],e,g):(console[r(319)](r(301)),f=new Uint8Array(s[r(311)](e,e+g))),this[r(321)]=new Batched3dModel({gltfView:f})}[u(308)](){return this[u(321)]}destroy(){const t=u;for(var e in this)typeof this[e]===t(317)&&(this[e]=function(){throw t(304)});this._tile=void 0,this[t(321)][t(316)](),this[t(321)]=void 0,this[t(302)]=void 0,this[t(303)]=void 0}}const a$e=["_left","hasContent","content","tileUrl","geometricError","requestRejectHandle","hasRequest","FAILED","region","parent","_contentState","_contentType","3857","srid","fetchTileJson","sphere","multiply","children","getContentType","extenseName","min","failed to load:","get3Dist","boundingVolume","1RlLWLZ","destroy","lastIndexOf","_boundingVolume","contentReadyPromise","854876YbRdtC","fetchArrayBuffer","center","computedTransform","4479","catch","77ixUNMy","url","ADD","refine","arraybuffer","contentStateReady","transform","projTranslation","1lkFANI","_bottom","JSON","452024ZEZgtQ","tileContentState","4326","_basePath","_userScale","requestContent","toUpperCase","REPLACE","Required property geometricError is undefined for this tile. Using parent's geometric error instead.","_header","arrayBuffer","560050qoDNij","908306kvddtn","canTraverse","_right","initContentPromise","uri","getTileset","_geometricError","hasEmptyContent","extent","_top","createBoundingVolume","unloaded","_tileset","getContent","2HuGMFr","modelMatrix","UNLOADED","sqrt","_contentBoundingVolume","substr","fitMapFrustum","632115mmnGXz","resetTileFromJson","getMagic","_screenSpaceError","7915vPEVPE","READY","reject","initExtent","tile content error:","length","_depth","push","geoTranslation","box","failed","_content","boundingSphere","contentResolve","then","radius","ready","getElements","json","setTileContent","tileset json error:","resolve","154583winlwU"],ae=b$e;!function(t,e){const r=b$e;for(;;)try{if(661648===parseInt(r(498))+-parseInt(r(523))*parseInt(r(475))+-parseInt(r(545))+parseInt(r(486))*-parseInt(r(483))+parseInt(r(519))*parseInt(r(512))+parseInt(r(497))+-parseInt(r(464))*parseInt(r(469)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$e);class Tile3D{constructor(t,e,r,i,n){const s=b$e;this[s(510)]=t,this[s(495)]=r,this[s(489)]=-1===e[s(466)]("/")?"./":e[s(517)](0,e[s(466)]("/")+1),this[s(481)]=i&&r.transform?new Matrix4(new Float32Array(r.transform)):new Matrix4;let o=i?i[s(472)]:this[s(510)][s(513)],a=(new Matrix4)[s(456)](o)[s(456)](this[s(481)]);this[s(472)]=a,this[s(467)]=this[s(508)](r.boundingVolume,a);let h,l,c,u=r[s(548)];defined(u)&&defined(u[s(463)])&&(h=this.createBoundingVolume(u[s(463)],a)),this[s(516)]=h,this[s(490)]=n||1,this[s(531)]=this[s(510)][s(531)],this[s(482)]=this[s(510)].projTranslation,this[s(487)]={UNLOADED:s(509),READY:s(539),LOADING:"loading",PROCESSING:"processing",FAILED:s(533)},this[s(450)]=this[s(487)][s(514)],u?(this.tileUrl=this._basePath+(u[s(502)]||u[s(476)]),this.tileName=this[s(549)],c=-1!==this[s(549)][s(466)](".")?this[s(549)][s(517)](this[s(549)][s(466)](".")+1,this.tileUrl[s(528)]):"",l=!1,this[s(450)]=this.tileContentState[s(514)]):(l=!0,this[s(450)]=this[s(487)].READY),this[s(505)]=l,this[s(459)]=c;let p,f=r[s(550)];!f&&(f=i?i[s(550)]:this[s(510)][s(504)],console.warn(s(494))),this[s(550)]=f,p=r[s(478)]?r[s(478)][s(492)]()===s(493)?s(493):s(477):i?i[s(478)]:s(493),this[s(478)]=p,this[s(457)]=[],this[s(555)]=i,this[s(534)]=void 0,this._contentType=void 0,this[s(529)]=0,this[s(547)]=!1,this[s(552)]=!1,this[s(501)](),this[s(526)]()}createBoundingVolume(t,e){return t}[ae(501)](){const t=ae;let e,r;this.contentReadyPromise=new Promise((function(t,i){e=t,r=i})),this[t(468)][t(544)]=e,this[t(468)].reject=r}[ae(536)](t){const e=ae;this[e(468)][e(544)](t)}[ae(503)](){return this[ae(510)]}[ae(511)](){return this[ae(534)]}[ae(458)](){return this[ae(451)]}[ae(480)](){const t=ae;return this[t(450)]==this[t(487)][t(524)]}async[ae(491)](){const t=ae;if(this[t(505)])return!1;if(this[t(552)]=!0,"b3dm"!=this[t(459)]&&await this[t(520)](),"b3dm"==this[t(459)]){this.fetchArrayBuffer().then((e=>{const r=t;this[r(534)]=new Batched3DModelContent(e,0);let i=this[r(534)].getModel();this[r(468)][r(544)](i)}))}else this[t(468)][t(544)]()}async[ae(520)](){const t=ae;let e=await this[t(454)]();this[t(542)](e.root)}[ae(470)](){return new Promise(((t,e)=>{const r=b$e,i=this.tileUrl;fetch(i,{method:"get",responseType:r(479)}).then((function(t){const n=r;if(t.ok)return t[n(496)]();e(n(527)+i)}))[r(537)]((function(e){e&&t(e)}))[r(474)]((function(t){e(r(461)+i)}))}))}fetchTileJson(){return new Promise(((t,e)=>{const r=b$e,i=this[r(549)];fetch(i,{method:"get",responseType:r(485)}).then((function(t){const n=r;if(t.ok)return t[n(541)]();e(n(543)+i)}))[r(537)]((function(e){e&&t(e)}))[r(474)]((function(t){e(r(461)+i)}))}))}[ae(542)](t){const e=ae;let r=t,i=r.content;if(i){this._basePath=-1===this.tileUrl[e(466)]("/")?"./":this[e(549)][e(517)](0,this[e(549)][e(466)]("/")+1),this.tileUrl=this[e(489)]+(i[e(502)]||i[e(476)]),this.tileName=this[e(549)];let t=-1!==this[e(549)][e(466)](".")?this[e(549)][e(517)](this.tileUrl[e(466)](".")+1,this[e(549)][e(528)]):"";this.extenseName=t}this[e(495)]=r;let n=[];for(n.push(this);n[e(528)]>0;){let t=n.pop(),r=t[e(495)][e(457)];if(r){let i=r[e(528)];for(let s=0;s<i;++s){let i=r[s],o=new Tile3D(this._tileset,this[e(489)],i,t,this[e(490)]);t[e(457)][e(530)](o),o[e(529)]=t[e(529)]+1,n.push(o)}}}}[ae(551)](t){const e=ae;this.contentReadyPromise[e(525)](),this[e(450)]=this[e(487)][e(553)]}[ae(521)](t,e){const r=ae;return getStringFromTypedArray(t,e=defined(e)?e:0,Math[r(460)](4,t[r(528)]))}initExtent(){const t=ae,e=this[t(510)][t(453)],r=180/Math.PI,i=this[t(490)],n=(e==t(488)?1/111e3:1)*i;let s=this[t(510)][t(513)][t(540)](),o=new Coordinate(s[12],s[13],s[14]),a=this._boundingVolume||this[t(516)];if(a&&a[t(554)]){let s=a[t(554)],h=s[0]*r,l=s[1]*r,c=s[2]*r,u=s[3]*r,p="4326"==e?this[t(531)]:this[t(482)],f=Transformer[t(481)](new Coordinate(h,l),t(488),e),g=Transformer[t(481)](new Coordinate(c,u),t(488),e),d=o._x+(f._x-p._x)*i,_=o._y+(f._y-p._y)*i,y=o._x+(g._x-p._x)*i,m=o._y+(g._y-p._y)*i,I=(d+y)/2,x=(_+m)/2,v=o._z+(s[4]+s[5])*n/2,b=(y-d)/2,w=(m-_)/2,T=(s[5]-s[4])*n/2;this[t(506)]=new Extent(d,_,y,m),this[t(471)]=new Coordinate(I,x,v),this[t(535)]={center:[I,x,v],radius:Math[t(515)](b*b+w*w+T*T)}}else if(a&&a[t(532)]){let r=a.box,i=e==t(488)?this[t(531)]:this[t(482)],s=new Coordinate(i._x+r[0]*n,i._y+r[1]*n,i._z+r[2]*n),h=new Coordinate(s._x-r[3]*n,s._y-r[7]*n),l=new Coordinate(s._x+r[3]*n,s._y+r[7]*n),c=o._x+(h._x-i._x),u=o._y+(h._y-i._y),p=o._x+(l._x-i._x),f=o._y+(l._y-i._y),g=(c+p)/2,d=(u+f)/2,_=o._z+r[2]*n,y=(p-c)/2,m=(f-u)/2,I=.5*r[11]*n;this[t(506)]=new Extent(c,u,p,f),this[t(471)]=new Coordinate(g,d,_),this[t(535)]={center:[g,d,_],radius:Math[t(515)](y*y+m*m+I*I)}}else if(a&&a[t(455)]){let r=a[t(455)],s=Transformer[t(481)](new Coordinate(r[0],r[1],r[2]),t(473),"3857"),h=this[t(482)],l=s._x-h._x-r[3],c=s._y-h._y-r[3],u=s._x-h._x+r[3],p=s._y-h._y+r[3],f=Transformer.transform(new Coordinate(l,c),t(452),e),g=Transformer[t(481)](new Coordinate(u,p),t(452),e),d=o._x+f._x*i,_=o._y+f._y*i,y=o._x+g._x*i,m=o._y+g._y*i,I=(d+y)/2,x=(_+m)/2,v=o._z+r[2]*n;this[t(506)]=new Extent(d,_,y,m),this[t(471)]=new Coordinate(I,x,v),this.boundingSphere={center:[I,x,v],radius:r[3]*n}}}[ae(518)](t){const e=ae;let r=this[e(535)];if(r){let i=r[e(471)],n=r[e(538)],s=new Vector3(i[0],i[1],i[2]);for(let r=0;r<t[e(528)];r++)if(t[r].distance(s)<2*-n)return!1;return!0}}fitMapExtent(t){const e=ae;if(this.extent)return!(t[e(546)]>this[e(506)][e(500)]||t[e(500)]<this[e(506)][e(546)]||t[e(484)]>this[e(506)][e(507)]||t[e(507)]<this[e(506)]._bottom)}updateScreenError(t,e,r){const i=ae,n=this[i(510)].srid;let s=this[i(510)],o=this.parent,a=o?o[i(550)]:s.geometricError,h=r?a:this.geometricError;if(0===h)return 0;let l=this[i(471)];if(!l)return!1;{let r=e[i(462)](l,n);this[i(522)]=t*h/r}}[ae(499)](){const t=ae;return 0!==this.children[t(528)]&&this[t(522)]>this[t(510)]._maximumScreenSpaceError}unloadContent(){const t=ae;this[t(534)]&&(this[t(534)][t(465)](),this[t(534)]=void 0,this[t(451)]=void 0,this.hasRequest=!1,this[t(450)]=this[t(450)][t(514)]),this[t(501)]()}}function b$e(t,e){return a$e[t-=450]}const a$d=["169723hzMULy","initExtent","_content","2771842oooLyY","120444wsLnre","1CeYDOA","getTop","requestRejectHandle","READY","updateExtent","children","extent","690473aIvJTQ","hasEmptyContent","_tileset","geometricError","1lDDkvS","containsTile","250431audIjS","center","add","getCenter","extendExtent","1wUxSKw","344677sSEfqu","requestContent","403984nJhQYy","tileContentState","tileUrl","length","_contentState","3LDaCcQ","getLeft"],l=b$d;function b$d(t,e){return a$d[t-=175]}!function(t,e){const r=b$d;for(;;)try{if(603618===-parseInt(r(177))*parseInt(r(184))+parseInt(r(186))*-parseInt(r(191))-parseInt(r(179))-parseInt(r(198))-parseInt(r(190))+-parseInt(r(204))*-parseInt(r(202))+-parseInt(r(176))*-parseInt(r(189)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$d);class EmptyTile3D extends Tile3D{constructor(t,e,r,i){const n=b$d;super(t,i.basePath+"",{geometricError:i[n(201)],refine:n(206),content:null},i),this[n(181)]=i[n(181)],this[n(205)]=r,this[n(197)]=e,this.children=[],this[n(199)]=!0}[l(187)](){return null}[l(193)](t){const e=l;t[e(200)][e(183)]=this[e(180)][e(194)],t[e(188)]=void 0}[l(178)](){this[l(193)](this)}[l(203)](t){const e=l,r=this[e(197)],i=t[e(205)]._x,n=t.center._y;return r[e(185)]()<=i&&r.getRight()>i&&r.getBottom()<=n&&r[e(192)]()>n}[l(195)](){const t=l;for(let e=0,r=this[t(196)][t(182)];e<r;e++)this[t(197)][t(175)](this[t(196)][e].extent);this[t(205)]=this[t(197)][t(207)]()}}const a$c=["techniqueParameter","byteLength cannot be negative.","originTransform","accessors","name","meshes","214699caFrPi","output","region","indexOf","techniqueUniform","scenes","materials","getUint8","sphere","getWidth","sqrt","4326","extent","DOUBLE","center","createArrayBufferView","technique","The tileset must be 3D Tiles version 0.0 or 1.0.","getFloat64","maximumScreenSpaceError","root","projTranslation","KHR_draco_mesh_compression","getCenter","KHR_techniques_webgl","compressedImage3DTiles","values","getOrdinate","min","meshPrimitiveTargetAttribute","srid","411039VqOrOq","createVirtualLOD","texture","mesh","inverseBindMatrices","sub-region exceeds array bounds.","UNSIGNED_INT","extensionsUsed","0.0","gridDivision","getInt16","extensions","byteOffset cannot be negative.","load","834429hKsDXB","object","box","accessorWithSemantic","json","parse","_userScale","targets","buffer is required.","bufferView","materialValue","Tileset3DTileContent: uint8Array is required.","application/json","allTileLoaded","max","image","fromName","getTileTree","node","accessor","accessorContainingVertexAttributeData","textures","extras","attributes","url","meshPrimitiveAttribute","1UgsYdV","UNSIGNED_SHORT","sampler","push","programs","objectLegacy","loadTileset","valuesOrLength is required.","shader","userScale","text","getUint16","boundingSphere","UNSIGNED_BYTE","bufferViews","constructor","nodeInScene","getLeft","camera","then","techniqueAttribute","the 3dtileset url must be given!","setTranslate","BYTE","parameters","input","byteLength","9vGpqFH","_calculateTransform","buffer","getInt32","BYTES_PER_ELEMENT","shaders","89119YAGPUe","fill","nodes","getUint32","children","value is required.","meshPrimitive","subarray","Tileset must have an asset property.","INT","SHORT","272715fZUtIa","17dvpBbp","5WPTIZR","skins","samplers","4479","clone","accessorContainingIndexData","_depth","transform","techniques","createTypedArray","animation","_root","animationSampler","modelMatrix","481153nGsMcw","uniforms","undefined","indices","function","asset","geoTranslation","length","FLOAT","componentDatatype is required.","componentDatatype is not a valid value.","hasOwnProperty","splice","getSizeInBytes","version","cameras","nodeInTree","error","animations","topLevel","","name is not a valid value.","3857","239221CHrWEx","skin","meshPrimitiveTarget","3iTaYkr","compressedImage","buffers"],V=b$c;!function(t,e){const r=b$c;for(;;)try{if(844409===-parseInt(r(338))*parseInt(r(350))+parseInt(r(305))*parseInt(r(388))+parseInt(r(265))+parseInt(r(365))*parseInt(r(391))+parseInt(r(279))+parseInt(r(349))*parseInt(r(351))+-parseInt(r(332))*parseInt(r(400)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$c);class Tile3DLoader{constructor(t){const e=b$c;if(!t.url)throw e(326);this[e(274)]=defined(t[e(274)])?t[e(274)]:[5,5],this.srid=t[e(264)],this[e(303)]=t[e(303)],this.modelMatrix=t[e(364)]?t.modelMatrix:new Matrix4,this[e(292)]=!1,this._maximumScreenSpaceError=defined(t[e(253)])?t[e(253)]:16,this[e(285)]=t[e(376)](e(314))?t[e(314)]:1}[V(278)](){let t=this;return new Promise((function(e){t.parse((function(t){t[b$c(292)]=!0,e(t)}))}))}[V(266)](t){const e=V,[r,i]=this[e(274)],n=t[e(296)](),s=n[e(246)],o=n.boundingSphere,a=s.getBottom(),h=s[e(322)](),l=s[e(409)]()/r,c=s.getHeight()/i,u=[];for(let s=0;s<r;s++){const r=h+l*s,p=h+l*(s+1);for(let s=0;s<i;s++){const i=a+c*s,h=a+c*(s+1),l=new Extent(r,i,p,h),f=new EmptyTile3D(t,l,l[e(257)](),n);let g=(r+p)/2,d=(i+h)/2,_=o[e(248)][2],y=(r+p)/2,m=(i+h)/2;f[e(317)]={center:[g,d,_],radius:Math[e(410)](y*y+m*m+(y+m)*(y+m)/4)},u[e(308)](f)}}const p=n[e(342)];for(let t=0,r=u[e(372)];t<r;t++){f(u[t],p)}function f(t,r){const i=e;for(let e=0;e<r[i(372)];e++){const n=r[e];t.containsTile(n)&&(t[i(342)][i(308)](n),r.splice(e,1),e--)}t.updateExtent()}return n[e(342)]=u,u}[V(296)](){return this[V(362)]}[V(284)](t){const e=V;let r=this;fetch(this[e(303)],{responseType:e(315),headers:{Accept:e(291)}})[e(324)]((function(t){return t[e(283)]()}))[e(324)]((function(i){const n=e;r[n(333)](i),r[n(362)]=r[n(311)](r.url,i),"function"==typeof t&&t(r)}),(function(){const t=e;console[t(382)](t(385))}))}[V(333)](t){const e=V;let r=t[e(254)]&&t[e(254)][e(358)];if(r){let t=new Coordinate(r[12],r[13],r[14]);this[e(371)]=Transformer[e(358)](t.clone(),e(354),e(411)),this[e(255)]=Transformer[e(358)](t,e(354),e(387))}else{let r=t[e(254)].boundingVolume;if(r[e(402)]){let t=180/Math.PI,i=new Coordinate(t*(r[e(402)][0]+r.region[2])/2,t*(r[e(402)][1]+r[e(402)][3])/2);this.geoTranslation=i.clone(),this[e(255)]=Transformer.transform(i,e(411),"3857")}else if(r[e(281)]){let t=new Coordinate(r[e(281)][0],r.box[1],r[e(281)][2]);this.geoTranslation=Transformer[e(358)](t[e(355)](),e(354),"4326"),this[e(255)]=Transformer[e(358)](t,e(354),e(387))}else if(r.sphere){let t=new Coordinate(r[e(408)][0],r[e(408)][1],r[e(408)][2]);this[e(371)]=Transformer[e(358)](t.clone(),"4479",e(411)),this[e(255)]=Transformer[e(358)](t,e(354),e(387))}}let i=this[e(264)]==e(411)?this.geoTranslation:this.projTranslation;this[e(396)]=(new Matrix4)[e(327)](i[e(261)]("X"),i.getOrdinate("Y"),i[e(261)]("Z"))}[V(311)](t,e,r){const i=V;let n=e[i(370)];if(!n)throw i(346);if(n[i(379)]!==i(273)&&"1.0"!==n.version)throw i(251);let s=new Tile3D(this,t,e[i(254)],r,this._userScale);r&&(r.children[i(308)](s),s._depth=r[i(357)]+1);let o=[];for(o.push(s);o[i(372)]>0;){let e=o.pop(),r=e._header.children;if(r){let n=r[i(372)];for(let s=0;s<n;++s){let n=r[s];try{let r=new Tile3D(this,t,n,e,this[i(285)]);e[i(342)][i(308)](r),r[i(357)]=e[i(357)]+1,o.push(r)}catch(t){}}}}return s}}function ForEach(){}ForEach[V(310)]=function(t,e){const r=V;if(defined(t))for(let i in t)if(t[r(376)](i)){let r=e(t[i],i);if(defined(r))return r}},ForEach[V(280)]=function(t,e){if(defined(t)){let r=t.length;for(let i=0;i<r;i++){let r=e(t[i],i);if(defined(r))return r}}},ForEach[V(384)]=function(t,e,r){const i=V;let n=t[e];return!defined(n)||n instanceof Array?ForEach[i(280)](n,r):ForEach[i(310)](n,r)},ForEach[V(298)]=function(t,e){const r=V;return ForEach[r(384)](t,r(397),e)},ForEach[V(282)]=function(t,e,r){const i=V;let n={};return ForEach[i(268)](t,(function(t){const s=i;return ForEach[s(344)](t,(function(t){const i=s;let o=ForEach[i(304)](t,(function(t,s){if(0===s[i(403)](e)&&!defined(n[t])){n[t]=!0;let e=r(t);if(defined(e))return e}}));return defined(o)?o:ForEach.meshPrimitiveTarget(t,(function(t){return ForEach[i(263)](t,(function(t,i){if(0===i.indexOf(e)&&!defined(n[t])){n[t]=!0;let e=r(t);if(defined(e))return e}}))}))}))}))},ForEach[V(299)]=function(t,e){let r={};return ForEach.mesh(t,(function(t){const i=b$c;return ForEach[i(344)](t,(function(t){const n=i;let s=ForEach[n(304)](t,(function(t){if(!defined(r[t])){r[t]=!0;let i=e(t);if(defined(i))return i}}));return defined(s)?s:ForEach[n(390)](t,(function(t){return ForEach[n(263)](t,(function(t){if(!defined(r[t])){r[t]=!0;let i=e(t);if(defined(i))return i}}))}))}))}))},ForEach[V(356)]=function(t,e){const r=V;let i={};return ForEach[r(268)](t,(function(t){const n=r;return ForEach[n(344)](t,(function(t){let r=t[n(368)];if(defined(r)&&!defined(i[r])){i[r]=!0;let t=e(r);if(defined(t))return t}}))}))},ForEach[V(361)]=function(t,e){const r=V;return ForEach[r(384)](t,r(383),e)},ForEach.animationChannel=function(t,e){const r=V;let i=t.channels;return ForEach[r(280)](i,e)},ForEach[V(363)]=function(t,e){const r=V;let i=t[r(353)];return ForEach[r(280)](i,e)},ForEach[V(334)]=function(t,e){return ForEach[V(384)](t,"buffers",e)},ForEach[V(288)]=function(t,e){const r=V;return ForEach[r(384)](t,r(319),e)},ForEach[V(323)]=function(t,e){const r=V;return ForEach[r(384)](t,r(380),e)},ForEach[V(294)]=function(t,e){return ForEach[V(384)](t,"images",e)},ForEach[V(392)]=function(t,e){const r=V;if(defined(t[r(301)])){let i=t.extras[r(259)];for(let t in i)if(i[r(376)](t)){let r=e(i[t],t);if(defined(r))return r}}},ForEach.material=function(t,e){const r=V;return ForEach[r(384)](t,r(406),e)},ForEach[V(289)]=function(t,e){const r=V;let i=t[r(260)];defined(t[r(276)])&&defined(t.extensions[r(258)])&&(i=t[r(276)][r(258)].values);for(let t in i)if(i[r(376)](t)){let r=e(i[t],t);if(defined(r))return r}},ForEach[V(268)]=function(t,e){const r=V;return ForEach[r(384)](t,r(399),e)},ForEach[V(344)]=function(t,e){const r=V;let i=t.primitives;if(defined(i)){let t=i[r(372)];for(let r=0;r<t;r++){let t=e(i[r],r);if(defined(t))return t}}},ForEach[V(304)]=function(t,e){const r=V;let i=t.attributes;for(let t in i)if(i[r(376)](t)){let r=e(i[t],t);if(defined(r))return r}},ForEach[V(390)]=function(t,e){const r=V;let i=t[r(286)];if(defined(i)){let t=i[r(372)];for(let r=0;r<t;++r){let t=e(i[r],r);if(defined(t))return t}}},ForEach[V(263)]=function(t,e){const r=V;for(let i in t)if(t[r(376)](i)){let r=e(t[i],i);if(defined(r))return r}},ForEach[V(297)]=function(t,e){return ForEach[V(384)](t,"nodes",e)},ForEach[V(381)]=function(t,e,r){const i=V;let n=t[i(340)];if(defined(n)){let s=e.length;for(let o=0;o<s;o++){let s=e[o],a=n[s];if(defined(a)){let e=r(a,s);if(defined(e))return e;let n=a.children;if(defined(n)&&(e=ForEach[i(381)](t,n,r),defined(e)))return e}}}},ForEach[V(321)]=function(t,e,r){const i=V;let n=e.nodes;if(defined(n))return ForEach[i(381)](t,n,r)},ForEach.program=function(t,e){const r=V;return hasExtension(t,"KHR_techniques_webgl")?ForEach[r(280)](t[r(276)][r(258)][r(309)],e):ForEach.topLevel(t,r(309),e)},ForEach[V(307)]=function(t,e){const r=V;return ForEach[r(384)](t,r(353),e)},ForEach.scene=function(t,e){const r=V;return ForEach[r(384)](t,r(405),e)},ForEach[V(313)]=function(t,e){const r=V;return hasExtension(t,r(258))?ForEach[r(280)](t[r(276)][r(258)][r(337)],e):ForEach[r(384)](t,r(337),e)},ForEach[V(389)]=function(t,e){const r=V;return ForEach[r(384)](t,r(352),e)},ForEach[V(325)]=function(t,e){const r=V;let i=t[r(302)];for(let t in i)if(i[r(376)](t)){let r=e(i[t],t);if(defined(r))return r}},ForEach[V(404)]=function(t,e){let r=t[V(366)];for(let t in r)if(r.hasOwnProperty(t)){let i=e(r[t],t);if(defined(i))return i}},ForEach[V(394)]=function(t,e){const r=V;let i=t[r(329)];for(let t in i)if(i[r(376)](t)){let r=e(i[t],t);if(defined(r))return r}},ForEach[V(250)]=function(t,e){const r=V;return t.extensionsUsed&&t[r(272)].indexOf("KHR_techniques_webgl")>=0?ForEach.object(t[r(276)].KHR_techniques_webgl[r(359)],e):ForEach[r(384)](t,r(359),e)},ForEach[V(267)]=function(t,e){const r=V;return ForEach.topLevel(t,r(300),e)};let Remove=function(){};function b$c(t,e){return a$c[t-=246]}function clone(t,e){const r=V;if(null===t||typeof t!==r(280))return t;e=!!defined(e)&&e;let i=new(t[r(320)]);for(let r in t)if(t.hasOwnProperty(r)){let n=t[r];e&&(n=clone(n,e)),i[r]=n}return i}function defined(t){return null!=t&&null!=t}function arrayFill(t,e,r,i){const n=V;if(typeof t[n(339)]===n(369))return t[n(339)](e,r,i);let s=t.length>>>0,o=defined(r)?r:0,a=o<0?Math[n(293)](s+o,0):Math[n(262)](o,s),h=defined(i)?i:s,l=h<0?Math.max(s+h,0):Math.min(h,s);for(;a<l;)t[a]=e,a++;return t}function hasExtension(t,e){const r=V;return defined(t[r(272)])&&t[r(272)][r(403)](e)>=0}function objectToArray(t,e){const r=V;let i=[];for(let n in t)if(t[r(376)](n)){let s=t[n];e[n]=i[r(372)],i[r(308)](s),!defined(s[r(398)])&&(s[r(398)]=n)}return i}function addToArray(t,e,r){const i=V;if(r=!!defined(r)&&r){let r=t[i(403)](e);if(r>-1)return r}return t.push(e),t[i(372)]-1}Remove[V(298)]=function(t,e){const r=V;t[r(397)][r(377)](e,1),ForEach[r(268)](t,(function(t){ForEach.meshPrimitive(t,(function(t){const r=b$c;ForEach.meshPrimitiveAttribute(t,(function(r,i){r>e&&t[b$c(302)][i]--})),ForEach[r(390)](t,(function(t){ForEach[r(263)](t,(function(r,i){r>e&&t[i]--}))}));let i=t[r(368)];defined(i)&&i>e&&t[r(368)]--}))})),ForEach[r(389)](t,(function(t){const i=r;defined(t[i(269)])&&t[i(269)]>e&&t[i(269)]--})),ForEach.animation(t,(function(t){ForEach.animationSampler(t,(function(t){const r=b$c;defined(t[r(330)])&&t[r(330)]>e&&t[r(330)]--,defined(t[r(401)])&&t[r(401)]>e&&t.output--}))}))},Remove.buffer=function(t,e){const r=V;t[r(393)][r(377)](e,1),ForEach[r(288)](t,(function(t){const i=r;defined(t[i(334)])&&t[i(334)]>e&&t[i(334)]--}))},Remove.bufferView=function(t,e){const r=V;t.bufferViews[r(377)](e,1),ForEach[r(298)](t,(function(t){const i=r;defined(t[i(288)])&&t[i(288)]>e&&t[i(288)]--})),ForEach[r(313)](t,(function(t){const i=r;defined(t[i(288)])&&t[i(288)]>e&&t.bufferView--})),ForEach.image(t,(function(t){const i=r;defined(t[i(288)])&&t[i(288)]>e&&t[i(288)]--,ForEach[i(392)](t,(function(t){const r=i;let n=t.bufferView;defined(n)&&n>e&&t[r(288)]--}))})),hasExtension(t,r(256))&&ForEach[r(268)](t,(function(t){ForEach.meshPrimitive(t,(function(t){const r=b$c;defined(t[r(276)])&&defined(t[r(276)].KHR_draco_mesh_compression)&&t[r(276)][r(256)][r(288)]>e&&t[r(276)][r(256)][r(288)]--}))}))};let ComponentDatatype={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130};function getComponentReader(t){const e=V;switch(t){case ComponentDatatype.BYTE:return function(t,e,r,i,n){for(let s=0;s<r;++s)n[s]=t.getInt8(e+s*i)};case ComponentDatatype.UNSIGNED_BYTE:return function(t,e,r,i,n){const s=b$c;for(let o=0;o<r;++o)n[o]=t[s(407)](e+o*i)};case ComponentDatatype[e(348)]:return function(t,r,i,n,s){const o=e;for(let e=0;e<i;++e)s[e]=t[o(275)](r+e*n,!0)};case ComponentDatatype[e(306)]:return function(t,r,i,n,s){const o=e;for(let e=0;e<i;++e)s[e]=t[o(316)](r+e*n,!0)};case ComponentDatatype[e(347)]:return function(t,r,i,n,s){const o=e;for(let e=0;e<i;++e)s[e]=t[o(335)](r+e*n,!0)};case ComponentDatatype[e(271)]:return function(t,r,i,n,s){const o=e;for(let e=0;e<i;++e)s[e]=t[o(341)](r+e*n,!0)};case ComponentDatatype.FLOAT:return function(t,e,r,i,n){for(let s=0;s<r;++s)n[s]=t.getFloat32(e+s*i,!0)};case ComponentDatatype[e(247)]:return function(t,r,i,n,s){const o=e;for(let e=0;e<i;++e)s[e]=t[o(252)](r+e*n,!0)}}}function getStringFromTypedArray(t,e,r){const i=V;if(!defined(t))throw i(290);if(e<0)throw i(277);if(r<0)throw i(395);if(e+r>t.byteLength)throw i(270);if(e=defined(e)?e:0,r=defined(r)?r:t[i(331)]-e,t=t[i(345)](e,e+r),typeof TextDecoder!==i(367))return(new TextDecoder).decode(t);for(var n="",s=0,o=t.length;s<o;s++)n+=String.fromCharCode(t[s]);return decodeURIComponent(escape(n))}ComponentDatatype[V(378)]=function(t){const e=V;if(!defined(t))throw e(343);switch(t){case ComponentDatatype[e(328)]:return Int8Array[e(336)];case ComponentDatatype[e(318)]:return Uint8Array[e(336)];case ComponentDatatype[e(348)]:return Int16Array[e(336)];case ComponentDatatype.UNSIGNED_SHORT:return Uint16Array[e(336)];case ComponentDatatype[e(347)]:return Int32Array[e(336)];case ComponentDatatype[e(271)]:return Uint32Array.BYTES_PER_ELEMENT;case ComponentDatatype[e(373)]:return Float32Array[e(336)];case ComponentDatatype[e(247)]:return Float64Array[e(336)];default:throw e(375)}},ComponentDatatype.fromTypedArray=function(t){const e=V;return t instanceof Int8Array?ComponentDatatype[e(328)]:t instanceof Uint8Array?ComponentDatatype.UNSIGNED_BYTE:t instanceof Int16Array?ComponentDatatype[e(348)]:t instanceof Uint16Array?ComponentDatatype[e(306)]:t instanceof Int32Array?ComponentDatatype.INT:t instanceof Uint32Array?ComponentDatatype[e(271)]:t instanceof Float32Array?ComponentDatatype[e(373)]:t instanceof Float64Array?ComponentDatatype[e(247)]:void 0},ComponentDatatype.validate=function(t){const e=V;return defined(t)&&(t===ComponentDatatype.BYTE||t===ComponentDatatype[e(318)]||t===ComponentDatatype[e(348)]||t===ComponentDatatype[e(306)]||t===ComponentDatatype[e(347)]||t===ComponentDatatype[e(271)]||t===ComponentDatatype.FLOAT||t===ComponentDatatype[e(247)])},ComponentDatatype[V(360)]=function(t,e){const r=V;if(!defined(t))throw r(374);if(!defined(e))throw r(312);switch(t){case ComponentDatatype.BYTE:return new Int8Array(e);case ComponentDatatype[r(318)]:return new Uint8Array(e);case ComponentDatatype[r(348)]:return new Int16Array(e);case ComponentDatatype[r(306)]:return new Uint16Array(e);case ComponentDatatype[r(347)]:return new Int32Array(e);case ComponentDatatype[r(271)]:return new Uint32Array(e);case ComponentDatatype[r(373)]:return new Float32Array(e);case ComponentDatatype[r(247)]:return new Float64Array(e);default:throw r(375)}},ComponentDatatype[V(249)]=function(t,e,r,i){const n=V;if(!defined(t))throw"componentDatatype is required.";if(!defined(e))throw n(287);switch(r=defined(r)?r:0,i=defined(i)?i:(e[n(331)]-r)/ComponentDatatype.getSizeInBytes(t),t){case ComponentDatatype[n(328)]:return new Int8Array(e,r,i);case ComponentDatatype[n(318)]:return new Uint8Array(e,r,i);case ComponentDatatype[n(348)]:return new Int16Array(e,r,i);case ComponentDatatype[n(306)]:return new Uint16Array(e,r,i);case ComponentDatatype[n(347)]:return new Int32Array(e,r,i);case ComponentDatatype.UNSIGNED_INT:return new Uint32Array(e,r,i);case ComponentDatatype[n(373)]:return new Float32Array(e,r,i);case ComponentDatatype[n(247)]:return new Float64Array(e,r,i);default:throw n(375)}},ComponentDatatype[V(295)]=function(t){const e=V;switch(t){case"BYTE":return ComponentDatatype.BYTE;case e(318):return ComponentDatatype[e(318)];case e(348):return ComponentDatatype.SHORT;case"UNSIGNED_SHORT":return ComponentDatatype[e(306)];case e(347):return ComponentDatatype.INT;case e(271):return ComponentDatatype[e(271)];case e(373):return ComponentDatatype.FLOAT;case e(247):return ComponentDatatype[e(247)];default:throw e(386)}};const a$b=["UNSIGNED_BYTE","indexType","sub-region exceeds array bounds.","vertexColor","parseString","texCoordZMatrix","geodes","parseStandardSkeleton","getUint8","decode","parseGeode","aNormal","primitiveType","57398wBTzLZ","pageLods","getUint32","materialCode","SV_Standard","replace","S3MBVertexTag","uv9","instanceIndex","parseCompressVertex","SHORT","parseCompressSkeleton","parseSkeleton","uv1","uv2","vertexColorInstance","minTexCoordValue","texCoordCompressConstant","SVC_Vertex","2249ocZMPJ","parseNormal","42686NLPpNc","57hNgwax","byteLength","instanceBuffer","uv6","verticesCount","parsePageLOD","VertexCompressOptions","parseCompressNormal","aTexCoord","413668eMKxld","uv7","byteOffset cannot be negative.","uv4","rangeList","parseCompressTexCoord","buffer","rangeMode","getStringFromTypedArray","parseSecondColor","indicesCount","FLOAT","918269QHqgBo","615LHxCEz","bytesOffset","getFloat64","uv8","vertexPackage","slice","SVC_TexutreCoord","groupNode","vertexAttributes","push","13267MWZpyo","aPosition","parseInstanceInfo","parseMaterial","compressOptions","string","matrix","decompress","instanceCount","indicesTypedArray","byteLength cannot be negative.","parseVertexColor","version","parseVertex","skeletonNames","texturePackage","materials","parseGroupNode","Batched3DModel3DTileContent: uint8Array is required.","getFloat32","substring","defined","textureCoordIsW","parseTexturePackage","fromCharCode","2RPtCWe","320708iKXDwk","length","boundingSphere","ComponentDatatype","getUint16","minVerticesValue","Geometry","vertCompressConstant","uv5","parseIndexPackage","4tGUAVO","attrLocation","geoPackage","SVC_TexutreCoordIsW","SV_Compressed","subarray","BYTES_PER_ELEMENT","uv3","indexOf","initConsant","parseBuffer"],B=b$b;function b$b(t,e){return a$b[t-=417]}!function(t,e){const r=b$b;for(;;)try{if(818791===parseInt(r(433))*-parseInt(r(443))+parseInt(r(432))*parseInt(r(488))+parseInt(r(510))+parseInt(r(521))*-parseInt(r(489))+parseInt(r(467))+-parseInt(r(511))*-parseInt(r(486))+parseInt(r(498)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$b);class S3ModelParser{constructor(){this[b$b(452)]()}[B(452)](){const t=B;this[t(436)]={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DOUBLE:5130},this.VertexCompressOptions={SVC_Vertex:1,SVC_Normal:2,SVC_VertexColor:4,SVC_SecondColor:8,SVC_TexutreCoord:16,SVC_TexutreCoordIsW:32},this[t(473)]={SV_Unkown:0,SV_Standard:1,SV_Compressed:2}}unZip(t,e){const r=B;let i=new Uint8Array(t,e);return new Inflate(i)[r(528)]()[r(504)]}[B(428)](t){return null!=t&&null!=t}[B(458)](t,e,r){const i=B;let n=e[i(469)](r,!0);r+=Uint32Array.BYTES_PER_ELEMENT;let s=new Uint8Array(t,r,n),o=this[i(506)](s);return o=o[i(472)]("\n","").replace("\0",""),{string:o,bytesOffset:r+=n}}[B(464)](t,e,r,i){const n=B;let s={},o=[],a=new Array(16);for(let t=0;t<16;t++)a[t]=e[n(513)](r,!0),r+=Float64Array[n(449)];s[n(527)]=a,s[n(421)]=o;let h=e[n(469)](r,!0);r+=Uint32Array[n(449)];for(let i=0;i<h;i++){let i=this[n(458)](t,e,r);o[n(520)](i.string),r=i[n(512)]}return i.push(s),r}parsePageLOD(t,e,r,i){const n=B;let s={};s[n(502)]=e[n(426)](r,!0),r+=Float32Array[n(449)],s[n(505)]=e[n(437)](r,!0),r+=Uint16Array[n(449)];let o={};o.x=e.getFloat64(r,!0),r+=Float64Array[n(449)],o.y=e[n(513)](r,!0),r+=Float64Array[n(449)],o.z=e[n(513)](r,!0),r+=Float64Array[n(449)];let a=e[n(513)](r,!0);r+=Float64Array[n(449)],s[n(435)]={center:o,radius:a};let h=this[n(458)](t,e,r),l=h.string;r=h[n(512)];let c=l[n(451)](n(439));if(-1!==c){let t=l[n(427)](c);l=l[n(472)](t,"")}s.childTile=l,s.geodes=[];let u=e[n(469)](r,!0);r+=Uint32Array[n(449)];for(let i=0;i<u;i++)r=this[n(464)](t,e,r,s[n(460)]);return i[n(520)](s),r}[B(424)](t,e,r,i){const n=B;let s={},o=[];e[n(469)](r,!0),r+=Uint32Array[n(449)];let a=e[n(469)](r,!0);r+=Uint32Array[n(449)];for(let i=0;i<a;i++)r=this[n(494)](t,e,r,o);s[n(468)]=o;let h=r%4;return 0!==h&&(r+=4-h),i[n(518)]=s,r}parseVertex(t,e,r,i){const n=B;let s=e[n(469)](r,!0);if(i[n(493)]=s,(r+=Uint32Array[n(449)])<=0)return r;let o=e.getUint16(r,!0);r+=Uint16Array[n(449)];let a=e[n(437)](r,!0);a=o*Float32Array[n(449)],r+=Uint16Array[n(449)];let h=s*o*Float32Array[n(449)],l=new Uint8Array(t,r,h);r+=h;let c=i.vertexAttributes,u=i.attrLocation;return u[n(522)]=c[n(434)],c[n(520)]({index:u[n(522)],typedArray:l,componentsPerAttribute:o,componentDatatype:this.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:a,normalize:!1}),r}[B(487)](t,e,r,i){const n=B;let s=e[n(469)](r,!0);if(r+=Uint32Array[n(449)],s<=0)return r;let o=e.getUint16(r,!0);r+=Uint16Array[n(449)];let a=e.getUint16(r,!0);r+=Uint16Array.BYTES_PER_ELEMENT;let h=s*o*Float32Array[n(449)],l=new Uint8Array(t,r,h);r+=h;let c=i[n(519)],u=i.attrLocation;return u[n(465)]=c.length,c[n(520)]({index:u[n(465)],typedArray:l,componentsPerAttribute:o,componentDatatype:this[n(436)][n(509)],offsetInBytes:0,strideInBytes:a,normalize:!1}),r}[B(418)](t,e,r,i){const n=B;let s=e[n(469)](r,!0);r+=Uint32Array.BYTES_PER_ELEMENT;let o,a=i.verticesCount;if(s>0){e[n(437)](r,!0),r+=Uint16Array.BYTES_PER_ELEMENT,r+=2*Uint8Array[n(449)];let i=s*Uint8Array[n(449)]*4;o=new Uint8Array(t,r,i)[n(516)](0,i),r+=i}else{o=new Uint8Array(4*a);for(let t=0;t<a;t++)o[4*t]=255,o[4*t+1]=255,o[4*t+2]=255,o[4*t+3]=255}let h=i[n(519)],l=i[n(444)];return l.aColor=h.length,h[n(520)]({index:l.aColor,typedArray:o,componentsPerAttribute:4,componentDatatype:this[n(436)][n(454)],offsetInBytes:0,strideInBytes:4,normalize:!0}),i[n(457)]=o,r}[B(507)](t,e,r,i){const n=B;let s=e[n(469)](r,!0);if(r+=Uint32Array[n(449)],s<=0)return r;e[n(437)](r,!0),r+=Uint16Array.BYTES_PER_ELEMENT,r+=2*Uint8Array[n(449)];let o=s*Uint8Array[n(449)]*4,a=new Uint8Array(t,r,o);r+=o;let h=i[n(519)],l=i[n(444)];return l.aSecondColor=h[n(434)],h[n(520)]({index:l.aSecondColor,typedArray:a,componentsPerAttribute:4,componentDatatype:this.ComponentDatatype[n(454)],offsetInBytes:0,strideInBytes:4,normalize:!0}),r}parseTexCoord(t,e,r,i){const n=B;let s=e[n(437)](r,!0);r+=Uint16Array[n(449)],r+=Uint16Array[n(449)];for(let o=0;o<s;o++){let s=e[n(469)](r,!0);r+=Uint32Array[n(449)];let a=e.getUint16(r,!0);r+=Uint16Array[n(449)],e.getUint16(r,!0),r+=Uint16Array[n(449)];let h=s*a*Float32Array[n(449)],l=new Uint8Array(t,r,h);r+=h;let c=n(497)+o,u=i.vertexAttributes,p=i[n(444)];p[c]=u[n(434)],u.push({index:p[c],typedArray:l,componentsPerAttribute:a,componentDatatype:this.ComponentDatatype.FLOAT,offsetInBytes:0,strideInBytes:a*Float32Array[n(449)],normalize:!1})}return r}parseInstanceInfo(t,e,r,i){const n=B;let s=e[n(437)](r,!0);r+=Uint16Array[n(449)],r+=Uint16Array.BYTES_PER_ELEMENT;let o=i[n(519)],a=i.attrLocation;for(let h=0;h<s;h++){let s=e.getUint32(r,!0);r+=Uint32Array[n(449)];let h=e.getUint16(r,!0);r+=Uint16Array[n(449)],e.getUint16(r,!0),r+=Uint16Array[n(449)];let l=s*h*Float32Array[n(449)];if(17===h||29===h){let e=new Uint8Array(t,r,l);i[n(529)]=s,i.instanceMode=h,i[n(491)]=e,i[n(475)]=1;let c,u=h*s*4,p=e[n(516)](0,u);i[n(482)]=p,17===h?(c=17*Float32Array.BYTES_PER_ELEMENT,a[n(481)]=o[n(434)],o[n(520)]({index:a[n(481)],componentsPerAttribute:4,componentDatatype:this[n(436)].FLOAT,normalize:!1,offsetInBytes:0,strideInBytes:c,instanceDivisor:1}),a.uv3=o[n(434)],o[n(520)]({index:a[n(450)],componentsPerAttribute:4,componentDatatype:this.ComponentDatatype[n(509)],normalize:!1,offsetInBytes:4*Float32Array[n(449)],strideInBytes:c,instanceDivisor:1}),a[n(501)]=o[n(434)],o.push({index:a[n(501)],componentsPerAttribute:4,componentDatatype:this[n(436)][n(509)],normalize:!1,offsetInBytes:8*Float32Array[n(449)],strideInBytes:c,instanceDivisor:1}),a[n(441)]=o[n(434)],o[n(520)]({index:a[n(441)],componentsPerAttribute:4,componentDatatype:this[n(436)][n(509)],normalize:!1,offsetInBytes:12*Float32Array[n(449)],strideInBytes:c,instanceDivisor:1}),a[n(492)]=o.length,o[n(520)]({index:a[n(492)],componentsPerAttribute:4,componentDatatype:this[n(436)][n(454)],normalize:!0,offsetInBytes:16*Float32Array[n(449)],strideInBytes:c,instanceDivisor:1})):29===h&&(c=29*Float32Array[n(449)],a.uv1=o.length,o[n(520)]({index:a[n(480)],componentsPerAttribute:4,componentDatatype:this[n(436)][n(509)],normalize:!1,offsetInBytes:0,strideInBytes:c,instanceDivisor:1,byteLength:l}),a[n(481)]=o.length,o[n(520)]({index:a[n(481)],componentsPerAttribute:4,componentDatatype:this.ComponentDatatype[n(509)],normalize:!1,offsetInBytes:4*Float32Array.BYTES_PER_ELEMENT,strideInBytes:c,instanceDivisor:1}),a.uv3=o[n(434)],o[n(520)]({index:a[n(450)],componentsPerAttribute:4,componentDatatype:this[n(436)][n(509)],normalize:!1,offsetInBytes:8*Float32Array[n(449)],strideInBytes:c,instanceDivisor:1}),a[n(501)]=o.length,o[n(520)]({index:a[n(501)],componentsPerAttribute:4,componentDatatype:this[n(436)].FLOAT,normalize:!1,offsetInBytes:12*Float32Array[n(449)],strideInBytes:c,instanceDivisor:1}),a.uv5=o[n(434)],o[n(520)]({index:a[n(441)],componentsPerAttribute:4,componentDatatype:this[n(436)][n(509)],normalize:!1,offsetInBytes:16*Float32Array.BYTES_PER_ELEMENT,strideInBytes:c,instanceDivisor:1}),a[n(492)]=o.length,o[n(520)]({index:a[n(492)],componentsPerAttribute:4,componentDatatype:this[n(436)][n(509)],normalize:!1,offsetInBytes:20*Float32Array.BYTES_PER_ELEMENT,strideInBytes:c,instanceDivisor:1}),a[n(499)]=o[n(434)],o[n(520)]({index:a[n(499)],componentsPerAttribute:3,componentDatatype:this[n(436)][n(509)],normalize:!1,offsetInBytes:24*Float32Array[n(449)],strideInBytes:c,instanceDivisor:1}),a[n(514)]=o[n(434)],o[n(520)]({index:a[n(514)],componentsPerAttribute:4,componentDatatype:this[n(436)][n(454)],normalize:!0,offsetInBytes:27*Float32Array[n(449)],strideInBytes:c,instanceDivisor:1}),a[n(474)]=o.length,o[n(520)]({index:a[n(474)],componentsPerAttribute:4,componentDatatype:this[n(436)][n(454)],normalize:!0,offsetInBytes:28*Float32Array[n(449)],strideInBytes:c,instanceDivisor:1}))}else{let t=s*h;i.instanceBounds=new Float32Array(t);for(let n=0;n<t;n++)i.instanceBounds[n]=e.getFloat32(r,!0)}r+=l}return r}parseCompressVertex(t,e,r,i){const n=B;let s=e.getUint32(r,!0);if(i.verticesCount=s,(r+=Uint32Array[n(449)])<=0)return r;let o=e[n(437)](r,!0);r+=Uint16Array[n(449)];let a=e[n(437)](r,!0);a=o*Int16Array.BYTES_PER_ELEMENT,r+=Uint16Array[n(449)];let h=e[n(426)](r,!0);r+=Float32Array[n(449)];let l={};l.x=e[n(426)](r,!0),r+=Float32Array[n(449)],l.y=e.getFloat32(r,!0),r+=Float32Array.BYTES_PER_ELEMENT,l.z=e[n(426)](r,!0),r+=Float32Array[n(449)],l.w=e[n(426)](r,!0),r+=Float32Array[n(449)],i[n(440)]=h,i[n(438)]=l;let c=s*o*Int16Array[n(449)],u=new Uint8Array(t,r,c);r+=c;let p=i[n(519)],f=i[n(444)];return f[n(522)]=p[n(434)],p[n(520)]({index:f[n(522)],typedArray:u,componentsPerAttribute:o,componentDatatype:this[n(436)][n(477)],offsetInBytes:0,strideInBytes:a,normalize:!1}),r}parseCompressNormal(t,e,r,i){const n=B;let s=e[n(469)](r,!0);if(r+=Uint32Array[n(449)],s<=0)return r;e[n(437)](r,!0),r+=Uint16Array[n(449)];let o=e.getUint16(r,!0);r+=Uint16Array.BYTES_PER_ELEMENT;let a=2*s*Int16Array[n(449)],h=new Uint8Array(t,r,a);r+=a;let l=i[n(519)],c=i[n(444)];return c[n(465)]=l[n(434)],l[n(520)]({index:c[n(465)],typedArray:h,componentsPerAttribute:2,componentDatatype:this[n(436)][n(477)],offsetInBytes:0,strideInBytes:o,normalize:!1}),r}[B(503)](t,e,r,i){const n=B;i[n(484)]=[],i[n(483)]=[];let s=e[n(437)](r,!0);r+=Uint16Array[n(449)],r+=Uint16Array[n(449)];for(let o=0;o<s;o++){let s=e[n(462)](r,!0);r+=Uint8Array[n(449)],r+=3*Uint8Array[n(449)];let a=e[n(469)](r,!0);r+=Uint32Array[n(449)];let h=e.getUint16(r,!0);r+=Uint16Array[n(449)],e[n(437)](r,!0),r+=Uint16Array[n(449)];let l=e.getFloat32(r,!0);r+=Float32Array[n(449)],i[n(484)][n(520)](l);let c={};c.x=e.getFloat32(r,!0),r+=Float32Array[n(449)],c.y=e[n(426)](r,!0),r+=Float32Array[n(449)],c.z=e[n(426)](r,!0),r+=Float32Array[n(449)],c.w=e.getFloat32(r,!0),r+=Float32Array[n(449)],i[n(483)].push(c);let u=a*h*Int16Array[n(449)],p=new Uint8Array(t,r,u),f=(r+=u)%4;0!==f&&(r+=4-f);let g=n(497)+o,d=i[n(519)],_=i[n(444)];if(_[g]=d.length,d.push({index:_[g],typedArray:p,componentsPerAttribute:h,componentDatatype:this[n(436)].SHORT,offsetInBytes:0,strideInBytes:h*Int16Array.BYTES_PER_ELEMENT,normalize:!1}),s){u=a*Float32Array[n(449)];let e=new Uint8Array(t,r,u);r+=u,i[n(459)]=!0,g="aTexCoordZ"+o,_[g]=d[n(434)],d[n(520)]({index:_[g],typedArray:e,componentsPerAttribute:1,componentDatatype:this.ComponentDatatype[n(509)],offsetInBytes:0,strideInBytes:Float32Array[n(449)],normalize:!1})}}return r}[B(461)](t,e,r,i){const n=B;return r=this.parseVertex(t,e,r,i),r=this.parseNormal(t,e,r,i),r=this.parseVertexColor(t,e,r,i),r=this[n(507)](t,e,r,i),r=this.parseTexCoord(t,e,r,i),r=this[n(523)](t,e,r,i)}[B(478)](t,e,r,i){const n=B;let s=e[n(469)](r,!0);return i[n(525)]=s,r+=Uint32Array[n(449)],r=(s&this[n(495)].SVC_Vertex)===this[n(495)][n(485)]?this[n(476)](t,e,r,i):this[n(420)](t,e,r,i),r=(s&this[n(495)].SVC_Normal)===this[n(495)].SVC_Normal?this[n(496)](t,e,r,i):this[n(487)](t,e,r,i),r=this.parseVertexColor(t,e,r,i),r=this.parseSecondColor(t,e,r,i),r=(s&this.VertexCompressOptions[n(517)])===this[n(495)][n(517)]?this[n(503)](t,e,r,i):this.parseTexCoord(t,e,r,i),(s&this[n(495)].SVC_TexutreCoordIsW)===this[n(495)][n(446)]&&(i[n(429)]=!0),r=this[n(523)](t,e,r,i)}[B(442)](t,e,r,i){const n=B;let s=e[n(469)](r,!0);r+=Uint32Array[n(449)];for(let o=0;o<s;o++){let s={},o=e[n(469)](r,!0);r+=Uint32Array[n(449)];let a=e[n(462)](r,!0);r+=Uint8Array.BYTES_PER_ELEMENT,e.getUint8(r,!0),r+=Uint8Array.BYTES_PER_ELEMENT;let h=e[n(462)](r,!0);if(r+=Uint8Array[n(449)],r+=Uint8Array[n(449)],o>0){let e,i=null;1===a||3===a?(e=o*Uint32Array[n(449)],i=new Uint8Array(t,r,e)):(e=o*Uint16Array[n(449)],i=new Uint8Array(t,r,e),o%2!=0&&(e+=2)),s[n(530)]=i,r+=e}s[n(508)]=o,s[n(455)]=a,s[n(466)]=h;let l=e[n(469)](r,!0);r+=Uint32Array[n(449)];for(let i=0;i<l;i++){let i=this[n(458)](t,e,r),o=i[n(526)];r=i.bytesOffset,s[n(470)]=o}if(0!==r%4){r+=4-r%4}i[n(520)](s)}return r}[B(479)](t,e,r,i){const n=B;e[n(469)](r,!0),r+=Uint32Array[n(449)];let s=e.getUint32(r,!0);r+=Uint32Array[n(449)];for(let o=0;o<s;o++){let s=this[n(458)](t,e,r),o=s[n(526)],a=(r=s[n(512)])%4;0!==a&&(r+=4-a);let h=e[n(469)](r,!0);r+=Int32Array.BYTES_PER_ELEMENT;let l={vertexAttributes:[],attrLocation:{},instanceCount:0,instanceMode:0,instanceIndex:-1};h===this[n(473)][n(471)]?r=this[n(461)](t,e,r,l):h===this[n(473)][n(447)]&&(r=this[n(478)](t,e,r,l));let c=[];r=this[n(442)](t,e,r,c),i[o]={vertexPackage:l,arrIndexPackage:c}}return r+=e[n(469)](r,!0),r+=Uint32Array.BYTES_PER_ELEMENT}[B(430)](t,e,r,i){const n=B;e[n(469)](r,!0),r+=Uint32Array[n(449)];let s=e.getUint32(r,!0);r+=Uint32Array[n(449)];for(let o=0;o<s;o++){let s=this[n(458)](t,e,r),o=s[n(526)],a=(r=s[n(512)])%4;0!==a&&(r+=4-a),e[n(469)](r,!0),r+=Uint32Array[n(449)];let h=e[n(469)](r,!0);r+=Uint32Array.BYTES_PER_ELEMENT;let l=e[n(469)](r,!0);r+=Uint32Array[n(449)];let c=e[n(469)](r,!0);r+=Uint32Array.BYTES_PER_ELEMENT;let u=e[n(469)](r,!0);r+=Uint32Array[n(449)];let p=e[n(469)](r,!0);r+=Uint32Array[n(449)];let f=new Uint8Array(t,r,u);r+=u,i[o]={id:o,width:h,height:l,compressType:c,nFormat:p,internalFormat:33779,imageBuffer:f}}return r}[B(524)](t,e,r,i){const n=B;let s=e[n(469)](r,!0);r+=Uint32Array[n(449)];let o=new Uint8Array(t,r,s),a=this[n(506)](o);return r+=s,a=a[n(472)]("\n","").replace("\0",""),i[n(423)]=JSON.parse(a),r}parsePickInfo(t,e,r,i,n){const s=B;if(1==(1&i)){e[s(469)](r,!0),r+=Uint32Array[s(449)];let i=e[s(469)](r,!0);r+=Uint32Array[s(449)];for(let o=0;o<i;o++){let i=this[s(458)](t,e,r),o=i[s(526)];r=i[s(512)];let a=e[s(469)](r,!0);r+=Uint32Array[s(449)];let h={};n[o].pickInfo=h;let l=n[o][s(515)].instanceIndex;for(let t=0;t<a;t++){let t=e.getUint32(r,!0);r+=Uint32Array[s(449)];let i=e[s(469)](r,!0);r+=Uint32Array[s(449)];let n=[];for(let t=0;t<i;t++){let t=e[s(469)](r,!0);r+=Uint32Array[s(449)];let i=1;-1===l&&(i=e[s(469)](r,!0),r+=Uint32Array[s(449)]),n.push({vertexColorOffset:t,vertexColorCount:i})}h[t]=n}}}return r}[B(453)](t){const e=B;let r=0,i={version:void 0,groupNode:void 0,geoPackage:{},matrials:void 0,texturePackage:{}},n=new DataView(t);i[e(419)]=n[e(426)](r,!0),r+=Float32Array[e(449)],n[e(469)](r,!0),r+=Uint32Array.BYTES_PER_ELEMENT;let s=this.unZip(t,r);n=new DataView(s),r=0;let o=n.getUint32(r,!0);return r+=Uint32Array[e(449)],r=this[e(424)](s,n,r,i),r=this[e(479)](s,n,r,i.geoPackage),r=this[e(430)](s,n,r,i[e(422)]),r=this[e(524)](s,n,r,i),this.parsePickInfo(s,n,r,o,i[e(445)]),i}[B(506)](t,e,r){const i=B;if(!this.defined(t))throw i(425);if(e<0)throw i(500);if(r<0)throw i(417);if(e+r>t[i(490)])throw i(456);if(e=this.defined(e)?e:0,r=this.defined(r)?r:t[i(490)]-e,t=t[i(448)](e,e+r),"undefined"!=typeof TextDecoder)return(new TextDecoder)[i(463)](t);for(var n="",s=0,o=t[i(434)];s<o;s++)n+=String[i(431)](t[s]);return decodeURIComponent(escape(n))}}const a$a=["arrIndexPackage","boundingSphere","geoPackage","isLeafTile","childTile","ambient","1103962BtCzsE","1rbCdxM","parseMaterial","userScale","srid","pickInfo","scale","matrix","727mhPdIE","wrapS","4326","bTransparentSorting","1153sKOKcH","byteLength","110927VIITnr","specular","material","datas","length","materials","addressmode","vertexPackage","1133768gvooNR","skeletonNames","defined","minVerticesValue","texturePackage","rangeMode","boundingVolume","4391139RUxMTr","parsePagelods","push","texMatrix","textureunitstates","pageLods","rangeDataList","shininess","groupNode","texmodmatrix","REPEAT","wrapT","CLAMP_TO_EDGE","set","parseGeodes","573uAufdn","rangeList","specularColor","getElements","_userScale","translate","2141EsxVUw","imageBuffer","ambientColor","multiplyVector3","center","textures","transparentsorting","512806ZNeAIk","3dnNZMO"],N=b$a;function b$a(t,e){return a$a[t-=440]}!function(t,e){const r=b$a;for(;;)try{if(781820===-parseInt(r(456))-parseInt(r(478))+parseInt(r(448))+parseInt(r(470))*parseInt(r(449))+parseInt(r(441))*-parseInt(r(464))+-parseInt(r(500))*parseInt(r(468))+-parseInt(r(485))*-parseInt(r(457)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$a);class S3MContentParser{constructor(t){const e=b$a;this[e(460)]=t[e(460)],this[e(504)]=t.hasOwnProperty(e(459))?t[e(459)]:1}defined(t){return null!=t&&null!=t}[N(458)](t){const e=N;let r={},i=t[e(475)][e(472)];for(let n=0,s=i[e(474)];n<s;n++){let s=i[n][e(472)],o=s.id,a=S3MContentParser.getDefaultMaterial();r[o]=a;let h=s[e(455)];a[e(443)]=[h.r,h.g,h.b,h.a];let l=s.diffuse;a.diffuseColor=[l.r,l.g,l.b,l.a];let c=s[e(471)];a[e(502)]=[c.r,c.g,c.b,c.a],a.shininess=s[e(492)],a[e(467)]=s[e(447)];let u=s[e(489)],p=u[e(474)];for(let r=0;r<p;r++){const i=u[r].textureunitstate,n=i.id,s=0===i[e(476)].u?e(495):e(497),o=0===i[e(476)].v?e(495):"CLAMP_TO_EDGE";a[e(488)]=i[e(494)];let h=t[e(482)][n];if(h&&h[e(442)][e(469)]>0){h[e(465)]=s,h[e(496)]=o;let t={textureCode:n,textureInfo:h};a[e(446)][e(487)](t)}}}return r}[N(499)](t,e,r,i,n){const s=N;let o=[],a=i.geodes,h=(this[s(460)]==s(466)?1/111e3:1)*this[s(504)];for(let n=0,l=a.length;n<l;n++){let l,c=a[n],u=new Vector3;if(this[s(480)](i.boundingSphere)){let t=i[s(451)].center;u[s(498)](t.x*h,t.y*h,t.z*h),l=i.boundingSphere.radius*h}let p=t[s(444)](u)[s(503)](),f=c[s(479)];for(let t=0,i=f.length;t<i;t++){let i,n=f[t],a=e[s(452)][n],u=a[s(477)],g=a[s(450)];a[s(461)],g[s(474)]>0&&(i=r[g[0].materialCode]);let d=u[s(481)],_=u.vertCompressConstant,y=new Matrix4(new Float32Array(c[s(463)]));d?y.translate(d.x*h,d.y*h,d.z*h):y[s(440)](h,h,h),_?y.scale(_*h,_*h,_*h):y[s(462)](h,h,h);let m={vertexPackage:u,arrIndexPackage:g,tileMatrix:y[s(503)](),material:i,boundingSphere:{center:p,radius:l}};o[s(487)](m)}}n[s(473)]=o}[N(486)](t,e,r){const i=N;let n=e[i(493)],s=[];for(let o=0,a=n.pageLods[i(474)];o<a;o++){let a={},h=n[i(490)][o];a[i(483)]=h[i(483)],a[i(491)]=h[i(454)],a.rangeList=h[i(501)];let l=h[i(451)][i(445)],c=h[i(451)].radius;""!==a[i(491)]?a[i(484)]={sphere:{center:[l.x,l.y,l.z],radius:c}}:a[i(453)]=!0,this.parseGeodes(t,e,r,h,a),s.push(a)}return s}parse(t,e){const r=N;if(!e)return;let i=this[r(458)](e);return this[r(486)](t,e,i)}static getDefaultMaterial(){return{ambientColor:[1,1,1,1],diffuseColor:[1,1,1,1],specularColor:[0,0,0,0],bTransparentSorting:!1,textures:[]}}}var a$9=["fromFacebookMessengerUrl","goog.provide cannot be used within a module.","writePackedInt64String","text","getWireType","isArray","readEnum","endDelimited_","setField","isString","SafeScript{","evalWorksForGlobals_","ASSUME_GO2PHONE","lastChild","WINDOWS","assign",'" given.',"isChromeOS","isRtlText","getRepeatedBooleanField","setProto3FloatField","setRepeatedWrapperField","floatAwareCompare","shuffle","lsb",'" already declared.',"forEachRight","unescapeEntitiesUsingDom_","goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.","href","HTMLEmbedElement","isInnerHtmlCleanupRecursive_","assertIsElementType_","DEFAULT_ERROR_HANDLER","GoogModuleDependency","writeSint64","src","IFRAME","ASSUME_WEBKIT","NAV","$jscomp","writeUnsignedVarint64_","isFirefox","MAX_VALUE","scope","ExtensionFieldBinaryInfo","pause","transpiler_","srcdoc","setAudioSrc","PARAM","ArrayIteratorIterable_","createRule","newLineToBr","method names provided to goog.base must be a string or a symbol","writeRepeatedInt64","SAFE_URL_PATTERN_","isUpperCamelCase","push","clearModuleState","abs","isAndroidBrowser","countDelimitedFields","Conversion error: string contains codepoint outside of byte range","applyProperties_","String.prototype.startsWith","range","MAIN","arr_","UNSEALABLE_CONSTRUCTOR_PROPERTY_","[object Function]","createMetaRefresh","initPivotAndExtensionObject_","constructNamespace_","getField","slice","crossorigin","fromJson","crypt","useSafari10Workaround","BASEFONT","transpile","SMALL","hexToByteArray","assertIsHTMLVideoElement","isEdgeChromium","iPad","refresh","max","rtlChars_","stringify_","lastComponent","every","caseInsensitiveStartsWith","splitInt64","goog.dom.safe.setInnerHtml cannot be used to set content of ","text/css","assert","Linux","splice","sandbox","skipFixed32Field","factory_","SFIXED32","VALUE_RE_","depsToLoad_","hiddenES6Property_","readInt8","sanitize","Int64","OBJECT_PROTOTYPE_FIELDS_","splitFloat64","isTrident","TEMPLATE","bytesListAsU8","es7","internal","readBool","isEmptyOrWhitespaceSafe","UInt64","END_GROUP","assertIsLocation","Invalid wire encoding for field.","HTMLAudioElement","readAny","buffer_","setEnd","STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_","readSplitFixed64","readSignedVarint64","PRODUCT_KNOWN_","readInt32String","isMacintosh",'Cannot write "',"splitUint64","htmlEscape","COMMENT_RE_","loadDeps_","writeFieldHeader_","writeUnsignedVarint32","isSafari","removeAttribute","isNull","initSecurityPrivateDoNotAccessOrElse_","setAttribute","Edg/","assertIsHTMLLinkElement","EDGE_OR_IE","FIGCAPTION","TRUSTED_TYPES_POLICY_","VALID_NAMES_IN_TAG_","transform","platform","fail",'The "style" attribute requires goog.html.SafeStyle or map of style properties, ',"bootstrap","NULL_RE_","DATA_URL_PATTERN_","readSplitZigzagVarint64","callbackMap_","compareExtensions","Tag name <","writeRepeatedSplitVarint64","writeFixed32","MAP","matchAndroidBrowser_","AREA","BASE_URL_","getTypedStringValue","isRequiredLtrRe_","hasAnyLtr","Failure","afterend","loadModuleFromSource_","quot","insertArrayAt","split64Low","readCallbacks_","getAllPropertyNames","APPLET","setProto3StringIntField","5.0","DELIMITED","WireType","assertInstanceof","readPackedFixedHash64","%27","SPAN","parseFromStringHtml","contents_","loading_","readUnsignedVarint32String","COLGROUP","isPadding_","CrOS","meta","readUnsignedVarint64","ADDRESS","fromWhatsAppUrl","writeSfixed64String","unescapeEntitiesWithDocument","fromZigzag64","removeLast","Message extension present holding submessage without binary support enabled, and message is being serialized to binary format","BY_WHOLE","makeSafe","Cannot use default debug loader outside of HTML documents.","$gwtExport","writeUnsignedVarint32_",'Invalid attribute name "',"type_error:SafeHtml","escapeChar","findKey","floor","STRIKE","setElementDirAndAlign","assertIsHTMLObjectElement","SET_INNER_HTML_DISALLOWED_TAGS_","unknown type name","HTMLLinkElement","assertObjectPrototypeIsIntact","wrappers_","writePackedEnum","Entry_","subs_","NEUTRAL","matchOperaChromium_","ltrRe_","startsWithLtr","language","PLATFORM_KNOWN_","createObjectUrl","singleQuoteSubstituteRe_","stylesheet","byteSourceToUint8Array","getExtension","HEAD","relativePath","rtlLocalesRe_","extensionObject_","Edg","HTML","whatsapp://send","isDocumentLoading_","setProto3IntField","HEADER","getUrlObject_","module","isInGoogModuleLoader_","nodeValue","assertIsHTMLIFrameElement","writeVarintHash64","matchUserAgent","Name allows only [-_a-zA-Z0-9], got: ","ZERO_HASH","ssh://","binarySearch_","I18N_RIGHT","matchChrome_","apply","startsWith","hashCode","SOURCE","SAMP","SafeUrl","peek","' of type ","&#39;","Mobile","1500818FvdwFe","hasBalancedQuotes_","writeUint16","getRandomString","]*[","nkoo","decodeStringToByteArray","; url=","joinHash64","TEXTAREA","DOCUMENT_MODE","INS","transpilationTarget_","base.js","TYPE_MARKER_","createSafeStyleSheetSecurityPrivateDoNotAccessOrElse","writeRepeatedUint64String","uidCounter_","removeDuplicates","countFixed64Fields","DOUBLE","must provide non-empty justification","createPolicy","_evalTest_","serializeBinary","writePackedSint32","Invalid field type in writeAny()","stringConstValueWithSecurityContract__googStringSecurityPrivate_","loadingDeps_","addToRepeatedWrapperField",'<script type="module" crossorigin src="',"^[^","expected object of type SafeScript, got '","removeHashCode","isIosWebview","isSmsUrlBodyValid_","sequence","readPackedEnum","nodeType","convertedPrimitiveFields_","removeAt","end_","joinUint64","execScript","TWO_TO_63","writeSplitZigzagVarint64","unskipVarint","DETAILS","cacheReturnValue","$1","assertFunction","style","getWindow_","script","registerEs6ModuleExports","findIndex","AMP_RE_","isRtlChar","htmlSkipReg_","setFrameSrc","getStyleValue_","sanitizeExtensionUrl_","values",'className passed in goog.getCssName must not start with ".". You passed: ',"preserveSpaces","writeRepeatedBool","URL_PARAM_PARSER_","ASSUME_GECKO","binaryMessageDeserializeFn","START_GROUP","hasBalancedSquareBrackets_","MSIE","enforceLtrInHtml","\0\0\0\0\0\0\0\0","SUMMARY","DATA","writeRepeatedSplitFixed64","implementsGoogStringTypedString","padNumber","writePackedUint32String","LEGEND",'URL must be TrustedResourceUrl because "rel" contains "stylesheet"',"isSafeMimeType","EMPTY","setProto3BytesField","readPackedInt64","SafeHtml{","join","beginDelimited_","VALID_MODULE_RE_","var _evalTest_ = 1;","Expected number but got %s: %s.","setModuleState","xorByteArray","getAnyValue","isPresto","Copy source and target message should have the same type.","JavaScript","DebugLoader_","uncheckedconversions","firstChild","browser","some","has","bytesAsU8","CODE","FORCE_RTL","cmp","CHROME","Message field type not supported in writeAny()","copyByIndex","matchUserAgentIgnoreCase","getRepeatedFloatingPointField",'<script src="',"readFixedHash64","writeRepeatedFloat","lastIndexOf","Importing test-only code into non-debug environment","console","assertIsHTMLButtonElement"," and simple functions, got: ","asserts","es9","rtlDirCheckRe_","splitHash64",'" on tag "',"Message extension present that was generated without binary serialization support","hasAnyRtl","deferredCallbacks_","instance_","LEFT","normalizeSpaces","writeSplitFixed64","TWO_TO_32","GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_","WebKit","atEnd","goog.require could not find: ","TagName",'goog.Dependency.callback_("',"isRtlLanguage","OPERA","written_","CITE","getIndex_","tags","defineProperty","setDependencyFactory","DirectionalString","exports",'import * as m from "',"length","INNOCUOUS_STRING","Coast","FLOAT32_MAX","onLoad","GENERATE_FROM_OBJECT","Transpiler","escapeString","NONCE_PATTERN_","beforebegin","108084ubFQaO","getFullYear","Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true.","-_=","readUint64","FLOAT64_MIN","HGROUP","getNavigator_","getError","=\"goog.Dependency.callback_('","hasUid","btoa","toObjectFn","rotate","isAlphaNumeric","symbol","ASSUME_FIREFOX","binarySelect","adlm","FONT","hasBadLetScoping","writePackedSplitVarint64","Style string must contain at least one ':', to specify a \"name: value\" pair: ","userAgent_","createURL","truncate","unregisterCallback_","LOAD_MODULE_USING_EVAL","defaultCompareEquality","SCRIPT","toObjectList","E_RE_","SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","Deserializing extension whose generated code does not support binary format","getMsgWithFallback","writeRepeatedUint32String","TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","matchOpera_","requested","ASSUME_NATIVE_SUPPORT_","implementsGoogI18nBidiDirectionalString","provides","writePackedFixedHash64","documentWrite","TBODY","loadedModules_","rtlRe_","isBreakingWhitespace","nth","getAttrNameAndValue_","path","fromString","writeSignedVarint64_","ASSUME_ES5","BLOCKQUOTE","goog.base called from a method of one name to a method of a different name","DependencyFactory","bytesAsB64","loadFlags","addToRepeatedField","goog.module must be called prior to goog.module.declareLegacyNamespace.","about:invalid#zClosurez",'" attribute, got "',"partial","Dependency","msb","getEngineTuple_","getObjectByName","writeUint64","zip","844347BcbjWe","textContent","moduleLoaderState_","writeFixed64","readSfixed64","runReadCallback","Invalid wire type for skipDelimitedField","stripQuotes","MARK","SAFE_URL_PATTERN","getIEVersion_","getCount","Must be lower case",'Invalid module name "',"Expected boolean but got %s: %s.","formAction","+/=","writeZigzagVarint64String_"," given: ","name","fieldName","call","KBD","GAFP","byteToCharMaps_","&#0;","isFrozen",'");',"writePackedInt32String","STYLE","readPackedFixed32","navigator","isGecko","tagName_","addDependency","BODY","ACRONYM","X11","HTMLImageElement","doAssertFailure_","compare3","A_CHAR_CODE_","isObject","stringifyAttributes","exportSymbol","cssNameMappingStyle_","Edge","isAndroid","PRE","writeInt32String","tagUnsealableClass","init_","isIpad","collapseWhitespace","whitespaceEscape","&lt;","writePackedUint32","iPod","setAnchorHref","transpile.js","INVALID_FIELD_NUMBER","leftShift","writeZigzagVarintHash64","engine"," has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.","sub","isPacked","TRANSPILE","TWO_TO_64","assertExists","assertString","AUDIO","utf8ByteArrayToString","forwardDeclare","VHASH64","isIphone","identity","instanceCache_","writeSint32",'", but no valid label mapping found in args: ',"The browser does not support sandboxed iframes.","estimateDirection","abstractMethod","type","Trident","ANDROID","bind",'"><\/script>',"must provide justification","toArray","Key string length must be multiple of 2","getVersionForKey_","idToPath_","writePackedDouble","formatWithParams","setOneofWrapperField","maybeInitEmptyExtensionObject_","TRUSTED_SITE","isLegacyLinux_","DEFAULT_ALPHABET_COMMON_","getFieldDecoder","toDir","Failed to read varint, encoding is invalid.","&quot;","pause_","skipGroup","es_next","writeRepeatedMessage","DETECT_DOUBLE_ESCAPING","undefined","MESSAGE","byteArrayToHex","prototype","String value requires balanced square brackets and one identifier per pair of brackets, got: ","CLOSURE_IMPORT_SCRIPT","captureStackTrace","base64","ltrDirCheckRe_","createDependency","setButtonFormAction","Invalid wire type for skipFixed32Field","boolean","es3","Cannot register with defer after the call to load.","outerHTML","require","test","match","SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","pivot_","</span>","BinaryWriter","seal","shift","cache","SUB","callback_","extend","writeSignedVarint32_","getResultBuffer","createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse",'url("',"maybeWriteSerializedMessage","SafeStyleSheet","quote","error_","FUNCTIONS_RE_","<br />","InsertAdjacentHtmlPosition","hebr","SafeStyle","logToConsole_","PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY","writeRepeatedGroup","expected object of type TrustedResourceUrl, got '","writeRepeatedFixed64","script[nonce]","Invalid TrustedResourceUrl format: ","assertObject","stringToByteArray","CACHE_RETURN_VALUE","EMBED","BROWSER_KNOWN_","createTextNode","Array.prototype.find","toMap",'<script type="module" crossorigin>',"clearTimeout","MATH","matchCoast_","writeSerializedMessage","async () => 1, true","reset","URL","div","utils","%3c","Expected string but got %s: %s.","functions","getUid","TRANSPILER","LRM","JSON","defaultView","statics","createWithDir","matchEdgeChromium_","registerCallback_","isFunction","stack","writeUint8","del","TWO_TO_52","dom","assertElement","decodeStringInternal_","unwrapTrustedScript","METER","isDocumentModeOrHigher","from","STRONG","cssText","remove","ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING","isNumber","DIGITS","String.prototype.endsWith","getMapField","writePackedUint64String","GOOG","1462397uojkYq","errorHandler_","loadCallbacks_","null","propertyIsEnumerable","HTMLVideoElement","Cannot call pause after the call to load.","thaa","privateDoNotAccessOrElseSafeStyleWrappedValue_"," does not exist (was base.js loaded more than once?).","readUnsignedVarint64String","readDouble","writeRepeatedDouble","UINT32","hash64ToNumber","BYTES","substring","isEmpty","getValueByKeys","isRepeated","containsValue","rtlExitDirCheckRe_","bidi","createScriptURL","SVG","Void tag <","ASSUME_EDGE","createSafeUrlSecurityPrivateDoNotAccessOrElse","CLOSURE_LOAD_FILE_SYNC","debugLoader_","NULL","writeRepeatedFixed64String","\\x3c","ENABLE_DEBUG_LOADER","writeFixed64String","fromSmsUrl","flatten","global","GECKO","writeRepeatedEnum","getScriptNonce_","SELECT","String value allows only ","querySelector","writeZigzagVarint64String","writeRepeatedFixedHash64","URL_RE_","readSint64String","ckb","guardBracketInText","goog.module.declareLegacyNamespace must be called from within a goog.module","NATIVE_ARRAY_PROTOTYPES","getPrototypeOf","HtmlElement","SAFARI","getEntryList","getEnd","action","isNeutralText","Invalid wire type for skipVarintField","mirrorCSS","readStringWithLength","splitLimit","COMMAND","ownerDocument","fromSipUrl","SECTION","setWithReturnValueIfNotSet","Message","ASSUME_ANDROID","><\/script>","createSafeHtmlTagSecurityPrivateDoNotAccessOrElse","createStyle","type_error:SafeStyleSheet","doubleQuoteSubstituteRe_","A-Za-z-----------","userAgent","writeZigzagVarintHash64_","currentScript","normalizeWhitespace","\\$&","GROUP",'goog.loadModule(function(exports) {"use strict";',"readSplitVarint64","specialEscapeChars_",'<script type="text/javascript">',"VIDEO","safeScriptFromStringKnownToSatisfyTypeContract","isWindows","Const","declareModuleId","readSint32","Es6ModuleDependency","Group field type not supported in writeAny()","readInt32","writeUnsignedVarint64","ASSUME_NATIVE_FUNCTIONS","once","load","i18n","writeFloat","setEmbedSrc","INT32","setCursor","EMPTY_LIST_SENTINEL_","readPackedFloat","cspNonce_","setWrapperField","sanitizeFirefoxExtensionUrl","isMobile_","workaroundSafari10EvalBug","readFixed32","stripNewlines","onload","SAFE_MIME_TYPE_PATTERN_","LOCALE","1275761XgADvF","cssNameMapping_","writeUint32","ExtensionFieldInfo","createSafeHtmlSecurityPrivateDoNotAccessOrElse","stringify",'The transpiler did not properly export the "transpile" method. $gwtExport: ',"toUpperCase","VOID_TAGS_","encoder_","partialRight","unsafeClone","writeString","labs","trustedtypes","ELEMENT","splitFloat32","CLOSURE_NO_DEPS","I18N_LEFT","isMessageType","valueCtor_","TRANSPILE_TO_LANGUAGE","writePackedSplitZigzagVarint64","writeSintHash64","assertIsHTMLScriptElement","getPathFromDeps_","createImageFromBlob","[object Window]","compareVersions","setScriptContent","load_","findBasePath_","bytesListAsB64","sort","$1","readPackedUint64","FORM","number","DEL","isArrayLike","dir","setImageSrc","inverseDefaultCompare","expected object of type SafeUrl, got '","wordSeparatorRe_","HTML_ENTITY_PATTERN_","FIGURE","toString","rohg","[object Array]","8.0","rtl","messageSetExtensions","readBytes","isWebKit","es6","trim","readUint32","createSealingConstructor_","typeOf","type_error:Const","concat","es5","closure_uid_","isSorted","removeChild","now","setOneofField","\n;})();\n","afterbegin","ASSUME_ANY_VERSION","TrustedResourceUrl{","\\x08","cursor_","&#101;","ASSUME_X11","hash64ToHexString","fromHexCharCode_","unskipHeader","stringToUtf8ByteArray","set","SUPPORTS_UINT8ARRAY_","round","\n//# sourceURL=","isVersionOrHigher","CLOSURE_DEFINES","charAt","TIME","arab","var ","isKaiOS","LTR","fieldIndex","matchIosWebview_","loaded","pastEnd","ASSUME_IPHONE","NOSCRIPT","caseInsensitiveEquals","isNumeric","appendUint8Array_",'Namespace "',"Dir","writeUint32String","ASSUME_ES_MODULES_TRANSPILED","getFieldWithDefault","charToByteMap_","hasNumeralsRe_","writePackedSplitFixed64","encodeByteArray takes an array as a parameter","skipVarintField","readPackedInt64String","isRtlExitText","readVarintHash64","iframe","protectScriptTag_","isX11_","readPackedSint32","textAlign","implicitNamespaces_","determineVersion_","AssertionError","transpiler","toHexDigit_","HTMLIFrameElement","writeZigzagVarint32_","add","][^","Double call to loaded.","Element","removeIf","dir_","PLATFORM","TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","nextField","privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_","string","://","enforceRtlInHtml","Uneven number of arguments","assertArray","binaryWriterFn","RUBY","text/html","getUserAgent","Invalid module definition","util","7.0","computeOneofCase","writeSfixed64","createObjectURL","isLowerCamelCase","never","setLinkHrefAndRel","10.0","debugScalarToTextFormat","BinaryConstants","object","status","arith","readPackedInt32","readZigzagVarint64String","PDF","ASSUME_CHROME","truncateMiddle","deferredQueue_","readPackedUint64String","jsEscapeCache_","]*$","Expected array but got %s: %s.","lazyFetch_","IPHONE","repeat","exportProperty","Unknown language mode: ",' nonce="',"readSfixed32","isEmptySafe",'Cannot set "',"min","dimensionsRe_","SafeStyleSheet{","skipDelimitedField","Cannot coerce to Uint8Array: ","writeEnum","readString","setElementDirByTextDirectionality","native code","type_error:SafeStyle","writeInt16","splitZigzag64","createTrustedTypesPolicy","Expected Element but got %s: %s.","VERSION","byteArrayToString","getKeys","readInt64","ASSUME_IPAD","isOpera","%s does not match the safe URL pattern","TRUSTED_TYPES_POLICY_NAME","ltrCharReg_","paused_","ActiveXObject","rightRe_","throttle","unwrapTrustedHTML","uniqueStringCounter_","IMG","ASSUME_IPOD","createScriptSrc","Const{","TRACK","Silk","sinkValue","decimalStringToHash64","SIP_URL_PATTERN_","FLOAT64_EPS","CriOS","stringifyParams_","writePackedSfixed64String",'Attribute "',"isSilk","isLtrChar","(function(){","readUnsignedVarint32","<!DOCTYPE html>","numberAwareCompare_","wrapRepeatedField_","FRAME","LABEL"," &#160;","insertAt","RTC","RIGHT","mul","equals","fb-messenger://share","readZigzagVarintHash64","interactive","matchIE_","getLength","privateDoNotAccessOrElseSafeScriptWrappedValue_","setIframeSrc","joinFloat32","GENERATE_TO_STRING","OBJECT","globalEval","isDocumentMode","totalLength_","expected object of type SafeStyleSheet, got '","LN2","assertIsHTMLAudioElement","always","getVersionRegexResult_","end","writeZigzagVarint64","isIos","cloneWithParams","Forbidden '<' character in style sheet string: ","setTimeout","createSet","getFieldNumber","insertAdjacentHTML","tagName","setErrorHandler","setScriptSrc","withReturnValue","TWO_TO_23","loaded_","createElement","moduleName","() and [] in selector must be balanced, got: ","writeRepeatedInt32String","toLowerCase","key","SafeHtml","readUint16","toNumber","1lfNTfj","Invalid field type in readAny()","sms:","Invalid type in JSPB array","isChrome","ISINDEX","text/javascript","isDefAndNotNull","ASSUME_LOCAL_ARRAYS","FLOAT","getDirection","identity_","count","setOuterHtml","OUTPUT","requires","Invalid tag name <","caseInsensitiveCompare","nullFunction","es8","unescapeEntities","readSignedVarint32String","Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: ","TFOOT","isExtensionObject_","BDO","removeAllIf","messageId_","Expected instanceof %s but got %s.","STRICT_MODE_COMPATIBLE","trustedURL_","leftRe_","alloc","writePackedFloat","contains","createSafeStyleSecurityPrivateDoNotAccessOrElse","findRight","TWO_TO_20","nextWireType_","LoadController","unimplemented abstract method","array","writeInt64","FALSE","intAwareCompare","THEAD","0.0","exportPath_","goog_defineClass_legacy_unsealable","FEATURESET_YEAR","isInEs6ModuleLoader_","SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","arrClean","needsTranspile","writeMessage",'Found marker, "',"createSafeScriptSecurityPrivateDoNotAccessOrElse","sortByKey","writeBytes","exec","loadFromArray_","map_","goog.loadModule(","getBuffer","Unmatched end-group tag","setProto3StringField","isInModuleLoader_","stringKeys_","mul32x32","readPackedSfixed32","enforceRtlInText","Message field type not supported in readAny()","setFieldIgnoringDefault_","readPackedFixed64","getValues","defer_","FIXED32","endsWith","isSafariDesktop_","clear","writeRepeatedSfixed64String","Unregonized namespace: ","QUOT_RE_","IPAD","#base","advance","countFixed32Fields",'Module with namespace "',"rtlCharReg_","toZigzag64","isCoast","writePackedSfixed64","instantiatedSingletons_","safeUrlFromStringKnownToSatisfyTypeContract","filter","MENUITEM","lock","log","ASSUME_NO_NATIVE_MAP","getCurrentModulePath","joinUnsignedDecimalString","writePackedSintHash64","isUnsealable_","declareLegacyNamespace","setVideoSrc","toObject","writeSplitVarint64","\\x3c/$1","bytes_","map","findIndexRight","fromConstants","PROGRESS","Expected to exist: %s.","FIXED64","value","SafeScript","sanitizePropertyValueString_","writeRepeatedSintHash64","...","about:blank","BinaryEncoder","String value disallows comments, got: ","revokeObjectUrl",'" attribute',"fromTelUrl","ZERO_CHAR_CODE_","stripHtmlIfNeeded_","browserSupportsObjectUrls"," requires transpilation but no transpiler was found.","2752132njosWG","isIE","readZigzagVarint64","privateDoNotAccessOrElseSafeUrlWrappedValue_","writeRepeatedSplitZigzagVarint64","readPackedField_","addSingletonGetter","sanitizeAssertUnchanged","writePackedInt64","forEach","compareFields","parseInt","ASSUME_MAC","BOOL","create","ASSUME_IE","url","debugStringForType_","getAttribute","toTitleCase","rightShift","MENU","substr","createSandboxIframe","isGo2Phone","> does not allow content.","writePackedBool","getMsg","getType_","matchSafari_","normalizeHebrewQuote","privateDoNotAccessOrElseSafeHtmlWrappedValue_","writeFixedHash64","moveItem","UINT64","IS_OLD_IE_","DIALOG","sanitizeUrl_","OPTGROUP","isEmptyOrWhitespace","isDef","fromObject","<object could not be stringified>","collapseBreakingSpaces","BinaryDecoder","findValue","search","writeGroup","valueWrapper","IS_RTL","2 ** 2 == 4","PICTURE","bracketGuardTextRe_","readGroup","paddingChars_","Selector does not allow '<', got: ","Unknown base64 encoding at char: ","clone","Format","countVarints","assertBoolean","reflect","Module ","noModule","index","loadClosureDeps","11.0","not","find","First argument to String.prototype.","CLOSURE_CSS_NAME_MAPPING","UID_PROPERTY_","DEBUG","cloneMessage","eval","LINK","defineClass","LT_RE_","write","regExpEscape","RLM","and","setFormElementAction","isSpace","readSignedVarint32","binaryMessageSerializeFn","readInt64String","GT_RE_","fromDataUrl","ASSUME_LINUX","SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","BIG","loading","RTL","FRAMESET","product","Inconsistent type in JSPB repeated field array. Got ","readPackedInt32String","split64High","({...rest} = {}), true","writeSignedVarint32","constructor","TWO_TO_31","isEndGroup","verifyTagName","atob","splitDecimalString","joinSignedDecimalString","writeInt64String","unwrapTrustedScriptURL",'" requires goog.string.Const value, "',"initialize","isVoidTag","areDepsLoaded","charCodeAt","nonce","findInternal","combineAttributes","0000000","containsKey","mixin","fromCharCode","Chrome","encodeByteArray","writeRepeatedUint32","getScriptNonce","GO2PHONE","VAR","assertIsHTMLImageElement","decoder_","resume","readFixed64String","TABLE","fromTrustedResourceUrl","unwrap","ASSUME_KAIOS","readFloat"," with value: ","subarray","createImmutableView","writeInt32","endSubMessage","HAS_NATIVE_ENCODE_"," expected ","zero","SERIALIZE_EMPTY_TRAILING_FIELDS","isBoolean","isLinux","<\/script>","encodeString","needsTranspile_","STRING","This browser doesn't seem to support blob URLs","free","isArray_","last","readPackedSfixed64","getJsPbMessageId","fromBlob","DEFAULT","TITLE","Firefox","Invalid wire type for skipFixed64Field","KaiOS","DISALLOW_TEST_ONLY_CODE","SafeStyle{","$$$$","MOBILE","getBooleanField","deps.js","html"," must not be null or undefined","ASSUME_WINDOWS",")([a-z])","writePackedSint64","isEmptyString","blocks_","idx_","FORCE_NON_DOM_HTML_UNESCAPING","Value does not allow [{;}], got: %s.","BUTTON","writePackedSfixed32","KEYGEN","readSfixed64String","areDepsLoaded_","CustomError","error","defaultCompare","writePackedInt32","assertConsistentTypes_","ES6","getFieldNumber_","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789","Opera","assertIsHTMLAnchorElement","isVersion","Android","expected object of type SafeStyle, got '","reduceRight","reduce","CAPTION","inHtmlDocument_","detect","ENABLE_ASSERTS","Assertion failed","joinFloat64","goog.scope is not supported within a module.","SUP","readSignedVarint64String","assertIsHTMLEmbedElement","writeRepeatedString","constant","Invalid byte length!","innerHTML","ASIDE","replaceAll","ltrExitDirCheckRe_","ASSUME_SAFARI","indexOf","goog.declareModuleId may only be called once per module.","dependencies_","binaryReaderFn","SINGLE_QUOTE_RE_","Last character of style string is not ';': ","INPUT","setInputFormAction","getInternal_","isEdge","type_error:SafeScript","matchEdgeHtml_","setInnerHtml","debug","1456795ADAcwW","messageSetExtensionsBinary","bookmarks_","goog","writePackedSint64String","basePath","OPTION","FLOAT64_MAX","replace","NodeType","LINUX","toSelectorCase","defer","urlEncode","endsWithLtr","getNavigatorTyped","URL_ATTRIBUTES_","syncMapFields_","hasOwnProperty","INVALID","checkStringArgs","polyfill","readUint64String","loadFileSync_","WEBKIT","FIELDSET","revokeObjectURL","INT64","FxiOS","ltr","unsafeSetInnerHtmlDoNotUseOrElse","findUrlObject_","normalizePath_","isIpod","webkitURL","bindJs_","getGlobal","format","canUseSandboxIframe","hash64ToDecimalString","createHTML","bindNative_","readUint32String","HAS_NATIVE_DECODE_","fromConstant","NOT_ALLOWED_TAG_NAMES_","META","writePackedUint64","toObjectExtension","TranspiledDependency","setBlock","createRequiresTranspilation_","getPathName","detectRtlDirectionality","getUserAgentString","isUnicodeChar","joinInt64","Location","cloneObject","VARINT","HTMLCanvasElement","Error","split","removeUid","BDI","PROTOTYPE_FIELDS_","getRepeatedField",'The object already contains the key "',"pop","unwrapTrustedURL","nextField_","safeHtmlFromStringKnownToSatisfyTypeContract","head","CLOSURE_CSS_NAME_MAP_FN","<br>","writeZigzagVarint64_","setObjectData","HTMLScriptElement","getCursor","SINT32","ctor","writeBool","writePackedVarintHash64","EDGE","start_","writeRepeatedFixed32","inherits","getNativeUserAgentString_","LRE","Invalid count value","pending","skipVarint","readPackedSint64","get","FORMAT_MARKER_","random","readBinaryExtension","subs","async","Gecko","compose",'", in format string, "',"parseFromString","matchFirefox_","wrapEntry_","Expected %s to be a finite number but it is not.","deserializeBinary","isOperaChromium",'" with value "',"SFIXED64","complete","base","VALUE_ALLOWED_CHARS_","requireType","document","getVersion","htmlEscapePreservingNewlinesAndSpaces","readPackedVarintHash64","appendChild","SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_","compareElements_","caseInsensitiveEndsWith","isAlpha","Map","displayName","writeDouble","TRUE","writeUint64String","NOFRAMES","registerReadCallback","CLOSURE_UNCOMPILED_DEFINES","writeZigzagVarint32","TrustedResourceUrl","Windows","sanitizePropertyValue_","all","pow","TransformedDependency","HTMLFrameElement","tel:","startsWithRtl","writeRepeatedSfixed64","ASSUME_OPERA","documentMode","isNeutralChar","assertIsHTMLFormElement","SEAL_CLASS_INSTANCES","beginSubMessage","countFixedFields_","FieldType","difference","skipMatchingFields","PreTranspiledEs6ModuleDependency","getAnyKey","ModuleType","hash64ArrayToDecimalStrings","target","skipField","extractVersionTuples","DATALIST","joinZigzag64","BinaryReader","getElementsByTagName","ALL_RE_","rel","CLOSURE_BASE_PATH","getDocumentMode_","#html","Cannot coerce to b64 string: ","ENCODED_VALS","onreadystatechange","DEPENDENCIES_ENABLED","SINT64","assertIsHTMLFrameElement","loadModule","readyState","requiresTranspilation_","-_.","readZigzagVarint32","superClass_","iPhone","message","isDelimited","MAC","tempRe_","writeSfixed32","SIMPLE_FROUND_POLYFILL","objectProperty","endsWithRtl","ltrChars_","setExtension","goog.declareModuleId may only be called from within an ES6 module","setUserAgent","htmlEscapePreservingNewlines","assertFinite","AppleWebKit","caseInsensitiveContains","open","createScript","NBSP","HTMLFormElement","function","binarySearch","isDateLike","safe","writeRepeatedUint64","FOOTER","getFieldProto3","writeSignedVarint64","fieldCursor_","bucket","arrayIndexOffset_","ENUM","privateDoNotAccessOrElseSafeStyleSheetWrappedValue_","ASSUME_MOBILE_WEBKIT","setStyle","isProvided_","ARTICLE","sanitizeEdgeExtensionUrl","constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf","0123456789abcdef","clone_"],y=b$9;!function(t,e){for(var r=b$9;;)try{if(794260===parseInt(r(1979))+parseInt(r(1126))*-parseInt(r(731))+-parseInt(r(2140))+parseInt(r(521))+-parseInt(r(847))+-parseInt(r(1488))+parseInt(r(1256)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$9);const exports$1={};var global=Function("return this")(),$jscomp=$jscomp||{};$jscomp[y(1754)]={},$jscomp[y(1372)]=function(t,e,r){var i=y;t instanceof String&&(t=String(t));for(var n=t.length,s=0;s<n;s++){var o=t[s];if(e[i(542)](r,o,s,t))return{i:s,v:o}}return{i:-1,v:void 0}},$jscomp[y(504)]=!1,$jscomp[y(1224)]=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp[y(1674)]=!1,$jscomp[y(2125)]=$jscomp[y(504)]||y(1689)==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){var i=y;t!=Array[i(633)]&&t!=Object[i(633)]&&(t[e]=r[i(1241)])},$jscomp[y(1524)]=function(t){var e=y;return e(630)!=typeof window&&window===t?t:e(630)!=typeof global&&null!=global?global:t},$jscomp[y(768)]=$jscomp[y(1524)](void 0),$jscomp[y(1509)]=function(t,e,r,i){var n=y;if(e){for(r=$jscomp[n(768)],t=t[n(1550)]("."),i=0;i<t.length-1;i++){var s=t[i];s in r||(r[s]={}),r=r[s]}(e=e(i=r[t=t[t[n(2130)]-1]]))!=i&&null!=e&&$jscomp[n(2125)](r,t,{configurable:!0,writable:!0,value:e})}},$jscomp[y(1509)]("Array.prototype.findIndex",(function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).i}}),y(902),y(643)),$jscomp.checkStringArgs=function(t,e,r){var i=y;if(null==t)throw new TypeError("The 'this' value for String.prototype."+r+i(1427));if(e instanceof RegExp)throw new TypeError(i(1325)+r+" must not be a regular expression");return t+""},$jscomp[y(1509)](y(727),(function(t){return t||function(t,e){var r=b$9,i=$jscomp[r(1508)](this,t,r(1203));t+="",void 0===e&&(e=i[r(2130)]),e=Math[r(1798)](0,Math.min(0|e,i[r(2130)]));for(var n=t[r(2130)];0<n&&0<e;)if(i[--e]!=t[--n])return!1;return 0>=n}}),y(902),y(643)),$jscomp.polyfill(y(685),(function(t){return t||function(t,e){return $jscomp[b$9(1372)](this,t,e).v}}),y(902),y(643)),$jscomp[y(1509)](y(1775),(function(t){return t||function(t,e){var r=b$9,i=$jscomp.checkStringArgs(this,t,"startsWith");t+="";var n=i[r(2130)],s=t.length;e=Math[r(1798)](0,Math[r(1026)](0|e,i[r(2130)]));for(var o=0;o<s&&e<n;)if(i[e++]!=t[o++])return!1;return o>=s}}),y(902),y(643)),$jscomp[y(1509)]("String.prototype.repeat",(function(t){return t||function(t){var e=b$9,r=$jscomp[e(1508)](this,null,e(1019));if(0>t||1342177279<t)throw new RangeError(e(1577));t|=0;for(var i="";t;)1&t&&(i+=r),(t>>>=1)&&(r+=r);return i}}),y(902),y(643));var COMPILED=!0,goog=goog||{};goog.global=self,goog[y(1296)]=function(t){return void 0!==t},goog[y(1719)]=function(t){return y(983)==typeof t},goog[y(1402)]=function(t){return y(642)==typeof t},goog[y(725)]=function(t){return y(884)==typeof t},goog[y(1173)]=function(t,e,r){var i,n=y;t=t.split("."),r=r||goog[n(768)],t[0]in r||n(630)==typeof r.execScript||r[n(2022)](n(936)+t[0]);for(;t[n(2130)]&&(i=t.shift());)!t[n(2130)]&&goog.isDef(e)?r[i]=e:r=r[i]&&r[i]!==Object[n(633)][i]?r[i]:r[i]={}},goog.define=function(t,e){return e},goog[y(1175)]=2012,goog[y(1328)]=!0,goog[y(846)]="en",goog.TRUSTED_SITE=!0,goog[y(1155)]=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog[y(724)]=!1,goog.provide=function(t){var e=y;if(goog[e(1192)]())throw Error(e(1711));goog[e(1783)](t)},goog[y(1783)]=function(t,e){goog[y(1173)](t,e)},goog.getScriptNonce=function(t){var e=y;return t&&t!=goog.global?goog[e(771)](t[e(1602)]):(null===goog[e(837)]&&(goog[e(837)]=goog[e(771)](goog.global[e(1602)])),goog[e(837)])},goog[y(2138)]=/^[\w+/_-]+[=]{0,2}$/,goog[y(837)]=null,goog[y(771)]=function(t){var e=y;return(t=t[e(774)]&&t.querySelector(e(677)))&&(t=t.nonce||t[e(1274)]("nonce"))&&goog[e(2138)].test(t)?t:""},goog[y(2068)]=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog[y(1957)]=function(t){var e=y;if(!goog.isString(t)||!t||-1==t[e(1302)](goog[e(2068)]))throw Error("Invalid module identifier");if(!goog[e(1958)]())throw Error(e(1318)+t+e(585));if(goog[e(523)][e(1118)])throw Error("goog.module may only be called once per module.");goog[e(523)][e(1118)]=t},goog.module[y(1581)]=function(t){return goog[y(1957)].getInternal_(t)},goog[y(1957)][y(1482)]=function(t){return null},goog[y(1642)]={ES6:y(902),GOOG:y(1491)},goog.moduleLoaderState_=null,goog[y(1192)]=function(){var t=y;return goog[t(1958)]()||goog[t(1176)]()},goog[y(1958)]=function(){var t=y;return!!goog.moduleLoaderState_&&goog[t(523)].type==goog.ModuleType[t(730)]},goog[y(1176)]=function(){var t=y;if(goog[t(523)]&&goog.moduleLoaderState_[t(604)]==goog[t(1642)].ES6)return!0;var e=goog[t(768)][t(1750)];return!!e&&(t(1689)==typeof e.getCurrentModulePath&&!!e[t(1225)]())},goog[y(1957)][y(1229)]=function(){var t=y;goog.moduleLoaderState_[t(1229)]=!0},goog[y(821)]=function(t){var e=y;if(goog[e(523)])goog[e(523)][e(1118)]=t;else{var r=goog[e(768)][e(1750)];if(!r||e(1689)!=typeof r.getCurrentModulePath)throw Error(e(1213)+t+'" has been loaded incorrectly.');r=r[e(646)](r[e(1225)]()),goog[e(496)][t]={exports:r,type:goog.ModuleType[e(1446)],moduleId:t}}},goog.setTestOnly=function(t){var e=y;if(goog[e(1420)])throw t=t||"",Error(e(2096)+(t?": "+t:"."))},goog[y(594)]=function(t){},goog[y(518)]=function(t,e){var r=y;t=t[r(1550)]("."),e=e||goog[r(768)];for(var i=0;i<t.length;i++)if(e=e[t[i]],!goog.isDefAndNotNull(e))return null;return e},goog.globalize=function(t,e){var r=y;for(var i in e=e||goog[r(768)],t)e[i]=t[i]},goog[y(555)]=function(t,e,r,i){},goog[y(764)]=!0,goog[y(672)]=function(t){var e=y;goog.global[e(2097)]&&goog[e(768)][e(2097)][e(1442)](t)},goog[y(646)]=function(t){},goog[y(1601)]=function(t){return{}},goog[y(1493)]="",goog[y(1144)]=function(){},goog[y(603)]=function(){throw Error(y(1166))},goog[y(1262)]=function(t){var e=y;t[e(2108)]=void 0,t.getInstance=function(){var r=e;return t[r(2108)]?t[r(2108)]:(goog[r(1328)]&&(goog.instantiatedSingletons_[goog[r(1218)][r(2130)]]=t),t.instance_=new t)}},goog.instantiatedSingletons_=[],goog[y(2167)]=!0,goog.SEAL_MODULE_EXPORTS=goog[y(1328)],goog[y(496)]={},goog[y(1659)]=!COMPILED,goog[y(588)]=y(1458),goog[y(951)]=!1,goog[y(868)]="",goog[y(701)]=y(580),goog[y(2160)]=null,goog[y(1789)]=function(){var a9=y;if(null==goog[a9(2160)]){try{var c=!eval("'use strict';let d = 1;function e() {\n    return typeof d;\n};e() == 'number';")}catch(t){c=!1}goog[a9(2160)]=c}return goog.hasBadLetScoping},goog[y(841)]=function(t){var e=y;return e(1071)+t+e(915)},goog[y(1662)]=function(t){var e=y,r=goog[e(523)];try{if(goog[e(523)]={moduleName:"",declareLegacyNamespace:!1,type:goog[e(1642)][e(730)]},goog[e(709)](t))var i=t[e(542)](void 0,{});else{if(!goog[e(1719)](t))throw Error(e(992));goog.useSafari10Workaround()&&(t=goog[e(841)](t)),i=goog[e(1883)].call(void 0,t)}var n=goog[e(523)][e(1118)];if(!goog.isString(n)||!n)throw Error(e(534)+n+'"');goog[e(523)][e(1229)]?goog[e(1783)](n,i):goog.SEAL_MODULE_EXPORTS&&Object[e(653)]&&"object"==typeof i&&null!=i&&Object[e(653)](i),goog[e(496)][n]={exports:i,type:goog[e(1642)][e(730)],moduleId:goog[e(523)].moduleName}}finally{goog[e(523)]=r}},goog.loadModuleFromSource_=function(c){return eval(c),{}},goog[y(1520)]=function(t){var e=y;t=t[e(1550)]("/");for(var r=0;r<t[e(2130)];)"."==t[r]?t[e(1809)](r,1):r&&".."==t[r]&&t[r-1]&&".."!=t[r-1]?t[e(1809)](--r,2):r++;return t.join("/")},goog.loadFileSync_=function(t){var e=y;if(goog[e(768)][e(759)])return goog[e(768)][e(759)](t);try{var r=new goog.global.XMLHttpRequest;return r.open("get",t,!1),r.send(),0==r[e(1005)]||200==r[e(1005)]?r.responseText:null}catch(t){return null}},goog.transpile_=function(t,e,r){var i=y,n=goog[i(768)][i(1750)];n||(goog.global[i(1750)]=n={});var s=n[i(1791)];if(!s){var o=goog[i(1493)]+goog[i(701)],a=goog[i(1511)](o);if(a){if(function(){(0,eval)(a+i(930)+o)}[i(542)](goog[i(768)]),goog.global[i(1917)]&&goog[i(768)].$gwtExport[i(1750)]&&!goog.global.$gwtExport[i(1750)][i(1791)])throw Error(i(853)+JSON[i(852)](goog.global[i(1917)]));goog[i(768)][i(1750)].transpile=goog[i(768)][i(1917)][i(1750)][i(1791)],s=(n=goog[i(768)][i(1750)]).transpile}}return s||(s=n[i(1791)]=function(t,e){var r=i;return goog.logToConsole_(e+r(1255)),t}),s(t,e,r)},goog[y(906)]=function(t){var e=y,r=typeof t;if("object"==r){if(!t)return e(734);if(t instanceof Array)return e(1167);if(t instanceof Object)return r;var i=Object[e(633)][e(894)][e(542)](t);if(e(874)==i)return e(1004);if(e(896)==i||e(884)==typeof t[e(2130)]&&e(630)!=typeof t.splice&&e(630)!=typeof t[e(735)]&&!t[e(735)](e(1809)))return e(1167);if(e(1780)==i||void 0!==t[e(542)]&&void 0!==t[e(735)]&&!t[e(735)]("call"))return e(1689)}else if(e(1689)==r&&e(630)==typeof t[e(542)])return e(1004);return r},goog[y(1852)]=function(t){return null===t},goog[y(1133)]=function(t){return null!=t},goog.isArray=function(t){var e=y;return e(1167)==goog[e(906)](t)},goog[y(886)]=function(t){var e=y,r=goog[e(906)](t);return e(1167)==r||e(1004)==r&&e(884)==typeof t[e(2130)]},goog[y(1691)]=function(t){var e=y;return goog[e(563)](t)&&"function"==typeof t[e(2141)]},goog[y(709)]=function(t){return y(1689)==goog.typeOf(t)},goog[y(563)]=function(t){var e=y,r=typeof t;return e(1004)==r&&null!=t||e(1689)==r},goog[y(700)]=function(t){var e=y;return t[goog.UID_PROPERTY_]||(t[goog[e(1327)]]=++goog.uidCounter_)},goog[y(2150)]=function(t){return!!t[goog[y(1327)]]},goog[y(1551)]=function(t){var e=y;null!==t&&e(1851)in t&&t[e(1851)](goog[e(1327)]);try{delete t[goog[e(1327)]]}catch(t){}},goog[y(1327)]=y(910)+(1e9*Math.random()>>>0),goog[y(1996)]=0,goog.getHashCode=goog[y(700)],goog[y(2012)]=goog[y(1551)],goog.cloneObject=function(t){var e=y,r=goog[e(906)](t);if(e(1004)==r||"array"==r){if(e(1689)===typeof t[e(1313)])return t[e(1313)]();for(var i in r="array"==r?[]:{},t)r[i]=goog[e(1546)](t[i]);return r}return t},goog[y(1529)]=function(t,e,r){var i=y;return t[i(542)].apply(t[i(607)],arguments)},goog[y(1523)]=function(t,e,r){var i=y;if(!t)throw Error();if(2<arguments[i(2130)]){var n=Array[i(633)][i(1785)][i(542)](arguments,2);return function(){var r=i,s=Array.prototype.slice[r(542)](arguments);return Array[r(633)].unshift[r(1969)](s,n),t.apply(e,s)}}return function(){return t.apply(e,arguments)}},goog[y(607)]=function(t,e,r){var i=y;return Function[i(633)][i(607)]&&-1!=Function.prototype[i(607)][i(894)]()[i(1474)](i(1034))?goog[i(607)]=goog[i(1529)]:goog.bind=goog[i(1523)],goog[i(607)][i(1969)](null,arguments)},goog.partial=function(t,e){var r=y,i=Array[r(633)].slice.call(arguments,1);return function(){var e=r,n=i.slice();return n[e(1768)][e(1969)](n,arguments),t[e(1969)](this,n)}},goog[y(1376)]=function(t,e){for(var r in e)t[r]=e[r]},goog[y(913)]=goog.TRUSTED_SITE&&Date[y(913)]||function(){return+new Date},goog[y(1094)]=function(t){var e=y;if(goog[e(768)][e(2022)])goog.global[e(2022)](t,e(2076));else{if(!goog[e(768)][e(1330)])throw Error("goog.globalEval not available");if(null==goog[e(1721)]){try{goog[e(768)][e(1330)](e(2069))}catch(t){}if(e(630)!=typeof goog[e(768)][e(2002)]){try{delete goog[e(768)][e(2002)]}catch(t){}goog[e(1721)]=!0}else goog[e(1721)]=!1}if(goog[e(1721)])goog[e(768)][e(1330)](t);else{var r=goog.global.document,i=r[e(1117)](e(2169));i[e(604)]=e(1132),i[e(1500)]=!1,i[e(1606)](r[e(684)](t)),r.head[e(1606)](i),r.head[e(912)](i)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(t,e){var r=y;if("."==String(t).charAt(0))throw Error(r(2042)+t);var i=function(t){return goog[r(848)][t]||t},n=function(t){var e=r;t=t[e(1550)]("-");for(var n=[],s=0;s<t.length;s++)n[e(1768)](i(t[s]));return n[e(2066)]("-")};return n=goog[r(848)]?r(1914)==goog[r(566)]?i:n:function(t){return t},t=e?t+"-"+n(e):n(t),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog[r(768)][r(1561)](t):t},goog.setCssNameMapping=function(t,e){var r=y;goog[r(848)]=t,goog[r(566)]=e},goog[y(1283)]=function(t,e,r){var i=y;return r&&r[i(1426)]&&(t=t[i(1496)](/</g,i(576))),e&&(t=t.replace(/\{\$([^}]+)}/g,(function(t,r){return null!=e&&r in e?e[r]:t}))),t},goog[y(2174)]=function(t,e){return t},goog[y(565)]=function(t,e,r){goog[y(1173)](t,e,r)},goog[y(1020)]=function(t,e,r){t[e]=r},goog[y(1574)]=function(t,e){var r=y;function i(){}i[r(633)]=e[r(633)],t.superClass_=e[r(633)],t[r(633)]=new i,t[r(633)].constructor=t,t[r(1599)]=function(t,i,n){for(var s=r,o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i][s(1969)](t,o)}},goog[y(1599)]=function(t,e,r){var i=y,n=arguments.callee.caller;if(goog[i(1155)]||goog[i(1328)]&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(i(630)!==typeof n.superClass_){for(var s=Array(arguments.length-1),o=1;o<arguments.length;o++)s[o-1]=arguments[o];return n[i(1667)][i(1357)][i(1969)](t,s)}if("string"!=typeof e&&i(2155)!=typeof e)throw Error(i(1764));for(s=Array(arguments[i(2130)]-2),o=2;o<arguments.length;o++)s[o-2]=arguments[o];o=!1;for(var a=t[i(1357)].prototype;a;a=Object[i(783)](a))if(a[e]===n)o=!0;else if(o)return a[e][i(1969)](t,s);if(t[e]===n)return t[i(1357)].prototype[e][i(1969)](t,s);throw Error(i(506))},goog[y(1754)]=function(t){var e=y;if(goog.isInModuleLoader_())throw Error(e(1462));t[e(542)](goog.global)},goog.defineClass=function(t,e){var r=y,i=e[r(1357)],n=e[r(705)];return i&&i!=Object[r(633)][r(1357)]||(i=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),i=goog[r(1332)][r(905)](i,t),t&&goog.inherits(i,t),delete e[r(1357)],delete e[r(705)],goog.defineClass[r(1774)](i.prototype,e),null!=n&&(n instanceof Function?n(i):goog[r(1332)].applyProperties_(i,n)),i},goog.defineClass[y(1634)]=goog.DEBUG,goog.defineClass[y(905)]=function(t,e){var r=y;if(!goog[r(1332)].SEAL_CLASS_INSTANCES)return t;var i=!goog[r(1332)].isUnsealable_(e),n=function(){var e=r,s=t[e(1969)](this,arguments)||this;return s[goog[e(1327)]]=s[goog[e(1327)]],this[e(1357)]===n&&i&&Object[e(653)]instanceof Function&&Object[e(653)](s),s};return n},goog.defineClass[y(1228)]=function(t){var e=y;return t&&t[e(633)]&&t[e(633)][goog[e(1779)]]},goog[y(1332)][y(1820)]="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog[y(1332)][y(1774)]=function(t,e){var r=y;for(var i in e)Object[r(633)][r(1506)][r(542)](e,i)&&(t[i]=e[i]);for(var n=0;n<goog[r(1332)][r(1820)][r(2130)];n++)i=goog[r(1332)][r(1820)][n],Object.prototype[r(1506)][r(542)](e,i)&&(t[i]=e[i])},goog[y(571)]=function(t){},goog[y(1779)]=y(1174),goog[y(1047)]="",goog.identity_=function(t){return t},goog.createTrustedTypesPolicy=function(t){var e=y,r=null;if(e(630)===typeof TrustedTypes||!TrustedTypes[e(2001)])return r;try{r=TrustedTypes[e(2001)](t,{createHTML:goog[e(1137)],createScript:goog.identity_,createScriptURL:goog[e(1137)],createURL:goog.identity_})}catch(t){goog[e(672)](t[e(1669)])}return r},goog[y(1859)]=goog[y(1047)]?goog[y(1038)](goog[y(1047)]+y(1210)):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};function b$9(t,e){return a$9[t-=494]}jspb[y(1003)][y(1637)]={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb[y(1003)][y(1893)]={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb[y(1003)].FieldTypeToWireType=function(t){var e=y,r=jspb[e(1003)][e(1637)],i=jspb[e(1003)][e(1893)];switch(t){case r[e(833)]:case r.INT64:case r[e(744)]:case r.UINT64:case r[e(1567)]:case r[e(1660)]:case r[e(1269)]:case r.ENUM:case r.VHASH64:return i[e(1547)];case r[e(1999)]:case r[e(1240)]:case r[e(1597)]:case r.FHASH64:return i.FIXED64;case r.STRING:case r[e(631)]:case r[e(746)]:return i.DELIMITED;case r.FLOAT:case r[e(1202)]:case r[e(1813)]:return i[e(1202)];default:return i[e(1507)]}},jspb[y(1003)].INVALID_FIELD_NUMBER=-1,jspb[y(1003)].FLOAT32_EPS=1401298464324817e-60,jspb[y(1003)].FLOAT32_MIN=11754943508222875e-54,jspb[y(1003)][y(2133)]=34028234663852886e22,jspb[y(1003)][y(1064)]=5e-324,jspb[y(1003)][y(2145)]=22250738585072014e-324,jspb[y(1003)].FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants[y(1163)]=1048576,jspb[y(1003)][y(1115)]=8388608,jspb.BinaryConstants[y(1358)]=2147483648,jspb[y(1003)][y(2112)]=4294967296,jspb[y(1003)][y(713)]=4503599627370496,jspb.BinaryConstants.TWO_TO_63=0x8000000000000000,jspb.BinaryConstants.TWO_TO_64=0x10000000000000000,jspb.BinaryConstants[y(1964)]=y(2052),goog[y(714)]={},goog[y(714)].NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog[y(1487)]={},goog[y(1487)][y(1549)]=function(t){var e=y;if(Error[e(636)])Error[e(636)](this,goog.debug.Error);else{var r=Error()[e(710)];r&&(this[e(710)]=r)}t&&(this[e(1669)]=String(t)),this.reportErrorToServer=!0},goog[y(1574)](goog[y(1487)][y(1549)],Error),goog.debug[y(1549)][y(633)][y(540)]=y(1441),goog[y(2100)]={},goog[y(2100)][y(1459)]=goog[y(1328)],goog[y(2100)][y(968)]=function(t,e){var r=y;goog.debug[r(1549)][r(542)](this,goog[r(2100)][r(1934)](t,e)),this.messagePattern=t},goog[y(1574)](goog[y(2100)][y(968)],goog[y(1487)].Error),goog[y(2100)][y(968)].prototype[y(540)]=y(968),goog.asserts[y(1743)]=function(t){throw t},goog[y(2100)][y(732)]=goog[y(2100)][y(1743)],goog[y(2100)][y(1934)]=function(t,e){for(var r=y,i="",n=(t=t[r(1550)]("%s"))[r(2130)]-1,s=0;s<n;s++)i+=t[s]+(s<e[r(2130)]?e[s]:"%s");return i+t[n]},goog[y(2100)][y(560)]=function(t,e,r,i){var n=y,s=n(1460);if(r){s+=": "+r;var o=i}else t&&(s+=": "+t,o=e);t=new(goog[n(2100)][n(968)])(""+s,o||[]),goog[n(2100)].errorHandler_(t)},goog.asserts[y(1112)]=function(t){var e=y;goog[e(2100)].ENABLE_ASSERTS&&(goog[e(2100)][e(732)]=t)},goog[y(2100)][y(1807)]=function(t,e,r){var i=y;return goog[i(2100)][i(1459)]&&!t&&goog[i(2100)][i(560)]("",null,e,Array[i(633)][i(1785)][i(542)](arguments,2)),t},goog[y(2100)][y(590)]=function(t,e,r){var i=y;return goog[i(2100)].ENABLE_ASSERTS&&null==t&&goog[i(2100)][i(560)](i(1239),[t],e,Array[i(633)][i(1785)][i(542)](arguments,2)),t},goog[y(2100)][y(1863)]=function(t,e){var r=y;goog.asserts.ENABLE_ASSERTS&&goog.asserts[r(732)](new(goog[r(2100)][r(968)])(r(1881)+(t?": "+t:""),Array[r(633)].slice[r(542)](arguments,1)))},goog[y(2100)].assertNumber=function(t,e,r){var i=y;return goog[i(2100)][i(1459)]&&!goog[i(725)](t)&&goog.asserts.doAssertFailure_(i(2070),[goog[i(906)](t),t],e,Array.prototype[i(1785)][i(542)](arguments,2)),t},goog[y(2100)][y(591)]=function(t,e,r){var i=y;return goog[i(2100)].ENABLE_ASSERTS&&!goog[i(1719)](t)&&goog[i(2100)].doAssertFailure_(i(698),[goog.typeOf(t),t],e,Array[i(633)].slice[i(542)](arguments,2)),t},goog.asserts[y(2029)]=function(t,e,r){var i=y;return goog[i(2100)].ENABLE_ASSERTS&&!goog.isFunction(t)&&goog.asserts[i(560)]("Expected function but got %s: %s.",[goog[i(906)](t),t],e,Array[i(633)].slice[i(542)](arguments,2)),t},goog[y(2100)][y(679)]=function(t,e,r){var i=y;return goog[i(2100)].ENABLE_ASSERTS&&!goog[i(563)](t)&&goog[i(2100)].doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(t),t],e,Array[i(633)][i(1785)].call(arguments,2)),t},goog[y(2100)][y(987)]=function(t,e,r){var i=y;return goog[i(2100)][i(1459)]&&!goog[i(1715)](t)&&goog.asserts.doAssertFailure_(i(1016),[goog[i(906)](t),t],e,Array.prototype.slice[i(542)](arguments,2)),t},goog[y(2100)][y(1316)]=function(t,e,r){var i=y;return goog[i(2100)][i(1459)]&&!goog[i(1402)](t)&&goog[i(2100)][i(560)](i(535),[goog[i(906)](t),t],e,Array[i(633)][i(1785)][i(542)](arguments,2)),t},goog[y(2100)][y(715)]=function(t,e,r){var i=y;return!goog[i(2100)][i(1459)]||goog[i(563)](t)&&t[i(2017)]==goog[i(714)][i(1497)][i(862)]||goog[i(2100)][i(560)](i(1039),[goog[i(906)](t),t],e,Array[i(633)].slice[i(542)](arguments,2)),t},goog[y(2100)][y(1894)]=function(t,e,r,i){var n=y;return!goog[n(2100)][n(1459)]||t instanceof e||goog[n(2100)][n(560)](n(1154),[goog[n(2100)][n(1284)](e),goog.asserts[n(1284)](t)],r,Array[n(633)].slice.call(arguments,3)),t},goog[y(2100)][y(1682)]=function(t,e,r){var i=y;return!goog.asserts[i(1459)]||i(884)==typeof t&&isFinite(t)||goog.asserts[i(560)](i(1593),[t],e,Array[i(633)].slice.call(arguments,2)),t},goog[y(2100)][y(1930)]=function(){var t=y;for(var e in Object.prototype)goog[t(2100)][t(1863)](e+" should not be enumerable in Object.prototype.")},goog[y(2100)].getType_=function(t){var e=y;return t instanceof Function?t[e(1612)]||t[e(540)]||e(1928):t instanceof Object?t[e(1357)][e(1612)]||t[e(1357)][e(540)]||Object[e(633)][e(894)].call(t):null===t?"null":typeof t},goog.array={},goog[y(782)]=goog[y(618)],goog[y(1167)].ASSUME_NATIVE_FUNCTIONS=2012<goog[y(1175)],goog.array[y(1975)]=function(t){return t[t[y(2130)]-1]},goog[y(1167)][y(1411)]=goog.array[y(1975)],goog.array[y(1474)]=goog[y(782)]&&(goog[y(1167)][y(827)]||Array[y(633)][y(1474)])?function(t,e,r){var i=y;return goog.asserts[i(1807)](null!=t[i(2130)]),Array[i(633)][i(1474)][i(542)](t,e,r)}:function(t,e,r){var i=y;if(r=null==r?0:0>r?Math[i(1798)](0,t[i(2130)]+r):r,goog[i(1719)](t))return goog.isString(e)&&1==e[i(2130)]?t[i(1474)](e,r):-1;for(;r<t[i(2130)];r++)if(r in t&&t[r]===e)return r;return-1},goog.array[y(2095)]=goog.NATIVE_ARRAY_PROTOTYPES&&(goog[y(1167)][y(827)]||Array[y(633)][y(2095)])?function(t,e,r){var i=y;return goog[i(2100)][i(1807)](null!=t[i(2130)]),Array[i(633)][i(2095)][i(542)](t,e,null==r?t.length-1:r)}:function(t,e,r){var i=y;if(0>(r=null==r?t[i(2130)]-1:r)&&(r=Math[i(1798)](0,t.length+r)),goog[i(1719)](t))return goog[i(1719)](e)&&1==e[i(2130)]?t.lastIndexOf(e,r):-1;for(;0<=r;r--)if(r in t&&t[r]===e)return r;return-1},goog[y(1167)][y(1265)]=goog[y(782)]&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array[y(633)][y(1265)])?function(t,e,r){var i=y;goog.asserts[i(1807)](null!=t[i(2130)]),Array[i(633)][i(1265)].call(t,e,r)}:function(t,e,r){for(var i=y,n=t.length,s=goog[i(1719)](t)?t[i(1550)](""):t,o=0;o<n;o++)o in s&&e[i(542)](r,s[o],o,t)},goog[y(1167)].forEachRight=function(t,e,r){var i=y,n=t.length,s=goog[i(1719)](t)?t[i(1550)](""):t;for(--n;0<=n;--n)n in s&&e[i(542)](r,s[n],n,t)},goog[y(1167)][y(1220)]=goog[y(782)]&&(goog[y(1167)][y(827)]||Array[y(633)].filter)?function(t,e,r){var i=y;return goog[i(2100)].assert(null!=t[i(2130)]),Array[i(633)][i(1220)].call(t,e,r)}:function(t,e,r){for(var i=y,n=t[i(2130)],s=[],o=0,a=goog.isString(t)?t[i(1550)](""):t,h=0;h<n;h++)if(h in a){var l=a[h];e[i(542)](r,l,h,t)&&(s[o++]=l)}return s},goog[y(1167)][y(1235)]=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array[y(827)]||Array[y(633)][y(1235)])?function(t,e,r){var i=y;return goog.asserts[i(1807)](null!=t.length),Array[i(633)][i(1235)][i(542)](t,e,r)}:function(t,e,r){for(var i=y,n=t[i(2130)],s=Array(n),o=goog.isString(t)?t[i(1550)](""):t,a=0;a<n;a++)a in o&&(s[a]=e[i(542)](r,o[a],a,t));return s},goog[y(1167)].reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog[y(1167)][y(827)]||Array[y(633)][y(1455)])?function(t,e,r,i){var n=y;return goog[n(2100)][n(1807)](null!=t[n(2130)]),i&&(e=goog.bind(e,i)),Array[n(633)][n(1455)].call(t,e,r)}:function(t,e,r,i){var n=y,s=r;return goog[n(1167)].forEach(t,(function(r,o){s=e[n(542)](i,s,r,o,t)})),s},goog[y(1167)][y(1454)]=goog[y(782)]&&(goog[y(1167)][y(827)]||Array.prototype[y(1454)])?function(t,e,r,i){var n=y;return goog[n(2100)][n(1807)](null!=t[n(2130)]),goog[n(2100)][n(1807)](null!=e),i&&(e=goog[n(607)](e,i)),Array.prototype[n(1454)][n(542)](t,e,r)}:function(t,e,r,i){var n=y,s=r;return goog[n(1167)][n(1736)](t,(function(r,o){s=e[n(542)](i,s,r,o,t)})),s},goog[y(1167)].some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog[y(1167)][y(827)]||Array[y(633)][y(2081)])?function(t,e,r){var i=y;return goog[i(2100)][i(1807)](null!=t.length),Array[i(633)].some[i(542)](t,e,r)}:function(t,e,r){for(var i=y,n=t[i(2130)],s=goog[i(1719)](t)?t[i(1550)](""):t,o=0;o<n;o++)if(o in s&&e.call(r,s[o],o,t))return!0;return!1},goog[y(1167)].every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog[y(1167)][y(827)]||Array[y(633)][y(1802)])?function(t,e,r){var i=y;return goog.asserts[i(1807)](null!=t[i(2130)]),Array[i(633)][i(1802)][i(542)](t,e,r)}:function(t,e,r){for(var i=y,n=t[i(2130)],s=goog[i(1719)](t)?t.split(""):t,o=0;o<n;o++)if(o in s&&!e[i(542)](r,s[o],o,t))return!1;return!0},goog[y(1167)][y(1138)]=function(t,e,r){var i=y,n=0;return goog[i(1167)][i(1265)](t,(function(t,s,o){e[i(542)](r,t,s,o)&&++n}),r),n},goog[y(1167)][y(1324)]=function(t,e,r){var i=y;return 0>(e=goog[i(1167)][i(2034)](t,e,r))?null:goog.isString(t)?t[i(933)](e):t[e]},goog[y(1167)][y(2034)]=function(t,e,r){for(var i=y,n=t[i(2130)],s=goog[i(1719)](t)?t[i(1550)](""):t,o=0;o<n;o++)if(o in s&&e[i(542)](r,s[o],o,t))return o;return-1},goog[y(1167)][y(1162)]=function(t,e,r){var i=y;return 0>(e=goog.array.findIndexRight(t,e,r))?null:goog[i(1719)](t)?t[i(933)](e):t[e]},goog[y(1167)][y(1236)]=function(t,e,r){var i=y,n=t[i(2130)],s=goog[i(1719)](t)?t[i(1550)](""):t;for(--n;0<=n;n--)if(n in s&&e[i(542)](r,s[n],n,t))return n;return-1},goog[y(1167)][y(1160)]=function(t,e){var r=y;return 0<=goog[r(1167)][r(1474)](t,e)},goog.array[y(748)]=function(t){return 0==t.length},goog[y(1167)][y(1205)]=function(t){var e=y;if(!goog.isArray(t))for(var r=t.length-1;0<=r;r--)delete t[r];t[e(2130)]=0},goog[y(1167)].insert=function(t,e){var r=y;goog[r(1167)][r(1160)](t,e)||t[r(1768)](e)},goog[y(1167)][y(1079)]=function(t,e,r){goog[y(1167)].splice(t,r,0,e)},goog.array[y(1885)]=function(t,e,r){var i=y;goog[i(514)](goog.array[i(1809)],t,r,0)[i(1969)](null,e)},goog[y(1167)].insertBefore=function(t,e,r){var i,n=y;2==arguments[n(2130)]||0>(i=goog[n(1167)][n(1474)](t,r))?t[n(1768)](e):goog.array[n(1079)](t,e,i)},goog[y(1167)].remove=function(t,e){var r;return(r=0<=(e=goog[y(1167)].indexOf(t,e)))&&goog.array.removeAt(t,e),r},goog.array[y(1912)]=function(t,e){var r=y;return 0<=(e=goog[r(1167)].lastIndexOf(t,e))&&(goog[r(1167)][r(2019)](t,e),!0)},goog[y(1167)][y(2019)]=function(t,e){var r=y;return goog.asserts[r(1807)](null!=t[r(2130)]),1==Array[r(633)][r(1809)][r(542)](t,e,1).length},goog.array[y(977)]=function(t,e,r){var i=y;return 0<=(e=goog[i(1167)][i(2034)](t,e,r))&&(goog[i(1167)].removeAt(t,e),!0)},goog[y(1167)][y(1152)]=function(t,e,r){var i=y,n=0;return goog.array[i(1736)](t,(function(s,o){var a=i;e.call(r,s,o,t)&&goog[a(1167)].removeAt(t,o)&&n++})),n},goog[y(1167)][y(908)]=function(t){var e=y;return Array[e(633)].concat[e(1969)]([],arguments)},goog.array[y(2066)]=function(t){var e=y;return Array[e(633)][e(908)][e(1969)]([],arguments)},goog[y(1167)][y(610)]=function(t){var e=t[y(2130)];if(0<e){for(var r=Array(e),i=0;i<e;i++)r[i]=t[i];return r}return[]},goog[y(1167)][y(1313)]=goog.array[y(610)],goog[y(1167)][y(658)]=function(t,e){for(var r=y,i=1;i<arguments[r(2130)];i++){var n=arguments[i];if(goog[r(886)](n)){var s=t[r(2130)]||0,o=n[r(2130)]||0;t.length=s+o;for(var a=0;a<o;a++)t[s+a]=n[a]}else t.push(n)}},goog[y(1167)][y(1809)]=function(t,e,r,i){var n=y;return goog.asserts[n(1807)](null!=t[n(2130)]),Array[n(633)][n(1809)].apply(t,goog[n(1167)][n(1785)](arguments,1))},goog[y(1167)][y(1785)]=function(t,e,r){var i=y;return goog.asserts[i(1807)](null!=t.length),2>=arguments[i(2130)]?Array[i(633)][i(1785)][i(542)](t,e):Array[i(633)][i(1785)][i(542)](t,e,r)},goog[y(1167)][y(1997)]=function(t,e,r){var i=y;e=e||t;var n=function(t){var e=b$9;return goog.isObject(t)?"o"+goog[e(700)](t):(typeof t)[e(933)](0)+t};r=r||n,n={};for(var s=0,o=0;o<t[i(2130)];){var a=t[o++],h=r(a);Object[i(633)][i(1506)][i(542)](n,h)||(n[h]=!0,e[s++]=a)}e[i(2130)]=s},goog.array[y(1690)]=function(t,e,r){var i=y;return goog[i(1167)].binarySearch_(t,r||goog[i(1167)][i(1443)],!1,e)},goog[y(1167)][y(2157)]=function(t,e,r){return goog.array.binarySearch_(t,e,!0,void 0,r)},goog.array[y(1966)]=function(t,e,r,i,n){for(var s,o=0,a=t[y(2130)];o<a;){var h=o+a>>1,l=r?e.call(n,t[h],h,t):e(i,t[h]);0<l?o=h+1:(a=h,s=!l)}return s?o:~o},goog[y(1167)][y(880)]=function(t,e){var r=y;t[r(880)](e||goog[r(1167)][r(1443)])},goog[y(1167)].stableSort=function(t,e){for(var r=y,i=Array(t.length),n=0;n<t[r(2130)];n++)i[n]={index:n,value:t[n]};var s=e||goog[r(1167)][r(1443)];for(goog.array[r(880)](i,(function(t,e){var i=r;return s(t[i(1241)],e[i(1241)])||t.index-e[i(1320)]})),n=0;n<t.length;n++)t[n]=i[n][r(1241)]},goog[y(1167)].sortByKey=function(t,e,r){var i=y,n=r||goog.array.defaultCompare;goog[i(1167)][i(880)](t,(function(t,r){return n(e(t),e(r))}))},goog[y(1167)].sortObjectsByKey=function(t,e,r){var i=y;goog.array[i(1183)](t,(function(t){return t[e]}),r)},goog[y(1167)][y(911)]=function(t,e,r){var i=y;e=e||goog.array[i(1443)];for(var n=1;n<t[i(2130)];n++){var s=e(t[n-1],t[n]);if(0<s||0==s&&r)return!1}return!0},goog[y(1167)].equals=function(t,e,r){var i=y;if(!goog[i(886)](t)||!goog[i(886)](e)||t[i(2130)]!=e[i(2130)])return!1;var n=t[i(2130)];r=r||goog[i(1167)].defaultCompareEquality;for(var s=0;s<n;s++)if(!r(t[s],e[s]))return!1;return!0},goog[y(1167)][y(561)]=function(t,e,r){var i=y;r=r||goog[i(1167)][i(1443)];for(var n=Math.min(t[i(2130)],e[i(2130)]),s=0;s<n;s++){var o=r(t[s],e[s]);if(0!=o)return o}return goog[i(1167)][i(1443)](t[i(2130)],e[i(2130)])},goog[y(1167)].defaultCompare=function(t,e){return t>e?1:t<e?-1:0},goog[y(1167)][y(889)]=function(t,e){var r=y;return-goog[r(1167)][r(1443)](t,e)},goog[y(1167)][y(2168)]=function(t,e){return t===e},goog[y(1167)].binaryInsert=function(t,e,r){var i=y;return 0>(r=goog.array[i(1690)](t,e,r))&&(goog[i(1167)][i(1079)](t,e,-(r+1)),!0)},goog[y(1167)].binaryRemove=function(t,e,r){var i=y;return 0<=(e=goog.array[i(1690)](t,e,r))&&goog[i(1167)].removeAt(t,e)},goog.array[y(1698)]=function(t,e,r){for(var i=y,n={},s=0;s<t.length;s++){var o=t[s],a=e[i(542)](r,o,s,t);goog.isDef(a)&&(n[a]||(n[a]=[])).push(o)}return n},goog[y(1167)][y(1231)]=function(t,e,r){var i=y,n={};return goog[i(1167)][i(1265)](t,(function(s,o){n[e[i(542)](r,s,o,t)]=s})),n},goog.array[y(1776)]=function(t,e,r){var i=y,n=[],s=0,o=t;if(void 0!==e&&(s=t,o=e),0>(r=r||1)*(o-s))return[];if(0<r)for(t=s;t<o;t+=r)n[i(1768)](t);else for(t=s;t>o;t+=r)n[i(1768)](t);return n},goog[y(1167)][y(1019)]=function(t,e){for(var r=[],i=0;i<e;i++)r[i]=t;return r},goog[y(1167)][y(767)]=function(t){for(var e=y,r=[],i=0;i<arguments[e(2130)];i++){var n=arguments[i];if(goog[e(1715)](n))for(var s=0;s<n.length;s+=8192){var o=goog[e(1167)][e(1785)](n,s,s+8192);o=goog.array[e(767)].apply(null,o);for(var a=0;a<o[e(2130)];a++)r[e(1768)](o[a])}else r.push(n)}return r},goog.array[y(2153)]=function(t,e){var r=y;return goog[r(2100)].assert(null!=t[r(2130)]),t[r(2130)]&&(0<(e%=t[r(2130)])?Array[r(633)].unshift[r(1969)](t,t[r(1809)](-e,e)):0>e&&Array[r(633)].push[r(1969)](t,t[r(1809)](0,-e))),t},goog[y(1167)][y(1289)]=function(t,e,r){var i=y;goog[i(2100)][i(1807)](0<=e&&e<t.length),goog[i(2100)][i(1807)](0<=r&&r<t[i(2130)]),e=Array[i(633)][i(1809)][i(542)](t,e,1),Array[i(633)][i(1809)][i(542)](t,r,0,e[0])},goog[y(1167)][y(520)]=function(t){var e=y;if(!arguments.length)return[];for(var r=[],i=arguments[0][e(2130)],n=1;n<arguments[e(2130)];n++)arguments[n][e(2130)]<i&&(i=arguments[n].length);for(n=0;n<i;n++){for(var s=[],o=0;o<arguments.length;o++)s[e(1768)](arguments[o][n]);r[e(1768)](s)}return r},goog[y(1167)][y(1733)]=function(t,e){var r=y;e=e||Math[r(1583)];for(var i=t[r(2130)]-1;0<i;i--){var n=Math[r(1923)](e()*(i+1)),s=t[i];t[i]=t[n],t[n]=s}},goog[y(1167)][y(2089)]=function(t,e){var r=y,i=[];return goog[r(1167)][r(1265)](e,(function(e){i[r(1768)](t[e])})),i},goog.array.concatMap=function(t,e,r){var i=y;return goog[i(1167)][i(908)][i(1969)]([],goog[i(1167)][i(1235)](t,e,r))},goog[y(1788)]={},goog.crypt.stringToByteArray=function(t){for(var e=[],r=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);255<n&&(e[r++]=255&n,n>>=8),e[r++]=n}return e},goog[y(1788)][y(1041)]=function(t){var e=y;if(8192>=t[e(2130)])return String[e(1377)][e(1969)](null,t);for(var r="",i=0;i<t[e(2130)];i+=8192){var n=goog[e(1167)][e(1785)](t,i,i+8192);r+=String[e(1377)][e(1969)](null,n)}return r},goog[y(1788)][y(632)]=function(t,e){var r=y;return goog[r(1167)].map(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t}))[r(2066)](e||"")},goog[y(1788)][y(1793)]=function(t){var e=y;goog[e(2100)][e(1807)](0==t[e(2130)]%2,e(611));for(var r=[],i=0;i<t[e(2130)];i+=2)r[e(1768)](parseInt(t[e(747)](i,i+2),16));return r},goog[y(1788)][y(926)]=function(t){for(var e=y,r=[],i=0,n=0;n<t[e(2130)];n++){var s=t[e(1370)](n);128>s?r[i++]=s:(2048>s?r[i++]=s>>6|192:(55296==(64512&s)&&n+1<t[e(2130)]&&56320==(64512&t[e(1370)](n+1))?(s=65536+((1023&s)<<10)+(1023&t[e(1370)](++n)),r[i++]=s>>18|240,r[i++]=s>>12&63|128):r[i++]=s>>12|224,r[i++]=s>>6&63|128),r[i++]=63&s|128)}return r},goog[y(1788)][y(593)]=function(t){for(var e=y,r=[],i=0,n=0;i<t[e(2130)];){var s=t[i++];if(128>s)r[n++]=String[e(1377)](s);else if(191<s&&224>s){var o=t[i++];r[n++]=String[e(1377)]((31&s)<<6|63&o)}else if(239<s&&365>s){o=t[i++];var a=t[i++];s=((7&s)<<18|(63&o)<<12|(63&a)<<6|63&t[i++])-65536,r[n++]=String[e(1377)](55296+(s>>10)),r[n++]=String[e(1377)](56320+(1023&s))}else o=t[i++],a=t[i++],r[n++]=String[e(1377)]((15&s)<<12|(63&o)<<6|63&a)}return r.join("")},goog[y(1788)][y(2072)]=function(t,e){var r=y;goog.asserts.assert(t[r(2130)]==e[r(2130)],"XOR array lengths must match");for(var i=[],n=0;n<t.length;n++)i.push(t[n]^e[n]);return i},goog[y(983)]={},goog[y(983)][y(1826)]={},goog[y(983)][y(1826)].startsWith=function(t,e){return 0==t[y(2095)](e,0)},goog[y(983)][y(1826)][y(1203)]=function(t,e){var r=y,i=t[r(2130)]-e[r(2130)];return 0<=i&&t[r(1474)](e,i)==i},goog[y(983)][y(1826)][y(1803)]=function(t,e){var r=y;return 0==goog[r(983)][r(1826)][r(1143)](e,t[r(1278)](0,e.length))},goog[y(983)].internal.caseInsensitiveEndsWith=function(t,e){var r=y;return 0==goog[r(983)][r(1826)][r(1143)](e,t[r(1278)](t[r(2130)]-e.length,e.length))},goog[y(983)][y(1826)][y(945)]=function(t,e){return t[y(1121)]()==e.toLowerCase()},goog[y(983)][y(1826)][y(1295)]=function(t){return/^[\s\xa0]*$/[y(647)](t)},goog[y(983)][y(1826)][y(903)]=goog.TRUSTED_SITE&&String[y(633)][y(903)]?function(t){return t[y(903)]()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},goog[y(983)][y(1826)][y(1143)]=function(t,e){var r=y;return(t=String(t)[r(1121)]())<(e=String(e)[r(1121)]())?-1:t==e?0:1},goog.string[y(1826)][y(1763)]=function(t,e){var r=y;return t[r(1496)](/(\r\n|\r|\n)/g,r(e?668:1562))},goog.string[y(1826)][y(1845)]=function(t,e){var r=y;if(e)t=t[r(1496)](goog[r(983)][r(1826)][r(2035)],"&amp;")[r(1496)](goog[r(983)][r(1826)][r(1333)],r(576))[r(1496)](goog[r(983)][r(1826)][r(1343)],"&gt;")[r(1496)](goog[r(983)].internal[r(1208)],r(624))[r(1496)](goog[r(983)][r(1826)][r(1478)],r(1977)).replace(goog[r(983)].internal[r(1866)],r(546));else{if(!goog[r(983)][r(1826)].ALL_RE_[r(647)](t))return t;-1!=t[r(1474)]("&")&&(t=t[r(1496)](goog[r(983)].internal[r(2035)],"&amp;")),-1!=t.indexOf("<")&&(t=t[r(1496)](goog[r(983)].internal[r(1333)],"&lt;")),-1!=t[r(1474)](">")&&(t=t[r(1496)](goog.string[r(1826)][r(1343)],"&gt;")),-1!=t[r(1474)]('"')&&(t=t.replace(goog[r(983)][r(1826)][r(1208)],r(624))),-1!=t[r(1474)]("'")&&(t=t[r(1496)](goog[r(983)][r(1826)][r(1478)],r(1977))),-1!=t[r(1474)]("\0")&&(t=t[r(1496)](goog.string[r(1826)][r(1866)],"&#0;"))}return t},goog[y(983)][y(1826)][y(2035)]=/&/g,goog[y(983)][y(1826)][y(1333)]=/</g,goog[y(983)].internal[y(1343)]=/>/g,goog[y(983)][y(1826)].QUOT_RE_=/"/g,goog[y(983)][y(1826)].SINGLE_QUOTE_RE_=/'/g,goog[y(983)][y(1826)][y(1866)]=/\x00/g,goog[y(983)][y(1826)][y(1651)]=/[\x00&<>"']/,goog[y(983)][y(1826)].whitespaceEscape=function(t,e){var r=y;return goog[r(983)][r(1826)][r(1763)](t[r(1496)](/ {2}/g,r(1078)),e)},goog[y(983)].internal.contains=function(t,e){return-1!=t[y(1474)](e)},goog[y(983)].internal[y(1684)]=function(t,e){var r=y;return goog.string[r(1826)][r(1160)](t.toLowerCase(),e.toLowerCase())},goog[y(983)].internal[y(875)]=function(t,e){var r=y,i=0;t=goog[r(983)][r(1826)].trim(String(t))[r(1550)]("."),e=goog.string[r(1826)][r(903)](String(e))[r(1550)](".");for(var n=Math[r(1798)](t[r(2130)],e[r(2130)]),s=0;0==i&&s<n;s++){var o=t[s]||"",a=e[s]||"";do{if(o=/(\d*)(\D*)(.*)/[r(1185)](o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0][r(2130)]&&0==a[0][r(2130)])break;i=0==o[1][r(2130)]?0:parseInt(o[1],10);var h=0==a[1][r(2130)]?0:parseInt(a[1],10);i=goog[r(983)][r(1826)][r(1608)](i,h)||goog[r(983)][r(1826)][r(1608)](0==o[2].length,0==a[2][r(2130)])||goog.string[r(1826)][r(1608)](o[2],a[2]),o=o[3],a=a[3]}while(0==i)}return i},goog[y(983)][y(1826)].compareElements_=function(t,e){return t<e?-1:t>e?1:0},goog.string.TypedString=function(){},goog.string[y(820)]=function(t,e){var r=y;this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=t===goog[r(983)].Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&e||"",this[r(1837)]=goog[r(983)].Const[r(1993)]},goog[y(983)].Const.prototype.implementsGoogStringTypedString=!0,goog[y(983)][y(820)][y(633)][y(1878)]=function(){return this[y(2006)]},goog[y(983)][y(820)].prototype[y(894)]=function(){var t=y;return t(1058)+this[t(2006)]+"}"},goog[y(983)].Const.unwrap=function(t){var e=y;return t instanceof goog[e(983)].Const&&t[e(1357)]===goog.string[e(820)]&&t.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog[e(983)][e(820)][e(1993)]?t[e(2006)]:(goog.asserts[e(1863)]("expected object of type Const, got '"+t+"'"),e(907))},goog[y(983)][y(820)][y(720)]=function(t){var e=y;return new(goog[e(983)][e(820)])(goog[e(983)].Const[e(2113)],t)},goog.string[y(820)][y(1993)]={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog[y(983)][y(820)][y(2062)]=goog[y(983)][y(820)][y(720)](""),goog.fs={},goog.fs[y(1272)]={},goog.fs.url[y(1941)]=function(t){var e=y;return goog.fs[e(1272)].getUrlObject_().createObjectURL(t)},goog.fs.url[y(1249)]=function(t){var e=y;goog.fs[e(1272)][e(1956)]()[e(1514)](t)},goog.fs[y(1272)].getUrlObject_=function(){var t=y,e=goog.fs[t(1272)][t(1519)]();if(null!=e)return e;throw Error(t(1408))},goog.fs[y(1272)][y(1519)]=function(){var t=y;return goog.isDef(goog[t(768)][t(694)])&&goog[t(1296)](goog[t(768)].URL[t(997)])?goog[t(768)][t(694)]:goog[t(1296)](goog[t(768)][t(1522)])&&goog.isDef(goog[t(768)][t(1522)][t(997)])?goog.global.webkitURL:goog[t(1296)](goog[t(768)][t(997)])?goog[t(768)]:null},goog.fs[y(1272)][y(1254)]=function(){var t=y;return null!=goog.fs[t(1272)][t(1519)]()},goog[y(1426)]={},goog.html.trustedtypes={},goog.html[y(861)][y(673)]=goog[y(1047)]?goog[y(1038)](goog[y(1047)]+y(1655)):null,goog[y(830)]={},goog[y(830)][y(753)]={},goog[y(830)][y(753)][y(2085)]=!1,goog[y(830)][y(753)][y(1305)]=goog[y(830)][y(753)][y(2085)]||("ar"==goog.LOCALE[y(747)](0,2)[y(1121)]()||"fa"==goog[y(846)][y(747)](0,2)[y(1121)]()||"he"==goog[y(846)][y(747)](0,2)[y(1121)]()||"iw"==goog[y(846)][y(747)](0,2)[y(1121)]()||"ps"==goog.LOCALE[y(747)](0,2)[y(1121)]()||"sd"==goog.LOCALE[y(747)](0,2)[y(1121)]()||"ug"==goog[y(846)][y(747)](0,2)[y(1121)]()||"ur"==goog.LOCALE[y(747)](0,2)[y(1121)]()||"yi"==goog[y(846)][y(747)](0,2)[y(1121)]())&&(2==goog.LOCALE[y(2130)]||"-"==goog[y(846)][y(747)](2,3)||"_"==goog.LOCALE[y(747)](2,3))||3<=goog[y(846)][y(2130)]&&y(779)==goog[y(846)][y(747)](0,3).toLowerCase()&&(3==goog[y(846)][y(2130)]||"-"==goog[y(846)][y(747)](3,4)||"_"==goog[y(846)][y(747)](3,4))||7<=goog[y(846)][y(2130)]&&("-"==goog[y(846)][y(747)](2,3)||"_"==goog.LOCALE[y(747)](2,3))&&(y(2158)==goog[y(846)][y(747)](3,7)[y(1121)]()||"arab"==goog.LOCALE[y(747)](3,7)[y(1121)]()||y(670)==goog[y(846)][y(747)](3,7).toLowerCase()||y(1984)==goog[y(846)][y(747)](3,7)[y(1121)]()||y(895)==goog.LOCALE[y(747)](3,7)[y(1121)]()||y(738)==goog[y(846)][y(747)](3,7).toLowerCase())||8<=goog.LOCALE[y(2130)]&&("-"==goog[y(846)][y(747)](3,4)||"_"==goog[y(846)].substring(3,4))&&("adlm"==goog[y(846)][y(747)](4,8)[y(1121)]()||y(935)==goog[y(846)].substring(4,8)[y(1121)]()||y(670)==goog[y(846)][y(747)](4,8)[y(1121)]()||y(1984)==goog.LOCALE[y(747)](4,8).toLowerCase()||y(895)==goog[y(846)][y(747)](4,8)[y(1121)]()||y(738)==goog.LOCALE.substring(4,8)[y(1121)]()),goog.i18n.bidi[y(1314)]={LRE:"",RLE:"",PDF:"",LRM:"",RLM:""},goog[y(830)][y(753)][y(949)]={LTR:1,RTL:-1,NEUTRAL:0},goog[y(830)][y(753)].RIGHT="right",goog.i18n[y(753)].LEFT="left",goog[y(830)][y(753)][y(1967)]=goog[y(830)].bidi[y(1305)]?goog.i18n[y(753)][y(2109)]:goog.i18n[y(753)].RIGHT,goog[y(830)].bidi[y(865)]=goog.i18n[y(753)].IS_RTL?goog[y(830)][y(753)][y(1081)]:goog[y(830)].bidi[y(2109)],goog[y(830)].bidi[y(622)]=function(t,e){var r=y;return r(884)==typeof t?0<t?goog[r(830)][r(753)][r(949)][r(938)]:0>t?goog.i18n[r(753)].Dir[r(1349)]:e?null:goog[r(830)][r(753)][r(949)][r(1935)]:null==t?null:t?goog.i18n.bidi[r(949)][r(1349)]:goog[r(830)][r(753)][r(949)][r(938)]},goog.i18n[y(753)][y(1677)]=y(806),goog[y(830)][y(753)].rtlChars_="------",goog.i18n[y(753)][y(2037)]=/<[^>]*>|&[^;]+;/g,goog[y(830)][y(753)].stripHtmlIfNeeded_=function(t,e){var r=y;return e?t[r(1496)](goog[r(830)][r(753)][r(2037)],""):t},goog[y(830)].bidi[y(1214)]=new RegExp("["+goog[y(830)][y(753)].rtlChars_+"]"),goog.i18n[y(753)][y(1048)]=new RegExp("["+goog[y(830)].bidi.ltrChars_+"]"),goog[y(830)][y(753)][y(2106)]=function(t,e){var r=y;return goog[r(830)].bidi.rtlCharReg_.test(goog.i18n[r(753)].stripHtmlIfNeeded_(t,e))},goog[y(830)].bidi.hasRtlChar=goog.i18n[y(753)][y(2106)],goog.i18n[y(753)][y(1880)]=function(t,e){var r=y;return goog[r(830)][r(753)][r(1048)][r(647)](goog.i18n[r(753)].stripHtmlIfNeeded_(t,e))},goog[y(830)][y(753)].ltrRe_=new RegExp("^["+goog[y(830)][y(753)].ltrChars_+"]"),goog[y(830)][y(753)][y(497)]=new RegExp("^["+goog[y(830)][y(753)].rtlChars_+"]"),goog[y(830)].bidi[y(2036)]=function(t){var e=y;return goog[e(830)].bidi[e(497)][e(647)](t)},goog.i18n[y(753)][y(1070)]=function(t){var e=y;return goog[e(830)][e(753)][e(1937)][e(647)](t)},goog[y(830)].bidi[y(1632)]=function(t){var e=y;return!goog[e(830)][e(753)][e(1070)](t)&&!goog[e(830)][e(753)].isRtlChar(t)},goog[y(830)][y(753)][y(638)]=new RegExp(y(2010)+goog[y(830)].bidi[y(1799)]+y(1983)+goog[y(830)][y(753)][y(1677)]+"]"),goog[y(830)][y(753)][y(2102)]=new RegExp(y(2010)+goog[y(830)].bidi[y(1677)]+y(1983)+goog[y(830)][y(753)][y(1799)]+"]"),goog[y(830)][y(753)][y(1628)]=function(t,e){var r=y;return goog.i18n[r(753)][r(2102)][r(647)](goog.i18n[r(753)][r(1253)](t,e))},goog[y(830)][y(753)][y(1728)]=goog[y(830)][y(753)][y(1628)],goog[y(830)].bidi[y(1938)]=function(t,e){var r=y;return goog[r(830)][r(753)][r(638)][r(647)](goog[r(830)].bidi.stripHtmlIfNeeded_(t,e))},goog.i18n[y(753)].isLtrText=goog.i18n[y(753)][y(1938)],goog[y(830)][y(753)].isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n[y(753)][y(789)]=function(t,e){var r=y;return t=goog[r(830)][r(753)][r(1253)](t,e),goog[r(830)][r(753)][r(1879)][r(647)](t)||!goog[r(830)][r(753)][r(1880)](t)&&!goog[r(830)][r(753)][r(2106)](t)},goog.i18n.bidi[y(1472)]=new RegExp("["+goog[y(830)][y(753)].ltrChars_+y(974)+goog[y(830)].bidi[y(1799)]+y(1015)),goog[y(830)].bidi[y(752)]=new RegExp("["+goog.i18n[y(753)].rtlChars_+y(974)+goog[y(830)].bidi[y(1677)]+y(1015)),goog[y(830)][y(753)][y(1502)]=function(t,e){var r=y;return goog[r(830)][r(753)][r(1472)][r(647)](goog[r(830)][r(753)][r(1253)](t,e))},goog[y(830)][y(753)].isLtrExitText=goog[y(830)][y(753)][y(1502)],goog[y(830)][y(753)][y(1676)]=function(t,e){var r=y;return goog[r(830)].bidi[r(752)][r(647)](goog[r(830)].bidi.stripHtmlIfNeeded_(t,e))},goog.i18n[y(753)][y(959)]=goog[y(830)].bidi.endsWithRtl,goog[y(830)][y(753)][y(1948)]=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n[y(753)][y(2119)]=function(t){var e=y;return goog.i18n[e(753)][e(1948)].test(t)},goog[y(830)][y(753)].bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog[y(830)][y(753)][y(780)]=function(t,e){var r=y;return e=(void 0===e?goog.i18n[r(753)].hasAnyRtl(t):e)?goog.i18n.bidi[r(1314)][r(1336)]:goog.i18n[r(753)].Format[r(702)],t[r(1496)](goog[r(830)][r(753)][r(1308)],e+"$&"+e)},goog[y(830)][y(753)][y(985)]=function(t){var e=y;return"<"==t.charAt(0)?t[e(1496)](/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+t+e(651)},goog.i18n.bidi[y(1196)]=function(t){var e=y;return goog[e(830)][e(753)][e(1314)].RLE+t+goog.i18n[e(753)][e(1314)][e(1009)]},goog[y(830)][y(753)][y(2051)]=function(t){return"<"==t[y(933)](0)?t.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+t+"</span>"},goog[y(830)][y(753)].enforceLtrInText=function(t){var e=y;return goog[e(830)][e(753)][e(1314)][e(1576)]+t+goog[e(830)][e(753)][e(1314)][e(1009)]},goog.i18n[y(753)].dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog[y(830)][y(753)][y(1157)]=/left/gi,goog[y(830)][y(753)][y(1051)]=/right/gi,goog[y(830)].bidi.tempRe_=/%%%%/g,goog[y(830)].bidi[y(791)]=function(t){var e=y;return t.replace(goog[e(830)][e(753)][e(1027)],":$1 $4 $3 $2").replace(goog[e(830)][e(753)][e(1157)],"%%%%")[e(1496)](goog.i18n[e(753)].rightRe_,goog[e(830)][e(753)].LEFT)[e(1496)](goog.i18n.bidi[e(1672)],goog[e(830)][e(753)][e(1081)])},goog.i18n[y(753)][y(805)]=/([\u0591-\u05f2])"/g,goog[y(830)].bidi[y(1942)]=/([\u0591-\u05f2])'/g,goog.i18n[y(753)][y(1286)]=function(t){var e=y;return t[e(1496)](goog.i18n[e(753)][e(805)],e(881))[e(1496)](goog[e(830)].bidi.singleQuoteSubstituteRe_,e(2028))},goog.i18n[y(753)][y(891)]=/\s+/,goog[y(830)][y(753)][y(954)]=/[\d\u06f0-\u06f9]/,goog[y(830)][y(753)].rtlDetectionThreshold_=.4,goog[y(830)][y(753)].estimateDirection=function(t,e){var r=y,i=0,n=0,s=!1;for(t=goog[r(830)][r(753)][r(1253)](t,e)[r(1550)](goog[r(830)][r(753)][r(891)]),e=0;e<t.length;e++){var o=t[e];goog[r(830)][r(753)][r(1628)](o)?(i++,n++):goog[r(830)].bidi[r(1879)].test(o)?s=!0:goog.i18n.bidi.hasAnyLtr(o)?n++:goog[r(830)][r(753)][r(954)][r(647)](o)&&(s=!0)}return 0==n?s?goog[r(830)][r(753)][r(949)].LTR:goog[r(830)][r(753)][r(949)][r(1935)]:i/n>goog[r(830)][r(753)].rtlDetectionThreshold_?goog[r(830)].bidi[r(949)][r(1349)]:goog[r(830)][r(753)][r(949)].LTR},goog[y(830)].bidi[y(1541)]=function(t,e){var r=y;return goog[r(830)].bidi[r(602)](t,e)==goog[r(830)][r(753)][r(949)][r(1349)]},goog[y(830)][y(753)][y(1925)]=function(t,e){var r=y;t&&(e=goog[r(830)].bidi.toDir(e))&&(t[r(2030)][r(965)]=e==goog.i18n[r(753)][r(949)][r(1349)]?goog.i18n[r(753)].RIGHT:goog[r(830)].bidi.LEFT,t[r(887)]=e==goog[r(830)].bidi.Dir[r(1349)]?r(898):r(1517))},goog[y(830)][y(753)][y(1033)]=function(t,e){var r=y;switch(goog[r(830)][r(753)].estimateDirection(e)){case goog.i18n[r(753)][r(949)][r(938)]:t[r(887)]=r(1517);break;case goog.i18n[r(753)][r(949)].RTL:t.dir="rtl";break;default:t[r(1851)]("dir")}},goog[y(830)][y(753)][y(2127)]=function(){},goog[y(1426)][y(1620)]=function(){var t=y;this[t(982)]="",this[t(1156)]=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog[t(1426)].TrustedResourceUrl[t(2176)]},goog[y(1426)].TrustedResourceUrl.prototype[y(2056)]=!0,goog[y(1426)][y(1620)].prototype[y(1878)]=function(){var t=y;return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_[t(894)]()},goog[y(1426)].TrustedResourceUrl[y(633)][y(2180)]=!0,goog[y(1426)][y(1620)][y(633)][y(1136)]=function(){var t=y;return goog[t(830)][t(753)][t(949)][t(938)]},goog[y(1426)][y(1620)][y(633)][y(1105)]=function(t,e){var r=y,i=goog[r(1426)][r(1620)][r(1390)](this),n=(i=goog.html[r(1620)][r(2045)][r(1185)](i))[3]||"";return goog[r(1426)][r(1620)][r(661)](i[1]+goog[r(1426)][r(1620)][r(1066)]("?",i[2]||"",t)+goog.html[r(1620)][r(1066)]("#",n,e))},goog[y(1328)]&&(goog[y(1426)][y(1620)][y(633)][y(894)]=function(){var t=y;return t(918)+this[t(982)]+"}"}),goog[y(1426)].TrustedResourceUrl[y(1390)]=function(t){var e=y;return goog[e(1426)][e(1620)][e(1365)](t)[e(894)]()},goog.html[y(1620)][y(1365)]=function(t){var e=y;return t instanceof goog[e(1426)].TrustedResourceUrl&&t[e(1357)]===goog[e(1426)].TrustedResourceUrl&&t[e(980)]===goog[e(1426)][e(1620)][e(2176)]?t[e(982)]:(goog[e(2100)].fail(e(675)+t+"' of type "+goog.typeOf(t)),"type_error:TrustedResourceUrl")},goog.html[y(1620)][y(1557)]=function(t){var e=y;return t[e(1156)]?t[e(1156)]:goog[e(1426)][e(1620)][e(1390)](t)},goog[y(1426)].TrustedResourceUrl[y(1525)]=function(t,e){var r=y,i=goog.string[r(820)][r(1390)](t);if(!goog[r(1426)][r(1620)].BASE_URL_[r(647)](i))throw Error(r(678)+i);return t=i[r(1496)](goog[r(1426)][r(1620)][r(1582)],(function(t,n){var s=r;if(!Object[s(633)][s(1506)][s(542)](e,n))throw Error(s(1181)+n+s(1589)+i+s(600)+JSON.stringify(e));return(t=e[n])instanceof goog[s(983)][s(820)]?goog.string[s(820)][s(1390)](t):encodeURIComponent(String(t))})),goog[r(1426)][r(1620)][r(661)](t)},goog.html[y(1620)][y(1582)]=/%{(\w+)}/g,goog[y(1426)].TrustedResourceUrl[y(1877)]=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog[y(1426)][y(1620)][y(2045)]=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog[y(1426)][y(1620)][y(615)]=function(t,e,r,i){var n=y;return goog[n(1426)].TrustedResourceUrl[n(1525)](t,e)[n(1105)](r,i)},goog[y(1426)][y(1620)][y(1532)]=function(t){var e=y;return goog[e(1426)][e(1620)][e(661)](goog.string[e(820)][e(1390)](t))},goog.html.TrustedResourceUrl[y(1237)]=function(t){for(var e=y,r="",i=0;i<t[e(2130)];i++)r+=goog[e(983)][e(820)].unwrap(t[i]);return goog.html[e(1620)][e(661)](r)},goog.html[y(1620)].TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog[y(1426)].TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(t){var e=y,r=new(goog[e(1426)][e(1620)]);return r.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog[e(1426)][e(861)].PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog[e(1426)][e(861)][e(673)].createScriptURL(t):t,goog[e(1426)].trustedtypes[e(673)]&&(r[e(1156)]=goog[e(1426)].trustedtypes[e(673)][e(2164)](t)),r},goog[y(1426)].TrustedResourceUrl[y(1066)]=function(t,e,r){var i=y;if(null==r)return e;if(goog[i(1719)](r))return r?t+encodeURIComponent(r):"";for(var n in r){var s=r[n];s=goog[i(1715)](s)?s:[s];for(var o=0;o<s[i(2130)];o++){var a=s[o];null!=a&&(e||(e=t),e+=(e[i(2130)]>t[i(2130)]?"&":"")+encodeURIComponent(n)+"="+encodeURIComponent(String(a)))}}return e},goog.html[y(1974)]=function(){var t=y;this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this[t(649)]=goog[t(1426)].SafeUrl[t(2176)]},goog[y(1426)][y(1974)][y(2131)]=y(512),goog[y(1426)][y(1974)][y(633)][y(2056)]=!0,goog.html[y(1974)][y(633)][y(1878)]=function(){var t=y;return this[t(1259)][t(894)]()},goog.html[y(1974)][y(633)][y(2180)]=!0,goog.html[y(1974)][y(633)][y(1136)]=function(){var t=y;return goog[t(830)].bidi[t(949)].LTR},goog.DEBUG&&(goog.html[y(1974)][y(633)][y(894)]=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog[y(1426)].SafeUrl[y(1390)]=function(t){var e=y;return goog.html[e(1974)].unwrapTrustedURL(t)[e(894)]()},goog[y(1426)][y(1974)].unwrapTrustedURL=function(t){var e=y;return t instanceof goog[e(1426)][e(1974)]&&t.constructor===goog[e(1426)][e(1974)]&&t[e(649)]===goog.html[e(1974)].TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog[e(2100)].fail(e(890)+t+e(1976)+goog.typeOf(t)),"type_error:SafeUrl")},goog.html.SafeUrl[y(1532)]=function(t){var e=y;return goog[e(1426)].SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog[e(983)][e(820)][e(1390)](t))},goog[y(1426)][y(845)]=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog[y(1426)][y(1974)][y(2061)]=function(t){var e=y;return goog[e(1426)][e(845)][e(647)](t)},goog.html[y(1974)][y(1414)]=function(t){var e=y;return t=goog[e(1426)].SAFE_MIME_TYPE_PATTERN_[e(647)](t[e(604)])?goog.fs[e(1272)].createObjectUrl(t):goog.html[e(1974)][e(2131)],goog[e(1426)][e(1974)].createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog[y(1426)][y(1867)]=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog[y(1426)][y(1974)][y(1344)]=function(t){var e=y,r=(t=t.replace(/(%0A|%0D)/g,""))[e(648)](goog.html[e(1867)]);return r=r&&goog[e(1426)].SAFE_MIME_TYPE_PATTERN_[e(647)](r[1]),goog[e(1426)][e(1974)][e(758)](r?t:goog.html.SafeUrl[e(2131)])},goog[y(1426)][y(1974)][y(1251)]=function(t){var e=y;return goog.string.internal.caseInsensitiveStartsWith(t,e(1627))||(t=goog.html[e(1974)][e(2131)]),goog[e(1426)][e(1974)][e(758)](t)},goog[y(1426)][y(1063)]=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog[y(1426)][y(1974)][y(796)]=function(t){var e=y;return goog.html[e(1063)].test(decodeURIComponent(t))||(t=goog[e(1426)][e(1974)].INNOCUOUS_STRING),goog[e(1426)].SafeUrl[e(758)](t)},goog[y(1426)][y(1974)][y(1710)]=function(t){var e=y;return goog[e(983)][e(1826)][e(1803)](t,e(1084))||(t=goog[e(1426)][e(1974)][e(2131)]),goog[e(1426)][e(1974)][e(758)](t)},goog[y(1426)][y(1974)][y(1908)]=function(t){var e=y;return goog[e(983)][e(1826)].caseInsensitiveStartsWith(t,e(1952))||(t=goog[e(1426)][e(1974)][e(2131)]),goog[e(1426)].SafeUrl[e(758)](t)},goog[y(1426)][y(1974)][y(766)]=function(t){var e=y;return goog[e(983)][e(1826)].caseInsensitiveStartsWith(t,e(1128))&&goog.html[e(1974)][e(2014)](t)||(t=goog[e(1426)][e(1974)][e(2131)]),goog[e(1426)][e(1974)][e(758)](t)},goog.html.SafeUrl[y(2014)]=function(t){var e=y,r=t.indexOf("#");if(0<r&&(t=t.substring(0,r)),!(r=t[e(648)](/[?&]body=/gi)))return!0;if(1<r[e(2130)])return!1;if(!(t=t[e(648)](/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(t)}catch(t){return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i[e(647)](t)},goog[y(1426)][y(1974)].fromSshUrl=function(t){var e=y;return goog[e(983)][e(1826)][e(1803)](t,e(1965))||(t=goog[e(1426)][e(1974)][e(2131)]),goog[e(1426)].SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog[y(1426)][y(1974)].sanitizeChromeExtensionUrl=function(t,e){var r=y;return goog[r(1426)][r(1974)][r(2040)](/^chrome-extension:\/\/([^\/]+)\//,t,e)},goog[y(1426)][y(1974)][y(839)]=function(t,e){var r=y;return goog[r(1426)][r(1974)].sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,t,e)},goog[y(1426)].SafeUrl[y(1706)]=function(t,e){var r=y;return goog[r(1426)][r(1974)][r(2040)](/^ms-browser-extension:\/\/([^\/]+)\//,t,e)},goog.html[y(1974)][y(2040)]=function(t,e,r){var i=y;return(t=t[i(1185)](e))?(t=t[1],-1==(r instanceof goog[i(983)].Const?[goog[i(983)][i(820)].unwrap(r)]:r[i(1235)]((function(t){var e=i;return goog[e(983)].Const[e(1390)](t)}))).indexOf(t)&&(e=goog.html[i(1974)].INNOCUOUS_STRING)):e=goog[i(1426)].SafeUrl[i(2131)],goog[i(1426)][i(1974)][i(758)](e)},goog[y(1426)][y(1974)][y(1389)]=function(t){var e=y;return goog[e(1426)][e(1974)][e(758)](goog[e(1426)][e(1620)][e(1390)](t))},goog[y(1426)][y(1766)]=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog[y(1426)][y(1974)][y(530)]=goog[y(1426)][y(1766)],goog[y(1426)][y(1974)].sanitize=function(t){var e=y;return t instanceof goog[e(1426)].SafeUrl?t:(t="object"==typeof t&&t[e(2056)]?t[e(1878)]():String(t),goog[e(1426)][e(1766)].test(t)||(t=goog[e(1426)][e(1974)][e(2131)]),goog.html[e(1974)][e(758)](t))},goog[y(1426)][y(1974)][y(1263)]=function(t,e){var r=y;return t instanceof goog[r(1426)][r(1974)]?t:(t="object"==typeof t&&t.implementsGoogStringTypedString?t.getTypedStringValue():String(t),e&&/^data:/i[r(647)](t)&&(e=goog[r(1426)][r(1974)].fromDataUrl(t))[r(1878)]()==t?e:(goog.asserts[r(1807)](goog[r(1426)][r(1766)][r(647)](t),r(1046),t)||(t=goog[r(1426)][r(1974)][r(2131)]),goog.html[r(1974)].createSafeUrlSecurityPrivateDoNotAccessOrElse(t)))},goog[y(1426)][y(1974)][y(2176)]={},goog[y(1426)][y(1974)][y(758)]=function(t){var e=y,r=new(goog[e(1426)].SafeUrl);return r[e(1259)]=goog[e(1426)][e(861)].PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog[e(1426)].trustedtypes[e(673)].createURL(t):t,r},goog[y(1426)].SafeUrl.ABOUT_BLANK=goog[y(1426)].SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(y(1246)),goog[y(1426)][y(671)]=function(){var t=y;this[t(739)]="",this[t(2172)]=goog[t(1426)][t(671)][t(2176)]},goog[y(1426)][y(671)][y(633)][y(2056)]=!0,goog[y(1426)][y(671)][y(2176)]={},goog.html.SafeStyle[y(1532)]=function(t){var e=y;return 0===(t=goog.string[e(820)].unwrap(t))[e(2130)]?goog.html[e(671)].EMPTY:(goog[e(2100)][e(1807)](goog[e(983)][e(1826)][e(1203)](t,";"),e(1479)+t),goog[e(2100)][e(1807)](goog[e(983)].internal[e(1160)](t,":"),e(2162)+t),goog.html[e(671)][e(1161)](t))},goog[y(1426)][y(671)][y(633)].getTypedStringValue=function(){return this[y(739)]},goog[y(1328)]&&(goog[y(1426)][y(671)][y(633)][y(894)]=function(){var t=y;return t(1421)+this[t(739)]+"}"}),goog[y(1426)][y(671)][y(1390)]=function(t){var e=y;return t instanceof goog[e(1426)][e(671)]&&t[e(1357)]===goog[e(1426)].SafeStyle&&t[e(2172)]===goog[e(1426)][e(671)][e(2176)]?t[e(739)]:(goog.asserts[e(1863)](e(1453)+t+e(1976)+goog.typeOf(t)),e(1035))},goog[y(1426)].SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(t){var e=y;return(new(goog[e(1426)][e(671)]))[e(1853)](t)},goog[y(1426)][y(671)].prototype[y(1853)]=function(t){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=t,this},goog[y(1426)][y(671)][y(2062)]=goog[y(1426)][y(671)].createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog[y(1426)][y(671)][y(2131)]="zClosurez",goog[y(1426)][y(671)][y(1270)]=function(t){var e,r=y,i="";for(e in t){if(!/^[-_a-zA-Z0-9]+$/.test(e))throw Error(r(1963)+e);var n=t[e];null!=n&&(i+=e+":"+(n=goog[r(1715)](n)?goog[r(1167)][r(1235)](n,goog.html[r(671)][r(1622)])[r(2066)](" "):goog[r(1426)][r(671)][r(1622)](n))+";")}return i?goog[r(1426)][r(671)][r(1161)](i):goog.html[r(671)][r(2062)]},goog[y(1426)][y(671)][y(1622)]=function(t){var e=y;if(t instanceof goog[e(1426)].SafeUrl)return e(662)+goog[e(1426)][e(1974)][e(1390)](t).replace(/</g,e(697)).replace(/[\\"]/g,e(811))+'")';if(t=t instanceof goog[e(983)][e(820)]?goog.string[e(820)][e(1390)](t):goog[e(1426)][e(671)][e(1243)](String(t)),/[{;}]/.test(t))throw new(goog[e(2100)][e(968)])(e(1435),[t]);return t},goog[y(1426)][y(671)][y(1243)]=function(t){var e=y,r=t.replace(goog[e(1426)][e(671)][e(667)],"$1").replace(goog[e(1426)][e(671)].FUNCTIONS_RE_,"$1")[e(1496)](goog[e(1426)][e(671)][e(777)],"url");return goog[e(1426)].SafeStyle.VALUE_RE_[e(647)](r)?goog[e(1426)].SafeStyle[e(1846)][e(647)](t)?(goog.asserts[e(1863)](e(1248)+t),goog.html[e(671)][e(2131)]):goog[e(1426)][e(671)].hasBalancedQuotes_(t)?goog[e(1426)][e(671)].hasBalancedSquareBrackets_(t)?goog[e(1426)][e(671)].sanitizeUrl_(t):(goog[e(2100)][e(1863)](e(634)+t),goog[e(1426)][e(671)][e(2131)]):(goog[e(2100)][e(1863)]("String value requires balanced quotes, got: "+t),goog[e(1426)].SafeStyle.INNOCUOUS_STRING):(goog[e(2100)][e(1863)](e(773)+goog[e(1426)][e(671)][e(1600)]+e(2099)+t),goog[e(1426)][e(671)].INNOCUOUS_STRING)},goog[y(1426)].SafeStyle[y(1980)]=function(t){for(var e=y,r=!0,i=!0,n=0;n<t[e(2130)];n++){var s=t[e(933)](n);"'"==s&&i?r=!r:'"'==s&&r&&(i=!i)}return r&&i},goog[y(1426)][y(671)][y(2049)]=function(t){for(var e=y,r=!0,i=/^[-_a-zA-Z0-9]$/,n=0;n<t[e(2130)];n++){var s=t[e(933)](n);if("]"==s){if(r)return!1;r=!0}else if("["==s){if(!r)return!1;r=!1}else if(!r&&!i[e(647)](s))return!1}return r},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9\\[\\]]",goog[y(1426)].SafeStyle[y(1814)]=new RegExp("^"+goog[y(1426)][y(671)].VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle[y(777)]=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog[y(1426)].SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog[y(1426)][y(671)][y(1846)]=/\/\*/,goog[y(1426)][y(671)][y(1293)]=function(t){var e=y;return t[e(1496)](goog[e(1426)][e(671)][e(777)],(function(t,r,i,n){var s=e,o="";return i=i.replace(/^(['"])(.*)\1$/,(function(t,e,r){return o=e,r})),t=goog[s(1426)][s(1974)].sanitize(i).getTypedStringValue(),r+o+t+o+n}))},goog[y(1426)][y(671)].concat=function(t){var e=y,r="",i=function(t){var e=b$9;goog.isArray(t)?goog[e(1167)][e(1265)](t,i):r+=goog[e(1426)][e(671)][e(1390)](t)};return goog[e(1167)][e(1265)](arguments,i),r?goog.html[e(671)][e(1161)](r):goog[e(1426)].SafeStyle[e(2062)]},goog[y(1426)][y(1242)]=function(){var t=y;this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this[t(1607)]=goog[t(1426)][t(1242)].TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog[y(1426)][y(1242)][y(633)][y(2056)]=!0,goog[y(1426)][y(1242)][y(2176)]={},goog.html[y(1242)][y(1532)]=function(t){var e=y;return 0===(t=goog.string[e(820)].unwrap(t))[e(2130)]?goog[e(1426)].SafeScript[e(2062)]:goog[e(1426)].SafeScript[e(1182)](t)},goog[y(1426)][y(1242)].fromConstantAndArgs=function(t,e){for(var r=y,i=[],n=1;n<arguments[r(2130)];n++)i.push(goog[r(1426)][r(1242)][r(1800)](arguments[n]));return goog[r(1426)][r(1242)][r(1182)]("("+goog[r(983)][r(820)].unwrap(t)+")("+i[r(2066)](", ")+");")},goog.html.SafeScript[y(1787)]=function(t){var e=y;return goog[e(1426)][e(1242)][e(1182)](goog[e(1426)][e(1242)][e(1800)](t))},goog[y(1426)][y(1242)].prototype.getTypedStringValue=function(){return this[y(1089)].toString()},goog[y(1328)]&&(goog[y(1426)][y(1242)][y(633)][y(894)]=function(){var t=y;return t(1720)+this[t(1089)]+"}"}),goog[y(1426)][y(1242)].unwrap=function(t){var e=y;return goog[e(1426)].SafeScript[e(717)](t)[e(894)]()},goog[y(1426)].SafeScript[y(717)]=function(t){var e=y;return t instanceof goog[e(1426)][e(1242)]&&t[e(1357)]===goog[e(1426)][e(1242)]&&t[e(1607)]===goog[e(1426)][e(1242)][e(2176)]?t[e(1089)]:(goog.asserts[e(1863)](e(2011)+t+e(1976)+goog.typeOf(t)),e(1484))},goog[y(1426)][y(1242)][y(1800)]=function(t){var e=y;return JSON[e(852)](t)[e(1496)](/</g,e(763))},goog[y(1426)].SafeScript[y(1182)]=function(t){var e=y;return(new(goog[e(1426)][e(1242)]))[e(1853)](t)},goog.html[y(1242)][y(633)][y(1853)]=function(t){var e=y;return this[e(1089)]=goog[e(1426)].trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog[e(1426)][e(861)][e(673)][e(1686)](t):t,this},goog.html[y(1242)][y(2062)]=goog[y(1426)].SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog[y(1004)]={},goog[y(1004)].is=function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},goog.object.forEach=function(t,e,r){var i=y;for(var n in t)e[i(542)](r,t[n],n,t)},goog[y(1004)][y(1220)]=function(t,e,r){var i,n={};for(i in t)e.call(r,t[i],i,t)&&(n[i]=t[i]);return n},goog[y(1004)][y(1235)]=function(t,e,r){var i,n=y,s={};for(i in t)s[i]=e[n(542)](r,t[i],i,t);return s},goog[y(1004)][y(2081)]=function(t,e,r){var i=y;for(var n in t)if(e[i(542)](r,t[n],n,t))return!0;return!1},goog.object[y(1802)]=function(t,e,r){for(var i in t)if(!e.call(r,t[i],i,t))return!1;return!0},goog.object[y(532)]=function(t){var e,r=0;for(e in t)r++;return r},goog[y(1004)][y(1641)]=function(t){for(var e in t)return e},goog[y(1004)][y(2073)]=function(t){for(var e in t)return t[e]},goog[y(1004)][y(1160)]=function(t,e){return goog[y(1004)].containsValue(t,e)},goog[y(1004)][y(1200)]=function(t){var e,r=[],i=0;for(e in t)r[i++]=t[e];return r},goog.object[y(1042)]=function(t){var e,r=[],i=0;for(e in t)r[i++]=e;return r},goog[y(1004)][y(749)]=function(t,e){var r=y,i=goog[r(886)](e),n=i?e:arguments;for(i=i?0:1;i<n.length;i++){if(null==t)return;t=t[n[i]]}return t},goog[y(1004)][y(1375)]=function(t,e){return null!==t&&e in t},goog[y(1004)][y(751)]=function(t,e){for(var r in t)if(t[r]==e)return!0;return!1},goog[y(1004)][y(1922)]=function(t,e,r){var i=y;for(var n in t)if(e[i(542)](r,t[n],n,t))return n},goog[y(1004)][y(1301)]=function(t,e,r){var i=y;return(e=goog.object[i(1922)](t,e,r))&&t[e]},goog[y(1004)][y(748)]=function(t){for(var e in t)return!1;return!0},goog[y(1004)][y(1205)]=function(t){for(var e in t)delete t[e]},goog[y(1004)][y(723)]=function(t,e){var r;return(r=e in t)&&delete t[e],r},goog[y(1004)].add=function(t,e,r){var i=y;if(null!==t&&e in t)throw Error(i(1555)+e+'"');goog[i(1004)][i(927)](t,e,r)},goog[y(1004)][y(1581)]=function(t,e,r){return null!==t&&e in t?t[e]:r},goog[y(1004)][y(927)]=function(t,e,r){t[e]=r},goog.object.setIfUndefined=function(t,e,r){return e in t?t[e]:t[e]=r},goog[y(1004)][y(798)]=function(t,e,r){return e in t?t[e]:(r=r(),t[e]=r)},goog[y(1004)][y(1083)]=function(t,e){for(var r in t)if(!(r in e)||t[r]!==e[r])return!1;for(var i in e)if(!(i in t))return!1;return!0},goog.object[y(1313)]=function(t){var e,r={};for(e in t)r[e]=t[e];return r},goog[y(1004)][y(858)]=function(t){var e=y,r=goog[e(906)](t);if(e(1004)==r||e(1167)==r){if(goog[e(709)](t[e(1313)]))return t[e(1313)]();for(var i in r=e(1167)==r?[]:{},t)r[i]=goog[e(1004)].unsafeClone(t[i]);return r}return t},goog[y(1004)].transpose=function(t){var e,r={};for(e in t)r[t[e]]=e;return r},goog[y(1004)][y(1553)]=y(1707)[y(1550)](" "),goog[y(1004)][y(658)]=function(t,e){for(var r,i,n=y,s=1;s<arguments.length;s++){for(r in i=arguments[s])t[r]=i[r];for(var o=0;o<goog[n(1004)][n(1553)][n(2130)];o++)r=goog[n(1004)][n(1553)][o],Object[n(633)][n(1506)][n(542)](i,r)&&(t[r]=i[r])}},goog[y(1004)][y(1270)]=function(t){var e=y,r=arguments.length;if(1==r&&goog[e(1715)](arguments[0]))return goog[e(1004)][e(1270)][e(1969)](null,arguments[0]);if(r%2)throw Error(e(986));for(var i={},n=0;n<r;n+=2)i[arguments[n]]=arguments[n+1];return i},goog[y(1004)][y(1108)]=function(t){var e=y,r=arguments.length;if(1==r&&goog[e(1715)](arguments[0]))return goog.object[e(1108)][e(1969)](null,arguments[0]);for(var i={},n=0;n<r;n++)i[arguments[n]]=!0;return i},goog.object[y(1395)]=function(t){var e=y,r=t;return Object[e(547)]&&!Object[e(547)](t)&&(r=Object[e(1270)](t),Object.freeze(r)),r},goog[y(1004)].isImmutableView=function(t){var e=y;return!!Object[e(547)]&&Object[e(547)](t)},goog[y(1004)][y(1888)]=function(t,e,r){var i=y;if(!t)return[];if(!Object.getOwnPropertyNames||!Object[i(783)])return goog[i(1004)][i(1042)](t);for(var n={};t&&(t!==Object[i(633)]||e)&&(t!==Function.prototype||r);){for(var s=Object.getOwnPropertyNames(t),o=0;o<s[i(2130)];o++)n[s[o]]=!0;t=Object.getPrototypeOf(t)}return goog[i(1004)].getKeys(n)},goog[y(1004)].getSuperClass=function(t){var e=y;return(t=Object[e(783)](t[e(633)]))&&t[e(1357)]},goog.html[y(664)]=function(){var t=y;this[t(1701)]="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog[t(1426)][t(664)][t(2176)]},goog[y(1426)][y(664)][y(633)].implementsGoogStringTypedString=!0,goog[y(1426)].SafeStyleSheet[y(2176)]={},goog.html[y(664)][y(1762)]=function(t,e){var r=y;if(goog[r(983)][r(1826)][r(1160)](t,"<"))throw Error(r(1311)+t);var i=t[r(1496)](/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/[r(647)](i))throw Error(r(1148)+t);if(!goog[r(1426)][r(664)].hasBalancedBrackets_(i))throw Error(r(1119)+t);return e instanceof goog[r(1426)][r(671)]||(e=goog[r(1426)][r(671)][r(1270)](e)),t=t+"{"+goog[r(1426)].SafeStyle[r(1390)](e).replace(/</g,"\\3C ")+"}",goog[r(1426)][r(664)][r(1994)](t)},goog[y(1426)][y(664)].hasBalancedBrackets_=function(t){for(var e=y,r={"(":")","[":"]"},i=[],n=0;n<t[e(2130)];n++){var s=t[n];if(r[s])i[e(1768)](r[s]);else if(goog.object[e(1160)](r,s)&&i[e(1556)]()!=s)return!1}return 0==i[e(2130)]},goog.html[y(664)][y(908)]=function(t){var e=y,r="",i=function(t){var e=b$9;goog[e(1715)](t)?goog[e(1167)][e(1265)](t,i):r+=goog.html.SafeStyleSheet[e(1390)](t)};return goog[e(1167)][e(1265)](arguments,i),goog[e(1426)][e(664)][e(1994)](r)},goog[y(1426)][y(664)][y(1532)]=function(t){var e=y;return 0===(t=goog[e(983)].Const[e(1390)](t)).length?goog[e(1426)].SafeStyleSheet[e(2062)]:(goog[e(2100)][e(1807)](!goog[e(983)][e(1826)][e(1160)](t,"<"),e(1106)+t),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t))},goog[y(1426)][y(664)][y(633)][y(1878)]=function(){return this[y(1701)]},goog.DEBUG&&(goog[y(1426)][y(664)].prototype.toString=function(){var t=y;return t(1028)+this[t(1701)]+"}"}),goog[y(1426)][y(664)].unwrap=function(t){var e=y;return t instanceof goog[e(1426)][e(664)]&&t[e(1357)]===goog[e(1426)].SafeStyleSheet&&t[e(1177)]===goog[e(1426)].SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?t[e(1701)]:(goog[e(2100)][e(1863)](e(1097)+t+e(1976)+goog[e(906)](t)),e(804))},goog[y(1426)][y(664)][y(1994)]=function(t){var e=y;return(new goog.html.SafeStyleSheet)[e(1853)](t)},goog[y(1426)].SafeStyleSheet[y(633)].initSecurityPrivateDoNotAccessOrElse_=function(t){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=t,this},goog[y(1426)][y(664)][y(2062)]=goog[y(1426)][y(664)][y(1994)](""),goog[y(714)][y(2124)]={},goog[y(714)].tags[y(855)]={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog[y(714)][y(2124)][y(1368)]=function(t){var e=y;return!0===goog[e(714)][e(2124)].VOID_TAGS_[t]},goog[y(714)][y(784)]=function(){},goog[y(714)][y(2117)]=function(t){this[y(554)]=t},goog.dom.TagName.prototype.toString=function(){return this[y(554)]},goog.dom[y(2117)].A=new(goog[y(714)].TagName)("A"),goog[y(714)][y(2117)].ABBR=new(goog[y(714)].TagName)("ABBR"),goog[y(714)].TagName[y(557)]=new goog.dom.TagName("ACRONYM"),goog[y(714)].TagName[y(1907)]=new(goog[y(714)].TagName)("ADDRESS"),goog[y(714)][y(2117)][y(1889)]=new(goog[y(714)][y(2117)])(y(1889)),goog[y(714)][y(2117)][y(1876)]=new(goog[y(714)][y(2117)])("AREA"),goog[y(714)][y(2117)].ARTICLE=new(goog.dom[y(2117)])(y(1705)),goog[y(714)].TagName[y(1470)]=new(goog[y(714)].TagName)(y(1470)),goog[y(714)][y(2117)][y(592)]=new(goog[y(714)][y(2117)])("AUDIO"),goog[y(714)][y(2117)].B=new(goog[y(714)][y(2117)])("B"),goog.dom[y(2117)].BASE=new(goog[y(714)][y(2117)])("BASE"),goog[y(714)][y(2117)][y(1790)]=new(goog[y(714)][y(2117)])(y(1790)),goog[y(714)][y(2117)][y(1552)]=new(goog.dom[y(2117)])(y(1552)),goog[y(714)][y(2117)][y(1151)]=new(goog[y(714)][y(2117)])(y(1151)),goog.dom[y(2117)][y(1347)]=new(goog[y(714)][y(2117)])(y(1347)),goog[y(714)][y(2117)][y(505)]=new(goog[y(714)][y(2117)])(y(505)),goog[y(714)][y(2117)][y(556)]=new(goog[y(714)].TagName)(y(556)),goog[y(714)][y(2117)].BR=new goog.dom.TagName("BR"),goog[y(714)].TagName.BUTTON=new(goog[y(714)][y(2117)])(y(1436)),goog[y(714)][y(2117)].CANVAS=new(goog[y(714)][y(2117)])("CANVAS"),goog[y(714)][y(2117)][y(1456)]=new(goog[y(714)].TagName)("CAPTION"),goog[y(714)][y(2117)].CENTER=new(goog[y(714)][y(2117)])("CENTER"),goog.dom.TagName[y(2122)]=new(goog[y(714)][y(2117)])("CITE"),goog[y(714)].TagName[y(2084)]=new(goog.dom[y(2117)])(y(2084)),goog[y(714)][y(2117)].COL=new(goog[y(714)].TagName)("COL"),goog[y(714)][y(2117)][y(1902)]=new(goog[y(714)].TagName)(y(1902)),goog[y(714)][y(2117)][y(794)]=new(goog[y(714)].TagName)(y(794)),goog.dom[y(2117)][y(2054)]=new(goog[y(714)][y(2117)])(y(2054)),goog.dom[y(2117)][y(1647)]=new(goog[y(714)][y(2117)])(y(1647)),goog[y(714)].TagName.DD=new(goog[y(714)][y(2117)])("DD"),goog.dom[y(2117)][y(885)]=new(goog[y(714)].TagName)("DEL"),goog[y(714)].TagName.DETAILS=new(goog.dom[y(2117)])(y(2026)),goog.dom[y(2117)].DFN=new(goog[y(714)][y(2117)])("DFN"),goog[y(714)][y(2117)][y(1292)]=new(goog[y(714)].TagName)(y(1292)),goog[y(714)][y(2117)].DIR=new(goog[y(714)][y(2117)])("DIR"),goog[y(714)][y(2117)].DIV=new(goog[y(714)].TagName)("DIV"),goog[y(714)].TagName.DL=new(goog[y(714)][y(2117)])("DL"),goog[y(714)][y(2117)].DT=new(goog[y(714)][y(2117)])("DT"),goog[y(714)][y(2117)].EM=new(goog[y(714)].TagName)("EM"),goog[y(714)][y(2117)][y(682)]=new(goog[y(714)][y(2117)])("EMBED"),goog.dom[y(2117)][y(1513)]=new(goog[y(714)][y(2117)])(y(1513)),goog[y(714)][y(2117)].FIGCAPTION=new(goog.dom[y(2117)])(y(1858)),goog.dom.TagName.FIGURE=new(goog[y(714)].TagName)(y(893)),goog[y(714)][y(2117)][y(2159)]=new(goog[y(714)][y(2117)])(y(2159)),goog.dom[y(2117)][y(1694)]=new(goog.dom[y(2117)])(y(1694)),goog[y(714)].TagName.FORM=new(goog[y(714)][y(2117)])(y(883)),goog[y(714)][y(2117)][y(1076)]=new(goog[y(714)][y(2117)])(y(1076)),goog.dom[y(2117)].FRAMESET=new(goog.dom[y(2117)])(y(1350)),goog[y(714)][y(2117)].H1=new(goog[y(714)][y(2117)])("H1"),goog[y(714)][y(2117)].H2=new(goog[y(714)].TagName)("H2"),goog[y(714)].TagName.H3=new(goog[y(714)].TagName)("H3"),goog[y(714)][y(2117)].H4=new(goog[y(714)][y(2117)])("H4"),goog[y(714)][y(2117)].H5=new(goog[y(714)][y(2117)])("H5"),goog[y(714)].TagName.H6=new(goog[y(714)][y(2117)])("H6"),goog[y(714)][y(2117)][y(1946)]=new(goog.dom[y(2117)])(y(1946)),goog[y(714)][y(2117)].HEADER=new(goog[y(714)][y(2117)])(y(1955)),goog.dom[y(2117)][y(2146)]=new(goog.dom[y(2117)])(y(2146)),goog[y(714)][y(2117)].HR=new(goog[y(714)][y(2117)])("HR"),goog.dom[y(2117)].HTML=new(goog[y(714)][y(2117)])(y(1951)),goog[y(714)].TagName.I=new(goog.dom[y(2117)])("I"),goog[y(714)][y(2117)][y(1747)]=new(goog[y(714)][y(2117)])(y(1747)),goog[y(714)].TagName[y(1055)]=new(goog[y(714)][y(2117)])("IMG"),goog[y(714)][y(2117)][y(1480)]=new(goog.dom[y(2117)])(y(1480)),goog[y(714)][y(2117)].INS=new(goog[y(714)][y(2117)])(y(1990)),goog[y(714)][y(2117)].ISINDEX=new(goog[y(714)].TagName)(y(1131)),goog[y(714)][y(2117)].KBD=new(goog[y(714)][y(2117)])(y(543)),goog[y(714)][y(2117)][y(1438)]=new(goog[y(714)][y(2117)])(y(1438)),goog[y(714)][y(2117)].LABEL=new(goog[y(714)][y(2117)])(y(1077)),goog.dom.TagName[y(2059)]=new(goog[y(714)].TagName)("LEGEND"),goog[y(714)][y(2117)].LI=new(goog.dom[y(2117)])("LI"),goog.dom.TagName[y(1331)]=new(goog[y(714)][y(2117)])(y(1331)),goog[y(714)][y(2117)][y(1777)]=new(goog.dom[y(2117)])("MAIN"),goog[y(714)][y(2117)][y(1874)]=new(goog[y(714)][y(2117)])("MAP"),goog[y(714)][y(2117)][y(529)]=new(goog[y(714)][y(2117)])(y(529)),goog[y(714)][y(2117)][y(689)]=new(goog.dom[y(2117)])(y(689)),goog[y(714)].TagName[y(1277)]=new(goog[y(714)][y(2117)])(y(1277)),goog[y(714)].TagName[y(1221)]=new(goog.dom[y(2117)])(y(1221)),goog[y(714)][y(2117)].META=new(goog[y(714)][y(2117)])(y(1534)),goog.dom[y(2117)][y(718)]=new(goog[y(714)][y(2117)])(y(718)),goog[y(714)].TagName[y(1749)]=new(goog[y(714)][y(2117)])(y(1749)),goog[y(714)].TagName[y(1616)]=new(goog[y(714)][y(2117)])(y(1616)),goog.dom[y(2117)][y(944)]=new(goog[y(714)].TagName)(y(944)),goog.dom[y(2117)][y(1093)]=new goog.dom.TagName(y(1093)),goog[y(714)][y(2117)].OL=new(goog[y(714)][y(2117)])("OL"),goog.dom.TagName[y(1294)]=new(goog[y(714)].TagName)(y(1294)),goog[y(714)][y(2117)][y(1494)]=new(goog.dom[y(2117)])(y(1494)),goog.dom[y(2117)].OUTPUT=new(goog[y(714)].TagName)(y(1140)),goog[y(714)][y(2117)].P=new(goog[y(714)][y(2117)])("P"),goog[y(714)][y(2117)][y(1760)]=new(goog[y(714)][y(2117)])(y(1760)),goog[y(714)][y(2117)][y(1307)]=new(goog[y(714)][y(2117)])(y(1307)),goog[y(714)].TagName[y(569)]=new(goog[y(714)][y(2117)])("PRE"),goog.dom[y(2117)][y(1238)]=new(goog[y(714)].TagName)(y(1238)),goog[y(714)].TagName.Q=new(goog[y(714)][y(2117)])("Q"),goog[y(714)].TagName.RP=new(goog[y(714)][y(2117)])("RP"),goog[y(714)].TagName.RT=new(goog[y(714)].TagName)("RT"),goog[y(714)][y(2117)][y(1080)]=new(goog[y(714)].TagName)(y(1080)),goog[y(714)][y(2117)][y(989)]=new(goog[y(714)][y(2117)])(y(989)),goog[y(714)][y(2117)].S=new(goog[y(714)].TagName)("S"),goog[y(714)].TagName[y(1973)]=new goog.dom.TagName("SAMP"),goog[y(714)].TagName[y(2169)]=new(goog.dom[y(2117)])(y(2169)),goog.dom.TagName[y(797)]=new(goog[y(714)][y(2117)])(y(797)),goog[y(714)][y(2117)][y(772)]=new(goog[y(714)][y(2117)])("SELECT"),goog[y(714)][y(2117)][y(1792)]=new(goog.dom[y(2117)])(y(1792)),goog[y(714)][y(2117)].SOURCE=new(goog[y(714)][y(2117)])(y(1972)),goog.dom[y(2117)][y(1897)]=new(goog[y(714)][y(2117)])(y(1897)),goog.dom.TagName[y(1924)]=new(goog[y(714)][y(2117)])(y(1924)),goog[y(714)][y(2117)][y(721)]=new(goog[y(714)].TagName)("STRONG"),goog.dom.TagName[y(550)]=new(goog.dom[y(2117)])(y(550)),goog[y(714)].TagName.SUB=new(goog[y(714)][y(2117)])(y(656)),goog[y(714)][y(2117)].SUMMARY=new(goog[y(714)][y(2117)])(y(2053)),goog[y(714)][y(2117)][y(1463)]=new(goog[y(714)][y(2117)])(y(1463)),goog[y(714)][y(2117)][y(755)]=new(goog[y(714)][y(2117)])(y(755)),goog[y(714)][y(2117)][y(1388)]=new(goog[y(714)][y(2117)])(y(1388)),goog[y(714)][y(2117)][y(495)]=new(goog.dom[y(2117)])(y(495)),goog[y(714)][y(2117)].TD=new(goog[y(714)].TagName)("TD"),goog[y(714)][y(2117)][y(1823)]=new goog.dom.TagName(y(1823)),goog[y(714)][y(2117)][y(1988)]=new(goog.dom[y(2117)])(y(1988)),goog[y(714)][y(2117)][y(1149)]=new(goog.dom[y(2117)])(y(1149)),goog[y(714)][y(2117)].TH=new(goog[y(714)][y(2117)])("TH"),goog[y(714)][y(2117)][y(1171)]=new goog.dom.TagName(y(1171)),goog.dom.TagName[y(934)]=new(goog[y(714)].TagName)(y(934)),goog[y(714)][y(2117)][y(1416)]=new(goog[y(714)][y(2117)])(y(1416)),goog[y(714)][y(2117)].TR=new(goog[y(714)].TagName)("TR"),goog[y(714)][y(2117)][y(1059)]=new(goog[y(714)].TagName)("TRACK"),goog[y(714)].TagName.TT=new(goog[y(714)][y(2117)])("TT"),goog[y(714)].TagName.U=new(goog[y(714)][y(2117)])("U"),goog.dom.TagName.UL=new(goog[y(714)].TagName)("UL"),goog[y(714)][y(2117)][y(1383)]=new(goog[y(714)][y(2117)])(y(1383)),goog[y(714)].TagName[y(817)]=new(goog.dom[y(2117)])(y(817)),goog[y(714)][y(2117)].WBR=new(goog.dom[y(2117)])("WBR"),goog[y(860)]={},goog[y(860)][y(807)]={},goog.labs[y(807)][y(993)]={},goog[y(860)][y(807)].util.getNativeUserAgentString_=function(){var t=y,e=goog[t(860)][t(807)].util[t(2147)]();return e&&(e=e[t(807)])?e:""},goog.labs[y(807)][y(993)][y(2147)]=function(){var t=y;return goog[t(768)][t(552)]},goog.labs[y(807)][y(993)][y(2163)]=goog[y(860)][y(807)].util[y(1575)](),goog[y(860)][y(807)][y(993)][y(1680)]=function(t){var e=y;goog[e(860)].userAgent[e(993)][e(2163)]=t||goog.labs[e(807)].util[e(1575)]()},goog[y(860)][y(807)].util.getUserAgent=function(){var t=y;return goog.labs[t(807)][t(993)].userAgent_},goog.labs[y(807)][y(993)].matchUserAgent=function(t){var e=y,r=goog[e(860)][e(807)].util[e(991)]();return goog[e(983)][e(1826)][e(1160)](r,t)},goog.labs[y(807)][y(993)].matchUserAgentIgnoreCase=function(t){var e=y,r=goog[e(860)][e(807)][e(993)][e(991)]();return goog[e(983)][e(1826)][e(1684)](r,t)},goog[y(860)][y(807)][y(993)][y(1646)]=function(t){for(var e,r=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,i=[];e=r.exec(t);)i.push([e[1],e[2],e[3]||void 0]);return i},goog[y(860)][y(807)][y(2080)]={},goog[y(860)][y(807)][y(2080)][y(2177)]=function(){var t=y;return goog.labs[t(807)][t(993)][t(1962)](t(1449))},goog[y(860)][y(807)].browser[y(1087)]=function(){var t=y;return goog[t(860)][t(807)].util[t(1962)](t(605))||goog.labs[t(807)].util[t(1962)]("MSIE")},goog[y(860)][y(807)].browser.matchEdgeHtml_=function(){var t=y;return goog.labs.userAgent[t(993)][t(1962)](t(567))},goog[y(860)][y(807)][y(2080)].matchEdgeChromium_=function(){var t=y;return goog[t(860)][t(807)][t(993)].matchUserAgent(t(1855))},goog[y(860)][y(807)][y(2080)][y(1936)]=function(){var t=y;return goog[t(860)][t(807)].util[t(1962)]("OPR")},goog[y(860)].userAgent.browser[y(1591)]=function(){var t=y;return goog[t(860)][t(807)][t(993)][t(1962)]("Firefox")||goog.labs[t(807)][t(993)][t(1962)](t(1516))},goog[y(860)].userAgent[y(2080)][y(1285)]=function(){var t=y;return goog[t(860)][t(807)][t(993)].matchUserAgent("Safari")&&!(goog[t(860)][t(807)][t(2080)][t(1968)]()||goog[t(860)].userAgent[t(2080)].matchCoast_()||goog.labs[t(807)][t(2080)].matchOpera_()||goog.labs[t(807)][t(2080)][t(1485)]()||goog[t(860)][t(807)][t(2080)][t(707)]()||goog[t(860)][t(807)][t(2080)][t(1936)]()||goog.labs.userAgent[t(2080)][t(1591)]()||goog.labs.userAgent[t(2080)][t(1069)]()||goog[t(860)][t(807)][t(993)].matchUserAgent(t(1452)))},goog[y(860)][y(807)][y(2080)][y(690)]=function(){var t=y;return goog.labs[t(807)][t(993)][t(1962)](t(2132))},goog[y(860)][y(807)][y(2080)][y(940)]=function(){var t=y;return(goog[t(860)].userAgent[t(993)].matchUserAgent(t(1796))||goog[t(860)].userAgent[t(993)][t(1962)](t(1668)))&&!goog[t(860)][t(807)].browser.matchSafari_()&&!goog.labs.userAgent.browser[t(1968)]()&&!goog[t(860)][t(807)][t(2080)].matchCoast_()&&!goog[t(860)][t(807)][t(2080)][t(1591)]()&&goog[t(860)][t(807)][t(993)][t(1962)](t(1683))},goog[y(860)][y(807)][y(2080)].matchChrome_=function(){var t=y;return(goog[t(860)][t(807)][t(993)][t(1962)](t(1378))||goog.labs[t(807)][t(993)][t(1962)]("CriOS"))&&!goog.labs[t(807)][t(2080)][t(1485)]()},goog[y(860)][y(807)][y(2080)][y(1875)]=function(){var t=y;return goog[t(860)].userAgent[t(993)].matchUserAgent(t(1452))&&!(goog.labs[t(807)][t(2080)][t(1130)]()||goog[t(860)][t(807)][t(2080)][t(1752)]()||goog[t(860)][t(807)].browser.isOpera()||goog[t(860)][t(807)][t(2080)].isSilk())},goog[y(860)][y(807)][y(2080)][y(1045)]=goog.labs.userAgent.browser[y(2177)],goog.labs.userAgent[y(2080)].isIE=goog[y(860)][y(807)][y(2080)][y(1087)],goog[y(860)][y(807)][y(2080)][y(1483)]=goog.labs[y(807)][y(2080)][y(1485)],goog[y(860)].userAgent[y(2080)][y(1795)]=goog[y(860)][y(807)][y(2080)].matchEdgeChromium_,goog.labs[y(807)][y(2080)][y(1595)]=goog[y(860)][y(807)][y(2080)].matchOperaChromium_,goog[y(860)][y(807)][y(2080)][y(1752)]=goog[y(860)].userAgent.browser[y(1591)],goog[y(860)][y(807)][y(2080)].isSafari=goog[y(860)][y(807)][y(2080)][y(1285)],goog[y(860)].userAgent[y(2080)][y(1216)]=goog.labs.userAgent[y(2080)][y(690)],goog.labs[y(807)][y(2080)][y(2013)]=goog[y(860)][y(807)][y(2080)][y(940)],goog[y(860)].userAgent.browser[y(1130)]=goog.labs[y(807)][y(2080)].matchChrome_,goog.labs[y(807)].browser[y(1771)]=goog[y(860)][y(807)].browser.matchAndroidBrowser_,goog.labs[y(807)].browser[y(1069)]=function(){var t=y;return goog[t(860)][t(807)][t(993)][t(1962)](t(1060))},goog.labs[y(807)].browser[y(1603)]=function(){var t=y;function e(t){var e=b$9;return t=goog[e(1167)][e(1324)](t,n),i[t]||""}var r=goog[t(860)][t(807)].util[t(991)]();if(goog.labs[t(807)].browser[t(1257)]())return goog[t(860)][t(807)][t(2080)][t(531)](r);r=goog[t(860)][t(807)].util.extractVersionTuples(r);var i={};goog[t(1167)][t(1265)](r,(function(t){i[t[0]]=t[1]}));var n=goog[t(514)](goog.object[t(1375)],i);return goog.labs[t(807)][t(2080)][t(1045)]()?e(["Version","Opera"]):goog.labs.userAgent[t(2080)][t(1483)]()?e([t(567)]):goog[t(860)][t(807)][t(2080)][t(1795)]()?e([t(1950)]):goog[t(860)][t(807)][t(2080)][t(1130)]()?e(["Chrome",t(1065)]):(r=r[2])&&r[1]||""},goog[y(860)][y(807)].browser.isVersionOrHigher=function(t){var e=y;return 0<=goog[e(983)].internal.compareVersions(goog[e(860)][e(807)][e(2080)].getVersion(),t)},goog[y(860)][y(807)][y(2080)].getIEVersion_=function(t){var e=y,r=/rv: *([\d\.]*)/[e(1185)](t);if(r&&r[1])return r[1];r="";var i=/MSIE +([\d\.]+)/[e(1185)](t);if(i&&i[1])if(t=/Trident\/(\d.\d)/[e(1185)](t),e(994)==i[1])if(t&&t[1])switch(t[1]){case"4.0":r=e(897);break;case e(1891):r="9.0";break;case"6.0":r=e(1001);break;case e(994):r=e(1322)}else r=e(994);else r=i[1];return r},goog[y(1426)][y(1123)]=function(){var t=y;this[t(1287)]="",this[t(1346)]=goog[t(1426)][t(1123)][t(2176)],this[t(978)]=null},goog[y(1426)][y(1123)][y(633)][y(2180)]=!0,goog[y(1426)].SafeHtml[y(633)].getDirection=function(){return this.dir_},goog[y(1426)].SafeHtml[y(633)][y(2056)]=!0,goog.html[y(1123)][y(633)][y(1878)]=function(){var t=y;return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_[t(894)]()},goog.DEBUG&&(goog.html.SafeHtml[y(633)].toString=function(){var t=y;return t(2065)+this[t(1287)]+"}"}),goog[y(1426)][y(1123)][y(1390)]=function(t){var e=y;return goog.html[e(1123)].unwrapTrustedHTML(t)[e(894)]()},goog[y(1426)][y(1123)][y(1053)]=function(t){var e=y;return t instanceof goog[e(1426)][e(1123)]&&t[e(1357)]===goog[e(1426)][e(1123)]&&t[e(1346)]===goog[e(1426)][e(1123)][e(2176)]?t.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog[e(2100)][e(1863)]("expected object of type SafeHtml, got '"+t+e(1976)+goog[e(906)](t)),e(1920))},goog.html[y(1123)][y(1845)]=function(t){var e=y;if(t instanceof goog.html[e(1123)])return t;var r="object"==typeof t,i=null;return r&&t[e(2180)]&&(i=t[e(1136)]()),t=r&&t[e(2056)]?t[e(1878)]():String(t),goog[e(1426)][e(1123)].createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog[e(983)][e(1826)][e(1845)](t),i)},goog.html[y(1123)][y(1681)]=function(t){var e=y;return t instanceof goog[e(1426)].SafeHtml?t:(t=goog.html[e(1123)][e(1845)](t),goog[e(1426)][e(1123)][e(851)](goog[e(983)][e(1826)][e(1763)](goog[e(1426)][e(1123)][e(1390)](t)),t[e(1136)]()))},goog[y(1426)][y(1123)][y(1604)]=function(t){var e=y;return t instanceof goog[e(1426)][e(1123)]?t:(t=goog[e(1426)][e(1123)][e(1845)](t),goog.html[e(1123)][e(851)](goog[e(983)][e(1826)][e(575)](goog[e(1426)][e(1123)][e(1390)](t)),t[e(1136)]()))},goog[y(1426)][y(1123)][y(720)]=goog.html.SafeHtml[y(1845)],goog[y(1426)][y(1123)][y(1860)]=/^[a-zA-Z0-9-]+$/,goog[y(1426)][y(1123)][y(1504)]={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog[y(1426)][y(1123)][y(1533)]={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml[y(1270)]=function(t,e,r){var i=y;return goog[i(1426)][i(1123)][i(1360)](String(t)),goog.html[i(1123)][i(802)](String(t),e,r)},goog[y(1426)].SafeHtml[y(1360)]=function(t){var e=y;if(!goog[e(1426)][e(1123)].VALID_NAMES_IN_TAG_[e(647)](t))throw Error(e(1142)+t+">.");if(t[e(854)]()in goog[e(1426)][e(1123)][e(1533)])throw Error(e(1871)+t+"> is not allowed for SafeHtml.")},goog[y(1426)][y(1123)].createIframe=function(t,e,r,i){var n=y;t&&goog[n(1426)][n(1620)].unwrap(t);var s={};return s[n(1746)]=t||null,s.srcdoc=e&&goog.html[n(1123)].unwrap(e),t=goog[n(1426)][n(1123)][n(1373)](s,{sandbox:""},r),goog[n(1426)].SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(n(961),t,i)},goog[y(1426)][y(1123)][y(1279)]=function(t,e,r,i){var n=y;if(!goog.html[n(1123)][n(1526)]())throw Error(n(601));var s={};return s[n(1746)]=t?goog[n(1426)].SafeUrl[n(1390)](goog[n(1426)].SafeUrl.sanitize(t)):null,s[n(1758)]=e||null,s[n(1810)]="",t=goog.html[n(1123)][n(1373)](s,{},r),goog[n(1426)][n(1123)][n(802)](n(961),t,i)},goog[y(1426)][y(1123)].canUseSandboxIframe=function(){var t=y;return goog.global[t(971)]&&t(1810)in goog.global[t(971)][t(633)]},goog.html.SafeHtml[y(1057)]=function(t,e){var r=y;return goog[r(1426)].TrustedResourceUrl[r(1390)](t),t=goog[r(1426)][r(1123)][r(1373)]({src:t},{},e),goog[r(1426)][r(1123)][r(802)](r(2032),t)},goog[y(1426)].SafeHtml.createScript=function(t,e){var r=y;for(var i in e){var n=i.toLowerCase();if(r(1939)==n||r(1746)==n||"text"==n||"type"==n)throw Error(r(1025)+n+r(1250))}for(i="",t=goog.array[r(908)](t),n=0;n<t[r(2130)];n++)i+=goog.html[r(1242)][r(1390)](t[n]);return t=goog[r(1426)][r(1123)][r(851)](i,goog.i18n[r(753)][r(949)][r(1935)]),goog[r(1426)].SafeHtml[r(802)](r(2032),e,t)},goog[y(1426)].SafeHtml[y(803)]=function(t,e){var r=y;e=goog[r(1426)][r(1123)][r(1373)]({type:r(1806)},{},e);var i="";t=goog[r(1167)].concat(t);for(var n=0;n<t[r(2130)];n++)i+=goog.html.SafeStyleSheet.unwrap(t[n]);return t=goog[r(1426)][r(1123)][r(851)](i,goog.i18n.bidi[r(949)].NEUTRAL),goog[r(1426)][r(1123)][r(802)](r(2030),e,t)},goog[y(1426)][y(1123)][y(1781)]=function(t,e){var r=y;return t=goog.html.SafeUrl[r(1390)](goog[r(1426)][r(1974)][r(1818)](t)),(goog[r(860)][r(807)][r(2080)][r(1257)]()||goog[r(860)][r(807)][r(2080)][r(1483)]())&&goog[r(983)][r(1826)].contains(t,";")&&(t="'"+t[r(1496)](/'/g,r(1896))+"'"),goog[r(1426)][r(1123)].createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(r(1905),{"http-equiv":r(1797),content:(e||0)+r(1986)+t})},goog[y(1426)][y(1123)][y(500)]=function(t,e,r){var i=y;if(r instanceof goog[i(983)][i(820)])r=goog[i(983)].Const[i(1390)](r);else if(i(2030)==e.toLowerCase())r=goog.html[i(1123)][i(2039)](r);else{if(/^on/i.test(e))throw Error('Attribute "'+e+i(1366)+r+i(1726));if(e[i(1121)]()in goog[i(1426)][i(1123)][i(1504)])if(r instanceof goog[i(1426)].TrustedResourceUrl)r=goog[i(1426)][i(1620)][i(1390)](r);else if(r instanceof goog[i(1426)].SafeUrl)r=goog[i(1426)][i(1974)][i(1390)](r);else{if(!goog[i(1719)](r))throw Error(i(1068)+e+i(2104)+t+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+r+i(1726));r=goog.html[i(1974)][i(1818)](r)[i(1878)]()}}return r[i(2056)]&&(r=r.getTypedStringValue()),goog[i(2100)][i(1807)](goog[i(1719)](r)||goog.isNumber(r),"String or number value expected, got "+typeof r+i(1393)+r),e+'="'+goog.string.internal[i(1845)](String(r))+'"'},goog.html.SafeHtml[y(2039)]=function(t){var e=y;if(!goog[e(563)](t))throw Error(e(1864)+typeof t+e(539)+t);return t instanceof goog.html[e(671)]||(t=goog.html.SafeStyle[e(1270)](t)),goog[e(1426)][e(671)][e(1390)](t)},goog.html[y(1123)][y(706)]=function(t,e,r,i){var n=y;return(e=goog[n(1426)][n(1123)][n(1270)](e,r,i))[n(978)]=t,e},goog.html[y(1123)].join=function(t,e){var r=y,i=(t=goog[r(1426)][r(1123)][r(1845)](t))[r(1136)](),n=[],s=function(t){var e=r;goog[e(1715)](t)?goog[e(1167)].forEach(t,s):(t=goog[e(1426)][e(1123)][e(1845)](t),n[e(1768)](goog[e(1426)][e(1123)].unwrap(t)),t=t.getDirection(),i==goog.i18n[e(753)][e(949)][e(1935)]?i=t:t!=goog[e(830)][e(753)][e(949)][e(1935)]&&i!=t&&(i=null))};return goog[r(1167)][r(1265)](e,s),goog[r(1426)][r(1123)][r(851)](n[r(2066)](goog[r(1426)].SafeHtml[r(1390)](t)),i)},goog[y(1426)][y(1123)].concat=function(t){var e=y;return goog[e(1426)][e(1123)][e(2066)](goog.html[e(1123)][e(2062)],Array[e(633)][e(1785)][e(542)](arguments))},goog[y(1426)][y(1123)].concatWithDir=function(t,e){var r=y,i=goog[r(1426)][r(1123)][r(908)](goog.array[r(1785)](arguments,1));return i[r(978)]=t,i},goog[y(1426)][y(1123)][y(2176)]={},goog[y(1426)][y(1123)][y(851)]=function(t,e){var r=y;return(new(goog.html[r(1123)])).initSecurityPrivateDoNotAccessOrElse_(t,e)},goog.html[y(1123)][y(633)][y(1853)]=function(t,e){var r=y;return this[r(1287)]=goog[r(1426)][r(861)].PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog[r(1426)][r(861)][r(673)][r(1528)](t):t,this[r(978)]=e,this},goog.html[y(1123)][y(802)]=function(t,e,r){var i=y,n=null,s="<"+t+goog[i(1426)][i(1123)][i(564)](t,e);return goog.isDefAndNotNull(r)?goog[i(1715)](r)||(r=[r]):r=[],goog[i(714)][i(2124)][i(1368)](t[i(1121)]())?(goog.asserts[i(1807)](!r.length,i(756)+t+i(1281)),s+=">"):(n=goog[i(1426)][i(1123)].concat(r),s+=">"+goog[i(1426)][i(1123)][i(1390)](n)+"</"+t+">",n=n[i(1136)]()),(t=e&&e[i(887)])&&(n=/^(ltr|rtl|auto)$/i[i(647)](t)?goog[i(830)][i(753)][i(949)].NEUTRAL:null),goog[i(1426)][i(1123)][i(851)](s,n)},goog.html.SafeHtml[y(564)]=function(t,e){var r=y,i="";if(e)for(var n in e){if(!goog[r(1426)][r(1123)][r(1860)][r(647)](n))throw Error(r(1919)+n+'".');var s=e[n];goog[r(1133)](s)&&(i+=" "+goog[r(1426)][r(1123)][r(500)](t,n,s))}return i},goog[y(1426)][y(1123)][y(1373)]=function(t,e,r){var i,n=y,s={};for(i in t)goog[n(2100)][n(1807)](i[n(1121)]()==i,n(533)),s[i]=t[i];for(i in e)goog[n(2100)][n(1807)](i.toLowerCase()==i,n(533)),s[i]=e[i];for(i in r){var o=i[n(1121)]();if(o in t)throw Error('Cannot override "'+o+n(513)+i+n(1596)+r[i]+'"');o in e&&delete s[o],s[i]=r[i]}return s},goog.html[y(1123)].DOCTYPE_HTML=goog.html[y(1123)][y(851)](y(1073),goog[y(830)][y(753)].Dir[y(1935)]),goog.html[y(1123)][y(2062)]=goog[y(1426)][y(1123)].createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog[y(830)][y(753)][y(949)][y(1935)]),goog.html[y(1123)].BR=goog[y(1426)][y(1123)].createSafeHtmlSecurityPrivateDoNotAccessOrElse(y(1562),goog[y(830)][y(753)][y(949)][y(1935)]),goog.html.uncheckedconversions={},goog[y(1426)][y(2078)][y(1559)]=function(t,e,r){var i=y;return goog[i(2100)][i(591)](goog[i(983)][i(820)][i(1390)](t),i(609)),goog[i(2100)].assert(!goog[i(983)][i(1826)][i(1295)](goog[i(983)].Const.unwrap(t)),i(2e3)),goog[i(1426)][i(1123)].createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,r||null)},goog[y(1426)][y(2078)][y(818)]=function(t,e){var r=y;return goog.asserts.assertString(goog[r(983)][r(820)][r(1390)](t),r(609)),goog[r(2100)].assert(!goog[r(983)][r(1826)][r(1295)](goog[r(983)][r(820)][r(1390)](t)),"must provide non-empty justification"),goog[r(1426)][r(1242)][r(1182)](e)},goog.html[y(2078)].safeStyleFromStringKnownToSatisfyTypeContract=function(t,e){var r=y;return goog[r(2100)][r(591)](goog[r(983)].Const[r(1390)](t),r(609)),goog[r(2100)][r(1807)](!goog[r(983)][r(1826)].isEmptyOrWhitespace(goog[r(983)][r(820)].unwrap(t)),r(2e3)),goog[r(1426)][r(671)][r(1161)](e)},goog[y(1426)][y(2078)].safeStyleSheetFromStringKnownToSatisfyTypeContract=function(t,e){var r=y;return goog[r(2100)][r(591)](goog[r(983)][r(820)].unwrap(t),r(609)),goog[r(2100)][r(1807)](!goog[r(983)][r(1826)][r(1295)](goog.string[r(820)][r(1390)](t)),r(2e3)),goog[r(1426)][r(664)].createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog[y(1426)][y(2078)][y(1219)]=function(t,e){var r=y;return goog.asserts[r(591)](goog.string[r(820)][r(1390)](t),r(609)),goog[r(2100)][r(1807)](!goog.string[r(1826)][r(1295)](goog[r(983)].Const[r(1390)](t)),r(2e3)),goog.html[r(1974)].createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog[y(1426)].uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(t,e){var r=y;return goog.asserts[r(591)](goog[r(983)][r(820)][r(1390)](t),r(609)),goog[r(2100)][r(1807)](!goog[r(983)][r(1826)][r(1295)](goog[r(983)][r(820)].unwrap(t)),"must provide non-empty justification"),goog[r(1426)][r(1620)][r(661)](e)},goog[y(714)][y(2100)]={},goog[y(714)][y(2100)][y(1831)]=function(t){var e=y;if(goog[e(2100)][e(1459)]){var r=goog[e(714)].asserts[e(2031)](t);r&&(!t||!(t instanceof r.Location)&&t instanceof r[e(976)])&&goog.asserts[e(1863)]("Argument is not a Location (or a non-Element mock); got: %s",goog.dom[e(2100)][e(1273)](t))}return t},goog[y(714)][y(2100)][y(1742)]=function(t,e){var r=y;if(goog.asserts[r(1459)]){var i=goog[r(714)].asserts[r(2031)](t);i&&r(630)!=typeof i[e]&&(t&&(t instanceof i[e]||!(t instanceof i[r(1545)]||t instanceof i[r(976)]))||goog.asserts[r(1863)]("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,goog[r(714)][r(2100)][r(1273)](t)))}return t},goog.dom[y(2100)][y(1450)]=function(t){var e=y;return goog[e(714)][e(2100)][e(1742)](t,"HTMLAnchorElement")},goog[y(714)].asserts[y(2098)]=function(t){var e=y;return goog[e(714)][e(2100)].assertIsElementType_(t,"HTMLButtonElement")},goog[y(714)][y(2100)][y(1856)]=function(t){var e=y;return goog[e(714)].asserts[e(1742)](t,e(1929))},goog[y(714)][y(2100)].assertIsHTMLImageElement=function(t){var e=y;return goog[e(714)].asserts[e(1742)](t,e(559))},goog[y(714)][y(2100)].assertIsHTMLAudioElement=function(t){var e=y;return goog[e(714)][e(2100)].assertIsElementType_(t,e(1833))},goog[y(714)][y(2100)][y(1794)]=function(t){var e=y;return goog[e(714)].asserts[e(1742)](t,e(736))},goog[y(714)][y(2100)].assertIsHTMLInputElement=function(t){var e=y;return goog.dom[e(2100)][e(1742)](t,"HTMLInputElement")},goog[y(714)].asserts.assertIsHTMLTextAreaElement=function(t){var e=y;return goog[e(714)][e(2100)][e(1742)](t,"HTMLTextAreaElement")},goog[y(714)][y(2100)].assertIsHTMLCanvasElement=function(t){var e=y;return goog[e(714)][e(2100)].assertIsElementType_(t,e(1548))},goog[y(714)].asserts[y(1465)]=function(t){var e=y;return goog[e(714)][e(2100)].assertIsElementType_(t,e(1740))},goog.dom[y(2100)][y(1633)]=function(t){var e=y;return goog.dom[e(2100)][e(1742)](t,e(1688))},goog[y(714)][y(2100)].assertIsHTMLFrameElement=function(t){var e=y;return goog[e(714)][e(2100)][e(1742)](t,e(1626))},goog.dom.asserts[y(1960)]=function(t){var e=y;return goog[e(714)].asserts[e(1742)](t,e(971))},goog[y(714)].asserts[y(1926)]=function(t){var e=y;return goog[e(714)].asserts[e(1742)](t,"HTMLObjectElement")},goog.dom.asserts[y(871)]=function(t){var e=y;return goog[e(714)][e(2100)][e(1742)](t,e(1565))},goog.dom[y(2100)][y(1273)]=function(t){var e=y;if(!goog[e(563)](t))return void 0===t?"undefined":null===t?"null":typeof t;try{return t.constructor[e(1612)]||t[e(1357)][e(540)]||Object.prototype[e(894)][e(542)](t)}catch(t){return e(1298)}},goog[y(714)][y(2100)].getWindow_=function(t){var e=y;try{var r=t&&t[e(795)],i=r&&(r[e(704)]||r.parentWindow);if((i=i||goog[e(768)])[e(976)]&&i[e(1545)])return i}catch(t){}return null},goog.functions={},goog[y(699)][y(1467)]=function(t){return function(){return t}},goog.functions[y(1169)]=function(){return!1},goog[y(699)][y(1614)]=function(){return!0},goog.functions[y(761)]=function(){return null},goog[y(699)][y(597)]=function(t,e){return t},goog.functions[y(1442)]=function(t){return function(){throw Error(t)}},goog[y(699)][y(1863)]=function(t){return function(){throw t}},goog[y(699)][y(1222)]=function(t,e){return e=e||0,function(){var r=b$9;return t[r(1969)](this,Array.prototype[r(1785)][r(542)](arguments,0,e))}},goog[y(699)][y(499)]=function(t){return function(){return arguments[t]}},goog[y(699)][y(857)]=function(t,e){var r=y,i=Array[r(633)][r(1785)][r(542)](arguments,1);return function(){var e=r,n=Array.prototype[e(1785)][e(542)](arguments);return n.push[e(1969)](n,i),t.apply(this,n)}},goog[y(699)][y(1114)]=function(t,e){var r=y;return goog[r(699)][r(2015)](t,goog[r(699)][r(1467)](e))},goog[y(699)].equalTo=function(t,e){return function(r){return e?t==r:t===r}},goog[y(699)][y(1588)]=function(t,e){var r=arguments,i=r.length;return function(){var t,e=b$9;i&&(t=r[i-1][e(1969)](this,arguments));for(var n=i-2;0<=n;n--)t=r[n][e(542)](this,t);return t}},goog.functions[y(2015)]=function(t){var e=y,r=arguments,i=r[e(2130)];return function(){for(var t,e=0;e<i;e++)t=r[e].apply(this,arguments);return t}},goog[y(699)][y(1337)]=function(t){var e=y,r=arguments,i=r[e(2130)];return function(){for(var t=e,n=0;n<i;n++)if(!r[n][t(1969)](this,arguments))return!1;return!0}},goog[y(699)].or=function(t){var e=y,r=arguments,i=r[e(2130)];return function(){for(var t=e,n=0;n<i;n++)if(r[n][t(1969)](this,arguments))return!0;return!1}},goog[y(699)][y(1323)]=function(t){return function(){var e=b$9;return!t[e(1969)](this,arguments)}},goog[y(699)][y(1270)]=function(t,e){var r=y,i=function(){};return i[r(633)]=t[r(633)],i=new i,t[r(1969)](i,Array[r(633)][r(1785)][r(542)](arguments,1)),i},goog.functions[y(681)]=!0,goog[y(699)][y(2027)]=function(t){var e,r=!1;return function(){var i=b$9;return goog.functions[i(681)]?(r||(e=t(),r=!0),e):t()}},goog.functions[y(828)]=function(t){var e=t;return function(){if(e){var t=e;e=null,t()}}},goog[y(699)].debounce=function(t,e,r){var i=0;return function(n){var s=b$9;goog[s(768)][s(688)](i);var o=arguments;i=goog.global[s(1107)]((function(){t[s(1969)](r,o)}),e)}},goog.functions[y(1052)]=function(t,e,r){var i=0,n=!1,s=[],o=function(){i=0,n&&(n=!1,a())},a=function(){var n=b$9;i=goog[n(768)][n(1107)](o,e),t[n(1969)](r,s)};return function(t){s=arguments,i?n=!0:a()}},goog.functions.rateLimit=function(t,e,r){var i=0,n=function(){i=0};return function(s){var o=b$9;i||(i=goog[o(768)][o(1107)](n,e),t.apply(r,arguments))}},goog[y(714)][y(1692)]={},goog[y(714)][y(1692)][y(669)]={AFTERBEGIN:y(916),AFTEREND:y(1882),BEFOREBEGIN:y(2139),BEFOREEND:"beforeend"},goog[y(714)][y(1692)].insertAdjacentHtml=function(t,e,r){var i=y;t[i(1110)](e,goog[i(1426)][i(1123)][i(1053)](r))},goog[y(714)][y(1692)][y(1927)]={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom[y(1692)][y(1741)]=goog.functions[y(2027)]((function(){var t=y;if(goog.DEBUG&&t(630)===typeof document)return!1;var e=document[t(1117)](t(695)),r=document[t(1117)]("div");return r[t(1606)](document.createElement(t(695))),e[t(1606)](r),!(goog.DEBUG&&!e[t(2079)])&&(r=e[t(2079)][t(2079)],e[t(1469)]=goog[t(1426)][t(1123)][t(1053)](goog[t(1426)][t(1123)][t(2062)]),!r.parentElement)})),goog.dom[y(1692)][y(1518)]=function(t,e){var r=y;if(goog[r(714)][r(1692)].isInnerHtmlCleanupRecursive_())for(;t.lastChild;)t.removeChild(t[r(1723)]);t.innerHTML=goog[r(1426)][r(1123)][r(1053)](e)},goog[y(714)][y(1692)][y(1486)]=function(t,e){var r=y;if(goog[r(2100)][r(1459)]){var i=t[r(1111)][r(854)]();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[i])throw Error(r(1805)+t[r(1111)]+".")}goog[r(714)].safe[r(1518)](t,e)},goog[y(714)][y(1692)][y(1139)]=function(t,e){var r=y;t[r(645)]=goog[r(1426)][r(1123)][r(1053)](e)},goog[y(714)][y(1692)][y(1338)]=function(t,e){var r=y;e=e instanceof goog[r(1426)].SafeUrl?e:goog[r(1426)][r(1974)][r(1263)](e),goog[r(714)][r(2100)][r(1633)](t)[r(788)]=goog[r(1426)][r(1974)][r(1557)](e)},goog[y(714)][y(1692)][y(640)]=function(t,e){var r=y;e=e instanceof goog[r(1426)][r(1974)]?e:goog[r(1426)][r(1974)][r(1263)](e),goog[r(714)][r(2100)][r(2098)](t).formAction=goog.html[r(1974)][r(1557)](e)},goog.dom[y(1692)][y(1481)]=function(t,e){var r=y;e=e instanceof goog[r(1426)][r(1974)]?e:goog[r(1426)][r(1974)][r(1263)](e),goog.dom.asserts.assertIsHTMLInputElement(t)[r(536)]=goog[r(1426)][r(1974)][r(1557)](e)},goog[y(714)][y(1692)][y(1703)]=function(t,e){var r=y;t[r(2030)][r(722)]=goog.html[r(671)][r(1390)](e)},goog[y(714)].safe[y(494)]=function(t,e){var r=y;t[r(1334)](goog[r(1426)][r(1123)][r(1053)](e))},goog[y(714)][y(1692)][y(579)]=function(t,e){var r=y;goog[r(714)][r(2100)][r(1450)](t),e=e instanceof goog[r(1426)][r(1974)]?e:goog[r(1426)][r(1974)][r(1263)](e),t.href=goog.html.SafeUrl[r(1557)](e)},goog[y(714)].safe[y(888)]=function(t,e){var r=y;if(goog.dom[r(2100)][r(1384)](t),!(e instanceof goog[r(1426)][r(1974)])){var i=/^data:image\//i.test(e);e=goog[r(1426)].SafeUrl[r(1263)](e,i)}t[r(1746)]=goog[r(1426)][r(1974)][r(1557)](e)},goog[y(714)].safe[y(1759)]=function(t,e){var r=y;if(goog[r(714)][r(2100)][r(1099)](t),!(e instanceof goog[r(1426)].SafeUrl)){var i=/^data:audio\//i[r(647)](e);e=goog.html[r(1974)][r(1263)](e,i)}t[r(1746)]=goog[r(1426)].SafeUrl.unwrapTrustedURL(e)},goog[y(714)].safe[y(1230)]=function(t,e){var r=y;if(goog[r(714)][r(2100)][r(1794)](t),!(e instanceof goog[r(1426)][r(1974)])){var i=/^data:video\//i[r(647)](e);e=goog[r(1426)][r(1974)][r(1263)](e,i)}t.src=goog.html.SafeUrl[r(1557)](e)},goog[y(714)].safe[y(832)]=function(t,e){var r=y;goog[r(714)][r(2100)][r(1465)](t),t[r(1746)]=goog[r(1426)][r(1620)][r(1365)](e)},goog.dom[y(1692)][y(2038)]=function(t,e){var r=y;goog[r(714)][r(2100)][r(1661)](t),t[r(1746)]=goog[r(1426)][r(1620)].unwrapTrustedURL(e)},goog[y(714)][y(1692)][y(1090)]=function(t,e){var r=y;goog.dom[r(2100)].assertIsHTMLIFrameElement(t),t[r(1746)]=goog.html[r(1620)][r(1557)](e)},goog[y(714)][y(1692)].setIframeSrcdoc=function(t,e){var r=y;goog[r(714)][r(2100)].assertIsHTMLIFrameElement(t),t[r(1758)]=goog[r(1426)].SafeHtml[r(1053)](e)},goog[y(714)][y(1692)][y(1e3)]=function(t,e,r){var i=y;goog.dom[i(2100)].assertIsHTMLLinkElement(t),t[i(1652)]=r,goog[i(983)][i(1826)][i(1684)](r,i(1943))?(goog[i(2100)].assert(e instanceof goog[i(1426)][i(1620)],i(2060)),t[i(1739)]=goog[i(1426)][i(1620)].unwrapTrustedURL(e)):t[i(1739)]=e instanceof goog.html[i(1620)]?goog[i(1426)].TrustedResourceUrl[i(1557)](e):e instanceof goog[i(1426)].SafeUrl?goog[i(1426)][i(1974)][i(1557)](e):goog[i(1426)].SafeUrl[i(1557)](goog[i(1426)].SafeUrl[i(1263)](e))},goog[y(714)][y(1692)][y(1564)]=function(t,e){var r=y;goog.dom.asserts[r(1926)](t),t.data=goog[r(1426)][r(1620)][r(1365)](e)},goog[y(714)].safe[y(1113)]=function(t,e){var r=y;goog.dom[r(2100)][r(871)](t),t[r(1746)]=goog[r(1426)][r(1620)].unwrapTrustedScriptURL(e),(e=goog[r(1381)]())&&t[r(1854)](r(1371),e)},goog[y(714)][y(1692)][y(876)]=function(t,e){var r=y;goog[r(714)].asserts.assertIsHTMLScriptElement(t),t[r(1713)]=goog[r(1426)][r(1242)].unwrapTrustedScript(e),(e=goog[r(1381)]())&&t[r(1854)](r(1371),e)},goog.dom[y(1692)].setLocationHref=function(t,e){var r=y;goog.dom[r(2100)][r(1831)](t),e=e instanceof goog[r(1426)][r(1974)]?e:goog[r(1426)].SafeUrl[r(1263)](e),t[r(1739)]=goog[r(1426)][r(1974)][r(1557)](e)},goog[y(714)][y(1692)].assignLocation=function(t,e){var r=y;goog.dom.asserts[r(1831)](t),e=e instanceof goog.html[r(1974)]?e:goog[r(1426)][r(1974)][r(1263)](e),t[r(1725)](goog[r(1426)].SafeUrl[r(1557)](e))},goog.dom[y(1692)].replaceLocation=function(t,e){var r=y;goog.dom.asserts.assertIsLocation(t),e=e instanceof goog[r(1426)][r(1974)]?e:goog[r(1426)][r(1974)][r(1263)](e),t[r(1496)](goog[r(1426)][r(1974)][r(1557)](e))},goog[y(714)].safe.openInWindow=function(t,e,r,i,n){var s=y;return t=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl[s(1263)](t),(e||goog[s(768)])[s(1685)](goog.html[s(1974)][s(1557)](t),r?goog[s(983)][s(820)][s(1390)](r):"",i,n)},goog[y(714)][y(1692)][y(1898)]=function(t,e){var r=y;return goog.dom.safe[r(1590)](t,e,r(990))},goog[y(714)][y(1692)].parseFromString=function(t,e,r){var i=y;return t[i(1590)](goog[i(1426)].SafeHtml[i(1053)](e),r)},goog[y(714)].safe[y(873)]=function(t){var e=y;if(!/^image\/.*/g.test(t[e(604)]))throw Error(e(1738));var r=goog[e(768)][e(694)][e(997)](t);return(t=new goog.global.Image)[e(844)]=function(){var t=e;goog[t(768)][t(694)][t(1514)](r)},goog[e(714)][e(1692)][e(888)](t,goog.html.uncheckedconversions[e(1219)](goog.string[e(820)].from("Image blob URL."),r)),t},goog[y(983)][y(629)]=!1,goog[y(983)][y(1434)]=!1,goog[y(983)].Unicode={NBSP:""},goog[y(983)][y(1970)]=goog[y(983)][y(1826)][y(1970)],goog[y(983)].endsWith=goog.string.internal[y(1203)],goog.string[y(1803)]=goog[y(983)][y(1826)][y(1803)],goog[y(983)][y(1609)]=goog[y(983)][y(1826)][y(1609)],goog[y(983)][y(945)]=goog.string[y(1826)][y(945)],goog[y(983)][y(1585)]=function(t,e){for(var r=y,i=t[r(1550)]("%s"),n="",s=Array[r(633)][r(1785)][r(542)](arguments,1);s[r(2130)]&&1<i[r(2130)];)n+=i.shift()+s.shift();return n+i[r(2066)]("%s")},goog[y(983)][y(574)]=function(t){var e=y;return t[e(1496)](/[\s\xa0]+/g," ")[e(1496)](/^\s+|\s+$/g,"")},goog[y(983)][y(1295)]=goog[y(983)][y(1826)][y(1295)],goog[y(983)][y(1431)]=function(t){return 0==t.length},goog[y(983)][y(748)]=goog[y(983)][y(1295)],goog[y(983)].isEmptyOrWhitespaceSafe=function(t){var e=y;return goog.string[e(1295)](goog.string.makeSafe(t))},goog[y(983)][y(1024)]=goog.string[y(1828)],goog[y(983)][y(498)]=function(t){return!/[^\t\n\r ]/[y(647)](t)},goog[y(983)][y(1610)]=function(t){return!/[^a-zA-Z]/.test(t)},goog[y(983)][y(946)]=function(t){return!/[^0-9]/[y(647)](t)},goog[y(983)][y(2154)]=function(t){return!/[^a-zA-Z0-9]/[y(647)](t)},goog[y(983)][y(1339)]=function(t){return" "==t},goog[y(983)][y(1543)]=function(t){return 1==t.length&&" "<=t&&"~">=t||""<=t&&"">=t},goog[y(983)][y(843)]=function(t){return t[y(1496)](/(\r\n|\r|\n)+/g," ")},goog[y(983)].canonicalizeNewlines=function(t){return t[y(1496)](/(\r\n|\r|\n)/g,"\n")},goog[y(983)][y(810)]=function(t){return t[y(1496)](/\xa0|\s/g," ")},goog[y(983)][y(2110)]=function(t){return t[y(1496)](/\xa0|[ \t]+/g," ")},goog[y(983)][y(1299)]=function(t){return t.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog[y(983)].trim=goog[y(983)][y(1826)].trim,goog[y(983)].trimLeft=function(t){return t[y(1496)](/^[\s\xa0]+/,"")},goog[y(983)].trimRight=function(t){return t[y(1496)](/[\s\xa0]+$/,"")},goog[y(983)].caseInsensitiveCompare=goog[y(983)][y(1826)][y(1143)],goog.string.numberAwareCompare_=function(t,e,r){var i=y;if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=t.toLowerCase()[i(648)](r),s=e[i(1121)]().match(r),o=Math[i(1026)](n[i(2130)],s.length),a=0;a<o;a++){r=n[a];var h=s[a];if(r!=h)return t=parseInt(r,10),!isNaN(t)&&(e=parseInt(h,10),!isNaN(e)&&t-e)?t-e:r<h?-1:1}return n.length!=s[i(2130)]?n[i(2130)]-s.length:t<e?-1:1},goog[y(983)][y(1170)]=function(t,e){var r=y;return goog.string[r(1074)](t,e,/\d+|\D+/g)},goog[y(983)][y(1732)]=function(t,e){return goog[y(983)].numberAwareCompare_(t,e,/\d+|\.\d+|\D+/g)},goog[y(983)].numerateCompare=goog[y(983)][y(1732)],goog[y(983)][y(1501)]=function(t){return encodeURIComponent(String(t))},goog[y(983)].urlDecode=function(t){return decodeURIComponent(t[y(1496)](/\+/g," "))},goog[y(983)][y(1763)]=goog[y(983)][y(1826)][y(1763)],goog[y(983)][y(1845)]=function(t,e){var r=y;return t=goog.string.internal[r(1845)](t,e),goog[r(983)][r(629)]&&(t=t[r(1496)](goog[r(983)].E_RE_,r(921))),t},goog[y(983)][y(2171)]=/e/g,goog[y(983)].unescapeEntities=function(t){var e=y;return goog[e(983)][e(1160)](t,"&")?!goog[e(983)].FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog[e(768)]?goog.string.unescapeEntitiesUsingDom_(t):goog[e(983)].unescapePureXmlEntities_(t):t},goog[y(983)][y(1910)]=function(t,e){var r=y;return goog[r(983)][r(1160)](t,"&")?goog[r(983)][r(1737)](t,e):t},goog[y(983)][y(1737)]=function(t,e){var r=y,i={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},n=e?e.createElement(r(695)):goog[r(768)][r(1602)][r(1117)](r(695));return t[r(1496)](goog[r(983)][r(892)],(function(t,e){var s=r,o=i[t];return o||("#"==e.charAt(0)&&(e=Number("0"+e[s(1278)](1)),isNaN(e)||(o=String[s(1377)](e))),o||(goog[s(714)][s(1692)][s(1486)](n,goog.html.uncheckedconversions[s(1559)](goog[s(983)][s(820)].from("Single HTML entity."),t+" ")),o=n[s(2079)][s(1959)][s(1785)](0,-1)),i[t]=o)}))},goog[y(983)].unescapePureXmlEntities_=function(t){var e=y;return t[e(1496)](/&([^;]+);/g,(function(t,r){var i=e;switch(r){case"amp":return"&";case"lt":return"<";case"gt":return">";case i(1884):return'"';default:return"#"!=r[i(933)](0)||(r=Number("0"+r.substr(1)),isNaN(r))?t:String.fromCharCode(r)}}))},goog.string[y(892)]=/&([^;\s<&]+);?/g,goog[y(983)][y(575)]=function(t,e){var r=y;return goog.string[r(1763)](t[r(1496)](/ {2}/g,r(1078)),e)},goog[y(983)][y(2043)]=function(t){var e=y;return t[e(1496)](/(^|[\n ]) /g,"$1"+goog[e(983)].Unicode[e(1687)])},goog[y(983)][y(528)]=function(t,e){for(var r=y,i=e[r(2130)],n=0;n<i;n++){var s=1==i?e:e[r(933)](n);if(t[r(933)](0)==s&&t[r(933)](t.length-1)==s)return t[r(747)](1,t[r(2130)]-1)}return t},goog.string[y(2165)]=function(t,e,r){var i=y;return r&&(t=goog[i(983)][i(1146)](t)),t[i(2130)]>e&&(t=t[i(747)](0,e-3)+"..."),r&&(t=goog[i(983)].htmlEscape(t)),t},goog.string[y(1011)]=function(t,e,r,i){var n=y;if(r&&(t=goog.string[n(1146)](t)),i&&t.length>e){i>e&&(i=e);var s=t.length-i;t=t[n(747)](0,e-i)+n(1245)+t[n(747)](s)}else t[n(2130)]>e&&(i=Math.floor(e/2),s=t.length-i,t=t[n(747)](0,i+e%2)+n(1245)+t[n(747)](s));return r&&(t=goog.string[n(1845)](t)),t},goog[y(983)][y(815)]={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string[y(1014)]={"'":"\\'"},goog.string[y(665)]=function(t){var e=y;t=String(t);for(var r=['"'],i=0;i<t.length;i++){var n=t[e(933)](i),s=n[e(1370)](0);r[i+1]=goog[e(983)][e(815)][n]||(31<s&&127>s?n:goog.string[e(1921)](n))}return r[e(1768)]('"'),r.join("")},goog[y(983)][y(2137)]=function(t){for(var e=y,r=[],i=0;i<t[e(2130)];i++)r[i]=goog[e(983)][e(1921)](t[e(933)](i));return r[e(2066)]("")},goog.string.escapeChar=function(t){var e=y;if(t in goog[e(983)][e(1014)])return goog.string[e(1014)][t];if(t in goog[e(983)][e(815)])return goog[e(983)][e(1014)][t]=goog.string[e(815)][t];var r=t.charCodeAt(0);if(31<r&&127>r)var i=t;else 256>r?(i="\\x",(16>r||256<r)&&(i+="0")):(i="\\u",4096>r&&(i+="0")),i+=r.toString(16).toUpperCase();return goog[e(983)][e(1014)][t]=i},goog[y(983)].contains=goog.string.internal[y(1160)],goog[y(983)][y(1684)]=goog.string.internal[y(1684)],goog[y(983)].countOf=function(t,e){var r=y;return t&&e?t.split(e)[r(2130)]-1:0},goog.string.removeAt=function(t,e,r){var i=y,n=t;return 0<=e&&e<t[i(2130)]&&0<r&&(n=t[i(1278)](0,e)+t[i(1278)](e+r,t[i(2130)]-e-r)),n},goog.string.remove=function(t,e){return t.replace(e,"")},goog.string.removeAll=function(t,e){var r=y;return e=new RegExp(goog[r(983)][r(1335)](e),"g"),t.replace(e,"")},goog[y(983)][y(1471)]=function(t,e,r){var i=y;return e=new RegExp(goog[i(983)].regExpEscape(e),"g"),t.replace(e,r[i(1496)](/\$/g,i(1422)))},goog[y(983)].regExpEscape=function(t){var e=y;return String(t)[e(1496)](/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,e(919))},goog.string.repeat=String[y(633)].repeat?function(t,e){return t.repeat(e)}:function(t,e){var r=y;return Array(e+1)[r(2066)](t)},goog[y(983)][y(2057)]=function(t,e,r){var i=y;return-1==(r=(t=goog[i(1296)](r)?t.toFixed(r):String(t))[i(1474)]("."))&&(r=t[i(2130)]),goog.string[i(1019)]("0",Math.max(0,e-r))+t},goog.string[y(1915)]=function(t){return null==t?"":String(t)},goog.string.buildString=function(t){var e=y;return Array.prototype[e(2066)][e(542)](arguments,"")},goog.string[y(1982)]=function(){var t=y;return Math[t(1923)](2147483648*Math.random())[t(894)](36)+Math.abs(Math[t(1923)](2147483648*Math[t(1583)]())^goog.now())[t(894)](36)},goog[y(983)].compareVersions=goog.string[y(1826)][y(875)],goog.string[y(1971)]=function(t){for(var e=y,r=0,i=0;i<t[e(2130)];++i)r=31*r+t.charCodeAt(i)>>>0;return r},goog.string.uniqueStringCounter_=2147483648*Math[y(1583)]()|0,goog[y(983)].createUniqueString=function(){var t=y;return"goog_"+goog[t(983)][t(1054)]++},goog.string[y(1125)]=function(t){var e=y,r=Number(t);return 0==r&&goog[e(983)].isEmptyOrWhitespace(t)?NaN:r},goog[y(983)][y(998)]=function(t){return/^[a-z]+([A-Z][a-z]*)*$/[y(647)](t)},goog[y(983)][y(1767)]=function(t){return/^([A-Z][a-z]*)+$/[y(647)](t)},goog[y(983)].toCamelCase=function(t){var e=y;return String(t)[e(1496)](/\-([a-z])/g,(function(t,e){return e.toUpperCase()}))},goog[y(983)][y(1499)]=function(t){var e=y;return String(t)[e(1496)](/([A-Z])/g,"-$1")[e(1121)]()},goog.string[y(1275)]=function(t,e){var r=y;return e=goog[r(1719)](e)?goog.string[r(1335)](e):"\\s",t[r(1496)](new RegExp("(^"+(e?"|["+e+"]+":"")+r(1429),"g"),(function(t,e,i){return e+i[r(854)]()}))},goog[y(983)].capitalize=function(t){var e=y;return String(t[e(933)](0))[e(854)]()+String(t[e(1278)](1))[e(1121)]()},goog.string[y(1267)]=function(t){var e=y;return isFinite(t)&&(t=String(t)),goog[e(1719)](t)?/^\s*-?0x/i[e(647)](t)?parseInt(t,16):parseInt(t,10):NaN},goog[y(983)][y(793)]=function(t,e,r){var i=y;t=t.split(e);for(var n=[];0<r&&t.length;)n[i(1768)](t[i(654)]()),r--;return t[i(2130)]&&n.push(t[i(2066)](e)),n},goog[y(983)][y(1801)]=function(t,e){var r=y;if(!e)return t;r(983)==typeof e&&(e=[e]);for(var i=-1,n=0;n<e[r(2130)];n++)if(""!=e[n]){var s=t[r(2095)](e[n]);s>i&&(i=s)}return-1==i?t:t.slice(i+1)},goog.string.editDistance=function(t,e){var r=y,i=[],n=[];if(t==e)return 0;if(!t[r(2130)]||!e[r(2130)])return Math.max(t.length,e[r(2130)]);for(var s=0;s<e[r(2130)]+1;s++)i[s]=s;for(s=0;s<t.length;s++){n[0]=s+1;for(var o=0;o<e[r(2130)];o++)n[o+1]=Math[r(1026)](n[o]+1,i[o+1]+1,i[o]+Number(t[s]!=e[o]));for(o=0;o<i[r(2130)];o++)i[o]=n[o]}return n[e.length]},goog[y(860)][y(807)].platform={},goog[y(860)][y(807)][y(1862)][y(568)]=function(){var t=y;return goog[t(860)][t(807)][t(993)][t(1962)](t(1452))},goog.labs[y(807)][y(1862)][y(1521)]=function(){var t=y;return goog[t(860)].userAgent.util[t(1962)](t(578))},goog[y(860)][y(807)][y(1862)][y(596)]=function(){var t=y;return goog[t(860)][t(807)][t(993)].matchUserAgent(t(1668))&&!goog[t(860)][t(807)][t(993)][t(1962)](t(578))&&!goog[t(860)][t(807)][t(993)][t(1962)]("iPad")},goog.labs[y(807)][y(1862)][y(573)]=function(){var t=y;return goog.labs[t(807)][t(993)].matchUserAgent("iPad")},goog[y(860)][y(807)][y(1862)][y(1104)]=function(){var t=y;return goog[t(860)][t(807)][t(1862)][t(596)]()||goog[t(860)][t(807)][t(1862)][t(573)]()||goog[t(860)][t(807)][t(1862)][t(1521)]()},goog.labs[y(807)][y(1862)][y(1842)]=function(){var t=y;return goog[t(860)][t(807)][t(993)][t(1962)]("Macintosh")},goog[y(860)][y(807)].platform[y(1403)]=function(){var t=y;return goog.labs[t(807)][t(993)][t(1962)](t(1808))},goog.labs[y(807)][y(1862)][y(819)]=function(){var t=y;return goog.labs[t(807)][t(993)][t(1962)](t(1621))},goog[y(860)][y(807)][y(1862)][y(1727)]=function(){var t=y;return goog.labs.userAgent[t(993)][t(1962)](t(1904))},goog[y(860)][y(807)].platform.isChromecast=function(){var t=y;return goog[t(860)][t(807)].util.matchUserAgent("CrKey")},goog.labs[y(807)][y(1862)][y(937)]=function(){var t=y;return goog[t(860)][t(807)][t(993)][t(2090)](t(1419))},goog[y(860)][y(807)][y(1862)][y(1280)]=function(){var t=y;return goog.labs[t(807)][t(993)].matchUserAgentIgnoreCase(t(544))},goog.labs[y(807)][y(1862)][y(1603)]=function(){var t=y,e=goog[t(860)][t(807)][t(993)][t(991)](),r="";return goog[t(860)][t(807)][t(1862)][t(819)]()?r=(e=(r=/Windows (?:NT|Phone) ([0-9.]+)/)[t(1185)](e))?e[1]:t(1172):goog.labs[t(807)][t(1862)].isIos()?r=(e=(r=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1][t(1496)](/_/g,"."):goog[t(860)][t(807)][t(1862)][t(1842)]()?r=(e=(r=/Mac OS X ([0-9_.]+)/)[t(1185)](e))?e[1].replace(/_/g,"."):"10":goog[t(860)].userAgent[t(1862)][t(937)]()?r=(e=(r=/(?:KaiOS)\/(\S+)/i)[t(1185)](e))&&e[1]:goog[t(860)][t(807)][t(1862)][t(568)]()?r=(e=(r=/Android\s+([^\);]+)(\)|;)/)[t(1185)](e))&&e[1]:goog[t(860)].userAgent[t(1862)][t(1727)]()&&(r=(e=(r=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/)[t(1185)](e))&&e[1]),r||""},goog[y(860)][y(807)].platform.isVersionOrHigher=function(t){var e=y;return 0<=goog.string.compareVersions(goog[e(860)][e(807)][e(1862)].getVersion(),t)},goog.reflect={},goog[y(1317)].object=function(t,e){return e},goog[y(1317)][y(1675)]=function(t,e){return t},goog[y(1317)][y(1061)]=function(t){var e=y;return goog.reflect[e(1061)][" "](t),t},goog[y(1317)][y(1061)][" "]=goog[y(1144)],goog[y(1317)].canAccessProperty=function(t,e){var r=y;try{return goog[r(1317)].sinkValue(t[e]),!0}catch(t){}return!1},goog.reflect[y(655)]=function(t,e,r,i){var n=y;return i=i?i(e):e,Object[n(633)][n(1506)][n(542)](t,i)?t[i]:t[i]=r(e)},goog[y(860)].userAgent[y(584)]={},goog.labs.userAgent[y(584)][y(2074)]=function(){var t=y;return goog.labs[t(807)][t(993)].matchUserAgent("Presto")},goog[y(860)][y(807)][y(584)][y(1822)]=function(){var t=y;return goog[t(860)][t(807)][t(993)][t(1962)](t(605))||goog[t(860)].userAgent[t(993)][t(1962)](t(2050))},goog.labs[y(807)][y(584)][y(1483)]=function(){var t=y;return goog[t(860)][t(807)][t(993)][t(1962)](t(567))},goog.labs.userAgent[y(584)][y(901)]=function(){var t=y;return goog.labs[t(807)][t(993)][t(2090)](t(2114))&&!goog[t(860)][t(807)].engine[t(1483)]()},goog[y(860)].userAgent.engine.isGecko=function(){var t=y;return goog[t(860)][t(807)][t(993)].matchUserAgent("Gecko")&&!goog[t(860)][t(807)].engine.isWebKit()&&!goog[t(860)][t(807)].engine[t(1822)]()&&!goog.labs.userAgent[t(584)][t(1483)]()},goog[y(860)][y(807)].engine[y(1603)]=function(){var t=y,e=goog[t(860)][t(807)][t(993)][t(991)]();if(e){e=goog[t(860)][t(807)][t(993)][t(1646)](e);var r,i=goog[t(860)][t(807)].engine[t(517)](e);if(i)return t(1587)==i[0]?goog.labs[t(807)][t(584)][t(612)](e,t(1417)):i[1];if((e=e[0])&&(r=e[2])&&(r=/Trident\/([^\s;]+)/[t(1185)](r)))return r[1]}return""},goog[y(860)].userAgent[y(584)][y(517)]=function(t){var e=y;if(!goog.labs[e(807)][e(584)][e(1483)]())return t[1];for(var r=0;r<t[e(2130)];r++){var i=t[r];if("Edge"==i[0])return i}},goog[y(860)][y(807)][y(584)].isVersionOrHigher=function(t){var e=y;return 0<=goog[e(983)][e(875)](goog.labs.userAgent[e(584)][e(1603)](),t)},goog[y(860)][y(807)].engine[y(612)]=function(t,e){var r=y;return(t=goog.array[r(1324)](t,(function(t){return e==t[0]})))&&t[1]||""},goog[y(807)]={},goog[y(807)][y(1271)]=!1,goog[y(807)][y(757)]=!1,goog[y(807)][y(2046)]=!1,goog[y(807)][y(1748)]=!1,goog.userAgent[y(1702)]=!1,goog.userAgent[y(1630)]=!1,goog[y(807)][y(917)]=!1,goog.userAgent[y(683)]=goog[y(807)][y(1271)]||goog[y(807)].ASSUME_EDGE||goog[y(807)][y(2046)]||goog.userAgent[y(1702)]||goog[y(807)][y(1748)]||goog[y(807)][y(1630)],goog[y(807)][y(1542)]=function(){var t=y;return goog[t(860)][t(807)][t(993)][t(991)]()},goog[y(807)][y(1503)]=function(){var t=y;return goog[t(768)][t(552)]||null},goog[y(807)].getNavigator=function(){return goog[y(807)].getNavigatorTyped()},goog.userAgent[y(2120)]=goog[y(807)][y(683)]?goog[y(807)][y(1630)]:goog[y(860)][y(807)].browser[y(1045)](),goog.userAgent.IE=goog[y(807)][y(683)]?goog[y(807)].ASSUME_IE:goog[y(860)][y(807)].browser[y(1257)](),goog[y(807)][y(1571)]=goog[y(807)][y(683)]?goog[y(807)][y(757)]:goog[y(860)][y(807)][y(584)][y(1483)](),goog.userAgent[y(1857)]=goog[y(807)][y(1571)]||goog.userAgent.IE,goog[y(807)][y(769)]=goog.userAgent[y(683)]?goog.userAgent[y(2046)]:goog[y(860)][y(807)][y(584)][y(553)](),goog.userAgent[y(1512)]=goog[y(807)][y(683)]?goog[y(807)][y(1748)]||goog[y(807)][y(1702)]:goog[y(860)][y(807)][y(584)].isWebKit(),goog[y(807)][y(840)]=function(){var t=y;return goog[t(807)][t(1512)]&&goog[t(860)][t(807)][t(993)][t(1962)](t(1978))},goog[y(807)][y(1423)]=goog[y(807)].ASSUME_MOBILE_WEBKIT||goog.userAgent[y(840)](),goog.userAgent.SAFARI=goog.userAgent[y(1512)],goog[y(807)].determinePlatform_=function(){var t=y,e=goog.userAgent.getNavigatorTyped();return e&&e[t(1862)]||""},goog[y(807)][y(979)]=goog[y(807)].determinePlatform_(),goog[y(807)].ASSUME_MAC=!1,goog.userAgent[y(1428)]=!1,goog[y(807)][y(1345)]=!1,goog[y(807)][y(922)]=!1,goog[y(807)][y(800)]=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent[y(1044)]=!1,goog[y(807)].ASSUME_IPOD=!1,goog[y(807)].ASSUME_KAIOS=!1,goog[y(807)][y(1722)]=!1,goog[y(807)][y(1940)]=goog.userAgent[y(1268)]||goog.userAgent[y(1428)]||goog[y(807)][y(1345)]||goog[y(807)].ASSUME_X11||goog[y(807)][y(800)]||goog[y(807)][y(943)]||goog[y(807)][y(1044)]||goog.userAgent[y(1056)],goog[y(807)][y(1671)]=goog.userAgent[y(1940)]?goog[y(807)][y(1268)]:goog[y(860)][y(807)].platform[y(1842)](),goog[y(807)][y(1724)]=goog[y(807)].PLATFORM_KNOWN_?goog[y(807)][y(1428)]:goog.labs[y(807)].platform[y(819)](),goog.userAgent[y(619)]=function(){var t=y;return goog[t(860)][t(807)][t(1862)].isLinux()||goog[t(860)][t(807)].platform.isChromeOS()},goog[y(807)][y(1498)]=goog[y(807)].PLATFORM_KNOWN_?goog[y(807)][y(1345)]:goog[y(807)][y(619)](),goog[y(807)][y(963)]=function(){var t=y,e=goog[t(807)][t(1503)]();return!!e&&goog.string[t(1160)](e.appVersion||"",t(558))},goog.userAgent[y(558)]=goog[y(807)][y(1940)]?goog[y(807)][y(922)]:goog[y(807)].isX11_(),goog.userAgent[y(606)]=goog[y(807)][y(1940)]?goog[y(807)][y(800)]:goog[y(860)][y(807)][y(1862)].isAndroid(),goog[y(807)].IPHONE=goog.userAgent[y(1940)]?goog.userAgent[y(943)]:goog[y(860)][y(807)][y(1862)][y(596)](),goog[y(807)][y(1209)]=goog.userAgent[y(1940)]?goog[y(807)][y(1044)]:goog[y(860)][y(807)].platform.isIpad(),goog.userAgent.IPOD=goog[y(807)][y(1940)]?goog[y(807)].ASSUME_IPOD:goog[y(860)][y(807)][y(1862)][y(1521)](),goog[y(807)].IOS=goog.userAgent.PLATFORM_KNOWN_?goog[y(807)].ASSUME_IPHONE||goog[y(807)][y(1044)]||goog[y(807)][y(1056)]:goog.labs[y(807)].platform[y(1104)](),goog[y(807)].KAIOS=goog.userAgent[y(1940)]?goog[y(807)][y(1391)]:goog[y(860)][y(807)][y(1862)][y(937)](),goog.userAgent[y(1382)]=goog[y(807)].PLATFORM_KNOWN_?goog[y(807)][y(1722)]:goog[y(860)][y(807)][y(1862)].isGo2Phone(),goog[y(807)][y(967)]=function(){var t=y,e="",r=goog[t(807)][t(1101)]();return r&&(e=r?r[1]:""),goog[t(807)].IE&&(null!=(r=goog[t(807)][t(1654)]())&&r>parseFloat(e))?String(r):e},goog[y(807)].getVersionRegexResult_=function(){var t=y,e=goog.userAgent[t(1542)]();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/[t(1185)](e):goog[t(807)][t(1571)]?/Edge\/([\d\.]+)/[t(1185)](e):goog[t(807)].IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/[t(1185)](e):goog[t(807)][t(1512)]?/WebKit\/(\S+)/[t(1185)](e):goog.userAgent[t(2120)]?/(?:Version)[ \/]?(\S+)/[t(1185)](e):void 0},goog.userAgent.getDocumentMode_=function(){var t=y,e=goog[t(768)].document;return e?e[t(1631)]:void 0},goog[y(807)][y(1040)]=goog[y(807)][y(967)](),goog.userAgent.compare=function(t,e){var r=y;return goog[r(983)][r(875)](t,e)},goog[y(807)].isVersionOrHigherCache_={},goog[y(807)][y(931)]=function(t){var e=y;return goog[e(807)][e(917)]||goog[e(1317)][e(655)](goog[e(807)].isVersionOrHigherCache_,t,(function(){var r=e;return 0<=goog.string[r(875)](goog[r(807)][r(1040)],t)}))},goog.userAgent[y(1451)]=goog[y(807)][y(931)],goog.userAgent.isDocumentModeOrHigher=function(t){return Number(goog[y(807)].DOCUMENT_MODE)>=t},goog.userAgent[y(1095)]=goog[y(807)][y(719)],goog[y(807)][y(1989)]=function(){var t=y;if(goog[t(768)][t(1602)]&&goog[t(807)].IE)return goog[t(807)][t(1654)]()}(),goog.userAgent[y(1351)]={},goog[y(807)][y(1351)].ASSUME_FIREFOX=!1,goog[y(807)].product[y(943)]=!1,goog[y(807)][y(1351)][y(1044)]=!1,goog[y(807)].product[y(800)]=!1,goog[y(807)][y(1351)][y(1010)]=!1,goog[y(807)][y(1351)][y(1473)]=!1,goog[y(807)][y(1351)][y(1840)]=goog[y(807)].ASSUME_IE||goog[y(807)][y(757)]||goog.userAgent[y(1630)]||goog[y(807)][y(1351)][y(2156)]||goog[y(807)].product.ASSUME_IPHONE||goog[y(807)][y(1351)].ASSUME_IPAD||goog[y(807)][y(1351)].ASSUME_ANDROID||goog[y(807)][y(1351)][y(1010)]||goog.userAgent[y(1351)][y(1473)],goog[y(807)][y(1351)][y(2120)]=goog.userAgent[y(2120)],goog.userAgent[y(1351)].IE=goog.userAgent.IE,goog[y(807)][y(1351)][y(1571)]=goog.userAgent[y(1571)],goog[y(807)][y(1351)].FIREFOX=goog.userAgent[y(1351)][y(1840)]?goog[y(807)].product[y(2156)]:goog[y(860)][y(807)].browser.isFirefox(),goog[y(807)].product.isIphoneOrIpod_=function(){var t=y;return goog.labs[t(807)][t(1862)][t(596)]()||goog.labs.userAgent[t(1862)][t(1521)]()},goog.userAgent[y(1351)][y(1018)]=goog[y(807)][y(1351)][y(1840)]?goog[y(807)][y(1351)].ASSUME_IPHONE:goog.userAgent[y(1351)].isIphoneOrIpod_(),goog.userAgent.product[y(1209)]=goog[y(807)][y(1351)].PRODUCT_KNOWN_?goog.userAgent[y(1351)][y(1044)]:goog[y(860)][y(807)][y(1862)][y(573)](),goog[y(807)][y(1351)][y(606)]=goog.userAgent[y(1351)][y(1840)]?goog[y(807)][y(1351)][y(800)]:goog.labs[y(807)][y(2080)][y(1771)](),goog.userAgent[y(1351)][y(2087)]=goog[y(807)][y(1351)].PRODUCT_KNOWN_?goog[y(807)][y(1351)].ASSUME_CHROME:goog[y(860)][y(807)][y(2080)][y(1130)](),goog[y(807)][y(1351)][y(1204)]=function(){var t=y;return goog.labs[t(807)].browser[t(1850)]()&&!goog.labs[t(807)][t(1862)][t(1104)]()},goog.userAgent[y(1351)][y(785)]=goog[y(807)].product[y(1840)]?goog.userAgent[y(1351)][y(1473)]:goog[y(807)][y(1351)][y(1204)](),goog[y(1788)].base64={},goog[y(1788)][y(637)].DEFAULT_ALPHABET_COMMON_=y(1448),goog[y(1788)][y(637)][y(1657)]=goog[y(1788)][y(637)][y(620)]+y(537),goog[y(1788)][y(637)].ENCODED_VALS_WEBSAFE=goog[y(1788)].base64[y(620)]+y(1665),goog[y(1788)][y(637)].Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog[y(1788)][y(637)].paddingChars_="=.",goog[y(1788)][y(637)][y(1903)]=function(t){var e=y;return goog.string[e(1160)](goog[e(1788)][e(637)][e(1310)],t)},goog.crypt[y(637)][y(545)]={},goog[y(1788)][y(637)].charToByteMap_=null,goog[y(1788)][y(637)][y(2179)]=goog[y(807)][y(769)]||goog[y(807)].WEBKIT&&!goog[y(807)].product[y(785)]||goog[y(807)][y(2120)],goog[y(1788)][y(637)][y(1398)]=goog[y(1788)].base64[y(2179)]||y(1689)==typeof goog.global[y(2151)],goog[y(1788)][y(637)][y(1531)]=goog.crypt[y(637)].ASSUME_NATIVE_SUPPORT_||!goog.userAgent[y(1351)][y(785)]&&!goog[y(807)].IE&&y(1689)==typeof goog[y(768)][y(1361)],goog[y(1788)][y(637)][y(1379)]=function(t,e){var r=y;goog[r(2100)][r(1807)](goog[r(886)](t),r(956)),void 0===e&&(e=goog[r(1788)].base64.Alphabet[r(1415)]),goog[r(1788)][r(637)][r(572)](),e=goog[r(1788)][r(637)].byteToCharMaps_[e];for(var i=[],n=0;n<t[r(2130)];n+=3){var s=t[n],o=n+1<t[r(2130)],a=o?t[n+1]:0,h=n+2<t[r(2130)],l=h?t[n+2]:0,c=s>>2;s=(3&s)<<4|a>>4,a=(15&a)<<2|l>>6,l&=63,h||(l=64,o||(a=64)),i[r(1768)](e[c],e[s],e[a]||"",e[l]||"")}return i.join("")},goog[y(1788)].base64[y(1405)]=function(t,e){var r=y;return goog[r(1788)][r(637)][r(1398)]&&!e?goog[r(768)][r(2151)](t):goog[r(1788)][r(637)][r(1379)](goog[r(1788)][r(680)](t),e)},goog[y(1788)][y(637)].decodeString=function(t,e){var r=y;if(goog[r(1788)].base64.HAS_NATIVE_DECODE_&&!e)return goog[r(768)][r(1361)](t);var i="";return goog[r(1788)][r(637)][r(716)](t,(function(t){i+=String[r(1377)](t)})),i},goog[y(1788)][y(637)][y(1985)]=function(t,e){var r=y,i=[];return goog[r(1788)].base64[r(716)](t,(function(t){i.push(t)})),i},goog[y(1788)][y(637)].decodeStringToUint8Array=function(t){var e=y;goog[e(2100)].assert(!goog[e(807)].IE||goog[e(807)][e(931)]("10"),"Browser does not support typed arrays");var r=t.length,i=3*r/4;i%3?i=Math[e(1923)](i):goog.crypt[e(637)].isPadding_(t[r-1])&&(i=goog[e(1788)][e(637)][e(1903)](t[r-2])?i-2:i-1);var n=new Uint8Array(i),s=0;return goog[e(1788)][e(637)][e(716)](t,(function(t){n[s++]=t})),n[e(1394)](0,s)},goog[y(1788)][y(637)][y(716)]=function(t,e){var r=y;function i(e){for(var r=b$9;n<t[r(2130)];){var i=t[r(933)](n++),s=goog.crypt[r(637)][r(953)][i];if(null!=s)return s;if(!goog.string[r(1295)](i))throw Error(r(1312)+i)}return e}goog[r(1788)][r(637)][r(572)]();for(var n=0;;){var s=i(-1),o=i(0),a=i(64),h=i(64);if(64===h&&-1===s)break;e(s<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=h&&e(a<<6&192|h))}},goog[y(1788)][y(637)][y(572)]=function(){var t=y;if(!goog.crypt.base64[t(953)]){goog[t(1788)][t(637)][t(953)]={};for(var e=goog[t(1788)][t(637)][t(620)][t(1550)](""),r=[t(537),"+/",t(2143),"-_.","-_"],i=0;5>i;i++){var n=e[t(908)](r[i].split(""));goog[t(1788)].base64[t(545)][i]=n;for(var s=0;s<n[t(2130)];s++){var o=n[s],a=goog[t(1788)][t(637)][t(953)][o];void 0===a?goog[t(1788)][t(637)][t(953)][o]=s:goog.asserts[t(1807)](a===s)}}}},jspb[y(696)]={},jspb[y(696)][y(1886)]=0,jspb[y(696)].split64High=0,jspb[y(696)][y(1844)]=function(t){var e=y,r=t>>>0;t=Math[e(1923)]((t-r)/jspb[e(1003)][e(2112)])>>>0,jspb[e(696)][e(1886)]=r,jspb.utils[e(1354)]=t},jspb[y(696)][y(1804)]=function(t){var e=y,r=0>t,i=(t=Math.abs(t))>>>0;t=Math[e(1923)]((t-i)/jspb.BinaryConstants[e(2112)]),t>>>=0,r&&(t=~t>>>0,4294967295<(i=1+(~i>>>0))&&(i=0,4294967295<++t&&(t=0))),jspb.utils[e(1886)]=i,jspb[e(696)][e(1354)]=t},jspb[y(696)][y(1037)]=function(t){var e=y,r=0>t;t=2*Math[e(1770)](t),jspb[e(696)][e(1844)](t),t=jspb[e(696)][e(1886)];var i=jspb[e(696)].split64High;r&&(0==t?0==i?i=t=4294967295:(i--,t=4294967295):t--),jspb[e(696)].split64Low=t,jspb[e(696)][e(1354)]=i},jspb[y(696)][y(863)]=function(t){var e=y,r=0>t?1:0;if(0===(t=r?-t:t))0<1/t?(jspb[e(696)][e(1354)]=0,jspb.utils[e(1886)]=0):(jspb[e(696)].split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(t))jspb[e(696)][e(1354)]=0,jspb.utils[e(1886)]=2147483647;else if(t>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils[e(1354)]=0,jspb[e(696)][e(1886)]=(r<<31|2139095040)>>>0;else if(t<jspb[e(1003)].FLOAT32_MIN)t=Math[e(929)](t/Math[e(1624)](2,-149)),jspb[e(696)][e(1354)]=0,jspb[e(696)][e(1886)]=(r<<31|t)>>>0;else{var i=Math.floor(Math[e(1223)](t)/Math[e(1098)]);t*=Math[e(1624)](2,-i),t=8388607&Math.round(t*jspb[e(1003)][e(1115)]),jspb[e(696)][e(1354)]=0,jspb[e(696)][e(1886)]=(r<<31|i+127<<23|t)>>>0}},jspb[y(696)][y(1821)]=function(t){var e=y,r=0>t?1:0;if(0===(t=r?-t:t))jspb.utils[e(1354)]=0<1/t?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(t))jspb.utils[e(1354)]=2147483647,jspb[e(696)].split64Low=4294967295;else if(t>jspb[e(1003)].FLOAT64_MAX)jspb[e(696)][e(1354)]=(r<<31|2146435072)>>>0,jspb[e(696)][e(1886)]=0;else if(t<jspb.BinaryConstants.FLOAT64_MIN){var i=t/Math[e(1624)](2,-1074);t=i/jspb[e(1003)][e(2112)],jspb[e(696)][e(1354)]=(r<<31|t)>>>0,jspb.utils[e(1886)]=i>>>0}else{var n=0;if(2<=(i=t))for(;2<=i&&1023>n;)n++,i/=2;else for(;1>i&&-1022<n;)i*=2,n--;t=(i=t*Math.pow(2,-n))*jspb[e(1003)][e(1163)]&1048575,i=i*jspb[e(1003)].TWO_TO_52>>>0,jspb[e(696)][e(1354)]=(r<<31|n+1023<<20|t)>>>0,jspb[e(696)][e(1886)]=i}},jspb[y(696)][y(2103)]=function(t){var e=y,r=t[e(1370)](0),i=t[e(1370)](1),n=t.charCodeAt(2),s=t[e(1370)](3),o=t[e(1370)](4),a=t.charCodeAt(5),h=t[e(1370)](6);t=t[e(1370)](7),jspb[e(696)].split64Low=r+(i<<8)+(n<<16)+(s<<24)>>>0,jspb[e(696)].split64High=o+(a<<8)+(h<<16)+(t<<24)>>>0},jspb[y(696)].joinUint64=function(t,e){return e*jspb[y(1003)].TWO_TO_32+(t>>>0)},jspb[y(696)].joinInt64=function(t,e){var r=y,i=2147483648&e;return i&&(e=~e>>>0,0==(t=1+~t>>>0)&&(e=e+1>>>0)),t=jspb.utils[r(2021)](t,e),i?-t:t},jspb[y(696)][y(1215)]=function(t,e,r){var i=e>>31;return r(t<<1^i,(e<<1|t>>>31)^i)},jspb[y(696)][y(1648)]=function(t,e){var r=y;return jspb[r(696)].fromZigzag64(t,e,jspb[r(696)][r(1544)])},jspb[y(696)][y(1911)]=function(t,e,r){var i=-(1&t);return r((t>>>1|e<<31)^i,e>>>1^i)},jspb[y(696)][y(1091)]=function(t,e){var r=y;e=2*(t>>31)+1;var i=t>>>23&255;return t&=8388607,255==i?t?NaN:1/0*e:0==i?e*Math[r(1624)](2,-149)*t:e*Math[r(1624)](2,i-150)*(t+Math[r(1624)](2,23))},jspb[y(696)][y(1461)]=function(t,e){var r=y,i=2*(e>>31)+1,n=e>>>20&2047;return t=jspb[r(1003)][r(2112)]*(1048575&e)+t,2047==n?t?NaN:1/0*i:0==n?i*Math[r(1624)](2,-1074)*t:i*Math[r(1624)](2,n-1075)*(t+jspb[r(1003)][r(713)])},jspb.utils[y(1987)]=function(t,e){return String[y(1377)](t>>>0&255,t>>>8&255,t>>>16&255,t>>>24&255,e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255)},jspb[y(696)][y(726)]=y(1708).split(""),jspb[y(696)].ZERO_CHAR_CODE_=48,jspb[y(696)][y(562)]=97,jspb[y(696)][y(1226)]=function(t,e){var r=y;function i(t,e){var r=b$9;return t=t?String(t):"",e?r(1374)[r(1785)](t[r(2130)])+t:t}if(2097151>=e)return""+jspb.utils[r(2021)](t,e);var n=(t>>>24|e<<8)>>>0&16777215;return t=(16777215&t)+6777216*n+6710656*(e=e>>16&65535),n+=8147497*e,e*=2,1e7<=t&&(n+=Math[r(1923)](t/1e7),t%=1e7),1e7<=n&&(e+=Math[r(1923)](n/1e7),n%=1e7),i(e,0)+i(n,e)+i(t,1)},jspb[y(696)][y(1363)]=function(t,e){var r=y,i=2147483648&e;return i&&(e=~e+(0==(t=1+~t>>>0)?1:0)>>>0),t=jspb[r(696)][r(1226)](t,e),i?"-"+t:t},jspb[y(696)][y(1527)]=function(t,e){var r=y;jspb[r(696)][r(2103)](t),t=jspb[r(696)][r(1886)];var i=jspb[r(696)][r(1354)];return e?jspb[r(696)][r(1363)](t,i):jspb[r(696)].joinUnsignedDecimalString(t,i)},jspb[y(696)][y(1643)]=function(t,e){for(var r=y,i=Array(t[r(2130)]),n=0;n<t[r(2130)];n++)i[n]=jspb[r(696)][r(1527)](t[n],e);return i},jspb[y(696)][y(1062)]=function(t){var e=y;function r(t,e){for(var r=0;8>r&&(1!==t||0<e);r++)e=t*n[r]+e,n[r]=255&e,e>>>=8}goog.asserts[e(1807)](0<t[e(2130)]);var i=!1;"-"===t[0]&&(i=!0,t=t[e(1785)](1));for(var n=[0,0,0,0,0,0,0,0],s=0;s<t[e(2130)];s++)r(10,t[e(1370)](s)-jspb[e(696)][e(1252)]);return i&&(function(){for(var t=0;8>t;t++)n[t]=255&~n[t]}(),r(1,1)),goog[e(1788)].byteArrayToString(n)},jspb[y(696)][y(1362)]=function(t){var e=y;jspb[e(696)][e(2103)](jspb[e(696)][e(1062)](t))},jspb.utils[y(970)]=function(t){var e=y;return String[e(1377)](10>t?jspb[e(696)][e(1252)]+t:jspb[e(696)][e(562)]-10+t)},jspb[y(696)].fromHexCharCode_=function(t){var e=y;return t>=jspb[e(696)][e(562)]?t-jspb[e(696)][e(562)]+10:t-jspb[e(696)].ZERO_CHAR_CODE_},jspb[y(696)][y(923)]=function(t){var e=y,r=Array(18);r[0]="0",r[1]="x";for(var i=0;8>i;i++){var n=t[e(1370)](7-i);r[2*i+2]=jspb[e(696)].toHexDigit_(n>>4),r[2*i+3]=jspb[e(696)].toHexDigit_(15&n)}return r[e(2066)]("")},jspb[y(696)].hexStringToHash64=function(t){var e=y;t=t[e(1121)](),goog[e(2100)][e(1807)](18==t.length),goog[e(2100)][e(1807)]("0"==t[0]),goog.asserts[e(1807)]("x"==t[1]);for(var r="",i=0;8>i;i++){var n=jspb[e(696)][e(924)](t[e(1370)](2*i+2)),s=jspb.utils.fromHexCharCode_(t.charCodeAt(2*i+3));r=String.fromCharCode(16*n+s)+r}return r},jspb[y(696)][y(745)]=function(t,e){var r=y;jspb[r(696)][r(2103)](t),t=jspb.utils[r(1886)];var i=jspb[r(696)].split64High;return e?jspb.utils[r(1544)](t,i):jspb[r(696)][r(2021)](t,i)},jspb[y(696)].numberToHash64=function(t){var e=y;return jspb[e(696)][e(1804)](t),jspb[e(696)][e(1987)](jspb[e(696)][e(1886)],jspb[e(696)][e(1354)])},jspb[y(696)][y(1315)]=function(t,e,r){for(var i=0,n=e;n<r;n++)i+=t[n]>>7;return r-e-i},jspb[y(696)].countVarintFields=function(t,e,r,i){var n=y,s=0;if(128>(i=8*i+jspb.BinaryConstants.WireType[n(1547)]))for(;e<r&&t[e++]==i;)for(s++;;){var o=t[e++];if(0==(128&o))break}else for(;e<r;){for(o=i;128<o;){if(t[e]!=(127&o|128))return s;e++,o>>=7}if(t[e++]!=o)break;for(s++;0!=(128&(o=t[e++])););}return s},jspb.utils.countFixedFields_=function(t,e,r,i,n){var s=0;if(128>i)for(;e<r&&t[e++]==i;)s++,e+=n;else for(;e<r;){for(var o=i;128<o;){if(t[e++]!=(127&o|128))return s;o>>=7}if(t[e++]!=o)break;s++,e+=n}return s},jspb[y(696)][y(1212)]=function(t,e,r,i){var n=y;return jspb.utils[n(1636)](t,e,r,8*i+jspb[n(1003)][n(1893)].FIXED32,4)},jspb[y(696)][y(1998)]=function(t,e,r,i){var n=y;return jspb[n(696)][n(1636)](t,e,r,8*i+jspb[n(1003)].WireType[n(1240)],8)},jspb[y(696)][y(1772)]=function(t,e,r,i){var n=y,s=0;for(i=8*i+jspb[n(1003)].WireType[n(1892)];e<r;){for(var o=i;128<o;){if(t[e++]!=(127&o|128))return s;o>>=7}if(t[e++]!=o)break;s++;for(var a=0,h=1;a+=(127&(o=t[e++]))*h,h*=128,0!=(128&o););e+=a}return s},jspb[y(696)].debugBytesToTextFormat=function(t){var e=y,r='"';if(t){t=jspb[e(696)].byteSourceToUint8Array(t);for(var i=0;i<t[e(2130)];i++)r+="\\x",16>t[i]&&(r+="0"),r+=t[i].toString(16)}return r+'"'},jspb[y(696)][y(1002)]=function(t){var e=y;return e(983)===typeof t?goog[e(983)].quote(t):t[e(894)]()},jspb[y(696)].stringToByteArray=function(t){for(var e=y,r=new Uint8Array(t[e(2130)]),i=0;i<t[e(2130)];i++){var n=t[e(1370)](i);if(255<n)throw Error(e(1773));r[i]=n}return r},jspb[y(696)].byteSourceToUint8Array=function(t){var e=y;return t[e(1357)]===Uint8Array?t:t[e(1357)]===ArrayBuffer||"undefined"!=typeof Buffer&&t.constructor===Buffer||t[e(1357)]===Array?new Uint8Array(t):t[e(1357)]===String?goog.crypt.base64.decodeStringToUint8Array(t):(goog[e(2100)].fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb[y(1300)]=function(t,e,r){var i=y;this[i(1234)]=null,this.cursor_=this.end_=this[i(1572)]=0,this[i(666)]=!1,t&&this[i(1538)](t,e,r)},jspb.BinaryDecoder[y(598)]=[],jspb[y(1300)].alloc=function(t,e,r){var i=y;if(jspb[i(1300)].instanceCache_[i(2130)]){var n=jspb[i(1300)].instanceCache_[i(1556)]();return t&&n[i(1538)](t,e,r),n}return new(jspb[i(1300)])(t,e,r)},jspb[y(1300)][y(633)][y(1409)]=function(){var t=y;this[t(1205)](),100>jspb[t(1300)][t(598)][t(2130)]&&jspb[t(1300)][t(598)][t(1768)](this)},jspb[y(1300)][y(633)][y(1313)]=function(){var t=y;return jspb.BinaryDecoder[t(1158)](this[t(1234)],this[t(1572)],this[t(2020)]-this[t(1572)])},jspb[y(1300)][y(633)][y(1205)]=function(){var t=y;this[t(1234)]=null,this[t(920)]=this[t(2020)]=this.start_=0,this.error_=!1},jspb[y(1300)][y(633)][y(1189)]=function(){return this.bytes_},jspb[y(1300)][y(633)][y(1538)]=function(t,e,r){var i=y;this[i(1234)]=jspb[i(696)].byteSourceToUint8Array(t),this[i(1572)]=void 0!==e?e:0,this[i(2020)]=void 0!==r?this[i(1572)]+r:this[i(1234)][i(2130)],this[i(920)]=this.start_},jspb[y(1300)][y(633)][y(787)]=function(){return this[y(2020)]},jspb[y(1300)][y(633)].setEnd=function(t){this[y(2020)]=t},jspb[y(1300)][y(633)][y(693)]=function(){var t=y;this[t(920)]=this[t(1572)]},jspb[y(1300)][y(633)].getCursor=function(){return this.cursor_},jspb.BinaryDecoder[y(633)].setCursor=function(t){this.cursor_=t},jspb[y(1300)][y(633)][y(1211)]=function(t){var e=y;this[e(920)]+=t,goog[e(2100)].assert(this.cursor_<=this[e(2020)])},jspb[y(1300)].prototype.atEnd=function(){var t=y;return this[t(920)]==this[t(2020)]},jspb[y(1300)][y(633)][y(942)]=function(){var t=y;return this[t(920)]>this[t(2020)]},jspb.BinaryDecoder[y(633)][y(2148)]=function(){var t=y;return this[t(666)]||0>this.cursor_||this[t(920)]>this[t(2020)]},jspb.BinaryDecoder[y(633)].readSplitVarint64=function(t){for(var e=y,r=128,i=0,n=0,s=0;4>s&&128<=r;s++)i|=(127&(r=this.bytes_[this[e(920)]++]))<<7*s;if(128<=r&&(i|=(127&(r=this.bytes_[this.cursor_++]))<<28,n|=(127&r)>>4),128<=r)for(s=0;5>s&&128<=r;s++)n|=(127&(r=this[e(1234)][this[e(920)]++]))<<7*s+3;if(128>r)return t(i>>>0,n>>>0);goog.asserts[e(1863)](e(623)),this.error_=!0},jspb[y(1300)].prototype.readSplitZigzagVarint64=function(t){var e=y;return this[e(814)]((function(r,i){return jspb[e(696)].fromZigzag64(r,i,t)}))},jspb[y(1300)].prototype[y(1838)]=function(t){var e=y,r=this[e(1234)],i=this[e(920)];this[e(920)]+=8;for(var n=0,s=0,o=i+7;o>=i;o--)n=n<<8|r[o],s=s<<8|r[o+4];return t(n,s)},jspb[y(1300)].prototype[y(1579)]=function(){for(var t=y;128&this[t(1234)][this.cursor_];)this[t(920)]++;this[t(920)]++},jspb[y(1300)][y(633)][y(2025)]=function(t){for(var e=y;128<t;)this[e(920)]--,t>>>=7;this[e(920)]--},jspb[y(1300)].prototype[y(1072)]=function(){var t=y,e=this[t(1234)],r=e[this[t(920)]+0],i=127&r;return 128>r?(this[t(920)]+=1,goog[t(2100)].assert(this[t(920)]<=this[t(2020)]),i):(i|=(127&(r=e[this[t(920)]+1]))<<7,128>r?(this[t(920)]+=2,goog[t(2100)][t(1807)](this[t(920)]<=this[t(2020)]),i):(i|=(127&(r=e[this[t(920)]+2]))<<14,128>r?(this[t(920)]+=3,goog[t(2100)][t(1807)](this[t(920)]<=this[t(2020)]),i):(i|=(127&(r=e[this[t(920)]+3]))<<21,128>r?(this[t(920)]+=4,goog[t(2100)][t(1807)](this[t(920)]<=this.end_),i):(i|=(15&(r=e[this[t(920)]+4]))<<28,128>r?(this[t(920)]+=5,goog.asserts[t(1807)](this[t(920)]<=this[t(2020)]),i>>>0):(this[t(920)]+=5,128<=e[this[t(920)]++]&&128<=e[this[t(920)]++]&&128<=e[this.cursor_++]&&128<=e[this[t(920)]++]&&128<=e[this.cursor_++]&&goog.asserts[t(1807)](!1),goog[t(2100)].assert(this[t(920)]<=this[t(2020)]),i)))))},jspb[y(1300)][y(633)].readSignedVarint32=jspb[y(1300)][y(633)].readUnsignedVarint32,jspb[y(1300)][y(633)][y(1901)]=function(){return this[y(1072)]().toString()},jspb[y(1300)][y(633)][y(1147)]=function(){var t=y;return this[t(1340)]()[t(894)]()},jspb.BinaryDecoder[y(633)].readZigzagVarint32=function(){var t=this.readUnsignedVarint32();return t>>>1^-(1&t)},jspb[y(1300)].prototype[y(1906)]=function(){return this[y(814)](jspb.utils.joinUint64)},jspb[y(1300)][y(633)][y(741)]=function(){var t=y;return this[t(814)](jspb.utils[t(1226)])},jspb[y(1300)][y(633)][y(1839)]=function(){var t=y;return this.readSplitVarint64(jspb[t(696)][t(1544)])},jspb[y(1300)].prototype[y(1464)]=function(){var t=y;return this[t(814)](jspb[t(696)][t(1363)])},jspb.BinaryDecoder[y(633)].readZigzagVarint64=function(){var t=y;return this.readSplitVarint64(jspb[t(696)][t(1648)])},jspb[y(1300)].prototype[y(1085)]=function(){var t=y;return this[t(1868)](jspb[t(696)][t(1987)])},jspb[y(1300)][y(633)][y(1008)]=function(){var t=y;return this[t(1868)](jspb[t(696)][t(1363)])},jspb[y(1300)][y(633)].readUint8=function(){var t=y,e=this[t(1234)][this[t(920)]+0];return this[t(920)]+=1,goog[t(2100)][t(1807)](this[t(920)]<=this[t(2020)]),e},jspb[y(1300)].prototype[y(1124)]=function(){var t=y,e=this[t(1234)][this.cursor_+0],r=this[t(1234)][this[t(920)]+1];return this[t(920)]+=2,goog.asserts[t(1807)](this[t(920)]<=this[t(2020)]),e<<0|r<<8},jspb[y(1300)][y(633)].readUint32=function(){var t=y,e=this[t(1234)][this.cursor_+0],r=this.bytes_[this[t(920)]+1],i=this.bytes_[this[t(920)]+2],n=this[t(1234)][this[t(920)]+3];return this.cursor_+=4,goog[t(2100)].assert(this[t(920)]<=this.end_),(e<<0|r<<8|i<<16|n<<24)>>>0},jspb[y(1300)].prototype[y(2144)]=function(){var t=y,e=this[t(904)](),r=this[t(904)]();return jspb[t(696)].joinUint64(e,r)},jspb[y(1300)].prototype[y(1510)]=function(){var t=this[y(904)](),e=this.readUint32();return jspb.utils.joinUnsignedDecimalString(t,e)},jspb[y(1300)][y(633)][y(1817)]=function(){var t=y,e=this[t(1234)][this[t(920)]+0];return this.cursor_+=1,goog[t(2100)][t(1807)](this[t(920)]<=this[t(2020)]),e<<24>>24},jspb[y(1300)][y(633)].readInt16=function(){var t=y,e=this[t(1234)][this[t(920)]+0],r=this[t(1234)][this[t(920)]+1];return this[t(920)]+=2,goog[t(2100)].assert(this[t(920)]<=this[t(2020)]),(e<<0|r<<8)<<16>>16},jspb[y(1300)][y(633)][y(825)]=function(){var t=y,e=this[t(1234)][this[t(920)]+0],r=this[t(1234)][this.cursor_+1],i=this[t(1234)][this.cursor_+2],n=this[t(1234)][this.cursor_+3];return this[t(920)]+=4,goog[t(2100)][t(1807)](this.cursor_<=this[t(2020)]),e<<0|r<<8|i<<16|n<<24},jspb[y(1300)][y(633)].readInt64=function(){var t=y,e=this[t(904)](),r=this[t(904)]();return jspb.utils[t(1544)](e,r)},jspb[y(1300)][y(633)][y(1342)]=function(){var t=y,e=this[t(904)](),r=this[t(904)]();return jspb[t(696)][t(1363)](e,r)},jspb[y(1300)][y(633)][y(1392)]=function(){var t=y,e=this[t(904)]();return jspb[t(696)][t(1091)](e,0)},jspb.BinaryDecoder.prototype[y(742)]=function(){var t=y,e=this[t(904)](),r=this[t(904)]();return jspb.utils[t(1461)](e,r)},jspb.BinaryDecoder[y(633)][y(1827)]=function(){return!!this[y(1234)][this.cursor_++]},jspb[y(1300)][y(633)][y(1716)]=function(){return this.readSignedVarint32()},jspb.BinaryDecoder[y(633)][y(1032)]=function(t){var e=y,r=this[e(1234)],i=this[e(920)];t=i+t;for(var n=[],s="";i<t;){var o=r[i++];if(128>o)n[e(1768)](o);else{if(192>o)continue;if(224>o){var a=r[i++];n[e(1768)]((31&o)<<6|63&a)}else if(240>o){a=r[i++];var h=r[i++];n[e(1768)]((15&o)<<12|(63&a)<<6|63&h)}else{if(248>o)o=(7&o)<<18|(63&(a=r[i++]))<<12|(63&(h=r[i++]))<<6|63&r[i++],o-=65536,n[e(1768)](55296+(o>>10&1023),56320+(1023&o))}}8192<=n.length&&(s+=String.fromCharCode[e(1969)](null,n),n.length=0)}return s+=goog[e(1788)][e(1041)](n),this.cursor_=i,s},jspb.BinaryDecoder[y(633)][y(792)]=function(){var t=this[y(1072)]();return this.readString(t)},jspb[y(1300)][y(633)][y(900)]=function(t){var e=y;if(0>t||this[e(920)]+t>this[e(1234)][e(2130)])return this[e(666)]=!0,goog[e(2100)][e(1863)](e(1468)),new Uint8Array(0);var r=this.bytes_[e(1394)](this[e(920)],this[e(920)]+t);return this.cursor_+=t,goog[e(2100)][e(1807)](this.cursor_<=this[e(2020)]),r},jspb[y(1300)][y(633)][y(960)]=function(){var t=y;return this[t(814)](jspb[t(696)][t(1987)])},jspb[y(1300)].prototype.readFixedHash64=function(){var t=y,e=this[t(1234)],r=this.cursor_,i=e[r+0],n=e[r+1],s=e[r+2],o=e[r+3],a=e[r+4],h=e[r+5],l=e[r+6];return e=e[r+7],this[t(920)]+=8,String[t(1377)](i,n,s,o,a,h,l,e)},jspb[y(1649)]=function(t,e,r){var i=y;this[i(1385)]=jspb[i(1300)].alloc(t,e,r),this[i(1697)]=this[i(1385)][i(1566)](),this[i(1558)]=jspb.BinaryConstants[i(581)],this[i(1164)]=jspb[i(1003)][i(1893)][i(1507)],this[i(666)]=!1,this[i(1887)]=null},jspb[y(1649)].instanceCache_=[],jspb[y(1649)][y(1158)]=function(t,e,r){var i=y;if(jspb[i(1649)][i(598)][i(2130)]){var n=jspb[i(1649)][i(598)][i(1556)]();return t&&n.decoder_[i(1538)](t,e,r),n}return new jspb.BinaryReader(t,e,r)},jspb[y(1649)].prototype[y(1158)]=jspb[y(1649)].alloc,jspb[y(1649)][y(633)][y(1409)]=function(){var t=y;this[t(1385)].clear(),this[t(1558)]=jspb.BinaryConstants[t(581)],this.nextWireType_=jspb[t(1003)].WireType[t(1507)],this[t(666)]=!1,this[t(1887)]=null,100>jspb[t(1649)][t(598)][t(2130)]&&jspb[t(1649)].instanceCache_[t(1768)](this)},jspb[y(1649)][y(633)].getFieldCursor=function(){return this[y(1697)]},jspb[y(1649)][y(633)][y(1566)]=function(){var t=y;return this.decoder_[t(1566)]()},jspb[y(1649)][y(633)][y(1189)]=function(){var t=y;return this[t(1385)][t(1189)]()},jspb[y(1649)][y(633)][y(1109)]=function(){return this.nextField_},jspb[y(1649)].prototype[y(1714)]=function(){return this.nextWireType_},jspb[y(1649)][y(633)][y(1670)]=function(){var t=y;return this[t(1164)]==jspb[t(1003)][t(1893)][t(1892)]},jspb[y(1649)][y(633)][y(1359)]=function(){var t=y;return this[t(1164)]==jspb[t(1003)][t(1893)].END_GROUP},jspb[y(1649)][y(633)].getError=function(){return this[y(666)]||this.decoder_.getError()},jspb[y(1649)].prototype.setBlock=function(t,e,r){var i=y;this[i(1385)][i(1538)](t,e,r),this[i(1558)]=jspb.BinaryConstants[i(581)],this[i(1164)]=jspb.BinaryConstants[i(1893)][i(1507)]},jspb[y(1649)][y(633)].reset=function(){var t=y;this[t(1385)][t(693)](),this[t(1558)]=jspb.BinaryConstants[t(581)],this[t(1164)]=jspb[t(1003)][t(1893)][t(1507)]},jspb.BinaryReader[y(633)][y(1211)]=function(t){this[y(1385)].advance(t)},jspb[y(1649)][y(633)][y(981)]=function(){var t=y;if(this[t(1385)][t(2115)]())return!1;if(this.getError())return goog.asserts[t(1863)]("Decoder hit an error"),!1;this.fieldCursor_=this[t(1385)][t(1566)]();var e=this[t(1385)][t(1072)](),r=e>>>3;return(e&=7)!=jspb[t(1003)].WireType[t(1547)]&&e!=jspb[t(1003)][t(1893)][t(1202)]&&e!=jspb[t(1003)][t(1893)].FIXED64&&e!=jspb[t(1003)][t(1893)][t(1892)]&&e!=jspb.BinaryConstants[t(1893)][t(2048)]&&e!=jspb.BinaryConstants[t(1893)][t(1830)]?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this[t(1697)]),this[t(666)]=!0,!1):(this[t(1558)]=r,this[t(1164)]=e,!0)},jspb[y(1649)].prototype[y(925)]=function(){var t=y;this[t(1385)][t(2025)](this[t(1558)]<<3|this[t(1164)])},jspb.BinaryReader[y(633)][y(1639)]=function(){var t=y,e=this[t(1558)];for(this[t(925)]();this.nextField()&&this[t(1109)]()==e;)this[t(1645)]();this[t(1385)].atEnd()||this[t(925)]()},jspb.BinaryReader[y(633)][y(957)]=function(){var t=y;this[t(1164)]!=jspb[t(1003)][t(1893)][t(1547)]?(goog[t(2100)][t(1863)](t(790)),this.skipField()):this[t(1385)].skipVarint()},jspb[y(1649)][y(633)].skipDelimitedField=function(){var t=y;if(this[t(1164)]!=jspb[t(1003)].WireType[t(1892)])goog.asserts.fail(t(527)),this[t(1645)]();else{var e=this[t(1385)].readUnsignedVarint32();this.decoder_[t(1211)](e)}},jspb[y(1649)][y(633)][y(1811)]=function(){var t=y;this[t(1164)]!=jspb[t(1003)].WireType[t(1202)]?(goog.asserts[t(1863)](t(641)),this[t(1645)]()):this.decoder_[t(1211)](4)},jspb[y(1649)][y(633)].skipFixed64Field=function(){var t=y;this[t(1164)]!=jspb[t(1003)].WireType.FIXED64?(goog[t(2100)][t(1863)](t(1418)),this.skipField()):this[t(1385)][t(1211)](8)},jspb[y(1649)][y(633)][y(626)]=function(){for(var t=y,e=this.nextField_;;){if(!this[t(981)]()){goog[t(2100)].fail("Unmatched start-group tag: stream EOF"),this[t(666)]=!0;break}if(this[t(1164)]==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog[t(2100)].fail(t(1190)),this[t(666)]=!0);break}this.skipField()}},jspb[y(1649)][y(633)][y(1645)]=function(){var t=y;switch(this.nextWireType_){case jspb[t(1003)].WireType.VARINT:this[t(957)]();break;case jspb.BinaryConstants.WireType[t(1240)]:this.skipFixed64Field();break;case jspb[t(1003)][t(1893)].DELIMITED:this[t(1029)]();break;case jspb[t(1003)][t(1893)][t(1202)]:this[t(1811)]();break;case jspb[t(1003)][t(1893)][t(2048)]:this[t(626)]();break;default:goog[t(2100)][t(1863)](t(1832))}},jspb.BinaryReader[y(633)][y(1617)]=function(t,e){var r=y;null===this[r(1887)]&&(this[r(1887)]={}),goog.asserts.assert(!this[r(1887)][t]),this[r(1887)][t]=e},jspb[y(1649)].prototype[y(526)]=function(t){var e=y;return goog[e(2100)][e(1807)](null!==this[e(1887)]),t=this[e(1887)][t],goog[e(2100)].assert(t),t(this)},jspb[y(1649)][y(633)][y(1834)]=function(t){var e=y;this[e(1164)]=jspb[e(1003)].FieldTypeToWireType(t);var r=jspb[e(1003)][e(1637)];switch(t){case r[e(1999)]:return this.readDouble();case r[e(1135)]:return this[e(1392)]();case r[e(1515)]:return this.readInt64();case r[e(1290)]:return this[e(2144)]();case r.INT32:return this[e(825)]();case r[e(1240)]:return this.readFixed64();case r[e(1202)]:return this.readFixed32();case r[e(1269)]:return this[e(1827)]();case r[e(1407)]:return this[e(1032)]();case r[e(812)]:goog[e(2100)][e(1863)]("Group field type not supported in readAny()");case r[e(631)]:goog[e(2100)][e(1863)](e(1197));case r[e(746)]:return this.readBytes();case r[e(744)]:return this[e(904)]();case r[e(1700)]:return this[e(1716)]();case r.SFIXED32:return this.readSfixed32();case r[e(1597)]:return this[e(525)]();case r[e(1567)]:return this.readSint32();case r[e(1660)]:return this.readSint64();case r.FHASH64:return this[e(2093)]();case r[e(595)]:return this[e(960)]();default:goog[e(2100)].fail(e(1127))}return 0},jspb.BinaryReader[y(633)].readMessage=function(t,e){var r=y;goog[r(2100)][r(1807)](this[r(1164)]==jspb[r(1003)][r(1893)][r(1892)]);var i=this.decoder_[r(787)](),n=this[r(1385)][r(1072)]();n=this[r(1385)][r(1566)]()+n,this[r(1385)][r(1836)](n),e(t,this),this.decoder_[r(834)](n),this.decoder_.setEnd(i)},jspb[y(1649)].prototype[y(1309)]=function(t,e,r){var i=y;goog[i(2100)][i(1807)](this[i(1164)]==jspb.BinaryConstants[i(1893)][i(2048)]),goog.asserts[i(1807)](this.nextField_==t),r(e,this),this[i(666)]||this[i(1164)]==jspb[i(1003)][i(1893)][i(1830)]||(goog[i(2100)][i(1863)]("Group submessage did not end with an END_GROUP tag"),this[i(666)]=!0)},jspb[y(1649)][y(633)][y(621)]=function(){var t=y;goog[t(2100)][t(1807)](this.nextWireType_==jspb[t(1003)][t(1893)][t(1892)]);var e=this.decoder_[t(1072)](),r=this[t(1385)][t(1566)](),i=r+e;return e=jspb.BinaryDecoder.alloc(this[t(1385)].getBuffer(),r,e),this[t(1385)][t(834)](i),e},jspb[y(1649)][y(633)].readInt32=function(){var t=y;return goog.asserts[t(1807)](this[t(1164)]==jspb.BinaryConstants.WireType[t(1547)]),this[t(1385)][t(1340)]()},jspb[y(1649)][y(633)][y(1841)]=function(){var t=y;return goog[t(2100)][t(1807)](this[t(1164)]==jspb[t(1003)][t(1893)][t(1547)]),this[t(1385)][t(1147)]()},jspb.BinaryReader[y(633)][y(1043)]=function(){var t=y;return goog[t(2100)][t(1807)](this.nextWireType_==jspb[t(1003)][t(1893)][t(1547)]),this[t(1385)][t(1839)]()},jspb[y(1649)][y(633)][y(1342)]=function(){var t=y;return goog[t(2100)][t(1807)](this[t(1164)]==jspb.BinaryConstants[t(1893)].VARINT),this[t(1385)][t(1464)]()},jspb[y(1649)][y(633)][y(904)]=function(){var t=y;return goog.asserts.assert(this[t(1164)]==jspb.BinaryConstants[t(1893)][t(1547)]),this[t(1385)][t(1072)]()},jspb.BinaryReader[y(633)][y(1530)]=function(){var t=y;return goog[t(2100)][t(1807)](this[t(1164)]==jspb[t(1003)][t(1893)][t(1547)]),this.decoder_[t(1901)]()},jspb[y(1649)][y(633)].readUint64=function(){var t=y;return goog[t(2100)][t(1807)](this[t(1164)]==jspb[t(1003)][t(1893)][t(1547)]),this[t(1385)][t(1906)]()},jspb[y(1649)].prototype[y(1510)]=function(){var t=y;return goog[t(2100)].assert(this[t(1164)]==jspb[t(1003)][t(1893)][t(1547)]),this[t(1385)].readUnsignedVarint64String()},jspb[y(1649)][y(633)][y(822)]=function(){var t=y;return goog.asserts[t(1807)](this[t(1164)]==jspb[t(1003)][t(1893)][t(1547)]),this[t(1385)].readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){var t=y;return goog[t(2100)][t(1807)](this[t(1164)]==jspb[t(1003)][t(1893)][t(1547)]),this[t(1385)][t(1258)]()},jspb[y(1649)][y(633)][y(778)]=function(){var t=y;return goog[t(2100)].assert(this[t(1164)]==jspb.BinaryConstants[t(1893)][t(1547)]),this[t(1385)][t(1008)]()},jspb[y(1649)][y(633)][y(842)]=function(){var t=y;return goog.asserts[t(1807)](this[t(1164)]==jspb.BinaryConstants[t(1893)][t(1202)]),this[t(1385)][t(904)]()},jspb.BinaryReader[y(633)].readFixed64=function(){var t=y;return goog[t(2100)][t(1807)](this[t(1164)]==jspb[t(1003)][t(1893)].FIXED64),this.decoder_[t(2144)]()},jspb[y(1649)][y(633)][y(1387)]=function(){var t=y;return goog.asserts[t(1807)](this.nextWireType_==jspb[t(1003)][t(1893)][t(1240)]),this[t(1385)].readUint64String()},jspb[y(1649)][y(633)][y(1023)]=function(){var t=y;return goog[t(2100)][t(1807)](this[t(1164)]==jspb[t(1003)].WireType[t(1202)]),this[t(1385)][t(825)]()},jspb.BinaryReader[y(633)].readSfixed32String=function(){var t=y;return goog[t(2100)][t(1807)](this[t(1164)]==jspb[t(1003)][t(1893)][t(1202)]),this[t(1385)][t(825)]()[t(894)]()},jspb[y(1649)][y(633)][y(525)]=function(){var t=y;return goog[t(2100)].assert(this.nextWireType_==jspb.BinaryConstants.WireType[t(1240)]),this[t(1385)].readInt64()},jspb[y(1649)][y(633)][y(1439)]=function(){var t=y;return goog[t(2100)][t(1807)](this.nextWireType_==jspb[t(1003)][t(1893)][t(1240)]),this.decoder_[t(1342)]()},jspb[y(1649)][y(633)].readFloat=function(){var t=y;return goog[t(2100)].assert(this[t(1164)]==jspb[t(1003)][t(1893)][t(1202)]),this.decoder_[t(1392)]()},jspb.BinaryReader[y(633)][y(742)]=function(){var t=y;return goog[t(2100)].assert(this.nextWireType_==jspb[t(1003)].WireType[t(1240)]),this[t(1385)][t(742)]()},jspb[y(1649)].prototype[y(1827)]=function(){var t=y;return goog[t(2100)].assert(this.nextWireType_==jspb[t(1003)].WireType[t(1547)]),!!this[t(1385)][t(1072)]()},jspb[y(1649)].prototype.readEnum=function(){var t=y;return goog[t(2100)][t(1807)](this[t(1164)]==jspb.BinaryConstants[t(1893)][t(1547)]),this[t(1385)][t(1839)]()},jspb[y(1649)][y(633)].readString=function(){var t=y;goog[t(2100)][t(1807)](this[t(1164)]==jspb[t(1003)][t(1893)].DELIMITED);var e=this[t(1385)][t(1072)]();return this[t(1385)][t(1032)](e)},jspb.BinaryReader[y(633)][y(900)]=function(){var t=y;goog[t(2100)][t(1807)](this[t(1164)]==jspb[t(1003)][t(1893)][t(1892)]);var e=this[t(1385)][t(1072)]();return this[t(1385)][t(900)](e)},jspb[y(1649)][y(633)].readVarintHash64=function(){var t=y;return goog[t(2100)][t(1807)](this.nextWireType_==jspb[t(1003)][t(1893)][t(1547)]),this[t(1385)][t(960)]()},jspb[y(1649)].prototype.readSintHash64=function(){var t=y;return goog[t(2100)][t(1807)](this[t(1164)]==jspb[t(1003)][t(1893)][t(1547)]),this[t(1385)][t(1085)]()},jspb[y(1649)][y(633)][y(814)]=function(t){var e=y;return goog.asserts[e(1807)](this[e(1164)]==jspb.BinaryConstants.WireType[e(1547)]),this[e(1385)].readSplitVarint64(t)},jspb.BinaryReader[y(633)][y(1868)]=function(t){var e=y;return goog[e(2100)][e(1807)](this[e(1164)]==jspb[e(1003)][e(1893)][e(1547)]),this[e(1385)][e(814)]((function(e,r){return jspb.utils.fromZigzag64(e,r,t)}))},jspb[y(1649)][y(633)].readFixedHash64=function(){var t=y;return goog[t(2100)][t(1807)](this[t(1164)]==jspb[t(1003)][t(1893)][t(1240)]),this[t(1385)][t(2093)]()},jspb[y(1649)].prototype[y(1838)]=function(t){var e=y;return goog[e(2100)][e(1807)](this[e(1164)]==jspb[e(1003)][e(1893)][e(1240)]),this.decoder_[e(1838)](t)},jspb[y(1649)][y(633)].readPackedField_=function(t){var e=y;goog[e(2100)][e(1807)](this[e(1164)]==jspb[e(1003)][e(1893)][e(1892)]);var r=this.decoder_[e(1072)]();r=this[e(1385)][e(1566)]()+r;for(var i=[];this[e(1385)][e(1566)]()<r;)i[e(1768)](t[e(542)](this[e(1385)]));return i},jspb[y(1649)][y(633)][y(1007)]=function(){var t=y;return this[t(1261)](this[t(1385)].readSignedVarint32)},jspb[y(1649)].prototype[y(1353)]=function(){var t=y;return this[t(1261)](this[t(1385)][t(1147)])},jspb[y(1649)].prototype[y(2064)]=function(){var t=y;return this.readPackedField_(this[t(1385)][t(1839)])},jspb[y(1649)][y(633)][y(958)]=function(){var t=y;return this[t(1261)](this[t(1385)][t(1464)])},jspb[y(1649)][y(633)].readPackedUint32=function(){var t=y;return this[t(1261)](this[t(1385)].readUnsignedVarint32)},jspb[y(1649)][y(633)].readPackedUint32String=function(){var t=y;return this.readPackedField_(this[t(1385)][t(1901)])},jspb[y(1649)][y(633)][y(882)]=function(){var t=y;return this.readPackedField_(this[t(1385)][t(1906)])},jspb[y(1649)].prototype[y(1013)]=function(){var t=y;return this[t(1261)](this[t(1385)].readUnsignedVarint64String)},jspb[y(1649)][y(633)][y(964)]=function(){var t=y;return this.readPackedField_(this[t(1385)][t(1666)])},jspb.BinaryReader[y(633)][y(1580)]=function(){var t=y;return this[t(1261)](this[t(1385)].readZigzagVarint64)},jspb.BinaryReader[y(633)].readPackedSint64String=function(){var t=y;return this[t(1261)](this[t(1385)].readZigzagVarint64String)},jspb[y(1649)][y(633)][y(551)]=function(){var t=y;return this[t(1261)](this[t(1385)][t(904)])},jspb[y(1649)][y(633)][y(1199)]=function(){var t=y;return this[t(1261)](this.decoder_[t(2144)])},jspb[y(1649)][y(633)].readPackedFixed64String=function(){var t=y;return this[t(1261)](this[t(1385)][t(1510)])},jspb.BinaryReader[y(633)][y(1195)]=function(){var t=y;return this[t(1261)](this[t(1385)][t(825)])},jspb[y(1649)].prototype[y(1412)]=function(){var t=y;return this[t(1261)](this.decoder_[t(1043)])},jspb[y(1649)][y(633)].readPackedSfixed64String=function(){var t=y;return this.readPackedField_(this.decoder_[t(1342)])},jspb.BinaryReader[y(633)][y(836)]=function(){var t=y;return this[t(1261)](this[t(1385)][t(1392)])},jspb.BinaryReader[y(633)].readPackedDouble=function(){var t=y;return this[t(1261)](this[t(1385)][t(742)])},jspb[y(1649)][y(633)].readPackedBool=function(){var t=y;return this[t(1261)](this[t(1385)].readBool)},jspb[y(1649)][y(633)][y(2016)]=function(){var t=y;return this.readPackedField_(this[t(1385)][t(1716)])},jspb[y(1649)][y(633)][y(1605)]=function(){var t=y;return this[t(1261)](this[t(1385)].readVarintHash64)},jspb[y(1649)][y(633)][y(1895)]=function(){var t=y;return this[t(1261)](this[t(1385)][t(2093)])},jspb[y(1611)]=function(t,e){var r=y;this[r(1778)]=t,this[r(867)]=e,this.map_={},this.arrClean=!0,0<this[r(1778)][r(2130)]&&this[r(1186)]()},jspb.Map[y(633)][y(1186)]=function(){for(var t=y,e=0;e<this.arr_[t(2130)];e++){var r=this[t(1778)][e],i=r[0];this[t(1187)][i.toString()]=new(jspb[t(1611)][t(1933)])(i,r[1])}this[t(1178)]=!0},jspb[y(1611)][y(633)][y(610)]=function(){var t=y;if(this[t(1178)]){if(this[t(867)]){var e,r=this[t(1187)];for(e in r)if(Object[t(633)].hasOwnProperty.call(r,e)){var i=r[e][t(1304)];i&&i[t(610)]()}}}else{for(this[t(1778)][t(2130)]=0,(r=this.stringKeys_()).sort(),e=0;e<r[t(2130)];e++){var n=this.map_[r[e]];(i=n[t(1304)])&&i[t(610)](),this[t(1778)][t(1768)]([n[t(1122)],n.value])}this[t(1178)]=!0}return this[t(1778)]},jspb[y(1611)][y(633)].toObject=function(t,e){for(var r=y,i=this[r(610)](),n=[],s=0;s<i[r(2130)];s++){var o=this[r(1187)][i[s][0][r(894)]()];this[r(1592)](o);var a=o[r(1304)];a?(goog.asserts[r(1807)](e),n.push([o.key,e(t,a)])):n.push([o[r(1122)],o[r(1241)]])}return n},jspb.Map[y(1297)]=function(t,e,r){var i=y;e=new jspb.Map([],e);for(var n=0;n<t.length;n++){var s=t[n][0],o=r(t[n][1]);e[i(927)](s,o)}return e},jspb[y(1611)][y(1761)]=function(t){var e=y;this[e(1433)]=0,this[e(1778)]=t},jspb.Map[y(1761)][y(633)].next=function(){var t=y;return this[t(1433)]<this[t(1778)][t(2130)]?{done:!1,value:this.arr_[this[t(1433)]++]}:{done:!0,value:void 0}},y(630)!=typeof Symbol&&(jspb.Map[y(1761)][y(633)][Symbol.iterator]=function(){return this}),jspb[y(1611)][y(633)][y(1088)]=function(){return this[y(1193)]().length},jspb[y(1611)][y(633)].clear=function(){var t=y;this[t(1187)]={},this[t(1178)]=!1},jspb.Map[y(633)][y(712)]=function(t){var e=y;t=t[e(894)]();var r=this[e(1187)][e(1506)](t);return delete this[e(1187)][t],this[e(1178)]=!1,r},jspb[y(1611)].prototype[y(786)]=function(){var t=y,e=[],r=this[t(1193)]();r.sort();for(var i=0;i<r[t(2130)];i++){var n=this[t(1187)][r[i]];e.push([n[t(1122)],n[t(1241)]])}return e},jspb.Map.prototype.entries=function(){var t=y,e=[],r=this[t(1193)]();r[t(880)]();for(var i=0;i<r.length;i++){var n=this.map_[r[i]];e[t(1768)]([n.key,this[t(1592)](n)])}return new(jspb[t(1611)][t(1761)])(e)},jspb[y(1611)].prototype.keys=function(){var t=y,e=[],r=this[t(1193)]();r[t(880)]();for(var i=0;i<r.length;i++)e[t(1768)](this[t(1187)][r[i]][t(1122)]);return new(jspb.Map[t(1761)])(e)},jspb[y(1611)].prototype[y(2041)]=function(){var t=y,e=[],r=this.stringKeys_();r[t(880)]();for(var i=0;i<r.length;i++)e[t(1768)](this[t(1592)](this[t(1187)][r[i]]));return new(jspb[t(1611)].ArrayIteratorIterable_)(e)},jspb[y(1611)].prototype[y(1265)]=function(t,e){var r=y,i=this[r(1193)]();i[r(880)]();for(var n=0;n<i[r(2130)];n++){var s=this[r(1187)][i[n]];t[r(542)](e,this.wrapEntry_(s),s.key,this)}},jspb.Map[y(633)][y(927)]=function(t,e){var r=y,i=new(jspb.Map[r(1933)])(t);return this[r(867)]?(i.valueWrapper=e,i[r(1241)]=e[r(610)]()):i.value=e,this[r(1187)][t.toString()]=i,this.arrClean=!1,this},jspb[y(1611)][y(633)][y(1592)]=function(t){var e=y;return this[e(867)]?(t[e(1304)]||(t.valueWrapper=new(this[e(867)])(t[e(1241)])),t[e(1304)]):t[e(1241)]},jspb[y(1611)][y(633)][y(1581)]=function(t){var e=y;if(t=this[e(1187)][t.toString()])return this[e(1592)](t)},jspb[y(1611)].prototype[y(2082)]=function(t){var e=y;return t[e(894)]()in this[e(1187)]},jspb[y(1611)][y(633)][y(2003)]=function(t,e,r,i,n){var s=y,o=this.stringKeys_();o[s(880)]();for(var a=0;a<o[s(2130)];a++){var h=this[s(1187)][o[a]];e[s(1635)](t),r[s(542)](e,1,h[s(1122)]),this.valueCtor_?i[s(542)](e,2,this[s(1592)](h),n):i[s(542)](e,2,h[s(1241)]),e[s(1397)]()}},jspb.Map[y(1594)]=function(t,e,r,i,n,s,o){for(var a=y;e[a(981)]()&&!e[a(1359)]();){var h=e[a(1109)]();1==h?s=r[a(542)](e):2==h&&(t[a(867)]?(goog[a(2100)][a(1807)](n),o||(o=new(t[a(867)])),i.call(e,o,n)):o=i.call(e))}goog.asserts[a(1807)](null!=s),goog[a(2100)].assert(null!=o),t[a(927)](s,o)},jspb[y(1611)][y(633)][y(1193)]=function(){var t,e=y,r=this[e(1187)],i=[];for(t in r)Object[e(633)][e(1506)][e(542)](r,t)&&i.push(t);return i},jspb.Map[y(1933)]=function(t,e){var r=y;this[r(1122)]=t,this[r(1241)]=e,this[r(1304)]=void 0},jspb[y(850)]=function(t,e,r,i,n){var s=y;this[s(939)]=t,this.fieldName=e,this.ctor=r,this[s(2152)]=i,this[s(750)]=n},jspb[y(1755)]=function(t,e,r,i,n,s){var o=y;this.fieldInfo=t,this.binaryReaderFn=e,this[o(988)]=r,this.binaryMessageSerializeFn=i,this[o(2047)]=n,this[o(587)]=s},jspb.ExtensionFieldInfo[y(633)][y(866)]=function(){return!!this[y(1568)]},jspb[y(799)]=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb[y(799)][y(2135)]=!goog[y(1420)],jspb[y(799)].GENERATE_TO_STRING=!0,jspb[y(799)][y(1134)]=!1,jspb.Message[y(1401)]=!0,jspb[y(799)][y(928)]="function"==typeof Uint8Array,jspb[y(799)][y(633)].getJsPbMessageId=function(){return this[y(1153)]},jspb[y(799)][y(2123)]=function(t,e){return e+t[y(1699)]},jspb[y(799)][y(1816)]=function(){},jspb[y(799)][y(1447)]=function(t,e){return e-t[y(1699)]},jspb[y(799)][y(1367)]=function(t,e,r,i,n,s){var o=y;if(t[o(1931)]=null,e||(e=r?[r]:[]),t.messageId_=r?String(r):void 0,t[o(1699)]=0===r?-1:0,t[o(1167)]=e,jspb[o(799)][o(1782)](t,i),t.convertedPrimitiveFields_={},jspb[o(799)][o(1401)]||(t.repeatedFields=n),n)for(e=0;e<n[o(2130)];e++)(r=n[e])<t[o(650)]?(r=jspb.Message[o(2123)](t,r),t.array[r]=t.array[r]||jspb[o(799)].EMPTY_LIST_SENTINEL_):(jspb.Message[o(617)](t),t[o(1949)][r]=t[o(1949)][r]||jspb[o(799)][o(835)]);if(s&&s[o(2130)])for(e=0;e<s.length;e++)jspb[o(799)].computeOneofCase(t,s[e])},jspb[y(799)].EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message[y(1410)]=function(t){var e=y;return jspb[e(799)].ASSUME_LOCAL_ARRAYS?t instanceof Array:Array[e(1715)](t)},jspb.Message[y(1150)]=function(t){var e=y;return!(null===t||e(1004)!=typeof t||jspb.Message[e(1410)](t)||jspb[e(799)][e(928)]&&t instanceof Uint8Array)},jspb[y(799)].initPivotAndExtensionObject_=function(t,e){var r=y,i=t[r(1167)].length,n=-1;if(i&&(n=i-1,i=t[r(1167)][n],jspb[r(799)][r(1150)](i)))return t.pivot_=jspb.Message[r(1447)](t,n),void(t[r(1949)]=i);-1<e?(t[r(650)]=Math[r(1798)](e,jspb.Message[r(1447)](t,n+1)),t.extensionObject_=null):t[r(650)]=Number[r(1753)]},jspb[y(799)].maybeInitEmptyExtensionObject_=function(t){var e=y,r=jspb[e(799)][e(2123)](t,t[e(650)]);t[e(1167)][r]||(t[e(1949)]=t[e(1167)][r]={})},jspb[y(799)][y(2170)]=function(t,e,r){for(var i=y,n=[],s=0;s<t.length;s++)n[s]=e[i(542)](t[s],r,t[s]);return n},jspb[y(799)][y(1536)]=function(t,e,r,i,n){var s=y;for(var o in r){var a=r[o],h=i[s(542)](t,a);if(null!=h){for(var l in a.fieldName)if(a[s(541)][s(1506)](l))break;e[l]=a[s(2152)]?a[s(750)]?jspb[s(799)][s(2170)](h,a.toObjectFn,n):a[s(2152)](n,h):h}}},jspb[y(799)].serializeBinaryExtensions=function(t,e,r,i){var n=y;for(var s in r){var o=r[s],a=o.fieldInfo;if(!o[n(988)])throw Error(n(2105));var h=i.call(t,a);if(null!=h)if(a[n(866)]()){if(!o[n(1341)])throw Error(n(1913));o[n(988)][n(542)](e,a[n(939)],h,o.binaryMessageSerializeFn)}else o[n(988)].call(e,a[n(939)],h)}},jspb.Message[y(1584)]=function(t,e,r,i,n){var s=y,o=r[e[s(1109)]()];if(o){if(r=o.fieldInfo,!o[s(1477)])throw Error(s(2173));if(r[s(866)]()){var a=new r.ctor;o[s(1477)][s(542)](e,a,o[s(2047)])}else a=o[s(1477)][s(542)](e);r[s(750)]&&!o[s(587)]?(e=i[s(542)](t,r))?e.push(a):n[s(542)](t,r,[a]):n[s(542)](t,r,a)}else e.skipField()},jspb[y(799)][y(1784)]=function(t,e){var r=y;if(e<t[r(650)]){e=jspb[r(799)][r(2123)](t,e);var i=t[r(1167)][e];return i===jspb[r(799)].EMPTY_LIST_SENTINEL_?t.array[e]=[]:i}if(t.extensionObject_)return(i=t[r(1949)][e])===jspb.Message[r(835)]?t.extensionObject_[e]=[]:i},jspb[y(799)].getRepeatedField=function(t,e){var r=y;return jspb[r(799)][r(1784)](t,e)},jspb[y(799)].getOptionalFloatingPointField=function(t,e){return null==(t=jspb[y(799)].getField(t,e))?t:+t},jspb.Message[y(1424)]=function(t,e){return null==(t=jspb[y(799)].getField(t,e))?t:!!t},jspb[y(799)][y(2091)]=function(t,e){var r=y,i=jspb.Message[r(1554)](t,e);if(t[r(2018)]||(t[r(2018)]={}),!t[r(2018)][e]){for(var n=0;n<i[r(2130)];n++)i[n]=+i[n];t[r(2018)][e]=!0}return i},jspb.Message[y(1729)]=function(t,e){var r=y,i=jspb.Message[r(1554)](t,e);if(t[r(2018)]||(t[r(2018)]={}),!t[r(2018)][e]){for(var n=0;n<i[r(2130)];n++)i[n]=!!i[n];t[r(2018)][e]=!0}return i},jspb[y(799)][y(508)]=function(t){var e=y;return null==t||e(983)===typeof t?t:jspb[e(799)].SUPPORTS_UINT8ARRAY_&&t instanceof Uint8Array?goog[e(1788)][e(637)][e(1379)](t):(goog.asserts[e(1863)](e(1656)+goog[e(906)](t)),null)},jspb[y(799)][y(2083)]=function(t){var e=y;return null==t||t instanceof Uint8Array?t:e(983)===typeof t?goog.crypt[e(637)].decodeStringToUint8Array(t):(goog.asserts[e(1863)](e(1030)+goog[e(906)](t)),null)},jspb[y(799)][y(879)]=function(t){var e=y;return jspb[e(799)][e(1445)](t),t[e(2130)]&&e(983)!==typeof t[0]?goog[e(1167)][e(1235)](t,jspb[e(799)][e(508)]):t},jspb.Message[y(1824)]=function(t){var e=y;return jspb[e(799)].assertConsistentTypes_(t),!t[e(2130)]||t[0]instanceof Uint8Array?t:goog[e(1167)].map(t,jspb[e(799)][e(2083)])},jspb[y(799)][y(1445)]=function(t){var e=y;if(goog.DEBUG&&t&&1<t[e(2130)]){var r=goog.typeOf(t[0]);goog[e(1167)][e(1265)](t,(function(t){var i=e;goog[i(906)](t)!=r&&goog.asserts[i(1863)](i(1352)+goog[i(906)](t)+i(1399)+r)}))}},jspb[y(799)][y(952)]=function(t,e,r){var i=y;return null==(t=jspb[i(799)][i(1784)](t,e))?r:t},jspb[y(799)].getBooleanFieldWithDefault=function(t,e,r){var i=y;return null==(t=jspb[i(799)][i(1424)](t,e))?r:t},jspb[y(799)].getFloatingPointFieldWithDefault=function(t,e,r){return null==(t=jspb[y(799)].getOptionalFloatingPointField(t,e))?r:t},jspb[y(799)][y(1695)]=jspb[y(799)][y(952)],jspb[y(799)][y(728)]=function(t,e,r,i){var n=y;if(t[n(1931)]||(t.wrappers_={}),e in t[n(1931)])return t[n(1931)][e];var s=jspb.Message.getField(t,e);if(!s){if(r)return;s=[],jspb.Message[n(1718)](t,e,s)}return t.wrappers_[e]=new(jspb[n(1611)])(s,i)},jspb.Message[y(1718)]=function(t,e,r){var i=y;return goog[i(2100)][i(1894)](t,jspb[i(799)]),e<t[i(650)]?t[i(1167)][jspb[i(799)].getIndex_(t,e)]=r:(jspb[i(799)].maybeInitEmptyExtensionObject_(t),t.extensionObject_[e]=r),t},jspb.Message[y(1954)]=function(t,e,r){var i=y;return jspb[i(799)][i(1198)](t,e,r,0)},jspb[y(799)][y(1730)]=function(t,e,r){var i=y;return jspb[i(799)][i(1198)](t,e,r,0)},jspb[y(799)].setProto3BooleanField=function(t,e,r){var i=y;return jspb[i(799)][i(1198)](t,e,r,!1)},jspb.Message[y(1191)]=function(t,e,r){var i=y;return jspb.Message[i(1198)](t,e,r,"")},jspb[y(799)][y(2063)]=function(t,e,r){var i=y;return jspb[i(799)][i(1198)](t,e,r,"")},jspb[y(799)].setProto3EnumField=function(t,e,r){var i=y;return jspb.Message[i(1198)](t,e,r,0)},jspb[y(799)][y(1890)]=function(t,e,r){var i=y;return jspb[i(799)][i(1198)](t,e,r,"0")},jspb[y(799)][y(1198)]=function(t,e,r,i){var n=y;return goog[n(2100)].assertInstanceof(t,jspb[n(799)]),r!==i?jspb[n(799)][n(1718)](t,e,r):e<t[n(650)]?t[n(1167)][jspb[n(799)][n(2123)](t,e)]=null:(jspb[n(799)].maybeInitEmptyExtensionObject_(t),delete t[n(1949)][e]),t},jspb[y(799)][y(510)]=function(t,e,r,i){var n=y;return goog[n(2100)][n(1894)](t,jspb[n(799)]),e=jspb[n(799)][n(1554)](t,e),null!=i?e[n(1809)](i,0,r):e[n(1768)](r),t},jspb.Message[y(914)]=function(t,e,r,i){var n=y;return goog[n(2100)][n(1894)](t,jspb[n(799)]),(r=jspb.Message[n(995)](t,r))&&r!==e&&void 0!==i&&(t[n(1931)]&&r in t.wrappers_&&(t[n(1931)][r]=void 0),jspb[n(799)][n(1718)](t,r,void 0)),jspb[n(799)][n(1718)](t,e,i)},jspb[y(799)][y(995)]=function(t,e){for(var r,i,n=y,s=0;s<e[n(2130)];s++){var o=e[s],a=jspb[n(799)][n(1784)](t,o);null!=a&&(r=o,i=a,jspb[n(799)][n(1718)](t,o,void 0))}return r?(jspb[n(799)][n(1718)](t,r,i),r):0},jspb[y(799)].getWrapperField=function(t,e,r,i){var n=y;if(t[n(1931)]||(t.wrappers_={}),!t[n(1931)][r]){var s=jspb[n(799)].getField(t,r);(i||s)&&(t[n(1931)][r]=new e(s))}return t.wrappers_[r]},jspb.Message.getRepeatedWrapperField=function(t,e,r){var i=y;return jspb[i(799)][i(1075)](t,e,r),(e=t.wrappers_[r])==jspb.Message.EMPTY_LIST_SENTINEL_&&(e=t.wrappers_[r]=[]),e},jspb[y(799)][y(1075)]=function(t,e,r){var i=y;if(t[i(1931)]||(t[i(1931)]={}),!t[i(1931)][r]){for(var n=jspb[i(799)].getRepeatedField(t,r),s=[],o=0;o<n[i(2130)];o++)s[o]=new e(n[o]);t[i(1931)][r]=s}},jspb[y(799)][y(838)]=function(t,e,r){var i=y;goog[i(2100)][i(1894)](t,jspb[i(799)]),t[i(1931)]||(t[i(1931)]={});var n=r?r[i(610)]():r;return t.wrappers_[e]=r,jspb.Message[i(1718)](t,e,n)},jspb.Message[y(616)]=function(t,e,r,i){var n=y;goog.asserts[n(1894)](t,jspb[n(799)]),t[n(1931)]||(t.wrappers_={});var s=i?i[n(610)]():i;return t[n(1931)][e]=i,jspb[n(799)][n(914)](t,e,r,s)},jspb.Message[y(1731)]=function(t,e,r){var i=y;goog.asserts[i(1894)](t,jspb[i(799)]),t[i(1931)]||(t[i(1931)]={}),r=r||[];for(var n=[],s=0;s<r.length;s++)n[s]=r[s][i(610)]();return t[i(1931)][e]=r,jspb[i(799)].setField(t,e,n)},jspb.Message[y(2008)]=function(t,e,r,i,n){var s=y;jspb.Message[s(1075)](t,i,e);var o=t[s(1931)][e];return o||(o=t[s(1931)][e]=[]),r=r||new i,t=jspb[s(799)].getRepeatedField(t,e),null!=n?(o[s(1809)](n,0,r),t[s(1809)](n,0,r.toArray())):(o[s(1768)](r),t[s(1768)](r.toArray())),r},jspb[y(799)][y(686)]=function(t,e,r,i){for(var n={},s=0;s<t.length;s++)n[e.call(t[s])]=r?r.call(t[s],i,t[s]):t[s];return n},jspb[y(799)][y(633)][y(1505)]=function(){var t=y;if(this[t(1931)])for(var e in this[t(1931)]){var r=this[t(1931)][e];if(Array[t(1715)](r))for(var i=0;i<r[t(2130)];i++)r[i]&&r[i][t(610)]();else r&&r[t(610)]()}},jspb.Message[y(633)][y(610)]=function(){var t=y;return this[t(1505)](),this[t(1167)]},jspb[y(799)][y(1092)]&&(jspb[y(799)][y(633)][y(894)]=function(){var t=y;return this[t(1505)](),this[t(1167)].toString()}),jspb[y(799)].prototype[y(1945)]=function(t){var e=y;if(this[e(1949)]){this[e(1931)]||(this.wrappers_={});var r=t[e(939)];if(t[e(750)]){if(t[e(866)]())return this[e(1931)][r]||(this.wrappers_[r]=goog[e(1167)][e(1235)](this[e(1949)][r]||[],(function(r){return new(t[e(1568)])(r)}))),this.wrappers_[r]}else if(t[e(866)]())return!this[e(1931)][r]&&this[e(1949)][r]&&(this.wrappers_[r]=new(t[e(1568)])(this[e(1949)][r])),this[e(1931)][r];return this[e(1949)][r]}},jspb[y(799)][y(633)][y(1678)]=function(t,e){var r=y;this[r(1931)]||(this.wrappers_={}),jspb[r(799)][r(617)](this);var i=t[r(939)];return t[r(750)]?(e=e||[],t[r(866)]()?(this.wrappers_[i]=e,this[r(1949)][i]=goog[r(1167)].map(e,(function(t){return t[r(610)]()}))):this[r(1949)][i]=e):t.isMessageType()?(this[r(1931)][i]=e,this.extensionObject_[i]=e?e.toArray():e):this[r(1949)][i]=e,this},jspb[y(799)][y(1638)]=function(t,e){var r=y;if(!(t instanceof e[r(1357)]))throw Error("Messages have different types.");var i=t[r(610)]();e=e[r(610)]();var n=[],s=0,o=i[r(2130)]>e[r(2130)]?i[r(2130)]:e[r(2130)];for(t.getJsPbMessageId()&&(n[0]=t[r(1413)](),s=1);s<o;s++)jspb.Message.compareFields(i[s],e[s])||(n[s]=e[s]);return new t.constructor(n)},jspb[y(799)][y(1083)]=function(t,e){var r=y;return t==e||!(!t||!e)&&t instanceof e[r(1357)]&&jspb[r(799)][r(1266)](t[r(610)](),e[r(610)]())},jspb[y(799)][y(1870)]=function(t,e){var r=y;t=t||{},e=e||{};var i,n={};for(i in t)n[i]=0;for(i in e)n[i]=0;for(i in n)if(!jspb.Message[r(1266)](t[i],e[i]))return!1;return!0},jspb[y(799)].compareFields=function(t,e){var r=y;if(t==e)return!0;if(!goog[r(563)](t)||!goog.isObject(e))return!!(r(884)===typeof t&&isNaN(t)||r(884)===typeof e&&isNaN(e))&&String(t)==String(e);if(t.constructor!=e.constructor)return!1;if(jspb[r(799)][r(928)]&&t.constructor===Uint8Array){if(t[r(2130)]!=e[r(2130)])return!1;for(var i=0;i<t.length;i++)if(t[i]!=e[i])return!1;return!0}if(t[r(1357)]===Array){var n=void 0,s=void 0,o=Math[r(1798)](t[r(2130)],e.length);for(i=0;i<o;i++){var a=t[i],h=e[i];if(a&&a[r(1357)]==Object&&(goog[r(2100)][r(1807)](void 0===n),goog[r(2100)][r(1807)](i===t[r(2130)]-1),n=a,a=void 0),h&&h.constructor==Object&&(goog.asserts.assert(void 0===s),goog[r(2100)][r(1807)](i===e[r(2130)]-1),s=h,h=void 0),!jspb.Message[r(1266)](a,h))return!1}return!n&&!s||(n=n||{},s=s||{},jspb.Message[r(1870)](n,s))}if(t[r(1357)]===Object)return jspb[r(799)][r(1870)](t,e);throw Error(r(1129))},jspb[y(799)][y(633)].cloneMessage=function(){var t=y;return jspb[t(799)][t(1329)](this)},jspb[y(799)].prototype[y(1313)]=function(){return jspb[y(799)].cloneMessage(this)},jspb[y(799)][y(1313)]=function(t){var e=y;return jspb[e(799)][e(1329)](t)},jspb.Message[y(1329)]=function(t){var e=y;return new(t[e(1357)])(jspb[e(799)][e(1709)](t[e(610)]()))},jspb[y(799)].copyInto=function(t,e){var r=y;goog[r(2100)].assertInstanceof(t,jspb[r(799)]),goog.asserts[r(1894)](e,jspb[r(799)]),goog[r(2100)].assert(t.constructor==e.constructor,r(2075)),t=jspb[r(799)][r(1313)](t);for(var i=e[r(610)](),n=t[r(610)](),s=i[r(2130)]=0;s<n.length;s++)i[s]=n[s];e[r(1931)]=t[r(1931)],e.extensionObject_=t[r(1949)]},jspb[y(799)].clone_=function(t){var e=y;if(Array[e(1715)](t)){for(var r=Array(t[e(2130)]),i=0;i<t[e(2130)];i++){var n=t[i];null!=n&&(r[i]=e(1004)==typeof n?jspb[e(799)][e(1709)](goog[e(2100)][e(1807)](n)):n)}return r}if(jspb[e(799)][e(928)]&&t instanceof Uint8Array)return new Uint8Array(t);for(i in r={},t)null!=(n=t[i])&&(r[i]=e(1004)==typeof n?jspb.Message[e(1709)](goog[e(2100)][e(1807)](n)):n);return r},jspb[y(799)].registerMessageType=function(t,e){e.messageId=t},jspb.Message[y(899)]={},jspb[y(799)][y(1489)]={},jspb.arith={},jspb.arith[y(1829)]=function(t,e){this.lo=t,this.hi=e},jspb[y(1006)][y(1829)][y(633)][y(2086)]=function(t){return this.hi<t.hi||this.hi==t.hi&&this.lo<t.lo?-1:this.hi==t.hi&&this.lo==t.lo?0:1},jspb.arith[y(1829)][y(633)][y(1276)]=function(){return new(jspb[y(1006)].UInt64)((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb[y(1006)][y(1829)][y(633)][y(582)]=function(){var t=y;return new(jspb.arith[t(1829)])(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb[y(1006)][y(1829)][y(633)][y(516)]=function(){return!!(2147483648&this.hi)},jspb.arith[y(1829)][y(633)][y(1734)]=function(){return!!(1&this.lo)},jspb.arith[y(1829)][y(633)][y(1400)]=function(){return 0==this.lo&&0==this.hi},jspb[y(1006)][y(1829)][y(633)][y(973)]=function(t){return new(jspb[y(1006)].UInt64)((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb.arith[y(1829)][y(633)][y(586)]=function(t){var e=y;return new(jspb[e(1006)][e(1829)])((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb[y(1006)][y(1829)][y(1194)]=function(t,e){var r=y,i=65535&t,n=65535&e,s=e>>>16;for(e=i*n+65536*(i*s&65535)+65536*((t>>>=16)*n&65535),i=t*s+(i*s>>>16)+(t*n>>>16);4294967296<=e;)e-=4294967296,i+=1;return new(jspb[r(1006)][r(1829)])(e>>>0,i>>>0)},jspb.arith.UInt64[y(633)][y(1082)]=function(t){var e=y,r=jspb[e(1006)][e(1829)][e(1194)](this.lo,t);return(t=jspb[e(1006)][e(1829)][e(1194)](this.hi,t)).hi=t.lo,t.lo=0,r.add(t)},jspb[y(1006)].UInt64[y(633)][y(695)]=function(t){var e=y;if(0==t)return[];var r=new(jspb[e(1006)][e(1829)])(0,0),i=new(jspb[e(1006)][e(1829)])(this.lo,this.hi);t=new(jspb[e(1006)][e(1829)])(t,0);for(var n=new(jspb.arith[e(1829)])(1,0);!t.msb();)t=t[e(582)](),n=n.leftShift();for(;!n[e(1400)]();)0>=t[e(2086)](i)&&(r=r[e(973)](n),i=i[e(586)](t)),t=t[e(1276)](),n=n[e(1276)]();return[r,i]},jspb[y(1006)][y(1829)].prototype[y(894)]=function(){for(var t=y,e="",r=this;!r[t(1400)]();){var i=(r=r[t(695)](10))[0];e=r[1].lo+e,r=i}return""==e&&(e="0"),e},jspb.arith[y(1829)].fromString=function(t){for(var e=y,r=new(jspb[e(1006)][e(1829)])(0,0),i=new(jspb.arith[e(1829)])(0,0),n=0;n<t[e(2130)];n++){if("0">t[n]||"9"<t[n])return null;var s=parseInt(t[n],10);i.lo=s,r=r[e(1082)](10)[e(973)](i)}return r},jspb.arith.UInt64.prototype.clone=function(){return new(jspb[y(1006)].UInt64)(this.lo,this.hi)},jspb.arith[y(1819)]=function(t,e){this.lo=t,this.hi=e},jspb[y(1006)][y(1819)].prototype[y(973)]=function(t){return new(jspb[y(1006)].Int64)((this.lo+t.lo&4294967295)>>>0>>>0,((this.hi+t.hi&4294967295)>>>0)+(4294967296<=this.lo+t.lo?1:0)>>>0)},jspb[y(1006)].Int64[y(633)][y(586)]=function(t){var e=y;return new(jspb[e(1006)][e(1819)])((this.lo-t.lo&4294967295)>>>0>>>0,((this.hi-t.hi&4294967295)>>>0)-(0>this.lo-t.lo?1:0)>>>0)},jspb.arith.Int64[y(633)][y(1313)]=function(){var t=y;return new(jspb[t(1006)][t(1819)])(this.lo,this.hi)},jspb[y(1006)].Int64[y(633)][y(894)]=function(){var t=y,e=0!=(2147483648&this.hi),r=new(jspb[t(1006)][t(1829)])(this.lo,this.hi);return e&&(r=new(jspb[t(1006)].UInt64)(0,0).sub(r)),(e?"-":"")+r[t(894)]()},jspb[y(1006)][y(1819)][y(502)]=function(t){var e=y,r=0<t[e(2130)]&&"-"==t[0];return r&&(t=t.substring(1)),null===(t=jspb[e(1006)][e(1829)][e(502)](t))?null:(r&&(t=new(jspb.arith[e(1829)])(0,0)[e(586)](t)),new(jspb.arith[e(1819)])(t.lo,t.hi))},jspb[y(1247)]=function(){this[y(1835)]=[]},jspb[y(1247)][y(633)].length=function(){var t=y;return this[t(1835)][t(2130)]},jspb[y(1247)][y(633)].end=function(){var t=y,e=this[t(1835)];return this[t(1835)]=[],e},jspb[y(1247)][y(633)][y(1232)]=function(t,e){var r=y;for(goog[r(2100)][r(1807)](t==Math[r(1923)](t)),goog[r(2100)][r(1807)](e==Math[r(1923)](e)),goog[r(2100)][r(1807)](0<=t&&t<jspb[r(1003)][r(2112)]),goog[r(2100)][r(1807)](0<=e&&e<jspb[r(1003)][r(2112)]);0<e||127<t;)this[r(1835)].push(127&t|128),t=(t>>>7|e<<25)>>>0,e>>>=7;this.buffer_[r(1768)](t)},jspb[y(1247)].prototype[y(2111)]=function(t,e){var r=y;goog[r(2100)].assert(t==Math.floor(t)),goog.asserts[r(1807)](e==Math[r(1923)](e)),goog[r(2100)][r(1807)](0<=t&&t<jspb[r(1003)][r(2112)]),goog[r(2100)][r(1807)](0<=e&&e<jspb[r(1003)].TWO_TO_32),this[r(849)](t),this.writeUint32(e)},jspb[y(1247)].prototype[y(1849)]=function(t){var e=y;for(goog[e(2100)][e(1807)](t==Math[e(1923)](t)),goog.asserts[e(1807)](0<=t&&t<jspb[e(1003)][e(2112)]);127<t;)this[e(1835)][e(1768)](127&t|128),t>>>=7;this[e(1835)].push(t)},jspb[y(1247)][y(633)][y(1356)]=function(t){var e=y;if(goog[e(2100)][e(1807)](t==Math[e(1923)](t)),goog[e(2100)][e(1807)](t>=-jspb.BinaryConstants.TWO_TO_31&&t<jspb[e(1003)][e(1358)]),0<=t)this.writeUnsignedVarint32(t);else{for(var r=0;9>r;r++)this.buffer_[e(1768)](127&t|128),t>>=7;this.buffer_[e(1768)](1)}},jspb[y(1247)][y(633)][y(826)]=function(t){var e=y;goog[e(2100)].assert(t==Math.floor(t)),goog[e(2100)].assert(0<=t&&t<jspb.BinaryConstants[e(589)]),jspb.utils[e(1804)](t),this[e(1232)](jspb[e(696)][e(1886)],jspb[e(696)][e(1354)])},jspb[y(1247)][y(633)][y(1696)]=function(t){var e=y;goog[e(2100)][e(1807)](t==Math.floor(t)),goog[e(2100)][e(1807)](t>=-jspb[e(1003)][e(2023)]&&t<jspb[e(1003)][e(2023)]),jspb[e(696)].splitInt64(t),this[e(1232)](jspb[e(696)].split64Low,jspb[e(696)][e(1354)])},jspb[y(1247)][y(633)].writeZigzagVarint32=function(t){var e=y;goog[e(2100)][e(1807)](t==Math[e(1923)](t)),goog[e(2100)][e(1807)](t>=-jspb[e(1003)].TWO_TO_31&&t<jspb[e(1003)][e(1358)]),this[e(1849)]((t<<1^t>>31)>>>0)},jspb.BinaryEncoder[y(633)][y(1103)]=function(t){var e=y;goog[e(2100)][e(1807)](t==Math[e(1923)](t)),goog[e(2100)].assert(t>=-jspb[e(1003)][e(2023)]&&t<jspb[e(1003)][e(2023)]),jspb[e(696)][e(1037)](t),this[e(1232)](jspb[e(696)][e(1886)],jspb.utils[e(1354)])},jspb[y(1247)][y(633)][y(775)]=function(t){var e=y;this[e(583)](jspb[e(696)][e(1062)](t))},jspb[y(1247)][y(633)][y(583)]=function(t){var e=y,r=this;jspb[e(696)].splitHash64(t),jspb.utils.toZigzag64(jspb[e(696)].split64Low,jspb[e(696)][e(1354)],(function(t,i){r[e(1232)](t>>>0,i>>>0)}))},jspb[y(1247)][y(633)][y(711)]=function(t){var e=y;goog[e(2100)][e(1807)](t==Math[e(1923)](t)),goog[e(2100)][e(1807)](0<=t&&256>t),this[e(1835)].push(t>>>0&255)},jspb[y(1247)][y(633)][y(1981)]=function(t){var e=y;goog[e(2100)].assert(t==Math.floor(t)),goog[e(2100)][e(1807)](0<=t&&65536>t),this[e(1835)][e(1768)](t>>>0&255),this[e(1835)][e(1768)](t>>>8&255)},jspb[y(1247)].prototype[y(849)]=function(t){var e=y;goog[e(2100)][e(1807)](t==Math.floor(t)),goog[e(2100)][e(1807)](0<=t&&t<jspb.BinaryConstants[e(2112)]),this.buffer_.push(t>>>0&255),this.buffer_[e(1768)](t>>>8&255),this[e(1835)][e(1768)](t>>>16&255),this.buffer_[e(1768)](t>>>24&255)},jspb[y(1247)][y(633)].writeUint64=function(t){var e=y;goog.asserts[e(1807)](t==Math.floor(t)),goog[e(2100)][e(1807)](0<=t&&t<jspb[e(1003)][e(589)]),jspb[e(696)][e(1844)](t),this[e(849)](jspb.utils[e(1886)]),this[e(849)](jspb[e(696)][e(1354)])},jspb[y(1247)][y(633)].writeInt8=function(t){var e=y;goog.asserts.assert(t==Math[e(1923)](t)),goog.asserts[e(1807)](-128<=t&&128>t),this[e(1835)].push(t>>>0&255)},jspb[y(1247)][y(633)][y(1036)]=function(t){var e=y;goog.asserts[e(1807)](t==Math[e(1923)](t)),goog[e(2100)][e(1807)](-32768<=t&&32768>t),this[e(1835)][e(1768)](t>>>0&255),this[e(1835)][e(1768)](t>>>8&255)},jspb.BinaryEncoder.prototype[y(1396)]=function(t){var e=y;goog.asserts.assert(t==Math.floor(t)),goog.asserts[e(1807)](t>=-jspb.BinaryConstants[e(1358)]&&t<jspb[e(1003)].TWO_TO_31),this[e(1835)][e(1768)](t>>>0&255),this[e(1835)][e(1768)](t>>>8&255),this[e(1835)][e(1768)](t>>>16&255),this[e(1835)][e(1768)](t>>>24&255)},jspb[y(1247)][y(633)][y(1168)]=function(t){var e=y;goog[e(2100)].assert(t==Math[e(1923)](t)),goog[e(2100)][e(1807)](t>=-jspb[e(1003)][e(2023)]&&t<jspb[e(1003)][e(2023)]),jspb[e(696)][e(1804)](t),this[e(2111)](jspb[e(696)][e(1886)],jspb[e(696)][e(1354)])},jspb.BinaryEncoder.prototype[y(1364)]=function(t){var e=y;goog[e(2100)][e(1807)](t==Math[e(1923)](t)),goog[e(2100)][e(1807)](+t>=-jspb[e(1003)].TWO_TO_63&&+t<jspb.BinaryConstants[e(2023)]),jspb[e(696)].splitHash64(jspb[e(696)][e(1062)](t)),this[e(2111)](jspb[e(696)][e(1886)],jspb[e(696)][e(1354)])},jspb[y(1247)][y(633)][y(831)]=function(t){var e=y;goog[e(2100)].assert(1/0===t||-1/0===t||isNaN(t)||t>=-jspb[e(1003)][e(2133)]&&t<=jspb[e(1003)][e(2133)]),jspb[e(696)][e(863)](t),this[e(849)](jspb[e(696)].split64Low)},jspb.BinaryEncoder[y(633)].writeDouble=function(t){var e=y;goog[e(2100)][e(1807)](1/0===t||-1/0===t||isNaN(t)||t>=-jspb[e(1003)].FLOAT64_MAX&&t<=jspb.BinaryConstants[e(1495)]),jspb[e(696)][e(1821)](t),this.writeUint32(jspb.utils[e(1886)]),this[e(849)](jspb[e(696)][e(1354)])},jspb[y(1247)][y(633)].writeBool=function(t){var e=y;goog[e(2100)].assert("boolean"==typeof t||e(884)===typeof t),this.buffer_[e(1768)](t?1:0)},jspb[y(1247)].prototype[y(1031)]=function(t){var e=y;goog[e(2100)][e(1807)](t==Math[e(1923)](t)),goog[e(2100)][e(1807)](t>=-jspb[e(1003)][e(1358)]&&t<jspb[e(1003)][e(1358)]),this[e(1356)](t)},jspb[y(1247)].prototype[y(1184)]=function(t){var e=y;this[e(1835)][e(1768)].apply(this[e(1835)],t)},jspb[y(1247)].prototype[y(1961)]=function(t){var e=y;jspb[e(696)][e(2103)](t),this.writeSplitVarint64(jspb[e(696)][e(1886)],jspb[e(696)][e(1354)])},jspb[y(1247)][y(633)][y(1288)]=function(t){var e=y;jspb[e(696)][e(2103)](t),this[e(849)](jspb.utils[e(1886)]),this[e(849)](jspb.utils.split64High)},jspb.BinaryEncoder[y(633)][y(859)]=function(t){for(var e=y,r=this[e(1835)].length,i=0;i<t[e(2130)];i++){var n=t.charCodeAt(i);if(128>n)this[e(1835)][e(1768)](n);else if(2048>n)this.buffer_[e(1768)](n>>6|192),this[e(1835)].push(63&n|128);else if(65536>n)if(55296<=n&&56319>=n&&i+1<t.length){var s=t[e(1370)](i+1);56320<=s&&57343>=s&&(n=1024*(n-55296)+s-56320+65536,this[e(1835)][e(1768)](n>>18|240),this[e(1835)][e(1768)](n>>12&63|128),this.buffer_[e(1768)](n>>6&63|128),this[e(1835)][e(1768)](63&n|128),i++)}else this.buffer_[e(1768)](n>>12|224),this[e(1835)][e(1768)](n>>6&63|128),this[e(1835)][e(1768)](63&n|128)}return this[e(1835)][e(2130)]-r},jspb[y(652)]=function(){var t=y;this[t(1432)]=[],this[t(1096)]=0,this[t(856)]=new jspb.BinaryEncoder,this[t(1490)]=[]},jspb.BinaryWriter[y(633)][y(947)]=function(t){var e=y,r=this[e(856)].end();this.blocks_[e(1768)](r),this[e(1432)][e(1768)](t),this[e(1096)]+=r[e(2130)]+t.length},jspb[y(652)][y(633)].beginDelimited_=function(t){var e=y;return this[e(1848)](t,jspb[e(1003)].WireType.DELIMITED),t=this[e(856)][e(1102)](),this[e(1432)].push(t),this.totalLength_+=t.length,t[e(1768)](this[e(1096)]),t},jspb[y(652)][y(633)][y(1717)]=function(t){var e=y,r=t.pop();for(r=this[e(1096)]+this[e(856)][e(2130)]()-r,goog.asserts[e(1807)](0<=r);127<r;)t.push(127&r|128),r>>>=7,this[e(1096)]++;t.push(r),this[e(1096)]++},jspb[y(652)][y(633)][y(691)]=function(t,e,r){var i=y;this[i(947)](t[i(1394)](e,r))},jspb[y(652)][y(633)][y(663)]=function(t,e,r){null!=t&&null!=e&&null!=r&&this[y(691)](t,e,r)},jspb[y(652)].prototype.reset=function(){var t=y;this.blocks_=[],this[t(856)].end(),this[t(1096)]=0,this[t(1490)]=[]},jspb[y(652)].prototype[y(660)]=function(){var t=y;goog[t(2100)][t(1807)](0==this.bookmarks_[t(2130)]);for(var e=new Uint8Array(this.totalLength_+this[t(856)][t(2130)]()),r=this[t(1432)],i=r.length,n=0,s=0;s<i;s++){var o=r[s];e[t(927)](o,n),n+=o[t(2130)]}return r=this[t(856)][t(1102)](),e[t(927)](r,n),n+=r[t(2130)],goog[t(2100)][t(1807)](n==e[t(2130)]),this.blocks_=[e],e},jspb.BinaryWriter[y(633)].getResultBase64String=function(t){var e=y;return goog[e(1788)][e(637)].encodeByteArray(this[e(660)](),t)},jspb[y(652)][y(633)][y(1635)]=function(t){var e=y;this[e(1490)][e(1768)](this[e(2067)](t))},jspb[y(652)][y(633)][y(1397)]=function(){var t=y;goog[t(2100)].assert(0<=this[t(1490)][t(2130)]),this[t(1717)](this[t(1490)][t(1556)]())},jspb[y(652)].prototype[y(1848)]=function(t,e){var r=y;goog[r(2100)][r(1807)](1<=t&&t==Math.floor(t)),this.encoder_[r(1849)](8*t+e)},jspb.BinaryWriter[y(633)].writeAny=function(t,e,r){var i=y,n=jspb.BinaryConstants[i(1637)];switch(t){case n[i(1999)]:this[i(1613)](e,r);break;case n[i(1135)]:this[i(831)](e,r);break;case n[i(1515)]:this.writeInt64(e,r);break;case n[i(1290)]:this[i(519)](e,r);break;case n.INT32:this[i(1396)](e,r);break;case n[i(1240)]:this[i(524)](e,r);break;case n.FIXED32:this.writeFixed32(e,r);break;case n[i(1269)]:this.writeBool(e,r);break;case n[i(1407)]:this[i(859)](e,r);break;case n.GROUP:goog[i(2100)][i(1863)](i(824));break;case n[i(631)]:goog[i(2100)].fail(i(2088));break;case n.BYTES:this[i(1184)](e,r);break;case n[i(744)]:this[i(849)](e,r);break;case n[i(1700)]:this[i(1031)](e,r);break;case n.SFIXED32:this.writeSfixed32(e,r);break;case n[i(1597)]:this[i(996)](e,r);break;case n.SINT32:this[i(599)](e,r);break;case n[i(1660)]:this[i(1745)](e,r);break;case n.FHASH64:this.writeFixedHash64(e,r);break;case n[i(595)]:this.writeVarintHash64(e,r);break;default:goog[i(2100)][i(1863)](i(2005))}},jspb[y(652)][y(633)][y(1918)]=function(t,e){var r=y;null!=e&&(this[r(1848)](t,jspb[r(1003)][r(1893)][r(1547)]),this.encoder_[r(1849)](e))},jspb[y(652)].prototype.writeSignedVarint32_=function(t,e){var r=y;null!=e&&(this[r(1848)](t,jspb[r(1003)][r(1893)].VARINT),this.encoder_.writeSignedVarint32(e))},jspb[y(652)].prototype[y(1751)]=function(t,e){var r=y;null!=e&&(this[r(1848)](t,jspb[r(1003)][r(1893)][r(1547)]),this[r(856)][r(826)](e))},jspb[y(652)][y(633)][y(503)]=function(t,e){var r=y;null!=e&&(this.writeFieldHeader_(t,jspb[r(1003)][r(1893)][r(1547)]),this[r(856)].writeSignedVarint64(e))},jspb[y(652)].prototype.writeZigzagVarint32_=function(t,e){var r=y;null!=e&&(this[r(1848)](t,jspb[r(1003)][r(1893)][r(1547)]),this[r(856)][r(1619)](e))},jspb[y(652)][y(633)].writeZigzagVarint64_=function(t,e){var r=y;null!=e&&(this[r(1848)](t,jspb[r(1003)][r(1893)][r(1547)]),this.encoder_[r(1103)](e))},jspb[y(652)].prototype[y(538)]=function(t,e){var r=y;null!=e&&(this[r(1848)](t,jspb.BinaryConstants[r(1893)].VARINT),this.encoder_[r(775)](e))},jspb[y(652)].prototype[y(808)]=function(t,e){var r=y;null!=e&&(this[r(1848)](t,jspb.BinaryConstants[r(1893)][r(1547)]),this[r(856)][r(583)](e))},jspb[y(652)][y(633)][y(1396)]=function(t,e){var r=y;null!=e&&(goog[r(2100)][r(1807)](e>=-jspb[r(1003)][r(1358)]&&e<jspb.BinaryConstants[r(1358)]),this.writeSignedVarint32_(t,e))},jspb.BinaryWriter[y(633)][y(570)]=function(t,e){var r=y;null!=e&&(e=parseInt(e,10),goog[r(2100)][r(1807)](e>=-jspb[r(1003)][r(1358)]&&e<jspb[r(1003)][r(1358)]),this[r(659)](t,e))},jspb.BinaryWriter[y(633)].writeInt64=function(t,e){var r=y;null!=e&&(goog.asserts.assert(e>=-jspb[r(1003)][r(2023)]&&e<jspb.BinaryConstants[r(2023)]),this[r(503)](t,e))},jspb[y(652)][y(633)][y(1364)]=function(t,e){var r=y;null!=e&&(e=jspb[r(1006)][r(1819)][r(502)](e),this[r(1848)](t,jspb[r(1003)][r(1893)][r(1547)]),this[r(856)].writeSplitVarint64(e.lo,e.hi))},jspb.BinaryWriter[y(633)][y(849)]=function(t,e){var r=y;null!=e&&(goog[r(2100)].assert(0<=e&&e<jspb[r(1003)][r(2112)]),this.writeUnsignedVarint32_(t,e))},jspb[y(652)][y(633)].writeUint32String=function(t,e){var r=y;null!=e&&(e=parseInt(e,10),goog[r(2100)].assert(0<=e&&e<jspb.BinaryConstants[r(2112)]),this.writeUnsignedVarint32_(t,e))},jspb[y(652)][y(633)][y(519)]=function(t,e){var r=y;null!=e&&(goog[r(2100)].assert(0<=e&&e<jspb.BinaryConstants[r(589)]),this[r(1751)](t,e))},jspb[y(652)].prototype[y(1615)]=function(t,e){var r=y;null!=e&&(e=jspb[r(1006)].UInt64[r(502)](e),this[r(1848)](t,jspb[r(1003)][r(1893)][r(1547)]),this[r(856)][r(1232)](e.lo,e.hi))},jspb[y(652)].prototype[y(599)]=function(t,e){var r=y;null!=e&&(goog[r(2100)][r(1807)](e>=-jspb.BinaryConstants[r(1358)]&&e<jspb.BinaryConstants[r(1358)]),this[r(972)](t,e))},jspb[y(652)][y(633)][y(1745)]=function(t,e){var r=y;null!=e&&(goog[r(2100)][r(1807)](e>=-jspb[r(1003)][r(2023)]&&e<jspb[r(1003)][r(2023)]),this.writeZigzagVarint64_(t,e))},jspb[y(652)][y(633)][y(870)]=function(t,e){null!=e&&this.writeZigzagVarintHash64_(t,e)},jspb[y(652)][y(633)].writeSint64String=function(t,e){null!=e&&this[y(538)](t,e)},jspb[y(652)][y(633)][y(1873)]=function(t,e){var r=y;null!=e&&(goog[r(2100)].assert(0<=e&&e<jspb.BinaryConstants[r(2112)]),this[r(1848)](t,jspb[r(1003)][r(1893)][r(1202)]),this[r(856)][r(849)](e))},jspb[y(652)][y(633)][y(524)]=function(t,e){var r=y;null!=e&&(goog[r(2100)][r(1807)](0<=e&&e<jspb[r(1003)][r(589)]),this[r(1848)](t,jspb.BinaryConstants.WireType[r(1240)]),this[r(856)][r(519)](e))},jspb[y(652)][y(633)][y(765)]=function(t,e){var r=y;null!=e&&(e=jspb[r(1006)][r(1829)][r(502)](e),this[r(1848)](t,jspb[r(1003)][r(1893)][r(1240)]),this[r(856)][r(2111)](e.lo,e.hi))},jspb[y(652)].prototype.writeSfixed32=function(t,e){var r=y;null!=e&&(goog[r(2100)][r(1807)](e>=-jspb[r(1003)].TWO_TO_31&&e<jspb[r(1003)][r(1358)]),this[r(1848)](t,jspb[r(1003)][r(1893)].FIXED32),this.encoder_[r(1396)](e))},jspb[y(652)].prototype.writeSfixed64=function(t,e){var r=y;null!=e&&(goog.asserts.assert(e>=-jspb[r(1003)][r(2023)]&&e<jspb[r(1003)][r(2023)]),this[r(1848)](t,jspb[r(1003)][r(1893)][r(1240)]),this.encoder_[r(1168)](e))},jspb[y(652)][y(633)][y(1909)]=function(t,e){var r=y;null!=e&&(e=jspb.arith[r(1819)].fromString(e),this.writeFieldHeader_(t,jspb[r(1003)].WireType[r(1240)]),this[r(856)][r(2111)](e.lo,e.hi))},jspb.BinaryWriter[y(633)].writeFloat=function(t,e){var r=y;null!=e&&(this[r(1848)](t,jspb[r(1003)][r(1893)][r(1202)]),this[r(856)][r(831)](e))},jspb[y(652)][y(633)].writeDouble=function(t,e){var r=y;null!=e&&(this[r(1848)](t,jspb[r(1003)][r(1893)][r(1240)]),this[r(856)][r(1613)](e))},jspb.BinaryWriter.prototype[y(1569)]=function(t,e){var r=y;null!=e&&(goog[r(2100)][r(1807)](r(642)===typeof e||r(884)===typeof e),this[r(1848)](t,jspb[r(1003)].WireType[r(1547)]),this[r(856)][r(1569)](e))},jspb[y(652)][y(633)].writeEnum=function(t,e){var r=y;null!=e&&(goog.asserts[r(1807)](e>=-jspb.BinaryConstants[r(1358)]&&e<jspb[r(1003)][r(1358)]),this[r(1848)](t,jspb[r(1003)][r(1893)][r(1547)]),this[r(856)][r(1356)](e))},jspb[y(652)][y(633)][y(859)]=function(t,e){var r=y;null!=e&&(t=this.beginDelimited_(t),this[r(856)][r(859)](e),this[r(1717)](t))},jspb[y(652)].prototype[y(1184)]=function(t,e){var r=y;null!=e&&(e=jspb[r(696)][r(1944)](e),this[r(1848)](t,jspb[r(1003)][r(1893)].DELIMITED),this.encoder_[r(1849)](e[r(2130)]),this[r(947)](e))},jspb[y(652)].prototype[y(1180)]=function(t,e,r){var i=y;null!=e&&(t=this[i(2067)](t),r(e,this),this[i(1717)](t))},jspb[y(652)][y(633)].writeMessageSet=function(t,e,r){var i=y;null!=e&&(this[i(1848)](1,jspb[i(1003)].WireType.START_GROUP),this[i(1848)](2,jspb.BinaryConstants[i(1893)][i(1547)]),this.encoder_[i(1356)](t),t=this[i(2067)](3),r(e,this),this[i(1717)](t),this[i(1848)](1,jspb.BinaryConstants[i(1893)][i(1830)]))},jspb.BinaryWriter.prototype[y(1303)]=function(t,e,r){var i=y;null!=e&&(this.writeFieldHeader_(t,jspb[i(1003)][i(1893)][i(2048)]),r(e,this),this[i(1848)](t,jspb[i(1003)][i(1893)][i(1830)]))},jspb[y(652)][y(633)][y(1288)]=function(t,e){var r=y;null!=e&&(goog[r(2100)][r(1807)](8==e.length),this[r(1848)](t,jspb[r(1003)].WireType.FIXED64),this[r(856)].writeFixedHash64(e))},jspb[y(652)][y(633)].writeVarintHash64=function(t,e){var r=y;null!=e&&(goog.asserts[r(1807)](8==e.length),this.writeFieldHeader_(t,jspb.BinaryConstants[r(1893)][r(1547)]),this[r(856)].writeVarintHash64(e))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(t,e,r){var i=y;this[i(1848)](t,jspb[i(1003)][i(1893)].FIXED64),this.encoder_[i(2111)](e,r)},jspb.BinaryWriter[y(633)][y(1232)]=function(t,e,r){var i=y;this.writeFieldHeader_(t,jspb[i(1003)][i(1893)].VARINT),this[i(856)][i(1232)](e,r)},jspb[y(652)][y(633)][y(2024)]=function(t,e,r){var i=y;this.writeFieldHeader_(t,jspb[i(1003)].WireType[i(1547)]);var n=this.encoder_;jspb[i(696)][i(1215)](e,r,(function(t,e){n[i(1232)](t>>>0,e>>>0)}))},jspb[y(652)][y(633)].writeRepeatedInt32=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this.writeSignedVarint32_(t,e[i])},jspb[y(652)][y(633)][y(1120)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e.length;i++)this[r(570)](t,e[i])},jspb[y(652)][y(633)][y(1765)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this.writeSignedVarint64_(t,e[i])},jspb[y(652)][y(633)][y(2055)]=function(t,e,r,i){if(null!=e)for(var n=0;n<e.length;n++)this.writeSplitFixed64(t,r(e[n]),i(e[n]))},jspb[y(652)].prototype[y(1872)]=function(t,e,r,i){var n=y;if(null!=e)for(var s=0;s<e[n(2130)];s++)this[n(1232)](t,r(e[s]),i(e[s]))},jspb[y(652)][y(633)][y(1260)]=function(t,e,r,i){var n=y;if(null!=e)for(var s=0;s<e.length;s++)this[n(2024)](t,r(e[s]),i(e[s]))},jspb[y(652)].prototype.writeRepeatedInt64String=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this.writeInt64String(t,e[i])},jspb.BinaryWriter[y(633)][y(1380)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this.writeUnsignedVarint32_(t,e[i])},jspb[y(652)][y(633)][y(2175)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e.length;i++)this[r(950)](t,e[i])},jspb[y(652)].prototype[y(1693)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e.length;i++)this[r(1751)](t,e[i])},jspb.BinaryWriter[y(633)][y(1995)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e.length;i++)this[r(1615)](t,e[i])},jspb[y(652)][y(633)].writeRepeatedSint32=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this[r(972)](t,e[i])},jspb[y(652)][y(633)].writeRepeatedSint64=function(t,e){var r=y;if(null!=e)for(var i=0;i<e.length;i++)this[r(1563)](t,e[i])},jspb.BinaryWriter[y(633)].writeRepeatedSint64String=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this[r(538)](t,e[i])},jspb[y(652)][y(633)][y(1244)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this.writeZigzagVarintHash64_(t,e[i])},jspb[y(652)].prototype[y(1573)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this[r(1873)](t,e[i])},jspb[y(652)][y(633)][y(676)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this.writeFixed64(t,e[i])},jspb[y(652)][y(633)][y(762)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this[r(765)](t,e[i])},jspb[y(652)][y(633)].writeRepeatedSfixed32=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this[r(1673)](t,e[i])},jspb[y(652)][y(633)][y(1629)]=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeSfixed64(t,e[r])},jspb[y(652)].prototype[y(1206)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this[r(1909)](t,e[i])},jspb[y(652)].prototype[y(2094)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this[r(831)](t,e[i])},jspb.BinaryWriter[y(633)][y(743)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this[r(1613)](t,e[i])},jspb[y(652)][y(633)][y(2044)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this[r(1569)](t,e[i])},jspb[y(652)][y(633)][y(770)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this[r(1031)](t,e[i])},jspb[y(652)][y(633)][y(1466)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this[r(859)](t,e[i])},jspb[y(652)][y(633)].writeRepeatedBytes=function(t,e){if(null!=e)for(var r=0;r<e.length;r++)this.writeBytes(t,e[r])},jspb[y(652)].prototype[y(628)]=function(t,e,r){var i=y;if(null!=e)for(var n=0;n<e[i(2130)];n++){var s=this.beginDelimited_(t);r(e[n],this),this.endDelimited_(s)}},jspb.BinaryWriter[y(633)][y(674)]=function(t,e,r){var i=y;if(null!=e)for(var n=0;n<e[i(2130)];n++)this[i(1848)](t,jspb[i(1003)][i(1893)][i(2048)]),r(e[n],this),this[i(1848)](t,jspb.BinaryConstants[i(1893)].END_GROUP)},jspb.BinaryWriter[y(633)][y(776)]=function(t,e){var r=y;if(null!=e)for(var i=0;i<e.length;i++)this[r(1288)](t,e[i])},jspb[y(652)][y(633)].writeRepeatedVarintHash64=function(t,e){var r=y;if(null!=e)for(var i=0;i<e[r(2130)];i++)this.writeVarintHash64(t,e[i])},jspb[y(652)][y(633)][y(1444)]=function(t,e){var r=y;if(null!=e&&e[r(2130)]){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++)this[r(856)][r(1356)](e[i]);this.endDelimited_(t)}},jspb[y(652)][y(633)][y(549)]=function(t,e){var r=y;if(null!=e&&e[r(2130)]){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++)this[r(856)].writeSignedVarint32(parseInt(e[i],10));this[r(1717)](t)}},jspb.BinaryWriter[y(633)][y(1264)]=function(t,e){var r=y;if(null!=e&&e[r(2130)]){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++)this.encoder_[r(1696)](e[i]);this[r(1717)](t)}},jspb[y(652)][y(633)][y(955)]=function(t,e,r,i){var n=y;if(null!=e){t=this[n(2067)](t);for(var s=0;s<e[n(2130)];s++)this.encoder_.writeSplitFixed64(r(e[s]),i(e[s]));this[n(1717)](t)}},jspb[y(652)][y(633)][y(2161)]=function(t,e,r,i){var n=y;if(null!=e){t=this[n(2067)](t);for(var s=0;s<e[n(2130)];s++)this[n(856)][n(1232)](r(e[s]),i(e[s]));this[n(1717)](t)}},jspb[y(652)][y(633)][y(869)]=function(t,e,r,i){var n=y;if(null!=e){t=this.beginDelimited_(t);for(var s=this[n(856)],o=0;o<e[n(2130)];o++)jspb[n(696)][n(1215)](r(e[o]),i(e[o]),(function(t,e){s.writeSplitVarint64(t>>>0,e>>>0)}));this.endDelimited_(t)}},jspb[y(652)][y(633)][y(1712)]=function(t,e){var r=y;if(null!=e&&e[r(2130)]){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++){var n=jspb[r(1006)][r(1819)][r(502)](e[i]);this[r(856)][r(1232)](n.lo,n.hi)}this[r(1717)](t)}},jspb[y(652)][y(633)][y(577)]=function(t,e){var r=y;if(null!=e&&e[r(2130)]){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++)this.encoder_[r(1849)](e[i]);this.endDelimited_(t)}},jspb[y(652)].prototype[y(2058)]=function(t,e){var r=y;if(null!=e&&e[r(2130)]){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++)this.encoder_.writeUnsignedVarint32(parseInt(e[i],10));this[r(1717)](t)}},jspb[y(652)][y(633)][y(1535)]=function(t,e){var r=y;if(null!=e&&e[r(2130)]){t=this.beginDelimited_(t);for(var i=0;i<e[r(2130)];i++)this[r(856)][r(826)](e[i]);this[r(1717)](t)}},jspb[y(652)][y(633)][y(729)]=function(t,e){var r=y;if(null!=e&&e[r(2130)]){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++){var n=jspb[r(1006)][r(1829)][r(502)](e[i]);this[r(856)][r(1232)](n.lo,n.hi)}this[r(1717)](t)}},jspb[y(652)][y(633)][y(2004)]=function(t,e){var r=y;if(null!=e&&e.length){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++)this[r(856)].writeZigzagVarint32(e[i]);this[r(1717)](t)}},jspb[y(652)].prototype[y(1430)]=function(t,e){var r=y;if(null!=e&&e.length){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++)this.encoder_[r(1103)](e[i]);this[r(1717)](t)}},jspb[y(652)][y(633)][y(1492)]=function(t,e){var r=y;if(null!=e&&e[r(2130)]){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++)this[r(856)][r(583)](jspb[r(696)].decimalStringToHash64(e[i]));this[r(1717)](t)}},jspb[y(652)].prototype[y(1227)]=function(t,e){var r=y;if(null!=e&&e.length){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++)this.encoder_[r(583)](e[i]);this.endDelimited_(t)}},jspb[y(652)][y(633)].writePackedFixed32=function(t,e){var r=y;if(null!=e&&e[r(2130)])for(this[r(1848)](t,jspb.BinaryConstants.WireType[r(1892)]),this[r(856)][r(1849)](4*e[r(2130)]),t=0;t<e[r(2130)];t++)this[r(856)].writeUint32(e[t])},jspb[y(652)][y(633)].writePackedFixed64=function(t,e){var r=y;if(null!=e&&e[r(2130)])for(this[r(1848)](t,jspb.BinaryConstants[r(1893)][r(1892)]),this[r(856)][r(1849)](8*e.length),t=0;t<e.length;t++)this[r(856)].writeUint64(e[t])},jspb[y(652)][y(633)].writePackedFixed64String=function(t,e){var r=y;if(null!=e&&e.length)for(this[r(1848)](t,jspb[r(1003)][r(1893)][r(1892)]),this[r(856)][r(1849)](8*e[r(2130)]),t=0;t<e[r(2130)];t++){var i=jspb.arith.UInt64[r(502)](e[t]);this[r(856)][r(2111)](i.lo,i.hi)}},jspb.BinaryWriter.prototype[y(1437)]=function(t,e){var r=y;if(null!=e&&e[r(2130)])for(this[r(1848)](t,jspb[r(1003)][r(1893)][r(1892)]),this[r(856)].writeUnsignedVarint32(4*e[r(2130)]),t=0;t<e[r(2130)];t++)this[r(856)][r(1396)](e[t])},jspb.BinaryWriter[y(633)][y(1217)]=function(t,e){var r=y;if(null!=e&&e.length)for(this[r(1848)](t,jspb[r(1003)][r(1893)][r(1892)]),this[r(856)].writeUnsignedVarint32(8*e[r(2130)]),t=0;t<e[r(2130)];t++)this[r(856)][r(1168)](e[t])},jspb[y(652)][y(633)][y(1067)]=function(t,e){var r=y;if(null!=e&&e[r(2130)])for(this[r(1848)](t,jspb.BinaryConstants[r(1893)][r(1892)]),this.encoder_[r(1849)](8*e[r(2130)]),t=0;t<e[r(2130)];t++)this[r(856)][r(1364)](e[t])},jspb[y(652)][y(633)][y(1159)]=function(t,e){var r=y;if(null!=e&&e[r(2130)])for(this.writeFieldHeader_(t,jspb[r(1003)][r(1893)][r(1892)]),this[r(856)][r(1849)](4*e[r(2130)]),t=0;t<e[r(2130)];t++)this[r(856)][r(831)](e[t])},jspb[y(652)][y(633)][y(614)]=function(t,e){var r=y;if(null!=e&&e[r(2130)])for(this[r(1848)](t,jspb.BinaryConstants[r(1893)].DELIMITED),this.encoder_[r(1849)](8*e[r(2130)]),t=0;t<e[r(2130)];t++)this[r(856)][r(1613)](e[t])},jspb.BinaryWriter[y(633)][y(1282)]=function(t,e){var r=y;if(null!=e&&e.length)for(this.writeFieldHeader_(t,jspb[r(1003)][r(1893)][r(1892)]),this[r(856)][r(1849)](e[r(2130)]),t=0;t<e[r(2130)];t++)this[r(856)][r(1569)](e[t])},jspb.BinaryWriter[y(633)][y(1932)]=function(t,e){var r=y;if(null!=e&&e.length){t=this.beginDelimited_(t);for(var i=0;i<e.length;i++)this.encoder_[r(1031)](e[i]);this[r(1717)](t)}},jspb.BinaryWriter.prototype[y(2182)]=function(t,e){var r=y;if(null!=e&&e.length)for(this[r(1848)](t,jspb.BinaryConstants.WireType[r(1892)]),this[r(856)][r(1849)](8*e.length),t=0;t<e[r(2130)];t++)this[r(856)][r(1288)](e[t])},jspb.BinaryWriter[y(633)][y(1570)]=function(t,e){var r=y;if(null!=e&&e.length){t=this[r(2067)](t);for(var i=0;i<e[r(2130)];i++)this[r(856)].writeVarintHash64(e[i]);this.endDelimited_(t)}},jspb.Export={},exports$1[y(1611)]=jspb.Map,exports$1.Message=jspb.Message,exports$1.BinaryReader=jspb[y(1649)],exports$1.BinaryWriter=jspb[y(652)],exports$1[y(850)]=jspb[y(850)],exports$1[y(1755)]=jspb[y(1755)],exports$1.exportSymbol=goog[y(565)],exports$1.inherits=goog.inherits,exports$1[y(1004)]={extend:goog.object[y(658)]},exports$1.typeOf=goog[y(906)];var a$8=["setFillMode","setIndex","177voETxJ","1018542kxNmKv","getFillMode","setLayersList","getATexturecoord_asU8","bytesAsB64","addToRepeatedWrapperField","setCount","setOpacity","getFeaturesList","getLayersList","isEndGroup","addLabels","getAPosition","getATexturecoord_asB64","setRepeatedWrapperField","skipField","serializeBinaryToWriter","displayName","DEBUG","writeRepeatedMessage","BinaryWriter","getANomal_asU8","setWeight","setTextureList","deserializeBinaryFromReader","getWeight","readInt32","115IkJKgO","128877bOiMxg","Feature","setLabeltextureresultstr","addLayers","getTextureIndex","getAPositionl","106KPaLha","getGradualChange","proto.HvtBTileParser","bytesAsU8","proto.HvtBTileParser.LabelParser","GENERATE_TO_OBJECT","getFieldNumber","setColor","setATexturecoord","writeRepeatedString","getAPositionl_asB64","6269eNKJyF","addTexture","prototype","length","setANomal","setTextureIndex","getAPosition_asB64","setType","getName","Message","getColor","getAPositionl_asU8","setName","1VcSjuQ","1289609hVAMgX","writeBytes","proto.HvtBTileParser.Feature","addFeatures","getTriangleCount","getIndex_asB64","getFieldWithDefault","getLabeltextureresultstr","Fill_Mode","getOpacity","toObject","getAPosition_asU8","getResultBuffer","getTextureList","getIndex_asU8","toObjectList","deserializeBinary","LabelParser","setAPositionl","setProto3EnumField","writeInt32","getRepeatedWrapperField","getRepeatedField","Layer","exportSymbol","readMessage","extend","getType","189791KqtIvf","nextField","setFeaturesList","repeatedFields_","setProto3IntField","setLabelsList","proto.HvtBTileParser.Layer.Fill_Mode","BinaryReader","setGradualChange","getATexturecoord","29246tkyKpx","setTriangleCount","getANomal_asB64","getIndex","writeString","initialize","setProto3StringField","2971EThBzC","getLabelsList","getANomal","$jspbMessageInstance","clearLabelsList","setProto3BytesField","proto.HvtBTileParser.Layer","serializeBinary","addToRepeatedField","inherits","readBytes","7ikQWTs","readString","HvtBTileParser","object","getCount"],i$1=b$8;!function(t,e){for(var r=b$8;;)try{if(830260===-parseInt(r(356))+parseInt(r(454))*-parseInt(r(401))-parseInt(r(420))+-parseInt(r(342))*parseInt(r(419))+-parseInt(r(384))*-parseInt(r(412))+parseInt(r(355))*-parseInt(r(448))+parseInt(r(447))*parseInt(r(394)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$8);const proto={};function b$8(t,e){return a$8[t-=341]}goog.exportSymbol(i$1(456),null,global),goog[i$1(380)](i$1(358),null,global),goog.exportSymbol(i$1(458),null,global),goog.exportSymbol(i$1(407),null,global),goog[i$1(380)](i$1(390),null,global),proto[i$1(414)]=function(t){var e=i$1;jspb[e(351)][e(399)](this,t,0,-1,proto.HvtBTileParser[e(387)],null)},goog.inherits(proto.HvtBTileParser,jspb[i$1(351)]),goog[i$1(438)]&&!COMPILED&&(proto[i$1(414)][i$1(437)]=i$1(456)),proto[i$1(414)][i$1(387)]=[1,2],jspb[i$1(351)][i$1(459)]&&(proto.HvtBTileParser[i$1(344)].toObject=function(t){var e=i$1;return proto[e(414)][e(366)](t,this)},proto.HvtBTileParser[i$1(366)]=function(t,e){var r=i$1,i={layersList:jspb.Message[r(371)](e[r(429)](),proto[r(414)][r(379)][r(366)],t),labelsList:jspb[r(351)][r(371)](e[r(402)](),proto.HvtBTileParser[r(373)][r(366)],t)};return t&&(i[r(404)]=e),i}),proto.HvtBTileParser[i$1(372)]=function(t){var e=i$1,r=new(jspb[e(391)])(t),i=new(proto[e(414)]);return proto[e(414)][e(444)](i,r)},proto[i$1(414)][i$1(444)]=function(t,e){for(var r=i$1;e[r(385)]()&&!e[r(430)]();){switch(e[r(460)]()){case 1:var i=new(proto[r(414)][r(379)]);e[r(381)](i,proto.HvtBTileParser.Layer[r(444)]),t[r(451)](i);break;case 2:i=new(proto[r(414)][r(373)]);e[r(381)](i,proto[r(414)][r(373)][r(444)]),t[r(431)](i);break;default:e[r(435)]()}}return t},proto[i$1(414)][i$1(344)][i$1(408)]=function(){var t=i$1,e=new jspb.BinaryWriter;return proto[t(414)].serializeBinaryToWriter(this,e),e[t(368)]()},proto[i$1(414)][i$1(436)]=function(t,e){var r=i$1,i=void 0;(i=t[r(429)]())[r(345)]>0&&e[r(439)](1,i,proto[r(414)][r(379)].serializeBinaryToWriter),(i=t[r(402)]()).length>0&&e[r(439)](2,i,proto[r(414)].LabelParser[r(436)])},proto[i$1(414)][i$1(373)]=function(t){var e=i$1;jspb[e(351)][e(399)](this,t,0,-1,null,null)},goog.inherits(proto[i$1(414)][i$1(373)],jspb.Message),goog[i$1(438)]&&!COMPILED&&(proto[i$1(414)][i$1(373)][i$1(437)]=i$1(458)),jspb[i$1(351)][i$1(459)]&&(proto[i$1(414)][i$1(373)][i$1(344)][i$1(366)]=function(t){var e=i$1;return proto[e(414)][e(373)][e(366)](t,this)},proto.HvtBTileParser[i$1(373)].toObject=function(t,e){var r=i$1,i={labeltextureresultstr:jspb[r(351)].getFieldWithDefault(e,1,"")};return t&&(i[r(404)]=e),i}),proto[i$1(414)].LabelParser[i$1(372)]=function(t){var e=i$1,r=new(jspb[e(391)])(t),i=new proto.HvtBTileParser.LabelParser;return proto[e(414)][e(373)][e(444)](i,r)},proto.HvtBTileParser.LabelParser[i$1(444)]=function(t,e){for(var r=i$1;e[r(385)]()&&!e.isEndGroup();){switch(e[r(460)]()){case 1:var i=e[r(413)]();t[r(450)](i);break;default:e.skipField()}}return t},proto.HvtBTileParser[i$1(373)].prototype[i$1(408)]=function(){var t=i$1,e=new(jspb[t(440)]);return proto.HvtBTileParser[t(373)].serializeBinaryToWriter(this,e),e[t(368)]()},proto[i$1(414)][i$1(373)].serializeBinaryToWriter=function(t,e){var r,i=i$1;(r=t[i(363)]())[i(345)]>0&&e[i(398)](1,r)},proto[i$1(414)][i$1(373)].prototype[i$1(363)]=function(){var t=i$1;return jspb.Message[t(362)](this,1,"")},proto[i$1(414)][i$1(373)][i$1(344)][i$1(450)]=function(t){var e=i$1;jspb[e(351)][e(400)](this,1,t)},proto.HvtBTileParser[i$1(379)]=function(t){var e=i$1;jspb.Message[e(399)](this,t,0,-1,proto.HvtBTileParser[e(379)][e(387)],null)},goog[i$1(410)](proto[i$1(414)][i$1(379)],jspb[i$1(351)]),goog[i$1(438)]&&!COMPILED&&(proto[i$1(414)][i$1(379)][i$1(437)]=i$1(407)),proto[i$1(414)][i$1(379)].repeatedFields_=[4,7],jspb[i$1(351)][i$1(459)]&&(proto.HvtBTileParser[i$1(379)][i$1(344)][i$1(366)]=function(t){var e=i$1;return proto.HvtBTileParser[e(379)][e(366)](t,this)},proto[i$1(414)].Layer.toObject=function(t,e){var r=i$1,i={type:jspb[r(351)].getFieldWithDefault(e,1,0),weight:jspb[r(351)].getFieldWithDefault(e,2,0),name:jspb[r(351)][r(362)](e,3,""),featuresList:jspb[r(351)][r(371)](e[r(428)](),proto[r(414)][r(449)].toObject,t),opacity:jspb.Message.getFieldWithDefault(e,5,0),fillMode:jspb.Message[r(362)](e,6,0),textureList:jspb[r(351)][r(378)](e,7),color:jspb[r(351)][r(362)](e,8,""),gradualChange:jspb[r(351)][r(362)](e,9,"")};return t&&(i.$jspbMessageInstance=e),i}),proto.HvtBTileParser[i$1(379)][i$1(372)]=function(t){var e=i$1,r=new(jspb[e(391)])(t),i=new(proto[e(414)].Layer);return proto[e(414)].Layer[e(444)](i,r)},proto[i$1(414)][i$1(379)][i$1(444)]=function(t,e){for(var r=i$1;e[r(385)]()&&!e[r(430)]();){switch(e.getFieldNumber()){case 1:var i=e[r(446)]();t[r(349)](i);break;case 2:i=e[r(446)]();t[r(442)](i);break;case 3:i=e[r(413)]();t[r(354)](i);break;case 4:i=new proto.HvtBTileParser.Feature;e.readMessage(i,proto[r(414)][r(449)][r(444)]),t[r(359)](i);break;case 5:i=e[r(446)]();t[r(427)](i);break;case 6:i=e.readEnum();t[r(417)](i);break;case 7:i=e[r(413)]();t.addTexture(i);break;case 8:i=e[r(413)]();t[r(461)](i);break;case 9:i=e[r(413)]();t.setGradualChange(i);break;default:e[r(435)]()}}return t},proto.HvtBTileParser[i$1(379)][i$1(344)].serializeBinary=function(){var t=i$1,e=new(jspb[t(440)]);return proto[t(414)][t(379)][t(436)](this,e),e.getResultBuffer()},proto[i$1(414)][i$1(379)][i$1(436)]=function(t,e){var r=i$1,i=void 0;0!==(i=t[r(383)]())&&e[r(376)](1,i),0!==(i=t[r(445)]())&&e[r(376)](2,i),(i=t.getName())[r(345)]>0&&e[r(398)](3,i),(i=t[r(428)]())[r(345)]>0&&e[r(439)](4,i,proto[r(414)][r(449)][r(436)]),0!==(i=t[r(365)]())&&e[r(376)](5,i),0!==(i=t.getFillMode())&&e.writeEnum(6,i),(i=t.getTextureList())[r(345)]>0&&e[r(463)](7,i),(i=t.getColor()).length>0&&e[r(398)](8,i),(i=t.getGradualChange()).length>0&&e[r(398)](9,i)},proto[i$1(414)][i$1(379)][i$1(364)]={COLOR_MODE:0,TEXTURE_MODE:1,GRADUAL_CHANGE_MODE:2,NOISE_MODE:3,OTHER:4},proto[i$1(414)][i$1(379)][i$1(344)][i$1(383)]=function(){return jspb.Message.getFieldWithDefault(this,1,0)},proto[i$1(414)].Layer[i$1(344)][i$1(349)]=function(t){var e=i$1;jspb[e(351)][e(388)](this,1,t)},proto.HvtBTileParser[i$1(379)][i$1(344)][i$1(445)]=function(){var t=i$1;return jspb.Message[t(362)](this,2,0)},proto[i$1(414)][i$1(379)][i$1(344)][i$1(442)]=function(t){var e=i$1;jspb.Message[e(388)](this,2,t)},proto[i$1(414)][i$1(379)].prototype[i$1(350)]=function(){var t=i$1;return jspb[t(351)][t(362)](this,3,"")},proto.HvtBTileParser[i$1(379)].prototype[i$1(354)]=function(t){jspb.Message.setProto3StringField(this,3,t)},proto.HvtBTileParser[i$1(379)][i$1(344)].getFeaturesList=function(){var t=i$1;return jspb[t(351)][t(377)](this,proto[t(414)][t(449)],4)},proto[i$1(414)].Layer.prototype[i$1(386)]=function(t){var e=i$1;jspb[e(351)][e(434)](this,4,t)},proto.HvtBTileParser.Layer[i$1(344)][i$1(359)]=function(t,e){var r=i$1;return jspb[r(351)][r(425)](this,4,t,proto[r(414)].Feature,e)},proto[i$1(414)][i$1(379)][i$1(344)].clearFeaturesList=function(){this[i$1(386)]([])},proto[i$1(414)][i$1(379)][i$1(344)].getOpacity=function(){var t=i$1;return jspb.Message[t(362)](this,5,0)},proto.HvtBTileParser[i$1(379)][i$1(344)][i$1(427)]=function(t){var e=i$1;jspb[e(351)][e(388)](this,5,t)},proto[i$1(414)][i$1(379)][i$1(344)][i$1(421)]=function(){var t=i$1;return jspb[t(351)][t(362)](this,6,0)},proto.HvtBTileParser[i$1(379)][i$1(344)][i$1(417)]=function(t){var e=i$1;jspb[e(351)][e(375)](this,6,t)},proto[i$1(414)][i$1(379)][i$1(344)][i$1(369)]=function(){var t=i$1;return jspb[t(351)][t(378)](this,7)},proto.HvtBTileParser[i$1(379)][i$1(344)][i$1(443)]=function(t){jspb[i$1(351)].setField(this,7,t||[])},proto[i$1(414)].Layer[i$1(344)][i$1(343)]=function(t,e){var r=i$1;jspb.Message[r(409)](this,7,t,e)},proto[i$1(414)][i$1(379)][i$1(344)].clearTextureList=function(){this[i$1(443)]([])},proto[i$1(414)][i$1(379)][i$1(344)][i$1(352)]=function(){var t=i$1;return jspb[t(351)][t(362)](this,8,"")},proto[i$1(414)][i$1(379)].prototype[i$1(461)]=function(t){var e=i$1;jspb[e(351)][e(400)](this,8,t)},proto[i$1(414)][i$1(379)][i$1(344)][i$1(455)]=function(){var t=i$1;return jspb[t(351)][t(362)](this,9,"")},proto[i$1(414)][i$1(379)][i$1(344)][i$1(392)]=function(t){var e=i$1;jspb[e(351)][e(400)](this,9,t)},proto[i$1(414)][i$1(449)]=function(t){var e=i$1;jspb[e(351)][e(399)](this,t,0,-1,null,null)},goog[i$1(410)](proto.HvtBTileParser[i$1(449)],jspb[i$1(351)]),goog[i$1(438)]&&!COMPILED&&(proto.HvtBTileParser[i$1(449)][i$1(437)]="proto.HvtBTileParser.Feature"),jspb[i$1(351)].GENERATE_TO_OBJECT&&(proto[i$1(414)][i$1(449)][i$1(344)][i$1(366)]=function(t){var e=i$1;return proto[e(414)][e(449)][e(366)](t,this)},proto[i$1(414)][i$1(449)].toObject=function(t,e){var r=i$1,i={index:e[r(361)](),count:jspb[r(351)][r(362)](e,2,0),triangleCount:jspb[r(351)][r(362)](e,3,0),aPosition:e[r(348)](),aPositionl:e[r(341)](),aTexturecoord:e[r(433)](),aNomal:e.getANomal_asB64(),textureIndex:jspb[r(351)][r(362)](e,8,0)};return t&&(i[r(404)]=e),i}),proto[i$1(414)].Feature.deserializeBinary=function(t){var e=i$1,r=new(jspb[e(391)])(t),i=new(proto[e(414)][e(449)]);return proto.HvtBTileParser[e(449)][e(444)](i,r)},proto[i$1(414)][i$1(449)][i$1(444)]=function(t,e){for(var r=i$1;e[r(385)]()&&!e[r(430)]();){switch(e[r(460)]()){case 1:var i=e[r(411)]();t[r(418)](i);break;case 2:i=e[r(446)]();t[r(426)](i);break;case 3:i=e[r(446)]();t[r(395)](i);break;case 4:i=e[r(411)]();t.setAPosition(i);break;case 5:i=e[r(411)]();t[r(374)](i);break;case 6:i=e[r(411)]();t[r(462)](i);break;case 7:i=e[r(411)]();t.setANomal(i);break;case 8:i=e[r(446)]();t.setTextureIndex(i);break;default:e[r(435)]()}}return t},proto[i$1(414)][i$1(449)][i$1(344)][i$1(408)]=function(){var t=i$1,e=new jspb.BinaryWriter;return proto[t(414)][t(449)][t(436)](this,e),e[t(368)]()},proto[i$1(414)].Feature[i$1(436)]=function(t,e){var r=i$1,i=void 0;(i=t[r(370)]()).length>0&&e[r(357)](1,i),0!==(i=t[r(416)]())&&e.writeInt32(2,i),0!==(i=t[r(360)]())&&e[r(376)](3,i),(i=t.getAPosition_asU8())[r(345)]>0&&e[r(357)](4,i),(i=t[r(353)]())[r(345)]>0&&e[r(357)](5,i),(i=t[r(423)]()).length>0&&e[r(357)](6,i),(i=t[r(441)]())[r(345)]>0&&e.writeBytes(7,i),0!==(i=t[r(452)]())&&e[r(376)](8,i)},proto.HvtBTileParser.Feature[i$1(344)][i$1(397)]=function(){return jspb.Message.getFieldWithDefault(this,1,"")},proto.HvtBTileParser[i$1(449)][i$1(344)][i$1(361)]=function(){var t=i$1;return jspb[t(351)][t(424)](this[t(397)]())},proto[i$1(414)][i$1(449)][i$1(344)][i$1(370)]=function(){var t=i$1;return jspb.Message[t(457)](this[t(397)]())},proto[i$1(414)].Feature[i$1(344)][i$1(418)]=function(t){var e=i$1;jspb.Message[e(406)](this,1,t)},proto[i$1(414)][i$1(449)][i$1(344)][i$1(416)]=function(){var t=i$1;return jspb[t(351)][t(362)](this,2,0)},proto[i$1(414)][i$1(449)][i$1(344)][i$1(426)]=function(t){jspb[i$1(351)].setProto3IntField(this,2,t)},proto[i$1(414)][i$1(449)][i$1(344)][i$1(360)]=function(){return jspb[i$1(351)].getFieldWithDefault(this,3,0)},proto[i$1(414)][i$1(449)][i$1(344)][i$1(395)]=function(t){jspb[i$1(351)].setProto3IntField(this,3,t)},proto[i$1(414)][i$1(449)][i$1(344)][i$1(432)]=function(){var t=i$1;return jspb[t(351)][t(362)](this,4,"")},proto[i$1(414)].Feature[i$1(344)].getAPosition_asB64=function(){var t=i$1;return jspb[t(351)].bytesAsB64(this[t(432)]())},proto[i$1(414)][i$1(449)].prototype[i$1(367)]=function(){var t=i$1;return jspb.Message[t(457)](this[t(432)]())},proto.HvtBTileParser[i$1(449)][i$1(344)].setAPosition=function(t){var e=i$1;jspb[e(351)][e(406)](this,4,t)},proto[i$1(414)].Feature[i$1(344)][i$1(453)]=function(){var t=i$1;return jspb[t(351)][t(362)](this,5,"")},proto[i$1(414)].Feature[i$1(344)].getAPositionl_asB64=function(){var t=i$1;return jspb.Message[t(424)](this[t(453)]())},proto.HvtBTileParser[i$1(449)].prototype[i$1(353)]=function(){var t=i$1;return jspb[t(351)][t(457)](this[t(453)]())},proto[i$1(414)][i$1(449)][i$1(344)][i$1(374)]=function(t){var e=i$1;jspb.Message[e(406)](this,5,t)},proto[i$1(414)][i$1(449)][i$1(344)][i$1(393)]=function(){return jspb[i$1(351)].getFieldWithDefault(this,6,"")},proto.HvtBTileParser[i$1(449)][i$1(344)][i$1(433)]=function(){var t=i$1;return jspb[t(351)].bytesAsB64(this[t(393)]())},proto[i$1(414)].Feature[i$1(344)].getATexturecoord_asU8=function(){var t=i$1;return jspb[t(351)][t(457)](this.getATexturecoord())},proto[i$1(414)][i$1(449)][i$1(344)][i$1(462)]=function(t){var e=i$1;jspb[e(351)][e(406)](this,6,t)},proto[i$1(414)][i$1(449)].prototype[i$1(403)]=function(){var t=i$1;return jspb[t(351)][t(362)](this,7,"")},proto[i$1(414)][i$1(449)][i$1(344)][i$1(396)]=function(){var t=i$1;return jspb[t(351)][t(424)](this.getANomal())},proto.HvtBTileParser[i$1(449)][i$1(344)].getANomal_asU8=function(){var t=i$1;return jspb[t(351)][t(457)](this[t(403)]())},proto[i$1(414)].Feature.prototype[i$1(346)]=function(t){jspb[i$1(351)].setProto3BytesField(this,7,t)},proto.HvtBTileParser[i$1(449)].prototype.getTextureIndex=function(){return jspb[i$1(351)].getFieldWithDefault(this,8,0)},proto[i$1(414)].Feature.prototype[i$1(347)]=function(t){var e=i$1;jspb[e(351)][e(388)](this,8,t)},proto[i$1(414)][i$1(344)][i$1(429)]=function(){var t=i$1;return jspb[t(351)].getRepeatedWrapperField(this,proto.HvtBTileParser[t(379)],1)},proto[i$1(414)][i$1(344)][i$1(422)]=function(t){var e=i$1;jspb[e(351)][e(434)](this,1,t)},proto[i$1(414)][i$1(344)][i$1(451)]=function(t,e){var r=i$1;return jspb[r(351)][r(425)](this,1,t,proto[r(414)][r(379)],e)},proto[i$1(414)][i$1(344)].clearLayersList=function(){this[i$1(422)]([])},proto.HvtBTileParser.prototype[i$1(402)]=function(){var t=i$1;return jspb[t(351)][t(377)](this,proto[t(414)][t(373)],2)},proto[i$1(414)][i$1(344)][i$1(389)]=function(t){var e=i$1;jspb[e(351)][e(434)](this,2,t)},proto.HvtBTileParser[i$1(344)].addLabels=function(t,e){var r=i$1;return jspb[r(351)][r(425)](this,2,t,proto[r(414)][r(373)],e)},proto[i$1(414)][i$1(344)][i$1(405)]=function(){this[i$1(389)]([])},goog[i$1(415)][i$1(382)](exports$1,proto);const a$7=["indexDb","catch","3LWnyDM","285986tubwXv","4EpvYpx","failed to load:","32374XvwZcv","error","arraybuffer","initIndexDb","open","388127dtNQJC","151967fJVuEK","parseData","28601DPjDGw","1adZKdz","then","474886CGYlOp","tile content error:","500403VWfhhw","fetchData","arrayBuffer","7exeHOf"],i=b$7;!function(t,e){const r=b$7;for(;;)try{if(257532===-parseInt(r(160))*parseInt(r(168))+parseInt(r(158))*parseInt(r(148))+parseInt(r(163))+-parseInt(r(157))+-parseInt(r(165))*parseInt(r(161))+parseInt(r(149))+-parseInt(r(150))*-parseInt(r(152)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$7);class TaskProcess{constructor(){this.indexDb={}}[i(155)](t,e){const r=i;let n=new DbHelper(t,e);n[r(156)](),this[r(169)][t]=n}[i(166)](t){return new Promise((function(e,r){const i=b$7;fetch(t,{method:"get",responseType:i(154)})[i(162)]((function(e){const n=i;if(e.ok)return e[n(167)]();console[n(153)](n(164)+t),r(n(164)+t)}))[i(162)]((function(t){t&&e(t)}))[i(147)]((function(r){const n=i;console[n(153)](n(151)+t),e(null)}))}))}async[i(159)](t){postMessage(t)}}function b$7(t,e){return a$7[t-=147]}const a$6=["initIndexDb","all","indexDb","fetchData","alreadyOpen","4uVqyjz","open","getGltf","60149XcqVzf","gltf","649091NNmBTw","write","111712nMsuir","8980vytwXH","77723pGufgG","9vzUQzo","parseData","parse3DtileGltf","images","TILES_3D","getModel","22512pjYXOT","destroy","53708xeMvZR"],r$1=b$6;function b$6(t,e){return a$6[t-=237]}!function(t,e){const r=b$6;for(;;)try{if(127170===parseInt(r(244))*-parseInt(r(247))+parseInt(r(260))*-parseInt(r(254))-parseInt(r(251))+parseInt(r(252))+parseInt(r(253))+-parseInt(r(238))+parseInt(r(249)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$6);class Tile3DTaskProcess extends TaskProcess{constructor(){const t=b$6;super(),this[t(239)](DbName[t(258)])}[r$1(242)](t){return super[r$1(242)](t)}async[r$1(255)](t,e){const r=r$1;if(!t)return;let{tileName:i,taskId:n}=e,s=new Batched3DModelContent(t,0),o=s[r(259)]()[r(246)](),a=new GLTF("3dtile0627");a[r(256)](o),await Promise[r(240)](o[r(257)]);let h=a.toJSON();!this.indexDb[DbName.TILES_3D][r(243)]&&await this.indexDb[DbName.TILES_3D][r(245)](),await this[r(241)][DbName[r(258)]][r(250)]({tileName:i,resData:h}),t=void 0;for(let t in h[r(248)])delete h[r(248)][t];for(let t in h)delete h[t];a[r(237)](),s[r(237)](),super[r(255)]({taskId:n})}}const a$5=["parseBuffer","attrLocation","939dMVdCS","896219TDqKUN","typedArray","parse","get","indexDb","parseData","5BLtGSr","vertexPackage","337fqOCMJ","push","_releaseData","tile content error:","12811GQNqXb","arrIndexPackage","256731hToagY","vertexAttributes","then","length","34481WHipoT","catch","index","arrayBuffer","byteOffset","14317mfVRGD","textureInfo","attrBuffer","failed to load:","typedArrayOpt","splitBuffer","218864NosYDu","textures","5tGSPgA","slice","material","arraybuffer","buffer","byteLength","datas","aColor","&sid","write","all","51xayLFw","fetchData","name","indicesTypedArray","ceil","S3M_BINARY","imageBuffer","vertexColor"],X=b$5;function b$5(t,e){return a$5[t-=108]}!function(t,e){const r=b$5;for(;;)try{if(502830===parseInt(r(117))+parseInt(r(147))*-parseInt(r(111))+-parseInt(r(140))*parseInt(r(149))+-parseInt(r(130))*parseInt(r(153))+parseInt(r(141))+parseInt(r(155))+parseInt(r(159))*parseInt(r(119)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$5);class S3MTaskProcess extends TaskProcess{constructor(){const t=b$5;super(),this.initIndexDb(DbName[t(135)])}[X(131)](t){const e=this,r=t;return new Promise((function(t,i){const n=b$5;fetch(r,{method:n(144),responseType:n(122)})[n(157)]((function(t){const r=n;if(t.ok)return t[r(109)]();i(r(152)+e.tileUrl)})).then((function(e){t(e)}))[n(160)]((function(e){const i=n;console.warn(i(114)+r),t(null)}))}))}async[X(146)](t,e){const r=X;if(!t)return;let{taskId:i,tileName:n,srid:s,userScale:o,tileMatrix:a}=e,h=(new S3ModelParser)[r(138)](t),l=new S3MContentParser({srid:s,userScale:o})[r(143)](new Matrix4(a),h);!this.indexDb[DbName[r(135)]].alreadyOpen&&await this.indexDb[DbName[r(135)]].open(),await this.insertIndexDb(n+r(127)+s,l),this[r(151)](l),super[r(146)]({taskId:i})}[X(151)](t){const e=X;for(let r of t){let t=r[e(125)];for(let r of t){let t=r.vertexPackage[e(156)];for(let r of t)r[e(142)]=null;let i=r[e(121)]&&r.material[e(118)];if(i)for(let t of i)t[e(112)]&&(t[e(112)][e(136)]=null);r[e(148)][e(137)];let n=r[e(154)];for(let t of n)t.indicesTypedArray=null}}}insertIndexDb(t,e){const r=X,i=[],n={attrBuffer:[]};let s=[];if(e&&e instanceof Array){let o;for(let t=0;t<e[r(158)];t++){let i=e[t],n=i[r(125)];for(let t of n){let e=t[r(148)],i=t[r(154)],n=t[r(121)],s=e[r(139)][r(126)],a=e[r(156)];for(let t=0;t<a[r(158)];t++){let e=a[t];t!=s&&(!o&&(o=e[r(142)].buffer),e[r(115)]={},e[r(115)][r(124)]=e[r(142)][r(124)],e[r(115)][r(110)]=e[r(142)][r(110)],e[r(115)][r(158)]=e.typedArray[r(158)],e.typedArray=null)}for(let t of i){let e=t[r(133)];t[r(115)]={},t[r(115)].byteLength=e[r(124)],t[r(115)][r(110)]=e.byteOffset,t[r(115)][r(158)]=e.length,t.indicesTypedArray=null}if(n){let t=n[r(118)];for(let e of t){let t=e[r(112)][r(136)];t&&(e.textureInfo[r(115)]={},e[r(112)][r(115)][r(124)]=t[r(124)],e[r(112)][r(115)][r(110)]=t.byteOffset,e.textureInfo.typedArrayOpt[r(158)]=t[r(158)],e[r(112)].imageBuffer=null)}}}i[r(113)]=o}let a=1024,h=100,l=[],c=o[r(124)],u=c/(a*a);if(u>h){let i=Math[r(134)](u/h);for(let e=0;e<i;e++){let n,s=e*h*a*a;n=e!=i-1?(e+1)*h*a*a:c,l[r(150)]({index:e,name:t+"AttrBuffer"+e,buffer:o[r(120)](s,n)})}e.splitBuffer=!0}else e[r(116)]=!1;if(e[r(116)])for(let t of e)t[r(113)]=null;if(l[r(158)]>0)for(let t of l){let e={bufferName:t[r(132)],buffer:t[r(123)],index:t[r(108)]};i[r(150)](this[r(145)][DbName[r(135)]][r(128)](e,1)),s.push(e),n[r(113)][r(150)](t[r(132)])}}return i[r(150)](this[r(145)][DbName[r(135)]][r(128)]({tileName:t,resData:e,bufferNames:n},0)),new Promise((function(t,n){const o=r;Promise[o(129)](i)[o(157)]((function(){t({resData:e,attrBuffers:s})}))}))}}const a$4=["cors","indexDb","164557XxEswt","arrayBuffer","Failed to fetch data: ","status","1fIevel","2557068rwCDgv","140932sKJdxp","63238jwrXHa","1493261mkvUqu","MVTLayer","read","parseData","GET","warn","initIndexDb","alreadyOpen","1oeLoAc","1704606cGFHBA","1509553eNZYFW","HIK_VECT","then","_releaseData"],r=b$4;function b$4(t,e){return a$4[t-=445]}!function(t,e){const r=b$4;for(;;)try{if(890133===-parseInt(r(462))+parseInt(r(461))+-parseInt(r(452))+-parseInt(r(448))*parseInt(r(468))+-parseInt(r(451))+parseInt(r(460))*-parseInt(r(450))+parseInt(r(449)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$4);class HVTTaskProcess extends TaskProcess{constructor(){const t=b$4;super(),this[t(458)](DbName[t(463)])}fetchData(t){return new Promise(((e,r)=>{const i=b$4;fetch(t,{mode:i(466),method:i(456)})[i(464)]((function(t){const e=i;if(200===t[e(447)])return t[e(445)]()}))[i(464)]((function(t){e(t||null)})).catch((function(r){const n=i;console[n(457)](n(446)+t),e(null)}))}))}async[r(455)](t,e){const i=r;if(!t)return;let n,{taskId:s,useIndexedDB:o,dbName:a,dataUrl:h,layerType:l}=e;n=l==i(453)?t:Hvt[i(454)](t),o&&(!this[i(467)][DbName.HIK_VECT][i(459)]&&await this.indexDb[DbName[i(463)]].open(),await this[i(467)][DbName[i(463)]].write({data:n,url:h},0)),super[i(455)]({data:n,taskId:s}),this[i(465)](n)}[r(465)](t){for(let e in t)delete t[e];t=null}}const a$3=["getLabelsList","ordinary_house_top","hexToRgba","getFillMode","slice","ordinary_house","readLayer","stuffPositionByIndex","_uint8ToInt32","122503JAwwRI","createColorArr","getAPositionl","read","getUint32","815624uioIoy","getTextureList","3581BkszMB","hex8ToRgba","getAttrsFromFeature","_tile","3PCGDxa","48227RnncjX","getType","getLabeltextureresultstr","buffer","getCount","getColor","assign","109CEfhEc","length","ordinary_house_side","getLayersList","getName","sliceFeature","81506zmEHye","getAPosition","181923ylpIDO","getOpacity","readLabel","getIndex","deserializeBinary","HvtBTileParser","push","createGradualColorArr","readFeaturesFromLayer","_buffer","951651YyKcfk","getTextureIndex","getANomal","23SxVkdp"],aC=b$3;function b$3(t,e){return a$3[t-=344]}!function(t,e){const r=b$3;for(;;)try{if(767963===-parseInt(r(380))*parseInt(r(392))+parseInt(r(378))+-parseInt(r(363))*-parseInt(r(385))+-parseInt(r(384))*-parseInt(r(348))+parseInt(r(373))+-parseInt(r(360))+-parseInt(r(350)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$3);class Hvtb{constructor(t){const e=b$3;this[e(359)]=t,this[e(383)]=proto[e(355)][e(354)](this._buffer)}[aC(376)](){const t=aC;return{layers:this[t(370)](),labels:this[t(352)]()}}readLayer(){const t=aC,e=this._tile[t(345)](),r=e[t(393)],i=[];for(let n=0;n<r;n++){const r=e[n],{features:s,featureSide:o,featureTop:a,name:h,textureList:l,fillMode:c,opacity:u,type:p,weight:f}=this[t(358)](r);h===t(369)&&o&&a?(i.push({name:t(344),fillMode:c,textureList:l,type:p,opacity:u,weight:f,features:o}),i[t(356)]({name:t(365),fillMode:c,textureList:l,type:p,opacity:u,weight:f,features:a})):i.push({name:h,fillMode:c,textureList:l,type:p,opacity:u,weight:f,features:s})}return i}[aC(358)](t){const e=aC,r=t[e(346)](),i=t.getFeaturesList(),n=i.length,s=t[e(379)](),o=t[e(367)](),a=t[e(351)](),h=t[e(386)](),l=t.getWeight();let c={};if(r===e(369))switch(o){case 0:{const r=this[e(366)](t[e(390)](),a),s=[];for(let t=0;t<n;t++){const n=i[t],{a_position:o,a_positionL:a,index:h,triangleCount:l,a_normal:c}=this[e(382)](n),u=h[e(393)],p=this.createColorArr(r,u),{position:f,positionL:g}=this.stuffPositionByIndex(o,a,h);s[e(356)]({a_position:f,a_positionL:g,a_color:p,index:h,triangleCount:l,a_normal:c})}c={features:s};break}case 1:if(1===s[e(393)]){const t=[];for(let r=0;r<n;r++){const n=i[r],{a_position:o,a_positionL:a,index:h,a_textureCoord:l,triangleCount:c,vertexCount:u,a_normal:p}=this[e(382)](n),{position:f,positionL:g}=this[e(371)](o,a,h);t[e(356)]({a_position:f,a_positionL:g,index:h,triangleCount:c,a_textureCoord:l,vertexCount:u,texture:s[0],a_normal:p})}c={features:t};break}{const t=[],r=[];for(let o=0;o<n;o++){const n=i[o],a=n[e(361)]()/8,h=this[e(347)](n,a,s);t[e(356)](h[0]),r[e(356)](h[1])}c={featureSide:t,featureTop:r};break}case 2:const r=this[e(366)](t.getColor(),a),o=this.hex8ToRgba(t.getGradualChange()),h=[];for(let t=0;t<n;t++){const n=i[t],{a_position:s,a_positionL:a,index:l,triangleCount:c,a_normal:u}=this[e(382)](n),p=this[e(357)](r,o,l),{position:f,positionL:g}=this[e(371)](s,a,l);h[e(356)]({a_position:f,a_positionL:g,a_color:p,index:l,triangleCount:c,a_normal:u})}c={features:h}}else switch(o){case 0:const r=this[e(366)](t[e(390)](),a),o=[];for(let t=0;t<n;t++){const n=i[t],{a_position:s,a_positionL:a,index:h,vertexCount:l,triangleCount:c}=this[e(382)](n),u=this[e(374)](r,l);o[e(356)]({a_position:s,a_positionL:a,a_color:u,index:h,vertexCount:l,triangleCount:c})}c={features:o};break;case 1:{const t=s[0],r=[];for(let s=0;s<n;s++){const n=i[s],{a_position:o,a_positionL:a,a_textureCoord:h,vertexCount:l,triangleCount:c,index:u}=this[e(382)](n);r[e(356)]({a_position:o,a_positionL:a,index:u,vertexCount:l,triangleCount:c,a_textureCoord:h,texture:t})}c={features:r};break}case 3:{const t=[];for(let r=0;r<n;r++){const n=i[r],{a_position:s,a_positionL:o,a_textureCoord:a,vertexCount:h,triangleCount:l,index:c}=this[e(382)](n);t[e(356)]({a_position:s,a_positionL:o,index:c,vertexCount:h,triangleCount:l,a_textureCoord:a})}c={features:t};break}}return Object[e(391)](c,{name:r,featureCount:n,textureList:s,fillMode:o,opacity:a,type:h,weight:l})}[aC(347)](t,e,r){const i=aC,n=[],{a_position:s,a_positionL:o,a_textureCoord:a,a_normal:h,vertexCount:l,index:c}=this.getAttrsFromFeature(t),{position:u,positionL:p}=this[i(371)](s,o,c),f=12*e,g=8*e;return n[i(356)]({a_position:u[i(368)](0,f),a_positionL:p[i(368)](0,f),vertexCount:e,a_textureCoord:a[i(368)](0,g),a_normal:h.slice(0,f),texture:r[0]}),n[i(356)]({a_position:u[i(368)](f),a_positionL:p.slice(f),vertexCount:l-e,a_textureCoord:a[i(368)](g),a_normal:h[i(368)](f),texture:r[1]}),n}readLabel(){const t=aC;return this[t(383)][t(364)]()[0][t(387)]()}hexToRgba(t,e){const r=aC;return[parseInt("0x"+t[r(368)](1,3)),parseInt("0x"+t[r(368)](3,5)),parseInt("0x"+t[r(368)](5,7)),e]}[aC(381)](t){const e=aC;return[parseInt("0x"+t.slice(1,3)),parseInt("0x"+t[e(368)](3,5)),parseInt("0x"+t[e(368)](5,7)),parseInt(t.split(",")[1])]}[aC(374)](t,e){const r=[];for(let i=0;i<e;i++)r.push(...t);return new Uint8Array(r)}createGradualColorArr(t,e,r){const i=aC,n=[],s=r[i(393)];for(let o=0;o<s;o++)r[o]%2==0?n[i(356)](...t):n[i(356)](...e);return new Uint8Array(n)}getAttrsFromFeature(t){const e=aC,r=t[e(349)]()[e(368)](),i=t[e(375)]()[e(368)](),n=t.getATexturecoord()[e(368)](),s=t[e(362)]()[e(368)](),o=t[e(389)](),a=t.getTriangleCount(),h=t[e(361)]();return{a_position:r,a_positionL:i,a_textureCoord:n,a_normal:s,vertexCount:o,triangleCount:a,index:t[e(353)]()&&this[e(372)](t[e(353)]()[e(368)]()),texture:h}}[aC(372)](t,e=!0){const r=aC;let i=new DataView(t[r(388)]);const n=t[r(393)],s=[];for(let t=0;t<n;t+=4)s[r(356)](i[r(377)](t,e));return s}stuffPositionByIndex(t,e,r){const i=aC,n=r[i(393)],s=[],o=[];for(let a=0;a<n;a++){const n=12*r[a],h=n+12;s[i(356)](...t.slice(n,h)),o[i(356)](...e[i(368)](n,h))}return{position:new Uint8Array(s),positionL:new Uint8Array(o)}}}const a$2=["catch","alreadyOpen","1180737sRHWPN","1486446STpMmM","parseData","fetchData","63194qgcdNN","read","1678856bzcShn","706804QfpWgA","Failed to fetch data: ","167348MPIwnc","arrayBuffer","open","indexDb","_releaseData","then","1347483nLFLde","HVTB","write","initIndexDb"],o=b$2;function b$2(t,e){return a$2[t-=485]}!function(t,e){const r=b$2;for(;;)try{if(785294===parseInt(r(497))+parseInt(r(503))+parseInt(r(489))+parseInt(r(495))+-parseInt(r(492))+-parseInt(r(488))+-parseInt(r(494)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$2);class HVTBTaskProcess extends TaskProcess{constructor(){const t=b$2;super(),this[t(485)](DbName[t(504)])}[o(491)](t){return new Promise(((e,r)=>{const i=b$2;fetch(t,{mode:"cors",method:"GET"})[i(502)]((function(t){const e=i;if(200===t.status)return t[e(498)]()}))[i(502)]((function(t){e(t||null)}))[i(486)]((function(r){const n=i;console.warn(n(496)+t),e(null)}))}))}async[o(490)](t,e){const r=o;if(!t)return;let i,{taskId:n,useIndexedDB:s,dbName:a,dataUrl:h,layerType:l}=e;i=new Hvtb(t)[r(493)](),s&&(!this[r(500)][DbName[r(504)]][r(487)]&&await this.indexDb[DbName[r(504)]][r(499)](),await this[r(500)][DbName[r(504)]][r(505)]({data:i,url:h},0)),super[r(490)]({data:i,taskId:n}),this[r(501)](i)}[o(501)](t){for(let e in t)delete t[e];t=null}}const a$1=["initIndexDb","then","310868okvJpM","7kkdfwX","parseData","_releaseData","329858jIYSAA","cors","status","fetchData","12011jKhabQ","GET","21cBylYu","222873iOJFsx","69707VHmxuj","HVTB","11CPMfdT","1094pyDuIm","warn","write","alreadyOpen","4xTYORG","70027AeZNlN","GEOJSONTILE","5dTzHkD","indexDb","Failed to fetch data: ","216bSZkxO","catch"],n$1=b$1;function b$1(t,e){return a$1[t-=221]}!function(t,e){const r=b$1;for(;;)try{if(884302===parseInt(r(223))*-parseInt(r(242))-parseInt(r(233))+-parseInt(r(236))*-parseInt(r(230))+parseInt(r(237))*parseInt(r(247))+parseInt(r(226))*parseInt(r(241))+-parseInt(r(234))*-parseInt(r(232))+parseInt(r(222))*-parseInt(r(244)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a$1);class GJTTaskProcess extends TaskProcess{constructor(){const t=b$1;super(),this[t(249)](DbName[t(243)])}[n$1(229)](t){return new Promise(((e,r)=>{const i=b$1;fetch(t,{mode:i(227),method:i(231)})[i(221)]((function(t){if(200===t[i(228)])return t.json()}))[i(221)]((function(t){e(t||null)}))[i(248)]((function(r){const n=i;console[n(238)](n(246)+t),e(null)}))}))}async[n$1(224)](t,e){const r=n$1;if(!t)return;let{taskId:i,useIndexedDB:n,dbName:s,dataUrl:o,layerType:a}=e;n&&(!this[r(245)][DbName[r(235)]][r(240)]&&await this[r(245)][DbName[r(235)]].open(),await this.indexDb[DbName[r(235)]][r(239)]({data:t,url:o},0)),super.parseData({data:t,taskId:i}),this[r(225)](t)}[n$1(225)](t){for(let e in t)delete t[e];t=null}}const a=["3704KwykVa","_taskProcessObj","processTask","357778OjcKzP","110mjVpRF","11412FcnipR","519737JIJIoG","PROCESS_B3DM","_concurrency","1335959qDZDhl","544785SRgRET","3rTjMBJ","_taskStack","PROCESS_HVTB","2REfDzI","6XjbNjP","PROCESS_S3M","parseData","406123sCfmcK","_pendingCount","448pWVojT","pop"],n=b;function b(t,e){return a[t-=325]}!function(t,e){const r=b;for(;;)try{if(848552===parseInt(r(345))*parseInt(r(346))-parseInt(r(329))+parseInt(r(328))+-parseInt(r(337))*parseInt(r(333))+-parseInt(r(344))*-parseInt(r(330))+-parseInt(r(339))*-parseInt(r(341))+-parseInt(r(325))*parseInt(r(334)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(a);const WorkerTaskType={PROCESS_B3DM:n(326),PROCESS_S3M:n(335),PROCESS_HVT:"PROCESS_HVT",PROCESS_HVTB:n(332),PROCESS_GJT:"PROCESS_GJT"};class TaskManager{constructor(t=2){const e=n;this[e(331)]=[],this[e(327)]=t,this[e(338)]=0,this._taskProcessObj={PROCESS_B3DM:new Tile3DTaskProcess,PROCESS_S3M:new S3MTaskProcess,PROCESS_HVT:new HVTTaskProcess,PROCESS_HVTB:new HVTBTaskProcess,PROCESS_GJT:new GJTTaskProcess}}receiveTask(t){const e=n;this[e(338)]<this[e(327)]?(this[e(338)]++,this.processTask(t)):this[e(331)].push(t)}async[n(343)](t){const e=n;let{dataUrl:r,taskType:i}=t,s=await this[e(342)][i].fetchData(r);if(this[e(342)][i][e(336)](s,t),this[e(338)]--,this._pendingCount<this[e(327)]){let t=this[e(331)][e(340)]();t&&(this[e(338)]++,this[e(343)](t))}}}exports.Aid=Aid,exports.BBox=BBox,exports.BezierCurve2=BezierCurve2,exports.Circle=Circle$1,exports.Circle$1=Circle,exports.Collection=Collection,exports.Color=Color,exports.ColorFill=ColorFill,exports.CoordSeq=CoordSeq,exports.Coordinate=Coordinate,exports.Crs=Crs,exports.DataStore=DataStore,exports.DbHelper=DbHelper,exports.DbName=DbName,exports.EarCut=EarCut,exports.Euler=Euler,exports.Extent=Extent,exports.FillSymbol=FillSymbol,exports.GLTF=GLTF,exports.GeoJSON=GeoJSON,exports.Geometry=Geometry,exports.GeometryExt=GeometryExt,exports.GeometryExtType=GeometryExtType,exports.GeometryType=GeometryType,exports.Hvt=Hvt,exports.Hvtb=Hvtb,exports.Icon=Icon,exports.IconFont=IconFont,exports.IndexedDB=IndexedDB,exports.Inflate=Inflate,exports.Intersect=Intersect,exports.Intersect3D=Intersect3D,exports.Line=Line,exports.LineSymbol=LineSymbol,exports.LinearRing=LinearRing,exports.MarkerSymbol=MarkerSymbol,exports.Matrix3=Matrix3,exports.Matrix4=Matrix4,exports.MeshRender=MeshRender,exports.Model=Model,exports.MultiLine=MultiLine,exports.MultiPoint=MultiPoint,exports.MultiPolygon=MultiPolygon,exports.Node=Node,exports.Noise=Noise,exports.NoiseFill=NoiseFill,exports.Offset=Offset,exports.Pbf=Pbf,exports.Pixel=Pixel,exports.Point=Point,exports.Polygon=Polygon,exports.ProjMath=ProjMath,exports.Projs=Projs,exports.Quaternion=Quaternion,exports.RadialGradientFill=RadialGradientFill,exports.RawInflate=RawInflate,exports.Rectangle=Rectangle,exports.RegularShape=RegularShape,exports.S3MContentParser=S3MContentParser,exports.S3ModelParser=S3ModelParser,exports.Size=Size,exports.Style=Style,exports.TRS=TRS,exports.TaskManager=TaskManager$1,exports.TaskManager$1=TaskManager,exports.TextSymbol=TextSymbol,exports.TextureFill=TextureFill,exports.Tile3DLoader=Tile3DLoader,exports.Topology=Topology,exports.Transformer=Transformer,exports.Triangle=Triangle,exports.Vector=Vector,exports.Vector3=Vector3,exports.Vector4=Vector4,exports.VideoFill=VideoFill,exports.Water=Water,exports.WorkerTaskType=WorkerTaskType,exports.accessorTypeToNumComponentsMap=accessorTypeToNumComponentsMap,exports.defaultMaterial=defaultMaterial,exports.defs=defs,exports.glTypeToTypedArrayMap=glTypeToTypedArrayMap,exports.imageMimeTypeMap=imageMimeTypeMap,exports.initState=initState,exports.painterType=painterType,exports.proto=proto})),define(["./shared"],(function(t){const e=["1342741EHWvos","23mGLVqG","data","908365aoHBLf","1440674BRvwZI","receiveTask","53642XUZTPU","506638KLOTZE","10861etxYIH","123UpKLQk","1xIlNQw","1508409ADyKjz"];function r(t,r){return e[t-=170]}!function(t,e){const i=r;for(;;)try{if(757466===parseInt(i(174))+-parseInt(i(176))*-parseInt(i(175))+parseInt(i(171))+-parseInt(i(178))+parseInt(i(180))*parseInt(i(173))+-parseInt(i(177))*parseInt(i(179))+-parseInt(i(170)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(e);let i=new t.TaskManager$1(2);return function(t){const e=r;i[e(172)](t[e(181)])}})),define(["./shared"],(function(t){var e=["283216kdenBM","16591vGwWjF","190XUnxIW","17PfDsnI","1rzOQRh","22973oiWyrf","26CgjgeQ","77067bXOXbB","27qotYQC","6886QHIqXV","192872XAgXCq"];function r(t,r){return e[t-=205]}!function(t,e){for(var i=r;;)try{if(149744===-parseInt(i(208))*-parseInt(i(214))-parseInt(i(207))+-parseInt(i(215))*-parseInt(i(209))-parseInt(i(205))-parseInt(i(213))+-parseInt(i(210))*parseInt(i(206))+-parseInt(i(212))*-parseInt(i(211)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(e);var i=Object.freeze({__proto__:null,Crs:t.Crs,defs:t.defs,Projs:t.Projs,Transformer:t.Transformer,Math:t.ProjMath});const n=["1PvewEf","101086lQAkLw","control.Magnifier","name","control.Rotate","162557OUecQo","_map","setExclusive","deactivate","_controls","982896zVrCKh","clone","clear","1sUllJs","constructor","283rvLfwA","_status","_id","length","getExclusive","activate","control.MiniMap","1780522vcBmsj","1202896EebhIr","getStatus","1731454RMYvvY","offMap","control.Zoom","None","getControlType","1ulNxTT","control.ScaleBar","control.Plot","control.MouseTipControl","control.Compass","control.Measure","destroy","_exclusive","1217fVCzaG"],s=o;function o(t,e){return n[t-=210]}!function(t,e){const r=o;for(;;)try{if(920302===-parseInt(r(213))+parseInt(r(212))+parseInt(r(229))*parseInt(r(230))+parseInt(r(220))*-parseInt(r(234))+-parseInt(r(239))+-parseInt(r(215))*-parseInt(r(242))+parseInt(r(228))*-parseInt(r(244)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(n);class a{constructor(){const e=o;this[e(245)]=!1,this[e(246)]=t.Aid.createUnique(this[e(243)][e(232)]),this[e(227)]=!1}[s(219)](){return h[s(218)]}getId(){return this[s(246)]}setId(t){this[s(246)]=t}[s(214)](){return this[s(245)]}setMap(t){this[s(235)]=t}[s(216)](){const t=s;this[t(237)](),this[t(235)]=null}[s(240)](){}[s(226)](){const t=s;this._listenKeys&&this._listenKeys[t(241)](),this._status=!1}getMap(){return this[s(235)]}[s(210)](){const t=s,e=this[t(235)][t(238)][t(247)];for(let r=0;r<e;r++)!0===this[t(235)][t(238)][r][t(227)]&&this[t(235)][t(238)][r][t(219)]()===this.getControlType()&&this[t(235)][t(238)][r][t(237)]()}[s(236)](t){this._exclusive=t}[s(248)](){return this._exclusive}}let h={None:"control.Control",Magnifier:s(231),Measure:s(225),MiniMap:s(211),MousePosition:"control.MousePosition",MouseTipControl:s(223),Pan:"control.Pan",Plot:s(222),Rotate:s(233),ScaleBar:s(221),Zoom:s(217),Compass:s(224)};const l=["touchmove","58693HZxHBU","moveEnd","touchend","loadEnd","zoomChange","centerChange","mousemove","moving","ratateReset","styleLoaded","zoomStart","mousewheel","touchstart","649501vTsZxu","zooming","6piauxS","2hrSskG","mouseup","zoomend","mouseout","model_loaded","3jATxJK","23200sYWeNg","pointfeature_ready","headingChange","modeldrawend","1lKgHPW","11fatEbK","zoomChanged","dataChange","model_firstLoaded","moveStart","50192RYLzhG","mousedown","190750XpgnhJ","tiltChange","click","mouseover","97220ykRGnU","455068PJcLeh"],c=u;function u(t,e){return l[t-=322]}!function(t,e){const r=u;for(;;)try{if(355957===parseInt(r(342))*-parseInt(r(355))+parseInt(r(327))+-parseInt(r(345))*parseInt(r(322))+-parseInt(r(356))*-parseInt(r(361))+parseInt(r(326))+-parseInt(r(344))*-parseInt(r(329))+parseInt(r(350))*-parseInt(r(351)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(l);let p={MAPEVENT_CENTERCHANGE:c(334),MAPEVENT_ZOOMCHANGE:c(333),MAPEVENT_HEADINGCHANGE:c(353),MAPEVENT_TILTCHANGE:c(323),MAPEVENT_REDRAW:"MAPEVENT_REDRAW",MAPEVENT_MOVESTART:c(360),MAPEVENT_MOVING:c(336),MAPEVENT_MOVEEND:c(330),MAPEVENT_ZOOMCHANGED:c(357),MAPEVENT_ZOOMSTART:c(339),MAPEVENT_ZOOMING:c(343),MAPEVENT_ZOOMEND:c(347),MAPEVENT_ROTATESTART:"rotateStart",MAPEVENT_ROTATING:"rotating",MAPEVENT_ROTATEEND:"rotateEnd",MAPEVENT_ROTATERESET:c(337),MAPEVENT_EXTENTCHANGED:"extentChanged",MAPMOUSEEVENT_CLICK:c(324),MAPMOUSEEVENT_DOUBLECLICK:"dblclick",MAPMOUSEEVENT_MOUSEDOWN:c(362),MAPMOUSEEVENT_MOUSEMOVE:c(335),MAPMOUSEEVENT_MOUSEOUT:c(348),MAPMOUSEEVENT_MOUSEOVER:c(325),MAPMOUSEEVENT_MOUSEUP:c(346),MAPMOUSEEVENT_MOUSEWHEEL:c(340),MAPTOUCHEVENT_TOUCHSTART:c(341),MAPTOUCHEVENT_TOUCHMOVE:c(328),MAPTOUCHEVENT_TOUCHEND:c(331),LAYEREVENT_LOADEND:c(332),LAYEREVENT_DATACHANGE:c(358),LAYEREVENT_POINTFEATURE_READY:c(352),VECTORTILE_STYLELOADED:c(338),VECTOR_MODELDRAWEND:c(354),MODEL_LOADED:c(349),MODEL_FIRSTLOADED:c(359)};const f=["border-right-color","border-top-color","activate","container","3853QYlLbV","MAPEVENT_ROTATERESET","rotateX","_cancelAnimationFrame","removeChild","border-left-color","style","1fpRUHs","_patchDownHandler","mouseup","removeEventListener","destroy","options",".hmap-control-compass .icon-compass-south","length",'<div><div class="side top "><div class="arrow arrow-up"style></div></div><div class="side bottom "><div class="arrow arrow-down"style></div></div><div class="side right "><div class="curve"></div><div class="curve-head"></div></div><div class="side left "><div class="curve"></div><div class="curve-head"></div></div><div class="center"style="transform: scaleY(1)"><div class="icon-compass"style="transform: rotate(0deg)"><div class="icon-compass-north"></div><div class="icon-compass-south"></div></div></div></div>',"MAPEVENT_ROTATING",".hmap-control-compass .icon-compass-north","_rotateHandler","appendChild","addEventListener","compassStyle","mouseleave","innerHTML","addListener","_deltaX","_rotateClockwiseHandler","resetRotate","-webkit-radial-gradient(circle closest-side, transparent 50%, ","_deltaZ","getControlType","_createCompassDom","offMap","_rotateAntiHandler",".hmap-control-compass .right","top","_map","_setDomPositon","globleId","_patchUpHandler","_rotateX","1HDXUDy","querySelector","prepend","left","requestAnimationFrame","mousedown",".hmap-control-compass{position:absolute;width:60px;height:60px;right:20px;top:20px;border-radius:50%;background:-webkit-radial-gradient(circle closest-side,transparent 50%,#fafafa 50%);z-index:9999;box-shadow:0 0 5px gray}.hmap-control-compass>div{position:relative;height:100%;width:100%}.hmap-control-compass .center{position:relative;width:51%;height:51%;margin:auto;top:24%;background:#fff;border-radius:50%;border:1px solid #e9e7e7}.hmap-control-compass .side{position:absolute;background:transparent;display:flex;align-items:center}.hmap-control-compass .left{height:50%;width:20%;left:5%;top:25%}.hmap-control-compass .right{height:50%;width:20%;right:5%;top:25%}.hmap-control-compass .top{width:50%;height:20%;left:25%;top:5%}.hmap-control-compass .bottom{width:50%;height:20%;left:25%;bottom:5%}.hmap-control-compass .arrow{position:relative;width:0;height:0;margin:auto;height:25%;line-height:50%;border-left:5px solid transparent;border-right:5px solid transparent}.hmap-control-compass .arrow-up{bottom:24%;border-bottom:5px solid #ccc}.hmap-control-compass .arrow-down{top:24%;border-top:5px solid #ccc}.hmap-control-compass .icon-compass{position:relative;width:100%;height:100%}.hmap-control-compass .icon-compass>div{width:0;height:0;border-left:3px solid transparent;border-right:3px solid transparent;margin:auto}.hmap-control-compass .icon-compass-north{border-bottom:16px solid #fa6161}.hmap-control-compass .icon-compass-south{border-top:16px solid lightgray}.hmap-control-compass .left>div,.right>div{position:absolute;display:inline-block}.hmap-control-compass .left>.curve,.right>.curve{width:100%;height:77%;border-radius:100%;border:2px solid transparent}.hmap-control-compass .left>.curve-head,.right>.curve-head{width:10%;height:6%;border-width:4px;border-color:transparent;top:75%;transform:rotate(144deg);border-style:solid}.hmap-control-compass .left .curve{border-left-color:inherit;left:3px}.hmap-control-compass .left .curve-head{border-left-color:inherit}.hmap-control-compass .right .curve{border-right-color:inherit;right:3px}.hmap-control-compass .right .curve-head{border-right-color:inherit;transform:rotate(214deg);right:0}.hmap-control-compass .right{border-right-color:#ccc}.hmap-control-compass .left{border-left-color:#ccc}",".hmap-control-compass .arrow-up","parentNode","domDisk","_patchHandler","styleEl","div","setProperty","898356tiJTxZ","20px","bind",".hmap-control-compass .center .icon-compass","cancelAnimationFrame","805000VZLrQq","_camera","7XXNGGu","deactivate","innerColor","outColor","transform","domCompass","_status","compassCoontainer",".hmap-control-compass .bottom","119732HCyTcX","43734eaASqX","_resetCompassValue","bottom","_updateCompassValue","Compass","event","important","removeListener","createElement","south","active",".hmap-control-compass","bottomright","auto","button","258023pyWpTQ","629450srMMVb","background","_maxPitch","deg)","_rotateZ","position","right","__proto__","north","border-bottom-color","21IZXZMt","setMap","click","topright","type",".hmap-control-compass .top"],g=d;function d(t,e){return f[t-=128]}!function(t,e){const r=d;for(;;)try{if(506276===parseInt(r(160))+parseInt(r(155))+-parseInt(r(141))*-parseInt(r(187))+-parseInt(r(162))*parseInt(r(208))+-parseInt(r(215))*-parseInt(r(171))+parseInt(r(198))*-parseInt(r(172))+-parseInt(r(188)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(f);class _ extends a{constructor(t={}){const e=d;super(),this._status=!1,this._deltaX=.7515,this[e(129)]=1.002,this[e(169)]=null,this[e(220)]=t,this[e(138)]=null}[g(199)](t){const e=g;super.setMap(t),this[e(190)]=t[e(190)],this[e(131)](),this.updateStyle(this.options),this[e(150)]=document.querySelector(".hmap-control-compass .center"),this[e(167)]=document[e(142)](e(158)),this[e(206)]()}activate(){const t=g;this._status||(super[t(206)](),this[t(168)]=!0,this[t(136)][t(177)][t(232)](p[t(224)],this._updateCompassValue[t(157)](this)),this[t(136)][t(177)][t(232)](p[t(209)],this[t(173)][t(157)](this)),this.domDisk[t(228)](t(200),this[t(173)][t(157)](this),!1),document[t(142)](t(203))[t(228)](t(146),this[t(139)][t(157)](this),!0),document.querySelector(t(170))[t(228)](t(146),this[t(216)][t(157)](this),!0),document[t(142)](t(134)).addEventListener(t(146),this._rotateClockwiseHandler.bind(this),!0),document[t(142)](".hmap-control-compass .left").addEventListener(t(146),this[t(133)][t(157)](this),!0),document[t(142)](t(183))[t(228)](t(230),this[t(211)][t(157)](this),!0),document[t(142)](t(183))[t(228)]("mouseup",this[t(211)][t(157)](this),!0),this._updateCompassValue())}_updateCompassValue(t){const e=g;let r=-this[e(136)][e(161)][e(192)],i=(90+this[e(136)][e(161)][e(140)])/90;this[e(150)].style[e(154)](e(166),"scaleY("+i+")","important"),this[e(167)][e(214)][e(154)]("transform","rotate("+r+e(191),e(178))}[g(173)](){const t=g;this[t(150)][t(214)][t(154)]("transform","scaleY(1)",t(178)),this[t(167)][t(214)][t(154)]("transform","rotate(0deg)",t(178)),this._map._camera[t(235)](),this[t(136)].af[t(182)](0)}[g(139)](t){const e=g;this[e(168)]&&0===t[e(186)]&&this[e(151)](this[e(233)])}_patchDownHandler(t){const e=g;this[e(168)]&&0===t[e(186)]&&this._patchHandler(-this[e(233)])}[g(151)](t){const e=g;let r=t;const i=-this[e(136)][e(161)][e(140)],n=i+r;n>this._maxPitch||n<0||(r=n>this._maxPitch?this[e(190)]-i:t,r=n<0?0:r,this[e(136)][e(161)][e(210)](-r),this[e(136)].af.active(0),this[e(175)](),this.globleId=window[e(145)](this._patchHandler[e(157)](this,t)))}[g(234)](t){const e=g;this._status&&0===t.button&&this._rotateHandler(-this[e(129)])}_rotateAntiHandler(t){const e=g;this[e(168)]&&0===t.button&&this._rotateHandler(this[e(129)])}[g(226)](t){const e=g;this[e(136)][e(161)].rotateZ(t),this[e(136)].af[e(182)](0),this[e(175)](),this[e(138)]=window.requestAnimationFrame(this[e(226)][e(157)](this,t))}[g(211)](){const t=g;this.globleId&&window[t(159)](this[t(138)])}[g(131)](){const t=g,e=t(147);this[t(152)]=document[t(180)](t(214)),this[t(152)][t(202)]="text/css",this[t(152)][t(231)]=e,this[t(152)].contentEditable=!1,this[t(152)].id=t(229),document.getElementsByTagName("head").item(0)[t(143)](this[t(152)]);const r=t(223);this.compassCoontainer=document[t(180)](t(153)),this.compassCoontainer.className="hmap-control-compass",this.compassCoontainer[t(214)]="",this.compassCoontainer[t(231)]=r,this[t(136)][t(207)][t(149)][t(227)](this[t(169)])}updateStyle(t){const e=g;t&&(t[e(193)]&&(t.position===e(184)?this[e(137)](e(185),e(156),e(185),"20px"):"bottomleft"===t[e(193)]?this[e(137)](e(185),e(156),"20px",e(185)):"topleft"===t.position?this[e(137)]("20px",e(185),"20px",e(185)):t[e(193)]===e(201)?this._setDomPositon(e(156),"auto",e(185),e(156)):this._setDomPositon(t[e(193)][0],e(185),t[e(193)][1],"auto")),t[e(165)]&&(t.outColor[e(189)]&&this.compassCoontainer.style[e(154)]("background",e(128)+t[e(165)][e(189)]+" 50%)","important"),t[e(165)][e(186)]&&(document[e(142)](e(148))[e(214)][e(154)](e(197),t.outColor[e(186)],"important"),document[e(142)](".hmap-control-compass .arrow-down")[e(214)][e(154)](e(205),t.outColor[e(186)],e(178)),document.querySelector(".hmap-control-compass .left")[e(214)][e(154)](e(213),t[e(165)][e(186)],e(178)),document[e(142)](e(134)).style[e(154)](e(204),t[e(165)][e(186)],"important"))),t.innerColor&&(t[e(164)][e(189)]&&document[e(142)](".hmap-control-compass .center").style[e(154)](e(189),t[e(164)][e(189)],"important"),t[e(164)][e(196)]&&document.querySelector(e(225))[e(214)][e(154)](e(197),t[e(164)][e(196)],e(178)),t[e(164)][e(181)]&&document[e(142)](e(221))[e(214)][e(154)](e(205),t[e(164)][e(181)],e(178))))}[g(137)](t,e,r,i){const n=g;this[n(169)].style[n(154)](n(135),t,n(178)),this.compassCoontainer[n(214)].setProperty(n(174),e,n(178)),this[n(169)].style[n(154)](n(144),r,n(178)),this[n(169)][n(214)][n(154)](n(194),i,"important")}[g(163)](){const t=g;this[t(168)]&&(this[t(136)][t(177)][t(179)](p[t(224)],this._updateCompassValue.bind(this)),this[t(136)].event[t(179)](p.MAPEVENT_ROTATERESET,this[t(173)][t(157)](this)),this._status=!1,document[t(142)](t(183))&&(document[t(142)](t(203))[t(218)](t(146),this._patchUpHandler[t(157)](this),!1),document[t(142)](t(170))[t(218)](t(146),this[t(216)][t(157)](this),!1),document[t(142)](".hmap-control-compass .left").removeEventListener(t(146),this._rotateClockwiseHandler[t(157)](this),!1),document[t(142)](t(134)).removeEventListener("mousedown",this[t(133)][t(157)](this),!1),document[t(142)](".hmap-control-compass").removeEventListener(t(230),this._cancelAnimationFrame.bind(this),!0),document[t(142)](t(183))[t(218)](t(217),this[t(211)][t(157)](this),!0)))}[g(219)](){const t=g;this[t(163)](),this[t(136)]&&this[t(136)][t(207)].parentNode[t(212)](this[t(169)]);let e=Object.getOwnPropertyNames(this);for(let r=0,i=e[t(222)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this[t(195)]=null}[g(132)](){const t=g;this[t(136)][t(207)][t(149)][t(212)](this[t(169)]),super.offMap()}[g(130)](){return h[g(176)]}}var y=["now","95791fsKclb","reset","70873XsMHpZ","58203ESVMje","51980ulyUni","26911ysdYZd","357ctsnvu","timeDown","295wTqsQM","80298UBlUnr","_start"],m=I;function I(t,e){return y[t-=360]}!function(t,e){for(var r=I;;)try{if(118145===parseInt(r(360))+parseInt(r(363))+parseInt(r(361))+parseInt(r(364))*-parseInt(r(366))+parseInt(r(362))+parseInt(r(370))+-parseInt(r(367)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(y);class x{constructor(){var t=I;this[t(368)]=this[t(369)]()}[m(371)](){var t=m;this._start=this[t(369)]()}[m(365)](t=13){var e=m;return t-(this.now()-this[e(368)])}[m(369)](){return Date[m(369)]()}}const v=["requestAnimationFrame","state","taskManager","active","runSimple","map","timeDown","8JYuCmL","animateId","bind","119085mmsKOu","addListener","182693FqCfuz","runAnimateframe","hasHeavyTask","instance","runFrame","171343yaUaWq","time","186169XGYjHE","_redraw","type","92524JxMGHr","runHeavy","19802WpEsoh","115150CyyQEm","reset"];function b(t,e){return v[t-=385]}const w=b;!function(t,e){const r=b;for(;;)try{if(151162===parseInt(r(405))+parseInt(r(390))+parseInt(r(397))+-parseInt(r(399))+parseInt(r(404))*-parseInt(r(387))+-parseInt(r(402))+parseInt(r(392)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(v);class T{constructor(e,r=50,i=16){const n=b;this.i=r,this.a=i,this[n(408)]=0,this[n(385)]=e,this.taskManager=t.TaskManager[n(395)](),this[n(398)]=new x,this[n(385)].event[n(391)](p.LAYEREVENT_DATACHANGE,this[n(410)][n(389)](this))}[w(410)](t=1){const e=w;return t||(this.type=t),this[e(396)]()}[w(396)](){const t=w,e=this;1!=e[t(408)]&&(e[t(408)]=1,e[t(388)]=window[t(407)]((function(){e.runAnimateframe()})))}[w(393)](){const t=w;this[t(398)].reset();let e=!0,r=!0;for(;this[t(398)][t(386)](this.a)>0&&e;)e=this.taskManager[t(411)]();this[t(408)]=0;let i=this[t(401)];if(this[t(401)]=1,this.map[t(400)](i),1!=this[t(401)]&&(this[t(401)]=0),this[t(409)].hasSimpleTask())this[t(410)]();else{for(this[t(398)][t(406)]();this[t(398)][t(386)](this.i)>5&&r;)r=this[t(409)][t(403)]();this.taskManager[t(394)]()&&this[t(410)]()}}}const E=["7hwdYzu","get","5pQnlvs","push","type","clear","41KbOZFN","forEach","1950342ZZNTpx","35312aDjhQk","register","222031dCeBWB","addListener","target","set","delete","4gQJWto","setTime","fireTimes","317191nMBSxI","264025uUcJIn","handler","once","has","3982MJxxHI","splice","length","getType","_fireTimes","1IlteQF","removeListener","events","destroy","_curTarget","name","_domEvents","1ZlLKyu","148915UZazqL","fire","_events","_eventFlowStatus"],C=M;!function(t,e){const r=M;for(;;)try{if(981267===-parseInt(r(138))*-parseInt(r(156))+parseInt(r(143))*-parseInt(r(148))+parseInt(r(120))*parseInt(r(152))+-parseInt(r(127))*-parseInt(r(141))+-parseInt(r(151))*parseInt(r(134))+-parseInt(r(132))*-parseInt(r(128))+parseInt(r(140)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(E);class A{constructor(){const t=M;this._events=new Map,this[t(126)]=new Map}[C(123)](){const t=C;this._events[t(137)](),this[t(126)][t(137)]()}get[C(122)](){return this._events}set[C(122)](t){this._events=t}[C(144)](t,e,r=!1,i=!1,n=null){const s=C;null===n&&(n=this),this[s(130)][s(155)](t)?r&&(this._events.get(t)[s(158)]=0):this[s(130)][s(146)](t,[]),this._events[s(133)](t).push({handler:e,once:i,target:n})}removeListener(t,e){const r=C;let i=this[r(130)][r(133)](t);if(!i)return;for(let t=i[r(158)]-1;t>=0;t--)null!=e?i[t][r(153)][r(125)]===e[r(125)]&&i[r(157)](t,1):i.splice(t,1);i[r(158)]<=0&&this[r(130)].delete(t)}dispatch(t){const e=C;this[e(130)][e(155)](t[e(159)]())&&(this[e(130)][e(133)](t[e(159)]())[e(139)]((r=>{const i=e;r[i(154)]&&this[i(121)](t[i(159)]());let n=!0;0===t[i(131)]&&t[i(150)]>0&&(n=!1),1===t[i(131)]&&t._fireTimes>0&&r[i(145)]===t[i(124)]&&(n=!1),n&&(t[i(160)]++,t[i(149)](new Date),r[i(153)](t),t._curTarget=r[i(145)])})),t=null)}[C(129)](t){const e=C;this._domEvents.has(t[e(136)])&&this[e(126)][e(133)](t.type)[e(139)]((e=>{t._fireTimes++,e(t)}))}[C(142)](t,e){const r=C;!this[r(126)].has(t)&&this[r(126)].set(t,[]),this[r(126)][r(133)](t)[r(135)](e)}unRegister(t,e){const r=C;let i=this[r(126)].get(t);if(!i)return;const n=i[r(158)];if(n<=0)this._events[r(147)](t);else for(let t=0;t<n;t++)if(i[t].name===e[r(125)])return void i[r(157)](t,1)}}function M(t,e){return E[t-=120]}var S=["5ZLRaIE","setData","_data","setEventFlowStatus","setTarget","getTime","_type","_bubbles","setBubbles","getTarget","127208skFRmw","_eventFlowStatus","7919SHSjTs","285379DyrVTw","274628bzVNuf","_fireTimes","_time","getData","setType","getBubbles","3449uSOSkd","getEventFlowStatus","241791MbJqHm","77EjtEGM","getType","getCurTarget","_target","_cancelable","setFireTimes","getFireTimes","423013NvDVDS","1GWygfN","_curTarget"],P=L;!function(t,e){for(var r=L;;)try{if(248389===parseInt(r(338))+parseInt(r(335))+-parseInt(r(347))+-parseInt(r(358))*parseInt(r(337))+parseInt(r(339))+-parseInt(r(345))*-parseInt(r(348))+parseInt(r(355))*-parseInt(r(356)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(S);class R{constructor(t,e,r){var i=L;this[i(343)](t),this.setData(e),this.setTarget(r),this.setCurTarget(r),this[i(353)](0),this[i(328)](2)}[P(334)](){return this[P(351)]}[P(329)](t){this[P(351)]=t}[P(350)](){return this[P(357)]}setCurTarget(t){this[P(357)]=t}[P(349)](){return this[P(331)]}get type(){return this[P(331)]}setType(t){this[P(331)]=t}getCancelable(){return this[P(352)]}setCancelable(t){this[P(352)]=t}[P(342)](){return this[P(327)]}[P(359)](t){this[P(327)]=t}[P(330)](){return this[P(341)]}setTime(t){this[P(341)]=t}[P(344)](){return this[P(332)]}[P(333)](t){this[P(332)]=t}[P(346)](){return this[P(336)]}[P(328)](t){this[P(336)]=t}[P(354)](){return this._fireTimes}[P(353)](t){this[P(340)]=t}}function L(t,e){return S[t-=327]}const F=["_getAngleYByTargetToCenter","tan","getY","_rotateX","_getXyzArrayFromCoords","getFogBackgroundCoords","getFov","getCoordCount","_getEyeToTargetYozDist","_fovy","getIntersection","_getExtentTopToCenterAngle","sin","1447390mYLwxx","_containerWidth","_viewMatrix","setIdentity","setResolution","getTop","_vec3Scale","setCenter","getCoordinateFromPixel","_halfYRange","translate","1107338EgPBJX","getFogEndDepth","590268YaQCYt","_rotateZMatrix","getAspact","cos","1810170vrbRnI","multiply","_getVec3Normal","getEyeZ","getVMatrix","_getBottomToCenterYSpan","getRotatedLabelExtent","_fogStartFactor","setRotate","NaN","_getPixelFromXYZ","_getAngleXByPixel","getPMatrix","getFogEdge","multiplyVector4","_getTargetToCenterYSpan","_getTargetToCenterXSpan","extractCoords","_resolution","_rotateZ","_updateRotateXMatrix","_containerHeight","atan","getViewRotate","_updateProjMatrix","max","getOrdinate","_getPixelXByAngle","_maxYRange","_rotateXMatrix","getResolution","getNear","sqrt","isFinite","_getResolutionRatio","_getAngleXByTargetToCenter","setPerspective","getExtent","_getFarthestEyeZ","_far","_getTargetToCenterXSpanByAspect","_getCenterByZ","getViewTranslation","getElements","eyeX, eyeY, resolution, containerWidth, containerHeight must be type of Number","_eyeZ","getX","getElement","_eyeX","_aspect","getFogDepthEdge","_depthMode","resetRotate","_map","189793BCzgiz","getFogStartDepth","length","4862555ASIoHL","835590oCBggI","_getExtentTopToCenterY","_getPixelYByAngle","getFPlaneDistance","_halfFovy","_getEyeH","_getTargetZ","rotateZ","_vMatrix","_fogExtentTopRatio","abs","setTranslate","getPixelFromCoordinate","_crs","_getEyeZByResolution","getCoordinate","_recalculateYRanges","setCrs","_near","_eyeY","rotate","getViewMatrix","5yMwESn","_projMatrix","_vpMatrix"],D=O;function O(t,e){return F[t-=405]}!function(t,e){const r=O;for(;;)try{if(974550===-parseInt(r(516))+parseInt(r(467))+-parseInt(r(409))+parseInt(r(405))+-parseInt(r(463))*parseInt(r(489))+-parseInt(r(505))+parseInt(r(466)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(F);class N{constructor(e,r,i,n,s,o,a,h,l){const c=O;if(!(Number[c(442)](r)&&Number.isFinite(i)&&Number[c(442)](n)&&Number[c(442)](s)&&Number[c(442)](o)&&Number.isFinite(h)&&Number.isFinite(l)))throw c(453);this[c(462)]=e,this[c(457)]=r,this[c(486)]=i,this[c(501)]=60,this[c(471)]=this[c(501)]/2,this[c(506)]=s,this[c(430)]=o,this._aspect=s/o,this._resolution=n,this[c(495)]=-h,this[c(428)]=l,this._fogStartFactor=1.5,this._fogEndFactor=2,this[c(476)]=1.1,this[c(438)]=new t.Matrix4,this[c(480)]=a,this[c(509)](n),this[c(406)]=(new t.Matrix4)[c(417)](this[c(428)],0,0,1),this[c(507)]=new t.Matrix4,this[c(475)]=new t.Matrix4,this[c(491)]=new t.Matrix4}[D(470)](){return this[D(448)]}updateContainerSize(t,e){const r=D;this[r(506)]=t,this[r(430)]=e,this[r(458)]=t/e,this._projMatrix=this[r(490)][r(508)]().setPerspective(this[r(501)],this[r(458)],this[r(485)],this[r(448)])}[D(412)](){return this[D(454)]}getRotateX(){return this[D(495)]}getRotateZ(){return this[D(428)]}[D(439)](){return this[D(427)]}[D(484)](t){this._crs=t}[D(472)](t,e){const r=D;return Math[r(477)](e)>90?t*Math[r(408)]((180-Math.abs(e))*Math.PI/180):t*Math[r(408)](e*Math.PI/180)}rotateX(t){const e=D;this[e(495)]+=t,this._updateRotateXMatrix(this[e(495)],this._eyeZ)}[D(429)](t,e){const r=D;this[r(438)]=this[r(438)].setTranslate(0,0,-e)[r(487)](t,1,0,0)[r(515)](0,0,e)}[D(474)](t){const e=D;this[e(428)]+=t,this[e(406)]=this[e(406)][e(417)](this[e(428)],0,0,1)}[D(461)](){const t=D;this._rotateXMatrix.setIdentity(),this[t(406)].setIdentity(),this._rotateX=0,this[t(428)]=0}[D(413)](){const t=D;return this._vMatrix[t(508)]()[t(478)](-this._eyeX,-this._eyeY,-this._eyeZ)}getViewMatrix(){const t=D;return this[t(507)].setIdentity()[t(410)](this[t(438)])[t(410)](this[t(406)])[t(410)](this.getVMatrix())}getViewMatrixWithoutRotateZ(){const t=D;return this[t(507)][t(508)]().multiply(this[t(438)]).multiply(this[t(413)]())}[D(421)](){return this[D(490)]}getVPMatrix(){const t=D;return this[t(491)][t(508)]()[t(410)](this[t(421)]())[t(410)](this[t(488)]())}[D(512)](t,e){const r=D;this[r(457)]=t[r(435)]("X"),this[r(486)]=t.getOrdinate("Y"),this[r(509)](e)}[D(483)](){const t=D;this[t(514)]=this[t(454)]*Math.tan(this[t(501)]/2*Math.PI/180),this[t(437)]=this._halfYRange*this[t(416)]}[D(509)](e){const r=D;this[r(427)]=e,this[r(454)]=this[r(481)](e),this._updateRotateXMatrix(this._rotateX,this[r(454)]),this[r(483)](),this[r(448)]=this[r(447)]();let i=this._map&&1==this[r(462)][r(460)]?.004:.02;this[r(485)]=Math.max(this[r(448)]*i,1e-5),this[r(490)]=(new t.Matrix4)[r(445)](this[r(501)],this[r(458)],this[r(485)],this[r(448)])}[D(433)](){const e=D;this[e(448)]=this._getFarthestEyeZ();let r=this[e(462)]&&1==this._map[e(460)]?.004:.02;this[e(485)]=Math[e(434)](this[e(448)]*r,1e-5),this[e(490)]=(new t.Matrix4)[e(445)](this[e(501)],this[e(458)],this._near,this[e(448)])}[D(481)](t){const e=D,r=this[e(501)]/2;return this[e(430)]/2*t/Math[e(493)](r*Math.PI/180)}[D(503)](t=this[D(476)]){const e=D,r=this[e(437)]*t,i=this._getAngleYByTargetToCenter(r);return i<this[e(471)]?i:this[e(471)]}[D(468)](t=this[D(476)],e){const r=D;return e?this._maxYRange*t:this[r(424)](-this[r(495)],this[r(471)])}[D(446)](){const e=D,r=this[e(501)]/2,i=this[e(414)](-this._rotateX,-r),n=this[e(449)](-this._rotateX,-r),s=this[e(503)](this._fogExtentTopRatio);let o=null;if(-this[e(495)]<=90)o=this._getExtentTopToCenterY(this._fogExtentTopRatio,s!==this[e(471)]);else{o=this[e(468)](this[e(476)],!1);const t=this._maxYRange;o=Math[e(477)](o)<=t?o:-t}const a=this[e(449)](-this._rotateX,s,!0);let h=null;h=-this[e(495)]<=90?new t.MultiPoint([new t.Point(new t.Coordinate(this._eyeX-a,this[e(486)]+o,0,!0)),new t.Point(new t.Coordinate(this[e(457)]+a,this[e(486)]+o,0,!0)),new t.Point(new t.Coordinate(this[e(457)]+n,this[e(486)]+i,0,!0)),new t.Point(new t.Coordinate(this[e(457)]-n,this._eyeY+i,0,!0))]):new t.MultiPoint([new t.Point(new t.Coordinate(this._eyeX-a,this[e(486)]-o,0,!0)),new t.Point(new t.Coordinate(this[e(457)]+a,this[e(486)]-o,0,!0)),new t.Point(new t.Coordinate(this[e(457)]+n,this[e(486)]+i,0,!0)),new t.Point(new t.Coordinate(this[e(457)]-n,this._eyeY+i,0,!0))]),h[e(487)]("Z",-this[e(428)],new t.Coordinate(this[e(457)],this[e(486)],0,!0));const l=h[e(446)](),c=this[e(480)].getExtent();return l.getIntersection(c)}[D(414)](t,e,r){const i=D;let n;n=r?this._getEyeZByResolution(r):this[i(454)];const s=this[i(472)](n,t);if(t<=90){const r=n*Math[i(504)](t*Math.PI/180);return s*Math[i(493)]((t+e)*Math.PI/180)-r}{const r=n*Math[i(504)]((180-t)*Math.PI/180);return s*Math[i(493)]((180-t+e)*Math.PI/180)-r}}[D(415)](){const e=D,r=this[e(501)]/2,i=this[e(424)](-this[e(495)],-r),n=this[e(449)](-this[e(495)],-r),s=r*Math.cos(this._rotateX*Math.PI/180),o=this[e(424)](-this[e(495)],s),a=this._getTargetToCenterXSpanByAspect(-this[e(495)],s),h=new t.MultiPoint([new t.Point(new t.Coordinate(this[e(457)]-a,this._eyeY+o,0,!0)),new t.Point(new t.Coordinate(this[e(457)]+a,this._eyeY+o,0,!0)),new t.Point(new t.Coordinate(this[e(457)]+n,this[e(486)]+i,0,!0)),new t.Point(new t.Coordinate(this[e(457)]-n,this._eyeY+i,0,!0))]);h[e(487)]("Z",-this._rotateZ,new t.Coordinate(this[e(457)],this[e(486)],0,!0));const l=h[e(446)](),c=this[e(480)].getExtent(),u=l[e(502)](c);return u?u[e(510)]():Number[e(418)]}[D(496)](t){const e=D,r=[];let i;for(let n=0;n<t[e(465)];n++)i=t[n],r.push(i[e(435)]("X"),i[e(435)]("Y"),i[e(435)]("Z"));return r}[D(497)](){const e=D,r=this._getFarthestEyeZ(),i=.9*-this[e(437)],n=Math[e(493)](this[e(471)]*Math.PI/180)*r*5,s=this[e(458)]*n,o=new t.LinearRing([new t.Point(new t.Coordinate(this[e(457)]-s,this[e(486)]+n,i,!0)),new t.Point(new t.Coordinate(this[e(457)]-s,this[e(486)]-n,i,!0)),new t.Point(new t.Coordinate(this._eyeX+s,this[e(486)]-n,i,!0)),new t.Point(new t.Coordinate(this[e(457)]+s,this[e(486)]+n,i,!0)),new t.Point(new t.Coordinate(this[e(457)]-s,this._eyeY+n,i,!0))]),a=new t.Coordinate(this[e(457)],this[e(486)]);o[e(487)]("X",-this[e(495)],a),o[e(487)]("Z",-this[e(428)],a);const h=o.getCoordSeq();return this._getXyzArrayFromCoords(h[e(426)](0,h.getCoordCount()-1))}getMapBackgroundCoords(){const e=D,r=this[e(501)]/2,i=this._getExtentTopToCenterAngle(1.1),n=2*this[e(424)](-this[e(495)],i),s=2*this[e(449)](-this._rotateX,i),o=2*this[e(424)](-this[e(495)],-r),a=2*this[e(449)](-this[e(495)],-r),h=new t.LinearRing([new t.Point(new t.Coordinate(this[e(457)]-a,this._eyeY+o,0,!0)),new t.Point(new t.Coordinate(this._eyeX+a,this[e(486)]+o,0,!0)),new t.Point(new t.Coordinate(this._eyeX+s,this[e(486)]+n,0,!0)),new t.Point(new t.Coordinate(this[e(457)]-s,this[e(486)]+n,0,!0)),new t.Point(new t.Coordinate(this[e(457)]-a,this[e(486)]+o,0,!0))]);h[e(487)]("Z",-this[e(428)],new t.Coordinate(this[e(457)],this[e(486)],0,!0));const l=h.getCoordSeq();return this._getXyzArrayFromCoords(l[e(426)](0,l[e(499)]()-1))}[D(450)](t,e){const r=D,i=1-t,n=Math[r(504)](this[r(495)]*Math.PI/180)*this[r(454)]*i,s=n*Math[r(504)](e),o=n*Math[r(408)](e);return[this._eyeX+s,this[r(486)]+o]}[D(443)](t){const e=D;return(this._getEyeH(this[e(454)],this._rotateX)-t[e(435)]("Z"))/Math[e(408)](this._rotateX*Math.PI/180)/this._eyeZ}[D(479)](e){const r=D,[i,n]=this[r(419)](e[r(435)]("X"),e[r(435)]("Y"),e[r(435)]("Z"));return new t.Pixel(i,n)}_getPixelFromXYZ(t,e,r=0){const i=D,n=(this._getEyeH(this._eyeZ,this[i(495)])-r)/Math[i(408)](this[i(495)]*Math.PI/180),s=n/this[i(454)],o=this[i(428)]*Math.PI/180,[a,h]=this[i(450)](s,o),l=t-a,c=e-h,u=l*Math[i(408)](o)-c*Math.sin(o),p=l*Math.sin(o)+c*Math.cos(o),f=this[i(492)](p,n),g=this[i(444)](u,f,this[i(427)]*s,!0),d=this._getPixelXByAngle(g,this[i(506)]),_=this[i(469)](f,this[i(430)]);return-this[i(495)]<=90?[d,_]:[this._containerWidth-d,_]}[D(513)](e,r){const i=D,n=this._getAngleYByPixel(e[i(494)](),this[i(430)],-this[i(495)]),s=this._getAngleXByPixel(e[i(455)](),this[i(506)]),o=this[i(424)](-this[i(495)],n,r),a=this[i(425)](-this._rotateX,s,n,r),h=-this[i(428)]*Math.PI/180,l=a*Math[i(408)](h)-o*Math[i(504)](h),c=a*Math[i(504)](h)+o*Math[i(408)](h);return new t.Coordinate(this[i(457)]+l,this._eyeY+c,0,!0)}[D(469)](t,e){const r=D,i=this[r(501)]/2;return e/2-Math[r(493)](t*Math.PI/180)/Math.tan(i*Math.PI/180)*(e/2)}[D(436)](t,e){const r=D,i=this[r(501)]/2;return Math[r(493)](t*Math.PI/180)/Math[r(493)](i*Math.PI/180)/this[r(458)]*(e/2)+e/2}_getAngleYByPixel(t,e,r){const i=D,n=this[i(501)]/2;let s=0;return s=r<=90?(e/2-t)/(e/2):(t-e/2)/(e/2),180*Math[i(431)](s*Math[i(493)](n*Math.PI/180))/Math.PI}[D(420)](t,e){const r=D,i=this[r(501)]/2,n=(t-e/2)/(e/2);return 180*Math.atan(n*Math.tan(i*Math.PI/180)*this[r(458)])/Math.PI}_getAngleYByTargetToCenter(t,e=this[D(454)]){const r=D;let i;i=-this[r(495)]<=90?e*Math.sin(-this[r(495)]*Math.PI/180):e*Math[r(504)]((this[r(495)]+180)*Math.PI/180);const n=i+t,s=this[r(472)](e,this[r(495)]);return 180*Math[r(431)](n/s)/Math.PI+this[r(495)]}_getAngleXByTargetToCenter(t,e,r,i=!1){const n=D;return 180*Math[n(431)](t/this[n(473)](-this._rotateX,e,r,i))/Math.PI}[D(425)](t,e,r,i){const n=D;return this[n(473)](t,r,i)*Math[n(493)](e*Math.PI/180)}[D(424)](t,e,r){const i=D;let n;n=r?this[i(481)](r):this[i(454)];const s=this[i(472)](n,t);if(t<=90){const r=n*Math[i(504)](t*Math.PI/180);return s*Math[i(493)]((t+e)*Math.PI/180)-r}{const r=n*Math[i(504)]((180-t)*Math.PI/180);return s*Math[i(493)]((180-t+e)*Math.PI/180)-r}}[D(449)](t,e,r=!1){const i=D,n=this[i(501)]/2,s=this[i(472)](this[i(454)],t);return t<=90?this[i(500)](s,t,e,r)*Math[i(504)](n*Math.PI/180)*this[i(458)]:this[i(500)](s,t,e,r)*Math[i(504)](e*Math.PI/180)*this[i(458)]}[D(500)](t,e,r,i){const n=D;return(e=Math[n(477)](e))<=90?t/Math[n(408)]((e+r)*Math.PI/180):i?t/Math[n(408)]((180-e-r)*Math.PI/180):t/Math[n(408)]((180-e+r)*Math.PI/180)}[D(473)](t,e,r,i=!1){const n=D;let s;s=r?this._getEyeZByResolution(r):this[n(454)];const o=this[n(472)](s,this[n(495)]);return this[n(500)](o,t,e,i)*Math[n(408)](e*Math.PI/180)}[D(447)](){const t=D;let e=this[t(462)]&&1==this[t(462)][t(460)],r=this[t(454)]+this[t(437)];return e?5*r:r}[D(464)](t=-this[D(495)]){const e=D;if(this._getExtentTopToCenterAngle(1)===this[e(471)])return this[e(454)]+this[e(514)];const r=this._getAngleYByTargetToCenter(this[e(514)]*this[e(416)]);return this._getTargetZ(t,r)}[D(517)](t=-this[D(495)]){const e=D;if(this[e(503)](1)===this[e(471)])return this[e(454)]+this[e(514)];const r=this._getAngleYByTargetToCenter(this[e(514)]*this._fogEndFactor*100);return this[e(473)](t,r)}[D(482)](){const e=D,r=new t.Coordinate(this._eyeX,this._eyeY,this[e(454)],!0),i=new t.Coordinate(this._eyeX,this[e(486)],0,!0);return r[e(487)]("X",-this[e(495)],i),r[e(487)]("Z",-this[e(428)],i),r}[D(451)](){const e=D;return(new t.Matrix4)[e(515)](-this[e(457)],-this[e(486)],-this[e(454)])}[D(432)](){const t=D;return this._rotateXMatrix.clone()[t(410)](this[t(406)])}[D(498)](){return this[D(501)]}[D(440)](){return this._near}getAspact(){return this[D(458)]}getFrustumRay(){const t=D,e=this[t(488)]()[t(452)](),r=this[t(411)](e[0],e[4],e[8]),i=this._getVec3Normal(e[1],e[5],e[9]),n=this[t(411)](-e[2],-e[6],-e[10]),s=this[t(440)](),o=this[t(498)](),a=s*Math.tan(.5*o*Math.PI/180),h=this[t(407)](),l=this[t(470)](),c=r.x*a*h,u=r.y*a*h,p=r.z*a*h,f=i.x*a,g=i.y*a,d=i.z*a,_=n.x*s,y=n.y*s,m=n.z*s;let I={x:_-c+f,y:y-u+g,z:m-p+d},x={x:_+c+f,y:y+u+g,z:m+p+d},v={x:_-c-f,y:y-u-g,z:m-p-d},b={x:_+c-f,y:y+u-g,z:m+p-d};const w=Math[t(441)](I.x*I.x+I.y*I.y+I.z*I.z),T=w/s*l;return I={x:I.x/w*T,y:I.y/w*T,z:I.z/w*T},x=this._getVec3Normal(x.x,x.y,x.z),x=this._vec3Scale(x,T),b=this[t(411)](b.x,b.y,b.z),b=this[t(511)](b,T),v=this[t(411)](v.x,v.y,v.z),v=this[t(511)](v,T),[I.x,I.y,I.z,v.x,v.y,v.z,x.x,x.y,x.z,b.x,b.y,b.z]}[D(411)](t,e,r){const i=t*t+e*e+r*r,n=Math[D(441)](i);return{x:t/n,y:e/n,z:r/n}}_vec3Scale(t,e){return{x:t.x*e,y:t.y*e,z:t.z*e}}[D(422)](){const e=D;let r=this[e(486)]+this[e(430)]/2*this._resolution*2.2;const i=(new t.Matrix4).multiply(this[e(421)]())[e(410)](this.getViewMatrixWithoutRotateZ())[e(423)](new t.Vector4(this[e(457)],r,0,1)),n=i[e(456)](1)/i[e(456)](3);return n>1?1:n}[D(459)](){}}const B=["buttons","dispatch","clone","_moving","_hasMove","_panningTime","MAPMOUSEEVENT_MOUSEDOWN","activate","length","__proto__","MAPMOUSEEVENT_MOUSEUP","targetTouches","getAniminate","MAPEVENT_MOVESTART","destroy","panning","MAPTOUCHEVENT_TOUCHMOVE","_touchMove","_panDelta","MAPMOUSEEVENT_MOUSEOUT","getTime","MAPEVENT_MOVEEND","_disTolerance","animate","_status","615612jgfkan","unRegister","1wgagjX","_isPlaying","getCoordinateFromPixel","panend","getOwnPropertyNames","22459IVqhlZ","disTolerance","abs","1088485JfeBFq","120986DFTnAs","MAPMOUSEEVENT_MOUSEMOVE","getCenter","1190119Mppivb","_touchEnd","_moveEnd","MAPTOUCHEVENT_TOUCHEND","889186sQDcfj","_viewDelta","lPixel","_animate","_map","bind","setMap","1188611zEuvEp","_exclusive","getControlType","register","panStart","mapPixel","panTo","47RRUyDD","deactivate","event","setAniminate","getOrdinate","37CkLeBA","_touchStart","_viewOperating","button"],U=k;function k(t,e){return B[t-=250]}!function(t,e){const r=k;for(;;)try{if(625866===-parseInt(r(295))*parseInt(r(270))+-parseInt(r(273))*-parseInt(r(265))-parseInt(r(263))-parseInt(r(288))-parseInt(r(277))-parseInt(r(281))+-parseInt(r(274))*-parseInt(r(300)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(B);class V extends a{constructor(t={}){const e=k;super(),this._map=null,this[e(262)]=!1,this[e(260)]=t[e(271)]?t[e(271)]:8,this._animate=!!t[e(261)]&&t.animate,this[e(308)]=!1,this[e(256)]=[0,0],this[e(309)]=0,this._speed=1,this[e(266)]=!1,this[e(289)]=!0}[U(250)](){return this[U(284)]}[U(298)](t){this[U(284)]=t}mapPan(t){const e=U;this._map[e(294)](t,!0)}[U(287)](t){const e=U;super[e(287)](t),this[e(311)]()}[U(311)](){const t=U;super[t(311)](),this[t(285)]&&!this[t(262)]&&(this[t(262)]=!0,this[t(285)][t(297)][t(291)](p[t(310)],this[t(292)][t(286)](this)),this._map.event[t(291)](p.MAPMOUSEEVENT_MOUSEMOVE,this[t(253)][t(286)](this)),this._map[t(297)][t(291)](p[t(314)],this[t(268)][t(286)](this)),this[t(285)][t(297)][t(291)](p[t(257)],this[t(268)].bind(this)),this._map[t(297)].register(p.MAPTOUCHEVENT_TOUCHSTART,this[t(301)].bind(this)),this[t(285)][t(297)][t(291)](p[t(254)],this._touchMove.bind(this)),this[t(285)].event.register(p[t(280)],this[t(278)][t(286)](this)))}panStart(t){const e=U;if(0!==t[e(303)])return;this[e(283)]=t[e(293)],this[e(266)]=!0;let r=new R(p[e(251)]);this[e(285)].event[e(305)](r),this[e(285)][e(308)]=!1}panning(t){const e=U;0===t[e(303)]&&1===t[e(304)]&&this._moving(t)}[U(307)](e){const r=U;if(!this.lPixel)return;const i=e.mapPixel;if(Math[r(272)](i._x-this[r(283)]._x)+Math.abs(i._y-this.lPixel._y)<this[r(260)])return;const n=new R(p.MAPEVENT_MOVING);this._map[r(297)][r(305)](n);const s=this[r(285)].getCoordinateFromPixel(this[r(283)]),o=this[r(285)].getCoordinateFromPixel(i),a=-(o[r(299)]("X")-s[r(299)]("X")),h=-(o.getOrdinate("Y")-s[r(299)]("Y"));let l=this[r(285)][r(276)](),c=new t.Coordinate(l[r(299)]("X")+a,l[r(299)]("Y")+h);this._map[r(294)](c);let u=(new Date)[r(258)]();u-this[r(309)]<5||u-this[r(309)]>150?this[r(256)]=[0,0]:this[r(256)]=[a,h],this._panningTime=u,this._map[r(302)]=!0,this[r(283)]=i,this._map[r(308)]=!0}[U(268)](t){const e=U;this[e(266)]&&(this[e(266)]=!1,0===t.button&&this[e(285)][e(308)]&&this[e(279)](t))}_moveEnd(e){const r=U,i=e[r(293)],n=this._map[r(267)](this[r(283)]),s=this[r(285)][r(267)](i),o=-(s[r(299)]("X")-n.getOrdinate("X")),a=-(s.getOrdinate("Y")-n[r(299)]("Y"));let h=this[r(285)][r(276)](),l=new t.Coordinate(h.getOrdinate("X")+o,h[r(299)]("Y")+a);this[r(285)].panTo(l),this[r(283)]=i,(new Date)[r(258)]()-this._panningTime>20&&(this[r(256)]=[0,0]),this[r(285)][r(282)]={zoom:0,pan:this[r(256)],rotate:[0,0]},this[r(285)][r(302)]=!1;let c=new R(p[r(259)]);this[r(285)][r(297)][r(305)](c)}[U(296)](){const t=U;this._status&&(this[t(262)]=!1,this[t(285)][t(297)].unRegister(p[t(310)],this[t(292)].bind(this)),this[t(285)][t(297)][t(264)](p[t(275)],this.panning[t(286)](this)),this[t(285)].event[t(264)](p[t(314)],this[t(268)][t(286)](this)),this[t(285)][t(297)][t(264)](p.MAPTOUCHEVENT_TOUCHSTART,this[t(301)][t(286)](this)),this[t(285)][t(297)][t(264)](p[t(254)],this[t(255)][t(286)](this)),this[t(285)][t(297)][t(264)](p[t(280)],this[t(278)].bind(this)))}[U(306)](){const t=U;return new V({map:this[t(285)],animate:this[t(284)],status:this._status})}[U(252)](){const t=U;this[t(296)]();let e=Object[t(269)](this);for(let r=0,i=e[t(312)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this[t(313)]=null}[U(290)](){return h.Pan}[U(301)](t){const e=U;t[e(315)][e(312)]>1||(this[e(283)]=t[e(293)],this[e(266)]=!0,this[e(285)][e(308)]=!1)}_touchMove(t){const e=U;t[e(315)][e(312)]>1||this[e(307)](t)}_touchEnd(t){const e=U;t.targetTouches.length>1||this[e(266)]&&(this[e(266)]=!1,this[e(285)][e(308)]&&this[e(279)](t))}}const G=["_touchRotate","MAPMOUSEEVENT_MOUSEMOVE","343876ORyBoc","158269yQFikR","49309cfHpvt","MAPEVENT_ROTATEEND","_mousePixel","getOwnPropertyNames","getY","_touchXDis","normalize","_touchZAngle","atan2","_map","1cHyYMB","clone","floor","_rotateX","232499TYcFfi","_rotateTime","_status","_getRotateZ","map","getControlType","getRotateX","clientY","active","dot","Rotate","MAPTOUCHEVENT_TOUCHEND","getTime","register","animate","bind","unRegister","activate","rotateZ","MAPEVENT_ROTATESTART","_viewDelta","_rotateDelta","_touchXAngle","_viewOperating","container","getX","getAnimate","_touchYPre","touchXAngle","touchZAngle","rotate","_animate","_rotateEnd","event","rotateX","_touchXAnalgePerTouch","841965zGNKGN","length","clientHeight","_rotating","clientX","_camera","_exclusive","_rotateStart","_touchYCur","clientWidth","dispatch","__proto__","1STovle","_anglePre","_touchStart","touchXDis","resetRotate","targetTouches","abs","_pitch","1uMsKhs","buttons","_touchEnd","touchXAnalgePerTouch","MAPTOUCHEVENT_TOUCHMOVE","_getRotateX","_angleCur","1SqxbEn","_touchMove","MAPEVENT_EXTENTCHANGED","setMap","_bearing","_maxPitch","_calTouchAngle","getMaxPitch","8031BIzigf","deactivate","349190dTiixb","getElement","MAPMOUSEEVENT_MOUSEDOWN","_rotateZ","button","destroy","MAPMOUSEEVENT_MOUSEUP"],z=H;function H(t,e){return G[t-=263]}!function(t,e){const r=H;for(;;)try{if(181851===-parseInt(r(335))-parseInt(r(346))+-parseInt(r(356))*-parseInt(r(360))+parseInt(r(345))*-parseInt(r(318))+parseInt(r(325))*parseInt(r(333))-parseInt(r(344))+parseInt(r(298))*parseInt(r(310)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(G);class j extends a{constructor(t={}){const e=H;super(),this[e(293)]=t&&t[e(276)]?t[e(276)]:null,t&&t[e(266)]&&this.setMap(t[e(266)]),this[e(304)]=!0,this[e(283)]=[0,0],this[e(263)]=(new Date)[e(274)](),this[e(353)]=t[e(291)]||20,this[e(284)]=t[e(290)]||10,this[e(351)]=t[e(313)]||10,this._touchXAnalgePerTouch=t[e(321)]||3}[z(288)](){return this[z(293)]}setAnimate(t){this[z(293)]=t}[z(332)](){return this[z(330)]}[z(328)](t){const e=z;super.setMap(t),this[e(330)]=t[e(330)],this[e(279)]()}[z(279)](){const t=z;super.activate(),this[t(355)]&&!this[t(264)]&&(this[t(264)]=!0,this[t(355)].event[t(275)](p[t(337)],this._rotateStart[t(277)](this)),this[t(355)][t(295)][t(275)](p[t(343)],this._rotating.bind(this)),this[t(355)][t(295)][t(275)](p[t(341)],this._rotateEnd[t(277)](this)),this._map[t(295)].register(p.MAPTOUCHEVENT_TOUCHSTART,this._touchStart[t(277)](this)),this[t(355)][t(295)][t(275)](p[t(322)],this._touchMove[t(277)](this)),this[t(355)][t(295)][t(275)](p[t(273)],this._touchEnd.bind(this)))}[z(305)](e){const r=z;2===e[r(339)]?(this[r(355)][r(295)].dispatch(new R(p[r(281)])),this[r(348)]=new t.Pixel(e.x,e.y)):1===e[r(339)]&&(this[r(355)][r(295)][r(308)](new R(p.MAPEVENT_ROTATERESET)),this._map._camera[r(314)](),this[r(355)][r(317)]=0,this[r(355)][r(329)]=0,this._map._viewOperating=!0)}[z(301)](e){const r=z;if(2===e[r(319)]){this._map[r(295)][r(308)](new R(p.MAPEVENT_ROTATING));let i=new t.Pixel(e.x,e.y);const n=e.x-this._mousePixel[r(287)](),s=this._mousePixel.getY()-e.y;let o=0,a=0;Math[r(316)](n)>Math[r(316)](s)?a=this._getRotateZ(i):o=this[r(323)](i);const h=-this[r(355)][r(303)][r(268)](),l=h+o;o=l<this[r(330)]?o:this[r(330)]-h,o=l>0?o:-h,this[r(355)][r(303)].rotateX(-o),this._map[r(303)][r(280)](a),this[r(355)]._pitch=-this[r(355)][r(303)][r(359)],this[r(355)]._bearing=this[r(355)][r(303)][r(338)],this[r(283)]=[o,a],this._map[r(285)]=!0,this._rotateTime=(new Date)[r(274)](),this[r(348)]=i[r(357)](),this._map[r(295)].dispatch(new R(p[r(327)],"",this)),this[r(355)].af[r(270)](0)}}[z(294)](e){const r=z;if(2===e.button){let i=new t.Pixel(e.x,e.y);const n=e.x-this[r(348)][r(287)](),s=this[r(348)][r(350)]()-e.y;let o=0,a=0;Math[r(316)](n)>Math.abs(s)?a=this[r(265)](i):o=this[r(323)](i);const h=-this._map[r(303)][r(268)](),l=h+o;o=l<this[r(330)]?o:this._maxPitch-h,o=l>0?o:-h,this[r(355)][r(303)][r(296)](-o,1,0,0),this[r(355)][r(303)][r(280)](a,0,0,1),this[r(355)][r(317)]=-this._map[r(303)][r(359)],this[r(355)][r(329)]=this._map[r(303)][r(338)],(new Date)[r(274)]()-this[r(263)]>20&&(this[r(283)]=[0,0]),this[r(355)]._viewDelta={zoom:0,pan:[0,0],rotate:this._rotateDelta},this[r(355)][r(285)]=!1,this[r(348)]=i[r(357)](),this._map.event[r(308)](new R(p[r(347)]))}else 1===e[r(339)]&&(this[r(355)][r(285)]=!1)}_getRotateZ(e){const r=z,i=this[r(355)][r(286)][r(307)]/2,n=this._map[r(286)][r(300)]/2,s=this[r(348)][r(357)](),o=new t.Vector3(s[r(287)]()-i,n-s.getY()),a=new t.Vector3(e[r(287)]()-i,o[r(336)](1));o.normalize(),a[r(352)]();let h=a[r(271)](o);h=h>1?1:h,h=h<-1?-1:h;let l=180*Math.acos(h)/Math.PI;return o[r(336)](0)*a[r(336)](1)-o[r(336)](1)*a[r(336)](0)<0&&(l=-l),l}[z(323)](t){const e=z,r=-((this[e(348)][e(350)]()-t.getY())*this._map.getResolution())/this[e(355)][e(303)].getEyeZ()*4;return 180*Math.atan(r)/Math.PI}[z(334)](){const t=z;this[t(355)]&&this[t(264)]&&(this._map[t(295)][t(278)](p[t(337)],this[t(305)][t(277)](this)),this[t(355)][t(295)][t(278)](p[t(343)],this[t(301)][t(277)](this)),this[t(355)][t(295)].unRegister(p[t(341)],this._rotateEnd[t(277)](this)),this[t(355)][t(295)][t(278)](p.MAPTOUCHEVENT_TOUCHSTART,this[t(312)][t(277)](this)),this[t(355)].event[t(278)](p[t(322)],this._touchMove[t(277)](this)),this[t(355)][t(295)].unRegister(p[t(273)],this[t(320)][t(277)](this)),this[t(264)]=!1)}[z(340)](){const t=z;this[t(334)]();let e=Object[t(349)](this);for(let r=0,i=e[t(299)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this[t(309)]=null}[z(357)](){const t=z;return new j({maxPitch:this[t(330)],animate:this[t(293)],map:this._map})}[z(267)](){return h[z(272)]}_touchStart(t){const e=z,r=t[e(315)];if(r[e(299)]<2)return;const[i,n]=r;this._anglePre=this[e(331)](i,n),this[e(289)]=Math.floor((i[e(269)]+n.clientY)/2)}[z(326)](t){const e=z,r=t.targetTouches;r[e(299)]<2||(this[e(342)](r,!0),this[e(263)]=(new Date).getTime(),this._map[e(295)][e(308)](new R(p.MAPEVENT_EXTENTCHANGED,"",this)))}_touchEnd(t){const e=z,r=t[e(315)];if(r.length<2)return;this[e(342)](r),(new Date).getTime()-this._rotateTime>20&&(this._rotateDelta=[0,0]),this[e(355)][e(282)]={zoom:0,pan:[0,0],rotate:this[e(283)]},this[e(311)]=0,this._map[e(295)].dispatch(new R(p[e(347)],"",this))}_calTouchAngle(t,e){const r=z,i=e[r(302)]-t[r(302)],n=e.clientY-t.clientY;return 180*Math[r(354)](n,i)/Math.PI}[z(342)]([t,e],r=!1){const i=z;this._angleCur=this[i(331)](t,e),this[i(306)]=Math[i(358)]((t[i(269)]+e[i(269)])/2);const n=this._angleCur-this[i(311)];Math[i(316)](n)>this[i(353)]&&(this[i(355)][i(303)][i(280)](-n),this[i(355)][i(329)]=this[i(355)]._camera[i(338)],this._anglePre=this._angleCur),r&&this[i(355)][i(282)]&&(this._map._viewDelta[i(292)][1]=-n);const s=this[i(306)]-this[i(289)];if(Math[i(316)](this[i(311)])<this._touchXAngle&&Math.abs(this[i(324)])<this[i(284)]&&Math[i(316)](s)>=this[i(351)]){let t=0;const e=-this[i(355)][i(303)].getRotateX(),n=e+this[i(297)];t=s>0?n<this[i(330)]?-this[i(297)]:-(this._maxPitch-e):n<=0?0:-this[i(297)],this[i(355)]._camera[i(296)](-t),this._map[i(317)]=-this[i(355)][i(303)][i(359)],this[i(289)]=this[i(306)],r&&this[i(355)][i(282)]&&(this._map[i(282)][i(292)][0]=t)}}}const Y=["map","dispatch","_scollTimer","unRegister","MAPEVENT_ZOOMING","getAnimate","_zoom","MAPTOUCHEVENT_TOUCHSTART","targetTouches","MAPMOUSEEVENT_MOUSEWHEEL","deactivate","sqrt","wheelDelta","41153dqpLsd","_exclusive","bind","_zoomEnd","setCenter","_curTouchDistance","_touchMinDis","MAPEVENT_ZOOMEND","_getZoomTargetCenterDelta","mapPixel","valueOf","_status","clone","_intervalToEnd","getOwnPropertyNames","MAPEVENT_ZOOMSTART","_preTouchDistance","923574wYRymG","getContainerHSpan","__proto__","setMap","Zoom","detail","_touchMove","zoomType","1401131rqFvJm","touchMinDistance","19TICFev","_touchEnd","abs","MAPTOUCHEVENT_TOUCHEND","length","_touchStart","pow","_camera","_getTouchDistance","31409TPggzj","none","getMinZoom","_trigerTime","getMaxZoom","_zoomInterval","clientX","event","zoomout","16kxQNdp","getControlType","animate","_viewDelta","target","minus","_map","preventDefault","addOffset","_animate","register","getResolution","assign","getCenter","_viewOperating","1540479iCCajb","1243753CVrRph","getZoomWithInterval","getCoordinateFromPixel","activate","59952Zomzta","MAPTOUCHEVENT_TOUCHMOVE"],$=X;function X(t,e){return Y[t-=431]}!function(t,e){const r=X;for(;;)try{if(848883===parseInt(r(496))+parseInt(r(461))+parseInt(r(481))*-parseInt(r(501))+-parseInt(r(472))+parseInt(r(453))+parseInt(r(463))*-parseInt(r(436))+-parseInt(r(497)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Y);class W extends a{constructor(t){const e=X;super(),t=Object[e(493)]({animate:250},t),this._target=t[e(485)],this[e(490)]=t[e(483)],t[e(503)]&&this[e(456)](t.map),this[e(437)]=!0,this[e(475)]=0,this[e(449)]=500,this[e(442)]=t[e(462)]||200,this[e(460)]=e(473)}[$(508)](){return this._animate}setAnimate(t){this[$(490)]=t}_mapZoom(t,e){const r=$;this[r(487)][r(440)](t,e)}[$(456)](t){const e=$;super[e(456)](t),this[e(477)]=this[e(487)][e(477)],this.activate()}[$(500)](){const t=$;super.activate(),this[t(487)]&&!this[t(447)]&&(this[t(447)]=!0,this[t(487)][t(479)][t(491)](p[t(432)],this[t(509)][t(438)](this)),this[t(487)][t(479)].register(p[t(510)],this[t(468)][t(438)](this)),this._map[t(479)][t(491)](p[t(502)],this[t(459)][t(438)](this)),this[t(487)][t(479)][t(491)](p[t(466)],this[t(464)][t(438)](this)))}[$(509)](t){const e=$;0===this._trigerTime&&(this[e(487)][e(479)].dispatch(new R(p[e(451)])),this[e(475)]=(new Date)[e(446)]());let r=0;if(t[e(435)]?(r=t[e(435)],r%160==0&&(r*=.75),r/=120):t[e(458)]&&(r=-t.detail/Math.abs(t.detail)),r){let i=this[e(487)][e(498)]();const n=i;if(r<0){const t=this._map[e(474)]();if(i-=1/this[e(477)],i<t)return;this[e(460)]=e(480)}else{const t=this[e(487)][e(476)]();if(i+=1/this[e(477)],i>t)return;this.zoomType="zoomin"}const s=i,o=t[e(445)],a=this[e(444)](o,n,s),h=this[e(487)][e(494)]().clone()[e(489)](a);this[e(487)][e(440)](h,i),this[e(487)][e(479)][e(504)](new R(p[e(507)],{zoomType:this[e(460)]})),this[e(487)][e(495)]=!0}this[e(505)]=setTimeout(this._zoomEnd[e(438)](this),this[e(449)],this._trigerTime+this._intervalToEnd),t[e(488)]()}[$(439)](t){const e=$;clearTimeout(this[e(505)]),t-this[e(475)]>=this._intervalToEnd&&0!==this[e(475)]&&(this[e(487)][e(479)][e(504)](new R(p[e(443)],{zoomType:this.zoomType})),this[e(487)][e(484)]={zoom:0,pan:[0,0],rotate:[0,0]},this[e(487)]._viewOperating=!1,this._trigerTime=0)}[$(444)](t,e,r){const i=$,n=this._map._camera[i(499)](t,this._map[i(492)](e)),s=this._map._camera[i(499)](t,this[i(487)][i(492)](r));return n[i(486)](s)}[$(433)](){const t=$;this[t(487)]&&this[t(447)]&&(this._map[t(479)].unRegister(p[t(432)],this._zoom[t(438)](this)),this[t(487)][t(479)][t(506)](p[t(510)],this[t(468)][t(438)](this)),this._map[t(479)][t(506)](p.MAPTOUCHEVENT_TOUCHMOVE,this[t(459)][t(438)](this)),this[t(487)][t(479)].unRegister(p[t(466)],this[t(464)][t(438)](this)),this[t(447)]=!1)}destroy(){const t=$;this[t(433)]();let e=Object[t(450)](this);for(let t=0,r=e.length;t<r;t++){const r=e[t];this[r]=null,delete this[r]}this[t(455)]=null}[$(448)](){const t=$;return new W({animate:this[t(490)],target:this._target,map:this[t(487)]})}[$(482)](){return h[$(457)]}[$(468)](t){const e=$,r=t[e(431)];r[e(467)]<2||(this[e(452)]=this[e(471)](r),this[e(487)][e(479)][e(504)](new R(p[e(451)])))}[$(459)](e){const r=$,i=e[r(431)];if(i[r(467)]<2)return;if(e[r(488)](),this[r(441)]=this[r(471)](i),Math[r(465)](this[r(441)]-this[r(452)])<this._touchMinDis)return;let n=this[r(487)][r(498)]();if(this[r(441)]>this[r(452)]){const t=this[r(487)][r(476)]();if(n+=1/this[r(477)],n>t)return;this[r(460)]="zoomin"}else{const t=this[r(487)][r(474)]();if(n-=1/this._zoomInterval,n<t)return;this[r(460)]=r(480)}const s=this[r(487)].getContainerVSpan(),o=this[r(487)][r(454)](),a=new t.Pixel(o/2,s/2),h=this[r(487)][r(470)][r(499)](a,this[r(487)][r(492)](n));this._map[r(440)](h,n),this._map[r(479)][r(504)](new R(p.MAPEVENT_ZOOMING,{zoomType:this[r(460)]})),this._preTouchDistance=this[r(441)]}[$(464)](t){const e=$;t[e(431)][e(467)]<2||(this[e(487)].event[e(504)](new R(p[e(443)],{zoomType:this.zoomType})),this[e(452)]=null)}[$(471)]([t,e]){const r=$,i=t[r(478)],n=t.clientY,s=e.clientX,o=e.clientY;return Math[r(434)](Math[r(469)](i-s,2)+Math[r(469)](n-o,2))}}const Z=["getRange","NEVER","1msPAQl","boolean","getMask","depthMask","depthFunc","710559NFvGJl","GEQUAL","3669394hZoznF","depthRange","LESS","1HKtfny","EQUAL","active","getClearValue","clearDepth","28532kjSaQh","NOTEQUAL","_depthFunc","_enable","getFunc","_depthMask","_depthRange","setClearValue","1397743yBDUIi","89hgEzLJ","ALWAYS","setMask","1418471Yefrbb","223177vQbUle","_clearValue","GREATER","9185AMbBbk","isFinite"],q=J;function J(t,e){return Z[t-=173]}!function(t,e){const r=J;for(;;)try{if(765441===-parseInt(r(185))*-parseInt(r(192))+-parseInt(r(206))*parseInt(r(184))+-parseInt(r(196))*parseInt(r(188))+parseInt(r(176))+-parseInt(r(189))+-parseInt(r(201))+parseInt(r(203)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Z);class K{constructor(){const t=J;this[t(179)]=!0,this[t(178)]="LEQUAL",this[t(190)]=1,this._depthRange=[0,1],this[t(181)]=!0}[q(173)](t){const e=q;this[e(179)]?(t.enable(t.DEPTH_TEST),t[e(200)](t[this._depthFunc]),t[e(175)](this[e(190)]),t[e(204)](this[e(182)][0],this[e(182)][1]),t[e(199)](this[e(181)])):t.disable(t.DEPTH_TEST)}setEnable(t){const e=q;typeof t===e(197)&&(this[e(179)]=t)}getEnable(){return this[q(179)]}setFunc(t){this._depthFunc=t}[q(180)](){return this[q(178)]}[q(183)](t){Number[q(193)](t)&&t>=0&&t<=1&&(this._clearValue=t)}[q(174)](){return this[q(190)]}setRange(t){const e=q;t instanceof Array&&2==t.length&&t[0]>=0&&t[0]<=t[1]&&t[1]<=1&&(this[e(182)]=t)}[q(194)](){return this._depthRange}[q(187)](t){"boolean"==typeof t&&(this[q(181)]=t)}[q(198)](){return this[q(181)]}}const Q={NEVER:q(195),LESS:q(205),EQUAL:q(207),LEQUAL:"LEQUAL",GREATER:q(191),NOTEQUAL:q(177),GEQUAL:q(202),ALWAYS:q(186)},tt=["setEnable","ONE_MINUS_SRC_COLOR","_enable","_rgbSrcFactor","_alphaMode","7438bfzwVS","ONE_MINUS_DST_COLOR","alphaDstFactor","33NeTmml","blendEquationSeparate","boolean","36812VTblTd","SRC_ALPHA_SATURATE","rgbMode","580388UmsyTy","FUNC_ADD","BLEND","getEnable","blendColor","_rgbMode","SRC_ALPHA","ONE_MINUS_CONSTANT_ALPHA","disable","ONE_MINUS_SRC_ALPHA","CONSTANT_ALPHA","_rgbDstFactor","_rgba","_alphaSrcFactor","FUNC_REVERSE_SUBTRACT","5wvupzF","1177649AIxoTn","blendFuncSeparate","500159zFWZAr","_alphaDstFactor","1185393cQDneI","rgbDstFactor","toNormalizeArray","SRC_COLOR","DST_ALPHA","alphaMode","11337XwfbgM","1XYbIFT","ZERO","setBlendColor","170dWVsbz","ONE"],et=rt;function rt(t,e){return tt[t-=342]}!function(t,e){const r=rt;for(;;)try{if(633794===parseInt(r(378))*parseInt(r(371))-parseInt(r(357))+-parseInt(r(359))*-parseInt(r(368))-parseInt(r(387))+parseInt(r(361))+parseInt(r(367))*-parseInt(r(381))+-parseInt(r(356))*parseInt(r(384)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(tt);class it{constructor(){const t=rt;this[t(375)]=!0,this[t(376)]=t(347),this._rgbDstFactor="ONE_MINUS_SRC_ALPHA",this._alphaSrcFactor=t(372),this[t(360)]="ONE",this[t(346)]=t(342),this[t(377)]="FUNC_ADD",this[t(353)]=[0,0,0,0]}active(t){const e=rt;this[e(375)]?(t.enable(t.BLEND),t[e(358)](t[this[e(376)]],t[this._rgbDstFactor],t[this[e(354)]],t[this[e(360)]]),t[e(382)](t[this[e(346)]],t[this[e(377)]]),t[e(345)](this[e(353)][0],this[e(353)][1],this._rgba[2],this[e(353)][3])):t[e(349)](t[e(343)])}[et(373)](t){typeof t===et(383)&&(this._enable=t)}[et(344)](){return this[et(375)]}setFunc(t){const e=et;this[e(376)]=t.rgbSrcFactor||this._rgbSrcFactor,this[e(352)]=t[e(362)]||this[e(352)],this[e(354)]=t.alphaSrcFactor||this._alphaSrcFactor,this[e(360)]=t[e(380)]||this[e(360)],this._rgbMode=t[e(386)]||this[e(346)],this[e(377)]=t[e(366)]||this[e(377)]}getFuncParam(){const t=et;return{rgbSrcFactor:this[t(376)],rgbDstFactor:this[t(352)],alphaSrcFactor:this[t(354)],alphaDstFactor:this[t(360)],rgbMode:this[t(346)],alphaMode:this[t(377)]}}[et(370)](e){const r=et;if(e instanceof t.Color){const t=e[r(363)]();this[r(353)]=t}}getBlendColor(){return this._rgba}}const nt={ZERO:et(369),ONE:et(372),SRC_COLOR:et(364),ONE_MINUS_SRC_COLOR:et(374),DST_COLOR:"DST_COLOR",ONE_MINUS_DST_COLOR:et(379),SRC_ALPHA:et(347),ONE_MINUS_SRC_ALPHA:et(350),DST_ALPHA:et(365),ONE_MINUS_DST_ALPHA:"ONE_MINUS_DST_ALPHA",CONSTANT_COLOR:"CONSTANT_COLOR",ONE_MINUS_CONSTANT_COLOR:"ONE_MINUS_CONSTANT_COLOR",CONSTANT_ALPHA:et(351),ONE_MINUS_CONSTANT_ALPHA:et(348),SRC_ALPHA_SATURATE:et(385)};et(342),et(355);const st=["setEnable","getEnable","active","_frontFace","935201ucZXVZ","1196573DinkEH","boolean","914616OcjHyb","1TeFowf","2425wEcnwO","86902ckOdss","_cullFaceFunc","setFunc","9ZZxzvH","enable","getFrontFace","187294Cppudo","CULL_FACE","1286SRqJxu","getFunc","_enable","FRONT_AND_BACK","1279106qKjUzS","CCW","7mBJmDV","FRONT","frontFace","BACK","cullFace"],ot=ht;!function(t,e){const r=ht;for(;;)try{if(657260===-parseInt(r(480))+-parseInt(r(454))*-parseInt(r(457))+parseInt(r(460))*-parseInt(r(468))-parseInt(r(477))-parseInt(r(466))+-parseInt(r(452))*-parseInt(r(478))+-parseInt(r(462))*-parseInt(r(453)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(st);class at{constructor(){const t=ht;this._enable=!0,this[t(455)]=t(471),this[t(476)]=t(467)}[ot(475)](t){const e=ot;this._enable?(t[e(458)](t.CULL_FACE),t[e(472)](t[this._cullFaceFunc]),t[e(470)](t[this[e(476)]])):t.disable(t[e(461)])}[ot(473)](t){typeof t===ot(479)&&(this._enable=t)}[ot(474)](){return this[ot(464)]}[ot(456)](t){t&&(this._cullFaceFunc=t)}[ot(463)](){return this[ot(455)]}setFrontFace(t){t&&(this[ot(476)]=t)}[ot(459)](){return this[ot(476)]}}function ht(t,e){return st[t-=452]}ot(471),ot(469),ot(465);var lt=["polygonOffset","POLYGON_OFFSET_FILL","1zTxFlR","771127ZUjERV","2564006WvRQle","_polygonOffsetValue","807552zNpZZj","boolean","_enable","enable","getPolygonOffsetValue","1527755pZatdu","disable","1350664QQslnQ","getEnable","setEnable","setPolygonOffsetValue","1297223qfosAP","active","1491838xGVtNG"],ct=ut;function ut(t,e){return lt[t-=407]}!function(t,e){for(var r=ut;;)try{if(895969===parseInt(r(425))+-parseInt(r(409))+-parseInt(r(417))+parseInt(r(423))*parseInt(r(408))+-parseInt(r(412))+-parseInt(r(419))+parseInt(r(410)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(lt);class pt{constructor(){var t=ut;this._enable=!1,this[t(411)]=[0,0]}[ct(424)](t){var e=ct;this._enable?(t[e(415)](t[e(407)]),t[e(426)](this[e(411)][0],this._polygonOffsetValue[1])):t[e(418)](t[e(407)])}[ct(421)](t){var e=ct;typeof t===e(413)&&(this[e(414)]=t)}[ct(420)](){return this._enable}[ct(422)](t){var e=ct;t instanceof Array&&2==t.length&&(this[e(411)]=t)}[ct(416)](){return this[ct(411)]}}var ft=["active","enable","77032GHpwPH","getEnable","11519IXZIwE","disable","1AYnPfC","5LzBMNi","SCISSOR_TEST","setEnable","174443JjyjDI","_enable","24967aVmqvM","115297TeVDmO","length","scissor","2uTSOXK","_scissorRange","1HYnkeZ","96691getyip","setScissorRange","93508FEHoXw"],gt=_t;!function(t,e){for(var r=_t;;)try{if(126804===parseInt(r(252))*parseInt(r(240))+parseInt(r(246))*parseInt(r(242))+parseInt(r(243))*parseInt(r(248))+parseInt(r(254))*-parseInt(r(255))-parseInt(r(238))+parseInt(r(235))+-parseInt(r(249)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ft);class dt{constructor(){var t=_t;this[t(247)]=!1,this[t(253)]=[0,0,0,0]}[gt(236)](t){var e=gt;this[e(247)]?(t[e(237)](t[e(244)]),t[e(251)](this[e(253)][0],this[e(253)][1],this[e(253)][2],this[e(253)][3])):t[e(241)](t[e(244)])}[gt(245)](t){"boolean"==typeof t&&(this[gt(247)]=t)}[gt(239)](){return this[gt(247)]}[gt(234)](t){t instanceof Array&&4==t[gt(250)]&&t[0]>=0&&t[1]>=0&&t[2]>=0&&t[3]>=0&&(this._scissorRange=t)}getScissorRange(){return this[gt(253)]}}function _t(t,e){return ft[t-=234]}const yt=["REPLACE","mask","_ref","256146eIUYkO","_func","setFunc","LESS","NOTEQUAL","160662oaYfAt","DECR_WRAP","292340vieOfr","active","LEQUAL","STENCIL_TEST","enable","_sfail","98kKancn","139051AUnPFr","_zfail","stencilMask","disable","NEVER","ALWAYS","875ZgDpbL","getEnable","_zpass","INCR","DECR","_mask","14011xquKQI","INVERT","zpass","ZERO","KEEP","743331mhWKgt","zfail","INCR_WRAP","setEnable","10eyDVyM"];function mt(t,e){return yt[t-=230]}const It=mt;!function(t,e){const r=mt;for(;;)try{if(159228===parseInt(r(250))+parseInt(r(256))*-parseInt(r(263))+parseInt(r(243))+parseInt(r(248))+-parseInt(r(230))*-parseInt(r(239))+parseInt(r(257))+-parseInt(r(235)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(yt);class xt{constructor(){const t=mt;this._enable=!1,this[t(268)]=1,this[t(244)]=vt.ALWAYS,this[t(242)]=0,this[t(255)]=bt[t(234)],this._zfail=bt[t(234)],this[t(265)]=bt[t(234)]}[It(251)](t){const e=It;this._enable?(t[e(254)](t.STENCIL_TEST),t.stencilFunc(t[this._func],this[e(242)],this[e(268)]),t[e(259)](this._mask),t.stencilOp(t[this._sfail],t[this[e(258)]],t[this._zpass])):t[e(260)](t[e(253)])}[It(238)](t){"boolean"==typeof t&&(this._enable=t)}[It(264)](){return this._enable}[It(245)](t={}){const e=It;this[e(268)]=t[e(241)]||this[e(268)],this[e(255)]=t.sfail||this[e(255)],this[e(258)]=t[e(236)]||this._zfail,this[e(265)]=t[e(232)]||this[e(265)],this[e(244)]=t.func||this[e(244)],this._ref=t.ref||this[e(242)]}getFuncParam(){const t=It;return{mask:this[t(268)],sfail:this[t(255)],zfail:this._zfail,zpass:this[t(265)],func:this[t(244)],ref:this[t(242)]}}}const vt={NEVER:It(261),ALWAYS:It(262),LESS:It(246),LEQUAL:It(252),GREATER:"GREATER",EQUAL:"EQUAL",NOTEQUAL:It(247)},bt={KEEP:It(234),ZERO:It(233),REPLACE:It(240),INCR:It(266),INCR_WRAP:It(237),DECR:It(267),DECR_WRAP:It(249),INVERT:It(231)};var wt=["_polygonOffsetStatus","getBlendStatus","_stencilStatus","217604geXkRk","getPolygonOffsetStatus","getDepthStatus","148795sTRIty","getStencilStatus","_blendStatus","_cullFaceStatus","9221fNIWAu","442717qnmYNx","_scissorStatus","1492936dCmKPV","7652YAJtMX","_depthStatus","118HOjHQG","406eqEHvU","resetGLStatus","19qkGIfv","getCullFaceStatus","getScissorStatus","521UdaELC","4ClryCz","active","4JkauvY"],Tt=Ct;!function(t,e){for(var r=Ct;;)try{if(458846===-parseInt(r(390))*parseInt(r(407))+parseInt(r(387))*-parseInt(r(385))+parseInt(r(388))*parseInt(r(393))+-parseInt(r(394))*-parseInt(r(400))+-parseInt(r(403))*parseInt(r(396))-parseInt(r(408))+parseInt(r(384)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wt);class Et{constructor(){var t=Ct;this[t(386)]=new K,this[t(405)]=new it,this[t(406)]=new at,this[t(397)]=new pt,this[t(383)]=new dt,this[t(399)]=new xt}activeStatusManager(t){var e=Ct;this[e(386)][e(395)](t),this[e(405)][e(395)](t),this[e(406)][e(395)](t),this[e(397)][e(395)](t),this[e(383)][e(395)](t),this[e(399)][e(395)](t)}[Tt(404)](){return this[Tt(399)]}[Tt(402)](){return this[Tt(386)]}[Tt(398)](){return this[Tt(405)]}[Tt(391)](){return this[Tt(406)]}[Tt(401)](){return this._polygonOffsetStatus}[Tt(392)](){return this._scissorStatus}[Tt(389)](){var t=Tt;return this[t(386)]=new K,this[t(405)]=new it,this[t(406)]=new at,this[t(397)]=new pt,this._scissorStatus=new dt,this[t(399)]=new xt,this}}function Ct(t,e){return wt[t-=383]}const At=["2ItIFSl","12674sBKQKN","length","degrees","18595VVLGhZ","24YTxKCS","float32FromDouble64","1SgdfUk","1593XNbgia","1178738XViJFp","25644GexCDZ","floor","matrix32FromDouble64","77ZqzxJi","pow","2mpFQzU","fill","160159WowwnU","189062SxZzAJ"],Mt=St;function St(t,e){return At[t-=403]}!function(t,e){const r=St;for(;;)try{if(179687===-parseInt(r(420))*parseInt(r(403))+-parseInt(r(405))*parseInt(r(409))+-parseInt(r(412))*parseInt(r(404))+-parseInt(r(406))*parseInt(r(410))-parseInt(r(415))+-parseInt(r(418))*parseInt(r(413))+parseInt(r(414)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(At);class Pt{static[Mt(411)](t,e=Mt(408)){const r=Mt;let i=0,n=0,s=0;return e===r(408)?(i=Math[r(416)](t),n=(t-i)*Math[r(419)](10,7),n=Math[r(416)](n)):t>0?(s=65536*Math[r(416)](t/65536),i=s,n=t-s):(s=65536*Math[r(416)](-t/65536),i=-s,n=t+s),[i,n]}static[Mt(417)](t,e,r){const i=Mt;let n=new Array(16).fill(0),s=[...t];for(let o=0,a=e[i(407)];o<a;o++){const a=e[o],h=t[a],l=Pt[i(411)](h,r);s[a]=l[0],n[a]=l[1]}return{matrixH:s,matrixL:n}}static matrixCorrect(t,e){const r=Mt;let i=new Float32Array(16)[r(421)](0),n=new Float32Array(16)[r(421)](0);for(let s=0;s<16;s++){const o=t[s],a=Pt[r(411)](o,e);n[s]=a[0],i[s]=a[1]}return{matrixH:n,matrixL:i}}}const Rt=["TEXTURE_MAG_FILTER","raycasterIntersect","assign","TEXTURE_WRAP_S","1AsFuRt","opacity","generateMipmap","the Layer is abstract class,can not be instantiated!","_layerExtra","constructor","pixelStorei","ParticalLayer","preventDefault","removeLayer","PointCloudLayer","CLAMP_TO_EDGE","TEXTURE_MIN_FILTER","_layerContainer","OverlayLayer","setVisibility","setVisibleInViewport","_handleContextRestored","ObjModelInstanceLayer","_isLGD","_id","boolean","2fszDCm","animateId","zIndex","webglcontextlost","_crs","getContext","_zIndex","6637gMyqWi","getName","_handleContextLost","getPixelFromCoordinate","container","UNPACK_ALIGNMENT","ObjModelLayer","floor","_map","212746LEfZNF","orderLayerByIndex","getLayerContainer","getId","isFinite","TextLayer","active","GridLayer","_splitCameraPrecision","getExtent","redraw","PointsLayer","MeshLayer","LINEAR","texImage2D","GLTFLayer","67ZsTMmI","getUnit","VectorLayer","name","Tile3DLayer","Layer","static","logDepth","GeoJSONTileLayer","setName","bindTexture","setEnable","WMSLayer","visibility","map must be instance of hmap.Map!","isBaseLayer","getOrdinate","getGlTexture","FbxModelInstanceLayer","getDepthStatus","getContainerZIndex","isLGD","TEXTURE_2D","getResolution","layerOctree","the layer has not been add to hmap.Map object!","87375JAuddJ","145PLFkju","keys","UNPACK_FLIP_Y_WEBGL","filter","draw","PointCloudBaseLayer","precisionCorrect","585721corTjz","event","getCrs","depthTest","UNSIGNED_BYTE","stretchHeightScale","webglcontextrestored","TEXTURE0","ClusterLayer","addEventListener","1dKkALp","setZIndex","RangeThemeLayer","name must be string type!","getCamera","getMap","439191XkDItJ","style","createTexture","_renderer","_float32FromDouble64","TMSLayer","233IHLPKX","float32FromDouble64","getCoordinateFromPixel","KMLLayer","hasOwnProperty","1228JQiNym","crs","getLayerType","getContainer","precisionCorrectProject","RGBA","_visibility","opacity must be a Number between 0 and 1!","setContainerZIndex","_isRTE","GeosolutionLayer","7331aSEoPh","_checkLost","destroy","setOpacity","degrees","WMTSLayer","ThreeJSLayer","_invisibleViewport","_hdr","_opacity","getWebglContext","_isBaseLayer","texParameteri","enableHashCode","MVTLayer"],Lt=Ft;function Ft(t,e){return Rt[t-=294]}!function(t,e){const r=Ft;for(;;)try{if(299583===-parseInt(r(332))*-parseInt(r(327))+parseInt(r(416))*parseInt(r(343))+parseInt(r(384))*parseInt(r(400))+-parseInt(r(315))*parseInt(r(297))-parseInt(r(321))+parseInt(r(362))*parseInt(r(305))+parseInt(r(298))*-parseInt(r(391)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Rt);class Dt extends Et{constructor(e={}){const r=Ft;if(new.target===Dt)throw new Error(r(365));super(),this[r(382)]=t.Aid.createUnique(this[r(367)][r(419)]),this.container=null,this[r(399)]=null,this.stretchHeightScale=e.hasOwnProperty(r(310))?e[r(331)]("stretchHeightScale"):1,this[r(422)]=!e[r(331)](r(422))||e[r(422)],this[r(338)]=!e.hasOwnProperty(r(429))||e[r(429)],this._opacity=e[r(331)](r(363))?e.opacity:1,this[r(388)]=e[r(333)]?e[r(333)]:null,this[r(356)]=!1,this._isBaseLayer=!1,this[r(341)]=!0===e.isRTE;const i=!e[r(331)]("depthTest")||!1!==e.depthTest||e[r(308)];this[r(435)]()[r(427)](i),this._isLGD=!0===e[r(437)],this[r(381)]&&this[r(435)]()[r(427)](!0),this[r(324)]=null,this[r(375)]=null,this[r(351)]=0,this[r(350)]=[]}[Lt(334)](){return Ot[Lt(421)]}prepareData(){}[Lt(431)](){return this[Lt(354)]}getCrs(){return this[Lt(388)]}setCrs(e){e&&e instanceof t.Crs&&(this._crs=e)}clone(){}[Lt(345)](){const t=Lt;this[t(399)]&&this[t(399)][t(371)](this);for(let e of Object[t(299)](this))delete this[e]}[Lt(320)](){return this[Lt(399)]}[Lt(403)](){return this[Lt(382)]}[Lt(392)](){return this[Lt(419)]}getVisibility(){return this[Lt(338)]}[Lt(378)](t,e){const r=Lt;e?this[r(350)]=this[r(350)][r(301)]((e=>e!=t)):this[r(350)].push(t),this[r(399)]&&this._map.af[r(406)](0)}getInvisibleViewport(){return this[Lt(350)]}getOpacity(){return this._opacity}[Lt(409)](){const t=Lt;return this[t(320)]()?this[t(320)]()[t(409)]():null}[Lt(294)](){const t=Lt;return this.getMap()?this[t(320)]()[t(294)]():0}[Lt(329)](t){const e=Lt;if(!this[e(399)])throw new ReferenceError(e(296));return this[e(399)][e(329)](t)}[Lt(394)](t){const e=Lt;if(!this[e(399)])throw new ReferenceError(e(296));return this._map.getPixelFromCoordinate(t)}offMap(){const t=Lt;this[t(320)]()&&(this._map[t(371)](this),this[t(399)]=null)}[Lt(346)](t=1){const e=Lt;if(!(Number[e(404)](t)&&t>=0&&t<=1))throw new TypeError(e(339));this[e(352)]=t>=1?1:t<=0?0:t,this[e(410)]()}[Lt(377)](t=!0){if(typeof t!==Lt(383))throw new TypeError("visible must be boolean type!");this._visibility!==t&&(this._visibility=t),this.redraw()}setMap(t){const e=Lt;if(!(t instanceof sg))throw new TypeError(e(430));this[e(306)]=t[e(306)],this._map=t;const r=this[e(402)]();this[e(395)]=r[e(335)](),this.gl=r[e(389)]()}[Lt(359)](t){const e=Lt;if(this[e(356)])return this[e(295)].raycast(t)}[Lt(425)](t){if("string"!=typeof t)throw Lt(318);this.name=t}[Lt(353)](){return this.gl}[Lt(433)](t,e){const r=Lt;let i=t[r(323)]();return t.activeTexture(t[r(312)]),t[r(426)](t.TEXTURE_2D,i),t[r(368)](t[r(396)],1),t[r(368)](t[r(300)],0),t.texImage2D(t[r(438)],0,t[r(337)],1,1,0,t[r(337)],t[r(309)],new Uint8Array([255,255,255,255])),t[r(355)](t[r(438)],t[r(358)],t[r(413)]),t[r(355)](t[r(438)],t[r(374)],t.LINEAR),t.texParameteri(t[r(438)],t[r(361)],t.CLAMP_TO_EDGE),t.texParameteri(t[r(438)],t.TEXTURE_WRAP_T,t[r(373)]),t[r(364)](t[r(438)]),t[r(414)](t[r(438)],0,t[r(337)],t[r(337)],t[r(309)],e),{texture:i,unit:0}}[Lt(344)](){const t=Lt;let e=this;e[t(395)][t(314)](t(387),e[t(393)],!1),e[t(395)].addEventListener(t(311),e[t(379)].bind(this),!1)}_handleContextLost(t){const e=Lt;t[e(370)](),cancelAnimationFrame(this[e(385)])}[Lt(379)](){this[Lt(410)]()}[Lt(408)](t=Lt(347)){const e=Lt,r=this[e(320)]()[e(319)]().getCoordinate(),i=r.getOrdinate("X"),n=r[e(432)]("Y"),s=r.getOrdinate("Z"),o=Pt[e(328)](i,t),a=Pt.float32FromDouble64(n,t),h=Pt.float32FromDouble64(s,t);return{chx:o[0],clx:o[1],chy:a[0],cly:a[1],chz:h[0],clz:h[1]}}[Lt(325)](t){const e=Lt;let r=0,i=0,n=0;return this[e(320)]()[e(307)]()[e(417)]()===e(347)?(r=Math[e(398)](t),i=(t-r)*Math.pow(10,7),i=Math[e(398)](i)):t>0?(n=65536*Math[e(398)](t/65536),r=n,i=t-n):(n=65536*Math[e(398)](-t/65536),r=-n,i=t+n),[r,i]}[Lt(410)](t=1){const e=Lt;this[e(375)]&&this[e(375)][e(410)](t)}[Lt(302)](){this.activeStatusManager(this.gl)}[Lt(316)](t){const e=Lt;this._zIndex=t,this[e(375)]&&(this._layerContainer[e(401)](),this.redraw())}getZIndex(){return this[Lt(390)]}[Lt(340)](t){const e=Lt;this[e(395)].style[e(386)]=t}[Lt(436)](){const t=Lt;return parseFloat(this[t(395)][t(322)].zIndex)}[Lt(402)](){return this._layerContainer}setLayerContainer(t){this[Lt(375)]=t}_mergeExtra(t,e,r={}){return Object[Lt(360)](r,t,e),r}[Lt(366)](t={}){const e=Lt;if(this[e(341)]){t[this[e(399)]._crs[e(417)]()===e(347)?e(304):e(336)]=0}return this._isLGD&&(t[e(423)]=0),t}}let Ot={Layer:Lt(421),GridLayer:Lt(407),ClusterLayer:Lt(313),FbxModelLayer:"FbxModelLayer",GLTFLayer:Lt(415),ObjModelLayer:Lt(397),OverlayLayer:Lt(376),PointsLayer:Lt(411),S3MLayer:"S3MLayer",Tile3DLayer:Lt(420),TMSLayer:Lt(326),VectorLayer:Lt(418),VectorTileLayer:"VectorTileLayer",WMSLayer:Lt(428),WMTSLayer:Lt(348),GeosolutionLayer:Lt(342),TextLayer:Lt(405),ThreeJSLayer:Lt(349),MVTLayer:Lt(357),TerrainLayer:"TerrainLayer",MeshLayer:Lt(412),PointCloudBaseLayer:Lt(303),PointCloudLayer:Lt(372),KMLLayer:Lt(330),FbxModelInstanceLayer:Lt(434),ObjModelInstanceLayer:Lt(380),UniqueThemeLayer:"UniqueThemeLayer",RangeThemeLayer:Lt(317),GeoJSONTileLayer:Lt(424),ParticalLayer:Lt(369)};const Nt=["9iumQom","279710QMTmUF","UNPACK_ALIGNMENT","clear","initProgram","removeTextureObject","CLAMP_TO_EDGE","bufferImage","programs","LINEAR","TEXTURE0","constructor","FRAGMENT_SHADER","TEXTURE_2D","RGBA","UNSIGNED_BYTE","activeTexture","bufferSubImage","set","166962EhUHGz","225748uirFTF","attachShader","unit","deleteShader","helpers","_createTextureObject","linkProgram","pixelStorei","texImage2D","destroy","121453BmuBFA","loseContext","614622BFJWMb","createProgram","shaderSource","LINEAR_MIPMAP_LINEAR","UNPACK_FLIP_Y_WEBGL","18sjFBxm","width","wrap_t","_bufferTextureImage","deleteTexture","texParameteri","bufferImage2","wrap_s","mag_filter","delete","1rAFAer","textureObjects","hasProgram","TEXTURE_MIN_FILTER","getShaderParameter","TEXTURE_MAG_FILTER","compileShader","image","VERTEX_SHADER","createUnique","isPowerOf2","getExtension","76757QUceFM","forEach","getTextureObject","RGB8","bufferVideoTex","name","TEXTURE_WRAP_T","_texture","288281tMNAuc","generateMipmap","getProgram","createTexture","bindTexture","get","addProgram","has","min_filter","TEXTURE_WRAP_S","texture","texSubImage2D"],Bt=Ut;function Ut(t,e){return Nt[t-=268]}!function(t,e){const r=Ut;for(;;)try{if(371514===parseInt(r(320))*-parseInt(r(340))-parseInt(r(293))-parseInt(r(341))+parseInt(r(281))*parseInt(r(308))-parseInt(r(280))-parseInt(r(328))+parseInt(r(298))*parseInt(r(291)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Nt);class kt{constructor(t,e,r=0){const i=Ut;this.gl=t,this[i(338)]=e||null,this[i(283)]=r,this[i(315)]=null}bufferImage(t,e=!1){const r=Ut;if(!this[r(315)]||e){const e=this.gl;return this[r(315)]=t,e[r(289)](e[r(274)],0,e[r(275)],e.RGBA,e.UNSIGNED_BYTE,t),this}return null}[Bt(304)](t,e,r,i,n){const s=Bt,o=this.gl;o[s(289)](o[s(274)],0,o[r],t,e,0,o[r],o[i],n)}[Bt(278)](t,e,r,i,n){const s=Bt,o=this.gl;o[s(339)](o[s(274)],0,t,e,r,i,o[s(275)],o[s(276)],n)}[Bt(324)](){const t=Bt,e=this.gl;this[t(315)]&&e[t(289)](e[t(274)],0,e[t(323)],e.RGB,e[t(276)],this.image)}[Bt(332)](t){const e=Bt,r=this.gl;r[e(277)](r.TEXTURE0+(null!=t&&null!=t?t:this.unit)),r[e(332)](r[e(274)],this.texture)}[Bt(290)](){const t=Bt;this.gl[t(302)](this[t(338)]);for(const t in this)delete this[t]}}class Vt{constructor(t){const e=Bt;this.gl=t,this[e(285)]=new Map,this[e(309)]=new Map,this.programs=new Map}[Bt(333)](t){const e=Bt;return!this[e(285)].has(t)&&this[e(285)][e(279)](t,new Vt(t)),this[e(285)][e(333)](t)}[Bt(286)](t,e=0,r={}){const i=Bt,n=this.gl;let s=n[i(331)](),o=r[i(327)],a=o&&this[i(318)](o.width)&&this.isPowerOf2(o.height);const h=a&&n[r[i(336)]]==n.LINEAR?n[i(296)]:n[r.min_filter]||n[i(270)],l=r[i(306)]?n[r[i(306)]]:n.LINEAR,c=r[i(305)]?n[r[i(305)]]:n[i(346)],u=r[i(300)]?n[r[i(300)]]:n[i(346)];n.activeTexture(n[i(271)]+e),n.bindTexture(n[i(274)],s),n[i(288)](n[i(342)],1),n.pixelStorei(n[i(297)],0),n[i(303)](n[i(274)],n.TEXTURE_MIN_FILTER,h),n.texParameteri(n[i(274)],n.TEXTURE_MAG_FILTER,l),n[i(303)](n[i(274)],n[i(337)],c),n.texParameteri(n.TEXTURE_2D,n[i(326)],u),a&&o&&(n[i(289)](n.TEXTURE_2D,0,n[i(275)],n[i(275)],n.UNSIGNED_BYTE,o),n[i(329)](n.TEXTURE_2D));const p=new kt(n,s,e);return this[i(309)][i(279)](t,p),this[i(309)][i(333)](t)}[Bt(318)](t){return 0==(t&t-1)}[Bt(301)](t,e={}){const r=Bt,i=this.gl;let n=this.getTextureObject(t);if(n){let t=e[r(327)]||e[r(315)],s=t&&this[r(318)](t[r(299)])&&this[r(318)](t.height);const o=s&&i[e[r(336)]]==i[r(270)]?i[r(296)]:i[e[r(336)]]||i[r(270)],a=e[r(306)]?i[e[r(306)]]:i[r(270)],h=e.wrap_s?i[e[r(305)]]:i.CLAMP_TO_EDGE,l=e[r(300)]?i[e[r(300)]]:i[r(346)];i[r(288)](i.UNPACK_ALIGNMENT,1),i[r(288)](i[r(297)],0),i[r(303)](i[r(274)],i[r(311)],o),i[r(303)](i[r(274)],i[r(313)],a),i.texParameteri(i[r(274)],i[r(337)],h),i[r(303)](i.TEXTURE_2D,i[r(326)],l),n[r(268)](t,!0),s&&i[r(329)](i[r(274)])}}[Bt(290)](){const t=Bt;this[t(309)][t(321)](((e,r)=>{e[t(290)]()})),this[t(309)][t(343)](),this.programs.forEach(((e,r)=>{e[t(290)]()})),this[t(269)].clear(),this.gl[t(319)]("WEBGL_lose_context")[t(292)]()}[Bt(345)](t){const e=Bt;let r=this[e(322)](t);r[e(290)](),r=null,this[e(309)][e(307)](t)}[Bt(322)](e,r=0,i){const n=Bt;return!e&&(e=t.Aid[n(317)](this[n(272)][n(325)])),this[n(309)].has(e)?this.textureObjects.get(e)[n(332)]():this[n(286)](e,r,i),this.textureObjects.get(e)}[Bt(344)](t,e,r){const i=Bt;let n=t[i(294)](),s=this[i(314)](t,t[i(316)],e),o=this[i(314)](t,t[i(273)],r);return s&&o?(t.attachShader(n,s),t[i(282)](n,o),t[i(287)](n),t[i(284)](s),t[i(284)](o),n):null}compileShader(t,e,r){const i=Bt;let n=t.createShader(e);if(t[i(295)](n,r),t[i(314)](n),!t[i(312)](n,t.COMPILE_STATUS)){let e=t.getShaderInfoLog(n);throw new Error(e)}return n}[Bt(334)](t){const e=Bt,r=t.id;return this.programs[e(335)](r)?(t.destroy(),t=null,this[e(269)][e(333)](r)):(this.programs.set(t.id,t),t)}[Bt(310)](t){const e=Bt;return this[e(269)][e(335)](t)}[Bt(330)](t){return this[Bt(269)].get(t)}}let Gt=new Vt;const zt=["1166637bKneie","2695253wrGFns","8852BFCuJf","302532UmFTro","455167saGSiN","357222nMbocm","543980qiNrcb","1NkLxkT","\n    precision highp float;\n    uniform float u_opacity;\n\n    #include <colorU_defineF>\n    #include <texture2D_defineF>\n    #include <stretchTexture2D_defineF>\n    #include <colorI_defineF>\n   // #include <fog_defineF>\n    #include <logDepth_defineF>\n    #include <oit_defineF>\n    #include <highlight_defineF>\n    #include <vPosition_defineF>\n    #include <noise_defineF>\n    #include <radialGradient_defineF>\n    #include <light_defineF>\n    #include <depthDelta_defineF>\n    #include <stretchWindow_defineF>\n    #include <outline_defineF>\n     out vec4 outColor;\n     void main(){\n        #include <outline_realizeF>\n        \n        outColor = vec4(1.0);\n        #include <texture2D_realizeF>\n        #include <stretchTexture2D_realizeF>\n        float alpha=1.0;\n        #include <sdftext_realize>\n        #include <colorI_realizeF>\n        #include <colorU_realizeF>\n        #include <depthDelta_realizeF>\n        //#include <fog_realizeF>\n        #include <logDepth_realizeF>\n        #include <radialGradient_realizeF>\n        outColor=vec4(outColor.rgb,outColor.a*u_opacity*alpha);\n        #include <oit_realizeF>\n        #include <noise_realizeF>\n        #include <highlight_realizeF>\n        #include <light_realizeF>\n        #include <stretchWindow_realizeF>\n    }\n"],Ht=Yt;!function(t,e){const r=Yt;for(;;)try{if(966527===-parseInt(r(453))*parseInt(r(456))-parseInt(r(461))+parseInt(r(455))+-parseInt(r(458))+parseInt(r(460))+-parseInt(r(454))+parseInt(r(459)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(zt);let jt=Ht(457);function Yt(t,e){return zt[t-=453]}const $t=["\n    precision highp float;\n    in vec3 a_position;\n    uniform mat4 u_vMatrix;\n    uniform mat4 u_pMatrix;\n    uniform vec2 u_viewport;\n    #include <mMatrix_define>\n    #include <texture2D_defineV>\n    #include <stretch_defineV>\n    #include <stretchTexture2D_defineV>\n    #include <colorI_defineV>\n    #include <offset_define>\n    #include <precisionCorrect_define>\n    #include <precisionCorrectProject_define>\n    #include <coordOffset_define>\n    #include <logDepth_defineV>\n    #include <oit_defineV>\n    #include <highlight_defineV>\n    #include <vPosition_defineV>\n    #include <radialGradient_defineV>\n    #include <light_defineV>\n    #include <depthDelta_defineV>\n    #include <stretchWindow_defineV>\n    #include <aNormal_defineV>\n    void main(){\n        #include <aNormal_realizeV>\n        vec3 position=a_position;\n        mat4 vMatrix=u_vMatrix;\n        mat4 pMatrix=u_pMatrix;\n        #include <precisionCorrect_realize>\n        #include <precisionCorrectProject_realize>\n        #include <coordOffset_realize>\n        #include <stretch_realizeV>\n        gl_Position=vec4(position, 1.0);\n        #include <mMatrix_realize>\n        gl_Position = pMatrix * vMatrix * gl_Position;\n        \n        #include <depthDelta_realizeV>\n        #include <offset_realize>\n        #include <colorI_realizeV>\n        #include <texture2D_realizeV>\n        #include <stretchTexture2D_realizeV>\n        #include <logDepth_realizeV>\n        #include <oit_realizeV>\n        #include <highlight_realizeV>\n        #include <vPosition_realizeV>\n        #include <radialGradient_realizeV>\n        #include <light_realizeV>\n        #include <stretchWindow_realizeV>\n    }\n","137481dwvOfy","1512730gZVENb","915740FFjRyo","898519qvggAd","13KAyDWJ","71598tIpELS","1675BIroNU","8zRhqVe","5xqrtRI","445wEERSo","789525spiDWS"];function Xt(t,e){return $t[t-=353]}const Wt=Xt;!function(t,e){const r=Xt;for(;;)try{if(893806===-parseInt(r(360))+parseInt(r(356))+parseInt(r(364))*-parseInt(r(355))+parseInt(r(363))*parseInt(r(353))+-parseInt(r(362))*parseInt(r(358))+-parseInt(r(359))+parseInt(r(361))*parseInt(r(354)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($t);let Zt=Wt(357);const qt=["4gTeZdN","351100dYryzh","553112sAdBDV","168694OWkAtb","1847945RoMbzJ","237947WfzRjH","415074BppxVy","327865uLkqvs","5FdLMQF"];function Jt(t,e){return qt[t-=349]}!function(t,e){const r=Jt;for(;;)try{if(593614===-parseInt(r(357))+parseInt(r(356))+parseInt(r(355))*-parseInt(r(351))+parseInt(r(353))+-parseInt(r(349))*parseInt(r(354))+parseInt(r(352))+parseInt(r(350)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(qt);const Kt=["39837jMOIUK","481980YrfaTP","791108ctCqFO","2438675hwVCjz","91WzizlG","1QHRdsl","9076jSCThL","9zVeMFX","303153iwJpby","747441oQxoLD"];function Qt(t,e){return Kt[t-=100]}!function(t,e){const r=Qt;for(;;)try{if(425426===parseInt(r(102))*-parseInt(r(100))+-parseInt(r(103))*parseInt(r(106))+-parseInt(r(101))*parseInt(r(104))+parseInt(r(105))+-parseInt(r(107))+-parseInt(r(108))+parseInt(r(109)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Kt);const te=["448358tjsPHy","38npUyUq","1LNXXgl","21984ZIOrCT","732635EdWczJ","1wfddyY","5494BFOBIx","\nprecision mediump float;\nuniform float u_opacity;//n\n#include <colorI_defineF>\n#include <fog_defineF>\n#include <sprite_defineF>//n#include <texture2D_defineF>//\n\n#include <opacity_defineF>\n#include <dynamicText_defineF>\n#include <highlight_defineF>\n#include <vPosition_defineF>\n\nout vec4 outColor;\n\nvoid main(){\n    outColor = vec4(1.0);\n\n    #include <sprite_realizeF>//n    #include <texture2D_realizeF>//\n    #include <dynamicText_realizeF>//n    float alpha=1.0;\n    #include <sdftext_realize>\n    #include <colorI_realizeF>\n    \n    outColor.a = outColor.a * u_opacity*alpha;\n\n    #include <opacity_realizeF>//n    \n    if(outColor.a==0.0){discard;}\n\n    #include <fog_realizeF>//\n    #include <highlight_realizeF>\n}\n","534717clNCDx","1DHaPqd","218017AIybxf","1767817bRdsSM"];function ee(t,e){return te[t-=437]}const re=ee;!function(t,e){const r=ee;for(;;)try{if(458474===-parseInt(r(447))*-parseInt(r(442))-parseInt(r(446))+parseInt(r(441))*-parseInt(r(439))+parseInt(r(443))*-parseInt(r(448))+parseInt(r(444))*-parseInt(r(440))-parseInt(r(438))+parseInt(r(437)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(te);let ie=re(445);const ne=["1DLgTJl","1209891gQEOIH","4uXIUaR","13zfvuVe","36502rqnxDV","9CupfuN","1498303qUSgxL","111131DaLEIu","4MHtDPT","40219xBlaQg","78139oSdIsy","294977EBPeRf"];function se(t,e){return ne[t-=188]}!function(t,e){const r=se;for(;;)try{if(798988===parseInt(r(196))+-parseInt(r(195))*parseInt(r(194))+parseInt(r(189))*parseInt(r(193))+-parseInt(r(188))*parseInt(r(197))+-parseInt(r(199))+-parseInt(r(198))*-parseInt(r(192))+-parseInt(r(190))*-parseInt(r(191)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ne);const oe=["#version 300 es\n    in vec2 aa_position;\n    out float y;\n    in vec2 a_textureArr;\n    out vec2 o_textureArr;\n    void main(){\n        gl_Position =vec4(aa_position,-1,1);\n        y=gl_Position.y;\n        o_textureArr=a_textureArr;\n    }\n","202542Yeoido","62506MzrPLA","13479qFEjEI","47631oHHTKq","122711vTRnsE","9651QYfsuO","104975dzrxEw"],ae=he;function he(t,e){return oe[t-=360]}!function(t,e){const r=he;for(;;)try{if(113969===parseInt(r(362))+-parseInt(r(367))+parseInt(r(360))+-parseInt(r(363))+-parseInt(r(364))+-parseInt(r(361))+parseInt(r(366)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(oe);let le=ae(365);const ce=["35641KCBjVV","321124VMUVRN","3sFeQca","1DNuBvd","153371mIRLDs","538783hiUOmE","12LalyQn","116496tVZXKx","721846tPHfko","4JGtadc","31947NPetoC"];function ue(t,e){return ce[t-=455]}!function(t,e){const r=ue;for(;;)try{if(286815===parseInt(r(463))*parseInt(r(456))-parseInt(r(462))+-parseInt(r(459))*parseInt(r(461))+parseInt(r(458))*-parseInt(r(460))+-parseInt(r(455))*-parseInt(r(464))+parseInt(r(457))+parseInt(r(465)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ce);const pe=["15SjNHZH","\n\nin vec3 a_position;\nin vec3 a_normal;\nin vec3 a_color;\n\nuniform mat4 u_pMatrix;\nuniform mat4 u_vMatrix;\nuniform mat4 u_mMatrix;\nout vec3 v_color;\nvoid main(){\n    mat4 modelMatrix=u_mMatrix;\n    modelMatrix[3]=vec4(0.0,0.0,0.0,modelMatrix[3][3]);//n    gl_Position=u_pMatrix*u_vMatrix*modelMatrix*vec4(a_position,1.0);\n    gl_PointSize = 1.0;\n    v_color = a_color;\n}\n","415802DlojFj","81071KclWgd","631267avBgHF","792533QBaSoQ","88519bdPRth","772720LuHNvS","4496yESnwe","174YLOQRK","14GxWzec"],fe=ge;function ge(t,e){return pe[t-=273]}!function(t,e){const r=ge;for(;;)try{if(931847===parseInt(r(278))+-parseInt(r(273))*parseInt(r(277))+parseInt(r(281))+parseInt(r(276))+parseInt(r(279))+-parseInt(r(282))*-parseInt(r(283))+parseInt(r(280))*-parseInt(r(274)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(pe);let de=fe(275);const _e=["442558otYsSR","\nprecision mediump float;\n\nin vec3 v_color;\nout vec4 outColor;\nvoid main(){\n    outColor =vec4(v_color,1.0);\n}\n","75403yLtCMr","262870SalMCa","146ixJRtn","707917Gjdcib","679415JFkxps","7ETEogi","147370MbJswL","1418cSdnzp"],ye=me;function me(t,e){return _e[t-=436]}!function(t,e){const r=me;for(;;)try{if(379289===parseInt(r(442))+-parseInt(r(438))*-parseInt(r(443))+parseInt(r(439))+parseInt(r(445))*parseInt(r(440))+-parseInt(r(444))+-parseInt(r(441))+-parseInt(r(436)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_e);let Ie=ye(437);const xe=["3DooGnW","8889VetfhP","205833ubEsMB","29uGzrYf","491quLBOj","101ttoIXP","10jcfAiM","100727phcAlN","1713041lklmTZ","31566gADsmp","345877ZStFFK"];function ve(t,e){return xe[t-=309]}!function(t,e){const r=ve;for(;;)try{if(236118===parseInt(r(311))*-parseInt(r(315))+-parseInt(r(309))*parseInt(r(319))+-parseInt(r(310))*parseInt(r(313))-parseInt(r(314))-parseInt(r(317))+parseInt(r(318))*-parseInt(r(316))+parseInt(r(312)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xe);const be=["84WYMVUK","1lrbtJM","474146HXZpzx","909574LVNZjw","2SWNyZD","3718fVPahn","512987lltMts","#version 300 es\n    precision highp float;\n    \n    uniform float u_time;\n    uniform vec2 mouse;\n    uniform vec2 u_viewport;\n    uniform float u_fogEdge;\n    uniform vec4 u_fogColor;\n    uniform float u_angle;\n    uniform float u_cover;\n    uniform float u_shadowRatio;    \n    uniform float u_shadowThickness;\n    uniform float u_timeRate;\n    uniform float u_scale;\n    \n    mat2 RM;\n    out vec4 outColor;\n    \n    float hash( float n )\n    {\n        return fract(sin(n)*758.5453);\n    }\n    \n    float noise( in vec3 x )\n    {\n        vec3 p = floor(x);\n        vec3 f = fract(x);\n        float n = p.x + p.y*57.0 + p.z*800.0;\n        float res = mix(mix(mix( hash(n + 0.0), hash(n+  1.0),f.x), mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y),\n                mix(mix( hash(n+800.0), hash(n+801.0),f.x), mix( hash(n+857.0), hash(n+858.0),f.x),f.y),f.z);\n        return res;\n    }\n    \n    float fbm( vec3 p )\n    {\n        float f = 0.0;\n        f += 0.50000*noise( p ); p = p*2.02;\n        f -= 0.25000*noise( p ); p = p*2.03;\n        f += 0.12500*noise( p ); p = p*3.01;\n        f += 0.06250*noise( p ); p = p*3.04;\n        f += 0.03500*noise( p ); p = p*4.01;\n        f += 0.01250*noise( p ); p = p*4.04;\n        f -= 0.00125*noise( p );\n        return f/0.984375;\n    }\n    \n    float cloud(vec3 p)\n    {\n        p-=fbm(vec3(p.x,p.y,0.0)*0.5)*1.25;\n        float a = min((fbm(p*3.0)*2.2-1.1), 0.0);\n        return a*a;\n    }\n    \n    float shadow = 1.0;    \n    \n    float clouds(vec2 p){\n        float ic = cloud(vec3(p * 2.0, u_time*0.01 * u_timeRate)) / u_cover;\n        float init = smoothstep(0.1, 1.0, ic) * 10.0;\n        shadow = smoothstep(0.0, u_shadowRatio, ic) * u_shadowThickness + (1.0 - u_shadowThickness);\n        init = (init * cloud(vec3(p * (6.0), u_time*0.01 * u_timeRate)) * ic);\n        init = (init * (cloud(vec3(p * (11.0), u_time*0.01 * u_timeRate))*0.5 + 0.4) * init);\n        return min(1.0, init);\n    }\n    \n    vec2 ratio = vec2(1.0, 1.0);\n    \n    vec3 getresult(){\n        float proportion = u_viewport.y / gl_FragCoord.y;\n        float factor = pow(1.45, sqrt(tan(sqrt(proportion)))) / pow(2., u_fogEdge);\n        factor = pow(1.55, factor);\n        // float factor = pow(1.45, proportion) / pow(2., u_fogEdge);\n        // float factor = pow(1.55, sqrt(abs(tan(proportion * .6)))) * pow(sin(proportion), 2.);\n        // float factor = sqrt(tan(sqrt(proportion))) / pow(2., u_fogEdge);\n        // float factor = pow(1.55, abs(tan(u_viewport.y * .6 / gl_FragCoord.y) - .7)) / pow(2., u_fogEdge);\n        vec2 surfacePosition = ((( gl_FragCoord.xy / u_viewport.xy ) * vec2(u_viewport.x / u_viewport.y, 1.0)) * 2.0 - 1.0)*u_scale * factor;\n        vec2 position = RM*( surfacePosition);\n        vec2 sun = RM * ((mouse.xy/ u_viewport.xy)* vec2(u_viewport.x / u_viewport.y, 1.0)*2.0-1.0) * u_scale;\n        float dst = distance(sun * ratio, position * ratio);\n        float suni = pow(dst + 1.0, -10.0);\n        float shaft =0.0;\n        float st = 1.0;\n        vec2 dir = sun - position;\n        float c = clouds(position);\n        shadow = min(1.0, shadow + suni * suni * 0.2);\n        suni *= (shaft * 0.1);\n        return pow(mix(vec3(shadow), pow(vec3(u_fogColor.rgb), vec3(2.2)) + suni, c), vec3(1.0/2.2));\t\t\n    }\n    \n    in float y;\n    void main()\n    {\n        RM = mat2(cos(u_angle), -sin(u_angle), sin(u_angle), cos(u_angle));\n        outColor = getresult().xyzz;\n        outColor = mix(outColor, u_fogColor, 0.1);\n        float fogFactor = smoothstep(u_fogEdge, u_fogEdge + 0.3, y);\n        outColor *= fogFactor;\n    }\n","192883qIxCWz","1bLZXwC","635708KemlmK","941743IxWwih"],we=Ee;!function(t,e){const r=Ee;for(;;)try{if(481710===parseInt(r(422))+-parseInt(r(424))*parseInt(r(429))+-parseInt(r(421))*parseInt(r(426))+parseInt(r(423))+parseInt(r(427))+parseInt(r(420))*-parseInt(r(425))+-parseInt(r(428))*parseInt(r(418)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(be);let Te=we(419);function Ee(t,e){return be[t-=418]}const Ce=["141IQoDgV","2PrmcGA","10936gXzIZu","66543vwuslB","130413nQaaYN","68211CZgtmT","209306oolsDf","647MFMLNX","1SEZcTO","#version 300 es\nin vec3 a_position;\nuniform mat4 u_projMatrix;\nuniform mat4 u_viewMatrix;\nuniform mat4 u_modelMatrix;\n   \nout vec3 v_normal;\n    \nvoid main() {\n  vec4 position=vec4(a_position, 1.0);\n  gl_Position = u_projMatrix * u_viewMatrix * u_modelMatrix * position;\n  v_normal = a_position;\n}\n","1055ehJkGw","229HJzGLe"],Ae=Me;function Me(t,e){return Ce[t-=330]}!function(t,e){const r=Me;for(;;)try{if(132240===-parseInt(r(330))-parseInt(r(340))+parseInt(r(341))*parseInt(r(339))+parseInt(r(334))*-parseInt(r(331))+-parseInt(r(338))*parseInt(r(336))+parseInt(r(332))+parseInt(r(337))*parseInt(r(333)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ce);let Se=Ae(335);const Pe=["876251NwrvBI","52zAZIZB","2VfPmRe","#version 300 es\n    #define PI 3.141592554\n    precision highp float;\n    uniform samplerCube u_cubeSampler;\n    uniform vec4 u_landColor;\n    uniform float u_mapPitch;\n    \n    in vec3 v_normal;\n    out vec4 outColor;\n    \n    void main()\n    {\n        vec4 texColor = texture(u_cubeSampler, v_normal);\n        float pitch = PI/2.0 + (PI/2.0 - clamp(u_mapPitch * PI / 180.0, PI/4.0, PI/2.0))*0.25/(PI/4.0);\n        float endAngle = pitch;\n        float startAngle = endAngle - 0.1;\n        float angle = acos(v_normal.y/length(v_normal) );\n        outColor = mix(texColor, u_landColor, smoothstep(0.0, 1.0, (angle - startAngle)/(endAngle - startAngle)));\n        // vec4 texColor = texture(u_cubeSampler, v_normal);\n        // float param = smoothstep(0.0, 1.0, v_normal.y*20.0);\n        // outColor = mix(u_landColor, texColor, param);\n    }\n","501979XWTlIo","281116avQOaK","24017lGfuCC","3hbntzn","297233LCYxuV","412165xJBfkF","61aHZQuH","9812fOqLSv","1lWHesZ"];function Re(t,e){return Pe[t-=157]}const Le=Re;!function(t,e){const r=Re;for(;;)try{if(642567===-parseInt(r(164))+-parseInt(r(167))*-parseInt(r(165))+-parseInt(r(157))*parseInt(r(158))+parseInt(r(161))*parseInt(r(166))+-parseInt(r(168))*parseInt(r(159))-parseInt(r(160))+-parseInt(r(169))*-parseInt(r(162)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Pe);let Fe=Le(163);const De=["11379FfpLeh","913065STNCtH","5guUUFJ","688182wyxTSa","4BFPxJS","1ozQmFR","88685HSUOKF","39086fHsvCX","798048MPpMmb","1ZUnnyl","258059geACKG"];function Oe(t,e){return De[t-=164]}!function(t,e){const r=Oe;for(;;)try{if(669694===parseInt(r(172))+-parseInt(r(171))*-parseInt(r(169))+-parseInt(r(165))*-parseInt(r(173))+-parseInt(r(167))*parseInt(r(164))+parseInt(r(174))*-parseInt(r(168))+-parseInt(r(166))+parseInt(r(170)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(De);const Ne=["346003dHfeYo","\n#ifdef colorI\n    in vec4 a_color;\n    out vec4 v_color;\n#endif\n","137713jNqTsm","4RnEldX","258061ymuklP","347083SLsIIj","647BuJudu","536VGVjpC","394871SeiSPn","2TnlcfT","5YazXfK","1270453yQKMYz"];function Be(t,e){return Ne[t-=270]}const Ue=Be;!function(t,e){const r=Be;for(;;)try{if(740344===parseInt(r(274))+parseInt(r(278))*parseInt(r(275))+parseInt(r(271))*-parseInt(r(272))+parseInt(r(279))+-parseInt(r(277))*parseInt(r(273))+-parseInt(r(280))+parseInt(r(270))*-parseInt(r(281)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ne);let ke=Ue(276);const Ve=["1134617DylMPo","2701qvhLOj","1478041mmSplM","180DnuxmI","841484VjbSDu","\n#ifdef colorI\n    outColor = outColor*v_color;\n#endif\n","1208391xJKiRR","8JMySvm","232007eUsnuG","1NiOcwN","279bHPZQi"],Ge=ze;function ze(t,e){return Ve[t-=371]}!function(t,e){const r=ze;for(;;)try{if(766178===parseInt(r(378))*-parseInt(r(375))+parseInt(r(379))*-parseInt(r(372))+parseInt(r(381))*parseInt(r(376))+parseInt(r(371))+parseInt(r(377))+parseInt(r(380))+-parseInt(r(373)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ve);let He=Ge(374);const je=["283512agrrKW","280458omnDjw","174279sqLOku","48522wqMucN","70187YJRmPZ","260754Mwjojk","2oPdUVr","106049nULmjj"];!function(t,e){const r=Ye;for(;;)try{if(143134===parseInt(r(199))+parseInt(r(195))+parseInt(r(196))+parseInt(r(197))+parseInt(r(200))*-parseInt(r(194))+-parseInt(r(198))+-parseInt(r(193)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(je);function Ye(t,e){return je[t-=193]}const $e=["3JlokPu","1ZXvjhK","130380Cyixuc","862045aPlePh","30185TfpUgI","552245SBPDXR","2430022nkBBPI","528046QDBwBA","24578sakUpH","34WogODT"];!function(t,e){const r=Xe;for(;;)try{if(595250===parseInt(r(403))*parseInt(r(405))+parseInt(r(409))+parseInt(r(404))+-parseInt(r(410))*parseInt(r(402))+parseInt(r(407))+parseInt(r(401))*parseInt(r(406))+-parseInt(r(408)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($e);function Xe(t,e){return $e[t-=401]}const We=["69466lmwKNv","199587HTwKBs","326675huXXLm","476071kNVDBm","\n#ifdef coordOffset\n    float reverse=1.0;\n    float ag=abs(a_rotate+u_mapRotate);\n    if(ag>90.0 && ag<=270.0){\n        reverse = -1.0;\n    }\n    position.x=position.x+(a_coordOffset.x*reverse);\n    position.y=position.y+(a_coordOffset.y*reverse);\n    position.z=position.z+(a_coordOffset.z*reverse);\n#endif\n","11jSZUyW","105310dHuoEP","17kqbweN","547eYKOaW","27133ksCEZm","1bcfDZa"],Ze=Je;!function(t,e){const r=Je;for(;;)try{if(242311===parseInt(r(299))+-parseInt(r(303))*-parseInt(r(294))+-parseInt(r(301))*-parseInt(r(304))+-parseInt(r(298))+parseInt(r(302))*-parseInt(r(295))+-parseInt(r(296))+-parseInt(r(297)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(We);let qe=Ze(300);function Je(t,e){return We[t-=294]}const Ke=["10268lnJTjy","7ZEwQLG","2333uKwJht","47591sfVbBR","2AOCluB","172136nayPih","15518cdnwGO","14UNYwAF","96967LUoBTO","1ccurJw","69106pSBkLe","1bDpSVO"];function Qe(t,e){return Ke[t-=480]}!function(t,e){const r=Qe;for(;;)try{if(172753===-parseInt(r(483))*-parseInt(r(491))+parseInt(r(488))+-parseInt(r(489))*-parseInt(r(485))+-parseInt(r(481))*parseInt(r(482))+-parseInt(r(480))*-parseInt(r(484))+parseInt(r(487))*-parseInt(r(486))+parseInt(r(490)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ke);const tr=["#ifdef dash\n    uniform float u_viewLength;//n    in float a_pixelLength;//\n    in float a_perLength;//0.0-1.0n    in float a_lineLength;//n\n    in vec4 a_dash_ratio;//n    out vec4 v_dash_ratio;\n\n    out float v_perLength;\n    out float v_dash_array;\n#endif","195367YlwCvD","3QuxbCQ","948926vanopP","821410vfPlky","609336FhFBUi","523422neiFSc","61358HsBtdR","1oqwdyY","1091982qUckFU"],er=rr;function rr(t,e){return tr[t-=184]}!function(t,e){const r=rr;for(;;)try{if(525637===-parseInt(r(184))+parseInt(r(192))+parseInt(r(193))+parseInt(r(185))+-parseInt(r(191))*parseInt(r(186))+-parseInt(r(189))*parseInt(r(190))+parseInt(r(187)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(tr);let ir=er(188);const nr=["#ifdef dash\n    // outColor.a *= ceil(mod(v_perLength, v_dash_array)- (v_dash_array * u_dash_ratio)); // \n\n    float ratio = mod(v_perLength, v_dash_array);\n    float part1 = v_dash_array * v_dash_ratio.x;//n    float part2 = v_dash_array * v_dash_ratio.y;//n    float part3 = v_dash_array * v_dash_ratio.z;//n    float part4 = v_dash_array * v_dash_ratio.w;//n    if(ratio<part1){\n    \toutColor.a *= 1.0;\n    }else if(ratio<(part1+part2)){\n    \toutColor.a *= 0.0;\n    }else if(ratio<(part1+part2+part3)){\n    \toutColor.a *= 1.0;\n    }else{\n    \toutColor.a *= 0.0;\n    }\n#endif","592199ejwgjp","1457655bLdKRV","402LIEyYF","639729PrLmef","1QJuWva","441440dXylMz","791116dteyer","474ZqRTOW","810071TQaxwD"],sr=or;function or(t,e){return nr[t-=239]}!function(t,e){const r=or;for(;;)try{if(425216===-parseInt(r(246))+parseInt(r(247))*parseInt(r(242))+parseInt(r(243))+parseInt(r(240))+parseInt(r(245))+parseInt(r(248))+-parseInt(r(241))*parseInt(r(244)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(nr);let ar=sr(239);const hr=["140881IDhTyQ","\n#ifdef dash\n    v_perLength=a_perLength;\n    //v_dash_array=1.0/((a_lineLength/u_viewLength)*(u_viewport.x/a_pixelLength));\n    \n    float linePixelLength = a_lineLength/(u_viewLength/u_viewport.x);\n    float pixelNum = linePixelLength/a_pixelLength; //\n    v_dash_array = 1.0/pixelNum; //1.0,n\n    v_dash_ratio = a_dash_ratio/(a_dash_ratio.x+a_dash_ratio.y+a_dash_ratio.z+a_dash_ratio.w);\n#endif\n","11Mtrwbn","97749WPUgas","325782UjtvXL","1FFYWDJ","47298afKMBD","505886WAaSmN","616508oatQRn","296519qohBPu"],lr=ur;!function(t,e){const r=ur;for(;;)try{if(334223===parseInt(r(312))+parseInt(r(311))+-parseInt(r(316))*parseInt(r(310))+-parseInt(r(314))+-parseInt(r(319))*-parseInt(r(313))+-parseInt(r(318))+-parseInt(r(317)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(hr);let cr=lr(315);function ur(t,e){return hr[t-=310]}const pr=["1063833XkqlMq","137dhCZzA","907569ctbOBp","1WSdrLl","6IsHfVP","\n#ifdef dynamicText\n\tin vec4 v_fontColor;\n\tin vec4 v_haloColor;\n\tin vec4 v_bgColor;\n\tin float v_haloWidth;\n#endif\n","799777XDmhGo","13653UiClSi","1231964cqWmnG","3EclsZW","238449TIDUhY","72586ZEvzSV"],fr=dr;!function(t,e){const r=dr;for(;;)try{if(659259===parseInt(r(135))*parseInt(r(132))+parseInt(r(134))+-parseInt(r(138))+parseInt(r(136))*-parseInt(r(131))+-parseInt(r(140))+parseInt(r(142))*-parseInt(r(141))+parseInt(r(133))*parseInt(r(139)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(pr);let gr=fr(137);function dr(t,e){return pr[t-=131]}const _r=["715613YOljcc","2236207WJKYMU","1nMzfCG","33IgHyXj","7gRTUXs","356fSlKoO","222478Sgomhq","1KfhlBV","165098jDQznr","3LFxMmN","\n#ifdef dynamicText\n\tin vec4 a_fontColor;\n\tin vec4 a_haloColor;\n\tin vec4 a_bgColor;\n\tin float a_haloWidth;\n\n\tout vec4 v_fontColor;\n\tout vec4 v_haloColor;\n\tout vec4 v_bgColor;\n\tout float v_haloWidth;\n#endif\n","1304837BfqQlL","939010BXROHh"],yr=mr;function mr(t,e){return _r[t-=117]}!function(t,e){const r=mr;for(;;)try{if(654767===parseInt(r(123))*-parseInt(r(127))+parseInt(r(121))*parseInt(r(118))+parseInt(r(124))+parseInt(r(128))*-parseInt(r(117))+-parseInt(r(119))*parseInt(r(125))+-parseInt(r(120))*parseInt(r(129))+parseInt(r(126)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_r);let Ir=yr(122);const xr=["1708372tNdIpo","403890itBNTl","5IFgpRK","813188VOWISm","\n#ifdef dynamicText\n\tif(v_haloColor.a==0.0 || v_haloWidth==0.0){//,n        if(outColor.a==0.0){\n            //n            outColor=v_bgColor;\n        }else{\n            //n            outColor=outColor*v_fontColor;\n        }\n    }\n#endif\n","1cOUfcg","77pIsMwZ","1pGbDsh","1103LjjibN","829983YFnuPf","3523LSWQJT","129770fXRAnc"],vr=wr;!function(t,e){const r=wr;for(;;)try{if(583973===-parseInt(r(268))+parseInt(r(269))*-parseInt(r(272))+parseInt(r(266))*-parseInt(r(264))+parseInt(r(267))+-parseInt(r(265))*parseInt(r(273))+-parseInt(r(271))+parseInt(r(263))*parseInt(r(270)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xr);let br=vr(274);function wr(t,e){return xr[t-=263]}const Tr=["22625QyhQph","90919sNRWQM","37iAgmLS","88166gAehtG","941rSifnN","212919orkQbd","222199KkVfse","\n#ifdef dynamicText\n\tv_fontColor = a_fontColor;\n\tv_haloColor = a_haloColor;\n\tv_bgColor = a_bgColor;\n\tv_haloWidth = a_haloWidth;\n#endif\n","2hzOBBl","5xtDSTk","5601bBcUZG"];function Er(t,e){return Tr[t-=215]}const Cr=Er;!function(t,e){const r=Er;for(;;)try{if(132389===-parseInt(r(215))*-parseInt(r(219))+parseInt(r(218))+parseInt(r(224))+parseInt(r(220))*parseInt(r(222))+-parseInt(r(221))+parseInt(r(216))*-parseInt(r(217))+-parseInt(r(223)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Tr);let Ar=Cr(225);const Mr=["1WhYefF","320298BtkjUa","5ZrDOFn","503342QHqylF","349887GQciaT","160IstyGe","6706wetaCO","1OBnElC","57313ntIEUz","294855cNrAFc","1086373TexMau","1tQIBXl"];!function(t,e){const r=Sr;for(;;)try{if(554634===parseInt(r(417))+parseInt(r(411))*parseInt(r(419))+-parseInt(r(420))+parseInt(r(413))*-parseInt(r(412))+-parseInt(r(414))*-parseInt(r(410))+-parseInt(r(409))*parseInt(r(415))+-parseInt(r(416))*-parseInt(r(418)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Mr);function Sr(t,e){return Mr[t-=409]}const Pr=["1ZEDgBb","306446bFcgpt","164487oUfxtF","1ODCQJS","#ifdef fog\n    out float v_positionW;\n#endif","1475593QKcycK","412609mGbEXZ","540633wwYiWf","614351QyNgpr","2ZIRSdF","32212SvdsMS"],Rr=Lr;function Lr(t,e){return Pr[t-=214]}!function(t,e){const r=Lr;for(;;)try{if(723534===-parseInt(r(216))-parseInt(r(221))+parseInt(r(218))*parseInt(r(222))+parseInt(r(215))*parseInt(r(223))-parseInt(r(217))-parseInt(r(219))+parseInt(r(220))*parseInt(r(214)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Pr);let Fr=Rr(224);const Dr=["73150CJwcDw","1dzYThp","#ifdef fog\n\tfloat fogFactor=clamp((u_fogDist.y-v_positionW)/(u_fogDist.y-u_fogDist.x),0.0,1.0);\n\toutColor=mix(u_fogColor,outColor,fogFactor);\n#endif\n","40903auGbGj","69809mRBSSe","197938tzEWTz","156414kWeLxb","281096GxOmNe","124008kOZEPq","1AgvDhU"],Or=Br;!function(t,e){const r=Br;for(;;)try{if(133110===parseInt(r(433))+parseInt(r(437))+parseInt(r(438))*parseInt(r(431))+-parseInt(r(436))*-parseInt(r(430))+parseInt(r(432))+-parseInt(r(435))+-parseInt(r(434)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Dr);let Nr=Or(429);function Br(t,e){return Dr[t-=429]}const Ur=["51YBhyAQ","4539cEzGfW","170gVXUnY","252686reZJvp","1104878cRLseK","#ifdef fog\n    v_positionW = gl_Position.w;\n#endif","11677xwVIaU","8104arpQYM","2kPPiiP","3301DOaXly","1284080HeVavB","156pTQTvU","82uAcjQG"],kr=Vr;function Vr(t,e){return Ur[t-=491]}!function(t,e){const r=Vr;for(;;)try{if(661603===-parseInt(r(502))+parseInt(r(494))*-parseInt(r(500))+-parseInt(r(498))*-parseInt(r(499))+parseInt(r(495))+parseInt(r(501))*parseInt(r(493))+parseInt(r(491))*-parseInt(r(497))+-parseInt(r(496))*-parseInt(r(492)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ur);let Gr=kr(503);const zr=["320922PpSbmo","\n#ifdef mMatrix\n    uniform mat4 u_mMatrix;\n#endif\n","729398zniJyn","10469AFcDiW","199676jPXXgd","1151yhZOrR","41wIczTX","2gfSOAn","1579nbtlyQ","767985CMljPZ","1EfBlIo","1093739AWGFfN"];function Hr(t,e){return zr[t-=171]}const jr=Hr;!function(t,e){const r=Hr;for(;;)try{if(749338===parseInt(r(177))*parseInt(r(171))+-parseInt(r(173))*-parseInt(r(182))+-parseInt(r(179))*parseInt(r(174))+parseInt(r(176))+-parseInt(r(178))+-parseInt(r(181))+-parseInt(r(175))*-parseInt(r(172)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(zr);let Yr=jr(180);const $r=["58580OkesLc","22335GaTBfV","213109xAGPfV","32976iNrAAM","2NGBtMH","309894DySqtM","118397ArtLLM","164734PuhneN","38DojlNT","1yHCYbu"];function Xr(t,e){return $r[t-=367]}!function(t,e){const r=Xr;for(;;)try{if(213694===parseInt(r(367))+parseInt(r(376))+parseInt(r(371))+parseInt(r(375))*parseInt(r(368))+-parseInt(r(374))*-parseInt(r(370))+parseInt(r(373))+parseInt(r(372))*-parseInt(r(369)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($r);const Wr=["3CjxZkW","1191qRVAAA","41OlbOUA","1971WwQDKL","633662eyGyXI","3316MfDwOw","783933sUjzAd","1419555xPaCFE","9ktjaQb","542824AyIeTW","39693bENPDW"];!function(t,e){const r=Zr;for(;;)try{if(942230===parseInt(r(240))*parseInt(r(231))+-parseInt(r(237))*parseInt(r(234))-parseInt(r(238))+parseInt(r(239))+-parseInt(r(230))*parseInt(r(232))+-parseInt(r(236))+-parseInt(r(235))*-parseInt(r(233)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Wr);function Zr(t,e){return Wr[t-=230]}const qr=["1841547mNZnuT","575742jVJPiK","1049111DdYPHJ","17131udeoXE","1nEisbO","3poCSTH","255253FTkMls","1PnQbUg","#ifdef offset\n\tvec2 b_side;\n\t#if offset==0 \n\t\t//,\n    \tmat2 rotateZ=mat2(u_vMatrix[0][0],u_vMatrix[0][1],u_vMatrix[1][0],u_vMatrix[1][1]);\n\t\tb_side = rotateZ * a_offset;\n\t#endif\n\t#if offset==1\n\t\t//,\n\t\tb_side = a_offset;\n\t#endif\n\t\tvec2 temp_offset=vec2(b_side.x/u_viewport.x,b_side.y/u_viewport.y)*2.0*gl_Position.w;\n\t\tgl_Position.x=gl_Position.x+temp_offset.x;\n\t\tgl_Position.y=gl_Position.y+temp_offset.y;    \n#endif\n","6314629SXSBHc","5KFPSzs","702159apqrBs"],Jr=Kr;function Kr(t,e){return qr[t-=182]}!function(t,e){const r=Kr;for(;;)try{if(921198===-parseInt(r(184))*parseInt(r(188))-parseInt(r(189))+parseInt(r(193))*parseInt(r(183))-parseInt(r(191))+-parseInt(r(192))*parseInt(r(182))+-parseInt(r(185))*parseInt(r(190))+parseInt(r(187)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(qr);let Qr=Jr(186);const ti=["\n#ifdef opacity\n\tin float v_opacity;\n#endif\n","115FGXigd","36494YUwGMj","401045WJosOy","108337PULCpg","588gQZuPz","5fjbULQ","230817Omdjvj","1542JJwJxV","166KJTDiz","129YOIbEw"],ei=ri;function ri(t,e){return ti[t-=405]}!function(t,e){const r=ri;for(;;)try{if(121918===-parseInt(r(409))-parseInt(r(414))+parseInt(r(415))*-parseInt(r(413))+parseInt(r(411))+parseInt(r(405))*-parseInt(r(412))+-parseInt(r(408))*parseInt(r(406))+parseInt(r(410)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ti);let ii=ei(407);const ni=["269JPwsAs","579575bYBVhR","850608LKZHRM","299897HSwKpK","514313TZCRpn","8798xZHKMt","85441UrOurf","1pHjlJH","1aDNrZT","31013xsLYvx"];function si(t,e){return ni[t-=496]}!function(t,e){const r=si;for(;;)try{if(667635===-parseInt(r(499))+-parseInt(r(502))*parseInt(r(505))-parseInt(r(500))-parseInt(r(504))+parseInt(r(501))+-parseInt(r(496))*-parseInt(r(497))+-parseInt(r(503))*-parseInt(r(498)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ni);const oi=["9svInsk","865tPCxqF","\n#ifdef opacity\n\toutColor = outColor * v_opacity;\n#endif\n","1095yvMKEW","1640863rParII","3407381IcLoJp","471105aPpvWP","1638612QYLFNd","254709CnfwKa","51691omCvUB"];function ai(t,e){return oi[t-=190]}const hi=ai;!function(t,e){const r=ai;for(;;)try{if(826258===-parseInt(r(195))-parseInt(r(191))-parseInt(r(194))+parseInt(r(193))+parseInt(r(197))*-parseInt(r(196))+-parseInt(r(198))*-parseInt(r(190))+parseInt(r(192)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(oi);let li=hi(199);const ci=["654YDIwBR","675301pjVvsh","6yRLBEW","448428TvZqOG","463KYiTUQ","470465JQlaoU","78087TwMmEl","3fLvOXm","207435vXfIGP","\n#ifdef opacity\n\tv_opacity = a_opacity;\n#endif\n","92789aKZpXz"];function ui(t,e){return ci[t-=148]}const pi=ui;!function(t,e){const r=ui;for(;;)try{if(377256===-parseInt(r(154))*parseInt(r(151))+-parseInt(r(150))*-parseInt(r(157))+parseInt(r(156))+-parseInt(r(158))+parseInt(r(149))+parseInt(r(155))*-parseInt(r(148))+-parseInt(r(152)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ci);let fi=pi(153);const gi=["1OWXtMZ","442896nvSwib","634466EZFGis","925627MKuDpu","556817YteJsH","565907YHifWs","1068981vTarsa","2cPIxVQ","4116986gXFTmh"];function di(t,e){return gi[t-=438]}!function(t,e){const r=di;for(;;)try{if(625317===-parseInt(r(445))+parseInt(r(446))+parseInt(r(444))*-parseInt(r(439))+parseInt(r(440))*-parseInt(r(442))+-parseInt(r(438))+-parseInt(r(441))+parseInt(r(443)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(gi);const _i=["427038UVVnnS","1544234xxsdPy","471314UATFyu","610254YsGMVR","135598nmDRXv","\n#ifdef precisionCorrect\n    position=(a_position-u_eyeH+(a_positionL-u_eyeL)/10000000.0).xyz;\n    mat4 mvR2Eye=vMatrix;\n    mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n    vMatrix=mvR2Eye;\n#endif\n","2VYnSxV","109471IZXcvA","14tVfaAq","28610pnWvqF"];function yi(t,e){return _i[t-=475]}const mi=yi;!function(t,e){const r=yi;for(;;)try{if(352824===-parseInt(r(477))*-parseInt(r(478))-parseInt(r(479))+-parseInt(r(476))*parseInt(r(475))-parseInt(r(482))+parseInt(r(483))+-parseInt(r(481))+parseInt(r(480)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_i);let Ii=mi(484);const xi=["1Cqgnyo","53bCNLWs","\n#ifdef precisionCorrectProject\n\tin vec3 a_positionL;\n\tuniform vec3 u_eyeH;\n    uniform vec3 u_eyeL;\n#endif\n","14eTuLku","1347223FBSece","929054goHGSc","306211exfwpU","94757jSDeDS","25375HGsTwq","1579596fPrnpK","921553ndlnln"],vi=bi;function bi(t,e){return xi[t-=495]}!function(t,e){const r=bi;for(;;)try{if(894704===-parseInt(r(503))+parseInt(r(502))+-parseInt(r(496))+-parseInt(r(497))+-parseInt(r(499))*-parseInt(r(495))+parseInt(r(504))*parseInt(r(498))+-parseInt(r(505))*-parseInt(r(501)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xi);let wi=vi(500);const Ti=["2066yFUSRO","119434xEONTe","1SYIceL","467KRGBQW","511278eSsAal","30467MAVVvv","350776aQrPBm","205453MDHqId","72667CyHeNG","1njTWMY"];function Ei(t,e){return Ti[t-=270]}!function(t,e){const r=Ei;for(;;)try{if(291921===-parseInt(r(270))*-parseInt(r(276))-parseInt(r(275))-parseInt(r(272))+parseInt(r(273))*parseInt(r(278))+parseInt(r(279))+-parseInt(r(277))+-parseInt(r(271))*-parseInt(r(274)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ti);const Ci=["2QWovoa","287629PkiFNI","4037dxxmtX","8566bCnoPf","331SPebim","1SZRzeb","1117878LLFngZ","1207786kQSvoF","9187fXNxeG","\n#ifdef sdftext\n\tfloat dist = outColor.r;\n    float delta=0.105*(24.0/16.0);\n    float finalalpha = smoothstep(0.75-delta, 0.75+delta, dist);\n    alpha=finalalpha;   \n#endif\n","496294qSyCLw","19dxXNSo","95XjiCjD"],Ai=Mi;function Mi(t,e){return Ci[t-=379]}!function(t,e){const r=Mi;for(;;)try{if(744719===parseInt(r(380))*parseInt(r(388))+parseInt(r(391))*-parseInt(r(382))+parseInt(r(384))+parseInt(r(381))*-parseInt(r(379))+parseInt(r(387))*-parseInt(r(390))+parseInt(r(383))+-parseInt(r(385))*-parseInt(r(389)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ci);let Si=Ai(386);const Pi=["\n#ifdef sprite\n\tin vec4 v_texAttr;\n\tin mat2 v_rotateMatrix;\n\tuniform sampler2D u_pattern0;\n\n\tin float v_angle;\n\tin float v_ratio;\n\n#endif\n","153OkFzGu","76lEsrFo","264493ovWyfn","269810Xbpkwt","571816RCZKth","1805gfHfzn","417LqAzke","2RTHmzI","695JirQLw","380102qMKmBe","5nxGLUW","1358LmDpZR"];function Ri(t,e){return Pi[t-=480]}const Li=Ri;!function(t,e){const r=Ri;for(;;)try{if(468035===-parseInt(r(485))*-parseInt(r(483))+-parseInt(r(482))*-parseInt(r(481))+parseInt(r(480))+parseInt(r(484))*-parseInt(r(489))+-parseInt(r(490))*-parseInt(r(487))+-parseInt(r(491))+-parseInt(r(486))*parseInt(r(492)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Pi);let Fi=Li(488);const Di=["392946jEmbfN","305344jgZeTz","13whxTlw","347TjkPlj","92737gWOruV","49711SAGmUu","437645KJoTsH","4XTwybC","15lfdULt","3226WMgEYh","27523PmZgHf"];!function(t,e){const r=Oi;for(;;)try{if(615190===parseInt(r(218))+-parseInt(r(221))+parseInt(r(219))*-parseInt(r(227))+-parseInt(r(222))*-parseInt(r(225))+-parseInt(r(220))*parseInt(r(226))+-parseInt(r(223))+-parseInt(r(224))*-parseInt(r(217)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Di);function Oi(t,e){return Di[t-=217]}const Ni=["9753CUsPNV","1254xtrdvy","239397MHtAcx","358498zJXBhT","1878904RvmFyq","253ycGcat","620KhBjCR","93BxeBxp","2sMgtft","97LzChRY","910yDiFFR","16179hexcnk"];function Bi(t,e){return Ni[t-=468]}!function(t,e){const r=Bi;for(;;)try{if(926528===-parseInt(r(474))+-parseInt(r(468))*parseInt(r(470))+-parseInt(r(472))*-parseInt(r(477))+parseInt(r(479))*-parseInt(r(473))+-parseInt(r(478))*-parseInt(r(471))+-parseInt(r(469))*parseInt(r(476))+parseInt(r(475)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ni);const Ui=["656180sXdmfa","102631sowYBS","346578rvXeSe","678037eZnkSv","197697vjzPBs","7guAdFP","1290706JBNGSM","127KBeqIu","1XfIMYK","11xYdwHD","4496OfKmaP"];function ki(t,e){return Ui[t-=143]}!function(t,e){const r=ki;for(;;)try{if(706143===-parseInt(r(150))*-parseInt(r(147))+parseInt(r(151))+parseInt(r(146))*parseInt(r(152))+-parseInt(r(148))*-parseInt(r(145))+parseInt(r(149))+parseInt(r(153))*-parseInt(r(143))+-parseInt(r(144)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ui);const Vi=["588PuVyea","1HaYybF","1361060AJIXAA","1437578FzRLVx","35198PNUbaB","\n#ifdef texture2D\n\tuniform sampler2D u_pattern0;\n\tin vec2 v_textureCoord;\n#endif\n","1030PTAyNJ","13iIBHjY","82057ZiWtAU","706671nLscmW","3oLdMZA","322481aIvSRR"],Gi=zi;function zi(t,e){return Vi[t-=469]}!function(t,e){const r=zi;for(;;)try{if(763193===parseInt(r(471))*-parseInt(r(474))-parseInt(r(479))+parseInt(r(480))*parseInt(r(469))+parseInt(r(473))+parseInt(r(470))*-parseInt(r(476))+-parseInt(r(472))+parseInt(r(477))*parseInt(r(478)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Vi);let Hi=Gi(475);const ji=["1cMEyla","17PEEiRR","11355pyXNus","14HLPSnG","1HJqkyV","1041645prEJGF","3182apzhqe","667402JPNzlb","101gyGVJI","157952jXkDgl","9989juKsGW","688037nkeeSj","7tKxAqa"];function Yi(t,e){return ji[t-=245]}!function(t,e){const r=Yi;for(;;)try{if(565511===-parseInt(r(246))*-parseInt(r(249))+parseInt(r(253))*-parseInt(r(255))+parseInt(r(252))*parseInt(r(256))+parseInt(r(247))+-parseInt(r(257))*-parseInt(r(245))+-parseInt(r(250))*-parseInt(r(248))+-parseInt(r(251))*parseInt(r(254)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ji);const $i=["2oVJxYD","3398683TJSAUF","1PnACVk","1097992roBwxB","1518859XocxBu","468473iXyTih","10288PpISzR","300112zqgYzN","94OMvijz","\n#ifdef texture2D\n\toutColor = texture(u_pattern0,v_textureCoord);\n\tif (outColor.a == 0.0) {\n\t    discard;\n\t}\n#endif\n","1465799NBneVg"],Xi=Wi;function Wi(t,e){return $i[t-=397]}!function(t,e){const r=Wi;for(;;)try{if(979059===-parseInt(r(398))-parseInt(r(402))+parseInt(r(401))*-parseInt(r(403))-parseInt(r(405))+parseInt(r(397))*-parseInt(r(399))-parseInt(r(400))+-parseInt(r(407))*-parseInt(r(406)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($i);let Zi=Xi(404);const qi=["\n#ifdef texture2D\n\t  v_textureCoord=a_textureCoord;\n#endif\n","358995XrnETA","109611wKBaYs","6eqTpha","218311mwbfac","207716OlourF","606677HEFrgC","68246VZicYC","36854TBixkY"],Ji=Qi;!function(t,e){const r=Qi;for(;;)try{if(221612===parseInt(r(294))+parseInt(r(295))+-parseInt(r(297))+-parseInt(r(292))+parseInt(r(293))*parseInt(r(298))+parseInt(r(291))+-parseInt(r(296)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(qi);let Ki=Ji(299);function Qi(t,e){return qi[t-=291]}const tn=["1HHTSoW","646790SVAurR","710274SLkESv","82489IvcauA","695323CXQAAZ","269322gCFHMZ","315450XowUpb","\n#ifdef stretch\n    uniform float u_heightScale;\n    in float a_stretchSide;\n    in float a_stretchHeight;\n#endif\n","808470kMHzBK"],en=nn;!function(t,e){const r=nn;for(;;)try{if(355554===parseInt(r(454))+parseInt(r(458))+parseInt(r(455))*-parseInt(r(452))+parseInt(r(457))+parseInt(r(453))+-parseInt(r(456))+-parseInt(r(451)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(tn);let rn=en(459);function nn(t,e){return tn[t-=451]}const sn=["156mCYgBY","1855740OBqSDr","1uUODwr","1bgiQjc","4303DuTRKp","31vRJpnH","\n#ifdef stretch\n\t  position.z += a_stretchHeight * a_stretchSide * u_heightScale;\n#endif\n","690837KgUWai","747761jeDLyx","18835FDHjxl","1216429eCDNfe","786829zIhgqH","1zySMRv"];function on(t,e){return sn[t-=129]}const an=on;!function(t,e){const r=on;for(;;)try{if(759359===parseInt(r(135))*parseInt(r(131))-parseInt(r(134))+-parseInt(r(138))*parseInt(r(133))+-parseInt(r(130))*parseInt(r(139))+parseInt(r(141))*parseInt(r(136))+-parseInt(r(129))*parseInt(r(137))+parseInt(r(140)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(sn);let hn=an(132);const ln=["4WCrxyM","21GMvoLz","529881QvnjTp","396542fUIOLK","64686YvEbsM","504696SkGtJZ","8038rwrxzw","336942oWVDPK","237799BOQEbg","\n#ifdef stretchTexture2D\n\tuniform sampler2D u_pattern0;\n\tuniform sampler2D u_pattern1;\n\tin vec3 v_textureCoord;\n#endif\n"],cn=pn;!function(t,e){const r=pn;for(;;)try{if(274528===-parseInt(r(103))+parseInt(r(110))+-parseInt(r(106))+parseInt(r(104))*parseInt(r(109))+-parseInt(r(105))+parseInt(r(101))+parseInt(r(102))*parseInt(r(108)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ln);let un=cn(107);function pn(t,e){return ln[t-=101]}const fn=["1MAWALW","120930lLXDPS","2239358IriUTp","17rzrdIB","184304fFEuwO","520095bSmasz","938235htzwzr","1ZVBWAB","23sLUZYF","48151acUnxy","32891AzNtNc"];!function(t,e){const r=gn;for(;;)try{if(777204===parseInt(r(103))*-parseInt(r(107))+parseInt(r(112))*-parseInt(r(106))+parseInt(r(111))*-parseInt(r(113))-parseInt(r(104))+-parseInt(r(110))*parseInt(r(108))+parseInt(r(109))+parseInt(r(105)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(fn);function gn(t,e){return fn[t-=103]}const dn=["1gCLSDr","1453549KETNSo","10251EWwKyq","1675610BhECbm","171QZKDyK","1RXkbmJ","2274875qDSJhW","228647JNDebm","1753150vnOHmL","1541465Zsabqd"];!function(t,e){const r=_n;for(;;)try{if(916057===parseInt(r(337))+parseInt(r(331))*-parseInt(r(333))+-parseInt(r(339))*-parseInt(r(336))+-parseInt(r(332))+-parseInt(r(330))*parseInt(r(334))+parseInt(r(338))+parseInt(r(335)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(dn);function _n(t,e){return dn[t-=330]}const yn=["809193OXUyvf","792274hhGfuO","184299NeUUlI","2764nXaPhj","1134YgaRcg","3CEXdnG","215204MckPGk","206281xDZiFi","\n#ifdef stretchTexture2D\n\t  v_textureCoord=a_textureCoord;\n#endif\n","3NbiVLs","199aMvlFR"],mn=In;function In(t,e){return yn[t-=174]}!function(t,e){const r=In;for(;;)try{if(416501===-parseInt(r(180))+parseInt(r(182))*-parseInt(r(184))+parseInt(r(183))+-parseInt(r(176))*parseInt(r(181))+-parseInt(r(175))*parseInt(r(179))+parseInt(r(178))+parseInt(r(177)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(yn);let xn=mn(174);const vn=["1673WSBhyj","640484wqdzJV","\n#ifdef wideSolid\n\tin vec2 a_side;\n\tin float a_lineWidth;\n#endif\n","1644011nsezFB","2773446kDgCRX","217setvEv","1088600uvkVQA","3031KQQKVE","677873GGPhAE","215mLQLyN"],bn=wn;function wn(t,e){return vn[t-=383]}!function(t,e){const r=wn;for(;;)try{if(988898===parseInt(r(384))+parseInt(r(391))*parseInt(r(386))+-parseInt(r(388))*parseInt(r(390))+parseInt(r(387))+parseInt(r(392))+parseInt(r(389))+-parseInt(r(385)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(vn);let Tn=bn(383);const En=["1192737ybvPbO","1486971upKEDF","42773FyDTwD","5497dhOfrE","13JqThno","15KJQrQt","\n#ifdef wideSolid\n    mat2 rotateMatrix=mat2(u_vMatrix[0][0],u_vMatrix[0][1],u_vMatrix[1][0],u_vMatrix[1][1]);\n\tvec2 lineWidth = normalize(rotateMatrix*a_side) * a_lineWidth/2.0;\n\tlineWidth = vec2(lineWidth.x/u_viewport.x,lineWidth.y/u_viewport.y)*2.0*gl_Position.w;\n\tgl_Position.x = gl_Position.x + lineWidth.x;\n\tgl_Position.y = gl_Position.y + lineWidth.y;\n#endif\n","320979IMmrRh","97qkhBDh","1546982htZyTF","923879ifpouZ"];function Cn(t,e){return En[t-=245]}const An=Cn;!function(t,e){const r=Cn;for(;;)try{if(821296===-parseInt(r(253))+-parseInt(r(252))*parseInt(r(247))-parseInt(r(255))+-parseInt(r(246))*parseInt(r(249))-parseInt(r(254))+parseInt(r(245))+parseInt(r(248))*parseInt(r(251)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(En);let Mn=An(250);const Sn=["3eXfiZN","11AAlwMM","717061WFCeto","342238QlfDna","1xvfWpE","1164363JZRDBC","482183kPxiZL","29046PeUngH","1ovCshc","540102eJmJNN","2567261faYrNQ"];function Pn(t,e){return Sn[t-=176]}!function(t,e){const r=Pn;for(;;)try{if(718302===parseInt(r(177))*-parseInt(r(179))+-parseInt(r(184))*-parseInt(r(176))+parseInt(r(186))*parseInt(r(181))+parseInt(r(178))+parseInt(r(182))+parseInt(r(180))*parseInt(r(185))+-parseInt(r(183)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Sn);const Rn=["325648mQwEwg","5NFrdOu","74929SorluM","10BVosaS","31qFViqi","7576WLnxIG","27877FhPagR","391879umlewj","\n#ifdef logDepth\n    in float v_depth;\n    uniform float u_logDepthFunc;\n#endif \n","7226Hdpqwd","343826rjQgJn"],Ln=Dn;!function(t,e){const r=Dn;for(;;)try{if(214628===parseInt(r(244))+-parseInt(r(251))+-parseInt(r(243))+parseInt(r(242))*parseInt(r(245))+parseInt(r(248))*parseInt(r(249))+-parseInt(r(250))*-parseInt(r(247))+parseInt(r(246)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Rn);let Fn=Ln(241);function Dn(t,e){return Rn[t-=241]}const On=["\n#ifdef logDepth\n    v_depth=1.0+gl_Position.w;\n#endif\n","56297ZEPPbq","252588TgUwdA","6FhejdC","1150770LlITqW","214861IItCNJ","1105886nkbaxB","90897PQVNpV","868452TUkajq"],Nn=Un;!function(t,e){const r=Un;for(;;)try{if(673870===-parseInt(r(407))+parseInt(r(408))+parseInt(r(406))+parseInt(r(409))+parseInt(r(412))*-parseInt(r(405))+-parseInt(r(410))+-parseInt(r(413)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(On);let Bn=Nn(411);function Un(t,e){return On[t-=405]}const kn=["94DdLYRF","24132bpEovr","781157RSgjyA","3DbdkGA","72202JtojPF","786980qiQbLN","1926981HMMhJG","185511DSBlIw","10RQyDwL","1832wocXkM","1GGpqiM"];function Vn(t,e){return kn[t-=196]}!function(t,e){const r=Vn;for(;;)try{if(429647===-parseInt(r(202))*-parseInt(r(206))-parseInt(r(204))+-parseInt(r(200))*parseInt(r(196))-parseInt(r(203))-parseInt(r(201))+parseInt(r(199))*-parseInt(r(197))+-parseInt(r(198))*-parseInt(r(205)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(kn);const Gn=["5LWbYIP","25oUPouU","29719AzaqLM","\n#ifdef oit\nin float v_oitZ;\nlayout(location=0) out vec4 oitColor;\nlayout(location=1) out float oitAlpha;\n\nfloat oitWeight(float z,float a){\n    float oitZ=abs(v_oitZ);\n    float w=1.0;\n    \n    #if (oit>0) && (oit<2)\n    w=clamp(pow(min(1.0, a*10.0) + 0.01, 3.0) *3e-2/(1e-5+pow(oitZ/200.0,4.0)),1e-2,1e2);\n    #endif\n    \n    #if (oit>1) && (oit<3)\n    z=clamp(z,0.8,0.9);\n    w=clamp(pow(min(1.0, a * 10.0) + 0.01, 3.0) * 400.0 * pow(1.0 - z*0.9, 3.0), 1e-2, 3e3);//\n    #endif\n    \n    #if (oit>2) && (oit<4)\n     w=a*clamp(pow(min(1.0, a * 10.0) + 0.01, 3.0)*10.0/(1e-5+pow(oitZ/5.0,2.0)+pow(oitZ/200.0,6.0)),1e-2,3e3);//7\n    #endif\n    \n    #if (oit>3) && (oit<5)\n    w=a*clamp(10.0/(1e-5+pow(oitZ/10.0,3.0)+pow(oitZ/200.0,6.0)),1e-2,3e3);//8\n    #endif\n    \n    #if(oit>4) && (oit<6)\n    w=a*clamp(3e-2/(1e-5+pow(oitZ/200.0,4.0)),1e-2,3e3);//9\n    #endif\n \n    #if(oit>5) && (oit<7)\n    w=a*clamp(pow(1.0-z,3.0)*3e3,1e-2,3e3);//10\n    #endif\n    \n    return w; \n}\n\nfloat alphaWeight(float a){\n    float z=abs(v_oitZ);\n    return pow(a+0.01,4.0)+max(1e2,min(3.0*1e3,0.003/(1e-5+pow(abs(z)/200.0,4.0))));\n}\n#endif\n","1pOplEZ","35117tMZzsf","208698yGDPIC","26541tEGuBf","5vxuQeI","667384OQPxmr","507870RNgRqr","86869kPLFwp"],zn=Hn;function Hn(t,e){return Gn[t-=461]}!function(t,e){const r=Hn;for(;;)try{if(363708===-parseInt(r(461))+parseInt(r(462))*parseInt(r(468))+parseInt(r(472))+parseInt(r(467))*-parseInt(r(466))+-parseInt(r(471))*-parseInt(r(464))+parseInt(r(463))*parseInt(r(469))+-parseInt(r(465)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Gn);let jn=zn(470);const Yn=["17sURRpw","571ynrNlH","\n#ifdef oit\noutColor.rgb=outColor.rgb*outColor.a;\nfloat oitW=oitWeight(gl_FragCoord.z,outColor.a);//noitColor=vec4(outColor.rgb*oitW,outColor.a);\noitAlpha=outColor.a*oitW;\n#endif\n","533101ZfWtSa","56737tdGqGZ","262228BvbIIO","23143IZoljR","885VSXvRX","3301AhHFdO","839RuGHYr","41asbxvL","151aYwgTl"],$n=Wn;!function(t,e){const r=Wn;for(;;)try{if(304262===parseInt(r(184))*-parseInt(r(188))+-parseInt(r(181))*-parseInt(r(187))+parseInt(r(179))+parseInt(r(183))*-parseInt(r(186))+parseInt(r(178))+parseInt(r(180))+parseInt(r(182))*parseInt(r(185)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Yn);let Xn=$n(189);function Wn(t,e){return Yn[t-=178]}const Zn=["585036scwnaJ","165541nUneaY","1qFyRmI","394606zdCQRM","5daRmbl","106xbrEuB","vsShader","#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D u_oitColor;\nuniform sampler2D u_oitAlpha;\nout vec4 outColor;\nvoid main(){\n    //\n    ivec2 fragCoord=ivec2(gl_FragCoord.xy);\n    vec4 oitColor=texelFetch(u_oitColor,fragCoord,0);\n    float alpha=1.0-oitColor.a;\n    oitColor.a=texelFetch(u_oitAlpha,fragCoord,0).r;\n    outColor=vec4(alpha*oitColor.rgb/clamp(oitColor.a,1e-4,5e4),alpha);\n    // outColor=vec4(oitColor.rgb/clamp(oitColor.a,1e-4,5e4),alpha);\n    // outColor=oitColor.rgba*1000.0;\n    // outColor=vec4(1.0,0.0,0.0,1.0);\n    \n    //\n    // ivec2 fragCoord=ivec2(gl_FragCoord.xy);\n    // vec4 accum=texelFetch(u_oitColor,fragCoord,0);\n    // float r=texelFetch(u_oitAlpha,fragCoord,0);\n    // vec4 transparent=vec4(accum.rgb/clamp(r,1e-4,5e4),accum.a);\n    // outColor=(1.0-transparent.a)*transparent+transparent.a*opaque;\n    \n    \n    //\n    // float alpha=oitColor.a;\n    // oitColor.a=texelFetch(u_oitAlpha,fragCoord,0).r;\n    // outColor=vec4(oitColor.rgb/clamp(oitColor.a,1e-4,5e4),alpha);\n}","3902sihXem","763117wQBnAz","45730YaLEoz","680809QURoAN","fsShader","#version 300 es\nin vec4 a_position;\nvoid main(){\ngl_Position=a_position;\n}","2mXeoni","1cIQDfx"],qn=Jn;function Jn(t,e){return Zn[t-=118]}!function(t,e){const r=Jn;for(;;)try{if(430755===parseInt(r(119))*-parseInt(r(132))+parseInt(r(127))+parseInt(r(125))*-parseInt(r(121))+-parseInt(r(120))*parseInt(r(129))+parseInt(r(131))*parseInt(r(128))+-parseInt(r(130))+parseInt(r(126))*parseInt(r(122)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Zn);let Kn={};Kn[qn(133)]=qn(124),Kn[qn(123)]=qn(118);const Qn=["960094qfbOUT","267767FITpAq","1120846KViCXT","411196lZbLJB","18063pIYBIU","936474cOdWpv","67oUULxe","3081653FBIhQR"];!function(t,e){const r=ts;for(;;)try{if(630777===parseInt(r(298))+-parseInt(r(302))+-parseInt(r(299))+-parseInt(r(300))+-parseInt(r(303))*parseInt(r(301))+parseInt(r(297))+parseInt(r(296)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Qn);function ts(t,e){return Qn[t-=296]}const es=["400427XYdUtt","863377vQNLtk","2iBoHIs","278gnsCFC","47rOTGyU","106837XqIfvC","4021CYMMXN","5PfHnFx","614564KwGvhl","18244ZCHkcs","1325074UlRqCc"];function rs(t,e){return es[t-=418]}!function(t,e){const r=rs;for(;;)try{if(668088===parseInt(r(428))*parseInt(r(422))+parseInt(r(420))*-parseInt(r(418))+parseInt(r(424))*parseInt(r(426))+parseInt(r(419))*parseInt(r(427))-parseInt(r(425))+parseInt(r(421))+-parseInt(r(423)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(es);const is=["356523fIzZii","9452qEpsPB","6757qBodns","1VqWcfX","815891wQfmJU","184CdTNzi","45NsHlWS","1247200YGmDhG","106KppMzD","9020NJFLXm","42411dTHVHk","\n#ifdef highlight    \n    in float a_highlight;\n    out float v_highlight;\n#endif \n"],ns=os;!function(t,e){const r=os;for(;;)try{if(744883===parseInt(r(176))*-parseInt(r(175))-parseInt(r(177))+-parseInt(r(182))*parseInt(r(183))+-parseInt(r(184))*-parseInt(r(181))-parseInt(r(179))+-parseInt(r(180))*-parseInt(r(185))+parseInt(r(186)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(is);let ss=ns(178);function os(t,e){return is[t-=175]}const as=["2oHQCjq","583346SwMJCC","4vGOllz","339666jktsng","1evVols","\n#ifdef highlight   \n \n    v_highlight = a_highlight;  \n    \n#endif \n","846892BHxKVz","79441vYMoSp","640919MpyuRA","320158hvkJYW","276319UMsuEq"];function hs(t,e){return as[t-=279]}const ls=hs;!function(t,e){const r=hs;for(;;)try{if(466953===parseInt(r(282))+-parseInt(r(288))*parseInt(r(285))+parseInt(r(289))*parseInt(r(286))+parseInt(r(281))+parseInt(r(284))+parseInt(r(280))+-parseInt(r(283))*parseInt(r(287)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(as);let cs=ls(279);const us=["2sCJKwx","494803doXcBN","188PgDjVW","541851axfzwn","11hgpXVl","1093878JNUmLU","95072hjwQNO","293TLNYWl","13334xmyzxm","1TGXRjg","1768874lgNKCF"];!function(t,e){const r=ps;for(;;)try{if(559631===parseInt(r(312))+-parseInt(r(308))*-parseInt(r(307))+-parseInt(r(310))*-parseInt(r(316))+parseInt(r(314))*-parseInt(r(309))+parseInt(r(315))*-parseInt(r(311))+-parseInt(r(313))+-parseInt(r(317)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(us);function ps(t,e){return us[t-=307]}const fs=["2cvcJSZ","423114IxhRkl","362034HHntxC","\n#ifdef highlight    \n        if(v_highlight > 0.0){\n\t       outColor = outColor + u_highlightColor*u_highlightColor.a;\n\t    }\n#endif \n","612439lYBLUG","1662721AvwCQm","179701ucxhYa","1DWDaJB","288327kllXae","122746cZeNaZ"];function gs(t,e){return fs[t-=390]}const ds=gs;!function(t,e){const r=gs;for(;;)try{if(493874===-parseInt(r(398))+parseInt(r(390))+-parseInt(r(395))+-parseInt(r(391))*-parseInt(r(393))+parseInt(r(392))+-parseInt(r(396))*parseInt(r(394))+parseInt(r(399)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(fs);let _s=ds(397);const ys=["10FDrNar","2PZVMdd","53267kmKPbk","1230850uNpYoF","\n#ifdef radialGradient\n\tin vec3 a_fromPosition;\n\tin float a_maxDis;\n\tin vec4 a_fromColor;\n\tin vec4 a_toColor;\n\t\n\tout float v_maxDis;\n\tout vec4 v_fromColor;\n\tout vec4 v_toColor;\n\tout mat4 v_vpMatrixInverse;\n\tout vec2 v_viewport;\n\tout vec3 v_fromPt;\n#endif\n","941034qlRGRF","1XTSMhr","1123717UNRILA","129226KWezUo","197503coxulQ","767444eRaHVY","1ekIhMW"],ms=xs;!function(t,e){const r=xs;for(;;)try{if(722804===-parseInt(r(320))*parseInt(r(318))-parseInt(r(319))-parseInt(r(314))+-parseInt(r(315))*-parseInt(r(312))+parseInt(r(317))*-parseInt(r(310))+-parseInt(r(311))*-parseInt(r(321))+parseInt(r(316)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ys);let Is=ms(313);function xs(t,e){return ys[t-=310]}const vs=["\n#ifdef radialGradient\n\tv_fromColor = a_fromColor;\n\tv_toColor = a_toColor;\n\tv_vpMatrixInverse = inverse(u_pMatrix * u_vMatrix);\n\tv_viewport = u_viewport;\n\tv_fromPt = a_fromPosition;\n\tv_maxDis = a_maxDis;\n#endif\n","2676614qAgupC","20486HNYEMN","58521lNCYvA","813440DGXdJZ","7vUpMLV","570270AKlOkq","154402UdkvFe","1699504qqCmgz","2teMYnA"];function bs(t,e){return vs[t-=295]}const ws=bs;!function(t,e){const r=bs;for(;;)try{if(947885===-parseInt(r(303))-parseInt(r(302))-parseInt(r(298))+-parseInt(r(301))*-parseInt(r(304))+parseInt(r(300))*-parseInt(r(297))-parseInt(r(299))+parseInt(r(296)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(vs);let Ts=ws(295);const Es=["1548691tIrPZy","10943Ixqfji","46GWsunH","1285008tMIPWp","1407287qhfzXY","165jYwpVo","1eBgtnr","1372500FAiFku","11777jQGOxP","\n#ifdef radialGradient\n\tin vec4 v_fromColor;\n\tin vec4 v_toColor;\n\tin float v_maxDis;\n\tin mat4 v_vpMatrixInverse;\n\tin vec2 v_viewport;\n\tin vec3 v_fromPt;\n#endif\n","377573CCBLAC"],Cs=Ms;!function(t,e){const r=Ms;for(;;)try{if(981512===-parseInt(r(315))*-parseInt(r(316))+-parseInt(r(320))*parseInt(r(318))+parseInt(r(314))+-parseInt(r(313))+parseInt(r(321))+parseInt(r(317))+-parseInt(r(322))*parseInt(r(319)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Es);let As=Cs(323);function Ms(t,e){return Es[t-=313]}const Ss=["341kCewBa","356621YfDhVB","93160qHYkif","54psqmpr","5xwliae","74483ARUVmM","471167EyFfXr","2205ZhkDZC","2wQRfqH","376868jojxIC","\n#ifdef radialGradient\n    vec4 pOfNdc = vec4(gl_FragCoord.xy / v_viewport * 2.0 - 1.0, gl_FragCoord.z * 2.0 - 1.0, 1.0);\n    vec4 pOfWorld = v_vpMatrixInverse * pOfNdc;\n    pOfWorld = pOfWorld / pOfWorld.w;\n    \n\tfloat dist = distance(pOfWorld.xyz, v_fromPt);\n    float ratio = clamp(dist / v_maxDis, 0.0, 1.0);\n    outColor = mix(v_fromColor, v_toColor, ratio);\n#endif\n","354eLhSLJ"],Ps=Rs;function Rs(t,e){return Ss[t-=290]}!function(t,e){const r=Rs;for(;;)try{if(549233===parseInt(r(298))*parseInt(r(290))+parseInt(r(294))*-parseInt(r(299))+parseInt(r(301))+-parseInt(r(295))*-parseInt(r(300))+parseInt(r(293))+parseInt(r(292))*-parseInt(r(291))+parseInt(r(296)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ss);let Ls=Ps(297);const Fs=["1021681HxLWCz","6574LhYiWU","4340925wWYYta","736026yBIUSb","1471067wyYazQ","35SJmQzO","186340cZRtRz","\n#ifdef light \n    // in vec3 a_normal;\n    uniform bool u_enableLight;\n    uniform float u_intensity;\n    uniform vec4 u_lightColor;\n    uniform vec3 u_lightDirection;   \n    \n    out vec3 v_lightDiffuse; \n#endif \n","280169iNFwNh","9WOUaOa"],Ds=Os;function Os(t,e){return Fs[t-=312]}!function(t,e){const r=Os;for(;;)try{if(857064===parseInt(r(312))*parseInt(r(318))-parseInt(r(321))+parseInt(r(320))+-parseInt(r(317))+-parseInt(r(316))*parseInt(r(313))+-parseInt(r(315))+parseInt(r(319)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Fs);let Ns=Ds(314);const Bs=["43uxCyPg","176427UkFPXQ","112604fnoTUv","1PUnhoV","10QUOXku","4595QMzylu","102785pJnDQv","231616MSfNoH","191725cutKdp","1237919isiPEf","1oGGVXu","\n#ifdef light\n    vec3 lightRadio;   \n    if(u_enableLight){\n        // vec3 normal = normalize(a_normal);\n        vec3 lightDirection = normalize(-u_lightDirection);\n        float nDotL = dot(lightDirection, normal);\n        vec3 lightColor = vec3(u_lightColor.rgb) * u_lightColor.a;\n        vec3 ambient = vec3(lightColor.rgb) * u_lightColor.a * 0.6;\n        if(nDotL > 0.0){        //\n           float lightValue = 0.2 + 0.2*nDotL;\n           lightRadio = vec3(lightColor.rgb) * u_intensity * lightValue + ambient;\n        }else{                  //\n           float lightValue = 0.2 + 0.2*nDotL;\n           lightRadio = vec3(lightColor.rgb) * lightValue + ambient;\n        }\n    }else{\n        lightRadio = vec3(1.0, 1.0, 1.0);\n    }\n    v_lightDiffuse = lightRadio;\n#endif \n","8yaGHNV"];function Us(t,e){return Bs[t-=330]}const ks=Us;!function(t,e){const r=Us;for(;;)try{if(567584===-parseInt(r(330))+-parseInt(r(335))*parseInt(r(340))+-parseInt(r(337))*parseInt(r(334))+parseInt(r(332))*-parseInt(r(336))-parseInt(r(342))+-parseInt(r(339))*-parseInt(r(341))+-parseInt(r(331))*-parseInt(r(338)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Bs);let Vs=ks(333);const Gs=["161545qXjcpP","1JxQPnw","56365yklTKt","723467yJnyNU","3YKVrAt","760753SntNsj","15zuXJgD","1549869PeUGBn","289207saeMBa","5813087vIRPGn"];function zs(t,e){return Gs[t-=405]}!function(t,e){const r=zs;for(;;)try{if(904357===-parseInt(r(409))+-parseInt(r(407))*parseInt(r(413))+-parseInt(r(405))*parseInt(r(411))-parseInt(r(412))+parseInt(r(410))*-parseInt(r(414))-parseInt(r(406))+parseInt(r(408)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Gs);const Hs=["30666xZXoVU","135213LbfrLI","937170DMACDU","29GyuCLc","494193sUSLVY","53003oahgaM","271MQRZXE","586074bVORQA","1CIqjiC","1275ASWLjt","\n#ifdef light\n    vec3 diffuse = (v_lightDiffuse)  * outColor.rgb;\n    outColor = vec4(diffuse, outColor.a);\n#endif \n"],js=Ys;function Ys(t,e){return Hs[t-=111]}!function(t,e){const r=Ys;for(;;)try{if(471760===parseInt(r(119))+parseInt(r(115))*parseInt(r(112))+-parseInt(r(118))*-parseInt(r(121))+-parseInt(r(114))+-parseInt(r(116))+parseInt(r(113))+-parseInt(r(120))*parseInt(r(117)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Hs);let $s=js(111);const Xs=["772wejxDk","270995NpmgTD","4643BKQjdb","994174EcSLsj","1wztGdR","283WmyQbG","\n#ifdef vposition   \n    in vec4 v_position;\n    in vec4 v_partPosition;\n#endif \n","1TsQzKp","1858AQiFRk","2020vRcKOw","4152823vLayuq","1192936XYESmP","771NgHxYA"],Ws=Zs;function Zs(t,e){return Xs[t-=249]}!function(t,e){const r=Zs;for(;;)try{if(799695===-parseInt(r(250))*-parseInt(r(260))+parseInt(r(251))*-parseInt(r(261))+parseInt(r(258))*-parseInt(r(255))-parseInt(r(249))-parseInt(r(257))+parseInt(r(259))*parseInt(r(254))+parseInt(r(253))*parseInt(r(256)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Xs);let qs=Ws(252);const Js=["966755QUJRPZ","\n#ifdef vposition    \n    out vec4 v_position;\n    out vec4 v_partPosition;        //\n#endif \n","3481UCXWuq","1HhhGJX","69dsfANj","135535ZzKtHr","71781fPwKGL","1762549BSNjkR","11lCseAh","536559PYpcLK","2sQGrSR","203OuNoLT","1881951ipECIE"],Ks=to;!function(t,e){const r=to;for(;;)try{if(995502===parseInt(r(252))+-parseInt(r(245))*-parseInt(r(248))+-parseInt(r(255))*-parseInt(r(251))+parseInt(r(250))*parseInt(r(249))+parseInt(r(256))*parseInt(r(247))+-parseInt(r(253))+-parseInt(r(257))*parseInt(r(246)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Js);let Qs=Ks(254);function to(t,e){return Js[t-=245]}const eo=["1Ughtfk","171027ngMbbg","691922Zydttd","1051wGXNOt","353154qildGi","377515dnoMdB","275LluNld","33278OAgOLs","94889NQkBfL"];function ro(t,e){return eo[t-=449]}!function(t,e){const r=ro;for(;;)try{if(218356===parseInt(r(455))+parseInt(r(452))*parseInt(r(456))+-parseInt(r(454))+parseInt(r(451))+parseInt(r(453))*parseInt(r(450))+-parseInt(r(457))+-parseInt(r(449)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(eo);const io=["105797QHYgWL","10ndnnIS","138432gLFBzc","2221103tzCCRs","13390YktEth","71210PIQfie","92vDuZsf","12fmsWiT","780409ShSave","107303dfIldU"];function no(t,e){return io[t-=400]}!function(t,e){const r=no;for(;;)try{if(671553===-parseInt(r(406))*parseInt(r(404))+parseInt(r(402))+-parseInt(r(408))+parseInt(r(409))*parseInt(r(401))+parseInt(r(400))+-parseInt(r(405))*parseInt(r(407))+parseInt(r(403)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(io);const so=["134073dioYDh","11499ZgVMCs","302787qtcnwI","1lKKUpn","254209vIKnqs","214078iRLGOP","\n#ifdef noise\n    float transformFactor=(1.0-float(u_unit))*110000.0+float(u_unit);\n    vec2 uv = v_partPosition.xy * 2.0 * (1.0/u_scale) * transformFactor;\n    float noise_time = u_time * u_speed;\n    if(u_static){\n        noise_time = 1.0;\n    }\n    vec4 color=noise_selector(vec3(uv/100.0, noise_time),u_color);\n    outColor =vec4(color.rgb, u_color.a);\n#endif \n","139724lDmnXB","62MtaamK","1669cyiqhq"],oo=ho;!function(t,e){const r=ho;for(;;)try{if(161100===parseInt(r(234))*parseInt(r(235))-parseInt(r(231))-parseInt(r(236))+parseInt(r(238))+-parseInt(r(229))*-parseInt(r(230))+-parseInt(r(233))+-parseInt(r(237)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(so);let ao=oo(232);function ho(t,e){return so[t-=229]}const lo=["1345030GnvtpL","1633432PCJrFS","1149Qyasct","35jkUgKz","631Rkuybm","1QIwHWI","1429259xjRkDa","653QpOcIZ","2149LxrNMa","13397rwmVeo","1833552HEOOzM"];!function(t,e){const r=co;for(;;)try{if(976002===parseInt(r(305))+parseInt(r(314))+-parseInt(r(309))*-parseInt(r(310))+-parseInt(r(304))+parseInt(r(307))*-parseInt(r(313))+parseInt(r(308))*-parseInt(r(312))+-parseInt(r(306))*parseInt(r(311)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(lo);function co(t,e){return lo[t-=304]}const uo=["4ovIlTh","58697nkMKNh","\n#ifdef depthDelta\n    if (abs(gl_Position.z) <= abs(gl_Position.w)) {\n        v_depthDelta = 0.0;\n    } else {\n        gl_Position.z = gl_Position.w;\n        v_depthDelta = (abs(gl_Position.z) - abs(gl_Position.w)) / 2.0 + 0.5;\n    }\n#endif\n","535428IUspCI","13BWutRd","259738HOJWuL","70014ERsQZG","55355kvUJHL","42961sRDQeF","2ZhJBKV","536674LTFJuO"],po=fo;function fo(t,e){return uo[t-=114]}!function(t,e){const r=fo;for(;;)try{if(285922===-parseInt(r(114))-parseInt(r(122))+parseInt(r(115))*-parseInt(r(117))+-parseInt(r(123))*-parseInt(r(116))-parseInt(r(120))-parseInt(r(118))+-parseInt(r(124))*-parseInt(r(119)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(uo);let go=po(121);const _o=["596LGGDiN","671812FzXVgG","470732bdqIgo","407110sHVVZd","7717NKtUCx","35KUxkru","16378NlcdwF","69jBtWCl","842698lxIKDS","\n#ifdef depthDelta\n    in float v_depthDelta;\n#endif\n","2jchgFe"];function yo(t,e){return _o[t-=380]}const mo=yo;!function(t,e){const r=yo;for(;;)try{if(756697===parseInt(r(382))*-parseInt(r(389))+parseInt(r(385))+parseInt(r(383))*parseInt(r(381))+parseInt(r(387))*-parseInt(r(388))+-parseInt(r(386))+-parseInt(r(390))+parseInt(r(384)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_o);let Io=mo(380);const xo=["1572374uvkFxa","6881DJSLgi","\n#ifdef depthDelta\n    if (v_depthDelta == 0.0) {\n        gl_FragDepth  = gl_FragCoord.z;\n    } else {\n        gl_FragDepth  = gl_FragCoord.z + abs(v_depthDelta) * 0.004;\n    }\n#endif\n","4dDTuiD","396168fqoPWe","6217hPOrqP","4897jRVNsW","1732208UryWcp","307ynGZbd","830203WDNijG","66rHUNAt","739MxoJmw"];function vo(t,e){return xo[t-=169]}const bo=vo;!function(t,e){const r=vo;for(;;)try{if(887693===parseInt(r(173))*parseInt(r(172))+parseInt(r(169))+-parseInt(r(178))+parseInt(r(175))*parseInt(r(177))+parseInt(r(176))+-parseInt(r(174))*-parseInt(r(179))+-parseInt(r(170))*parseInt(r(180)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xo);let wo=bo(171);const To=["3BajybW","2392430TCTtdh","983008hMbBce","122618VEnXwt","279362nDnmyv","\n#ifdef stretchWindow\n    in vec4 a_stretchWindowUV;\n    out vec4 v_stretchWindowUV;\n#endif\n","719415HezxcR","959568BQKOWq","350494HdiYDW"],Eo=Co;function Co(t,e){return To[t-=348]}!function(t,e){const r=Co;for(;;)try{if(630493===-parseInt(r(352))-parseInt(r(350))+parseInt(r(353))*-parseInt(r(348))-parseInt(r(351))+parseInt(r(355))+parseInt(r(356))+parseInt(r(354)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(To);let Ao=Eo(349);const Mo=["45721vsltBD","723024eaQeFX","2HtUXdU","556674QdLszy","3xKaLdY","1XZqqqy","87qQDCBr","\n#ifdef stretchWindow\n    uniform vec2 u_windowSize;\n    uniform vec4 u_roofColor;\n    uniform vec4 u_windowColor;\n    uniform vec4 u_brightWindowColor;\n    uniform float u_brightRatio;\n    in vec4 v_stretchWindowUV;\n    \n    float rand(vec2 co){\n        return fract(sin(dot(co.xy, vec2(12.9898,78.233))) * 43758.5453);\n    }\n#endif\n","9985BzWXOE","783786dvivGn","393219HSjlIa","1151081vVHRaY"],So=Ro;!function(t,e){const r=Ro;for(;;)try{if(600263===-parseInt(r(114))+parseInt(r(113))*-parseInt(r(121))+parseInt(r(120))+-parseInt(r(111))*parseInt(r(115))+parseInt(r(122))*parseInt(r(116))+parseInt(r(119))*parseInt(r(117))+-parseInt(r(112)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Mo);let Po=So(118);function Ro(t,e){return Mo[t-=111]}const Lo=["31922zopbdD","21213qotqUE","80XkQkAt","38818nyzqhl","5ENQWcd","\n#ifdef stretchWindow\n    v_stretchWindowUV = a_stretchWindowUV;\n#endif\n","57425YOcYZB","235vwaEDz","797NegPTu","338112ZbHbMa","7vfXMJm","9106QTfevs"],Fo=Do;function Do(t,e){return Lo[t-=192]}!function(t,e){const r=Do;for(;;)try{if(660703===parseInt(r(194))+-parseInt(r(200))*-parseInt(r(201))+parseInt(r(192))*-parseInt(r(193))+parseInt(r(199))*parseInt(r(196))+parseInt(r(203))*-parseInt(r(195))+parseInt(r(198))+-parseInt(r(197)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Lo);let Oo=Fo(202);const No=["178279PmlwzY","1514itXUMP","1vfVyDe","65fkasxa","6467BpSVhJ","36716hbJNci","28ovTLRf","196347FsAKyO","569462GyKmux","28644Lhifof","5JBNPFA"];function Bo(t,e){return No[t-=150]}!function(t,e){const r=Bo;for(;;)try{if(100054===-parseInt(r(155))*parseInt(r(153))+-parseInt(r(154))*-parseInt(r(159))+parseInt(r(150))+-parseInt(r(156))*-parseInt(r(158))+-parseInt(r(157))*-parseInt(r(151))+parseInt(r(152))+-parseInt(r(160)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(No);const Uo=["1cpvCPF","614712iJduXa","3BLYezg","691826lRhZJv","10571hrZAYZ","769573nWfViw","11SNZuor","299746nitzpb","601928sLKRbX","\n#ifdef colorU\n    uniform vec4 u_color;\n#endif\n","373586NLuvcV"],ko=Go;!function(t,e){const r=Go;for(;;)try{if(499902===parseInt(r(361))*parseInt(r(367))+-parseInt(r(360))*parseInt(r(358))-parseInt(r(368))+-parseInt(r(365))*parseInt(r(362))+parseInt(r(366))+-parseInt(r(364))+parseInt(r(359)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Uo);let Vo=ko(363);function Go(t,e){return Uo[t-=358]}const zo=["198924MHnPZX","214328FOnHTy","1243268bNfcdG","902425LuruYu","\n#ifdef colorU\n    outColor = u_color;\n#endif\n","345498AZPNpF","59301xoApki","1091112sHkecS"],Ho=jo;function jo(t,e){return zo[t-=283]}!function(t,e){const r=jo;for(;;)try{if(758722===parseInt(r(283))+-parseInt(r(286))+-parseInt(r(285))+-parseInt(r(290))+parseInt(r(289))+parseInt(r(288))+parseInt(r(287)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(zo);let Yo=Ho(284);const $o=["2459SxOgbf","4111rsefLA","185tFaysg","432931YlATkb","443LxOSRB","628139MqxiVr","337993NwJebu","627585uclqqQ","801232clorZt"];function Xo(t,e){return $o[t-=405]}!function(t,e){const r=Xo;for(;;)try{if(624456===parseInt(r(411))*parseInt(r(410))-parseInt(r(407))-parseInt(r(405))+parseInt(r(413))*parseInt(r(409))-parseInt(r(406))+parseInt(r(408))+-parseInt(r(412)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($o);const Wo=["8uUfntd","3236NVtwAF","3XKZovm","180013mQnltj","21207odqdaX","59497AkjkXB","217814NQcrwI","176306vAmKGo","\n#ifdef aNormal\n    vec3 normal=normalize(vec3(u_normalMatrix * vec4(a_normal,1.0)));\n#endif\n","108251vXqPgb"],Zo=Jo;!function(t,e){const r=Jo;for(;;)try{if(114499===-parseInt(r(262))*parseInt(r(256))+parseInt(r(255))+parseInt(r(258))+parseInt(r(257))*-parseInt(r(264))+-parseInt(r(261))+-parseInt(r(263))+parseInt(r(259)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Wo);let qo=Zo(260);function Jo(t,e){return Wo[t-=255]}const Ko=["7kyhrXN","1ZJOusz","178603SFzqkS","1573565bjAuJy","773326aqCwNa","1606654iVZFeY","190439uWAkHz","\n#ifdef outline\n\tuniform float u_outlineStrength;\n\tuniform vec4 u_outlineColor;\n#endif\n","907532fJSCqA","932003tlLTaW"];function Qo(t,e){return Ko[t-=474]}const ta=Qo;!function(t,e){const r=Qo;for(;;)try{if(873302===parseInt(r(483))+parseInt(r(480))+parseInt(r(477))*-parseInt(r(475))+parseInt(r(482))+parseInt(r(476))*parseInt(r(474))+parseInt(r(478))+-parseInt(r(479)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ko);let ea=ta(481);const ra=["282627JMhOFd","1291339Adimcx","1IFQvsy","1120370OcCHEs","2OTsgzU","380053RDZUNC","1056186sSOAwm","315331VUhdyQ","\n#ifdef outline\n\tif(u_outlineStrength>1.0001){\n\t    outColor=u_outlineColor;\n\t    return;\n\t}\t\n#endif\n","2134090lAUulH"],ia=na;function na(t,e){return ra[t-=164]}!function(t,e){const r=na;for(;;)try{if(746549===-parseInt(r(171))*-parseInt(r(164))-parseInt(r(168))-parseInt(r(170))+parseInt(r(173))+-parseInt(r(169))*parseInt(r(167))+-parseInt(r(172))+parseInt(r(166)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ra);let sa=ia(165);const oa=["u_heightScale","u_lightDirection","a_maxDis","opacity","a_stretchWindowUV","a_fontColor","a_bgColor","precision","coordOffset","1GZgwec","u_viewLength","u_color","u_vMatrix","a_textureCoord","viewport","noise","a_haloWidth","uniformMatrix4fv","a_stretchSide","stretchWindow","u_highlightColor","u_noiseSampler","57216shUPwk","a_toColor","174253lcdkHN","a_lineLength","uniform4fv","vMatrix","a_texAttr","fog","a_highlight","u_eyeH","a_positionL","a_haloColor","mMatrix","a_stretchHeight","a_rotate","uniform1f","a_position","312623hWzFAA","u_pMatrix","1LTubJs","uniform1i","a_pixelLength","u_fogDist","333XoiNGZ","u_lightColor","a_angle","u_atlas","a_fromColor","aNormal","740843LBNoKj","u_brightWindowColor","u_time","light","stretch","u_intensity","texture2D","u_windowSize","63202iTHqSW","logDepth","911NsLwqB","1ZDjOKp","a_size","231488PMzNWI","outline","UNSIGNED_BYTE","u_fogColor","a_fromPosition","u_windowColor","1lKuxJI","u_outlineColor","uniform2fv","u_enableLight","a_normal","a_coordOffset","a_side","u_mMatrix","u_scale","uniform3fv","u_type","u_eyeL","colorU","a_color","a_lineWidth","a_dash_ratio","u_pattern0","sprite","u_speed","pMatrix","stretchTexture2D","highlight","u_brightRatio","u_unit"],aa=ha;function ha(t,e){return oa[t-=417]}!function(t,e){const r=ha;for(;;)try{if(188040===parseInt(r(449))*-parseInt(r(443))+parseInt(r(495))+parseInt(r(420))*-parseInt(r(418))+parseInt(r(441))*parseInt(r(497))+-parseInt(r(440))*parseInt(r(424))+-parseInt(r(482))*-parseInt(r(438))+parseInt(r(430)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(oa);const la={base:{symbol:{vertexSource:"\nin vec3 a_position;//\nin vec2 a_size; //(w,h)\n\nuniform mat4 u_vMatrix;\nuniform mat4 u_pMatrix;\nuniform vec2 u_viewport;\n\n#include <opacity_defineV>\n\n#include <colorI_defineV>\n#include <mMatrix_define>\n#include <precisionCorrect_define>\n#include <precisionCorrectProject_define>\n#include <offset_define>// \n#include <fog_defineV>\n#include <sprite_defineV>//n#include <texture2D_defineV>//\n\n#include <dynamicText_defineV>//\n#include <highlight_defineV>\n#include <vPosition_defineV>\n\nvoid main(){  \n    vec3 position=a_position;\n    mat4 vMatrix=u_vMatrix;\n    mat4 pMatrix=u_pMatrix;\n    #include <precisionCorrect_realize>\n    #include <precisionCorrectProject_realize>\n    gl_Position = vec4(position,1.0);\n    #include <mMatrix_realize>\n    gl_Position = pMatrix * vMatrix * gl_Position;   \n    #include <offset_realize>\n\n    gl_PointSize=a_size.x;//n    #include <colorI_realizeV>\n    #include <fog_realizeV>\n    #include <sprite_realizeV>//n    #include <texture2D_realizeV>//\n\n    #include <opacity_realizeV>\n    #include <dynamicText_realizeV>\n    #include <highlight_realizeV>\n    #include <vPosition_realizeV>\n}\n",fragmentSource:ie,attributes:[[aa(417),{count:3,type:Float32Array}],[aa(442),{count:2,type:Float32Array}]]},fill:{vertexSource:Zt,fragmentSource:jt,attributes:[["a_position",{count:3,type:Float32Array}]]},line:{vertexSource:"in vec3 a_position;\nuniform mat4 u_vMatrix;\nuniform mat4 u_pMatrix;\nuniform vec2 u_viewport;\n#include <wideSolid_define>//\n#include <colorI_defineV>\n#include <offset_define>\n#include <dash_defineV>\n#include <precisionCorrect_define>\n#include <precisionCorrectProject_define>\n#include <logDepth_defineV>\n#include <highlight_defineV>\n#include <vPosition_defineV>\n#include <depthDelta_defineV>\nvoid main(){\n    vec3 position=a_position;\n    mat4 vMatrix=u_vMatrix;\n    mat4 pMatrix=u_pMatrix;\n    #include <precisionCorrect_realize>\n    #include <precisionCorrectProject_realize>\n    gl_Position = pMatrix * vMatrix * vec4(position, 1.0);\n    #include <wideSolid_realize>//\n    #include <depthDelta_realizeV>\n\n    #include <dash_realizeV>\n    #include <offset_realize>\n\n    #include <colorI_realizeV>\n    #include <logDepth_realizeV>\n    #include <highlight_realizeV>\n    #include <vPosition_realizeV>\n}\n",fragmentSource:"\nprecision mediump float;\n#include <colorI_defineF>\n#include <dash_defineF>\n#include <logDepth_defineF>\n#include <highlight_defineF>\n#include <vPosition_defineF>\n#include <depthDelta_defineF>\n\nuniform float u_opacity;//nout vec4 outColor;\nvoid main(){\n    outColor=vec4(1.0);\n    #include <colorI_realizeF>\n    #include <dash_realizeF>\n    #include <depthDelta_realizeF>\n    #include <logDepth_realizeF>\n    outColor.a = outColor.a * u_opacity;\n    #include <highlight_realizeF>  \n}\n",attributes:[[aa(417),{count:3,type:Float32Array}]]},background:{vertexSource:le,fragmentSource:"#version 300 es\n    precision mediump float;\n    uniform vec4 u_landColor;\n    uniform vec4 u_fogColor;\n    uniform float edge;\n    uniform sampler2D u_Sampler;\n    uniform int u_useImage;\n    out vec4 outColor;\n    in vec2 o_textureArr;\n    in float y;\n    uniform float textureWidth;\n    uniform float textureHeight;\n     void main(){\n        float fogFactor=smoothstep(edge,edge+0.3,y);\n        if(u_useImage==0){ \n            outColor=(u_fogColor*fogFactor+u_landColor*(1.0-fogFactor)); \n        }else{ \n            float ty=0.0; \n            float tx=0.0;\n            if((1.0-edge)/2.0<textureHeight){\n                ty=(o_textureArr.y+(textureHeight-(1.0-edge)/2.0))*(1.0/textureHeight);\n            }else{\n                ty=(o_textureArr.y)*(2.0/(y));\n            }\n            //tx=mod(o_textureArr.x,textureWidth);\n            vec4 imageColor=texture(u_Sampler,vec2(o_textureArr.x,ty));\n            outColor=(imageColor*fogFactor+u_landColor*(1.0-fogFactor));  \n        }\n    }\n"},pointcloud:{vertexSource:de,fragmentSource:Ie,attributes:[[aa(417),{count:3,type:Float32Array}],[aa(462),{count:3,type:Float32Array}]]},cloud:{vertexSource:"#version 300 es\n    in vec4 a_position;\n    out float y;\n    void main() {\n        gl_Position = a_position;\n        y = gl_Position.y;\n    }\n",fragmentSource:Te},skybox:{vertexSource:Se,fragmentSource:Fe}},common:{common:[["u_opacity",{type:aa(510),extra:aa(476)}],[aa(419),{type:aa(490),extra:aa(468)}],[aa(485),{type:aa(490),extra:aa(500)}],[aa(456),{type:aa(490),extra:aa(500)}],["u_viewport",{type:"uniform2fv",extra:aa(487)}]],colorU_defineF:Vo,colorU_realizeF:Yo,colorU:{uniforms:[[aa(484),{type:"uniform4fv",extra:aa(461)}]],attributes:[]},dynamicText_defineV:Ir,dynamicText_realizeV:Ar,dynamicText_defineF:gr,dynamicText_realizeF:br,dynamicText:{uniforms:[],attributes:[[aa(478),{count:4,type:Uint8Array,glType:"UNSIGNED_BYTE",normalize:!0}],[aa(506),{count:4,type:Uint8Array,glType:aa(445),normalize:!0}],[aa(479),{count:4,type:Uint8Array,glType:"UNSIGNED_BYTE",normalize:!0}],[aa(489),{count:1,type:Float32Array}]]},opacity_defineV:"\n#ifdef opacity\n\tin float a_opacity;\n\tout float v_opacity;\n#endif\n",opacity_realizeV:fi,opacity_defineF:ii,opacity_realizeF:li,opacity:{uniforms:[],attributes:[["a_opacity",{count:1,type:Float32Array}]]},sprite_defineV:"\n#ifdef sprite\n    //(x,y,w,h)\n\tin vec4 a_texAttr;\n\t// (w, h)\n\tuniform vec2 u_atlas;\n\tin float a_angle;//n\n\tout vec4 v_texAttr;\n\tout mat2 v_rotateMatrix;\n\tout float v_angle;\n\tout float v_ratio;\n\n#endif\n",sprite_realizeV:"\n#ifdef sprite\n\tv_texAttr=vec4(a_texAttr.x / u_atlas.x, a_texAttr.y / u_atlas.y, a_texAttr.z / u_atlas.x, a_texAttr.w / u_atlas.y);\n\n\t// \n    float sinV = sin(a_angle);\n    float cosV = cos(a_angle);\n    v_rotateMatrix = mat2(cosV,sinV,-sinV,cosV);\n\n\n    if(a_angle==0.0){\n    \tgl_PointSize=gl_PointSize;\n    \tv_ratio = 1.0;\n    }else{\n    \t// n\t    float ratio;\n\t    if(a_texAttr.z>a_texAttr.w){//>n\t    \tfloat diagonal = sqrt(a_texAttr.z*a_texAttr.z + a_texAttr.w*a_texAttr.w);\n\t    \tratio = diagonal/a_texAttr.z;\n\t    }else{//>n\t    \tfloat diagonal = sqrt(a_texAttr.z*a_texAttr.z + a_texAttr.w*a_texAttr.w);\n\t    \tratio = diagonal/a_texAttr.w;\n\t    }\n    \tgl_PointSize=gl_PointSize*ratio;\n    \tv_ratio = ratio;\n    }\n    v_angle = a_angle;\n    \n\n#endif\n",sprite_defineF:Fi,sprite_realizeF:"\n#ifdef sprite\n    vec2 pointCoord;\n    if(v_angle==0.0){\n        pointCoord = v_rotateMatrix*(gl_PointCoord-vec2(0.5))+vec2(0.5);// \n    }else{\n        pointCoord = gl_PointCoord*v_ratio;//v_ration        float centerOffset = (v_ratio-1.0)/2.0;\n        pointCoord = pointCoord-vec2(centerOffset);//\n        pointCoord = v_rotateMatrix*(pointCoord-vec2(0.5))+vec2(0.5);//\n    }\n\n    float boxSize=max(v_texAttr.z,v_texAttr.w);//n    pointCoord=vec2(boxSize,boxSize)*pointCoord;\n\n    vec2 texOffset;\n    if(v_texAttr.w>v_texAttr.z){//h>w\n        float l=(v_texAttr.w - v_texAttr.z)/2.0;\n        if(pointCoord.x<l){discard;}\n        if(pointCoord.x>l+v_texAttr.z){discard;}\n        if (pointCoord.y > v_texAttr.w) {discard;}\n        if (pointCoord.y < (boxSize - v_texAttr.w) / 2.0) {discard;}\n        texOffset = vec2(-l,0);\n    }else{//w>h\n        float t=(v_texAttr.z - v_texAttr.w)/2.0;\n        if(pointCoord.y<t){discard;}\n        if(pointCoord.y>t+v_texAttr.w){discard;}\n        if (pointCoord.x > v_texAttr.z) {discard;}\n        if (pointCoord.x < (boxSize - v_texAttr.z) / 2.0) {discard;}\n        texOffset = vec2(0,-t);\n    }\n\n    pointCoord = vec2(v_texAttr.x,v_texAttr.y)+pointCoord+texOffset;\n\n    outColor = texture(u_pattern0,pointCoord);\n#endif\n",sprite:{uniforms:[[aa(465),{type:"uniform1i",extra:aa(466)}],[aa(427),{type:aa(451),extra:aa(466)}]],attributes:[[aa(501),{count:4,type:Float32Array}],[aa(426),{count:1,type:Float32Array}]]},colorI_defineV:ke,colorI_realizeV:"\n#ifdef colorI\n    v_color = a_color;\n#endif\n",colorI_defineF:"\n#ifdef colorI\n    in vec4 v_color;\n#endif\n",colorI_realizeF:He,colorI:{uniforms:[],attributes:[[aa(462),{count:4,type:Uint8Array,glType:aa(445),normalize:!0}]]},vPosition_defineV:Qs,vPosition_realizeV:"\n#ifdef vposition   \n    v_position = vec4(position, 1.0);  \n     #ifdef precisionCorrect\n        v_position = vec4(a_position.x + a_positionL.x/10000000.0, a_position.y + a_positionL.y/10000000.0,a_position.z + a_positionL.z/10000000.0, 1.0); \n    #endif \n    #ifdef precisionCorrectProject \n        v_position = vec4(a_position.x*65536.0 + a_positionL.x, a_position.y*65536.0 + a_positionL.y, a_position.z*65536.0 + a_positionL.z, 1.0);\n    #endif\n    v_partPosition = vec4(fract(v_position.x), fract(v_position.y), fract(v_position.z), 1.0);\n#endif \n",vPosition_defineF:qs,vposition:{uniforms:[],attributes:[]},fog_defineF:"#ifdef fog\n    in float v_positionW;\n\n    uniform vec4 u_fogColor;\n    uniform vec2 u_fogDist;\n#endif",fog_realizeF:Nr,fog_defineV:Fr,fog_realizeV:Gr,fog:{uniforms:[[aa(446),{type:aa(499),extra:aa(502)}],[aa(423),{type:aa(451),extra:"fog"}]],attributes:[]},mMatrix_define:Yr,mMatrix_realize:"\n#ifdef mMatrix\n    //\n    mat4 modelMatrix=u_mMatrix;\n    modelMatrix[3]=vec4(0.0,0.0,0.0,u_mMatrix[3][3]);\n    gl_Position = modelMatrix * gl_Position;\n#endif\n",mMatrix:{uniforms:[[aa(456),{type:aa(490),extra:aa(507)}]],attributes:[]},offset_define:"\n#ifdef offset\n\tin vec2 a_offset;\n#endif\n",offset_realize:Qr,offset:{uniforms:[],attributes:[["a_offset",{count:2,type:Float32Array}]]},coordOffset_define:"\n#ifdef coordOffset\n    in vec3 a_coordOffset;\n    in float a_rotate; //\n    uniform float u_mapRotate;\n#endif\n",coordOffset_realize:qe,coordOffset:{uniforms:[["u_mapRotate",{type:aa(510),extra:aa(481)}]],attributes:[[aa(454),{count:3,type:Float32Array}],[aa(509),{count:1,type:Float32Array}]]},dash_defineV:ir,dash_realizeV:cr,dash_defineF:"#ifdef dash\n    // uniform float u_dash_ratio;//n    \n    in float v_perLength;\n\n    in float v_dash_array;\n\n    in vec4 v_dash_ratio;\n#endif",dash_realizeF:ar,dash:{uniforms:[[aa(483),{type:aa(510),extra:"dash"}]],attributes:[[aa(498),{count:1,type:Float32Array}],["a_perLength",{count:1,type:Float32Array}],[aa(464),{count:4,type:Float32Array}],[aa(422),{count:1,type:Float32Array}]]},precisionCorrect_define:"\n#ifdef precisionCorrect\n\tin vec3 a_positionL;\n\tuniform vec3 u_eyeH;\n    uniform vec3 u_eyeL;\n#endif\n",precisionCorrect_realize:Ii,precisionCorrect:{uniforms:[["u_eyeH",{type:aa(458),extra:aa(480)}],[aa(460),{type:aa(458),extra:"precision"}]],attributes:[[aa(505),{count:3,type:Float32Array}]]},precisionCorrectProject_define:wi,precisionCorrectProject_realize:"\n#ifdef precisionCorrectProject\n    position=vec3((a_position.x-u_eyeH.x)*65536.0+a_positionL.x-u_eyeL.x,(a_position.y-u_eyeH.y)*65536.0+a_positionL.y-u_eyeL.y,(a_position.z-u_eyeH.z)*65536.0+a_positionL.z-u_eyeL.z);\n    mat4 mvR2Eye=vMatrix;\n    mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n    vMatrix=mvR2Eye;\n#endif\n",precisionCorrectProject:{uniforms:[[aa(504),{type:"uniform3fv",extra:aa(480)}],[aa(460),{type:aa(458),extra:aa(480)}]],attributes:[[aa(505),{count:3,type:Float32Array}]]},wideSolid_define:Tn,wideSolid_realize:Mn,wideSolid:{uniforms:[],attributes:[[aa(455),{count:2,type:Float32Array}],[aa(463),{count:1,type:Float32Array}]]},texture2D_defineV:"\n#ifdef texture2D\n    in vec2 a_textureCoord;\n    out vec2 v_textureCoord;\n#endif\n",texture2D_realizeV:Ki,texture2D_defineF:Hi,texture2D_realizeF:Zi,texture2D:{uniforms:[[aa(465),{type:aa(421),extra:aa(436)}]],attributes:[["a_textureCoord",{count:2,type:Float32Array}]]},stretch_defineV:rn,stretch_realizeV:hn,stretch:{uniforms:[[aa(473),{type:aa(510),extra:aa(434)}]],attributes:[[aa(508),{count:1,type:Float32Array}],[aa(491),{count:1,type:Float32Array}]]},stretchTexture2D_defineF:un,stretchTexture2D_defineV:"\n#ifdef stretchTexture2D\n    in vec3 a_textureCoord;\n    out vec3 v_textureCoord;\n#endif\n",stretchTexture2D_realizeF:"\n#ifdef stretchTexture2D\n\tif(v_textureCoord.z >0.0){\n\t\toutColor = texture(u_pattern0,vec2(v_textureCoord.xy));\n\t}else{\n\t\toutColor = texture(u_pattern1,vec2(v_textureCoord.xy));\n\t}\n#endif\n",stretchTexture2D_realizeV:xn,stretchTexture2D:{uniforms:[[aa(465),{type:aa(421),extra:aa(469)}],["u_pattern1",{type:aa(421),extra:aa(469)}]],attributes:[[aa(486),{count:3,type:Float32Array}]]},sdftext_realize:Si,sdftext:{uniforms:[],attributes:[]},logDepth_defineV:"\n#ifdef logDepth\n    out float v_depth;\n#endif\n",logDepth_defineF:Fn,logDepth_realizeV:Bn,logDepth_realizeF:"\n#ifdef logDepth\n    gl_FragDepth=log2(v_depth)*u_logDepthFunc*0.5;\n#endif\n",logDepth:{uniforms:[["u_logDepthFunc",{type:aa(510),extra:aa(439)}]],attributes:[]},oit_defineF:jn,oit_realizeF:Xn,oit_defineV:"\n#ifdef oit\nout float v_oitZ;\n#endif\n",oit_realizeV:"\n#ifdef oit\nv_oitZ=gl_Position.z;\n#endif\n",oit:{uniforms:[],attributes:[]},oitFrame:Kn,highlight_defineV:ss,highlight_realizeV:cs,highlight_defineF:"\n#ifdef highlight\n      in float v_highlight;\n      uniform vec4 u_highlightColor;\n#endif \n",highlight_realizeF:_s,highlight:{uniforms:[[aa(493),{type:aa(499),extra:aa(470)}]],attributes:[[aa(503),{count:1,type:Float32Array}]]},radialGradient_defineV:Is,radialGradient_realizeV:Ts,radialGradient_defineF:As,radialGradient_realizeF:Ls,radialGradient:{uniforms:[],attributes:[[aa(447),{count:3,type:Float32Array}],[aa(475),{count:1,type:Float32Array}],[aa(428),{count:4,type:Uint8Array,glType:aa(445),normalize:!0}],[aa(496),{count:4,type:Uint8Array,glType:"UNSIGNED_BYTE",normalize:!0}]]},light_defineV:Ns,light_realizeV:Vs,light_defineF:"\n#ifdef light \n    in vec3 v_lightDiffuse;\n#endif \n",light_realizeF:$s,light:{uniforms:[[aa(425),{type:aa(499),extra:aa(433)}],[aa(474),{type:"uniform3fv",extra:aa(433)}],[aa(435),{type:"uniform1f",extra:aa(433)}],[aa(452),{type:aa(421),extra:aa(433)}]],attributes:[]},noise_defineF:"#ifdef noise \n    uniform int u_type;\n    uniform float u_time;\n    uniform float u_speed;\n    uniform float u_scale;\n    uniform int u_unit;\n    uniform vec4 u_color;\n    uniform bool u_static;\n    uniform sampler2D u_pattern0;\n\n    float random11(float p){\n        return fract(sin(dot(vec2(p, 2523.2361),vec2(12.9898,78.233))) * 43758.5453)-0.5;\n    }\n\n    vec2 random12(float p){\n        return normalize(vec2(random11(p), random11(p+151.523)));\n    }\n   \n    vec3 random33(vec3 p){\n        p = vec3(\n            dot(p,vec3(127.1,311.7,69.5)),\n            dot(p,vec3(269.5,183.3,132.7)),\n            dot(p,vec3(247.3,108.5,96.5))\n        );\n        return -1.0 + 2.0 * fract(sin(p)*43758.5453123);\n    }\n    \n    vec2 random22(vec2 p){\n        return fract(\n            sin(\n                vec2(\n                    dot(p,vec2(127.1,311.7)),\n                    dot(p,vec2(269.5,183.3))\n                )\n            )*43758.5453\n        );\n    }\n\n    float random31(vec3 p)\n    {\n        p  = fract(p * vec3(.1031,.11369,.13787));\n        p += dot(p, p.yzx + 19.19);\n        return -1.0 + 2.0 * fract((p.x + p.y) * p.z);\n    }\n    \n    //1,perlin noise \n    float noise_perlin(vec3 p) {\n        vec3 i = floor(p);\n        vec3 s = fract(p);\n\n        float a = dot(random33(i),s);\n        float b = dot(random33(i + vec3(1., 0., 0.)),s - vec3(1., 0., 0.));\n        float c = dot(random33(i + vec3(0., 1., 0.)),s - vec3(0., 1., 0.));\n        float d = dot(random33(i + vec3(0., 0., 1.)),s - vec3(0., 0., 1.));\n        float e = dot(random33(i + vec3(1., 1., 0.)),s - vec3(1., 1., 0.));\n        float f = dot(random33(i + vec3(1., 0., 1.)),s - vec3(1., 0., 1.));\n        float g = dot(random33(i + vec3(0., 1., 1.)),s - vec3(0., 1., 1.));\n        float h = dot(random33(i + vec3(1., 1., 1.)),s - vec3(1., 1., 1.));\n\n        vec3 u = smoothstep(0.,1.,s);\n\n        return mix(mix(mix( a, b, u.x),\n                    mix( c, e, u.x), u.y),\n                mix(mix( d, f, u.x),\n                    mix( g, h, u.x), u.y), u.z);\n    }\n\n    //2,simplex noise \n    float noise_simplex(vec3 p) {\n        const float K1 = 0.333333333;\n        const float K2 = 0.166666667;\n        \n        vec3 i = floor(p + (p.x + p.y + p.z) * K1);\n        vec3 d0 = p - (i - (i.x + i.y + i.z) * K2);\n        \n        vec3 e = step(vec3(0.0), d0 - d0.yzx);\n        vec3 i1 = e * (1.0 - e.zxy);\n        vec3 i2 = 1.0 - e.zxy * (1.0 - e);\n        \n        vec3 d1 = d0 - (i1 - 1.0 * K2);\n        vec3 d2 = d0 - (i2 - 2.0 * K2);\n        vec3 d3 = d0 - (1.0 - 3.0 * K2);\n        \n        vec4 h = max(0.6 - vec4(dot(d0, d0), dot(d1, d1), dot(d2, d2), dot(d3, d3)), 0.0);\n        vec4 n = h * h * h * h * vec4(\n                                    dot(d0, random33(i)), \n                                    dot(d1, random33(i + i1)), \n                                    dot(d2, random33(i + i2)), \n                                    dot(d3, random33(i + 1.0)\n                                    ));\n        return dot(vec4(31.316), n);\n    }\n\n    //4,square\n    float noise_square(vec3 p) {\n        vec2 i_st = floor(p.xy);\n        vec2 f_st = fract(p.xy);\n        float min_dist = 1.;\n        for (int i = -1; i <= 1; i++) {\n            for (int j = -1; j <= 1; j++) {\n                vec2 neighbor = vec2(float(i),float(j));\n                vec2 point = random22(i_st + neighbor);\n                float d = length(point + neighbor - f_st);\n                min_dist = min(min_dist,d);\n            }\n        }\n        return pow(min_dist,3.);\n    }\n\n    //5,cell\n    float noise_cell(vec3 p) {\n        float dists[27];\n        vec2 i_st = floor(p.xy);\n        vec2 f_st = fract(p.xy);\n        float min_dist = 10.;\n        for (int i = -1; i <= 1; i++) {\n            for (int j = -1; j <= 1; j++) {\n                vec2 neighbor = vec2(float(i),float(j));\n                vec2 point = random22(i_st + neighbor);\n                float d = length(point + neighbor - f_st);\n                dists[(i + 1) * 3 + (j + 1) ] = d;\n                min_dist = min(min_dist,d);\n            }\n        }\n        float sec_min_dist = 10.;\n        for (int i = 0; i < 9; i++) {\n            if (dists[i] != min_dist) {\n                sec_min_dist = min(sec_min_dist,dists[i]);\n            }\n        }\n        return pow(sec_min_dist - min_dist,.5);\n    }\n\n    //6,fractal fbm \n    float noise_sum(vec3 p)\n    {\n        p.xy*=0.2;\n        float f = 0.0;\n        p = p * 4.0;\n        float a = 1.;\n        for (int i = 0; i < 5; i++) {\n            f += a * noise_perlin(p);\n            p = 2.0 * p;\n            a /= 2.;\n        }\n        return f;\n    }\n\n    //7,fractal turbulence\n    float noise_sum_abs(vec3 p)\n    {\n        p.xy*=0.2;\n        float f = 0.0;\n        p = p * 4.0;\n        float a = 1.;\n        for (int i = 0; i < 5; i++) {\n            f += a * abs(noise_perlin(p));\n            p = 2.0 * p;\n            a /= 2.;\n        }\n        return f;\n    }\n\n    //8,fractal domain wrapping\n    float noise_domain_wraping(vec3 p)\n    {\n        p.z*=0.1;\n        p.xy*=0.8;\n        vec3 q = vec3(noise_sum(p), noise_sum(p), 0.0);\n        vec3 r = vec3(noise_sum(p + q), noise_sum(p + q), 0.0);\n        return noise_sum(q + r);\n    }\n    \n    //water fill\n    vec3 getWaterNoise(vec3 p)\n    {\n        vec2 uv0 = p.xy / (103.0 * 1.0) + vec2(p.z / 17.0, p.z / 29.0);\n        vec2 uv1 = p.xy / (107.0 * 1.0) - vec2(p.z / -19.0, p.z / 31.0);\n        vec2 uv2 = p.xy / (vec2(8907.0, 9803.0) * 1.0) + vec2(p.z / 101.0, p.z /   97.0);\n        vec2 uv3 = p.xy / (vec2(1091.0, 1027.0) * 1.0) - vec2(p.z / 109.0, p.z / -113.0);\n        vec4 n_color = texture(u_pattern0,uv0) + texture(u_pattern0,uv1) + texture(u_pattern0,uv2) + texture(u_pattern0,uv3);\n        float noise_value = dot(0.5*n_color.rgb-1.0,vec3(1.0,1.0,1.0));\n        return max(0.0,noise_value)*u_color.rgb;\n    }\n    // noise texture\n    float noise_texture(vec3 p3){\n        vec3 p=vec3(p3.xy*0.7,p3.z*0.5);\n        vec2 uv0 = p.xy / (103.0 * 1.0) + vec2(p.z / 17.0, p.z / 29.0);\n        vec2 uv1 = p.xy / (107.0 * 1.0) - vec2(p.z / -19.0, p.z / 31.0);\n        vec2 uv2 = p.xy / (vec2(8907.0, 9803.0) * 1.0) + vec2(p.z / 101.0, p.z /   97.0);\n        vec2 uv3 = p.xy / (vec2(1091.0, 1027.0) * 1.0) - vec2(p.z / 109.0, p.z / -113.0);\n        vec4 tex_color = texture(u_pattern0,uv0) + texture(u_pattern0,uv1) + texture(u_pattern0,uv2) + texture(u_pattern0,uv3);\n        return 3.*max(0.0,dot(0.5*tex_color.rgb-1.0,vec3(1.0,1.0,1.0)));\n    }\n\n    float noise_wave(vec2 p,float n_time,float n_offset){\n        float result = 0.0;\n        float direction = 0.0;\n        float sineWave = 0.0;\n        vec2 rand2 = vec2(1.0,0.0);\n        float i=0.0;\n        for(int n = 0; n < 16; n++)\n        {\n            i=float(n)+n_offset;\n            rand2 = random12(i);\n            direction = (p.x*rand2.x+p.y*rand2.y);\n            sineWave = sin(direction*random11(i+1.6516)+n_time*2.0);\n            sineWave = smoothstep(0.0,1.0,sineWave);\n            result += random11(i+123.0)*sineWave;\n        }\n        return result;\n    }\n    //mix color\n    vec4 mix_color(vec4 color,float n)\n    {\n        return mix(0.8 * color,color,n);\n        //return mix(vec4(1.0,0.0,0.0,1.0),vec4(0.0,1.0,0.0,1.0),n);\n    }\n\n    //noise selector\n    vec4 noise_selector(vec3 p,vec4 color){\n        float n_value=0.0;\n\n        if(u_type==0){  //texture\n            n_value=noise_texture(p);\n            return mix_color(color,n_value);\n        }else if(u_type==1){\n            vec3 uvt=p;\n            vec2 uv0 = uvt.xy / (103.0 * 1.0) + vec2(uvt.z / 17.0, uvt.z / 29.0);\n            vec2 uv1 = uvt.xy / (107.0 * 1.0) - vec2(uvt.z / -19.0, uvt.z / 31.0);\n            vec2 uv2 = uvt.xy / (vec2(8907.0, 9803.0) * 1.0) + vec2(uvt.z / 101.0, uvt.z /   97.0);\n            vec2 uv3 = uvt.xy / (vec2(1091.0, 1027.0) * 1.0) - vec2(uvt.z / 109.0, uvt.z / -113.0);\n            vec4 waterNoise = texture(u_pattern0, uv0) +  texture(u_pattern0, uv1) +  texture(u_pattern0, uv2) + texture(u_pattern0, uv3);\n            return (0.5 + 0.5 * max(0.0, dot(waterNoise.xyz * 0.5 - 1.0, vec3(1.0)))) * color;\n        }else if(u_type==2){\n            n_value=noise_perlin(p);\n            return mix_color(color,n_value);\n        }else if(u_type==3){\n            n_value=noise_square(p);\n            return mix_color(color,n_value);\n        }else if(u_type==4){\n            n_value=noise_cell(p);\n            return mix_color(color,n_value);\n        }else if(u_type==5){\n            n_value=noise_sum_abs(p);\n            return mix_color(color,n_value);\n        }else if(u_type==6){\n            n_value=noise_domain_wraping(p);\n            return mix_color(color,n_value);\n        }else if(u_type==7){                    //default\n            float n1 = noise_wave(p.xy+vec2(u_time*u_speed,0.0), u_time, 0.1);\n            float n2 = noise_wave(p.xy-vec2(u_time*0.8*u_speed,0.0), u_time*0.8,0.26);\n            n1 = smoothstep(0.4,1.1,1.0-abs(n1));\n            n2 = smoothstep(0.4,1.1,1.0-abs(n2));\n            n_value = 2.0*smoothstep(0.35,1.8,(n1+n2)*0.5);\n            vec4 water_color = vec4(n_value)*0.1+color;\n            return water_color;\n        }\n\n    }\n     \n#endif",noise_realizeF:ao,noise:{uniforms:[[aa(459),{type:aa(421),extra:aa(488)}],["u_static",{type:aa(421),extra:aa(488)}],[aa(432),{type:aa(510),extra:"noise"}],["u_color",{type:"uniform4fv",extra:aa(488)}],[aa(467),{type:aa(510),extra:aa(488)}],[aa(457),{type:aa(510),extra:"noise"}],[aa(472),{type:aa(421),extra:"noise"}],[aa(494),{type:"uniform1i",extra:aa(488)}]],attributes:[]},depthDelta_defineV:"\n#ifdef depthDelta\n    out float v_depthDelta;\n#endif\n",depthDelta_defineF:Io,depthDelta_realizeV:go,depthDelta_realizeF:wo,depthDelta:{uniforms:[],attributes:[]},stretchWindow_defineV:Ao,stretchWindow_defineF:Po,stretchWindow_realizeV:Oo,stretchWindow_realizeF:"\n#ifdef stretchWindow\n    if (v_stretchWindowUV.z == 0.0 && v_stretchWindowUV.w == 0.0) {\n        outColor = u_roofColor;\n    }\n    else if (u_windowSize.x * 2.0 < v_stretchWindowUV.z || u_windowSize.y * 2.0 < v_stretchWindowUV.w) {\n        float x = v_stretchWindowUV.x;\n        float y = v_stretchWindowUV.y;\n        float windowHalfWidth = u_windowSize.x / 2.0;\n        float windowHalfHeight = u_windowSize.y / 2.0;\n        float floorX = floor(x / windowHalfWidth);\n        float floorY = floor(y / windowHalfHeight);\n        float modX = mod(floorX, 3.0);\n        float modY = mod(floorY, 3.0);\n        \n        if ((floorX * windowHalfWidth + u_windowSize.x < v_stretchWindowUV.z) && (floorY * windowHalfHeight + u_windowSize.y < v_stretchWindowUV.w) && \n            mod(floorX, 3.0) > 0.0 && mod(floorY, 3.0) > 0.0) {\n            float floorX1 = floor(x / (windowHalfWidth * 3.0));\n            float floorY1 = floor(y / (windowHalfHeight * 3.0));\n            float radNum = rand(vec2(floorX1 + floorY1, floorY1 - floorX1));\n            \n            if (radNum >= u_brightRatio) {\n                outColor = u_brightWindowColor;\n            }\n            else {\n                outColor = u_windowColor;\n            }\n        }\n    }\n#endif\n",stretchWindow:{uniforms:[[aa(437),{type:aa(451),extra:"stretchWindow"}],[aa(448),{type:aa(499),extra:"stretchWindow"}],[aa(431),{type:aa(499),extra:aa(492)}],[aa(471),{type:aa(510),extra:aa(492)}],["u_roofColor",{type:"uniform4fv",extra:aa(492)}]],attributes:[[aa(477),{count:4,type:Float32Array}]]},aNormal_defineV:"\n#ifdef aNormal\n    in vec3 a_normal;\n    uniform mat4 u_normalMatrix;\n#endif\n",aNormal_realizeV:qo,aNormal:{uniforms:[["u_normalMatrix",{type:"uniformMatrix4fv",extra:aa(429)}]],attributes:[[aa(453),{count:3,type:Float32Array}]]},outline_defineF:ea,outline_realizeF:sa,outline:{uniforms:[[aa(450),{type:aa(499),extra:aa(444)}],["u_outlineStrength",{type:aa(510),extra:aa(444)}]],attributes:[]}}},ca=["u_shadowThickness","_drawCloud","u_viewMatrix","_map","TEXTURE_CUBE_MAP","initProgram","vao","19226lqxNxA","drawingBufferHeight","cloudStatus","drawArrays","u_scale","154357TPgDFf","CLAMP_TO_EDGE","texParameteri","vbo","setPerspective","REPEAT","disable","u_shadowRatio","_initSkyBoxVao","textureHeight","vertexAttribPointer","skyCubeTexture","_showSkybox","COLOR_BUFFER_BIT","uMouse","getRotateX","cloudCover","u_landColor","16993Vxgysi","uTime","TEXTURE_CUBE_MAP_POSITIVE_X","a_position","shadowThickness","bufferData","base","mouse","uTimeRate","enableVertexAttribArray","shadowRatio","timeRate","multiply","_fogColor","_drawBackground","TEXTURE_CUBE_MAP_NEGATIVE_Y","DEPTH_TEST","skybox","uniform1f","uAngle","_fogImage","_skyImage","ARRAY_BUFFER","_drawSkyBox","LINEAR_MIPMAP_LINEAR","skyboxProjMatrix","getRotateAngle","bearing","setRotate","u_fogColor","_landColor","edge","vertexSource","_skyBoxProgram","DYNAMIC_DRAW","createBuffer","uniformMatrix4fv","uFogEdge","scale","texImage2D","useProgram","uViewport","_initBgVao","setSkyImage","BYTES_PER_ELEMENT","skyboxVao","getRotateZ","UNSIGNED_BYTE","_gl","bgVao","uShadowThickness","get","_bgProgram","image","canvas","getCamera","getLandColor","_initSkyboxProgram","frontFace","TEXTURE_CUBE_MAP_POSITIVE_Z","cloud","uFogColor","bufferImage","uCover","u_modelMatrix","u_timeRate","redraw","getUniformLocation","uniform4f","bindTexture","TRIANGLES","program","bindBuffer","length","drawingBufferWidth","FLOAT","NEAREST","uShadowRatio","getPitch","now","13399JoBHro","setLandColor","TEXTURE_CUBE_MAP_NEGATIVE_X","1151yCuqeg","height","activeTexture","_initBgProgram","TEXTURE0","_startTime","73654AJPHDH","STATIC_DRAW","TEXTURE_MIN_FILTER","134lwgtAt","44821TjPWpo","6FEMMmm","createVertexArray","_initCloudVao","_edge","onload","u_useImage","depthMask","_initSkyBoxTex","uScale","uniform1i","RGBA","fragmentSource","generateMipmap","setEdge","uniform2fv","getElements","width","skyboxPositionCount","background","setFogColor","CCW","_cloudProgram","u_cover","getAttribLocation","bindVertexArray","u_mapPitch","skyboxModelMatrix","TEXTURE_CUBE_MAP_POSITIVE_Y","src","getTextureObject"],ua=pa;function pa(t,e){return ca[t-=401]}!function(t,e){const r=pa;for(;;)try{if(120783===parseInt(r(498))+-parseInt(r(516))*parseInt(r(456))+parseInt(r(442))+-parseInt(r(445))*-parseInt(r(454))+parseInt(r(493))+-parseInt(r(451))+-parseInt(r(455)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ca);class fa{constructor(t,e){const r=pa;this._gl=t,this[r(414)]=null,this[r(411)]=null,this[r(448)](),this._initBgVao(),this[r(477)]=null,this[r(459)]=.5,this[r(529)]=[.6,.6,.6,1],this[r(546)]=[0,0,0,1],this[r(536)]=null,this._showSkybox=null,this[r(489)]=e}get gl(){return this[pa(410)]}[ua(469)](t){this[ua(459)]=t}[ua(475)](t){this[ua(529)]=t}[ua(405)](t){this[ua(537)]=t}[ua(443)](t){this[ua(546)]=t}_initBgProgram(){const t=ua;this._bgProgram=Gt.initProgram(this[t(410)],la[t(522)].background[t(548)],la.base[t(474)][t(467)])}[ua(404)](){const t=ua,e=this._gl;this[t(411)]=e[t(457)](),e.bindVertexArray(this[t(411)]);let r=e[t(551)](),i=new Float32Array([1,1,-1,1,-1,-1,1,1,-1,-1,1,-1]);e[t(434)](e[t(538)],r),e[t(521)](e[t(538)],i,e[t(452)]);let n=e[t(479)](this[t(414)],"aa_position");e[t(508)](n,2,e[t(437)],!1,0,0),e.enableVertexAttribArray(n);let s=e.createBuffer(),o=new Float32Array([1,0,0,0,0,1,1,0,0,1,1,1]);e[t(434)](e.ARRAY_BUFFER,s),e.bufferData(e[t(538)],o,e[t(452)]);let a=e[t(479)](this[t(414)],"a_textureArr");e[t(508)](a,2,e[t(437)],!1,0,0),e[t(525)](a),e[t(480)](null)}draw(){const t=ua;this[t(510)]?this._drawSkyBox():this._drawBackground(),this[t(489)][t(495)]&&this[t(487)](this[t(489)][t(495)])}[ua(530)](){const t=ua,e=this[t(410)];this.gl[t(504)](this.gl.DEPTH_TEST),e.useProgram(this[t(414)]),e.clear(e[t(511)]|e.DEPTH_BUFFER_BIT);let r=e[t(429)](this._bgProgram,t(547));e[t(534)](r,this._edge);let i=e.getUniformLocation(this[t(414)],"u_fogColor");e[t(430)](i,this[t(529)][0],this[t(529)][1],this._fogColor[2],this[t(529)][3]);let n=e.getUniformLocation(this[t(414)],t(515));e.uniform4f(n,this._landColor[0],this[t(546)][1],this[t(546)][2],this._landColor[3]);let s=e[t(429)](this._bgProgram,t(461));if(e[t(465)](s,0),this._skyImage){e.uniform1i(s,1);let r=Gt[t(413)](this.gl)[t(485)](this._skyImage,0,{wrap_s:t(503),wrap_t:t(499),mag_filter:t(438),min_filter:"NEAREST"});r[t(424)](this[t(537)]),r[t(431)]();let i=e.getUniformLocation(this[t(414)],"u_Sampler");e.uniform1i(i,0);let n=e[t(429)](this[t(414)],t(507));e[t(534)](n,r[t(415)][t(446)]/e.canvas[t(446)]);let o=e[t(429)](this._bgProgram,"textureWidth");e[t(534)](o,r[t(415)][t(472)]/e[t(416)][t(472)])}!this[t(411)]&&this._initBgVao(),e.bindVertexArray(this[t(411)]),e.drawArrays(e[t(432)],0,6),this.gl.enable(this.gl.DEPTH_TEST),e[t(480)](null)}[ua(487)](t){const e=ua;!this._cloudProgram&&(this._cloudProgram={program:Gt.initProgram(this[e(410)],la[e(522)][e(422)][e(548)],la[e(522)][e(422)][e(467)]),vao:null,vbo:null,uTime:null,uMouse:null,uViewport:null,uFogEdge:null,uFogColor:null,uAngle:null,uCover:null,uShadowRatio:null,uShadowThickness:null,uTimeRate:null,uScale:null},this[e(458)]());const r=this._map,i=this[e(459)];if(1==i||i<0)return;this[e(450)]||(this._startTime=Date[e(441)]());const n=this.gl,s=(Date[e(441)]()-this._startTime)/1e3,o=e(514)in t?t[e(514)]:.4,a="shadowRatio"in t?t[e(526)]:.5,h=e(520)in t?t.shadowThickness:.2,l=e(527)in t?t[e(527)]:.7,c=e(554)in t?t.scale:.5;n[e(402)](this[e(477)][e(433)]),n[e(434)](n[e(538)],this[e(477)][e(501)]),n[e(521)](n.ARRAY_BUFFER,new Float32Array([-1,1,-1,i,1,i,1,1]),n[e(550)]),n.bindVertexArray(this[e(477)].vao),n[e(534)](this._cloudProgram[e(553)],i),n[e(534)](this._cloudProgram[e(517)],s),n[e(470)](this._cloudProgram[e(403)],[n.drawingBufferWidth,n[e(494)]]),n.uniform2fv(this[e(477)][e(512)],[n[e(436)]/2,n.drawingBufferHeight*(1-i)/4]),n.uniform4fv(this[e(477)][e(423)],this[e(529)]),n[e(534)](this._cloudProgram[e(535)],r[e(542)](e(543))%360/180),n[e(534)](this[e(477)][e(425)],o),n[e(534)](this[e(477)][e(439)],a),n[e(534)](this[e(477)].uShadowThickness,h),n[e(534)](this._cloudProgram[e(524)],l),n[e(534)](this[e(477)][e(464)],c),n[e(496)](n.TRIANGLE_FAN,0,4)}[ua(458)](){const t=ua,e=this.gl;this._cloudProgram[t(492)]=e[t(457)](),e.bindVertexArray(this[t(477)].vao),this[t(477)][t(501)]=e[t(551)](),e[t(434)](e[t(538)],this._cloudProgram[t(501)]);const r=e[t(479)](this[t(477)][t(433)],t(519));e.vertexAttribPointer(r,2,e[t(437)],!1,2*Float32Array[t(406)],0),e[t(525)](r),this._cloudProgram[t(517)]=e[t(429)](this[t(477)][t(433)],"u_time"),this._cloudProgram[t(512)]=e.getUniformLocation(this._cloudProgram.program,t(523)),this._cloudProgram[t(403)]=e[t(429)](this[t(477)][t(433)],"u_viewport"),this[t(477)][t(553)]=e[t(429)](this[t(477)][t(433)],"u_fogEdge"),this[t(477)].uFogColor=e.getUniformLocation(this._cloudProgram[t(433)],t(545)),this[t(477)][t(535)]=e[t(429)](this[t(477)][t(433)],"u_angle"),this[t(477)].uCover=e[t(429)](this[t(477)].program,t(478)),this[t(477)].uShadowRatio=e[t(429)](this[t(477)][t(433)],t(505)),this._cloudProgram[t(412)]=e[t(429)](this[t(477)][t(433)],t(486)),this[t(477)].uTimeRate=e[t(429)](this._cloudProgram[t(433)],t(427)),this[t(477)][t(464)]=e.getUniformLocation(this[t(477)][t(433)],t(497)),e.bindVertexArray(null)}[ua(419)](){const t=ua;this[t(549)]=Gt[t(491)](this[t(410)],la[t(522)][t(533)][t(548)],la[t(522)][t(533)][t(467)])}[ua(506)](){const t=ua,e=this.gl;this[t(407)]=e[t(457)](),e.bindVertexArray(this[t(407)]);let r=e[t(551)](),i=new Float32Array([-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,-.5,.5]);this.skyboxPositionCount=i[t(435)]/3,e.bindBuffer(e[t(538)],r),e.bufferData(e[t(538)],i,e[t(452)]);let n=e[t(479)](this[t(549)],t(519));e[t(508)](n,3,e.FLOAT,!1,0,0),e[t(525)](n),e.bindVertexArray(null)}[ua(463)](t){const e=ua,r=this[e(410)],i=this[e(489)];if(!this.skyCubeTexture&&(this[e(509)]=r.createTexture()),r[e(447)](r[e(449)]+0),r[e(431)](r.TEXTURE_CUBE_MAP,this[e(509)]),6==t[e(435)]){let n=[r[e(518)],r[e(444)],r[e(483)],r[e(531)],r[e(421)],r.TEXTURE_CUBE_MAP_NEGATIVE_Z];const s=this.skyCubeTexture;for(let o=0;o<t[e(435)];o++){r[e(401)](n[o],0,r[e(466)],1024,1024,0,r[e(466)],r[e(409)],null);let a=new Image;a[e(484)]=t[o],a[e(460)]=function(){const t=e;r[t(431)](r.TEXTURE_CUBE_MAP,s),r[t(401)](n[o],0,r[t(466)],r[t(466)],r[t(409)],a),r.generateMipmap(r.TEXTURE_CUBE_MAP),i&&i[t(428)]()}}r[e(468)](r[e(490)]),r[e(500)](r[e(490)],r[e(453)],r[e(540)])}this._showSkybox=!0}[ua(539)](){const e=ua,r=this[e(410)];!this[e(549)]&&this[e(419)](),r[e(402)](this[e(549)]),r.enable(r[e(532)]),r[e(462)](!1),r[e(420)](r[e(476)]),!this[e(407)]&&this[e(506)](),r[e(480)](this.skyboxVao);let i=this[e(489)][e(418)](),n=r[e(429)](this._skyBoxProgram,e(515));r[e(430)](n,i[0],i[1],i[2],i[3]),!this[e(541)]&&(this[e(541)]=(new t.Matrix4)[e(502)](60,r[e(436)]/r.drawingBufferHeight,.1,5));let s=this[e(489)][e(417)]()[e(513)](),o=this._map[e(417)]()[e(408)](),a=(new t.Matrix4)[e(544)](s,1,0,0)[e(528)]((new t.Matrix4).setRotate(o,0,0,1));!this[e(482)]&&(this.skyboxModelMatrix=(new t.Matrix4)[e(544)](90,1,0,0));let h=r[e(429)](this._skyBoxProgram,"u_projMatrix"),l=r[e(429)](this[e(549)],e(488)),c=r[e(429)](this._skyBoxProgram,e(426)),u=r.getUniformLocation(this[e(549)],e(481));r[e(552)](h,!1,this[e(541)][e(471)]()),r[e(552)](l,!1,a[e(471)]()),r[e(552)](c,!1,this[e(482)][e(471)]()),r.uniform1f(u,this._map[e(440)]()),r[e(447)](r[e(449)]+0),r[e(431)](r[e(490)],this[e(509)]),r.drawArrays(r.TRIANGLES,0,this[e(473)]),r[e(431)](r[e(490)],null),r[e(480)](null),r.useProgram(null)}}var ga=["Move","762852Hxfdgr","string","737656ggGpeK","HAND_RELEASE","_id","284434tesEfP","13387XdDBaf","getElementById","cursor","HAND_OVER","650477UtSCLd","19FBTGhM","HAND_DRAG","constructor","name","pointer","52827jfEBzF","3793vQNWqv",'url("../../theme/img/HAND_DRAG.png"), default',"style","848OjEpCP",'url("../../theme/img/HAND_RELEASE.png"), default',"default","1ZGiPex"];function da(t,e){return ga[t-=240]}!function(t,e){for(var r=da;;)try{if(473865===parseInt(r(252))*-parseInt(r(247))-parseInt(r(241))+-parseInt(r(251))*parseInt(r(264))-parseInt(r(246))-parseInt(r(257))-parseInt(r(243))+-parseInt(r(261))*-parseInt(r(258)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ga);const _a=["Microsoft YaHei","269360xCkgMq","mapicon.ttf","13648EksMdP","31490vuYvZn","54094UNdLCS","168262ZmCPGf","248668yKkCJs","8tCOuAw","normal","194570DPZIEy","2NWIsoD"],ya=ma;function ma(t,e){return _a[t-=481]}!function(t,e){const r=ma;for(;;)try{if(519848===parseInt(r(485))+-parseInt(r(488))+parseInt(r(487))+-parseInt(r(490))*-parseInt(r(486))+parseInt(r(489))+-parseInt(r(483))+parseInt(r(481))*parseInt(r(492)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_a);let Ia={TextDefault:new t.TextSymbol({fontWeight:"normal",fontStyle:ya(491),fontSize:23,fontFace:ya(482),color:new t.Color(0,255,0,1),haloColor:new t.Color(0,0,255,1),haloWidth:3,backgroundColor:new t.Color(255,0,0,0)}),IconDefault:new t.Icon,IFontDefault:new t.IconFont({fontSize:32,fillColor:new t.Color(255,0,0,1),outLineColor:new t.Color(0,0,255,0),outLineWidth:1,fileUrl:ya(484),opacity:1}),CircleDefault:new t.Circle({radius:10,fillColor:new t.Color(255,0,0,1),outlineColor:new t.Color(0,0,255,1),outlineWidth:1})};var xa=["1346678sPMXGP","toColor","name","137248oXPFnA","constructor","333232UAgXfq","angle must be a number between 0 and 180","createUnique","4Efhnxq","angle","2189702JumsqO","number","1QsXYCY","608601dgwaYZ","fromColor","565dSXqkn","46581TteyUo","1376CmibBf"];function va(t,e){return xa[t-=312]}!function(t,e){for(var r=va;;)try{if(843364===-parseInt(r(326))*-parseInt(r(321))+parseInt(r(315))*-parseInt(r(317))-parseInt(r(318))+-parseInt(r(312))*parseInt(r(316))+parseInt(r(313))+-parseInt(r(323))+parseInt(r(328)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xa);class ba{constructor(e,r,i=0){var n=va;if(typeof i!==n(329)||i<0||i>180)throw Error(n(324));this[n(314)]=e,this[n(319)]=r,this[n(327)]=i,this._id=t.Aid[n(325)](this[n(322)][n(320)])}}const wa=["indexOf","510271djRcIT","_createStyleBySymbols","getTextSymbols","fromHexColor","fontSize","setUnicode","TEXTURES","you must define hmap.initState.resource first!","1awLhkW","NEAREST","ordinary_house","1546278GCybgN","getLineSymbols","symbols","_textMap","setMarkerSymbols","color1","totalConfig","_colorHexToArray","static","textures/","color","265HUxBgt","LAND","12367DTKABi","get","resource","getTextMap","textureSymbols","rules","setFontSize","1418324IHHhjZ","hasOwnProperty","5iKxcTi","83206XMxhTa","BUILDING_PG","substring","image","createStyleMap","clear","markerSymbols","stretch","setLineSymbols","fontColor","getFillSymbols","823108GhyNKv","updateMapByStyleJson","425622jYobNN","name","size","lineSymbols","setFillSymbols","display","_isHvtb","setOpacity","setHaloColor","scale","getStyleMap","maxLevel","getStyleByTypeLevel","getMarkerSymbols","isHvtb","opacity","texture","setTextSymbols","_styleMap","lastIndexOf","length","stretchType","set","baseUrl","outlineColor","type","MIRRORED_REPEAT","weight","setColor","1nbivMA","styleUrl","minLevel","createHvtbTexture","mapicon.ttf","push","updateStyleBySubTypes","fillSymbols","skyBox","speed","has","FOG","setFontColor","backgroundColor","unicode","haloColor","_styleJson","offset","textSymbol","imgSrc"],Ta=Ea;function Ea(t,e){return wa[t-=106]}!function(t,e){const r=Ea;for(;;)try{if(974270===-parseInt(r(114))*parseInt(r(115))+-parseInt(r(157))*parseInt(r(128))-parseInt(r(189))+parseInt(r(186))*-parseInt(r(178))-parseInt(r(126))+parseInt(r(112))+parseInt(r(200))*parseInt(r(202)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wa);class Ca{constructor(e,r={}){const i=Ea;this._id=t.Aid.createUnique(this.constructor[i(129)]),this[i(146)]=new Map,this[i(134)]=r[i(142)]||!1,this[i(151)]=r[i(158)]&&-1!=r[i(158)][i(147)]("/")?r[i(158)][i(117)](0,r.styleUrl[i(147)]("/")+1):"",this.updateStyle(e)}updateStyle(t){const e=Ea;t&&(this[e(173)]=t,this._ttfUrl=t[e(195)].ttfUrl||e(161),this._styleMap[e(120)](),this.createStyleMap(t),this[e(134)]&&this[e(160)](t))}[Ta(140)](t,e){const r=Ta;if(null===this[r(146)]||0===this[r(146)][r(130)])return null;let i=t;return i!==r(201)&&"FOG"!==i&&(i=i+"_"+e),this[r(146)][r(167)](i)?this[r(146)].get(i):null}[Ta(119)](t){const e=Ta;for(let r in t){const i=t[r][e(110)],n=t[r][e(155)];if(i)for(let t=0,s=i[e(148)];t<s;t++){const s=i[t],o=s[e(159)],a=s[e(139)],h=this[e(179)](s[e(191)],n,r);for(let t=o;t<=a;t++){if(r===e(168)||r===e(201)){this[e(146)][e(150)](r,h);break}if(r===e(116)||r===e(188)){let i=s[e(122)];if(i&&t>=i.min){h[e(149)]=i[e(153)],this._styleMap.set(r+"_"+t,h);continue}}this._styleMap[e(150)](r+"_"+t,h)}}}return this[e(146)]}[Ta(160)](e){const r=Ta,i=e[r(184)];this._textMap=new Map,!t.initState[r(107)]&&r(185);const n=t.initState[r(107)];for(let e in i){const s=n+i[e].name,o=new t.TextureFill(s);this[r(192)][r(150)](e,o)}}[Ta(108)](){const t=Ta;return 0===this[t(146)].size&&this[t(160)](this._styleJson),this[t(192)]}[Ta(138)](){const t=Ta;return 0===this[t(146)][t(130)]&&this.createStyleMap(this[t(173)]),this[t(146)]}[Ta(179)](e,r=0,i){const n=Ta;let s=new t.Style;if(s[n(193)]([]),s[n(123)]([]),s[n(132)]([]),s.setTextSymbols([]),e[n(121)]){const o=e[n(121)];let a=[];for(let e=0;e<o[n(148)];e++){const s=o[e],h=new t.Icon({imgSrc:s[n(176)]||i,sprite:!0,size:new t.Size(s[n(182)],s.fontSize)});h[n(155)]=r,h.display=s.display,a[n(162)](h)}s.setMarkerSymbols(a)}if(e.lineSymbols){const i=e[n(131)];let o=[];for(let e=0;e<i[n(148)];e++){const s=i[e][n(199)],a=new t.LineSymbol(i[e]);if(s&&-1!==s[n(177)]("#")){let r=new t.Color;r[n(181)](s),i[e][n(113)](n(143))&&r[n(135)](i[e][n(143)]),a.setColor(r)}else delete i[e][n(199)];a[n(155)]=r+.2*e,a[n(133)]=i[e][n(133)],o[n(162)](a)}s.setLineSymbols(o)}if(e[n(164)]){const i=e[n(164)];let o=[];for(let e=0,s=i[n(148)];e<s;e++){const s=i[e][n(165)];if(s&&0!=s[n(148)])if(1==s.length){if({blueSky:1,customSky:1,night:1,sunny:1,twilight:1}[s[0]])o[n(162)]({skyBox:s});else{let t=this[n(173)][n(184)],e=s[0],r=this[n(151)]+"textures/"+t[e][n(129)];o[n(162)]({skyImage:[r]})}}else{let t=[];for(let e of s){let r=this[n(173)][n(184)],i=this[n(151)]+n(198)+r[e][n(129)];t.push(i)}o[n(162)]({skyBox:t})}else{const s=i[e].noise,a=i[e][n(199)],h=i[e][n(194)];let l,c,u=a;if(a&&-1!==a[n(177)]("#")){let e=new t.Color;e[n(181)](a),u=e}if(h&&-1!==h[n(177)]("#")){let r=new t.Color;r.fromHexColor(h),l=r;let s=i[e][n(113)]("opacity1")?i[e].opacity1:1;l.setOpacity(s)}if(s){let r=i[e].hasOwnProperty(n(166))?i[e][n(166)]:1,s=i[e][n(113)](n(137))?i[e].scale:1,o=!!i[e][n(113)](n(197))&&i[e][n(197)],a=new t.Water({color:u,speed:r,scale:s,static:o});c=new t.NoiseFill(a)}else if(i[e][n(113)](n(144))){let r=i[e][n(144)],s=this[n(173)][n(184)],o=this.baseUrl+n(198)+s[r][n(129)];c=new t.TextureFill(o)}else c=new t.ColorFill(u);c[n(135)](i[e].opacity),l&&(c[n(194)]=l),c[n(155)]=r,c.display=i[e][n(133)],o[n(162)](c)}}s[n(132)](o)}if(e[n(109)]){const i=e[n(109)];let o=[];for(let e=0,s=i[n(148)];e<s;e++){const s=i[e][n(118)],a=i[e].width,h=i[e].height;if(s){const l=new t.TextureFill(s,{unitHeight:h,unitWidth:a,texture_wrap_s:"MIRRORED_REPEAT",texture_wrap_t:n(154),texture_mag_filter:n(187),texture_min_filter:n(187)});l[n(155)]=r,l.display=i[e].display,o.push(l)}}s[n(132)](o)}if(e[n(175)]){const i=Object.assign({},e.textSymbol);let o=1;void 0!==i.opacity&&(o=i[n(143)]);const a=i[n(172)];if(a&&-1!==a[n(177)]("#")){let e=new t.Color;e.fromHexColor(a),e[n(135)](o),i[n(172)]=e}else delete i.haloColor;const h=i[n(124)];if(h&&-1!==h.indexOf("#")){const e=new t.Color;e[n(181)](h),e[n(135)](o),i.fontColor=e}else delete i[n(124)];const l=i[n(170)];if(l&&-1!==l[n(177)]("#")){const e=new t.Color;e[n(181)](l),e[n(135)](o),i[n(170)]=e}else delete i[n(170)];if(i[n(174)]){const e=i[n(174)];i[n(174)]=new t.Offset(e[0],e[1],e[2])}else delete i[n(174)];const c=new t.TextSymbol(i);c[n(155)]=r,c[n(133)]=i[n(133)],s[n(145)]([c])}return s}[Ta(127)](t,e){this.createStyleMap(e),t.redraw()}updateStyleMap(t,e,r){const i=this.getStyleMap(),n=t+"_"+e;let s=this._createStyleBySymbols(r,0,t);i.set(n,s)}[Ta(163)](e,r,i){const n=Ta,s=this[n(138)]();if([...s.keys()][n(148)]<1)return!1;for(let o=0,a=e[n(148)];o<a;o++){const a=s[n(106)](e[o]+"_"+i);if(a){if(r[n(121)]){const e=r[n(121)],i=a[n(141)]();for(let r=0;r<e[n(148)];r++){const s=e[r];if(i[r][n(133)]=s[n(133)],s[n(182)]&&i[r][n(111)](s[n(182)]),s[n(171)]&&i[r][n(183)](s[n(171)]),s.fillColor){const e=new t.Color;e[n(181)](s.fillColor),i[r].setFillColor(e)}if(s[n(152)]){const e=new t.Color;e[n(181)](s[n(152)]),i[r].setOutlineColor(e)}}}else if(r[n(131)]){const e=r[n(131)];for(let r=0;r<e[n(148)];r++)if(e[r][n(199)]){const i=new t.Color;i[n(181)](e[r].color),a.getLineSymbols()[r][n(156)](i),a[n(190)]()[r][n(133)]=e[r][n(133)]}}else if(r.fillSymbols){const e=r[n(164)];if(e[n(148)]>0){if(a[n(125)]()[0][n(133)]=e[0].display,e[0][n(199)]){const r=new t.Color;r[n(181)](e[0][n(199)]),a[n(125)]()[0][n(156)](r)}if(void 0!==e[0][n(143)]&&a.getFillSymbols()[0][n(135)](e[0][n(143)]),2===e[n(148)]){if(a[n(125)]()[1].display=e[1][n(133)],e[1].color){const r=new t.Color;r[n(181)](e[1].color),a.getFillSymbols()[1][n(156)](r)}void 0!==e[1].opacity&&a[n(125)]()[1][n(135)](e[1].opacity)}}}if(r.textSymbol){const e=r[n(175)],i=a[n(180)]()[0];if(i[n(133)]=e[n(133)],e[n(182)]&&i.setFontSize(e.fontSize),e[n(124)]){const r=new t.Color;r[n(181)](e.fontColor),i[n(169)](r)}if(e.haloColor){const r=new t.Color;r.fromHexColor(e.haloColor),i[n(136)](r)}}}}}[Ta(196)](e){const r=Ta;if(e&&-1!==e.indexOf("#")){let i=new t.Color;return i[r(181)](e),i}return e}}var Aa=["hasOwnProperty","1ZttYvV","866285obmhOz","toNormalizeArray","specularFactor","459505tLLtkd","specularMap","20523nLKxNP","shadingModel","diffuseFactor","opacity","normalMap","custom","diffuse","setShininess","7084dfNjvi","setEmissive","emissiveFactor","1733824VUIdiR","bumpMap","getDiffuse","getAmbient","setDiffuse","phone","getEmissive","ambient","emissiveMap","shininess","constructor","922762BPydFa","getSpecular","map","alphaMap","emissive","specular","851539wzbrlz","materialType","getShininess"];function Ma(t,e){return Aa[t-=449]}var Sa=Ma;!function(t,e){for(var r=Ma;;)try{if(465818===-parseInt(r(449))-parseInt(r(479))+-parseInt(r(483))*parseInt(r(451))+parseInt(r(459))+parseInt(r(473))+-parseInt(r(484))+parseInt(r(462)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Aa);class Pa{constructor(e={}){var r=Ma;this.id=t.Aid.createUnique(this[r(472)].name),this.name=r(456),this[r(480)]=e[r(480)]?e.materialType:r(467),this.shadingModel=e[r(452)]?e.shadingModel:"phone",this[r(477)]=[0,0,0],e[r(477)]&&e[r(477)]instanceof t.Color?this.emissive=e.emissive[r(485)]():e[r(477)]&&e.emissive instanceof Array&&(this.emissive=e[r(477)]),this[r(461)]=e.emissiveFactor?e[r(461)]:0,this[r(469)]=e[r(469)]?e[r(469)]:[0,0,0],this.diffuse=e.diffuse?e.diffuse:[0,0,0],this[r(453)]=e[r(482)](r(453))?e[r(453)]:1,this[r(478)]=e[r(478)]?e.specular:[0,0,0],this.shininess=e[r(482)](r(471))?e.shininess:32,this[r(486)]=e[r(486)]?e[r(486)]:0,this[r(454)]=e[r(482)]("opacity")?e[r(454)]:1,this.map=e.map?e[r(475)]:null,this[r(450)]=e[r(450)]?e[r(450)]:null,this[r(470)]=e[r(470)]?e.emissiveMap:null,this[r(455)]=e[r(455)]?e[r(455)]:null,this.bumpMap=e[r(463)]?e.bumpMap:null,this[r(476)]=e[r(476)]?e[r(476)]:null}[Sa(460)](t){this.emissive=t}[Sa(468)](){var t=Sa;return this[t(477)][t(485)]()}setAmbient(t){this.ambient=t}[Sa(465)](){return this[Sa(469)]}[Sa(466)](t){this[Sa(457)]=t}[Sa(464)](){return this[Sa(457)]}setSpecular(t){this[Sa(478)]=t}[Sa(474)](){return this[Sa(478)]}[Sa(458)](t){this[Sa(471)]=t}[Sa(481)](){return this[Sa(471)]}}var Ra=["1mQrvnt","3Szltip","209151AiyxVK","36iiFEvm","6633jqFSPs","241bTSXhU","401884LtBPSL","3971TEGkzB","1499BqeTuS","587072hMcBbR","37liDZAx","991422OpIKcZ"];function La(t,e){return Ra[t-=282]}!function(t,e){for(var r=La;;)try{if(518549===-parseInt(r(290))*-parseInt(r(284))-parseInt(r(291))+-parseInt(r(282))*parseInt(r(293))+parseInt(r(288))*-parseInt(r(283))+-parseInt(r(287))*-parseInt(r(285))+parseInt(r(289))*parseInt(r(292))+parseInt(r(286)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ra);var Fa=Object.freeze({__proto__:null,Circle:t.Circle,ColorFill:t.ColorFill,Color:t.Color,Cursor:class{constructor(){var e=da;this[e(245)]=t.Aid.createUnique(this[e(254)][e(255)])}static set(t,e){var r=da;switch(typeof t===r(242)&&(t=document[r(248)](t)),e){case r(244):t[r(260)].cursor=r(263);break;case r(253):t.style[r(249)]=r(240);break;case r(250):t[r(260)][r(249)]=r(256);break;default:t[r(260)][r(249)]="default"}}static isOnMap(t){var e=da;return typeof t===e(242)&&(t=document[e(248)](t)),t[e(260)][e(249)]===e(262)||t.style[e(249)]===e(259)}},FillSymbol:t.FillSymbol,FontType:Ia,GradientFill:ba,Icon:t.Icon,IconFont:t.IconFont,LineSymbol:t.LineSymbol,MarkerSymbol:t.MarkerSymbol,RegularShape:t.RegularShape,StyleRuleManager:Ca,Style:t.Style,TextureFill:t.TextureFill,TextSymbol:t.TextSymbol,VideoFill:t.VideoFill,NoiseFill:t.NoiseFill,RadialGradientFill:t.RadialGradientFill,Material:Pa});const Da=["getHaloColor","span","font","entries","className","appendChild","getFontSize","_calSize","_maxHeight","clearRect","color","strokeText","rgb(0, 0, 0)","186084LyRCKM","getRadius","textBaseline","textContent","getFontColor","info","getOpacity","_size","getFillColor","Microsoft Yahei","textWidth","addIcon","getFontWeight","_textProp","_id","addInfo","fillStyle","floor","_enlargeCtx","crossOrigin","fontFace","fontSize","_fontWeight","getFontFace","haloWidth","width","fill","_upSize","getIconInfo","getImageData","407943TkGAPo","makeTextTexture","drawImage","109tNEZTG","getUnicode","putImageData","canvas","clientWidth","782320YCUcqh","constructor","src","strokeStyle","onload","backgroundColor","arc","left","lineWidth","alphabetic","3CNKBjP","top","toRGBColor","1sGvwba","_canvasInfos","getHaloWidth","getImgSrc","removeChild","getClassName","1yrsJKe","CANVAS","_space","normal","the parameter type is illegal.","toString","fillRect","rgb(255, 255, 255)","4139nejXTG","makeCircleTexture","haloColor","hasChange","save","_normalize","Could not load image at ","innerHTML","_atlasInfos","set","setCanvas","toHexColor","anonymous","style","getCanvas","551709BArofL","81898HJQMQZ","textAlign","addCircle","globalAlpha","createElement","get","getBackgroundColor","fontWeight","fillText","the size of Atlas is not enough","textHeight","527117XhYVJZ","makeIconTexture","getTextInfo","getContext","getOutlineColor","getCircleInfo","height","_createUnique","display","getFontStyle","getFontFamily","_empty","_analizeHeight","body","_context","getOutlineWidth","getTextProp"],Oa=Ba;!function(t,e){const r=Ba;for(;;)try{if(472096===-parseInt(r(503))*-parseInt(r(554))+parseInt(r(568))*-parseInt(r(536))-parseInt(r(541))-parseInt(r(583))+-parseInt(r(560))*-parseInt(r(584))+parseInt(r(533))+parseInt(r(551))*parseInt(r(595)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Da);class Na{constructor(e,r=1,i=!0){const n=Ba;this[n(517)]=t.Aid.createUnique(this[n(542)].name),this[n(510)]=e,this._space=r,this._normalize=i,this[n(606)]={width:e-this[n(562)],height:e-this[n(562)]},this._maxHeight=0,this[n(609)]=document[n(588)](n(561))[n(598)]("2d"),this[n(578)](),this[n(555)]=new Map,this[n(576)]=new Map,this[n(516)]=null,this[n(571)]=!1,this._upSize=256}getAtlasInfos(){return this[Ba(576)]}[Oa(578)](t=this[Oa(510)],e=this._size){const r=Oa,i=this[r(609)][r(539)];i.width=t,i.height=e,this[r(609)][r(587)]=0,this._context[r(566)](0,0,t,e)}_createUnique(e){const r=Oa;let i;const n=e.symbol;if(n instanceof t.TextSymbol){const t=e.text+n[r(496)]()[r(565)]()+n[r(526)]()+n[r(515)]()+n[r(604)]();i=n[r(556)]()>0&&n[r(612)]().getOpacity()>0?t+n[r(507)]()[r(579)]()+n[r(612)]()[r(579)]()+n[r(556)]()+n[r(590)]()[r(579)]():t}else if(n instanceof t.Icon)i=n[r(557)]();else if(n instanceof t.IconFont)i=n[r(537)]()+n[r(496)]()+n[r(605)]()+n[r(599)]()[r(579)]()+n[r(610)]();else{if(!(n instanceof t.Circle))throw new TypeError(r(564));i=n[r(504)]()+n[r(511)]().toHexColor()+n[r(599)]()[r(579)]()+n[r(610)]()}return i}addText(t,e){const r=Oa;this.getTextProp(t,e);const i=this._createUnique({text:t,symbol:e});let n=this[r(576)].get(i);if(n)return n;{this[r(518)](this[r(516)][r(513)],this[r(516)][r(594)],i);const n=this[r(555)][r(589)](i);return this.makeTextTexture(t,e,n.x,n.y),this[r(571)]=!0,this[r(576)].get(i)}}[Oa(611)](t,e){const r=Oa;this._context[r(572)](),this._textProp={fontWeight:e[r(525)],fontStyle:e.getFontStyle(),fontSize:e[r(496)](),fontFace:e[r(526)](),color:e[r(507)](),haloColor:e.getHaloColor(),haloWidth:e[r(556)](),backgroundColor:e[r(590)]()},this[r(609)].font=this[r(516)][r(591)]+" "+this[r(516)].fontStyle+" "+this[r(516)][r(524)]+"px "+this._textProp[r(523)];const i=this[r(516)][r(524)]<=26?6:8,n=e[r(604)]()!==r(563)?4:0,s=this[r(516)][r(570)][r(509)](),o=this[r(609)].measureText(t)[r(528)],a=this._textProp[r(524)];if(s>0&&this[r(516)].haloWidth>0){const t=2*this[r(516)][r(527)];this[r(516)][r(513)]=o+t+n,this[r(516)][r(594)]=a+t+i}else this[r(516)].textWidth=o+n,this[r(516)][r(594)]=a+i}addIconfont(t,e){const r=Oa,i=t[r(496)]()+2*t.getOutlineWidth(),n=this[r(602)]({symbol:t});let s=this[r(576)][r(589)](n);if(s)return s;{this[r(518)](i,i,n),s=this[r(576)].get(n);let e=document[r(588)](r(613));e[r(581)][r(603)]="inline-block",e[r(494)]=r(512),e[r(575)]=t.getUnicode(),document.body[r(495)](e);let o=e[r(540)];return e[r(494)]=t[r(559)](),new Promise(((r,i)=>{let a=0,h=setInterval(function(){const i=Ba,l=this[i(555)][i(589)](n);a++,o!==e.clientWidth?this.makeIconfontTexture(e,t,l.x,l.y)&&(clearInterval(h),document[i(608)][i(558)](e),this.hasChange=!0,r(s)):10===a||100===a&&this.makeIconfontTexture(e,t,l.x,l.y)&&(clearInterval(h),document.body[i(558)](e),this.hasChange=!0,r(s))}.bind(this),a)}))}}[Oa(514)](t){const e=Oa;let r=this;const i=this[e(602)]({symbol:t});return new Promise(((n,s)=>{const o=e;let a=new Image;a[o(522)]=o(580),a[o(543)]=t[o(557)](),a[o(545)]=function(){const e=o;let s=r[e(576)].get(i);if(s)n(s);else{r[e(518)](a.width,a[e(601)],i),r[e(571)]=!0,s=r._atlasInfos[e(589)](i);const o=r._canvasInfos[e(589)](i);r[e(596)](a,t,o.x,o.y)&&n(s)}},a.onerror=function(){throw new URIError(o(574)+t._imgSrc)}}))}[Oa(586)](t,e){const r=Oa,i=2*t[r(504)]()+2*t.getOutlineWidth(),n=this._createUnique({symbol:t});let s=this[r(576)][r(589)](n);if(s)return e(s),s;{this[r(518)](i,i,n),this.hasChange=!0,s=this[r(576)][r(589)](n);const o=this[r(555)].get(n);return this[r(569)](t,o.x,o.y),e(s),s}}[Oa(518)](t,e,r){const i=Oa;this[i(508)]={},t<=this._size&&e<=this[i(510)]?(t<=this[i(606)][i(528)]||(this[i(606)].width=this[i(510)]-this[i(562)],this[i(606)].height=this[i(606)][i(601)]-this[i(498)],this[i(498)]=0),this[i(607)](t,e),this._canvasInfos[i(577)](r,this[i(508)]),this[i(573)]?this._atlasInfos.set(r,{x:this[i(508)].x/this[i(510)],y:this[i(508)].y/this[i(510)],width:t/this._size,height:e/this[i(510)]}):this[i(576)][i(577)](r,this[i(508)])):(this[i(497)](t,e),this[i(518)](t,e,r))}[Oa(607)](t,e){const r=Oa;e<=this[r(606)].height?(this.info={x:this[r(510)]-this[r(606)][r(528)],y:this[r(510)]-this[r(606)][r(601)],width:t,height:e},this[r(606)][r(528)]=this[r(606)].width-t-this._space,this._maxHeight=e+this[r(562)]>this[r(498)]?e+this[r(562)]:this[r(498)]):(this._calSize(t,e),this[r(607)](t,e))}_calSize(t,e){const r=Oa,i=this._size-this[r(562)]-this._empty[r(528)]+t,n=this._size-this._space-this[r(606)][r(601)]+e,s=i>=n?i:n;if(s>2048)throw new RangeError(r(593));let o=this[r(510)]+Math[r(520)](1+(s-this[r(510)])/this[r(530)])*this._upSize;o=o>=2048?2048:o,this[r(521)](o)}[Oa(521)](t){const e=Oa,r=this._context[e(614)],i=this[e(609)][e(532)](0,0,this[e(510)],this[e(510)]);if(this._context[e(499)](0,0,this[e(510)],this[e(510)]),this[e(578)](t,t),this[e(606)][e(528)]+=t-this[e(510)],this._empty[e(601)]+=t-this[e(510)],this[e(573)])for(let[r,i]of this[e(576)][e(615)]()){const n=this[e(555)][e(589)](r);i.x=n/t,i.y=n/t,i.width=n/t,i.height=n/t}this[e(510)]=t,this._context[e(538)](i,0,0),this._context[e(614)]=r}[Oa(597)](t,e){const r=Oa,i=this[r(602)]({text:t,symbol:e});return this[r(576)][r(589)](i)}getIconfontInfo(t){const e=Oa,r=this._createUnique({symbol:t});return this._atlasInfos[e(589)](r)}[Oa(531)](t){const e=Oa,r=this[e(602)]({symbol:t});return this[e(576)][e(589)](r)}[Oa(600)](t){const e=Oa,r=this._createUnique({symbol:t});return this[e(576)][e(589)](r)}[Oa(582)](){const t=Oa;return this._context[t(539)]}[Oa(598)](){return this[Oa(609)]}[Oa(534)](t,e,r,i){const n=Oa,s=this[n(609)],o=this[n(516)].haloColor[n(509)]()>0?r+this._textProp[n(527)]:r,a=this[n(516)].haloColor[n(509)]()>0?i+12*this[n(516)].fontSize/13+this[n(516)][n(527)]:i+12*this[n(516)][n(524)]/13;s.textAlign=n(548),s[n(505)]=n(550),this[n(516)][n(570)][n(509)]()>0&&this[n(516)][n(527)]>0?(0!==this._textProp[n(546)][n(509)]()&&(s[n(587)]=this[n(516)].backgroundColor[n(509)](),s.fillStyle=this[n(516)][n(546)].toRGBColor(),s[n(566)](r,i,this[n(516)][n(513)],this._textProp.textHeight)),s[n(587)]=this._textProp[n(570)][n(509)](),s[n(549)]=this[n(516)][n(527)],s[n(544)]=this[n(516)].haloColor[n(553)](),s[n(501)](t,o,a),s[n(587)]=this[n(516)][n(500)][n(509)](),s[n(519)]=this[n(516)][n(500)].toRGBColor(),s[n(592)](t,o,a)):(s[n(587)]=0,s[n(519)]=n(502),s[n(566)](r,i,this[n(516)][n(513)],this[n(516)][n(594)]),s[n(587)]=1,s[n(519)]=n(567),s.fillText(t,o,a))}makeIconfontTexture(t,e,r,i){const n=Oa;this[n(609)][n(539)];const s=this[n(609)],o=e[n(496)](),a=e[n(605)](),h=e.getFillColor(),l=e.getOutlineColor(),c=e[n(610)](),u=r+c,p=i+c;return s[n(614)]="500 "+o+"px "+a,s[n(585)]=n(548),s[n(505)]=n(552),0!==h[n(509)]()&&(s[n(587)]=h.getOpacity(),s[n(519)]=h[n(579)](),s[n(592)](t[n(506)],u,p)),0!==l.getOpacity()&&0!==c&&(s.save(),s[n(587)]=l[n(509)](),s[n(549)]=c,s.strokeStyle=l.toHexColor(),s[n(501)](t[n(506)],u,p),s.restore()),!0}[Oa(596)](t,e,r,i){const n=Oa;return this[n(609)][n(587)]=1,this[n(609)][n(535)](t,0,0,t.width,t.height,r,i,t[n(528)],t.height),!0}[Oa(569)](t,e,r){const i=Oa,n=t[i(504)](),s=t[i(511)](),o=t[i(599)](),a=t[i(610)]();return this[i(609)].beginPath(),this[i(609)][i(587)]=1,this[i(609)][i(547)](e+n+a,r+n+a,n,0,2*Math.PI,!0),0!==s[i(509)]()&&(this[i(609)][i(587)]=s[i(509)](),this[i(609)][i(519)]=s[i(579)](),this[i(609)][i(529)]()),0!==o[i(509)]()&&0!==a&&(this[i(609)][i(587)]=o[i(509)](),this._context[i(544)]=o[i(579)](),this[i(609)][i(549)]=a,this[i(609)].stroke()),this[i(609)].closePath(),!0}}function Ba(t,e){return Da[t-=494]}const Ua=["the parameter is illegal","1011733eXPepi","getTextInfo","constructor","370209UQsFlC","1IURPwf","416289WmDvlD","getImgSrc","_normalize","_iFontFiles","getFileUrl","1ZdhODU","536334SPtsDh","addIconfont","get","push","parameters of Atlas are illegal,please check","_atlas","isInteger","getImageData","name","_atlasSpace","getLoadingPromise","width","set","1AjSUgm","getMarkerInfo","_addIconfont","canvas","addCss","_id","2097822WBkXxD","getContext","1vSbPYC","getCanvas","addText","getIconfontInfo","getAtlasCanvas","createUnique","the parameter is illegal.","length","iconPromises","_addIcon","780988MmiSnr","getCircleInfo","getAtlasInfos","_atlasSize","getAtlas","91480lXfILH","string","getIconInfo"],ka=Va;function Va(t,e){return Ua[t-=451]}!function(t,e){const r=Va;for(;;)try{if(796035===-parseInt(r(467))+parseInt(r(475))+-parseInt(r(474))*parseInt(r(455))+-parseInt(r(460))*parseInt(r(488))+-parseInt(r(496))*parseInt(r(464))+-parseInt(r(469))*-parseInt(r(468))+parseInt(r(494)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ua);class Ga{constructor(e=256,r=1,i=!0){const n=Va;if(this[n(493)]=t.Aid[n(501)](this[n(466)][n(483)]),!(Number[n(481)](r)&&r>=0&&r<=50&&Number[n(481)](e)&&e>=0&&e<=2048&&"boolean"==typeof i))throw new Error(n(479));this[n(484)]=r,this[n(458)]=e,this[n(471)]=i,this[n(480)]=new Na(this[n(458)],this[n(484)],this[n(471)]),this._iFontFiles=[],this[n(453)]=new Map}get atlas(){return this[Va(480)]}[ka(498)](e,r){const i=ka;if(typeof e===i(461)&&r instanceof t.TextSymbol)return this[i(480)].addText(e,r);throw new TypeError("the parameter is illegal.")}addMarker(e,r){const i=ka;if(!e)throw new Error(i(463));if(e instanceof t.Icon){let t=e[i(470)]();return this[i(453)][i(487)](t,this[i(454)](e)),this[i(453)].get(t)}if(e instanceof t.IconFont)return this._addIconfont(e,r);if(e instanceof t.Circle)return this._addCircle(e,r);throw new TypeError("the parameter is illegal.")}getTextInfo(e,r){const i=ka;if(typeof e===i(461)&&r instanceof t.TextSymbol)return this[i(480)][i(465)](e,r);throw new TypeError(i(451))}[ka(489)](e){const r=ka;if(!e)throw new TypeError("the parameter is illegal.");if(e instanceof t.Icon)return this[r(480)][r(462)](e);if(e instanceof t.IconFont)return this[r(480)][r(499)](e);if(e instanceof t.Circle)return this[r(480)][r(456)](e);throw new TypeError("the parameter is illegal.")}[ka(500)](){const t=ka;return this[t(480)][t(497)]()}getAtlasImageData(){const t=ka;let e=this[t(480)][t(495)]();return e[t(482)](0,0,e[t(491)][t(486)],e[t(491)].height)}[ka(457)](){return this[ka(480)].getAtlasInfos()}[ka(490)](t,e){const r=ka,i=t[r(473)](),n=this._iFontFiles[r(452)];if(0===n)t[r(492)](),this[r(472)][r(478)](i);else for(let e=0;e<n&&i!==this[r(472)][e];e++)e===n-1&&(t[r(492)](),this[r(472)][r(478)](i));return this[r(480)][r(476)](t,e)}_addIcon(t){return this[ka(480)].addIcon(t)}_addCircle(t,e){return this[ka(480)].addCircle(t,e)}[ka(485)](t){const e=ka;return this.iconPromises[e(477)](t[e(470)]())}[ka(459)](){return this[ka(480)]}}const za=["39spnsCJ","1jZJtmM","28599JdFsAO","_id","buffer","delete","buffer1","43852leLyEn","length","name","42053EqSzyd","update","features","bid","12amsrFt","bufferText","splice","doTask","36997cmTCQb","constructor","222383GtelTu","143266wjvjaq","4769nRZSii","bufferIcon"],Ha=ja;function ja(t,e){return za[t-=188]}!function(t,e){const r=ja;for(;;)try{if(114622===-parseInt(r(210))+parseInt(r(207))+parseInt(r(189))*parseInt(r(211))+-parseInt(r(199))+parseInt(r(190))*-parseInt(r(209))+-parseInt(r(196))+parseInt(r(191))*parseInt(r(203)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(za);class Ya{constructor(e){const r=ja;this[r(193)]=null,this[r(201)]=[],this.id=e||t.Aid.createUnique(this[r(208)][r(198)]),this[r(206)]=1}add(t){const e=ja;this[e(201)][this[e(201)][e(197)]]=t,t.bid=this.id}[Ha(194)](t){const e=Ha;for(let r=this[e(201)][e(197)]-1;r>=0;r--)if(t[e(192)]===this[e(201)][r][e(192)]){t.buffer=null,delete t[e(202)],this[e(201)][e(205)](r,1);break}}[Ha(200)](t){t[Ha(193)]=null,delete t.bufferLabel}clear(){const t=Ha;this[t(193)]=null;for(let e=this.features[t(197)]-1;e>=0;e--){const r=this[t(201)][e];delete r.buffer,delete r[t(195)],delete r.bid,delete r[t(204)],delete r[t(188)],delete r.bufferLabel}this.features=[]}}const $a=["6997lAWdKJ","101FTewFu","renderData","2336WNvjft","keys","url","111529waTdSv","deleteBlock","delete","_createBlock","has","2bPUlPN","_blocks","set","filterBlocks","get","1KFQKrN","push","718549aoqGwi","6188mKzrgC","2wnboxu","403329oVsula","350VeObGs","452768jaUPHl","_curBlock","merge","1uLduMs"];function Xa(t,e){return $a[t-=192]}const Wa=Xa;!function(t,e){const r=Xa;for(;;)try{if(434910===-parseInt(r(201))*parseInt(r(200))+-parseInt(r(216))*parseInt(r(218))+parseInt(r(192))+parseInt(r(195))*parseInt(r(203))+-parseInt(r(211))*parseInt(r(206))+parseInt(r(196))*parseInt(r(199))+parseInt(r(194))*parseInt(r(193)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($a);class Za{constructor(t){this._blocks=t}[Wa(215)](t){const e=Wa,r=t[e(205)];return this[e(212)][e(210)](r)?this[e(212)][e(215)](r):(this[e(197)]=this._createBlock(r),this[e(197)])}[Wa(198)](){return this}[Wa(214)](t){const e=Wa,r=[];for(let i of t[e(204)]()){const t=this._blocks[e(215)](i);t&&r[e(217)](t)}return r}[Wa(209)](t){const e=Wa;let r=new Ya(t);return r[e(202)]=new Map,this[e(212)][e(213)](t,r),r}[Wa(207)](t){const e=Wa;return this[e(212)][e(208)](t),this}}const qa=["length","342565iNWwcy","1NQKqbh","1KtZzBF","set","features","95615JRzRrD","489390TNQiov","_size","_curBlock","40paZxud","1dDTFdN","renderData","186111kUBdcQ","2661xxbdNR","get","_blocks","189897CoUXbI","1177536LaxMET","_createBlock","merge","values","2IJxIpT"];function Ja(t,e){return qa[t-=198]}const Ka=Ja;!function(t,e){const r=Ja;for(;;)try{if(422379===parseInt(r(213))*parseInt(r(208))+parseInt(r(205))*parseInt(r(201))+parseInt(r(198))+parseInt(r(215))*parseInt(r(216))+-parseInt(r(220))*-parseInt(r(217))+-parseInt(r(204))*-parseInt(r(202))+-parseInt(r(209)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(qa);class Qa{constructor(t,e=2e3){const r=Ja;this[r(199)]=e,this[r(207)]=t,this._curBlock}[Ka(206)](){const t=Ka;return(!this[t(200)]||this[t(200)][t(219)][t(214)]>=this[t(199)])&&(this[t(200)]=this[t(210)]()),this[t(200)]}[Ka(211)](){}filterBlocks(t){const e=Ka;return[...this[e(207)][e(212)]()]}[Ka(210)](){const t=Ka;let e=new Ya;return e[t(203)]=new Map,this[t(207)][t(218)](e.id,e),e}}const th=["uniforms","738047iaDLfp","1113DWapIN","bindVertexArray","createVAO","createBuffer","bindBuffer","FLOAT","449987fRNukI","deleteVBO","270057LFOljh","2uiffpT","normalize","573hoQOKb","STATIC_DRAW","ARRAY_BUFFER","_gl","addAttribute","226063Ymtmaq","glType","ELEMENT_ARRAY_BUFFER","addUniform","createVertexArray","5EXnXYo","_createVBO","1Vqmtiu","deleteVAO","vertexAttribPointer","565371rAUDGq","1678494ljsBhn","deleteVertexArray","bufferData","1AEqtFz","deleteBuffer","attributes"],eh=rh;function rh(t,e){return th[t-=305]}!function(t,e){const r=rh;for(;;)try{if(613303===parseInt(r(338))+parseInt(r(318))*parseInt(r(329))+-parseInt(r(306))*-parseInt(r(330))+parseInt(r(339))*-parseInt(r(321))+-parseInt(r(316))*parseInt(r(311))+parseInt(r(336))*-parseInt(r(325))+parseInt(r(322)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(th);class ih{constructor(t){this[rh(309)]=t}[eh(310)](t){this.attributes=new Map(t)}[eh(314)](t){this[eh(328)]=new Map(t)}[eh(317)](){const t=eh,e=this._gl,r={};for(let[i,n]of this[t(327)]){if(r[i]=e[t(333)](),"index"==i){e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r[i]);continue}e[t(334)](e[t(308)],r[i]);const s=n.glType?n[t(312)]:t(335),o=!!n[t(305)]&&n.normalize;e[t(320)](n.location,n.count,e[s],o,0,0),e.enableVertexAttribArray(n.location)}return r}[eh(332)](){const t=eh,e=this[t(309)],r=e[t(315)]();e[t(331)](r);const i=this[t(317)]();return e[t(331)](null),{vao:r,vbos:i}}[eh(337)](t){const e=eh,r=this._gl;for(let i in t){let n=t[i];"index"!==i?(r[e(334)](r[e(308)],n),r[e(324)](r[e(308)],0,r[e(307)])):(r[e(334)](r[e(313)],n),r[e(324)](r[e(313)],0,r.STATIC_DRAW)),r[e(326)](n),t[i]=null}return t=null,this}[eh(319)](t){const e=eh,r=this[e(309)];r[e(331)](null),r[e(323)](t)}}const nh=["uniforms","fill","11HjHTTq","_buildShader","vertexSource","hasOwnProperty","1FWSwkS","1643361yMdJYz","drawBuffer","shaderSource","#version 300 es\n","_program","fragmentSource","concat","deleteShader","update","replace","location","drawArrays","#define ","getShaderParameter","draw","1pySXNQ","addUniform","attachShader","getAttribLocation","length","layout","attributes","setUniforms","UNSIGNED_INT","66fnJYbe","_compileProgram","_getAttributeLocations","_parseIncludes","buffer","vao","oit","drawType","copyUniform","addAttribute","1125661SQRNqh","common","VERTEX_SHADER","drawCount","mode","_type","copyAttribute","_compileShader","2357PBjSmR","_getUniformLocations","COMPILE_STATUS","createShader","drawSingle","10133xZVTnW","get","trim","_extra","index","1661NcYymb","620643gKxQdk","destroy","_gl","renderData","_shaderSourceStr","157103sYHkVH","_shaderSource","set","setSingleUniform","linkProgram","bindVertexArray","vec4 outColor","drawSingleMesh","deleteProgram","type","drawElements","uniformMatrix4fv","38389xdaxYX","normalize","getUniformLocation","base","getShaderInfoLog","count"],sh=oh;function oh(t,e){return nh[t-=196]}!function(t,e){const r=oh;for(;;)try{if(928914===-parseInt(r(200))*parseInt(r(219))+parseInt(r(263))*-parseInt(r(255))+-parseInt(r(267))*-parseInt(r(243))+-parseInt(r(209))*-parseInt(r(232))-parseInt(r(238))-parseInt(r(268))+parseInt(r(227))*parseInt(r(237)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(nh);class ah{constructor(t,e,r,i=null){const n=oh;this[n(240)]=t,this[n(261)]=this.copyUniform(la[n(220)][n(220)]),this[n(206)]=[],this._type=e,this[n(235)]=r,this[n(242)]=i,this[n(244)]=this[n(264)](e,r,i),this.id=(this[n(244)].vertexSource+this[n(244)][n(273)])[n(277)](/[ ]/g,"")[n(277)](/[\r\n]/g,"")}[sh(276)](t,e=null){const r=sh;this[r(261)]=this.copyUniform(la[r(220)].common);let i=!1;this[r(205)][r(206)][r(233)]("index")&&(i=!0),this.attributes=[],this[r(244)]=this[r(264)](this[r(224)],t,e),this.build(),i&&this[r(205)][r(206)][r(245)](r(236),{count:1,type:Uint32Array})}build(){const t=sh;this[t(272)]=this[t(210)](),this[t(205)]=new ih(this[t(240)]),this[t(205)][t(218)](this.attributes),this[t(205)][t(201)](this.uniforms),this[t(211)](),this[t(228)](),this.drawWay={drawElements:this.drawElements,drawArrays:this[t(196)]}}copyUniform(t){const e=sh;let r=[];for(let i=0,n=t[e(204)];i<n;i++)r[r[e(204)]]=[t[i][0],{type:t[i][1][e(252)],extra:t[i][1].extra}];return r}[sh(225)](t){const e=sh;let r=[];for(let i=0,n=t[e(204)];i<n;i++)r[r.length]=[t[i][0],{count:t[i][1][e(260)],type:t[i][1][e(252)],glType:t[i][1].glType,normalize:t[i][1][e(256)]}];return r}[sh(264)](t,e,r){const i=sh;r=r||null;let n,s=i(271);n=null===r?la[i(258)][t]:r,this[i(206)]=this[i(206)][i(274)](n[i(206)]);let o="";for(let t in e)o+=(i(197)+t+" "+e[t])[i(234)]()+"\n",this[i(261)]=this[i(261)][i(274)](this[i(217)](la[i(220)][t][i(261)])),this[i(206)]=this[i(206)][i(274)](this[i(225)](la[i(220)][t].attributes));let a=n[i(273)];return void 0!==e[i(215)]&&t===i(262)&&(a=a.replace(/out vec4 outColor/,i(249))),{vertexSource:this[i(212)](s+o+n[i(265)]),fragmentSource:this[i(212)](s+o+a)}}[sh(212)](t){const e=sh;let r=new Set;return t[e(277)](/^[ \t]*#include +<([\w\d.]+)>/gm,(function(t,e){return r.has(e)?"":(r.add(e),la.common[e])}))}[sh(226)](t,e){const r=sh;let i=this[r(240)],n=i[r(230)](t);if(i[r(270)](n,e),i.compileShader(n),!i[r(198)](n,i[r(229)])){let t=i[r(259)](n);throw new Error(t)}return n}[sh(210)](){const t=sh;let e=this._gl;!this._program&&e.deleteProgram(this[t(272)]);let r=e.createProgram(),i=this[t(226)](e[t(221)],this[t(244)][t(265)]),n=this._compileShader(e.FRAGMENT_SHADER,this._shaderSource.fragmentSource);return i&&n?(e[t(202)](r,i),e[t(202)](r,n),e[t(247)](r),e[t(275)](i),e[t(275)](n),r):null}[sh(211)](){const t=sh;for(let[e,r]of this[t(205)][t(206)])r[t(278)]=this[t(240)][t(203)](this[t(272)],e);return this}[sh(228)](){const t=sh;for(let[e,r]of this[t(205)][t(261)])r[t(278)]=this[t(240)][t(257)](this[t(272)],e);return this}active(){return this[sh(240)].useProgram(this._program),this}[sh(207)](t){const e=sh;for(let[r,i]of this[e(205)].uniforms)t[e(266)](r)&&(i[e(252)]===e(254)?this[e(240)][i[e(252)]](i[e(278)],!1,t[r]):this[e(240)][i[e(252)]](i[e(278)],t[r]));return this}[sh(246)](t,e){const r=sh;if(!this[r(205)][r(261)].has(t))return this;const i=this.layout[r(261)][r(233)](t);return"uniformMatrix4fv"===i[r(252)]?this[r(240)][i.type](i[r(278)],!1,e):this[r(240)][i[r(252)]](i[r(278)],e),this}[sh(199)](t){const e=sh;for(let r=0,i=t.length;r<i;r++){const i=t[r];this[e(231)](i)}return this}[sh(231)](t){const e=sh;if(!t[e(213)])return;const r=t[e(213)][e(214)];this[e(240)].bindVertexArray(r);const i=t[e(216)];this.drawWay[i](t,this._gl),this._gl[e(248)](null)}[sh(250)](t){const e=sh,r=t[e(269)][e(214)];this._gl[e(248)](r);const i=t[e(213)].get(e(223))[0],n=t.buffer.get(e(222))[0];this._gl[e(253)](i,n,this[e(240)][e(208)],0),this[e(240)][e(248)](null)}[sh(253)](t,e){const r=sh;let i=0,n=0;const s=t[r(241)][r(233)](r(223)),o=t[r(241)][r(233)](r(222));for(let a=0,h=s[r(204)];a<h;a++)n=o[a],e[t.drawType](s[a],n,e[r(208)],4*i),i+=n}[sh(196)](t,e){const r=sh;let i=0,n=0;const s=t[r(241)][r(233)]("mode"),o=t.renderData[r(233)]("drawCount");for(let a=0,h=s[r(204)];a<h;a++)n=o[a],e[t[r(216)]](s[a],i,n),i+=n}[sh(239)](){const t=sh;return this._gl[t(251)](this[t(272)]),this}}var hh=["274047THQlVl","1OhmQzU","411833qhGgOg","465NbVcCs","48329iAXhnh","12bbttoo","1gvmZEt","287qCmvAU","503rJXSzf","1654IiJEpd","_coordinate","100887kuaUmi","22473wVFrKb"];function lh(t,e){return hh[t-=282]}!function(t,e){for(var r=lh;;)try{if(324719===parseInt(r(283))+-parseInt(r(289))*parseInt(r(285))+-parseInt(r(284))*-parseInt(r(282))+parseInt(r(291))*parseInt(r(286))+parseInt(r(287))*parseInt(r(288))+parseInt(r(294))+parseInt(r(290))*-parseInt(r(292)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(hh);class ch extends R{constructor(t,e,r){super(t,e,r)}getCoordinate(){return this[lh(293)]}setCoordinate(t){this._coordinate=t}}const uh=["updateProgram","name","seque","341993esIfRr","MVTLayer","707052sbYWtS","WMSLayer","_blocks","vao","drawType","removeBlock","_extra","addProgram","3160QiWvBn","_owner","layout","_taskManager","bufferToGPU","renderData","DYNAMIC_DRAW","_name","_removeAll","_setVbosData","_addAndOctree","_setVBO","update","event","get","opacity","push","_layer","8TPLtxh","503317svATEt","getBlockById","_type","_filterBlocks","vbos","addTask","blocks","WMTSLayer","hasProgram","attributes","extra","_removeAndOctree","blockHelper","features","runTask","637583ZgJLXn","removeAll","active","GeoJSONTileLayer","_add","addHeavy","forEach","_parserOpt","TerrainLayer","filterBlocks","visibility","delete","remove","_opacity","bid","_gl","_addVerBuffer","6967PpHWdp","bindBuffer","addSimple","add","values","_curBlock","handleBlock","createProgram","_visibility","clear","deleteVAO","_isRTE","owner","_blockHelper","dispatch","_addEleBuffer","index","VectorTileLayer","ARRAY_BUFFER","getByAttribute","buffer","_id","ELEMENT_ARRAY_BUFFER","TMSLayer","STATIC_DRAW","_drawType","createVAO","660379LzpcfR","_remove","_map","type","createUnique","getById","keys","_removeAllAndOctree","layerOctree","1opXrjV","_program","parser","bufferData","272nJgYnj","build","program","getLayerType","length","taskManager"],ph=fh;function fh(t,e){return uh[t-=182]}!function(t,e){const r=fh;for(;;)try{if(520964===parseInt(r(249))+parseInt(r(183))+parseInt(r(205))+-parseInt(r(207))+parseInt(r(192))*parseInt(r(234))+-parseInt(r(233))*parseInt(r(266))+-parseInt(r(196))*parseInt(r(215)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(uh);class gh{constructor(e,r,i,n,s,o=null,a=null){const h=fh;this[h(287)]=t.Aid[h(187)](this.constructor[h(203)]),this[h(209)]=new Map,this[h(232)]=e;let l=e[h(199)]();this._blockHelper=a?a===h(204)?new Qa(this[h(240)],n):new Za(this[h(240)]):l===Ot[h(252)]||l===Ot.VectorTileBinLayer||l===Ot[h(283)]||l===Ot[h(206)]||l===Ot[h(208)]||l===Ot[h(289)]||l===Ot[h(241)]||l===Ot[h(257)]?new Za(this.blocks):new Qa(this[h(240)],n),this[h(264)]=e.gl,this[h(216)]=e,this[h(262)]=e[h(262)],this._visibility=!0,this[h(291)]=s,this[h(236)]=r,this._extra=i,this[h(193)]=this[h(273)](r,i,o),this[h(218)]=t.TaskManager.instance(),this[h(256)]={drawType:s,bPrecisionCorrect:e[h(277)]},this[h(269)]=e[h(191)]?this[h(225)]:this[h(253)],this.remove=e[h(191)]?this[h(245)]:this._remove,this[h(250)]=e[h(191)]?this[h(190)]:this._removeAll}get id(){return this[fh(287)]}[ph(273)](t,e,r){const i=ph;r=r||null;let n=new ah(this.gl,t,e,r);const s=n.id;return Gt[i(229)](this.gl)[i(242)](s)?n=null:(n[i(197)](),Gt[i(229)](this.gl)[i(214)](n)),Gt[i(229)](this.gl).getProgram(s)}[ph(202)](t,e){this[ph(193)].update(t,e)}get[ph(211)](){return this[ph(291)]}get[ph(240)](){return this[ph(209)]}get blockHelper(){return this[ph(279)]}get[ph(201)](){return this._taskManager}get[ph(194)](){return this._parser}get gl(){return this[ph(264)]}get[ph(278)](){return this[ph(216)]}get[ph(186)](){return this[ph(236)]}get[ph(244)](){return this[ph(213)]}set[ph(259)](t){return this._visibility=t,this}get[ph(259)](){return this[ph(274)]}set[ph(203)](t){return this[ph(222)]=t,this}get opacity(){return this[ph(262)]}set[ph(230)](t){this[ph(262)]=t}get[ph(198)](){return this[ph(193)]}_add(t){const e=ph,r=this[e(246)][e(229)](t);return r[e(269)](t),this[e(239)](r),this[e(278)]._map.af[e(251)](),this}[ph(184)](t){const e=ph;if(!t[e(263)])return null;const r=this[e(209)][e(229)](t[e(263)]);return r[e(260)](t),r[e(247)].length>0?this[e(239)](r):this[e(212)](r),this[e(278)][e(185)]&&this[e(278)][e(185)].af.active(),t}[ph(227)](t){const e=ph;if(!t[e(263)])return null;const r=this._blocks[e(229)](t.bid);return r[e(227)](t),this[e(239)](r),this[e(278)]._map[e(228)][e(280)](new ch(p.LAYEREVENT_DATACHANGE)),t}_addAndOctree(t){const e=ph;this[e(253)](t),this[e(201)][e(254)](this,(function(t){const r=e;t[r(286)]&&this[r(278)].layerOctree.put(t)}),t)}[ph(245)](t){const e=ph;return this[e(184)](t),this[e(201)][e(254)](this,(function(t){const r=e;this.owner[r(191)][r(261)](t)}),t),t}_removeAllAndOctree(){const t=ph;return this[t(223)](),this[t(278)][t(191)][t(275)](),this}removeBlock(t){const e=ph,r=t.id;t[e(286)]?(this[e(198)][e(217)].deleteVBO(t.buffer[e(238)]),this.program[e(217)][e(276)](t[e(286)][e(210)])):(t.doTask=0,this[e(201)]._simpleTaskFag.delete(this.id+t.id)),t[e(275)](),this.blocks[e(260)](r),this[e(246)]._curBlock&&t.id===this[e(246)]._curBlock.id&&(this.blockHelper[e(271)]=null),t=null}removeBlockById(t){const e=ph;this[e(240)][e(229)](t)&&this[e(212)](this[e(240)][e(229)](t))}[ph(235)](t){const e=ph;return this.blocks[e(229)](t)}[ph(223)](){const t=ph;return this[t(209)][t(255)](((e,r)=>{this[t(212)](e)})),this[t(278)][t(185)]&&this.owner[t(185)].af.active(),this}getAll(){const t=[];return this._blocks.forEach(((e,r)=>{const i=fh;t[i(231)].apply(t,e[i(247)])})),t}[ph(188)](t){const e=ph;for(let r of this[e(209)][e(270)]()){for(let i=r[e(247)].length-1;i>=0;i--)if(r[e(247)][i][e(287)]===t)return r[e(247)][i]}return null}[ph(285)](t,e){const r=ph;let i=[];for(let n of this[r(209)].values()){for(let s=n[r(247)][r(200)]-1;s>=0;s--){const o=n[r(247)][s]._attributes;o&&o.hasOwnProperty(t)&&o[t]===e&&(i[i[r(200)]]=n[r(247)][s])}}return i}[ph(237)](t){const e=ph;return this[e(246)][e(258)](t)}[ph(239)](t){const e=ph;return this.taskManager[e(268)](this,this[e(248)],t),this}[ph(248)](t){const e=ph;this.parser[e(272)](t)}[ph(219)](t){const e=ph;let r=t.buffer?t[e(286)]:this[e(198)][e(217)][e(182)]();this[e(224)](r.vbos,t[e(220)]),t.buffer=r,t[e(211)]=this[e(291)];const i=this[e(198)].layout[e(243)];for(let r of i[e(189)]())t[e(220)][e(229)](r).length=0}[ph(224)](t,e,r=!1){const i=ph;let n;for(let s in t)n=this.program.layout[i(243)][i(229)](s)[i(186)],this[i(226)](s,t[s],new n(e.get(s)),r)}_setVBO(t,e,r,i){const n=ph;t===n(282)?this[n(281)](e,r,i):this[n(265)](e,r,i)}[ph(265)](t,e,r){const i=ph;let n=this.gl;n.bindBuffer(n[i(284)],t),r?n[i(195)](n[i(284)],e,n.DYNAMIC_DRAW):n[i(195)](n[i(284)],e,n[i(290)])}[ph(281)](t,e,r){const i=ph;let n=this.gl;n[i(267)](n[i(288)],t),r?n[i(195)](n[i(288)],e,n[i(221)]):n[i(195)](n.ELEMENT_ARRAY_BUFFER,e,n.STATIC_DRAW)}}const dh=["floor","multiDivideDu","4416957OFicKk","958389fLjtjg","379622VDHyRf","1PKDIHv","pow","divideDu","909703tJhDrc","divide","2129famQvu","divideMi","1sQZigZ","multiDivide","58xXvULA","973022LXmHbY","_unit","236618YVgAbn","length"];function _h(t,e){return dh[t-=206]}const yh=_h;!function(t,e){const r=_h;for(;;)try{if(836121===-parseInt(r(220))*parseInt(r(224))+parseInt(r(213))*-parseInt(r(215))-parseInt(r(206))-parseInt(r(208))+parseInt(r(218))*-parseInt(r(222))-parseInt(r(214))+parseInt(r(212)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(dh);class mh{static[yh(219)](e){const r=yh;return"m"===t.initState._unit?this[r(221)](e):this[r(217)](e)}static[yh(223)](e){const r=yh;return"m"===t.initState[r(207)]?this.multiDivideMi(e):this[r(211)](e)}static[yh(221)](t){const e=Math.floor(t/65536);return[e,t-65536*e]}static multiDivideMi(t){const e=yh;let r=[],i=[];for(let n=0,s=t[e(209)];n<s;n++){let s=this[e(221)](t[n]);r[r[e(209)]]=s[0],i[i[e(209)]]=s[1],s=null}return[r,i]}static[yh(217)](t){const e=yh,r=Math[e(210)](t);return[r,(t-r)*Math[e(216)](10,7)]}static[yh(211)](t){const e=yh;let r=[],i=[];for(let n=0,s=t[e(209)];n<s;n++){let s=this[e(217)](t[n]);r[r.length]=s[0],i[i[e(209)]]=s[1],s=null}return[r,i]}}const Ih=["_checkLastMode","bPrecisionCorrect","push","a_position","splice","_dealBlockData","3825272XtpCmx","17301btxFtJ","drawElements","set","program","renderData","concat","718925Aziryf","_drawType","11EBcMpP","getLayerType","layout","owner","index","hasOwnProperty","mode","length","_appendData","_appendDataWithoutIndex","2597iPOzoi","_appendBlockData","pointCount","83ABaVeF","102391AEWhwo","bufferToGPU","_initRenderData","dataMap","1254251Xkxkpp","1yovfUi","a_positionL","drawCount","get","_appendDataIndex","_owner","59spYhgq","_precisionCorrect","attributes","enableHashCode","275575DahDEC","_appendDataWithIndex","buffer","features","_visible","has","1EZMVjM","keys","drawArrays"],xh=vh;function vh(t,e){return Ih[t-=269]}!function(t,e){const r=vh;for(;;)try{if(786090===parseInt(r(272))+parseInt(r(274))*parseInt(r(288))+-parseInt(r(287))*-parseInt(r(284))+parseInt(r(299))*parseInt(r(319))+parseInt(r(309))*parseInt(r(303))+-parseInt(r(292))*-parseInt(r(293))+-parseInt(r(318)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ih);class bh{constructor(t,e){const r=vh;this[r(273)]=e.drawType||r(311),this._bPrecisionCorrect=e[r(313)]||!1,this[r(298)]=t,this[r(285)]=this[r(273)]===r(320)?this[r(304)]:this[r(283)],this._drawType===r(320)&&this[r(298)].program[r(276)][r(301)].set(r(278),{count:1,type:Uint32Array})}get owner(){return this._owner}get[xh(291)](){const t=xh;let e=new Map;const r=this[t(298)][t(269)][t(276)][t(301)];for(let i of r.keys())e[t(321)](i,[]);return e}[xh(317)](t){const e=xh;this[e(290)](t);const r=t[e(306)];for(let i=0,n=r[e(281)];i<n;i++)r[i][e(279)](e(307))&&!r[i][e(307)]||!r[i][e(305)]||(this[e(300)](r[i][e(305)]),this[e(285)](t,r[i][e(305)]));this[e(298)][e(289)](t);const i=this[e(277)].owner;i[e(275)]()===Ot.VectorTileLayer&&!i[e(302)]&&(t[e(306)][e(281)]=0)}_precisionCorrect(t){const e=xh;if(t&&this._bPrecisionCorrect&&t[e(308)]("a_positionL")&&t.get(e(294))[e(281)]<1){const r=mh.multiDivide(t[e(296)](e(315)));t[e(321)](e(315),r[0]),t[e(321)](e(294),r[1])}}[xh(290)](t){const e=xh;if(t[e(270)].size<1){const r=this[e(298)][e(269)][e(276)][e(301)];for(let i of r[e(310)]())t.renderData[e(321)](i,[])}t[e(270)][e(321)](e(280),[]),t[e(270)].set(e(295),[]),t[e(286)]=0}_appendDataWithIndex(t,e){const r=xh;this._appendDataIndex(t.renderData,e,t.pointCount),this[r(312)](t),e.set(r(278),e.get(r(278))),t[r(286)]+=e[r(296)](r(315))[r(281)]/3}[xh(283)](t,e){const r=xh;this._appendData(t[r(270)],e),this._checkLastMode(t),t.pointCount+=e[r(296)](r(315))[r(281)]/3}[xh(282)](t,e){const r=xh;for(let[i,n]of t){const t=e[r(296)](i);t[r(281)]<1e5?n[r(314)](...t):n=n[r(271)](t)}e=null}[xh(297)](t,e,r=0){const i=xh,n=e[i(296)](i(278)),s=[...n];for(let t=n.length-1;t>-1;t--)n[t]+=r;this[i(282)](t,e),e.set("index",s)}[xh(312)](t){const e=xh,r=t[e(270)],i=r[e(296)](e(280)),n=r[e(296)](e(295));let s=i[e(281)]-1;if(i[s]===i[s-1]){i.splice(s,1);const t=n[e(316)](s,1)[0];s--,n[s]+=t}}}const wh=["272503WjUYaP","drawCount","url","getId","16035IxjjIG","LAYEREVENT_DATACHANGE","254976AfpYdp","17351hdnwgp","getWidth","bufferImage2","getTextureObject","ext","push","_map","texFill","mode","_height","then","dataFormat","a_textureCoord","height","getRight","RGBA","image/","addData","promise","get","getBottom","25rgtUbl","canvas","_layer","onload","_dataStoreName","_handleFeature","getTileSize","bufferSubImage","delete","TRIANGLE_STRIP","186451dDQMod","_cache","bindTexture","48fsRMkx","glHelper","createElement","getTexure","handleBlock","_IDB","UNSIGNED_BYTE","CLAMP_TO_EDGE","getContext","NEAREST","owner","set","drawImage","offset","catch","dataMap","xyz","event","3OMmqJw","_tileSize","_width","toDataURL","_textureOptions","textures","src","width","getLeft","findData","_groupSideLength","buffer","features","1451903aXYCYO","655408qCGVCs","loadImg"],Th=Ch;!function(t,e){const r=Ch;for(;;)try{if(438834===-parseInt(r(207))*-parseInt(r(228))+parseInt(r(198))+-parseInt(r(166))*-parseInt(r(204))+-parseInt(r(163))*-parseInt(r(184))+-parseInt(r(206))+-parseInt(r(200))+-parseInt(r(197)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wh);class Eh extends bh{constructor(t,e={}){const r=Ch;super(t,e),this[r(167)]=Gt[r(226)](this.owner.gl),this[r(230)]=this.owner.owner,this[r(185)]=this[r(230)][r(159)](),this._width=this[r(185)][r(208)](),this[r(216)]=this[r(185)].getHeight(),this[r(171)]=this[r(230)][r(171)],this[r(188)]={wrap_s:r(173),wrap_t:r(173),mag_filter:r(175),min_filter:r(175)}}[Th(170)](t){const e=Th,r=[],i=t[e(196)][0];i[e(195)]=this[e(181)],t[e(189)]=[],t[e(189)][e(212)](t.id),r[e(212)](...this._handleFeature(i)),Promise.all(r)[e(217)]((()=>{const r=e;this._dealBlockData(t),this[r(176)][r(176)][r(213)][r(183)].dispatch(new ch(p[r(205)]))}))}[Th(233)](t){const e=Th,r=t[e(195)],i=t.get(e(211)),n=i[e(192)](),s=i[e(221)](),o=i.getTop(),a=i[e(227)](),h=t[e(226)]("subXYZ"),l=[];r[e(177)]("a_position",[n,o,0,n,a,0,s,o,0,s,a,0]),r[e(177)](e(219),[0,0,0,1,1,0,1,1]),r[e(177)](e(215),[this.owner.gl[e(162)]]),r.set(e(201),[4]);const c=this[e(167)][e(210)](t.url,0,this._textureOptions);c[e(209)](this[e(186)]*this._layer[e(194)],this[e(216)]*this._layer[e(194)],e(222),e(172),null);for(let t=h.length-1;t>-1;t--){const r=h[t],i=r[e(179)];if(this[e(171)]){const t=new Promise(((t,n)=>{const s=e;this[s(171)][s(193)](this[s(230)]._dataStoreName,"xyz",r[s(182)])[s(217)]((e=>{const n=s,o=new Image;e?(o.onload=()=>{const e=Ch;c.bindTexture(),c[e(160)](i[0],i[1],this[e(186)],this[e(216)],o),t()},o.src=e.img):(o[n(231)]=()=>{const e=n;c[e(165)](),c.bufferSubImage(i[0],i[1],this[e(186)],this[e(216)],o);const s=document[e(168)](e(229)),a=s[e(174)]("2d");s[e(191)]=o.width,s[e(220)]=o[e(220)],a[e(178)](o,0,0,o.width,o[e(220)]);let h=s[e(187)](e(223)+this[e(230)][e(218)]);this[e(171)][e(224)](this[e(230)][e(232)],{xyz:r.xyz,img:h}),t()},o.crossOrigin="anonymous",o[n(190)]=r[n(202)])}))[s(180)]((t=>{n(t)}))}));l[e(212)](t)}else{let t=r.texFill,n=t.getTexure();if(n)c[e(160)](i[0],i[1],this[e(186)],this[e(216)],n),delete r[e(214)];else{const n=t[e(225)][e(217)]((()=>{const n=e;c[n(165)](),c[n(160)](i[0],i[1],this[n(186)],this[n(216)],t[n(169)]()),delete r[n(214)]}))[e(180)]((i=>{const n=e;this[n(176)].owner[n(164)][n(161)](""+r[n(182)]+this.owner.owner[n(203)]()),t[n(199)]()}));l[e(212)](n)}}}return l}}function Ch(t,e){return wh[t-=159]}const Ah=["coordData","10ogLqZG","positionCount","1293885xFIrLy","a_position","getWidth","getBottom","rotate","244618NBRBkA","slice","183yKaRYE","clone","getCoordSeqs","index","355791FzbPAo","40418WAkbKq","getCentroid","getMinZ","push","53wSvIQr","atan","length","getOrdinate","getMaxZ","71IPHkBx","holeIndices","getCoordDataFromCoordSeq","getLeft","unitHeight","674sOMsBw","16871swXxvA","10167SRMjFn"];function Mh(t,e){return Ah[t-=278]}function Sh(e,r){const i=Mh,n=e.getCoordSeqs(),s=e.getBBox(),o=Rh(n),a=o[i(283)],h=o[i(304)][0],l=o[i(306)],c=-r.direction%360,u=e[i(286)](),p=r.uvExtent;let f,g,d,_,y=e[i(281)]();s[i(293)]()-s[i(287)]()>1e-4&&([f,g]=Ph(l[i(279)](0,9)),y[i(309)]("Y",-g,u),[d,_]=Ph(Rh(y[i(282)]()).a_position[i(279)](0,9)),y[i(309)]("X",-d,u)),c&&y.rotate("Z",c,u);const m=y.getExtent(),I=m[i(297)](),x=m[i(308)](),v=r.unitWidth||m[i(307)](),b=r[i(298)]||m.getHeight(),w=[];for(let e=0,r=l[i(291)]/3;e<r;e++){let r=new t.Coordinate(...l.slice(3*e,3*(e+1)));(g||d)&&r[i(309)]("Y",-g,u)[i(309)]("X",-d,u),c&&r[i(309)]("Z",c,u);let n=r[i(292)]("X"),s=r[i(292)]("Y");w[i(288)]((n-I)/v*(p[2]-p[0])+p[0],(b-s+x)/b*(p[3]-p[1])+p[1])}return{xyzs:l,index:a,pointCount:h,uvs:w}}function Ph(e){const r=Mh,i=new t.Vector3(e[3]-e[0],e[4]-e[1],e[5]-e[2]),n=new t.Vector3(e[6]-e[0],e[7]-e[1],e[8]-e[2]),s=i.cross(n),[o,a,h]=s.getElements(),l=0!=o?90-180*Math[r(290)](h/o)/Math.PI:0,c=0!=a?90+180*Math[r(290)](h/a)/Math.PI:0;return[c>90?c-180:c,l>90?l-180:l]}function Rh(e){const r=Mh;let i,n;const s=t.EarCut[r(296)](e);if(12===s[r(302)][r(291)]){i=s.coordData[r(279)](0,9),n=[0,1,2];-1===t.Topology.checkCollinear(new t.Coordinate(i[0],i[1],i[2]),new t.Coordinate(i[3],i[4],i[5]),new t.Coordinate(i[6],i[7],i[8]))&&n.reverse()}else i=s.coordData,n=t.EarCut.earcut(s[r(302)],s[r(295)],3);return{a_position:i,index:n,positionCount:[i.length/3],indexCount:[n.length]}}!function(t,e){const r=Mh;for(;;)try{if(959894===-parseInt(r(285))*-parseInt(r(303))+parseInt(r(289))*parseInt(r(299))+parseInt(r(278))+parseInt(r(280))*-parseInt(r(301))+-parseInt(r(284))+parseInt(r(294))*parseInt(r(300))+parseInt(r(305)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ah);var Lh=Object.freeze({__proto__:null,CalculatePolygonUV:Sh,triangulate:Rh});const Fh=["toArray","getArrGreatestDivisor","128669JdDliA","1cltMFD","min","249751eMjfMu","_interpolate","length","interpolateColorByLine","getGreatestDivisor","6YCWHDe","258989SqYVZc","max","1ECJfim","67gzEORy","1463191HlXBOF","5QAySQH","125402YDGkuW","floor","303PQqGKh","281362xfLLfK"];function Dh(t,e){return Fh[t-=182]}const Oh=Dh;!function(t,e){const r=Dh;for(;;)try{if(378335===-parseInt(r(188))*parseInt(r(202))+-parseInt(r(182))*parseInt(r(196))+parseInt(r(197))+-parseInt(r(191))+-parseInt(r(199))*-parseInt(r(185))+parseInt(r(184))*parseInt(r(200))+-parseInt(r(201))*-parseInt(r(189)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Fh);class Nh{static[Oh(194)](e,r,i){const n=Oh;let[s,o,a,h]=e[n(186)](),[l,c,u,p]=r[n(186)](),f=Math[n(183)](this._interpolate(s,l,i)),g=Math.floor(this[n(192)](o,c,i)),d=Math[n(183)](this._interpolate(a,u,i)),_=this[n(192)](h,p,i);return new t.Color(f,g,d,_)}static[Oh(192)](t,e,r){const i=Oh;return Math[i(190)](Math[i(198)](t+(e-t)*r,0),255)}static[Oh(187)](t){const e=Oh;let r=this[e(195)](t[0],t[1]);for(let i=2,n=t[e(193)];i<n;i++)r=this[e(195)](r,t[i]);return r}static[Oh(195)](t,e){let r;for(t<e&&(r=t,t=e,e=r);0!=e;)r=t%e,t=e,e=r;return t}}const Bh=["solid","set","getDashPixelLength","owner","_owner","toUint8Array","concat","260143VcjFwJ","getLineSymbols","divide","_divideLineByGradientColor","a_position","index","_getDelta","mode","getStyle","getOrdinate","interpolateColorByLine","37259tCEqUZ","_mergeLines","dash","a_highlight","getLineOffset","_handleMLineFeature","_lineToXYZ","getCoordCount","a_perLength","getBasicGeometry","getDashRatio","features","push","fill","buffer","_appendDataIndex","getCoordSeq","addPoints","a_lineLength","8703lRHmHn","_calVerticesPercent","length","_dealBlockData","a_pixelLength","getSrid","getPoints","18AgFPJg","_calNextPtNormalAndOffset","longdash","a_color","864197ZtpLGX","getLength","getValue","sqrt","_getDashRatio","getLineStyle","a_offset","901644DiLtQv","_normalize","_map","apply","1XMqvph","get","getLines","_preLineData","LINES","getColor","dataMap","_handleFeature","490276JAqQnf","_handLineGeom","49YqClDF","getCrs","15241VFZupy","a_dash_ratio"];function Uh(t,e){return Bh[t-=441]}const kh=Uh;!function(t,e){const r=Uh;for(;;)try{if(470840===parseInt(r(502))*-parseInt(r(461))+parseInt(r(487))*parseInt(r(441))+parseInt(r(498))+-parseInt(r(510))+parseInt(r(450))+-parseInt(r(491))+-parseInt(r(480))*-parseInt(r(512)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Bh);class Vh extends bh{constructor(t,e={}){super(t,e)}handleBlock(e){const r=Uh,i=e[r(472)];for(let e=i[r(482)]-1;e>-1;e--){const n=i[e];if(n.buffer)continue;const s=n[r(470)]();n[r(475)]=this[r(508)],s instanceof t.Line?this._handleFeature(n,s):this[r(466)](n,s);const o=n._selected?1:0;n[r(475)][r(444)](r(464),[].concat[r(501)]([],new Array(n[r(475)][r(503)](r(454))[r(482)]/3).fill(o)))}this[r(483)](e)}[kh(509)](t,e){const r=kh,i=t[r(458)]()?t[r(458)]()[r(451)]():this[r(447)][r(446)][r(458)]().getLineSymbols(),n=t[r(475)];this[r(511)](t.buffer,e,i),n[r(444)](r(457),[this[r(447)].gl[r(506)]]),n[r(444)]("drawCount",[n[r(503)](r(455)).length])}_handleMLineFeature(t,e){const r=kh,i=e[r(504)](),n=t[r(458)]()?t.getStyle()[r(451)]():this[r(447)][r(446)][r(458)]().getLineSymbols(),s=t[r(475)];for(let t=0,e=i[r(482)];t<e;t++)this[r(511)](s,i[t],n);s[r(444)](r(457),[this[r(447)].gl[r(506)]]),s[r(444)]("drawCount",[s[r(503)](r(455))[r(482)]])}[kh(495)](t){const e=kh;switch(t){case"dot":return[1,3,0,0];case e(463):return[1,1,0,0];case"dashdot":return[5,4,2,4];case e(489):return[3,1,0,0];case"longdashdot":return[5,2,1,2]}}_handLineGeom(e,r,i){const n=kh,s=r[n(492)]();for(let o=0,a=i[n(482)];o<a;o++){const a=i[o],h=a[n(465)](),l=a[n(496)](),c=a[n(445)]();let u,p=a[n(507)]();if(p instanceof t.Color){if(u=this[n(505)](r,h,p,p,!0),l!==n(443)){const t=this[n(481)](r,s),e=a[n(471)]();u[n(444)](n(469),t),u[n(444)](n(479),new Array(u.get("a_position")[n(482)]/3)[n(474)](s)),u.set("a_dash_ratio",[][n(449)][n(501)]([],new Array(u.get(n(454))[n(482)]/3)[n(474)](e)))}}else{const t=this[n(453)](r,p);let e=0;u=this[n(508)];for(let r=0,i=t.length;r<i;r++){const i=p[2*r+1],o=p[2*(r+1)+1],c=t[r],f=this[n(505)](c,h,i,o,!1);if("solid"!==l){const t=this[n(481)](c,s,e),r=a[n(471)]();e=t[t.length-1],f[n(444)](n(469),t),f[n(444)](n(479),new Array(f.get(n(454))[n(482)]/3)[n(474)](s)),f[n(444)](n(442),[].concat.apply([],new Array(f[n(503)](n(454))[n(482)]/3)[n(474)](r)))}this[n(476)](u,f,u[n(503)](n(454)).length/3)}}u[n(444)](n(484),[][n(449)][n(501)]([],new Array(u[n(503)](n(454))[n(482)]/3)[n(474)](c))),this[n(476)](e,u,e.get("a_position")[n(482)]/3)}}[kh(505)](e,r,i,n=i,s=!0){const o=kh,a=this[o(467)](e),h=[],l=[...a],c=[],u=a.length/3;let p;if(s)c[o(473)](...[][o(449)][o(501)]([],new Array(u)[o(474)](i.toUint8Array())));else{const t=this._calVerticesPercent(e);c[o(473)](...i.toUint8Array());for(let e=1;e<u-1;e++){const r=Nh[o(460)](i,n,t[e]);c[o(473)](...r[o(448)]())}c[o(473)](...n.toUint8Array())}if(r instanceof t.Offset)p=[][o(449)][o(501)]([],new Array(u)[o(474)]([r[o(493)]("x"),r[o(493)]("y")]));else{p=[];let[t,e]=this[o(456)](a,0);p[o(473)](e*r,-t*r);let i=t,n=e;for(let s=0;s<u-2;s++){t=i,e=n;const[h,l,c,u]=this[o(488)](a,s,t,e,r);i=h,n=l,p[o(473)](u,-c)}p[o(473)](n*r,-i*r)}for(let t=0;t<u-1;t++)h.push(t,t+1);const f=this[o(508)];return f[o(444)](o(490),c),f.set(o(454),l),f.set(o(455),h),f[o(444)](o(497),p),f}[kh(488)](t,e,r,i,n){const s=kh,[o,a]=this[s(456)](t,e+1),[h,l]=this[s(499)]([r+o,i+a]);let c=i*l+r*h;c=0!==c?c:1;const u=n/c;return[o,a,h*u,l*u]}[kh(499)](t){const e=kh;let r=t[0],i=t[1];const n=Math[e(494)](r*r+i*i);return n>0?(r/=n,i/=n):(r=0,i=0),[r,i]}_getDelta(t,e){const r=kh,i=t[3*(e+1)]-t[3*e],n=t[3*(e+1)+1]-t[3*e+1];if(0!==i||0!==n)return this[r(499)]([i,n]);{const n=t[3*(e+1)+2]-t[3*e+2];return this[r(499)]([i,n])}}[kh(453)](t,e){const r=kh,i=[],n=[];for(let t=0,s=e[r(482)]/2;t<s;t++)i[t]=10*e[2*t],n[t]=e[2*t+1];const s=Nh.getArrGreatestDivisor(i),o=10/s,a=t[r(452)](o,this[r(446)][r(446)][r(500)][r(513)]()[r(485)]()),h=[];for(let t=1,e=i.length;t<e;t++){const e=i[t-1]/s,n=i[t]/s-e;h[t-1]=a[e];for(let i=1;i<n;i++)this[r(462)](h[t-1],a[e+i])}return h}[kh(462)](t,e){const r=kh,i=e.getPoints(1);t[r(478)](i)}[kh(467)](t){const e=kh,r=t[e(477)](),i=[];for(let t=0,n=r[e(468)]();t<n;t++){const n=r.getCoordinate(t);i[e(473)](n[e(459)]("X"),n[e(459)]("Y"),n.getOrdinate("Z"))}return i}_calVerticesPercent(t,e=t[kh(492)](),r=0){const i=kh,n=[0+r],s=t[i(486)](),o=this.owner[i(446)].getMap()[i(513)]()[i(485)]();if(0==e)return new Array(s.length)[i(474)](n[0]);let a=0;for(let t=1,h=s[i(482)];t<h;t++){const i=s[t-1].getCoordinate();a+=s[t].getCoordinate().get2Dist(i,o),n[n.length]=a/e+r}return n}}const Gh=["a_position","sin","_getPtColor","_lineWay","getLineOffset","getStyle","cos","_handleMLineFeature","apply","_setWideLineData","sqrt","pop","handleBlock","set","dataMap","getLineSymbols","get","a_dash_ratio","push","_handleFeature","both","getColor","144698rHyoMd","getLineCap","a_highlight","_calJoin","getRenderMode","getOrdinate","_appendData","466316pkSfrA","_divideLineByGradientColor","square","slice","_selected","TRIANGLES","4GwCror","a_perLength","_dealDash","bufferToGPU","pow","splice","fill","getLength","getWidth","right","_calCap","concat","_lineToXYZ","acos","_appendDataIndex","405881hzspIs","_calJoinVec","_dealBlockData","305UKoVqQ","_appendDataWithIndex","length","1OswkGo","_dealGradientSubLine","_getCoordXYZ","butt","left","interpolateColorByLine","2514VONCfn","_getDelta","floor","getPoints","getDashPixelLength","_calPerLength","renderData","_visible","bevel","getLines","325230lSUrPC","getCapPtCount","getLineStyle","_precisionCorrect","_handLineGeom","miter","reverse","a_lineLength","52lcRewm","owner","asin","a_color","getDashRatio","getMiterLimit","mode","buffer","_initRenderData","1640368RnXJxr","getValue","buffer1","lineWay","solid","a_offset","drawCount","round","tan","index","parallelChange","a_pixelLength","toUint8Array","features","getCoordinate","_appendBlockData","1097qwjBsa","_owner","9iaWKtL"],zh=Hh;function Hh(t,e){return Gh[t-=128]}!function(t,e){const r=Hh;for(;;)try{if(999924===-parseInt(r(214))+-parseInt(r(230))*-parseInt(r(178))+parseInt(r(154))*parseInt(r(160))+parseInt(r(232))*parseInt(r(147))+-parseInt(r(175))*parseInt(r(181))+parseInt(r(187))*-parseInt(r(205))-parseInt(r(197)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Gh);class jh extends Vh{constructor(t,e={}){const r=Hh;super(t,e),this[r(128)]=e[r(217)]}[zh(137)](e){const r=zh,i=e[r(227)];for(let e=i[r(180)]-1;e>-1;e--){const n=i[e];if(n.buffer)continue;const s=n.getBasicGeometry();let o;n[r(212)]=this[r(139)],o=s instanceof t.Line?this[r(144)](n,s):this._handleMLineFeature(n,s),this[r(153)](n[r(212)],o[0]);const a=n[r(158)]?1:0;this._lineWay===r(224)?(o[1]=o[1]?o[1]:this[r(139)],n[r(216)]=o[1],n.buffer1.get("a_position").length>0?(n[r(216)][r(138)]("mode",[this._owner.gl[r(159)]]),n.buffer1.set(r(220),[n[r(216)][r(141)](r(223))[r(180)]])):(n[r(216)][r(138)]("mode",[]),n[r(216)][r(138)](r(220),[])),n[r(216)].set(r(149),[].concat[r(133)]([],new Array(n[r(216)][r(141)](r(233))[r(180)]/3)[r(166)](a)))):o[1]&&this[r(174)](n[r(212)],o[1],n[r(212)].get("a_position").length/3),n[r(212)][r(138)](r(149),[][r(171)][r(133)]([],new Array(n[r(212)][r(141)](r(233))[r(180)]/3)[r(166)](a))),n[r(212)][r(138)](r(211),[this[r(231)].gl[r(159)]]),n.buffer[r(138)](r(220),[n[r(212)][r(141)](r(223))[r(180)]])}if(this[r(177)](e),this._lineWay===r(224))for(let t=0,n=i.length;t<n;t++)this._precisionCorrect(i[t][r(216)]),this[r(179)](e,i[t].buffer1,e[r(193)].get(r(233))[r(180)]/3);this[r(231)][r(163)](e)}[zh(177)](t){const e=zh;this[e(213)](t);const r=t[e(227)];for(let i=0,n=r[e(180)];i<n;i++){if(!r[i][e(194)])continue;const n=r[i][e(212)];this[e(200)](n),this[e(229)](t,n)}}[zh(144)](t,e){const r=zh,i=t[r(130)]()?t[r(130)]()[r(140)]():this._owner[r(206)][r(130)]().getLineSymbols();return this[r(201)](e,i)}[zh(132)](t,e){const r=zh,i=t[r(130)]()?t[r(130)]()[r(140)]():this[r(231)][r(206)][r(130)]().getLineSymbols(),n=e[r(196)](),s=[this[r(139)]];for(let t=0,e=n[r(180)];t<e;t++){const e=this._handLineGeom(n[t],i);this[r(174)](s[0],e[0],s[0].get("a_position")[r(180)]/3),e[r(180)]>1&&(s[1]=s[1]?s[1]:this[r(139)],this[r(174)](s[1],e[1],s[1].get(r(233))[r(180)]/3))}return s}[zh(201)](t,e){const r=zh,i=t[r(167)](),n=e[r(180)]>2?2:e[r(180)];let s=[];const o=this._lineToXYZ(t);for(let r=0;r<n;r++){const n=e[r];s[r]=this._handleSymbol(o,t,i,n)}return s}_handleSymbol(e,r,i,n){const s=zh,o=n[s(168)](),a=n[s(199)](),h=n[s(146)](),l=n[s(129)](),c=[l[s(215)]("x"),l[s(215)]("y")],u=n[s(148)](),p=n.getLineJoin(),f=n[s(210)](),g=n[s(198)](),d=n[s(151)](),_=n[s(191)]();let y,m;if(h instanceof t.Color){y=this._setWideLineData(e,o,u,p,f,g,d);const t=y[s(141)](s(233));m=t[s(180)]/3,y[s(138)](s(208),[][s(171)][s(133)]([],new Array(m).fill(h[s(226)]()))),a!==s(218)&&this[s(162)](y,r,n,i,t,m),y[s(138)](s(219),[][s(171)].apply([],new Array(m).fill(c)))}else{const t=this[s(155)](r,h),e=t[0],l=[],[_,m]=this[s(182)](e,h[1],h[3]);for(let r=1,i=t[s(180)];r<i;r++){const i=t[r];e.addPoints(i[s(190)](1));const[n,o]=this._dealGradientSubLine(i,h[2*r+1],h[2*(r+1)+1]);_[s(143)](...n[s(157)](1)),m.push(...o.slice(1))}y=this[s(134)](this[s(172)](e),o,u,p,f,g,d),l[s(143)](...this._getPtColor(_[0],u,g,!0));for(let t=1,e=m[s(180)]-1;t<e;t++)l[s(143)](...this[s(235)](_[t],p,g));l[s(143)](...this[s(235)](_[_.length-1],u,g,!0)),y[s(138)](s(208),l);const I=y.get(s(233)),x=I[s(180)]/3;"solid"!==a&&this[s(162)](y,e,n,i,I,x),y[s(138)]("a_offset",[][s(171)][s(133)]([],new Array(x).fill(c)))}return y[s(138)](s(225),[].concat.apply([],new Array(y[s(141)](s(233))[s(180)]/3).fill(_))),y}[zh(162)](t,e,r,i,n,s){const o=zh;t.set(o(161),this[o(192)](e,i,n)),t.set(o(204),new Array(s)[o(166)](i));const a=r[o(209)]();t[o(138)](o(142),[][o(171)][o(133)]([],new Array(s)[o(166)](a)))}[zh(182)](t,e,r){const i=zh,n=this._calVerticesPercent(t);let s=[],o=e[i(226)]();s.push(o);for(let t=1,a=n[i(180)]-1;t<a;t++){o=Nh[i(186)](e,r,n[t])[i(226)](),s[i(143)](o)}return o=r[i(226)](),s[i(143)](o),[s,t[i(190)]()]}[zh(235)](t,e,r,i=!1){const n=zh;let s=r+5;return(i||e!==n(221))&&(s="butt"===e||e===n(156)?2:e===n(221)?r:"bevel"===e?4:9),[][n(171)][n(133)]([],new Array(s)[n(166)](t))}[zh(134)](t,e,r,i,n,s,o){const a=zh,h=[],l=[],c=[],u=[];let p=0,f=0,g=0,d=0;const _=this.dataMap;for(let _=0,y=t[a(180)]/3-1;_<y;_++){if(h.push(t[3*_],t[3*_+1],t[3*_+2]),h[a(143)](t[3*_],t[3*_+1],t[3*_+2]),0==_){[f,g]=this[a(188)](t,_);const{side:i,order:n,width:y,position:m}=this._calCap(r,f,g,p,e,h[a(157)](0,3),h.length/3-2,s,o);l[a(143)](...i),c[a(143)](...n),u[a(143)](...y),h.push(...m),d=h.length/3}else{p+=2,l[a(143)](-g,f,g,-f),1==_&&r===a(221)?c[a(143)](0,d-1,d):c[a(143)](d-2,d-1,d),c.push(d,d-1,d+1),u.push(e,e),d=h[a(180)]/3;let[y,m]=this[a(188)](t,_);const{position:I,side:x,order:v,width:b,cUp:w,clock:T,angle:E}=this[a(150)](i,[f,g],[y,m],e,t[a(157)](3*_,3*(_+1)),d,n,s,o);l[a(143)](...x),c[a(143)](...v),u[a(143)](...b),h[a(143)](...I);let C=0,A=u[a(180)];if(o!=a(145)&&(C=e/Math[a(234)](Math.abs(E))),"left"==o&&T){const t=A-w-1,e=A-1;if(u[t]=u[e]=0,u[t-1]=C,l[a(165)](2*(t-1),2,y,m),u[e-1]=C,l[a(165)](2*(e-1),2,-f,-g),i!==a(195)){const r=e-t-2;u.splice(t+1,r,...[][a(171)][a(133)]([],new Array(r)[a(166)]([0])))}}else if("left"!=o||T){if("right"==o&&T)u[A-w-2]=u[A-2]=0;else if(o==a(169)&&!T){const t=A-w-2,e=A-2;if(u[t]=u[e]=0,u[t+1]=C,l[a(165)](2*(t+1),2,y,m),u[e+1]=C,l[a(165)](2*(e+1),2,-f,-g),"bevel"!==i){const r=e-t-3;u[a(165)](t+2,r,...[].concat.apply([],new Array(r)[a(166)]([0])))}}}else u[A-w-1]=u[A-1]=0;[f,g]=[y,m],p+=w,d=h[a(180)]/3}if(_==y-1){h[a(143)](t[3*(_+1)],t[3*(_+1)+1],t[3*(_+1)+2]),h[a(143)](t[3*(_+1)],t[3*(_+1)+1],t[3*(_+1)+2]),r===a(221)&&0!=_&&c[a(143)](d-2,d-1,d,d,d-1,d+s-1),p+=2;const{side:i,order:n,width:y,position:m}=this._calCap(r,f,g,p,e,h[a(157)](-3),h[a(180)]/3-2,s,o);l[a(143)](...i),c[a(143)](...n),u[a(143)](...y),h.push(...m)}}return _[a(138)]("a_position",h),_[a(138)](a(223),c),_[a(138)]("a_side",l),_[a(138)]("a_lineWidth",u),_}[zh(150)](t,[e,r],[i,n],s,o,a,h,l,c){const u=zh,p=[],f=[],g=[],d=[],[_,y,m,I]=this[u(176)](e,r,i,n);if(t===u(195))d.push(...o,...o),a+=2,p[u(143)](-n,i,n,-i),f[u(143)](a-2,a-3,a-1),f[u(143)](a-4,a-3,a-2),g[u(143)](s,s);else if(t===u(202)){let t=[_[0]+y[0],_[1]+y[1]],e=(_[0]*t[0]+_[1]*t[1])/Math[u(135)](Math.pow(t[0],2)+Math[u(164)](t[1],2)),r=s/e;if(r<=h)d.push(...o,...o,...o,...o,...o,...o,...o),p.push(0,1,..._,...t,...t,...y,-n,i,n,-i),g[u(143)](0,s,r,r,s,s,s),a+=5,1==m?f[u(143)](a-5,a-4,a-3,a-5,a-2,a-1):f[u(143)](a-5,a-3,a-4,a-5,a-1,a-2);else{let l=Math[u(173)](e),c=r-h,I=Math.PI/2-l,x=0,v=0;h>=s*Math[u(131)](l)?(x=c*Math[u(222)](I),v=h):(x=s*Math[u(234)](l),v=s*Math[u(131)](l)),t=this._normalize(t);let b=[-t[1]*x,t[0]*x],w=[t[1]*x,-t[0]*x];t[0]=t[0]*v,t[1]=t[1]*v,b[0]=t[0]+b[0],b[1]=t[1]+b[1],w[0]=t[0]+w[0],w[1]=t[1]+w[1];let T=Math[u(135)](Math[u(164)](b[0],2)+Math[u(164)](b[1],2));d[u(143)](...o,...o,...o,...o,...o,...o,...o),p.push(0,1,..._,...b,...w,...y,-n,i,n,-i),g[u(143)](0,s,T,T,s,s,s),a+=5,1==m?f[u(143)](a-5,a-4,a-2,a-5,a-2,a-3,a-5,a-3,a-1):f[u(143)](a-5,a-3,a-4,a-5,a-2,a-3,a-5,a-1,a-2)}}else{const[t,h,c]=this[u(176)](e,r,i,n),_=Math[u(173)]((t[0]*h[0]+t[1]*h[1])/Math.sqrt(Math.pow(t[0],2)+Math[u(164)](t[1],2))*Math.sqrt(Math[u(164)](h[0],2)+Math[u(164)](h[1],2)))/(l-1),y=Math[u(131)](_),m=Math.sin(_),I=1==c?[y,-m,m,y]:[y,m,-m,y];p[u(143)](0,1,...t);for(let t=0,e=l-2;t<e;t++){const e=2*(t+1),r=e+1,i=p[e]*I[0]+p[r]*I[1],n=p[e]*I[2]+p[r]*I[3];p[u(143)](i,n)}p[u(143)](...h,-n,i,n,-i),g[u(143)](0,...[][u(171)].apply([],new Array(l+2)[u(166)](s))),d.push(...[][u(171)][u(133)]([],new Array(l+3)[u(166)](o)));for(let t=0,e=l-1;t<e;t++)1==c?f[u(143)](a,a+t+1,a+t+2):f[u(143)](a,a+t+2,a+t+1)}return{side:p,order:f,width:g,position:d,cUp:d[u(180)]/3,clock:m,angle:I}}_calJoinVec(t,e,r,i){const n=zh,s=t*i-e*r,o=Math[n(135)](t*t+e*e)*Math[n(135)](r*r+i*i),a=Math[n(207)](s/o);return s>=0?[[e,-t],[i,-r],1,a]:[[-e,t],[-i,r],0,a]}[zh(170)](t,e,r,i,n,s,o,a,h){const l=zh,c=[],u=[],p=[],f=[];if(t===l(184))c[l(143)](-r,e,r,-e),p[l(143)](n,n),h==l(185)?p[1]=0:h==l(169)&&(p[0]=0),u[l(143)](i-2,i-1,i),u[l(143)](i,i-1,i+1);else if(t===l(156)){const t=n/Math[l(131)](Math.PI/4);u[l(143)](i-2,i-1,i),u.push(i,i-1,i+1),0==i?h==l(145)?(c[l(143)](-r-e,e-r,r-e,-e-r),p[l(143)](t,t)):h==l(185)?(c[l(143)](-r-e,e-r,-e,-r),p[l(143)](t,n)):(c[l(143)](-e,-r,r-e,-e-r),p[l(143)](n,t)):"both"==h?(c[l(143)](-r+e,e+r,r+e,-e+r),p[l(143)](t,t)):h==l(185)?(c[l(143)](-r+e,e+r,e,r),p.push(t,n)):(c[l(143)](e,r,r+e,-e+r),p[l(143)](n,t))}else{const t=Math.PI/(a-1),g=Math[l(131)](t),d=Math[l(234)](t);let _=[g,-d,d,g];0!=i&&(_=[g,d,-d,g]);let y=[][l(171)][l(133)]([],new Array(a-2).fill(s)),m=[][l(171)][l(133)]([],new Array(a)[l(166)](n));f[l(143)](...y),p[l(143)](...m),c[l(143)](-r,e);for(let t=0;t<a-2;t++){const e=2*t,r=e+1,i=c[e]*_[0]+c[r]*_[1],n=c[e]*_[2]+c[r]*_[3];c[l(143)](i,n)}c[l(143)](r,-e),o==a&&u[l(143)](0,a-1,a,a-1,2*a-1,a);const I=a%2==0,x=I?a/2-1:Math[l(189)](a/2);for(let t=0;t<x;t++)u[l(143)](t+o,a-t-1+o,a-t-2+o),u[l(143)](t+1+o,t+o,a-t-2+o);!I&&(u.length=u.length-3),0==i&&u[l(203)](),h==l(185)?I?(0==i?c[l(165)](2*(x+1),2*(x+1),...[][l(171)][l(133)]([-e,-r],new Array(x)[l(166)]([0,1]))):c[l(165)](2*(x+1),2*(x+1),...[][l(171)][l(133)]([e,r],new Array(x).fill([0,1]))),p[l(165)](x+1,x+1,...[][l(171)][l(133)]([n],new Array(x).fill([0])))):(c[l(165)](2*(x+1),2*x,...[].concat[l(133)]([],new Array(x).fill([0,1]))),p[l(165)](x+1,x,...[][l(171)][l(133)]([],new Array(x)[l(166)]([0])))):h==l(169)&&(I?(c.splice(0,2*(x+1),...[].concat[l(133)]([],new Array(x+1)[l(166)]([0,1]))),0==i?c.splice(2*(x+1),2,-e,-r):c[l(165)](2*(x+1),2,e,r),p[l(165)](0,x+1,...[].concat[l(133)]([],new Array(x+1).fill([0]))),p[x+1]=n):(c.splice(0,2*x,...[][l(171)][l(133)]([],new Array(x).fill([0,1]))),p.splice(0,x,...[][l(171)][l(133)]([],new Array(x)[l(166)]([0])))))}return(t===l(184)||t===l(156))&&0==i&&(u.length=0),{side:c,order:u,width:p,position:f}}[zh(192)](t,e,r){const i=zh,n=r[i(180)]/3-1,s=t[i(190)](),o=this._calVerticesPercent(t,e),a=[];let h=0,[l,c,u]=this[i(183)](s[h][i(228)]());for(let t=0;t<n;){const[e,n,p]=r[i(157)](3*t,3*(t+1));e==l&&n==c&&p==u?(a[i(143)](o[h]),t++):(h++,[l,c,u]=this[i(183)](s[h][i(228)]()))}return a.push(o[i(136)]()),a}_getCoordXYZ(t){const e=zh;return[t[e(152)]("X"),t[e(152)]("Y"),t[e(152)]("Z")]}}const Yh=["sqrt","apply","1126555hwyakk","_precisionCorrect","getPolygons","a_highlight","_color","127231hyYAbD","_getDelta","162thoINv","toColor","_addSingleColor","getCoordSeqs","fill","_handlePolygonGeom","1538895Oapyqo","dataMap","hasOwnProperty","31VkcDlk","_addGradientColor","concat","getLineSymbols","1790aJfkTB","bufferToGPU","distanceTo","clone","buffer","a_side","4567lMGdsS","_addFill","_handleFeature","_dealBlockData","drawType","abs","angle","getCentroid","set","getFillSymbols","index","_selected","_appendDataIndex","mode","features","getBottomRight","get","positionCount","_initRenderData","getOrdinate","toUint8Array","pop","fromColor","_addOutline","getCoordinate","_owner","14VVKfnl","rotate","destroy","push","a_offset","a_position","getCoordCount","_coordSeqToArray","getStyle","_visible","TRIANGLES","getWidth","1JykwTV","length","11404InWNgP","575211tgmApY"],$h=Xh;function Xh(t,e){return Yh[t-=143]}!function(t,e){const r=Xh;for(;;)try{if(881315===parseInt(r(212))+-parseInt(r(155))+parseInt(r(149))*parseInt(r(162))+-parseInt(r(194))*-parseInt(r(208))+parseInt(r(147))*parseInt(r(206))+parseInt(r(168))*parseInt(r(158))+parseInt(r(209)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Yh);class Wh extends jh{constructor(t,e={}){e[Xh(172)]="drawElements",super(t,e)}handleBlock(e){const r=Xh,i=e[r(182)];for(let e=i[r(207)]-1;e>-1;e--){const n=i[e];if(n[r(166)])continue;const s=n.getBasicGeometry();n[r(166)]=this[r(156)],s instanceof t.MultiPolygon?this._handleMPolygonFeature(n,s):this._handleFeature(n,s);const o=n[r(179)]?1:0;n.buffer[r(176)](r(145),[][r(160)][r(211)]([],new Array(n.buffer[r(184)](r(199))[r(207)]/3)[r(153)](o))),n[r(166)][r(176)](r(181),[this[r(193)].gl[r(204)]]),n.buffer[r(176)]("drawCount",[n[r(166)][r(184)]("index")[r(207)]])}this[r(171)](e)}[$h(171)](t){const e=$h;this[e(186)](t);const r=t[e(182)];for(let i=0,n=r[e(207)];i<n;i++)r[i][e(157)]("_visible")&&!r[i][e(203)]||!r[i][e(166)]||(this[e(143)](r[i][e(166)]),this._appendBlockData(t,r[i][e(166)]));this[e(193)][e(163)](t)}[$h(170)](t,e){const r=$h,i=t[r(166)],n=t.getStyle();this[r(154)](i,e,n)}_handleMPolygonFeature(t,e){const r=$h,i=t.buffer,n=t[r(202)](),s=e[r(144)]();for(let t=0,e=s[r(207)];t<e;t++)this[r(154)](i,s[t],n)}[$h(154)](t,e,r){const i=$h;this[i(169)](t,e,r[i(177)]()[0]),this[i(191)](t,e,r[i(161)]()[0])}[$h(169)](e,r,i){const n=$h;if(!i)return;const s=Rh(r[n(152)]()),o=s[n(178)],a=s[n(185)][0],h=s[n(199)],l=this[n(156)];l[n(176)](n(199),h),l[n(176)]("index",o),l.set(n(198),[][n(160)][n(211)]([],new Array(a)[n(153)]([0,0])));let c=[];i instanceof ba?c=this[n(159)](h,r,i[n(190)],i[n(150)],i[n(174)]):i instanceof t.ColorFill&&(c=this._addSingleColor(a,i[n(146)])),l[n(176)]("a_color",c),this[n(180)](e,l,e.get(n(199))[n(207)]/3)}[$h(201)](t){const e=$h;let r=[],i=[];for(let n=0,s=t[e(200)]();n<s;n++){const s=t[e(192)](n);r[e(197)](s[e(187)]("X"),s[e(187)]("Y"),s[e(187)]("Z")),i[e(197)](n),i[e(197)](n+1)}return i[e(189)](),i[e(189)](),[r,i]}_addSingleColor(t,e){const r=$h,i=e[r(188)]();return[][r(160)][r(211)]([],new Array(t).fill(i))}[$h(159)](e,r,i,n,s){const o=$h,a=r[o(165)](),h=a[o(175)]();a.rotate("Z",-s,h);const l=a.getExtent(),c=l[o(205)](),u=l.getTopRight(),p=l[o(183)]();let f=new t.Line([new t.Point(u),new t.Point(p)]);f[o(195)]("Z",s,h);const g=[];for(let r=0,s=e[o(207)]/3;r<s;r++){const s=e[3*r],a=e[3*r+1],h=e[3*r+2],l=new t.Point(new t.Coordinate(s,a,h))[o(164)](f)/c;let u=Nh.interpolateColorByLine(i,n,l);g[o(197)](...u.toUint8Array())}return a.destroy(),f[o(196)](),g}[$h(191)](t,e,r){const i=$h;if(!r)return;const n=e.getCoordSeqs(),[s,o]=this[i(201)](n[0]),a=this._setWideLineData(s,r.getWidth()/2),h=this[i(156)];h[i(176)](i(199),a.get(i(199))),h.set("index",a[i(184)](i(178))),h.set(i(198),a.get("a_side"));let l=r._color;l instanceof Array&&(l=r._color[1]),h[i(176)]("a_color",this[i(151)](a[i(184)](i(199))[i(207)]/3,l)),this[i(180)](t,h,t[i(184)](i(199))[i(207)]/3)}_setWideLineData(t,e){const r=$h,i=[],n=[],s=[];let o=0;const a=this[r(156)];for(let a=0,h=t.length/3;a<h;a++){if(a>0&&a<h-1){i[r(197)](t[3*a],t[3*a+1],t[3*a+2]),i[r(197)](t[3*a],t[3*a+1],t[3*a+2]),o+=2;const h=this[r(148)](t,a,e),l=h[0],c=h[1];n[r(197)](-c,l,c,-l),s[r(197)](o-2,o-1,o),s.push(o,o-1,o+1)}if(i.push(t[3*a],t[3*a+1],t[3*a+2]),i[r(197)](t[3*a],t[3*a+1],t[3*a+2]),o+=2,a<h-1){const i=this[r(148)](t,a+1,e),h=i[0],l=i[1];n[r(197)](-l,h,l,-h),s[r(197)](o-2,o-1,o),s[r(197)](o,o-1,o+1)}else{const i=this._getDelta(t,a,e),h=i[0],l=i[1];n[r(197)](-l,h,l,-h),s[r(197)](o-1,1,0),s[r(197)](o-2,1,0)}}return a[r(176)](r(199),i),a[r(176)](r(178),s),a[r(176)](r(167),n),a}[$h(148)](t,e,r){const i=$h,n=t[3*e]-t[3*(e-1)],s=t[3*e+1]-t[3*(e-1)+1];if(0!==n||0!==s){const t=Math[i(173)](Math[i(210)](n*n+s*s));return[n/t*r,s/t*r]}{const s=t[3*e+2]-t[3*(e-1)+2],o=Math[i(173)](Math[i(210)](n*n+s*s));return[n/o*r,s/o*r]}}}const Zh=["_appendDataIndex","_bindData","getFillSymbols","getTextureObject","33801bSWwXU","_handleFeature","a_textureCoord","drawCount","clone","a_position","getTexure","_texture","index","getPolygons","owner","getStyle","then","apply","8NLLklI","all","87263dhouRk","391418vhMkwm","get","length","260276vsUQzv","push","a_highlight","set","promise","image","_handleMPolygonFeature","handleBlock","LAYEREVENT_DATACHANGE","glHelper","831570YtpJKC","mode","19859euILgl","1540771dEtMbw","_id","_addFill","_owner","dataMap","2MhOPmD","textures","TRIANGLES","indexCount","getBasicGeometry","25xGgdNN","buffer","fill","event","1qVEPsU","bufferImage"],qh=Jh;function Jh(t,e){return Zh[t-=230]}!function(t,e){const r=Jh;for(;;)try{if(525005===parseInt(r(275))*parseInt(r(257))+-parseInt(r(269))*parseInt(r(280))-parseInt(r(267))+-parseInt(r(237))*-parseInt(r(251))-parseInt(r(253))+parseInt(r(254))*-parseInt(r(231))+parseInt(r(270)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Zh);class Kh extends Wh{constructor(t,e={}){const r=Jh;super(t,e),this.glHelper=Gt[r(255)](this[r(247)].gl)}[qh(264)](e){const r=qh;!e[r(276)]&&(e.textures=[]);const i=[],n=e.features;for(let s=0,o=n[r(256)];s<o;s++){const o=n[s];if(o.buffer)continue;const a=o._selected?1:0,h=o[r(279)]();o.buffer=this[r(274)],h instanceof t.MultiPolygon?i[r(258)](...this._handleMPolygonFeature(o,h,a,e)):i[r(258)](this[r(238)](o,h,a,e))}Promise[r(252)](i).then((()=>{const t=r;this._dealBlockData(e),this[t(247)][t(247)]._map[t(230)].dispatch(new ch(p[t(265)]))}))}[qh(238)](e,r,i,n){const s=qh,o=e[s(281)],a=e[s(248)]()[s(235)]()[0];if(o[s(260)](s(268),[]),o[s(260)](s(240),[]),a instanceof t.TextureFill)return n.textures[0]=a[s(271)],this[s(272)](o,a,r,i)}[qh(263)](e,r,i,n){const s=qh,o=e[s(281)],a=e[s(248)]()[s(235)]()[0],h=r[s(246)]();if(o[s(260)](s(268),[]),o[s(260)]("drawCount",[]),!(a instanceof t.TextureFill))return;n[s(276)].push(a[s(271)]);let l=[];for(let t=0,e=h.length;t<e;t++)l[s(258)](this[s(272)](o,a,h[t],i));return l}[qh(272)](t,e,r,i){const n=qh;let{xyzs:s,index:o,pointCount:a,uvs:h}=Sh(r[n(241)](),e),l=this[n(274)];l[n(260)](n(242),s),l[n(260)](n(259),[].concat[n(250)]([],new Array(s.length/3)[n(282)](i))),l.set(n(245),o),l[n(260)](n(239),h),l[n(260)]("a_offset",[].concat.apply([],new Array(a)[n(282)]([0,0]))),l[n(260)](n(268),[]),l[n(260)](n(240),[]);const c=e[n(271)],u=this;let p;if(this[n(266)].getTextureObject(c,0,e)[n(262)]){const r=e[n(243)]();u[n(234)](t,l,o,c,r)}else{const r=e[n(243)]();r?u[n(234)](t,l,o,c,r):p=e[n(261)][n(249)]((e=>{const r=n;u._bindData(t,l,o,c,e[r(244)])}))}return p}[qh(234)](t,e,r,i,n){const s=qh;this[s(266)][s(236)](i)[s(232)](n),this[s(266)].getTextureObject(i)[s(278)]=r[s(256)],this[s(233)](t,e,t[s(255)](s(242))[s(256)]/3),t[s(260)](s(268),[this[s(273)].gl[s(277)]]),t[s(260)](s(240),[t[s(255)]("index")[s(256)]])}}const Qh=["textureObjects","getViewport","glHelper","getLayerType","bindTexture","_parser","drawElements","getElements","divide","347825OeSehJ","LN2","1838747UHATpi","getFogDist","1794379zVndAU","textures","getViewMatrix","getHighlightColor","fill","37JLrdyv","owner","getOrdinate","log","1289641kRSUDi","WMTSLayer","getCoordinate","draw","10606NiVRHw","length","7loUiqy","_map","375130MlTirs","getFPlaneDistance","14907QuMMbu","active","1GTNLzP","getCamera","drawSingle","opacity","size","_parserOpt","_filterBlocks","getFogColor","getTextureObject","drawType","program"],tl=el;function el(t,e){return Qh[t-=228]}!function(t,e){const r=el;for(;;)try{if(929895===-parseInt(r(229))*-parseInt(r(262))+parseInt(r(253))+parseInt(r(249))+-parseInt(r(270))+-parseInt(r(251))+-parseInt(r(272))*-parseInt(r(268))+-parseInt(r(266))*parseInt(r(258)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Qh);class rl extends gh{constructor(t,e={},r={}){const i=el,n=r.blockSize||1,s=r[i(238)]||i(246);super(t,i(257),e,n,s);const o=t[i(243)]();this[i(245)]=o===Ot.TMSLayer||o===Ot.WMSLayer||o===Ot[i(263)]?new Eh(this,this[i(234)]):new Kh(this,this[i(234)]),this[i(242)]=Gt.get(this._gl)}[tl(265)](t){const e=tl,r=this[e(235)](t);if(0===r.length)return;if(this[e(242)][e(240)][e(233)]<1)return;const i=this[e(259)][e(269)],n=mh[e(248)](i[e(230)]()[e(264)]().getOrdinate("X")),s=mh[e(248)](i[e(230)]().getCoordinate()[e(260)]("Y")),o=mh[e(248)](i[e(230)]().getCoordinate()[e(260)]("Z")),a=i[e(241)](),h=2/(Math[e(261)](i[e(230)]()[e(271)]()+1)/Math[e(250)]),l={u_opacity:this[e(232)],u_pMatrix:i.getProjMatrix()[e(247)](),u_vMatrix:i[e(255)]()[e(247)](),u_viewport:[a[2],a[3]],u_fogColor:i[e(236)](),u_fogDist:i[e(252)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:h,u_highlightColor:i[e(256)]()};this[e(239)][e(228)](),this[e(239)].setUniforms(l);for(let t=0,i=r[e(267)];t<i;t++){const i=r[t];i.buffer&&(this.glHelper[e(237)](i[e(254)][0])[e(244)](0),this[e(239)][e(231)](i))}}}const il=["54839rtGFoU","a_offset","mode","buffer","2240257inoNCR","clone","1078779AMUcKc","dataMap","_dealBlockData","28233TRADOj","textures","then","bufferImage","_handleMPolygonFeature","_addFill","a_position","owner","_bindData","27107ZeKzNI","index","_selected","getPolygons","a_highlight","drawCount","_video","5sbKYjr","83873sdhgRV","fill","bindTexture","getStyle","_handleFeature","textureObjects","1996vNVJXs","_videoRotate","length","TRIANGLES","get","getOrdinate","getFillSymbols","positionCount","all","_map","set","getTextureObject","15lvyKUF","glHelper","getCoordSeqs","_createTextureObject","extractCoords","LAYEREVENT_DATACHANGE","dispatch","236xWJDpU","currentSrc","1LdDfQn","23HzpaXF","getBasicGeometry","rotate","push","_calculateUVs","8uYbbEc","features"],nl=sl;function sl(t,e){return il[t-=149]}!function(t,e){const r=sl;for(;;)try{if(745179===-parseInt(r(170))+parseInt(r(157))*-parseInt(r(182))+-parseInt(r(173))*parseInt(r(189))+-parseInt(r(196))*parseInt(r(154))+parseInt(r(208))*parseInt(r(190))+parseInt(r(162))*-parseInt(r(164))+-parseInt(r(168))*-parseInt(r(156)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(il);class ol extends Wh{constructor(t,e={}){const r=sl;super(t,e),this[r(209)]=Gt[r(200)](this[r(180)].gl)}handleBlock(e){const r=sl;!e[r(174)]&&(e.textures=[]);const i=[],n=e[r(163)];for(let s=0,o=n[r(198)];s<o;s++){const o=n[s];if(o[r(167)])continue;const a=o[r(184)]?1:0,h=o[r(158)]();o.buffer=this[r(171)],h instanceof t.MultiPolygon?i.push(...this[r(177)](o,h,a,e)):i[r(160)](this[r(194)](o,h,a,e))}Promise[r(204)](i)[r(175)]((()=>{const t=r;this[t(172)](e),this[t(180)][t(180)][t(205)].event[t(153)](new ch(p[t(152)]))}))}[nl(194)](e,r,i,n){const s=nl,o=e[s(167)],a=e[s(193)]()[s(202)]()[0];if(o[s(206)](s(166),[]),o[s(206)](s(187),[]),a instanceof t.VideoFill)return n[s(174)][s(160)](a[s(188)][s(155)]),this._addFill(o,a,r,i)}[nl(177)](e,r,i,n){const s=nl,o=e[s(167)],a=e[s(193)]()[s(202)]()[0],h=r[s(185)]();if(o.set(s(166),[]),o[s(206)](s(187),[]),!(a instanceof t.VideoFill))return;n.textures[s(160)](a[s(188)][s(155)]);let l=[];for(let t=0,e=h.length;t<e;t++)l[s(160)](this[s(178)](o,a,h[t],i));return l}[nl(178)](t,e,r,i){const n=nl,s=r[n(149)]();let o=this._calculateUVs(s,e),a=Rh(s);const h=a[n(183)],l=a[n(203)][0],c=a[n(179)];let u=this[n(171)];u[n(206)](n(179),c),u[n(206)](n(186),[].concat.apply([],new Array(c.length/3)[n(191)](i))),u[n(206)]("index",h),u[n(206)]("a_textureCoord",o),u[n(206)](n(165),[].concat.apply([],new Array(l)[n(191)]([0,0]))),u[n(206)](n(166),[]),u[n(206)](n(187),[]);const p=e[n(188)],f=p[n(155)];let g=this[n(209)][n(195)][n(200)](f);!g&&(g=this.glHelper[n(150)](f,0,e)),g[n(192)]();const d=this;return new Promise(((e,r)=>{d[n(181)](t,u,0,f,p),e()}))}[nl(161)](e,r){const i=nl;let n=1/0,s=1/0,o=1/0,a=-1/0,h=-1/0,l=-1/0;const c=[];for(let t of e){let e=t[i(169)]()[i(151)]();for(let t of e){let e=t[i(201)]("X"),r=t[i(201)]("Y"),c=t[i(201)]("Z");n>e&&(n=e),s>r&&(s=r),o>c&&(o=c),a<e&&(a=e),h<r&&(h=r),l<c&&(l=c)}c[i(160)](...e)}let u=new t.Coordinate((n+a)/2,(s+h)/2,(o+l)/2),p=r[i(197)],f=p[0],g=p[1],d=p[2],_=1/0,y=1/0,m=-1/0,I=-1/0,x=-1/0;for(let t of c){f&&t.rotate("X",-f,u),g&&t.rotate("Y",-g,u),d&&t[i(159)]("Z",-d,u);let e=t[i(201)]("X"),r=t.getOrdinate("Y"),n=t[i(201)]("Z");_>e&&(_=e),y>r&&(y=r),m<e&&(m=e),I<r&&(I=r),x<n&&(x=n)}const v=m-_,b=I-y,w=[];for(let t of c){let e=t[i(201)]("X"),r=t[i(201)]("Y");w[i(160)]((e-_)/v,1-(r-y)/b)}return w}[nl(181)](t,e,r,i,n){const s=nl;this[s(209)][s(207)](i)[s(176)](n,!0),this[s(209)][s(207)](i).indexCount=r[s(198)],this._appendDataIndex(t,e,t.get(s(179))[s(198)]/3),t[s(206)]("mode",[this._owner.gl[s(199)]]),t[s(206)](s(187),[t[s(200)](s(183))[s(198)]])}}const al=["draw","getOrdinate","WMSLayer","size","owner","active","getFogColor","glHelper","743531saoHmI","textureObjects","setUniforms","getProjMatrix","getLayerType","500914ZNTRNl","getFogDist","getTextureObject","304194xQznre","getCamera","buffer","getCoordinate","divide","_gl","7SMzFwA","textures","1507457neUhTq","getElements","program","1deEeEU","112858ginjYI","log","46327ExXnMv","90587HjvclL","2stQQEN","get","drawSingle","getHighlightColor","length","TMSLayer","_filterBlocks","LN2","fill","getViewMatrix","6FjeduV","drawElements","getFPlaneDistance","WMTSLayer"],hl=ll;function ll(t,e){return al[t-=245]}!function(t,e){const r=ll;for(;;)try{if(779081===-parseInt(r(261))*-parseInt(r(258))+-parseInt(r(262))*-parseInt(r(276))+parseInt(r(264))*parseInt(r(256))-parseInt(r(247))+parseInt(r(265))*-parseInt(r(266))-parseInt(r(250))-parseInt(r(288)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(al);class cl extends gh{constructor(t,e={},r={}){const i=ll,n=r.blockSize||1,s=r.drawType||i(277);super(t,i(274),e,n,s);const o=t[i(246)]();this._parser=o===Ot[i(271)]||o===Ot[i(282)]||o===Ot[i(279)]?new Eh(this,this._parserOpt):new ol(this,this._parserOpt),this[i(287)]=Gt[i(267)](this[i(255)])}[hl(280)](t){const e=hl,r=this[e(272)](t);if(0===r.length)return;if(this[e(287)][e(289)][e(283)]<1)return;const i=this[e(284)]._map,n=mh[e(254)](i[e(251)]()[e(253)]()[e(281)]("X")),s=mh[e(254)](i[e(251)]()[e(253)]()[e(281)]("Y")),o=mh[e(254)](i[e(251)]()[e(253)]()[e(281)]("Z")),a=i.getViewport(),h=2/(Math[e(263)](i[e(251)]()[e(278)]()+1)/Math[e(273)]),l={u_opacity:this.opacity,u_pMatrix:i[e(245)]()[e(259)](),u_vMatrix:i[e(275)]()[e(259)](),u_viewport:[a[2],a[3]],u_fogColor:i[e(286)](),u_fogDist:i[e(248)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:h,u_highlightColor:i[e(269)]()};this[e(260)][e(285)](),this.program[e(290)](l);for(let t=0,i=r[e(270)];t<i;t++){const i=r[t];if(!i[e(252)])continue;let n=this.glHelper[e(249)](i[e(257)][0]);n&&n.bufferVideoTex(),this[e(260)][e(268)](i)}}}const ul=["then","6491WxyoWR","textures","concat","a_offset","textureObjects","_handleFeature","_speed","resolve","toNormalizeArray","bindTexture","REPEAT","a_position","noise","593dyPyps","a_highlight","getFillSymbols","711839gRKlVm","TRIANGLES","imagePromise","_bindData","_map","get","getBasicGeometry","_color","positionCount","6982lVbcUg","length","push","LAYEREVENT_DATACHANGE","6MMMxAz","129208ZdxXBr","_handleMPolygonFeature","features","_owner","525098SGGKIW","apply","_selected","image","getStyle","67tAQQpC","drawCount","_addFill","owner","_scale","fill","_type","dataMap","mode","all","getTextureObject","indexCount","glHelper","handleBlock","set","index","dispatch","1983OkPuJB","buffer","633345bvwqQo","_static","_appendDataIndex","271bGmzvg"];function pl(t,e){return ul[t-=329]}const fl=pl;!function(t,e){const r=pl;for(;;)try{if(889221===parseInt(r(347))+-parseInt(r(330))*parseInt(r(373))+-parseInt(r(375))+-parseInt(r(378))*parseInt(r(380))+parseInt(r(351))+-parseInt(r(342))*parseInt(r(356))+-parseInt(r(333))*-parseInt(r(346)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ul);class gl extends Wh{constructor(t,e={}){const r=pl;super(t,e),this._painter=t,this[r(368)]=Gt[r(338)](this.owner.gl)}[fl(369)](e){const r=fl;!e[r(381)]&&(e.textures=[]);const i=[],n=e[r(349)];for(let s=0,o=n.length;s<o;s++){const o=n[s];if(o.buffer)continue;const a=o[r(353)]?1:0,h=o[r(339)]();o[r(374)]=this[r(363)],h instanceof t.MultiPolygon?i[r(344)](...this[r(348)](o,h,a,e)):i[r(344)](this[r(385)](o,h,a,e))}Promise[r(365)](i)[r(379)]((()=>{const t=r;this._dealBlockData(e),this.owner[t(359)][t(337)].event[t(372)](new ch(p[t(345)]))}))}[fl(385)](e,r,i,n){const s=fl,o=e[s(374)],a=e[s(355)]().getFillSymbols()[0];if(o.set("mode",[]),o[s(370)](s(357),[]),a instanceof t.NoiseFill)return this._addFill(n,o,a,r,i)}[fl(348)](e,r,i,n){const s=fl,o=e.buffer,a=e[s(355)]()[s(332)]()[0],h=r.getPolygons();if(o[s(370)](s(364),[]),o[s(370)]("drawCount",[]),!(a instanceof t.NoiseFill))return;let l=[];for(let t=0,e=h[s(343)];t<e;t++)l[s(344)](this[s(358)](n,o,a,h[t],i));return l}[fl(358)](t,e,r,i,n){const s=fl;!t[s(329)]&&(t[s(329)]={type:r[s(362)],colorArr:r[s(340)][s(388)](),speed:r[s(386)],scale:r[s(360)],static:r[s(376)],strength:r._strength});let o=Rh(i.getCoordSeqs());const a=o[s(371)],h=o[s(341)][0],l=o[s(391)];let c=this[s(363)];c[s(370)](s(391),l),c[s(370)](s(331),[][s(382)][s(352)]([],new Array(l[s(343)]/3)[s(361)](n))),c[s(370)]("index",a),c[s(370)](s(383),[][s(382)][s(352)]([],new Array(h)[s(361)]([0,0]))),c[s(370)](s(364),[]),c[s(370)](s(357),[]);let u,p=r[s(335)],f=r[s(354)];const g=r._id;if(p){t[s(381)][s(344)](g);let i=this.glHelper[s(384)][s(338)](g);!i&&(i=this[s(368)]._createTextureObject(g,0,{wrap_s:s(390),wrap_t:s(390)})),i[s(389)](),f?(this[s(336)](e,c,0,g,r),u=Promise.resolve()):u=p.then((t=>{this._bindData(e,c,0,g,t)}))}else this[s(336)](e,c),u=Promise[s(387)]();return u}[fl(336)](t,e,r,i,n){const s=fl;n&&(this[s(368)]._bufferTextureImage(i,n),this[s(368)][s(366)](i)[s(367)]=r[s(343)]),this[s(377)](t,e,t.get(s(391))[s(343)]/3),t.set("mode",[this[s(350)].gl[s(334)]]),t[s(370)](s(357),[t.get(s(371))[s(343)]])}}const dl=["2851wlMGVw","setSingleUniform","getCrs","getCamera","draw","u_static","299016edQZhA","scale","fill","static","glHelper","getProjMatrix","noise","getUnit","u_scale","u_time","u_type","u_speed","644272oPcZbK","getOrdinate","log","active","157ZuxTEv","79fNYtTi","8LoCNDh","drawElements","_map","455443lYPtJf","getElements","textureObjects","buffer","93011CcQZrX","getFogColor","size","_parserOpt","3202fcfjam","u_unit","setUniforms","getTime","getViewport","length","getFPlaneDistance","textures","degrees","394038wWForW","drawSingle","getCoordinate","u_color","type","divide","_gl","_parser","strength","program","getTextureObject","drawType"],_l=yl;function yl(t,e){return dl[t-=187]}!function(t,e){const r=yl;for(;;)try{if(643246===-parseInt(r(240))*-parseInt(r(196))+parseInt(r(235))+parseInt(r(223))+-parseInt(r(205))+-parseInt(r(188))+parseInt(r(217))*-parseInt(r(239))+parseInt(r(192))*parseInt(r(241)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(dl);class ml extends gh{constructor(t,e={},r={}){const i=yl,n=r[i(216)]||i(242);super(t,i(225),e,1,n),this[i(212)]=new gl(this,this[i(195)]),this[i(227)]=Gt.get(this[i(211)]),this.initTime=(new Date)[i(199)]()/1e3}[_l(221)](t){const e=_l,r=this._filterBlocks(t);if(0===r[e(201)])return;if(this[e(227)][e(190)][e(194)]<1)return;const i=this.owner[e(187)],n=mh[e(210)](i[e(220)]()[e(207)]()[e(236)]("X")),s=mh.divide(i[e(220)]()[e(207)]()[e(236)]("Y")),o=mh[e(210)](i[e(220)]()[e(207)]()[e(236)]("Z")),a=i[e(200)](),h=2/(Math[e(237)](i[e(220)]()[e(202)]()+1)/Math.LN2);let l={u_opacity:this.opacity,u_pMatrix:i[e(228)]().getElements(),u_vMatrix:i.getViewMatrix()[e(189)](),u_viewport:[a[2],a[3]],u_fogColor:i[e(193)](),u_fogDist:i.getFogDist(),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:h,u_highlightColor:i.getHighlightColor()};l[e(232)]=(new Date)[e(199)]()/1e3-this.initTime,l[e(197)]=i[e(219)]()[e(230)]()==e(204)?0:1,this[e(214)][e(238)](),this[e(214)][e(198)](l);for(let t=0,i=r[e(201)];t<i;t++){const i=r[t],n=i[e(229)];i[e(191)]&&n&&(this.program[e(218)](e(233),n[e(209)]),this[e(214)][e(218)](e(208),n.colorArr),this[e(214)][e(218)](e(234),n.speed),this.program[e(218)](e(231),n[e(224)]),this[e(214)].setSingleUniform(e(222),n[e(226)]),this[e(214)][e(218)]("u_strength",n[e(213)]),0!==i[e(203)][e(201)]&&this[e(227)][e(215)](i[e(203)][0]).bindTexture(),this[e(214)][e(206)](i))}}}const Il=["setUniforms","blockSize","draw","1022741iWEpRq","line","drawElements","317661pkKvhy","688033ybLRkH","getOrdinate","wideSolid","opacity","lineWay","blockHelperType","getContainerVSpan","getCamera","log","length","drawType","196832yxKHyu","getCoordinate","1GzGNvz","program","getProjMatrix","getViewMatrix","divide","_map","LN2","getFPlaneDistance","_parserOpt","346467EWfBmK","getElements","266605nCEJsW","507277xoefnX"],xl=vl;function vl(t,e){return Il[t-=492]}!function(t,e){const r=vl;for(;;)try{if(768866===parseInt(r(498))+-parseInt(r(494))+parseInt(r(502))+-parseInt(r(493))+-parseInt(r(501))+parseInt(r(524))*parseInt(r(515))+-parseInt(r(513)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Il);class bl extends gh{constructor(t,e={},r={}){const i=vl,n=r[i(496)]||500,s=r[i(512)]||i(500),o=r[i(507)]||"";super(t,i(499),e,n,s,o),this._parserOpt.lineWay=r[i(506)],this._parser=e.hasOwnProperty(i(504))?new jh(this,this[i(523)]):new Vh(this,this._parserOpt)}[xl(497)](t){const e=xl,r=this.owner[e(520)],i=this._filterBlocks(t);if(0===i[e(511)])return;const n=mh[e(519)](r.getCamera()[e(514)]()[e(503)]("X")),s=mh[e(519)](r[e(509)]()[e(514)]().getOrdinate("Y")),o=mh.divide(r[e(509)]().getCoordinate()[e(503)]("Z")),a=2/(Math[e(510)](r.getCamera()[e(522)]()+1)/Math[e(521)]);let h={u_opacity:this[e(505)],u_pMatrix:r[e(517)]()[e(492)](),u_vMatrix:r[e(518)]().getElements(),u_viewport:[r.getContainerHSpan(),r[e(508)]()],u_viewLength:r.getExtentHSpan(),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_logDepthFunc:a,u_highlightColor:r.getHighlightColor()};this[e(516)].active(),this[e(516)][e(495)](h),this.program[e(497)](i)}}const wl=["getStyle","719126KYYden","138728iwHTLB","_initRenderData","32833uUPgEp","_owner","display","getOrdinate","_fontColor","269396clwViF","_appendBlockData","_precisionCorrect","text","_handleFeature","334587xvDnXU","handleBlock","TRIANGLES","a_color","a_coordOffset","get","features","toUint8Array","_fontSize","getGeometry","mode","textInfo","buffer","owner","73977ZqEStt","14auEtsq","angle","381394mPPsEk","a_position","fontSize","drawCount","1CFkTpk","push","showText","splice","length","offset","_textSymbols","_attributes","index","set","1lLzMqx","1XZNGzK"],Tl=El;function El(t,e){return wl[t-=237]}!function(t,e){const r=El;for(;;)try{if(519498===-parseInt(r(254))+-parseInt(r(238))*parseInt(r(271))-parseInt(r(242))+parseInt(r(269))*parseInt(r(244))+parseInt(r(268))*-parseInt(r(239))+-parseInt(r(275))*-parseInt(r(249))+parseInt(r(241)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wl);class Cl extends bh{constructor(t,e={}){super(t,e)}[Tl(255)](t){const e=Tl,r=t[e(260)];for(let i=r[e(279)]-1;i>-1;i--){const n=r[i];n[e(266)]||!this._handleFeature(n)&&t[e(260)][e(278)](i,1)}this._dealBlockData(t)}_dealBlockData(t){const e=Tl;this[e(243)](t);const r=t.features;for(let i=0,n=r.length;i<n;i++)r[i].showText?(this[e(251)](r[i][e(266)]),this[e(250)](t,r[i][e(266)])):r[i][e(277)]=!0;this[e(245)].bufferToGPU(t)}[Tl(253)](t){const e=Tl,r=this.dataMap;t[e(266)]=r;const i=t[e(263)]().getCoordinate(),n=[i[e(247)]("X"),i.getOrdinate("Y"),i[e(247)]("Z")],s=t[e(282)][e(252)],o=t[e(282)][e(270)],a=s[e(279)],h=t[e(240)]()[e(281)][0];if(!h)return!1;if(!h[e(246)])return!1;const l=h[e(248)][e(261)](),c=this[e(267)][e(267)][e(265)],u=h[e(262)]/16;for(let i=0;i<a;i++){r[e(259)]("a_rotate")[e(276)](o,o,o,o);const a=r.get(e(272));a.push(...n),a[e(276)](...n),a[e(276)](...n),a.push(...n);const h=t[e(282)][e(280)][i],p=r[e(259)](e(258));p[e(276)](h[0][0]*u,h[0][1]*u,0),p[e(276)](h[1][0]*u,h[1][1]*u,0),p[e(276)](h[2][0]*u,h[2][1]*u,0),p[e(276)](h[3][0]*u,h[3][1]*u,0);let f=this[e(267)].textAtlas.texture[s[i]];null==f&&(f={x:0,y:0,w:16});const g=r[e(259)]("a_textureCoord");g[e(276)]((f.x+c[e(266)])/c.w,(f.y+c[e(266)])/c.h),g[e(276)]((f.x+c.buffer)/c.w,(f.y+c.fontSize+c[e(266)])/c.h),g[e(276)]((f.x+f.w+c[e(266)])/c.w,(f.y+c[e(273)]+c[e(266)])/c.h),g[e(276)]((f.x+f.w+c.buffer)/c.w,(f.y+c[e(266)])/c.h),r[e(259)](e(257))[e(276)](l[0],l[1],l[2],l[3],l[0],l[1],l[2],l[3],l[0],l[1],l[2],l[3],l[0],l[1],l[2],l[3]),r[e(259)](e(283))[e(276)](4*i,4*i+1,4*i+2,4*i,4*i+2,4*i+3)}return r[e(237)](e(264),[this[e(245)].gl[e(256)]]),r[e(237)](e(274),[r[e(259)]("index")[e(279)]]),!0}}const Al=["verifyLimitAngle","1366332LhlLqF","get","length","1ETNpaK","getViewMatrix","textAtlas","getTextureObject","_filterBlocks","getCoordinate","symbol","blockHelperType","active","555Bduphb","_map","_gl","bindTexture","draw","_camera","getFogColor","getRotateZ","_parser","getOrdinate","30eJetEP","getCamera","_opacity","setUniforms","program","1335961iIiWon","_rotateX","painterType","owner","2670rJCnhN","textTexture","blockSize","drawElements","divide","glHelper","1500157cswNqK","7653QxzbQc","getElements","724589zNMnRZ","drawType","getFogDist","524097fcCwaJ"],Ml=Sl;function Sl(t,e){return Al[t-=277]}!function(t,e){const r=Sl;for(;;)try{if(970418===parseInt(r(284))*-parseInt(r(300))+parseInt(r(289))+parseInt(r(305))+-parseInt(r(299))+parseInt(r(293))*parseInt(r(319))+-parseInt(r(307))+parseInt(r(302))*parseInt(r(310)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Al);class Pl extends gh{constructor(t,e,r={}){const i=Sl,n=r[i(295)]||2e3,s=r[i(303)]||i(296),o=r[i(317)]||"";super(t,r[i(291)]?r[i(291)]:i(316),e,n,s,o),this[i(312)]=r[i(312)],this[i(282)]=new Cl(this,this._parserOpt),this[i(298)]=Gt[i(308)](this[i(321)])}[Ml(306)](){const t=Ml;return this[t(292)][t(320)][t(285)]()[t(290)]<this.owner.roadLabelLimiteAngle}[Ml(278)](t){const e=Ml,r=this[e(292)][e(320)];if(this[e(306)]())return;const i=this[e(314)](t);if(!i||i[e(309)]<1)return;Gt[e(308)](this.gl)[e(313)](this[e(292)][e(294)])[e(277)]();const n=mh[e(297)](r[e(285)]()[e(315)]()[e(283)]("X")),s=mh[e(297)](r[e(285)]()[e(315)]()[e(283)]("Y")),o=mh[e(297)](r[e(285)]()[e(315)]().getOrdinate("Z")),a=r.getViewport(),h={u_opacity:this[e(286)],u_pMatrix:r.getProjMatrix()[e(301)](),u_vMatrix:r[e(311)]()[e(301)](),u_viewport:[a[2],a[3]],u_fogColor:r[e(280)](),u_fogDist:r[e(304)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_mapRotate:r[e(279)][e(281)]()%360,u_pattern0:0};this[e(288)][e(318)](),this.program[e(287)](h),this.program.draw(i)}}const Rl=["bufferText","set","_textSymbols","1qidYiD","texture","toUint8Array","getWidth","_precisionCorrect","19785FbrOoA","97133aaJwDK","text","9788MgxZSD","extent","getOpacity","ceil","push","a_size","_initRenderData","display","getStyle","length","10494RdKrnR","getGeometry","fontSize","drawCount","a_position","owner","4007WhWKTM","getTextSymbols","372208metcZy","215079tmaSoC","getText","_handleFeature","mode","_owner","showText","a_offset","_markerSymbols","_appendBlockData","_attributes","a_angle","12RfanFx","a_color","_dealBlockData","_backgroundColor","offset","1mTSKLN","_style","buffer","a_texAttr","features","getOrdinate","_fontSize","get","2EKwyQa","getSize","textAtlas","58vIyLpS","substring","textInfo"],Ll=Fl;function Fl(t,e){return Rl[t-=151]}!function(t,e){const r=Fl;for(;;)try{if(388713===-parseInt(r(160))*parseInt(r(187))+-parseInt(r(176))*-parseInt(r(206))-parseInt(r(190))+parseInt(r(165))*parseInt(r(208))+-parseInt(r(200))*-parseInt(r(182))+parseInt(r(188))*-parseInt(r(173))+parseInt(r(209)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Rl);class Dl extends bh{constructor(t,e={}){super(t,e)}handleBlock(t){const e=Fl,r=t.features;for(let i=r.length-1;i>=0;i--){const n=r[i];n[e(179)]||!this[e(151)](n)&&t[e(169)].splice(i,1)}this[e(162)](t)}[Ll(162)](t){const e=Ll;this[e(196)](t);const r=t[e(169)];for(let i=r[e(199)]-1;i>=0;i--)r[i][e(154)]?(this[e(186)](r[i].bufferText),r[i][e(179)]&&this[e(157)](t,r[i][e(179)])):r[i].showText=!0;this[e(153)].bufferToGPU(t)}_handleFeature(t){const e=Ll,r=this.dataMap;t.bufferText=r;const i=t[e(201)]().getCoordinate(),n=[i[e(170)]("X"),i[e(170)]("Y"),i[e(170)]("Z")];let s;if(t[e(158)][e(189)]?s=t[e(158)][e(189)]:(s=t[e(166)][e(207)]()[0][e(210)](),s=0!==s.indexOf("{")?s:t[e(158)][s[e(177)](1,s[e(199)]-1)]),!s)return!1;const o=s[e(199)],a=t[e(198)](),h=a[e(156)][0],l=a[e(181)][0];if(!l)return!1;if(!l[e(197)])return!1;let c=0;h&&(c=h[e(174)]()[e(185)]()/2);const u=l._fontColor.toUint8Array(),p=this[e(205)][e(205)][e(178)],f=l[e(171)]/p[e(202)],g=l._fontSize/16,d=t[e(158)][e(191)],_=[...d];d[0]=d[0]*g,d[1]=d[1]*g-c-2,d[2]=d[2]*g,d[3]=d[3]*g+c,t[e(158)][e(191)]=d;const y=this[e(205)][e(175)][e(183)];if(0!==l[e(163)][e(192)]()){const t=y[""],i=t.x+p[e(202)]/2,s=t.y+p[e(202)]/2,o=1,a=_[2]-_[0],h=_[3]-_[1],u=h/a;r[e(172)](e(204))[e(194)](...n),r[e(172)](e(155))[e(194)](1,-(2+c+h*g/2)),r[e(172)](e(195))[e(194)](a*g,h*g),r.get(e(159))[e(194)](0),r[e(172)](e(168))[e(194)](i/p.w,s/p.h,o/p.w,o*u/p.h),r[e(172)]("a_color").push(...l[e(163)][e(184)]())}for(let i=0;i<o;i++){r[e(172)]("a_position").push(...n);const o=t[e(158)][e(164)][i];let a;a=void 0===y||void 0===s[i]||void 0===y[s[i]]||null==y||null==s[i]||null==y[s[i]]?y[""]:y[s[i]],r[e(172)](e(155))[e(194)](Math.ceil(o[0]*g),Math[e(193)](-o[1]*g-(c+2))),r[e(172)](e(195))[e(194)](p[e(202)]*f,p[e(202)]*f),r[e(172)](e(159)).push(0),r.get(e(168)).push((a.x+p[e(167)])/p.w,(a.y+p[e(167)])/p.h,a.w/p.w,p[e(202)]/p.h),r.get(e(161))[e(194)](...u)}return r[e(180)](e(152),[this._owner.gl.POINTS]),r.set(e(203),[r[e(172)](e(204))[e(199)]/3]),!0}}const Ol=["17508MDkxZf","drawType","getViewport","15482AZFdES","getCamera","1PwIGkn","60322rSvpKL","73327fhPfeE","blockSize","glHelper","setUniforms","47161viXwdi","getTextureObject","getViewMatrix","getElements","textAtlas","getCoordinate","1FgJFRi","draw","textTexture","divide","155902oADKXJ","_splitScreen","179362LOZDFl","_parserOpt","bindTexture","program","getFogDist","11wiqMxy","_parser","getOrdinate","active","_gl","_filterBlocks","drawElements","2XIZAUg","blockHelperType","owner"],Nl=Bl;function Bl(t,e){return Ol[t-=478]}!function(t,e){const r=Bl;for(;;)try{if(116792===-parseInt(r(515))*parseInt(r(506))+-parseInt(r(488))*-parseInt(r(478))+parseInt(r(514))*parseInt(r(494))+parseInt(r(509))+-parseInt(r(492))+-parseInt(r(499))*-parseInt(r(512))+-parseInt(r(482)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ol);class Ul extends gh{constructor(t,e,r={}){const i=Bl,n=r[i(479)]||2e3,s=r[i(510)]||i(505),o=r[i(507)]||"";super(t,r.painterType?r.painterType:"symbol",e,n,s,o),this[i(486)]=r[i(486)],this[i(500)]=new Dl(this,this[i(495)]),this[i(480)]=Gt.get(this[i(503)])}[Nl(489)](t){const e=Nl,r=this[e(508)]._map,i=this[e(504)](t);if(!i||i.length<1)return;const n=mh[e(491)](r[e(513)]()[e(487)]().getOrdinate("X")),s=mh.divide(r[e(513)]().getCoordinate()[e(501)]("Y")),o=mh[e(491)](r.getCamera()[e(487)]()[e(501)]("Z")),a=r[e(511)](),h=r[e(493)],l=2===h?.5:1,c=3===h?.5:1,u={u_opacity:this._opacity,u_pMatrix:r.getProjMatrix()[e(485)](),u_vMatrix:r[e(484)]()[e(485)](),u_viewport:[a[2]*l,a[3]*c],u_fogColor:r.getFogColor(),u_fogDist:r[e(498)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_atlas:[1,1]};this[e(497)][e(502)](),this[e(497)][e(481)](u),Gt.get(this.gl)[e(483)](this[e(508)][e(490)])[e(496)](),this[e(497)].draw(i)}}const kl=["bufferText","set","a_size","_appendBlockData","_attributes","_markerSymbols","a_position","getText","_toMultiLines","textAtlas","handleBlock","a_offset","_fontSize","drawCount","_textSymbols","showText","_precisionCorrect","push","POINTS","1550881EmXvwI","1207544cvmidA","a_color","labelText","_dealBlockData","a_angle","texture","1MkktcM","1595evbWbx","textInfo","getOrdinate","dataMap","get","getStyle","toUint8Array","owner","3345203jAFFMi","collisionBox","buffer","1845346xNnMZj","getWidth","794486CROsxc","445wrbdMG","_owner","a_texAttr","features","_getWordsXOffset","length","_fontColor","getSize","_initRenderData","bufferToGPU","745942uaCsNR","getGeometry","getCoordinate"],Vl=Gl;function Gl(t,e){return kl[t-=355]}!function(t,e){const r=Gl;for(;;)try{if(991635===parseInt(r(374))+-parseInt(r(408))+parseInt(r(385))+-parseInt(r(372))+-parseInt(r(407))+parseInt(r(375))*parseInt(r(361))+-parseInt(r(360))*-parseInt(r(369)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(kl);class zl extends bh{constructor(t,e={}){super(t,e)}[Vl(398)](t){const e=Vl,r=t[e(378)];for(let i=r[e(380)]-1;i>=0;i--){const e=r[i];e.bufferText||!this._handleFeature(e)&&t.features.splice(i,1)}this._dealBlockData(t)}[Vl(357)](t){const e=Vl;this[e(383)](t);const r=t[e(378)];for(let i=r[e(380)]-1;i>=0;i--)r[i].bufferText&&r[i][e(403)]?(this[e(404)](r[i][e(388)]),this[e(391)](t,r[i][e(388)])):r[i][e(403)]=!0;this._owner[e(384)](t)}_handleFeature(t){const e=Vl,r=t[e(366)](),i=r[e(393)][0],n=r[e(402)][0];if(!n)return!1;if(!n.display)return!1;const s=this[e(364)];t[e(388)]=s;const o=t[e(386)]()[e(387)](),a=[o[e(363)]("X"),o.getOrdinate("Y"),o[e(363)]("Z")];let h=n[e(395)]();if(h=0!==h.indexOf("{")?h:t[e(392)][h.substring(1,h.length-1)],!h)return!1;t[e(356)]+=h;const l=n[e(396)](h),c=n[e(400)];let u=0;i&&(u=-i[e(382)]()[e(373)]()/2),u-=c/2;const p=n[e(381)][e(367)](),f=this[e(368)][e(368)][e(362)],g=c/f.fontSize;let d=0,_=l[e(380)],y=_*c;for(let t=0;t<_;t++){const r=l[t],i=r.length;let{offsets:n,w:o}=this._getWordsXOffset(r);o>d&&(d=o);for(let t=0;t<i;t++){s[e(365)](e(394))[e(405)](...a);const i=this[e(368)][e(397)][e(359)][r[t]];s[e(365)](e(399)).push(n[t]*g,u*g),s[e(365)](e(390))[e(405)](c,c),s.get(e(358))[e(405)](0),s[e(365)](e(377))[e(405)]((i.x+f[e(371)])/f.w,(i.y+f.buffer)/f.h,i.w/f.w,f.fontSize/f.h),s[e(365)](e(355)).push(...p)}u-=c}return s[e(389)]("mode",[this[e(376)].gl[e(406)]]),s[e(389)](e(401),[s.get(e(394))[e(380)]/3]),t[e(370)]||(t.collisionBox=[]),t[e(370)][e(405)]({anchor:a,offset:[0,u/2],size:[d,y]}),!0}[Vl(379)](t){const e=Vl,r=this[e(368)][e(397)][e(359)],i=[],n=[];let s=0;for(let e=0;e<t.length;e++){const n=r[t[e]].w;i[e]=n,s+=n}let o=s/2,a=i[0]/2;n[0]=a-o;for(let t=1,r=i[e(380)];t<r;t++){const e=i[t]/2;n[t]=n[t-1]+a+e,a=e}return{offsets:n,w:s}}}const Hl=["_filterBlocks","getCoordinate","drawElements","_map","4121gdDENT","blockHelperType","length","getProjMatrix","_opacity","getCamera","1acRyaj","painterType","blockSize","getFogDist","getViewport","textAtlas","get","glHelper","1kJxvlu","_gl","_parserOpt","getTextureObject","_parser","getElements","program","5ijlFgF","400957mjLcfc","18929dNndzs","drawType","504298SewGUJ","active","getViewMatrix","getFogColor","1701868KgInWw","setUniforms","getOrdinate","197203SUUfZe","owner","draw","29RjiHst","24832wBuQPF"],jl=$l;!function(t,e){const r=$l;for(;;)try{if(399438===-parseInt(r(359))+parseInt(r(378))*-parseInt(r(358))+-parseInt(r(372))*parseInt(r(360))+-parseInt(r(343))*parseInt(r(373))+parseInt(r(351))*parseInt(r(369))-parseInt(r(362))+parseInt(r(366)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Hl);class Yl extends gh{constructor(t,e,r={}){const i=$l,n=r[i(345)]||2e3,s=r[i(361)]||i(376),o=r[i(379)]||"";super(t,r[i(344)]?r[i(344)]:"symbol",e,n,s,o),this[i(348)]=r[i(348)],this[i(355)]=new zl(this,this[i(353)]),this[i(350)]=Gt.get(this[i(352)])}[jl(371)](t){const e=jl,r=this[e(370)][e(377)],i=this[e(374)](t);if(!i||i[e(339)]<1)return;const n=mh.divide(r[e(342)]()[e(375)]().getOrdinate("X")),s=mh.divide(r[e(342)]()[e(375)]().getOrdinate("Y")),o=mh.divide(r[e(342)]()[e(375)]()[e(368)]("Z")),a=r[e(347)](),h={u_opacity:this[e(341)],u_pMatrix:r[e(340)]().getElements(),u_vMatrix:r[e(364)]()[e(356)](),u_viewport:[a[2],a[3]],u_fogColor:r[e(365)](),u_fogDist:r[e(346)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_atlas:[1,1]};this[e(357)][e(363)](),this.program[e(367)](h),Gt[e(349)](this.gl)[e(354)](this.owner.textTexture).bindTexture(),this.program[e(371)](i)}}function $l(t,e){return Hl[t-=339]}const Xl=["151828ikgIzm","104435xGKBMy","609GyzFBE","3kBnvdU","293WPDWoF","endCoord","412135XNTxPb","340764XcDysJ","startCoord","getCoordByDist","setStartCoord","sin","getEndCoord","getLength","pow","getStartCoord","19656CcHGqr","atan","1229329EqfXLE","getOrdinate","setEndCoord","2YLbOxm","rotateAngle","sqrt"],Wl=Zl;function Zl(t,e){return Xl[t-=181]}!function(t,e){const r=Zl;for(;;)try{if(206452===parseInt(r(197))+-parseInt(r(195))*-parseInt(r(193))+parseInt(r(198))+parseInt(r(183))*parseInt(r(188))+-parseInt(r(192))*-parseInt(r(194))+parseInt(r(191))+-parseInt(r(185)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Xl);class ql extends t.Geometry{constructor(t,e){const r=Zl;super(),this[r(199)]=t,this[r(196)]=e}[Wl(200)](e){const r=Wl,i=this.getEndCoord()[r(186)]("X")-this[r(182)]()[r(186)]("X"),n=this[r(203)]()[r(186)]("Y")-this[r(182)]().getOrdinate("Y");if(Math.sqrt(Math[r(181)](i,2))==e)return this[r(203)]();if(0==e)return this[r(182)]();{const s=Math[r(184)](n/i);let o=Math.cos(s)*e+this[r(182)]()[r(186)]("X"),a=Math[r(202)](s)*e+this[r(182)]().getOrdinate("Y");return new t.Coordinate(o,a)}}[Wl(204)](){const t=Wl,e=this[t(203)]()[t(186)]("X")-this[t(182)]().getOrdinate("X"),r=this[t(203)]().getOrdinate("Y")-this.getEndCoord()[t(186)]("Y"),i=Math[t(181)](e,2),n=Math[t(181)](r,2);return Math[t(190)](i+n)}getAngle(e){const r=Wl,i=this[r(182)]()[r(186)]("X"),n=this[r(182)]()[r(186)]("Y"),s=this.getEndCoord()[r(186)]("X")-i,o=this[r(203)]()[r(186)]("Y")-n,a=new t.Vector3(s,o,0),h=e[r(182)]()[r(186)]("X"),l=e[r(182)]()[r(186)]("Y"),c=e[r(203)]()[r(186)]("X"),u=e[r(203)]()[r(186)]("Y"),p=new t.Vector3(c-h,u-l,0);return a.angle(p)}[Wl(189)](e){const r=Wl,i=this[r(182)]().getOrdinate("X"),n=this[r(182)]()[r(186)]("Y"),s=this[r(203)]()[r(186)]("X")-i,o=this.getEndCoord()[r(186)]("Y")-n,a=new t.Vector3(s,o,0),h=e[r(182)]()[r(186)]("X"),l=e[r(182)]()[r(186)]("Y"),c=e[r(203)]()[r(186)]("X"),u=e[r(203)]()[r(186)]("Y"),p=new t.Vector3(c-h,u-l,0);return a[r(189)](p)}checkCollinear(t){const e=Wl,r=this[e(182)](),i=this[e(203)](),n=i.getOrdinate("X")-r.getOrdinate("X"),s=i[e(186)]("Y")-r.getOrdinate("Y"),o=t[e(186)]("X")-i.getOrdinate("X");let a=n*(t[e(186)]("Y")-i[e(186)]("Y"))-s*o;return a=a>0?1:a<0?-1:0,a}[Wl(182)](){return this.startCoord}getEndCoord(){return this[Wl(196)]}[Wl(201)](t){this.startCoord=t}[Wl(187)](t){this[Wl(196)]=t}}var Jl=["1073416SCNwIt","17718ZZBzlM","609424XNqaiC","431829TzJBpd","1EFXQky","449983SwIGtx","1QgHqtj","424651kZTFML","295248varZDc"];function Kl(t,e){return Jl[t-=452]}!function(t,e){for(var r=Kl;;)try{if(334153===parseInt(r(456))*-parseInt(r(459))+parseInt(r(460))+parseInt(r(453))+-parseInt(r(454))+parseInt(r(455))+-parseInt(r(457))*parseInt(r(458))+parseInt(r(452)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Jl);var Ql=Object.freeze({__proto__:null,GeometryType:t.GeometryType,GeometryExtType:t.GeometryExtType,Geometry:t.Geometry,Point:t.Point,MultiPoint:t.MultiPoint,Segment:ql,LinearRing:t.LinearRing,Line:t.Line,MultiLine:t.MultiLine,Polygon:t.Polygon,MultiPolygon:t.MultiPolygon,Triangle:t.Triangle,Rectangle:t.Rectangle,Circle:t.Circle$1,Collection:t.Collection});const tc=["1898jQGRzz","_painterType","height","_createVerticalSurface","getCoordSeq","scale","selected","intersectRay","_createPolylineStretch","random","map","_bbox","texture","push","9801ltynXa","780qQRncO","STRETCH","getStyle","onHover","rayIntersectTriangle","degrees","index","76sPwZaE","_createPlaneSurface","updatePainterType","type","STRETCH_TEXTURE","rotate","vector","_selected","_showBorder","slice","_createPolygonStretch","length","forEach","get","mouseOverHandler","getOrdinate","42iSLHmk","_height","setHighlight","_id","_mapUnit","20645LMPbGS","lineRingArr","getHighlight","getAttributes","distanceToCamera","_visible","_needToReverse","clickHandler","setVisibility","769TIVfZX","POSITIVE_INFINITY","clone","_unit","1661951UjoxqG","getCenter","91009ODsoVm","setAttributes","_createVertices","surfaceModel","getCoordSeqs","getExtent","set","1949QkDnDN","885101jjYrZz","offClick","assign","position","getId","encloseRing","getGeometry","mouseOutHandler","1EafVir","16QxjAuu","getPainterType","extractCoords"],ec=rc;function rc(t,e){return tc[t-=190]}!function(t,e){const r=rc;for(;;)try{if(914331===-parseInt(r(242))*parseInt(r(250))+-parseInt(r(241))*parseInt(r(228))+-parseInt(r(254))*-parseInt(r(191))+parseInt(r(219))*parseInt(r(214))+parseInt(r(232))+-parseInt(r(234))*parseInt(r(251))+-parseInt(r(198))*-parseInt(r(190)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(tc);class ic extends t.Model{constructor(e,r=!1,i=ec(196),n={}){const s=ec;super(),this[s(206)]=r,this.vector=e;let o=e[s(222)](),a=Object[s(244)](o,n);this[s(204)][s(235)](a);let h=o[s(256)]||10+590*Math[s(263)]();t.initState[s(231)]===s(196)&&(h/=111e3),this[s(215)]=h,this[s(201)]="Stretch",this[s(265)]=null,this[s(218)]=i,this._painterType=n[s(237)]===s(266)&&n.surfaceStyle?t.painterType[s(202)]:t.painterType[s(192)],this[s(224)]=e[s(224)],this[s(205)]=n[s(260)]?n[s(260)]:e[s(205)]}get id(){const t=ec;return this[t(204)][t(217)]}onClick(t){this[ec(226)]=t}[ec(243)](){this.clickHandler=null}[ec(194)](t,e){const r=ec;this[r(212)]=t,this[r(249)]=e}offHover(){const t=ec;this[t(212)]=null,this[t(249)]=null}[ec(252)](){return this[ec(255)]}[ec(200)](){return this[ec(255)]}getVisibility(){return this[ec(224)]}[ec(227)](t){const e=ec;this[e(224)]=t,this[e(204)].setVisibility(t)}[ec(216)](t){return this._selected=t,this}[ec(221)](){return this._selected}[ec(246)](){return this[ec(217)]}getBBox(){return this._bbox}getGeometry(){return this[ec(204)].getGeometry()}[ec(222)](){const t=ec;return this.vector[t(222)]()}[ec(193)](){const t=ec;return this[t(204)][t(193)]()}[ec(230)](){const t=ec,e=this.vector[t(230)]();return new ic(e,this[t(206)])}[ec(261)](e,r,i){const n=ec;if(this._bbox.intersectRay(e)){let r=Number[n(229)],i=null;const s=this[n(236)](),o=s[n(211)](n(245)),a=s[n(211)](n(197));let h=new t.Vector3,l=new t.Vector3,c=new t.Vector3;for(let s=0,u=a.length-2;s<u;s+=3){let u=3*a[s];h.set(o[u],o[u+1],o[u+2]),u=3*a[s+1],l[n(240)](o[u],o[u+1],o[u+2]),u=3*a[s+2],c[n(240)](o[u],o[u+1],o[u+2]);let p=[h,l,c],f=t.Intersect3D[n(195)](e,p);if(f){let t=e[n(223)](f);t<r&&(i=f,r=t)}}return i?{intersectCoordinate:i,distance:r}:null}return null}_createVertices(){const e=ec;let r=new Map;r.set(e(245),[]),r[e(240)]("index",[]);const i=this[e(248)](),n=this[e(215)];if(i instanceof t.Polygon)this[e(208)](i.getCoordSeqs()[0],n,r);else if(i instanceof t.MultiPolygon){i[e(238)]()[0][e(210)]((t=>this[e(208)](t,n,r)))}else if(i instanceof t.Line)this[e(262)](i[e(258)](),n,r);else if(i instanceof t.MultiLine){i[e(238)]()[e(210)]((t=>this[e(262)](t,n,r)))}return r}[ec(208)](e,r,i){const n=ec;e[n(247)](),t.Topology[n(225)](e)&&(e=e.reverse());let s=e[n(253)](),o=s[n(264)]((e=>{const i=n;let s=e.getOrdinate("X"),o=e[i(213)]("Y"),a=e[i(213)]("Z")+r;return new t.Coordinate(s,o,a)})),a=new t.CoordSeq(o);this._createPlaneSurface([a],i[n(211)](n(245)),i.get(n(197))),this[n(199)]([e],i[n(211)]("position"),i[n(211)](n(197)),!0),this[n(257)](o,s,i.get("position"),i.get(n(197)))}[ec(199)](e,r,i,n=!1){const s=ec;let o=r.length/3,a=t.EarCut.triangulatePolygon(e);if(n){let t=[],e=a[s(209)]/3;t.push(...a[s(207)](3*(e-1)));for(let r=e-2;r>-1;r--)t[s(267)](...a.slice(3*r,3*(r+1)));a=t}for(let t=0,e=a.length/3;t<e;t++)r[s(267)](a[3*t]),r[s(267)](a[3*t+1]),r[s(267)](a[3*t+2]),i[s(267)](o+t)}rotate(t,e,r){const i=ec;for(let n=0;n<this[i(220)][i(209)];n++)this.lineRingArr[n][i(203)](t,e,r);return this}[ec(259)](t,e,r,i){const n=ec;!i&&(i=this[n(239)]()[n(233)]());for(let s=0;s<this.lineRingArr[n(209)];s++)this[n(220)][s].scale(t,e,r,i);return this}[ec(257)](t,e,r,i){const n=ec;for(let s=1,o=t[n(209)];s<o;s++){let o=r[n(209)]/3,a=t[s-1],h=e[s-1],l=t[s],c=e[s],[u,p,f]=[a[n(213)]("X"),a.getOrdinate("Y"),a[n(213)]("Z")],[g,d,_]=[h[n(213)]("X"),h[n(213)]("Y"),h[n(213)]("Z")],[y,m,I]=[l.getOrdinate("X"),l[n(213)]("Y"),l[n(213)]("Z")],[x,v,b]=[c[n(213)]("X"),c.getOrdinate("Y"),c[n(213)]("Z")];r[n(267)](u,p,f,g,d,_,y,m,I,x,v,b),i.push(o,o+1,o+3,o,o+3,o+2)}}_createPolylineStretch(t,e){return null}}const nc=["stencilOpSeparate","DECR_WRAP","3682IepVmk","DEPTH_TEST","getFogDist","getCamera","151784YSrCxZ","316314LBNduq","stencilFunc","_blocks","features","length","getSunlight","getFPlaneDistance","owner","blockSize","update","10UyOacG","container","getFogColor","depthMask","_gl","enable","get","program","getViewMatrix","KEEP","colorMask","clearStencil","480WhEgCV","getElements","getCoordinate","STENCIL_BUFFER_BIT","addTask","drawElements","bid","2929477CpqSQx","1173100pylwHX","675996LRbNzX","event","delete","_stretch","dispatch","stencilMask","depthFunc","drawType","_map","clientWidth","log","BACK","getOrdinate","getProjMatrix","LESS","_filterBlocks","LN2","INCR_WRAP","clear","_parserOpt","CULL_FACE","removeBlock","divide","FRONT","disable","_remove","active","getNormalColorArr","blockHelper","GEQUAL","draw","486640LQkhxn"],sc=oc;function oc(t,e){return nc[t-=156]}!function(t,e){const r=oc;for(;;)try{if(944335===parseInt(r(194))+-parseInt(r(163))*parseInt(r(174))+-parseInt(r(195))+parseInt(r(156))+parseInt(r(164))+parseInt(r(159))*-parseInt(r(186))+parseInt(r(193)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(nc);class ac extends gh{constructor(t,e,r={}){const i=oc;super(t,"fill",e,r[i(172)]||100,r[i(202)]||i(191),r.blockHelperType||""),this._parser=new uc(this,this[i(214)])}draw(t){const e=oc,r=this[e(171)][e(203)],i=this[e(210)](t);if(0===i[e(168)])return;const n=mh[e(217)](r[e(162)]()[e(188)]().getOrdinate("X")),s=mh.divide(r[e(162)]().getCoordinate()[e(207)]("Y")),o=mh[e(217)](r.getCamera()[e(188)]()[e(207)]("Z")),a=2/(Math[e(205)](r[e(162)]()[e(170)]()+1)/Math[e(211)]),h=r[e(169)]();this.program[e(221)]().setUniforms({u_opacity:this.opacity,u_pMatrix:r[e(208)]()[e(187)](),u_vMatrix:r[e(182)]().getElements(),u_viewport:[1*r[e(175)][e(204)],1*r[e(175)].clientHeight],u_fogColor:r[e(176)](),u_fogDist:r[e(161)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:a,u_highlightColor:r.getHighlightColor(),u_lightDirection:h.getDirection(),u_lightColor:h[e(222)](),u_intensity:h.getIntensity(),u_heightScale:1});const l=this[e(178)];l[e(184)](!1,!1,!1,!1),l[e(179)](l[e(160)]),l[e(177)](!1),l[e(201)](l[e(209)]),l[e(219)](l[e(215)]),l[e(179)](l.STENCIL_TEST),l[e(200)](1),l[e(185)](0),l[e(213)](l[e(189)]),l.stencilFunc(l.ALWAYS,0,1),l[e(157)](l[e(218)],l[e(183)],l[e(158)],l.KEEP),l[e(157)](l[e(206)],l[e(183)],l[e(212)],l[e(183)]),this[e(181)][e(225)](i),l.colorMask(!0,!0,!0,!0),l.depthFunc(l[e(224)]),l[e(165)](l.NOTEQUAL,0,1),l.stencilMask(0),this.program[e(225)](i),l[e(179)](l[e(215)]),l[e(219)](l.STENCIL_TEST),l[e(177)](!0),l[e(201)](l.LESS)}_add(t){const e=oc;let r=new ic(t);t._stretch=r;const i=this[e(223)][e(180)](r);return i.add(r),this[e(190)](i),this[e(171)][e(203)].af[e(221)](),this}[sc(220)](t){const e=sc,r=t[e(198)];if(!r[e(192)])return null;delete t[e(198)];const i=this[e(166)].get(r[e(192)]);return i[e(197)](r),i[e(167)][e(168)]>0?this.addTask(i):this[e(216)](i),this.owner[e(203)].af[e(221)](),t}update(t){const e=sc,r=t[e(198)];if(!r[e(192)])return null;const i=this._blocks[e(180)](r[e(192)]);return i[e(173)](r),this[e(190)](i),this.owner[e(203)][e(196)][e(199)](new ch(p.LAYEREVENT_DATACHANGE)),t}}const hc=["divideScalar","a_highlight","cross","get","drawElements","POLYGON_ON_SURFACE","fill","_mapUnit","getBBox","buffer","surfaceColor","_map","a_stretchHeight","value","_height","getStyle","_createPolylineStretch","a_normal","176737pNlyPz","push","forEach","vector","568164toVwoy","getUnit","_selected","gradient","surfaceModel","_handleFeature","getFillSymbols","_owner","single","index","4bcTiNn","degrees","the geometry must be instance of Polyline, Polygon, MultiLine or MultiPolygon","1138675OyjGWZ","slice","_createVerticalSurface","clone","triangulatePolygon","5yJubWh","dataMap","a_position","getElements","getType","toUint8Array","_calculateBBox","1MmeqYn","topColorGradient","446222dsepFS","height","1448818oxFfwm","set","getAttributes","_createPlaneSurface","baseColorGradient","owner","a_color","sqrt","drawCount","_createNormal","_createPolygonStretch","reverse","deepen","setMaxZ","TRIANGLES","mode","handleBlock","712817UcRrzP","2aHzhwR","a_stretchSide","getOrdinate","_bbox","length","_needToReverse","getGeometry","getCoordSeqs","indexOf","250248ItANZw"],lc=cc;function cc(t,e){return hc[t-=454]}!function(t,e){const r=cc;for(;;)try{if(725527===parseInt(r(518))*-parseInt(r(496))+parseInt(r(467))*parseInt(r(525))+parseInt(r(529))+-parseInt(r(477))*parseInt(r(510))+parseInt(r(513))+parseInt(r(468))*-parseInt(r(500))+parseInt(r(527)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(hc);class uc extends bh{constructor(t,e={}){const r=cc;e.drawType=r(482),super(t,e),this[r(485)]=this.owner.owner[r(489)]&&this[r(455)].owner[r(489)].getCrs()[r(501)]()||"degrees"}[lc(466)](t){const e=lc,r=t.features;for(let t=r[e(472)]-1;t>-1;t--){const e=r[t];e.buffer||this._handleFeature(e)}this._dealBlockData(t)}[lc(505)](e){const r=lc;e[r(487)]=this[r(519)];let i=e[r(474)]();const n=e[r(531)]();let s=e[r(492)];void 0===s&&(s=n[r(528)],this[r(485)]===r(511)&&(s/=111e3)),this[r(524)](e,i,s);const o=(e instanceof ic?e[r(499)]:e)[r(493)](),a=o?o[r(506)]()[0]:void 0,h=n[r(488)]||a&&a instanceof t.ColorFill&&a.getColor()||new t.Color(0,211,211,.7),l=h[r(516)]()[r(462)](1.1),c=n.topBorderColor||new t.Color(211,211,211,1),u=n[r(504)]||r(508),p=u===r(508)?h:n[r(526)]||new t.Color(255,0,255,.5),f=u===r(508)?h:n[r(454)]||new t.Color(0,255,255,.5);if(Object.values(t.GeometryExtType.POLYGON)[r(476)](i[r(522)]())>-1&&(i=i.toPolygon()),i instanceof t.Polygon)this[r(460)](i[r(475)]()[0],s,h,c,l,e,u,p,f);else if(i instanceof t.MultiPolygon){i[r(475)]()[0][r(498)]((t=>this[r(460)](t,s,h,c,l,e,u,p,f)))}else if(i instanceof t.Line)this[r(494)](i.getCoordSeq(),s,h,c,l,e);else{if(!(i instanceof t.MultiLine))throw TypeError(r(512));i[r(475)]()[r(498)]((t=>this[r(494)](t,s,h,c,l,e)))}e[r(487)][r(530)](r(465),[this[r(507)].gl[r(464)]]),e[r(487)][r(530)](r(458),[e.buffer[r(481)]("index").length]);const g=e[r(502)]?1:0;e[r(487)][r(530)](r(479),[].concat.apply([],new Array(e.buffer[r(481)](r(520))[r(472)]/3)[r(484)](g))),this[r(455)]instanceof ac&&(e.vector.painterType=t.painterType[r(483)])}[lc(460)](e,r,i,n,s,o,a,h,l){const c=lc;e.encloseRing(),t.Topology[c(473)](e)&&(e=e[c(461)]());let u=e.extractCoords();switch(a){case c(508):this._createPlaneSurface([e],s,r,o[c(487)][c(481)](c(520)),o[c(487)].get(c(456)),o[c(487)].get(c(490)),o[c(487)].get(c(469)),o[c(487)][c(481)](c(509)),o[c(487)][c(481)](c(495))),this[c(532)]([e],i,r,o.buffer[c(481)](c(520)),o[c(487)][c(481)](c(456)),o[c(487)][c(481)](c(490)),o[c(487)].get("a_stretchSide"),o[c(487)][c(481)](c(509)),o[c(487)][c(481)](c(495)),!0),this[c(515)](u,i,i,r,o.buffer[c(481)](c(520)),o[c(487)][c(481)](c(456)),o[c(487)][c(481)](c(490)),o[c(487)][c(481)]("a_stretchSide"),o[c(487)][c(481)]("index"),o[c(487)].get(c(495)));break;case c(503):this._createPlaneSurface([e],h,r,o[c(487)][c(481)](c(520)),o.buffer[c(481)](c(456)),o[c(487)][c(481)](c(490)),o[c(487)][c(481)](c(469)),o[c(487)][c(481)](c(509)),o[c(487)][c(481)](c(495))),this[c(532)]([e],l,r,o.buffer.get(c(520)),o[c(487)][c(481)](c(456)),o.buffer[c(481)]("a_stretchHeight"),o.buffer[c(481)](c(469)),o[c(487)].get(c(509)),o.buffer[c(481)](c(495)),!0),this._createVerticalSurface(u,h,l,r,o[c(487)].get("a_position"),o[c(487)][c(481)](c(456)),o[c(487)].get(c(490)),o[c(487)][c(481)]("a_stretchSide"),o[c(487)][c(481)](c(509)),o[c(487)][c(481)](c(495)))}}[lc(532)](e,r,i,n,s,o,a,h,l=[],c=!1){const u=lc;let p,f=n[u(472)]/3,g=t.EarCut[u(517)](e);if(c){let t=[],e=g.length/3;t[u(497)](...g[u(514)](3*(e-1)));for(let r=e-2;r>-1;r--)t.push(...g[u(514)](3*r,3*(r+1)));g=t}p=c?[0,0,-1]:[0,0,1];for(let t=0,e=g[u(472)]/3;t<e;t++)n[u(497)](g[3*t]),n[u(497)](g[3*t+1]),n[u(497)](g[3*t+2]),s[u(497)](...r[u(523)]()),o[u(497)](i),a[u(497)](c?0:1),h[u(497)](f+t),l.push(...p)}[lc(515)](t,e,r,i,n,s,o,a,h,l=[]){const c=lc;for(let u=1,p=t[c(472)];u<p;u++){let p=n[c(472)]/3,f=t[u],g=t[u-1],[d,_,y]=[g[c(470)]("X"),g.getOrdinate("Y"),g[c(470)]("Z")],[m,I,x]=[g.getOrdinate("X"),g.getOrdinate("Y"),g.getOrdinate("Z")],[v,b,w]=[f.getOrdinate("X"),f[c(470)]("Y"),f[c(470)]("Z")],[T,E,C]=[f[c(470)]("X"),f[c(470)]("Y"),f[c(470)]("Z")];n.push(d,_,y,m,I,x,v,b,w,T,E,C);let A=e[c(523)](),M=r[c(523)]();o[c(497)](i,i,i,i),a[c(497)](1,0,1,0),s[c(497)](...A,...M,...A,...M);let S=this[c(459)]([d,_,y+i],[m,I,x],[T,E,C]);l[c(497)](...S[c(491)],...S[c(491)],...S[c(491)],...S[c(491)]),h[c(497)](p,p+1,p+3,p,p+3,p+2)}}[lc(524)](t,e,r){const i=lc;let n=e[i(486)]()[i(516)](),s=n.getMaxZ();s+=s+r,n[i(463)](s),t[i(471)]=n}[lc(459)](e,r,i){const n=lc;let s=new t.Vector3(e[0],e[1],e[2]),o=new t.Vector3(r[0],r[1],r[2]),a=new t.Vector3(i[0],i[1],i[2]);o.substract(s),a.substract(s),o[n(480)](a);let[h,l,c]=o[n(521)](),u=Math[n(457)](h*h+l*l+c*c);return 0==u?{isZero:!0,value:[0,0,0]}:(o[n(478)](u),{isZero:!1,value:o[n(521)]()})}}const pc=["active","getCamera","draw","length","1299210uHRtBY","stretchHeightScale","clientHeight","program","container","_layer","getProjMatrix","blockHelperType","_enableLight","getElements","getCoordinate","owner","362374BNggaK","getIntensity","getHighlightColor","clientWidth","1360535VgpuXk","_parserOpt","getViewMatrix","_map","normalMatrix","fill","LN2","465jEZLCT","getNormalColorArr","getFPlaneDistance","drawElements","getOrdinate","getSunlight","drawType","divide","1ucZgyN","log","getFogColor","530069FoqIAv","954727UDZpom","1341wCJdyS","blockSize","73oTBtTo"];function fc(t,e){return pc[t-=209]}!function(t,e){const r=fc;for(;;)try{if(777289===-parseInt(r(214))+-parseInt(r(245))*parseInt(r(217))-parseInt(r(213))+parseInt(r(238))+parseInt(r(222))+parseInt(r(210))*-parseInt(r(234))+-parseInt(r(215)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(pc);class gc extends gh{constructor(e,r,i={}){const n=fc,s=i[n(216)]||100,o=i[n(251)]||n(248),a=i[n(229)]||"";super(e,n(243),r,s,o,a),this[n(242)]=new t.Matrix4,this._parser=new uc(this,this[n(239)])}draw(t){const e=fc,r=this[e(233)][e(241)],i=this._filterBlocks(t);if(0===i[e(221)])return;const n=mh[e(209)](r[e(219)]()[e(232)]()[e(249)]("X")),s=mh[e(209)](r[e(219)]().getCoordinate()[e(249)]("Y")),o=mh.divide(r[e(219)]().getCoordinate()[e(249)]("Z")),a=2/(Math[e(211)](r[e(219)]()[e(247)]()+1)/Math[e(244)]),h=r[e(230)]&&this[e(227)]._enableLight,l=r[e(250)]();let c={u_opacity:this.opacity,u_pMatrix:r[e(228)]()[e(231)](),u_vMatrix:r[e(240)]().getElements(),u_viewport:[1*r[e(226)][e(237)],1*r[e(226)][e(224)]],u_fogColor:r[e(212)](),u_fogDist:r.getFogDist(),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:a,u_highlightColor:r[e(236)](),u_enableLight:h,u_lightDirection:l.getDirection(),u_lightColor:l[e(246)](),u_intensity:l[e(235)](),u_normalMatrix:this[e(242)][e(231)](),u_heightScale:this.owner[e(223)]};this.program[e(218)](),this.program.setUniforms(c),this[e(225)][e(220)](i)}}const dc=["extendExtent","degrees","_handleFeature","TRIANGLES","519591ncSKLp","drawType","getCoordSeqs","_selected","_createPlaneSurface","getExtent","getTextureObject","apply","_calculateBBox","getBottom","a_position","bufferImage","getFillSymbols","drawElements","set","then","_owner","getCrs","triangulatePolygon","a_textureCoord","substract","glHelper","height","length","getGeometry","a_stretchHeight","_createNormal","275884FWkzHd","1587167JWNaXg","_needToReverse","forEach","mode","_dealBlockData","420715MpiNHs","a_highlight","_createVerticalSurface","455963ClKWhN","clone","get","LAYEREVENT_DATACHANGE","_createPolygonStretch","divideScalar","getBBox","_mapUnit","index","unitWidth","value","dataMap","_texture","push","slice","unitHeight","_map","_bbox","getElements","_id","getLeft","textures","a_stretchSide","topStyle","fill","a_normal","_bindTexture","surfaceStyle","dispatch","buffer","handleBlock","event","175010xCcczr","getTexure","getAttributes","drawCount","getOrdinate","all","_appendDataIndex","owner","extractCoords","441750wcyoKF","sqrt"],_c=yc;function yc(t,e){return dc[t-=279]}!function(t,e){const r=yc;for(;;)try{if(489704===parseInt(r(356))+-parseInt(r(324))+parseInt(r(321))+-parseInt(r(288))+-parseInt(r(282))+-parseInt(r(315))+parseInt(r(316)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(dc);class mc extends bh{constructor(t,e={}){const r=yc;e[r(289)]=r(301),super(t,e),this[r(331)]=this[r(280)].owner[r(340)]&&this[r(280)].owner[r(340)][r(305)]().getUnit()||"degrees",this[r(309)]=Gt[r(326)](this.owner.gl)}[_c(354)](t){const e=_c;!t[e(345)]&&(t[e(345)]=[]);const r=t.features,i=[];for(let n=r.length-1;n>-1;n--){const s=r[n];s[e(353)]||(s.buffer=this.dataMap,this[e(286)](s,t,i))}Promise[e(361)](i).then((()=>{const r=e;this[r(320)](t),this[r(280)][r(280)][r(340)][r(355)][r(352)](new ch(p[r(327)]))}))}[_c(286)](e,r,i){const n=_c;let s=e[n(358)]()[n(351)].getFillSymbols()[0];r.textures.push(s[n(343)]);let o=e[n(358)]()[n(347)][n(300)]()[0];r[n(345)].push(o[n(343)]);const a=e[n(312)]();let h=e[n(358)]()[n(310)];if(this[n(331)]===n(285)&&(h/=111e3),this[n(296)](e,a,h),a instanceof t.Polygon)this[n(328)](a.getCoordSeqs()[0],h,e,o,s,i);else if(a instanceof t.MultiPolygon){a[n(290)]()[0][n(318)]((t=>this[n(328)](t,h,e,o,s,i)))}}[_c(328)](e,r,i,n,s,o){const a=_c;e.encloseRing(),t.Topology[a(317)](e)&&(e=e.reverse());let h=e[a(281)]();const l=i[a(353)];this[a(292)]([e],r,l,n,o,!0),this[a(292)]([e],r,l,n,o,!1),this._createVerticalSurface(h,r,l,s,o);const c=i[a(291)]?1:0;l.set(a(322),[].concat[a(295)]([],new Array(l[a(326)](a(298)).length/3)[a(348)](c)))}[_c(292)](e,r,i,n,s,o=!1){const a=_c;let h=e[0][a(293)]();for(let t=1,r=e[a(311)];t<r;t++)h[a(284)](e[t][a(293)]());let l=h[a(344)](),c=h[a(297)](),u=n[a(333)]||h.getWidth(),p=n[a(339)]||h.getHeight(),f=i[a(326)]("a_position").length/3,g=t.EarCut[a(306)](e);if(o){let t=[],e=g[a(311)]/3;t[a(337)](...g[a(338)](3*(e-1)));for(let r=e-2;r>-1;r--)t[a(337)](...g.slice(3*r,3*(r+1)));g=t}let d=this[a(335)];d[a(302)]("a_position",g),d[a(302)]("index",[]),d.set("a_textureCoord",[]),d[a(302)](a(313),[]),d[a(302)](a(346),[]),d.set(a(349),[]),d[a(302)](a(359),[]),d[a(302)](a(319),[]);for(let t=0,e=g.length/3;t<e;t++)d.get(a(332))[a(337)](f+t),d[a(326)](a(307))[a(337)]((g[3*t]-l)/u,(p-g[3*t+1]+c)/p,-1),d[a(326)]("a_stretchHeight")[a(337)](r),d[a(326)](a(346))[a(337)](o?0:1),d.get("a_normal").push(0,0,1);this[a(279)](i,d),i[a(302)](a(359),[i[a(326)](a(332))[a(311)]]),i.set("mode",[this._owner.gl[a(287)]]),this[a(350)](n,s,5)}[_c(323)](t,e,r,i,n){const s=_c;let o=this.dataMap;o[s(302)]("index",[]),o[s(302)](s(307),[]),o[s(302)](s(359),[]),o[s(302)](s(319),[]);const a=i[s(333)],h=i[s(339)];for(let i=1,n=t.length;i<n;i++){let n=r[s(326)](s(298))[s(311)]/3,o=t[i-1],l=t[i],[c,u,p]=[o[s(360)]("X"),o[s(360)]("Y"),o.getOrdinate("Z")],[f,g,d]=[o[s(360)]("X"),o[s(360)]("Y"),o[s(360)]("Z")],[_,y,m]=[l[s(360)]("X"),l[s(360)]("Y"),l.getOrdinate("Z")],[I,x,v]=[l.getOrdinate("X"),l.getOrdinate("Y"),l.getOrdinate("Z")],b=Math[s(283)]((I-f)*(I-f)+(x-g)*(x-g));r[s(326)]("a_position")[s(337)](c,u,p,f,g,d,_,y,m,I,x,v),r.get(s(313))[s(337)](e,e,e,e),r.get("a_stretchSide")[s(337)](1,0,1,0),r.get(s(307))[s(337)](0,0,1,0,e/h,1,b/a,0,1,b/a,e/h,1);let w=this[s(314)]([c,u,p+e],[f,g,d],[I,x,v]);r[s(326)](s(349))[s(337)](...w[s(334)],...w[s(334)],...w[s(334)],...w[s(334)]),r[s(326)](s(332)).push(n,n+1,n+3,n,n+3,n+2)}const l=r[s(326)](s(298))[s(311)]/3;this[s(279)](r,o,l),r[s(302)](s(359),[r[s(326)](s(332))[s(311)]]),r[s(302)](s(319),[this[s(304)].gl.TRIANGLES]),this[s(350)](i,n,4)}_bindTexture(t,e,r){const i=_c,n=t[i(343)],s=t[i(357)]();s?this[i(309)][i(294)](n,r,t)[i(299)](s):e[i(337)](t.promise[i(303)]((e=>{const s=i;this.glHelper.getTextureObject(n,r,t)[s(299)](e[s(336)])})))}[_c(296)](t,e,r){const i=_c;let n=e[i(330)]()[i(325)](),s=n.getMaxZ();s+=s+r,n.setMaxZ(s),t[i(341)]=n}[_c(314)](e,r,i){const n=_c;let s=new t.Vector3(e[0],e[1],e[2]),o=new t.Vector3(r[0],r[1],r[2]),a=new t.Vector3(i[0],i[1],i[2]);o[n(308)](s),a[n(308)](s),o.cross(a);let[h,l,c]=o[n(342)](),u=Math[n(283)](h*h+l*l+c*c);return 0==u?{isZero:!0,value:[0,0,0]}:(o[n(329)](u),{isZero:!1,value:o[n(342)]()})}}const Ic=["normalMatrix","_map","divide","opacity","getFogColor","clientWidth","container","buffer","getHighlightColor","getFogDist","getTextureObject","29486iATotE","313AbqiAT","162656RMPKlC","get","log","glHelper","2JqHLiE","106537KeVofe","drawType","length","1108YRkwrh","getOrdinate","fill","getViewMatrix","getElements","211474gzqukw","owner","_parser","draw","clientHeight","_parserOpt","program","blockHelperType","blockSize","textures","_enableLight","12281hrdVzS","getCoordinate","active","getProjMatrix","LN2","stretchHeightScale","getNormalColorArr","getCamera","bindTexture","133865RtOUWY"],xc=vc;function vc(t,e){return Ic[t-=418]}!function(t,e){const r=vc;for(;;)try{if(111632===-parseInt(r(437))-parseInt(r(418))-parseInt(r(445))+parseInt(r(432))+parseInt(r(430))+parseInt(r(436))*parseInt(r(456))+-parseInt(r(431))*-parseInt(r(440)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ic);class bc extends gh{constructor(e,r,i={}){const n=vc,s=i[n(453)]||100,o=i[n(438)]||"drawElements",a=i[n(452)]||"";super(e,n(442),r,s,o,a),this[n(419)]=new t.Matrix4,this[n(447)]=new mc(this,this[n(450)]),this.glHelper=Gt[n(433)](this._gl)}[xc(448)](t){const e=xc,r=this[e(446)][e(420)],i=this._filterBlocks(t);if(0===i[e(439)])return;const n=mh[e(421)](r[e(463)]()[e(457)]()[e(441)]("X")),s=mh.divide(r[e(463)]()[e(457)]()[e(441)]("Y")),o=mh[e(421)](r[e(463)]()[e(457)]()[e(441)]("Z")),a=2/(Math[e(434)](r[e(463)]().getFPlaneDistance()+1)/Math[e(460)]),h=r[e(455)]&&this._layer._enableLight,l=r.getSunlight();let c={u_opacity:this[e(422)],u_pMatrix:r[e(459)]()[e(444)](),u_vMatrix:r[e(443)]().getElements(),u_viewport:[1*r.container[e(424)],1*r[e(425)][e(449)]],u_fogColor:r[e(423)](),u_fogDist:r[e(428)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:4,u_pattern1:5,u_logDepthFunc:a,u_highlightColor:r[e(427)](),u_enableLight:h,u_lightDirection:l.getDirection(),u_lightColor:l[e(462)](),u_intensity:l.getIntensity(),u_normalMatrix:this[e(419)].getElements(),u_heightScale:this[e(446)][e(461)]};this[e(451)][e(458)](),this.program.setUniforms(c);for(let t=0,r=i[e(439)];t<r;t++){const r=i[t];r[e(426)]&&(this[e(435)][e(429)](r[e(454)][0])[e(464)](4),this[e(435)].getTextureObject(r[e(454)][1])[e(464)](5),this.program.drawSingle(r))}}}const wc=["push","_needToReverse","length","_selected","get","620805slWxEt","getUnit","apply","map","TRIANGLES","dataMap","get3Dist","getCoordSeqs","getSrid","extractCoords","degrees","a_stretchWindowUV","_createVerticalSurface","handleBlock","windowColor","set","getMaxZ","_dealBlockData","concat","_owner","116789KHFNWz","buffer","the geometry must be instance of Polyline, Polygon, MultiLine or MultiPolygon","fill","drawCount","toArray","_height","drawElements","getColor","vector","_createPlaneSurface","107783VtHWcj","clone","a_position","getBBox","deepen","reverse","_mapUnit","a_highlight","forEach","_srid","getOrdinate","_createPolygonStretch","index","37914QbtmmF","encloseRing","_bbox","getCrs","mode","_calculateBBox","138470YBKFKu","92353jJdFng","275665OtlAqv","random","height","getGeometry","owner","getFillSymbols","setMaxZ","windowSize","_handleFeature"],Tc=Ec;function Ec(t,e){return wc[t-=365]}!function(t,e){const r=Ec;for(;;)try{if(389305===parseInt(r(392))+-parseInt(r(368))+parseInt(r(399))+-parseInt(r(379))+parseInt(r(398))+-parseInt(r(400))+parseInt(r(414)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wc);class Cc extends bh{constructor(t,e={}){const r=Ec;e.drawType=r(375),super(t,e);const i=this[r(404)][r(404)]._map;this[r(385)]=i&&i.getCrs()[r(415)]()||r(424),this._srid=i&&i[r(395)]()[r(422)]()}[Tc(427)](t){const e=Tc,r=t.features;for(let t=r[e(411)]-1;t>-1;t--){const i=r[t];i[e(369)]||this[e(408)](i)}this[e(365)](t)}[Tc(408)](e){const r=Tc,i=e[r(403)](),n=e.getAttributes(),s=this[r(419)];e.buffer=s;let o=e[r(374)];void 0===o&&(o=n[r(402)]||10+590*Math[r(401)](),this[r(385)]===r(424)&&(o/=111e3)),this[r(397)](e,i,o);const a=(e instanceof ic?e[r(377)]:e).getStyle(),h=a?a[r(405)]()[0]:void 0,l=n.surfaceColor||h&&h instanceof t.ColorFill&&h[r(376)]()||new t.Color(0,211,211,.7),c=l[r(380)]()[r(383)](1.1),u=n[r(428)]||new t.Color(10,10,10,1),p=n.lightWindowColor||new t.Color(83,170,205),f=n[r(407)]||[3,3];if(i instanceof t.Polygon)this[r(390)](s,i[r(421)]()[0],o,l,c,u,p,f);else{if(!(i instanceof t.MultiPolygon))throw TypeError(r(370));i.getCoordSeqs()[0][r(387)]((t=>this._createPolygonStretch(s,t,o,l,c,u,p,f)))}e[r(369)][r(429)](r(396),[this[r(367)].gl[r(418)]]),e.buffer.set(r(372),[e[r(369)].get(r(391))[r(411)]]);const g=e[r(412)]?1:0;e[r(369)][r(429)](r(386),[][r(366)][r(416)]([],new Array(e.buffer[r(413)](r(381))[r(411)]/3)[r(371)](g)))}_createPolygonStretch(e,r,i){const n=Tc;r[n(393)](),t.Topology[n(410)](r)&&(r=r[n(384)]());let s=r[n(423)](),o=s[n(417)]((e=>{const r=n;let s=e[r(389)]("X"),o=e[r(389)]("Y"),a=e.getOrdinate("Z")+i;return new t.Coordinate(s,o,a)})),a=new t.CoordSeq(o);const h=e[n(413)](n(381)),l=e[n(413)](n(425)),c=e[n(413)](n(391));this._createPlaneSurface(h,l,c,[a]),this[n(426)](h,l,c,o,s)}[Tc(378)](t,e,r,i){const n=Tc,{a_position:s,index:o,positionCount:a}=Rh(i);t[n(409)](...s),r[n(409)](...o),e[n(409)](...[][n(366)][n(416)]([],new Array(a[0]).fill([0,0,0,0])))}[Tc(426)](t,e,r,i,n){const s=Tc,o=n[0].get3Dist(i[0],this._srid);for(let a=1,h=i[s(411)];a<h;a++){const h=t.length/3,l=a-1,c=i[l],u=n[l],p=i[a],f=n[a],[g,d,_]=c[s(373)](),[y,m,I]=u[s(373)](),[x,v,b]=p[s(373)](),[w,T,E]=f.toArray(),C=u[s(420)](f,this[s(388)]);t.push(g,d,_,y,m,I,w,T,E,x,v,b),r[s(409)](h,h+1,h+2,h,h+2,h+3),e.push(0,o,C,o,0,0,C,o,C,0,C,o,C,o,C,o)}}[Tc(397)](t,e,r){const i=Tc;let n=e[i(382)]()[i(380)](),s=n[i(430)]();s+=s+r,n[i(406)](s),t[i(394)]=n}}const Ac=["brightRatio","getCoordinate","_parserOpt","opacity","117149KQXzNQ","roofColor","getFogDist","85RORjZe","drawType","log","getProjMatrix","getFogColor","fill","getViewMatrix","_layer","owner","toArray","normalMatrix","program","600269WBQFRa","6ksySBe","getFPlaneDistance","4471KYAVaa","19nGyOoT","brightRatios","container","84783SMhLnA","_enableLight","windowSize","setUniforms","toNormalizeArray","_filterBlocks","282015XzDTyb","getHighlightColor","blockHelperType","clientHeight","getDirection","getNormalColorArr","_map","24130NEjWTm","divide","blockSize","getCamera","drawElements","getElements","getSunlight","draw","brightWindowColor","109395vQlrEG"],Mc=Sc;function Sc(t,e){return Ac[t-=432]}!function(t,e){const r=Sc;for(;;)try{if(421517===-parseInt(r(479))+parseInt(r(445))+-parseInt(r(449))*-parseInt(r(465))+-parseInt(r(474))+parseInt(r(446))*-parseInt(r(452))+-parseInt(r(458))+parseInt(r(448))*parseInt(r(433)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ac);class Pc extends gh{constructor(e,r,i={}){const n=Sc,s=i[n(467)]||100,o=i[n(434)]||n(469),a=i[n(460)]||"";super(e,n(438),r,s,o,a),this[n(443)]=new t.Matrix4,this._parser=new Cc(this,this[n(477)])}[Mc(472)](t){const e=Mc,r=this[e(441)],i=r[e(464)],n=this[e(457)](t);if(0===n.length)return;const s=i[e(468)]()[e(476)](),[o,a,h]=s[e(442)](),l=mh[e(466)](o),c=mh[e(466)](a),u=mh[e(466)](h),p=2/(Math[e(435)](i[e(468)]()[e(447)]()+1)/Math.LN2),f=i[e(453)]&&this[e(440)][e(453)],g=i[e(471)](),d={u_opacity:this[e(478)],u_pMatrix:i[e(436)]()[e(470)](),u_vMatrix:i[e(439)]()[e(470)](),u_viewport:[1*i[e(451)].clientWidth,1*i[e(451)][e(461)]],u_fogColor:i[e(437)](),u_fogDist:i[e(432)](),u_eyeH:[l[0],c[0],u[0]],u_eyeL:[l[1],c[1],u[1]],u_pattern0:0,u_logDepthFunc:p,u_highlightColor:i[e(459)](),u_enableLight:f,u_lightDirection:g[e(462)](),u_lightColor:g[e(463)](),u_intensity:g.getIntensity(),u_color:r.wallColor[e(456)](),u_windowColor:r.windowColor[e(456)](),u_brightWindowColor:r[e(473)].toNormalizeArray(),u_windowSize:r[e(454)],u_brightRatio:r[e(450)][r[e(475)]],u_roofColor:r[e(480)].toNormalizeArray(),u_normalMatrix:this.normalMatrix[e(470)]()};this[e(444)].active(),this[e(444)][e(455)](d),this[e(444)][e(472)](n)}}const Rc=["getRenderData","a_bgColor","then","a_fontColor","a_texAttr","dispatch","17887HzkikS","getOrdinate","287bsKZPQ","push","a_haloColor","_addIcon","all","a_haloWidth","495161otMJEO","10447JULrcC","POINTS","size","handleBlock","1LpjBSC","buffer","angle","_dealOneFeature","event","bgColor","getTextSymbols","_dealExtra","106389ZaZibJ","_getIconAsyncData","get","_appendData","23cugbBE","mode","_handleMPointFeature","_dealBlockData","haloWidth","2deOgaa","drawCount","textNum","set","1ULRDrI","features","offset","getText","opacity","a_size","textureCoord","_getTextData","trim","a_opacity","a_highlight","concat","_handleFeature","a_angle","dataMap","error","haloColor","getAttributes","a_position","229qkJErm","catch","LAYEREVENT_DATACHANGE","indexOf","_map","a_offset","message","68310hnTzmF","_atlas","_assemeblyIconInfo","length","_addText","owner","fill","atlas","198433wKYDQc"],Lc=Fc;function Fc(t,e){return Rc[t-=485]}!function(t,e){const r=Fc;for(;;)try{if(141031===-parseInt(r(550))*-parseInt(r(516))+parseInt(r(559))*-parseInt(r(535))+-parseInt(r(512))*-parseInt(r(503))+-parseInt(r(507))*-parseInt(r(491))+parseInt(r(542))+-parseInt(r(557))+parseInt(r(490))*-parseInt(r(495)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Rc);class Dc extends bh{constructor(t,e={}){const r=Fc;super(t,e),this[r(543)]=e[r(549)]}[Lc(494)](e){const r=Lc,i=[],n=e[r(517)];for(let e=n[r(545)]-1;e>-1;e--){const s=n[e];if(s[r(496)])continue;const o=s._selected?1:0,a=s.getGeometry();if(s[r(496)]=this[r(530)],a instanceof t.Point){const t=this[r(528)](s,a,o);t&&i[r(485)](t)}else{const t=this[r(509)](s,a,o);t&&i[r(485)](t)}}i[r(545)]?Promise[r(488)](i)[r(553)]((()=>{const t=r;this[t(510)](e),this[t(547)].owner[t(539)][t(499)][t(556)](new ch(p[t(537)]))}))[r(536)]((t=>{const e=r;console[e(531)](t[e(541)])})):(this[r(510)](e),this[r(547)][r(547)][r(539)][r(499)][r(556)](new ch(p[r(537)])))}[Lc(528)](t,e,r){const i=Lc,n=e.getCoordinate(),s=t.getStyle(),o=[n[i(558)]("X"),n[i(558)]("Y"),n[i(558)]("Z")],a=t[i(496)],h=this[i(546)](o,s,t[i(533)]()),l=this[i(487)](a,o,s,h);return this[i(498)](l,a,r)}[Lc(502)](t,e){const r=Lc;t[r(515)](r(526),[][r(527)].apply([],new Array(t[r(505)](r(534))[r(545)]/3)[r(548)](e))),t.set(r(508),[this._owner.gl[r(492)]]),t[r(515)](r(513),[t.get(r(534))[r(545)]/3])}_handleMPointFeature(t,e,r){const i=Lc,n=[],s=e.getCoordinates(),o=t.getStyle(),a=t[i(496)];for(let e=0,r=s[i(545)];e<r;e++){const r=s[e],h=[r.getOrdinate("X"),r.getOrdinate("Y"),r.getOrdinate("Z")],l=this[i(546)](h,o,t[i(533)]()),c=this[i(487)](a,h,o,l);n.push(...c)}return this[i(498)](n,a,r)}_dealOneFeature(t,e,r){const i=Lc;return t.length?Promise[i(488)](t)[i(553)]((()=>{this[i(502)](e,r)})):(this[i(502)](e,r),null)}[Lc(487)](t,e,r,i){const n=Lc,s=[],o=this,a=r.getMarkerSymbols(),h=a[n(545)];for(let r=0;r<h;r++){const h=a[r],l=this._getIconAsyncData(h,this._atlas,e);if(l instanceof Promise){const e=l[n(553)]((function(e){o[n(506)](t,e),o._appendData(t,i)}));s[n(485)](e)}else{const e=l;o[n(506)](t,e),o[n(506)](t,i)}}return 0===h&&this[n(506)](t,i),s}[Lc(504)](t,e,r){const i=Lc,n=t.getRenderData({atlasMgr:e});return n instanceof Promise?n[i(553)]((t=>this[i(544)](t,r))):this[i(544)](n,r)}[Lc(544)](t,e){const r=Lc,i=this.dataMap;return i[r(515)]("a_texAttr",t[r(522)]),i[r(515)](r(540),t[r(518)]),i[r(515)](r(521),t[r(493)]),i[r(515)](r(529),t[r(497)]),i[r(515)](r(534),e),i.set(r(525),t[r(520)]),i[r(515)](r(554),[1,1,1,1]),i.set("a_bgColor",[1,1,1,1]),i.set(r(489),[1]),i.set(r(486),[1,1,1,1]),i}[Lc(546)](t,e,r){const i=Lc,n=e[i(501)](),s=this[i(530)];for(let e=0,o=n.length;e<o;e++){const o=n[e];let a=o[i(519)]()[i(524)]();if(-1!=a[i(538)]("{")){const t=a.substring(1,a[i(545)]-1);a=r[t]?r[t][i(524)]():""}if(""===a)continue;const h=this[i(523)](o,a,this._atlas);for(let e=0,r=h[i(505)](i(514));e<r;e++)h[i(505)]("a_position").push(...t);this[i(506)](s,h)}return s}[Lc(523)](t,e,r){const i=Lc,n=t[i(551)]({text:e,atlasMgr:r}),s=this[i(530)];return s[i(515)](i(555),n.textureCoord),s[i(515)](i(540),n[i(518)]),s[i(515)](i(521),n[i(493)]),s.set(i(529),n[i(497)]),s[i(515)](i(525),n.opacity),s[i(515)]("textNum",n[i(514)]),s.set(i(554),n.fontColor),s[i(515)](i(486),n[i(532)]),s[i(515)](i(552),n[i(500)]),s[i(515)](i(489),n[i(511)]),s}}const Oc=["drawElements","_opacity","atlas","atlasManager","glHelper","draw","getAtlas","1mEBEbt","getElements","divide","getOrdinate","_parser","drawType","get","height","695157ViHiJJ","getCoordinate","31NSMzMB","getViewport","36986pdahHv","307060hhqlGn","width","_filterBlocks","blockSize","209402GbbxzG","113588PVuUqS","_atlasMgr","_atlas","active","getProjMatrix","program","12511DTIzVy","bufferImage","getAtlasCanvas","hasChange","getCamera","7wkfeTd","_id","bindTexture","owner","getTextureObject","getFogColor","blockHelperType","getHighlightColor","414701MHAJBD","_atlasManager"],Nc=Bc;function Bc(t,e){return Oc[t-=423]}!function(t,e){const r=Bc;for(;;)try{if(447185===parseInt(r(437))*-parseInt(r(466))+parseInt(r(457))+-parseInt(r(438))+-parseInt(r(430))*parseInt(r(444))+parseInt(r(428))+-parseInt(r(449))*parseInt(r(432))+parseInt(r(433)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Oc);class Uc extends gh{constructor(t,e,r={}){const i=Bc;super(t,"symbol",e,r[i(436)]||2e3,r[i(425)]||i(459),r[i(455)]||""),this[i(458)]=r[i(462)],this.glHelper=Gt[i(426)](this.gl),this[i(463)].getTextureObject(this[i(458)][i(450)])[i(445)](this._atlasManager.getAtlasImageData()),this._parserOpt[i(461)]=this[i(458)],this[i(424)]=new Dc(this,this._parserOpt)}[Nc(464)](t){const e=Nc,r=this[e(452)]._map,i=this[e(435)](t);if(!i||i.length<1)return;const n=mh[e(468)](r[e(448)]()[e(429)]()[e(423)]("X")),s=mh[e(468)](r[e(448)]().getCoordinate()[e(423)]("Y")),o=mh[e(468)](r[e(448)]()[e(429)]()[e(423)]("Z")),a=r[e(431)](),h=this.owner[e(439)][e(446)](),l=this[e(452)]._atlasMgr[e(465)]()._normalize?[1,1]:[h[e(434)],h[e(427)]],c={u_opacity:this[e(460)],u_pMatrix:r[e(442)]().getElements(),u_vMatrix:r.getViewMatrix()[e(467)](),u_viewport:[a[2],a[3]],u_fogColor:r[e(454)](),u_fogDist:r.getFogDist(),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_highlightColor:r[e(456)](),u_atlas:l};this.program[e(441)](),this[e(443)].setUniforms(c),this[e(458)][e(440)].hasChange?(this[e(463)].getTextureObject(this[e(458)][e(450)])[e(445)](this[e(458)].getAtlasImageData(),!0),this._atlasManager[e(440)][e(447)]=!1,this[e(443)][e(464)](i)):(this[e(463)][e(453)](this[e(458)][e(450)])[e(451)](),this[e(443)][e(464)](i))}}const kc=["_handleFeature","getSize","apply","buffer","mode","getHeight","163316iviZdE","_handleMPointFeature","a_position","substring","getTextureCoord","a_angle","getText","showIcon","_getIconAsyncData","fill","getWidth","getAnchor","a_highlight","_getTextData","getRotation","a_size","getStyle","a_offset","handleBlock","16984cUazKU","_addIcon","53KnWlhn","_dealBlockData","_selected","size","features","120233LzHWbz","_owner","textureCoord","_appendBlockData","length","indexOf","getGeometry","getOrdinate","737175WGsTkx","hasOwnProperty","_addText","atlas","974059AHBcLO","_appendData","push","sprite","drawCount","_atlas","offset","getTextSymbols","getCoordinates","bufferToGPU","POINTS","angle","textNum","getValue","742381ZluvQg","dataMap","getOffset","getRenderData","set","1Tbtbac","collisionBox","53QWGVPc","getMarkerSymbols","_initRenderData","a_texAttr","16831SCiaNN","get","_precisionCorrect","getImgSrc","trim"],Vc=zc;!function(t,e){const r=zc;for(;;)try{if(556689===parseInt(r(389))*parseInt(r(366))-parseInt(r(358))-parseInt(r(370))+-parseInt(r(351))*-parseInt(r(353))+parseInt(r(332))+parseInt(r(321))*-parseInt(r(317))+parseInt(r(384)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(kc);class Gc extends bh{constructor(t,e={}){const r=zc;super(t,e),this._atlas=e[r(369)]}[Vc(350)](e){const r=Vc,i=e.features;for(let e=i[r(362)]-1;e>=0;e--){const n=i[e];if(n[r(329)])continue;const s=n[r(364)]();n.buffer=this[r(385)],s instanceof t.Point?this._handleFeature(n,s):this[r(333)](n,s);const o=n[r(355)]?1:0;n[r(329)][r(388)](r(344),[].concat[r(328)]([],new Array(n[r(329)].get(r(334))[r(362)]/3)[r(341)](o)))}this[r(354)](e)}[Vc(354)](t){const e=Vc;this[e(319)](t);const r=t[e(357)];for(let i=0,n=r[e(362)];i<n;i++)!r[i][e(329)]||r[i][e(367)](e(339))&&!r[i].showIcon?r[i][e(339)]=!0:(this[e(323)](r[i][e(329)]),this[e(361)](t,r[i].buffer));this[e(359)][e(379)](t)}[Vc(326)](t,e){const r=Vc,i=e.getCoordinate(),n=t[r(348)](),s=[i[r(365)]("X"),i[r(365)]("Y"),i[r(365)]("Z")],o=t[r(329)];t[r(390)]||(t[r(390)]=[]);let a=this[r(352)](o,s,n);a&&t[r(390)][r(372)](a),o[r(388)](r(330),[this[r(359)].gl.POINTS]),o[r(388)]("drawCount",[o[r(322)]("a_position")[r(362)]/3])}[Vc(333)](t,e){const r=Vc,i=e[r(378)](),n=t[r(348)](),s=t.buffer;for(let t=0,e=i[r(362)];t<e;t++){const e=i[t],o=[e[r(365)]("X"),e[r(365)]("Y"),e[r(365)]("Z")];this[r(352)](s,o,n)}s[r(388)](r(330),[this[r(359)].gl[r(380)]]),s.set(r(374),[s.get("a_position").length/3])}[Vc(352)](t,e,r){const i=Vc,n=r[i(318)]();let s;for(let r=0,o=n.length;r<o;r++){const o=n[r],a=this[i(340)](o,e);if(this._appendData(t,a),!s){const t=o[i(386)](),r=o[i(327)]();s={anchor:e,offset:[t[i(383)]("x"),t[i(383)]("y")],size:[r.getWidth(),r[i(331)]()]}}}return s}[Vc(340)](t,e){const r=Vc,i=t[r(324)](),n=this[r(359)][r(359)][r(373)][r(336)](i),s=[],o=[],a=[],h=t[r(327)]();s[r(372)](h[r(342)](),h[r(331)]()),[][r(372)](t.getOpacity());const l=h[r(342)]()*(.5-t[r(343)]()[0])+t[r(386)]()[r(383)]("X"),c=h[r(331)]()*(t[r(343)]()[1]-.5)-t[r(386)]().getValue("Y");o[r(372)](l,c),[][r(372)](1,1,1,1),a.push(t[r(346)]()*Math.PI/180);const u=this[r(385)];return u.set(r(320),n),u.set(r(349),o),u[r(388)](r(347),s),u[r(388)](r(337),a),u[r(388)](r(334),e),u}[Vc(368)](t,e,r,i){const n=Vc,s=r[n(377)](),o=this[n(385)];o[n(388)](n(320),[]),o[n(388)](n(349),[]),o[n(388)](n(347),[]),o.set(n(337),[]),o[n(388)]("a_position",[]);for(let t=0,r=s[n(362)];t<r;t++){const r=s[t];let a=r[n(338)]()[n(325)]();if(-1!=a[n(363)]("{")){const t=a[n(335)](1,a.length-1);a=i[t]?i[t].trim():""}if(""===a)continue;const h=this[n(345)](r,a,this[n(375)]),l=this;for(let t=0,r=h[n(322)]("textNum");t<r;t++)h[n(322)](n(334)).push(...e);l[n(371)](o,h)}this[n(371)](t,o)}[Vc(345)](t,e,r){const i=Vc,n=t[i(387)]({text:e,atlasMgr:r}),s=this[i(385)];return s[i(388)](i(320),n[i(360)]),s[i(388)](i(349),n[i(376)]),s[i(388)](i(347),n[i(356)]),s[i(388)]("a_angle",n[i(381)]),s[i(388)](i(334),[]),s[i(388)](i(382),n[i(382)]),s}}function zc(t,e){return kc[t-=317]}const Hc=["program","_map","atlasManager","url","2SBPzDi","divide","_atlasManager","getCamera","1465405qaepFl","sprite","splice","getCoordinate","blockSize","getProjMatrix","setUniforms","get","length","drawElements","_parser","request","_tempFeatures","1eeuEol","owner","13PwXbMo","atlas","push","draw","then","1JOAHpz","getElements","remove","layerOctree","_parserOpt","drawType","_addAndOctree","removeAll","getViewMatrix","559329ztYGtb","68941vsIVqy","_removeAndOctree","_redirectMethod","symbol","_remove","121470OzVcuz","493118nZmxEy","_opacity","active","_removeAll","2djbAjH","indexOf","getOrdinate","bindTexture","980585UUdAhp","_add","2xpIixh","685368WSTlzq"],jc=Yc;function Yc(t,e){return Hc[t-=159]}!function(t,e){const r=Yc;for(;;)try{if(753871===parseInt(r(192))*parseInt(r(212))+-parseInt(r(188))*parseInt(r(172))+parseInt(r(182))*parseInt(r(165))+parseInt(r(166))*-parseInt(r(207))-parseInt(r(183))+-parseInt(r(180))*-parseInt(r(205))+parseInt(r(171))*-parseInt(r(176)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Hc);class $c extends gh{constructor(t,e,r={},i=""){const n=Yc,s=r[n(196)]||2e3,o=r[n(161)]||n(201);super(t,n(169),e,s,o),this[n(190)]=r[n(186)],this[n(160)][n(208)]=this._atlasManager,this[n(202)]=new Gc(this,this[n(160)]),this[n(204)]=[],this.owner[n(193)].load?this._redirectMethod():this.owner[n(193)][n(203)][n(211)]((()=>{const t=n;this[t(168)]();for(let e=0,r=this[t(204)][t(200)];e<r;e++)this[t(181)](this[t(204)][e]);this[t(204)].length=0}))}[jc(210)](t){const e=jc,r=this[e(206)][e(185)],i=this._filterBlocks(t);if(!i||i[e(200)]<1)return;Gt[e(199)](this.gl).getTextureObject(this[e(206)][e(193)][e(187)])[e(179)]();const n=mh.divide(r[e(191)]()[e(195)]()[e(178)]("X")),s=mh[e(189)](r[e(191)]()[e(195)]()[e(178)]("Y")),o=mh.divide(r[e(191)]()[e(195)]()[e(178)]("Z")),a=r.getViewport(),h={u_opacity:this[e(173)],u_pMatrix:r[e(197)]()[e(213)](),u_vMatrix:r[e(164)]()[e(213)](),u_viewport:[a[2],a[3]],u_fogColor:r.getFogColor(),u_fogDist:r.getFogDist(),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_highlightColor:r.getHighlightColor(),u_atlas:[1,1]};this[e(184)][e(174)](),this[e(184)][e(198)](h),this[e(184)].draw(i)}[jc(181)](t){const e=jc;this[e(204)][e(209)](t)}_remove(t){const e=jc,r=this[e(204)][e(177)](t);r>-1&&this[e(204)][e(194)](r,1)}[jc(175)](){const t=jc;this[t(204)][t(200)]=0}[jc(168)](){const t=jc;this[t(181)]=super._add,this[t(170)]=super[t(170)],this[t(175)]=super[t(175)],this.add=this.owner[t(159)]?this[t(162)]:this[t(181)],this[t(214)]=this[t(206)][t(159)]?this[t(167)]:this[t(170)],this[t(163)]=this[t(206)].layerOctree?this._removeAllAndOctree:this[t(175)]}}const Xc=["_addEleBuffer","LINK_STATUS","setPrivateUniforms","linkProgram","set","createTexture","FLOAT","unUseProgram","location","name","draw","uniforms","deleteVertexArray","addGLTexture","uniformsLayout","useProgram","width","STATIC_DRAW","FRAGMENT_SHADER","generateMipmap","DYNAMIC_DRAW","VERTEX_SHADER","ACTIVE_UNIFORMS","254227ujtQrz","isRenderbuffer","bindTexture","vsShader","155611ZLqEPZ","u_fogColor","_getUniforms","295293QhhZkg","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","attachShader","setVBOs","deleteBuffer","BUFFER_USAGE","getProgramParameter","compileShader","length","getUniformLocation","shaderSource","clientWidth","COMPILE_STATUS","getUniformLocations","attributes","deleteVBO","_getAttributes","getBufferBytes","setPublicUniforms","parameter must be WebGLRenderbuffer!","pixelStorei","2mhfcKu","u_mvpMatrix","deleteFramebuffer","TEXTURE0","setGL","setFramebuffer","getShaderInfoLog","bufferData","94828ycBteZ","getActiveAttrib","_addVerBuffer","isBuffer","2QwZMJM","createFramebuffer","createRenderbuffer","_upEleBuffer","ARRAY_BUFFER","uniform4fv","getActiveUniform","parameter must be WebGLFramebuffer!","getElements","createProgram","drawOnce","count","47938fgCort","Could not compile WebGL program. \n\n","viewport","setVBO","bufferSubData","index","_initShaders","375314awuIMq","getShaderParameter","getProgramInfoLog","UNPACK_FLIP_Y_WEBGL","ELEMENT_ARRAY_BUFFER","activeTexture","_compileShader","webgl context must not be null, please enable webgl in your browser settings!","attributesLayout","bindBuffer","vertexAttribPointer","UNSIGNED_BYTE","get","texParameteri","95401LxXSZR","isPowerOf2","program","getAttributeLocations","RGBA","LINEAR","createShader","_createProgram","deleteRenderbuffer","fsShader","_program","BUFFER_SIZE","TEXTURE_2D","bind","UNPACK_ALIGNMENT","createVBOs","1PGhcJN","uniformMatrix4fv","parameter must be WebGLBuffer!","deleteProgram","TEXTURE_MIN_FILTER","createBuffer","getAttribLocation","clientHeight","texImage2D","getBufferParameter"],Wc=Zc;function Zc(t,e){return Xc[t-=246]}!function(t,e){const r=Zc;for(;;)try{if(222494===-parseInt(r(285))*parseInt(r(330))-parseInt(r(293))-parseInt(r(260))+-parseInt(r(256))*parseInt(r(346))-parseInt(r(309))+parseInt(r(316))+-parseInt(r(263))*-parseInt(r(297)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Xc);class qc{constructor(t,e,r){const i=Zc;if(!t)throw i(323);this.gl=t,this.vs=e,this.fs=r,this[i(332)]=this[i(337)](e,r),this.attributes=this[i(280)](),this.uniforms=this[i(262)](),this[i(324)]=null,this[i(247)]=null,this.mode=null}update(t,e){const r=Zc;this.vs=t,this.fs=e,this[r(332)]=this[r(337)](t,e),this[r(278)]=this[r(280)](),this.uniforms=this._getUniforms()}[Wc(307)](t,e){const r=Wc,i=this.gl,n=this.createVBOs(i);this[r(267)](n,t),this[r(366)](t[r(314)][r(272)])}[Wc(248)](){const t=Wc;this.gl.useProgram(this[t(332)])}[Wc(363)](){const t=Wc;this.gl[t(248)](null)}[Wc(289)](t){this.gl=t}[Wc(366)](t){}setViewport(t,e,r,i){const n=Wc,s=this.gl[n(275)],o=this.gl[n(353)];this.gl[n(311)](t||0,e||0,r||s,i||o)}[Wc(333)](){return this[Wc(278)]}[Wc(277)](){return this[Wc(367)]}[Wc(345)](){const t=Wc,e=this.gl,r=this.attributesLayout,i={};for(let n in r)"index"===n?(i[t(314)]=e.createBuffer(),e[t(325)](e.ELEMENT_ARRAY_BUFFER,i[t(314)])):(i[n]=e[t(351)](),e[t(325)](e.ARRAY_BUFFER,i[n]),e[t(326)](r[n][t(364)],r[n][t(308)],e[t(362)],!1,0,0),e.enableVertexAttribArray(r[n][t(364)]));return i}[Wc(267)](t,e,r=!1){const i=Wc,n=this[i(324)];for(let s in t)e[s]&&0!==e[s][i(272)]&&this[i(312)](s,t[s],new n[s].type(e[s]),r)}[Wc(279)](t){const e=Wc;this.gl[e(268)](t)}deleteVAO(t){const e=Wc;this.gl[e(368)](t)}[Wc(298)](t,e){}[Wc(290)](){}[Wc(287)](t){const e=Wc;if(!this.gl.isFramebuffer(t))throw e(304);this.gl.deleteFramebuffer(t)}[Wc(299)](){}setRenderbuffer(){}[Wc(338)](t){const e=Wc;if(!this.gl[e(257)](t))throw e(283);this.gl.deleteRenderbuffer(t)}[Wc(282)](t,e,r){const i=Wc;this.gl[i(347)](this[i(367)][i(286)],!1,t[i(305)]()),this.gl[i(302)](this[i(367)][i(261)],e),this.gl.uniform2fv(this[i(367)].u_fogDist,r)}[Wc(358)](t){}[Wc(281)](t,e){const r=Wc,i=this.gl;if(!i[r(296)](t))throw"parameter must be WebGLBuffer!";return i[r(343)](i[e]||i.ARRAY_BUFFER,t),i.getBufferParameter(i[e]||i[r(301)],i[r(341)])}getBufferUsage(t,e){const r=Wc,i=this.gl;if(!i.isBuffer(t))throw r(348);return i[r(343)](i[e]||i[r(301)],t),i[r(355)](i[e]||i[r(301)],i[r(269)])}[Wc(262)](){const t=Wc,e=this.gl,r=this[t(332)];let i={};const n=e[t(270)](r,e[t(255)]);for(let s=0;s<n;s++){const n=e[t(303)](r,s);n&&(i[n[t(365)]]=e[t(273)](r,n[t(365)]))}return i}[Wc(280)](){const t=Wc,e=this.gl,r=this.program,i=e[t(270)](r,e.ACTIVE_ATTRIBUTES);let n={};for(let s=0;s<i;s++){const i=e[t(294)](r,s);i&&(n[i[t(365)]]=e[t(352)](r,i[t(365)]))}return n}[Wc(295)](t,e,r){const i=Wc,n=this.gl;n[i(325)](n[i(301)],t),r?n[i(292)](n.ARRAY_BUFFER,e,n[i(253)]):n.bufferData(n[i(301)],e,n[i(250)])}_upVerBuffer(t,e,r=0,i=!1){const n=Wc,s=this.gl;s[n(325)](s[n(301)],t),i?s.bufferSubData(s[n(301)],r,e):s.bufferData(s[n(301)],e,s[n(250)])}[Wc(356)](t,e,r){const i=Wc,n=this.gl;n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t),r?n[i(292)](n[i(320)],e,n.DYNAMIC_DRAW):n[i(292)](n.ELEMENT_ARRAY_BUFFER,e,n.STATIC_DRAW)}[Wc(300)](t,e,r=0,i=!1){const n=Wc,s=this.gl;s[n(325)](s[n(320)],t),i?s[n(313)](s.ELEMENT_ARRAY_BUFFER,r,e):s[n(292)](s[n(320)],e,s[n(250)])}[Wc(246)](t,e,r="CLAMP_TO_EDGE",i="CLAMP_TO_EDGE",n=0,s=Wc(335),o=Wc(335)){const a=Wc,h=this.gl;let l=h[a(361)]();return h[a(321)](h[a(288)]+e),h[a(258)](h[a(342)],l),h.pixelStorei(h[a(344)],1),h[a(284)](h[a(319)],n),t?(h[a(329)](h[a(342)],h[a(350)],h[s]),h[a(329)](h[a(342)],h[a(264)],h[o]),h.texParameteri(h[a(342)],h[a(265)],h[r]),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h[i]),t&&this[a(331)](t[a(249)])&&this.isPowerOf2(t.height)?(h[a(354)](h[a(342)],0,h[a(334)],h.RGBA,h.UNSIGNED_BYTE,t),h[a(252)](h[a(342)])):h[a(354)](h[a(342)],0,h[a(334)],h.RGBA,h[a(327)],t),{texture:l,unit:e}):(h.texImage2D(h[a(342)],0,h.RGBA,1,1,0,h.RGBA,h[a(327)],new Uint8Array([0,0,255,255])),{texture:l,unit:e})}[Wc(331)](t){return 0==(t&t-1)}[Wc(337)](t,e){const r=Wc,i=this.gl;!this[r(340)]&&i[r(349)](this[r(340)]);const n=this[r(315)](t,e),s=n[r(328)](r(259)),o=n[r(328)](r(339));let a=i[r(306)]();if(i.attachShader(a,s),i[r(266)](a,o),i[r(359)](a),!i[r(270)](a,i[r(357)])){let t=this.gl[r(318)](a);throw r(310)+t}return a}[Wc(315)](t,e){const r=Wc,i=this.gl,n=this._compileShader(t,i[r(254)]),s=this[r(322)](e,i[r(251)]),o=new Map;return o[r(360)](r(259),n).set("fsShader",s),o}[Wc(322)](t,e){const r=Wc,i=this.gl;let n=i[r(336)](e);if(i[r(274)](n,t),i[r(271)](n),!i[r(317)](n,i[r(276)])){let t=i[r(291)](n);throw new Error(t)}return n}[Wc(312)](t,e,r,i=!1){const n=Wc;"index"===t?this._addEleBuffer(e,r,i):this[n(295)](e,r,i)}}var Jc=["1wTHgNB","5ddazmt","646658hjWbRO","222871sYCJpK","83573gVhfPC","77RtgfeC","92CDvmWU","925300XWvFlM","1446lshbln","7366ihpTbd","1eHoMfW","10gghuIU","1516565vyRTtT"];function Kc(t,e){return Jc[t-=433]}!function(t,e){for(var r=Kc;;)try{if(943892===-parseInt(r(434))*-parseInt(r(439))+-parseInt(r(443))*-parseInt(r(433))-parseInt(r(436))+-parseInt(r(444))*parseInt(r(437))+-parseInt(r(442))*-parseInt(r(445))+-parseInt(r(440))*-parseInt(r(438))+-parseInt(r(435))*-parseInt(r(441)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Jc);class Qc extends qc{constructor(t,e,r){super(t,e,r)}}const tu=["COLOR_ATTACHMENT1","bindRenderbuffer","u_oitColor","framebufferRenderbuffer","_gl","TEXTURE_2D","uniform1i","NEAREST","TEXTURE2","blendFunc","texParameteri","uniforms","1318844cnBvhY","51qxEDcH","FLOAT","framebufferTexture2D","bindFramebuffer","_id","pixelStorei","TEXTURE1","drawingBufferHeight","DEPTH_COMPONENT16","u_oitAlpha","RENDERBUFFER","_buffers","_createMultiFrameBuffer","bindBuffer","draw","2HRXDrD","drawingBufferWidth","createUnique","104701TPRPym","createFramebuffer","ARRAY_BUFFER","336124bXhXrf","384022rqJaPD","_createBuffers","_createColorFrame","FRAMEBUFFER","_program","fsShader","name","DEPTH_ATTACHMENT","_setUniforms","enableVertexAttribArray","TEXTURE_WRAP_T","_initToRender","TEXTURE_WRAP_S","SRC_ALPHA","1197182MUUMyH","bufferData","29369ILPRbA","drawBuffers","ONE_MINUS_SRC_ALPHA","oitAlpha","CLAMP_TO_EDGE","TEXTURE0","STATIC_DRAW","bindVertexArray","5CbEdLh","activeTexture","_vao","texStorage2D","236173LqAxyQ","_frameBuffer","createVertexArray","a_position","vertexAttribPointer","bindTexture","_owner","drawArrays","TEXTURE_MIN_FILTER"],eu=iu;!function(t,e){const r=iu;for(;;)try{if(950494===-parseInt(r(159))+parseInt(r(111))*parseInt(r(155))+-parseInt(r(115))*parseInt(r(152))-parseInt(r(173))-parseInt(r(158))+parseInt(r(137))*parseInt(r(175))+parseInt(r(136)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(tu);class ru{constructor(e){const r=iu;this._id=t.Aid[r(154)](this.constructor[r(165)]),this[r(128)]=e.gl,this[r(121)]=e,this[r(170)]()}get id(){return this[iu(141)]}[eu(170)](){const t=eu;this[t(163)]=new Qc(this._gl,Kn.vsShader,Kn[t(164)]),this[t(113)]=this[t(128)][t(117)](),this[t(148)]=this[t(160)](),this[t(116)]=this[t(149)](),this[t(167)]()}_setUniforms(){const t=eu;this[t(163)].useProgram(),this._gl.uniform1i(this[t(163)][t(135)][t(126)],1),this[t(128)][t(130)](this[t(163)].uniforms[t(146)],2)}[eu(151)](){const t=eu;this[t(128)][t(140)](this[t(128)][t(162)],null),this._program.useProgram(),this[t(128)][t(110)](this._vao),this[t(128)][t(112)](this[t(128)][t(143)]),this[t(128)][t(120)](this[t(128)][t(129)],this[t(116)].oitColor),this[t(128)][t(112)](this[t(128)][t(132)]),this[t(128)][t(120)](this[t(128)][t(129)],this._frameBuffer[t(178)]),this._gl[t(133)](this[t(128)][t(177)],this[t(128)][t(172)]),this._gl[t(122)](this[t(128)].TRIANGLE_STRIP,0,4),this._gl[t(110)](null)}[eu(160)](){const t=eu;this[t(128)][t(110)](this._vao);const e=this[t(128)].createBuffer();this[t(128)][t(150)](this[t(128)][t(157)],e),this._gl[t(174)](this[t(128)][t(157)],new Float32Array([-1,-1,1,-1,-1,1,1,1]),this[t(128)][t(109)]);const r=this[t(163)].getAttributeLocations()[t(118)];this[t(128)][t(119)](r,2,this[t(128)][t(138)],!1,0,0),this._gl[t(168)](r),this[t(128)].bindVertexArray(null)}[eu(149)](){const t=eu;let e=this[t(128)];const r=e[t(156)]();e[t(140)](e.FRAMEBUFFER,r),e[t(112)](e[t(108)]);const i=this[t(161)]();e[t(114)](e[t(129)],1,e.RGBA16F,e[t(153)],e[t(144)]),e[t(139)](e[t(162)],e.COLOR_ATTACHMENT0,e[t(129)],i,0);const n=this[t(161)]();e[t(114)](e[t(129)],1,e.R16F,e[t(153)],e[t(144)]),e[t(139)](e[t(162)],e[t(124)],e[t(129)],n,0);const s=e.createRenderbuffer();return e[t(125)](e[t(147)],s),e.renderbufferStorage(e[t(147)],e[t(145)],e[t(153)],e[t(144)]),e[t(127)](e[t(162)],e[t(166)],e[t(147)],s),e[t(176)]([e.COLOR_ATTACHMENT0,e.COLOR_ATTACHMENT1]),e[t(140)](e.FRAMEBUFFER,null),{frameBuffer:r,oitColor:i,oitAlpha:n}}_createColorFrame(){const t=eu;let e=this._gl,r=e.createTexture();return e[t(120)](e[t(129)],r),e[t(142)](e.UNPACK_FLIP_Y_WEBGL,!1),e.texParameteri(e[t(129)],e.TEXTURE_MAG_FILTER,e[t(131)]),e[t(134)](e[t(129)],e[t(123)],e[t(131)]),e.texParameteri(e[t(129)],e[t(171)],e[t(107)]),e[t(134)](e[t(129)],e[t(169)],e[t(107)]),r}}function iu(t,e){return tu[t-=107]}const nu=["mode","12626lmBUgC","get","4113000kQHjod","bufferToGPU","bufferLabel","_dealBlockData","1087857jQOcDN","37bjjXEl","136qPLbtA","a_texAttr","round","137957mLwYuS","POINTS","set","26336cczlGa","_appendBlockData","getAttributes","toUint8Array","labelText","getText","trim","showText","indexOf","features","getFontSize","positions","textInfo","a_color","_initRenderData","749jEWSVt","getPlacementData","owner","texture","splice","fontSize","placement","push","_owner","_handleLine","substring","valid","1VtNdAf","handleBlock","drawCount","getFontColor","a_size","1585907oBacrE","a_angle","angles","1099LMOKCF","_visible","labelLength","length","textAtlas"],su=ou;function ou(t,e){return nu[t-=412]}!function(t,e){const r=ou;for(;;)try{if(958374===-parseInt(r(431))*parseInt(r(424))+-parseInt(r(417))*parseInt(r(425))-parseInt(r(423))+parseInt(r(446))*-parseInt(r(466))+-parseInt(r(458))*parseInt(r(428))+parseInt(r(463))+parseInt(r(419)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(nu);class au extends bh{constructor(t,e={}){const r=ou;super(t,e),this.placement=this[r(454)][r(454)].placement}[su(459)](e){const r=su,i=e[r(440)];for(let n=i[r(414)]-1;n>-1;n--){const s=i[n];if(s[r(421)])continue;const o=s.getBasicGeometry();s[r(421)]=this.dataMap,s[r(457)]=!0,o instanceof t.Line||o instanceof t.LinearRing?!this._handleLine(o,s)&&e.features.splice(n,1):o instanceof t.MultiLine&&e[r(440)][r(450)](n,1)}this[r(422)](e)}_dealBlockData(t){const e=su;this[e(445)](t);const r=t[e(440)];for(let i=0,n=r[e(414)];i<n;i++)r[i][e(412)]&&r[i].bufferLabel&&r[i][e(457)]&&r[i][e(438)]?(this._precisionCorrect(r[i][e(421)]),this[e(432)](t,r[i].bufferLabel)):r[i][e(438)]=!0;this[e(454)][e(420)](t)}[su(455)](t,e){const r=su;let i=e.bufferLabel,n=e.getStyle().getTextSymbols();if(n[r(414)]<1)return e[r(457)]=!1,!1;const s=n[0];let o=s[r(436)]()[r(437)]();if(-1!==o[r(439)]("{")){const t=o[r(456)](1,o.length-1);o=e[r(433)]()[t].trim()}if(""===o)return e[r(457)]=!1,!1;e[r(435)]=o,e[r(413)]=this[r(452)][r(413)](o,s[r(441)]());const a=s[r(461)]()[r(434)](),h=s.getFontSize(),l=h/2,c=this.owner[r(448)][r(443)],u=h/c[r(451)];for(let t=0,e=o[r(414)];t<e;t++){const e=o[t],n=e[r(414)],s=n/2;let p=n%2!=0?(1-Math[r(427)](s))*h:-(2*s-1)*l;for(let t=0;t<n;t++){let n=this.owner[r(415)][r(449)][e[t]];n||(n={x:0,y:0,w:16}),i[r(418)](r(462))[r(453)](c[r(451)]*u,c[r(451)]*u),i[r(418)](r(426))[r(453)]((n.x+c.buffer)/c.w,(n.y+c.buffer)/c.h,n.w/c.w,c[r(451)]/c.h),i[r(418)](r(444))[r(453)](...a),p+=h}}let p=this[r(452)][r(447)](t,s,o,e);return p?(i.set("a_position",p[r(418)](r(442))),i.set("a_offset",p[r(418)]("offsets")),i.set(r(464),p[r(418)](r(465))),i[r(430)](r(416),[this[r(454)].gl[r(429)]]),i[r(430)](r(460),[i[r(418)]("a_position")[r(414)]/3]),!0):(e.valid=!1,!0)}}const hu=["_appendBlockData","a_bgColor","splice","get","_initRenderData","getBasicGeometry","a_opacity","fontColor","positions","4874Ztyvdl","_owner","302432YOjMGg","opacity","63615HNywTh","dataMap","a_haloColor","set","features","_atlas","getStyle","owner","getTextSymbols","mode","_precisionCorrect","a_position","valid","getPlacementData","getText","handleBlock","45034jjrayI","textureCoord","getAttributes","bufferLabel","angles","haloColor","drawCount","trim","no valid TextSymbol!","_appendData","a_size","383295NOTjka","substring","_getTextData","atlas","9wbKhXP","labelLength","bufferToGPU","133322QzYzkY","168600jVMoRo","a_textureCoord","size","offsets","warn","_handleLine","POINTS","placement","_dealBlockData","length"],lu=cu;function cu(t,e){return hu[t-=155]}!function(t,e){const r=cu;for(;;)try{if(156276===parseInt(r(189))+-parseInt(r(170))+parseInt(r(188))+parseInt(r(185))*parseInt(r(208))+parseInt(r(210))+-parseInt(r(212))+-parseInt(r(181)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(hu);class uu extends bh{constructor(t,e={}){const r=cu;super(t,e),this[r(159)]=this[r(161)][r(184)],this[r(196)]=this[r(209)]._owner[r(196)]}[lu(169)](e){const r=lu,i=e.features;for(let n=i.length-1;n>-1;n--){const s=i[n];if(s[r(173)])continue;const o=s[r(204)]();s[r(173)]=this[r(155)],s.valid=!0,o instanceof t.Line||o instanceof t.LinearRing?!this._handleLine(o,s)&&e[r(158)][r(201)](n,1):o instanceof t.MultiLine&&e.features[r(201)](n,1)}this[r(197)](e)}[lu(197)](t){const e=lu;this[e(203)](t);const r=t[e(158)];for(let i=0,n=r[e(198)];i<n;i++)if(r[i]._visible&&r[i][e(173)]&&r[i][e(166)]){this[e(164)](r[i][e(173)]);try{this[e(199)](t,r[i][e(173)])}catch(t){}}this._owner[e(187)](t)}[lu(194)](t,e){const r=lu;let i=e[r(173)],n=e[r(160)]()[r(162)]();if(n[r(198)]<1)return console.warn(r(178)),e[r(166)]=!1,!1;const s=n[0];let o=s[r(168)]()[r(177)]();if(-1!==o.indexOf("{")){const t=o[r(182)](1,o.length-1);o=e[r(172)]()[t][r(177)]()}if(""===o)return console[r(193)]("no valid text!"),e[r(166)]=!1,!1;e.labelText=o,e[r(186)]=this.placement[r(186)](o,s.getFontSize());const a=this[r(155)];let h;for(let t=0,e=o[r(198)];t<e;t++)h=this[r(183)](s,o[t],this[r(159)]),this[r(179)](a,h);a[r(157)](r(176),[i[r(202)]("a_position")[r(198)]/3]),this._appendData(i,a);let l=this.placement[r(167)](t,s,o,e);return l?(i[r(157)](r(165),l[r(202)](r(207))),i[r(157)]("a_offset",l[r(202)](r(192))),i[r(157)]("a_angle",l[r(202)](r(174))),i[r(157)](r(163),[this._owner.gl[r(195)]]),i.set(r(176),[i[r(202)]("a_position").length/3]),!0):(e.valid=!1,!0)}[lu(183)](t,e,r){const i=lu,n=t.getLineRenderData({text:e,atlasMgr:r}),s=this[i(155)];return s[i(157)](i(190),n[i(171)]),s[i(157)](i(180),n[i(191)]),s.set(i(205),n[i(211)]),s[i(157)]("a_fontColor",n[i(206)]),s[i(157)](i(156),n[i(175)]),s[i(157)](i(200),n.bgColor),s[i(157)]("a_haloWidth",n.haloWidth),s}}const pu=["_opacity","bindTexture","getFogColor","55553GByfNm","active","13VxHLZT","length","1OdNaQa","drawArrays","atlas","getLayerType","getCamera","_parser","31925HpHVjz","881flMVdl","symbol","textAtlas","getElements","textTexture","20645HcDglv","owner","getFogDist","getTextureObject","13BqeNpr","65KxofNF","blockSize","atlasManager","getViewMatrix","program","getViewport","getCoordinate","1106368aHVpEx","_parserOpt","43FlxNXp","divide","draw","setUniforms","get","_filterBlocks","5qkxtIF","2FSEzQW","346616lKukdT","getProjMatrix","glHelper","15202GaFtLk","blockHelperType"];function fu(t,e){return pu[t-=190]}!function(t,e){const r=fu;for(;;)try{if(815508===-parseInt(r(200))*-parseInt(r(224))+parseInt(r(233))*parseInt(r(234))+-parseInt(r(212))*-parseInt(r(198))+-parseInt(r(216))*parseInt(r(207))+parseInt(r(191))*parseInt(r(217))+parseInt(r(232))*parseInt(r(206))+-parseInt(r(226))*parseInt(r(196)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(pu);const gu=["uniforms","_checkLastMode","then","bid","rect","a_h","textures","vBuffer","uBuffer","all","1279778LmrMeP","15dDoHiB","normalBuffers","134943NhjzUV","index","glHelper","_texture","length","_parseTile","drawType","features","_appendBlockData","_appendDataWithIndex","a_v","u_texRatio","92309RBNhDk","get","imgSrc","_tileIDB","texture","buffers","getWidth","_appendDataIndex","_enableLight","handleBlock","event","38757fYUZEB","vertexPackage","getTextureObject","indices","owner","hBuffer","buffer","bufferToGPU","heights","set","_dealBlockData","promise","u_texOff","tile","bufferSubImage","504608qrgpuq","rotate","a_u","a_normal","LAYEREVENT_DATACHANGE","renderData","pointCount","10673AEfaxt","drawCount","208961NqWeYf","5fsMbYa","dataMap","_owner","38LeYOpk"],du=_u;function _u(t,e){return gu[t-=352]}!function(t,e){const r=_u;for(;;)try{if(329400===-parseInt(r(362))*-parseInt(r(402))-parseInt(r(386))+-parseInt(r(384))*-parseInt(r(390))-parseInt(r(404))+parseInt(r(377))+-parseInt(r(387))*-parseInt(r(416))+-parseInt(r(401)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(gu);class yu extends bh{constructor(t,e={}){const r=_u;e[r(410)]="drawElements",super(t,e),this[r(359)]=t[r(359)],this[r(406)]=Gt.get(this.owner.gl),this[r(354)]=this.owner[r(366)]._tileIDB}[du(360)](t){const e=du,r=t.features[0];r[e(394)]=t.id,r.buffer=this[e(388)];let{promise:i,fillId:n,uniforms:s}=this[e(409)](r);t[e(397)]=[n],t[e(391)]=s,Promise[e(400)]([i])[e(393)]((()=>{const r=e;this[r(372)](t),this[r(366)][r(366)]._map[r(361)].dispatch(new ch(p[r(381)]))}))}[du(409)](e){const r=du,i=e[r(375)];let n={u_heights:i[r(370)],u_rect:e[r(395)]};const s=e.buffer,o=i[r(363)];s.set(r(379),o[r(356)][r(399)]),s[r(371)](r(414),o[r(356)][r(398)]),s[r(371)](r(396),o[r(356)][r(367)]),s[r(371)](r(405),o[r(365)]),s[r(371)]("mode",[this[r(389)].gl.TRIANGLES]),s[r(371)](r(385),[o[r(365)][r(408)]]);let a=o.buffers[r(403)],h=this[r(359)];a&&h&&s[r(371)](r(380),a);let{fill:l,size:c,groupSideLength:u,offset:p,outZoomI:f}=e[r(355)];const g=e[r(353)];let d,_;if(l&&!f){_=g;const t=c[r(357)](),e=c.getHeight(),i=this[r(406)][r(364)](g);i.bufferImage2(t*u,e*u,"RGBA","UNSIGNED_BYTE",null);const s=l[r(407)];s?(i.bufferSubImage(p[0],p[1],t,e,s),l=null):d=l[r(373)][r(393)]((()=>{const n=r;i.bindTexture(),i[n(376)](p[0],p[1],t,e,l[n(407)]),l=null})),n[r(415)]=1/u,n[r(374)]=[p[0]/(u*t),p[1]/(u*e)]}if(e[r(395)]){let i=(e[r(395)][1]+e[r(395)][0])/2,s=(e[r(395)][3]+e[r(395)][2])/2,o=(new t.Matrix4)[r(378)](-i,0,0,1).rotate(-s,1,0,0);n.u_tileNormalMatrix=o}return{promise:d,fillId:_,uniforms:n}}[du(372)](t){const e=du;this._initRenderData(t);const r=t[e(411)][0];r[e(368)]&&(this[e(412)](t,r[e(368)]),this[e(389)][e(369)](t))}[du(413)](t,e){const r=du;this[r(358)](t[r(382)],e,t[r(383)]),this[r(392)](t),e[r(371)](r(405),e[r(352)](r(405)))}}const mu=["u_texOff","colorH","_gl","program","u_heights","u_glopeColors[","_layer","drawType","getIntensity","buffer","u_glopeDirectionColor[","renderData","bindVertexArray","_colorsByGlope","_landColor","u_heightColor[","u_tileNormalMatrix","get","getDirection","uniforms","u_rect","enableLight","drawCount","_colorsByGlopeDirection","u_color0","_texture","u_glopeAnalyse","uniform1i","terrain","u_minHeight","uniform2fv","u_colorH","owner","_heightLineWidth","length","].minHeight","_colorH","u_exag","u_heightLineWidth","_getUniforms","getActiveUniform","3sXrlie","u_heightLineInterval","getResolution","_map","textures","_heightLineInterval","color","drawElements","113175ITdBDG","_mode","glope","u_glopeDirection","bindTexture","_uLocations","TRIANGLES","_enableLight","1KwClHB","u_resolution","_heightLineColorArr","903529roseHy","_colorsByGlopeNum","_program","_exag","_draw","_shaderSource","_colorsByGlopeDirNum","glHelper","u_outZoomI","name","getUniformLocation","155907hZPINZ","textureObjects","362182fmiYeA","u_heightLineColor","1064948LcvCrz","].glope","getVPMatrix","3nRkjjc","_parserOpt","uniformMatrix4fv","1VFNdAp","getProgramParameter","u_lightDirection","uniform4fv","getTextureObject","u_texRatio","_color0","u_color","uniform1f","u_texture","u_mvpMatrix","texture","vao","_filterBlocks","76155sjfjBF","_parser","].color","getElements","322898ttqdmw","minHeight","].angle","getNormalColorArr","_showHeightLine"],Iu=vu;!function(t,e){const r=vu;for(;;)try{if(460876===-parseInt(r(275))+-parseInt(r(271))*-parseInt(r(321))+parseInt(r(358))*parseInt(r(351))+-parseInt(r(353))*-parseInt(r(337))+parseInt(r(340))+-parseInt(r(329))+parseInt(r(361))*-parseInt(r(355)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(mu);class xu extends gh{constructor(t,e,r={}){const i=vu;super(t,i(308),e,r.blockSize||1,r[i(287)]||i(328),t[i(345)]),this[i(305)]=null!==r[i(268)],this[i(316)]=r[i(281)],this[i(336)]=r[i(301)],this[i(272)]=new yu(this,this[i(359)]),this[i(347)]=Gt[i(297)](this[i(282)]),this._uLocations=this[i(319)]()}_setDrawMode(t){this[vu(330)]=t}draw(t){const e=vu;if(this._texture&&this[e(347)][e(352)]<1)return;const r=this[e(312)][e(324)],i=this[e(270)](t);this.program.active();for(let t=0,n=i.length;t<n;t++){const n=i[t];if(!n[e(289)])continue;const s=n[e(299)];this._gl[e(360)](this[e(334)][e(267)],!1,r[e(357)]()[e(274)]()),this[e(282)][e(260)](this._uLocations[e(264)],this[e(312)]._color||[0,139/255,69/255,1]),this[e(282)].uniform4fv(this[e(334)][e(300)],s[e(300)]),this._gl.uniform2fv(this[e(334)][e(284)],s[e(284)]),this[e(282)][e(265)](this[e(334)][e(311)],this[e(312)][e(316)]),this._gl[e(260)](this._uLocations[e(304)],this.owner[e(263)]||this[e(312)].getMap()[e(294)]),this[e(282)][e(265)](this[e(334)][e(317)],this[e(312)][e(343)]);let o=this[e(286)]._enableLight&&r._enableLight,a=r.getSunlight();this.gl[e(307)](this[e(334)].u_enableLight,o),this.gl.uniform3fv(this[e(334)][e(259)],a[e(298)]()),this.gl[e(260)](this[e(334)].u_lightColor,a[e(278)]()),this.gl[e(265)](this[e(334)].u_intensity,a[e(288)]()),this._gl.uniformMatrix4fv(this[e(334)][e(296)],!1,s[e(296)][e(274)]()),this[e(305)]&&(this[e(282)][e(265)](this[e(334)][e(348)],this[e(312)]._outZoomI),this[e(282)][e(310)](this._uLocations[e(280)],s[e(280)]||[0,0]),this._gl.uniform1f(this[e(334)][e(262)],s.u_texRatio||null),this._gl[e(307)](this._uLocations[e(266)],0),this[e(347)][e(261)](n[e(325)][0])[e(333)]());let h=this[e(312)]._colorsByHeightNum,l=this[e(312)]._colorsByHeight;for(let t=0;t<h;t++){let r=l[t],i=this[e(282)][e(350)](this[e(283)]._program,e(295)+t+e(315)),n=this[e(282)][e(350)](this[e(283)][e(342)],"u_heightColor["+t+"].maxHeight"),s=this[e(282)].getUniformLocation(this[e(283)][e(342)],e(295)+t+e(273));this[e(282)].uniform1f(i,r[e(276)]),this[e(282)][e(265)](n,r.maxHeight),this._gl.uniform4fv(s,r[e(327)])}let c=this[e(312)][e(279)];if(c&&(this.gl[e(265)](this[e(334)][e(338)],r[e(323)]()),this.gl[e(307)](this._uLocations.u_showHeightLine,c),this.gl[e(265)](this[e(334)][e(322)],this[e(312)][e(326)]),this.gl[e(260)](this[e(334)][e(354)],this[e(312)][e(339)]),this.gl[e(265)](this[e(334)][e(318)],this.owner[e(313)]),this.gl[e(265)](this[e(334)][e(309)],this[e(312)]._heightLineMinHeight)),this[e(312)][e(341)]>0){this.gl.uniform1i(this[e(334)][e(306)],!0);let t=this[e(312)][e(293)];for(let r=0;r<t[e(314)];r++){let i=this[e(282)][e(350)](this.program[e(342)],e(285)+r+e(356)),n=this[e(282)].getUniformLocation(this[e(283)]._program,"u_glopeColors["+r+"].color");this[e(282)][e(265)](i,t[r][e(331)]),this[e(282)][e(260)](n,t[r][e(327)])}}if(this[e(312)][e(346)]>0){this.gl.uniform1i(this._uLocations[e(332)],!0);let t=this.owner[e(303)];for(let r=0;r<t[e(314)];r++){let i=this[e(282)][e(350)](this.program[e(342)],e(290)+r+e(273));this[e(282)][e(260)](i,new Float32Array(t[r].color));let n=this._gl[e(350)](this[e(283)][e(342)],"u_glopeDirectionColor["+r+e(277));this[e(282)][e(265)](n,t[r].angle)}}this._draw(n)}}[Iu(344)](t){const e=Iu,r=t.buffer[e(269)];this[e(282)][e(292)](r),this[e(282)][e(328)](this[e(282)][this._mode||e(335)],t[e(291)][e(297)](e(302)),this[e(282)].UNSIGNED_INT,0),this[e(282)].bindVertexArray(null)}_getUniforms(){const t=Iu,e=this[t(282)],r=this[t(283)]._program;let i={};const n=e[t(258)](r,e.ACTIVE_UNIFORMS);for(let s=0;s<n;s++){const n=e[t(320)](r,s);n&&(i[n[t(349)]]=e[t(350)](r,n[t(349)]))}return i}}function vu(t,e){return mu[t-=258]}const bu=["157176CcYxQv","mode","drawElements","toUint8Array","positionCount","81990hqTSFL","a_maxDis","fromCoord","_handleFeature","96677GOfRrH","concat","_appendDataIndex","a_position","_addFill","5TWTsuk","index","15488NQfOPI","_owner","_dealBlockData","a_toColor","getMaxDistPoint","sqrt","set","74995txoyKo","drawCount","_handlePolygonGeom","features","_selected","get","buffer","getStyle","length","a_fromColor","fromColor","getCoordSeqs","275468tTXlYG","TRIANGLES","fill","251878fSQbEj","apply","a_fromPosition","a_highlight","dataMap","getBasicGeometry","19xBxuJe","_handleMPolygonFeature","getPolygons","handleBlock","push"],wu=Tu;function Tu(t,e){return bu[t-=164]}!function(t,e){const r=Tu;for(;;)try{if(304154===-parseInt(r(179))*-parseInt(r(207))+parseInt(r(201))+parseInt(r(186))*-parseInt(r(177))+parseInt(r(172))+-parseInt(r(168))+-parseInt(r(212))+parseInt(r(198)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(bu);class Eu extends Wh{constructor(t,e={}){const r=Tu;e.drawType=r(165),super(t,e)}[wu(210)](e){const r=wu,i=e[r(189)];for(let e=i[r(194)]-1;e>-1;e--){const n=i[e];if(n.buffer)continue;const s=n[r(206)]();n[r(192)]=this.dataMap,s instanceof t.MultiPolygon?this[r(208)](n,s):this._handleFeature(n,s);const o=n[r(190)]?1:0;n[r(192)][r(185)](r(204),[][r(173)][r(202)]([],new Array(n.buffer.get("a_position")[r(194)]/3)[r(200)](o)))}this[r(181)](e)}[wu(171)](t,e){const r=wu,i=t[r(192)],n=t[r(193)]();i.set(r(164),[]),i[r(185)](r(187),[]),this[r(188)](i,e,n)}_handleMPolygonFeature(t,e){const r=wu,i=t[r(192)],n=t[r(193)](),s=e[r(209)]();i.set("mode",[]),i[r(185)]("drawCount",[]);for(let t=0,e=s[r(194)];t<e;t++)this[r(188)](i,s[t],n)}[wu(188)](t,e,r){this[wu(176)](t,e,r.getFillSymbols()[0])}[wu(176)](t,e,r){const i=wu;if(!r)return;const n=Rh(e[i(197)]()),s=n[i(178)],o=n[i(167)][0],a=n.a_position,h=r[i(170)]||e.getCentroid(),l=e[i(183)](h).getCoordinate(),c=[h._x,h._y,h._z],u=[l._x,l._y,l._z],p=c[0]-u[0],f=c[1]-u[1],g=c[2]-u[2],d=Math[i(184)](p*p+f*f+g*g),_=this[i(205)];_[i(185)](i(164),[]),_.set(i(187),[]),_.set("a_position",a),_[i(185)](i(178),s),_.set(i(195),[][i(173)][i(202)]([],new Array(o).fill(r[i(196)].toUint8Array()))),_[i(185)](i(182),[][i(173)][i(202)]([],new Array(o)[i(200)](r.toColor[i(166)]()))),_.set(i(203),[][i(173)].apply([],new Array(o)[i(200)](c))),_[i(185)](i(169),new Array(o)[i(200)](d)),this[i(174)](t,_,t[i(191)](i(175)).length/3),t[i(191)]("mode")[i(211)](this[i(180)].gl[i(199)]),t[i(191)](i(187))[i(211)](s.length)}}const Cu=["drawElements","getCamera","divide","429179rrRdEV","getFPlaneDistance","659507iVlQdo","getViewMatrix","879866SFJkTB","owner","104451Gmehaq","167196zRivnQ","LN2","_parserOpt","getOrdinate","5eAAYdL","clientHeight","54640xvxPKb","fill","1kmkFND","getProjMatrix","active","clientWidth","9QOwvBm","64997bGyRBB","getCoordinate","log","_map","program","container","draw","getElements"];function Au(t,e){return Cu[t-=420]}!function(t,e){const r=Au;for(;;)try{if(384094===-parseInt(r(428))*parseInt(r(426))+parseInt(r(432))*parseInt(r(433))+parseInt(r(444))+parseInt(r(420))+parseInt(r(450))*-parseInt(r(424))+parseInt(r(446))+-parseInt(r(448)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Cu);const Mu=["257LeTdbq","827892QdrDSn","_mapUnit","eColor","getLinearRing","oColor","2feKRjp","317155ddoRaB","596CVbsso","getUnit","buffer","features","set","owner","mode","degrees","getCoordSeq","get","index","drawElements","230969vWriHH","414732greSnB","extractCoords","length","size","_handleFeature","handleBlock","153088LzpAiT","a_position","116368cWGLaV","TRIANGLES"],Su=Pu;function Pu(t,e){return Mu[t-=159]}!function(t,e){const r=Pu;for(;;)try{if(266694===parseInt(r(160))+-parseInt(r(174))+parseInt(r(161))*parseInt(r(184))+-parseInt(r(173))+-parseInt(r(159))*parseInt(r(182))+-parseInt(r(180))+parseInt(r(185)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Mu);class Ru extends bh{constructor(t,e={}){const r=Pu;e.drawType=r(172),super(t,e),this[r(186)]=this[r(166)].owner._map&&this[r(166)][r(166)]._map.getCrs()[r(162)]()||r(168)}[Su(179)](t){const e=Su,r=t[e(164)];for(let t=r[e(176)]-1;t>-1;t--){const i=r[t];i[e(163)]||this[e(178)](i)}this._dealBlockData(t)}[Su(178)](t){const e=Su;t[e(163)]=this.dataMap;const r=t.getGeometry();let i=t[e(177)];this._mapUnit===e(168)&&(i/=111e3);const n=t[e(189)],s=t[e(187)],o=r[e(188)](0)[e(169)]()[e(175)](),a=o[0],h=o[1],l=o[2],c=o[3];t[e(163)].set(e(181),[a._x,a._y,a._z,h._x,h._y,h._z,l._x,l._y,l._z,c._x,c._y,c._z,a._x,a._y,a._z+i,h._x,h._y,h._z+i,l._x,l._y,l._z+i,c._x,c._y,c._z+i]),t[e(163)][e(165)](e(171),[0,3,2,0,2,1,1,5,4,1,4,0,0,4,7,0,7,3,7,6,2,7,2,3,2,6,5,2,5,1,4,5,6,4,6,7]),t.buffer[e(165)]("a_color",[n[0],n[1],n[2],n[3],n[0],n[1],n[2],n[3],n[0],n[1],n[2],n[3],n[0],n[1],n[2],n[3],s[0],s[1],s[2],s[3],s[0],s[1],s[2],s[3],s[0],s[1],s[2],s[3],s[0],s[1],s[2],s[3]]),t[e(163)][e(165)](e(167),[this._owner.gl[e(183)]]);const u=t[e(163)][e(170)](e(171))[e(176)];t.buffer.set("drawCount",[u])}}const Lu=["fill","1448645hgPLDq","183317JKhwaS","program","getOrdinate","opacity","setUniforms","3043353nywhsj","divide","548913lknGpl","clientWidth","getFPlaneDistance","_map","314043MtMJDG","getCoordinate","_filterBlocks","container","drawElements","_parserOpt","1278461lhctoI","length","clientHeight","getElements","1tSXilD","7GeImgH","draw","_parser","log","blockSize","blockHelperType","LN2","1706157JdbrnT","drawType","active","getCamera","owner"];function Fu(t,e){return Lu[t-=248]}!function(t,e){const r=Fu;for(;;)try{if(974055===-parseInt(r(258))+parseInt(r(270))*parseInt(r(262))+parseInt(r(277))*-parseInt(r(263))+parseInt(r(248))+-parseInt(r(276))+-parseInt(r(252))+parseInt(r(282)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Lu);class Du extends gh{constructor(t,e,r={}){const i=Fu,n=r[i(267)]||100,s=r[i(271)]||i(256),o=r[i(268)]||"";super(t,i(275),e,n,s,o),this[i(265)]=new Ru(this,this[i(257)])}draw(t){const e=Fu,r=this[e(274)][e(251)],i=this[e(254)](t);if(!i||0===i[e(259)])return;const n=mh[e(283)](r[e(273)]().getCoordinate()[e(279)]("X")),s=mh[e(283)](r[e(273)]()[e(253)]()[e(279)]("Y")),o=mh[e(283)](r[e(273)]()[e(253)]().getOrdinate("Z"));Math[e(266)](r[e(273)]()[e(250)]()+1),Math[e(269)];const a={u_opacity:this[e(280)],u_pMatrix:r.getProjMatrix()[e(261)](),u_vMatrix:r.getViewMatrix()[e(261)](),u_viewport:[1*r[e(255)][e(249)],1*r[e(255)][e(260)]],u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]]};this[e(278)][e(272)](),this.program[e(281)](a),this.program[e(264)](i)}}const Ou=["concat","219306gIuuFu","_handlePolygonGeom","_addGradientColor","getValue","fill","a_dash_ratio","apply","a_position","getLength","a_side","741854vOwUaF","17747LRXTXW","drawType","4286021sPPBJD","_handleSymbol","a_color","1244110tfuNLT","drawElements","getLineJoin","toUint8Array","a_lineLength","_addSingleColor","getLineOffset","getCapPtCount","30889PRAELZ","_handleFeature","_dealDash","a_lineWidth","getLineCap","positionCount","getDashPixelLength","index","_color","_handleMPolygonFeature","getCoordSeqs","get","toColor","_addOutline","107IYZiOA","a_perLength","getMiterLimit","getWidth","_setWideLineData","solid","set","15NmQMMp","_appendDataIndex","handleBlock","9590rqAYQm","19rLmrAa","getLineStyle","getRenderMode","dataMap","length","a_offset","_addFill"],Nu=Bu;function Bu(t,e){return Ou[t-=401]}!function(t,e){const r=Bu;for(;;)try{if(640137===parseInt(r(426))+parseInt(r(418))*-parseInt(r(450))+-parseInt(r(442))+-parseInt(r(417))*parseInt(r(407))+-parseInt(r(414))*parseInt(r(437))+-parseInt(r(436))+parseInt(r(439)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ou);class Uu extends Wh{constructor(t,e={}){const r=Bu;e[r(438)]=r(443),super(t,e)}[Nu(416)](t){super[Nu(416)](t)}[Nu(451)](t,e){super[Nu(451)](t,e)}_handleMPolygonFeature(t,e){super[Nu(402)](t,e)}[Nu(427)](t,e,r){super._handlePolygonGeom(t,e,r)}[Nu(424)](e,r,i){const n=Nu;if(!i)return;const s=Rh(r[n(403)]()),o=s.index,a=s[n(455)][0],h=s[n(433)],l=this[n(421)];l[n(413)](n(433),h),l[n(413)](n(457),o),l.set(n(423),[][n(425)][n(432)]([],new Array(a)[n(430)]([0,0]))),l[n(413)](n(435),[][n(425)].apply([],new Array(a).fill([1,1]))),l.set(n(453),new Array(a).fill(0)),l[n(413)](n(408),new Array(a)[n(430)](0)),l[n(413)](n(446),new Array(a)[n(430)](1)),l[n(413)]("a_pixelLength",new Array(a)[n(430)](1)),l.set(n(431),[][n(425)][n(432)]([],new Array(a).fill([1,0,0,0])));let c=[];i instanceof ba?c=this[n(428)](h,r,i.fromColor,i[n(405)],i.angle):i instanceof t.ColorFill&&(c=this[n(447)](a,i[n(401)])),l[n(413)](n(441),c),this[n(415)](e,l,e[n(404)](n(433))[n(422)]/3)}[Nu(406)](t,e,r){const i=Nu;if(!r)return;const n=e.getLinearRings()[0];e[i(403)]();const s=n[i(434)](),o=this._lineToXYZ(n),a=this[i(440)](o,n,s,r);this[i(415)](t,a,t[i(404)](i(433)).length/3)}[Nu(440)](t,e,r,i){const n=Nu,s=i[n(410)](),o=i[n(419)](),a=i[n(448)](),h=[a[n(429)]("x"),a[n(429)]("y")],l=i[n(454)](),c=i[n(444)](),u=i[n(409)](),p=i[n(449)](),f=i[n(420)](),g=i[n(456)]();let d=i[n(401)];d instanceof Array&&(d=i[n(401)][1]);const _=super[n(411)](t,s,l,c,u,p,f),y=_[n(404)](n(433)),m=y[n(422)]/3,I=d[n(445)]();return _[n(413)](n(441),[][n(425)].apply([],new Array(m)[n(430)](I))),o!==n(412)&&super[n(452)](_,e,i,r,y,m),_[n(413)](n(453),new Array(m)[n(430)](s)),_.set(n(423),[][n(425)][n(432)]([],new Array(m)[n(430)](h))),_[n(413)]("a_pixelLength",[][n(425)].apply([],new Array(m)[n(430)](g))),_}}const ku=["draw","clientHeight","opacity","1428490FmgRvq","LN2","setUniforms","getFPlaneDistance","getCamera","getFogColor","log","_parserOpt","getCoordinate","getProjMatrix","getElements","360472lSlYak","274454sqnCUQ","49DJLXjz","owner","969246aYktMs","length","active","9723jPzYsL","_filterBlocks","blockSize","getExtentHSpan","program","divide","blockHelperType","container","550378ZbujuV","line","getViewMatrix","119059plpQBB","getOrdinate","_map"],Vu=Gu;function Gu(t,e){return ku[t-=481]}!function(t,e){const r=Gu;for(;;)try{if(500154===-parseInt(r(482))+parseInt(r(481))+parseInt(r(496))+-parseInt(r(485))+-parseInt(r(499))+-parseInt(r(483))*parseInt(r(488))+parseInt(r(505)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ku);class zu extends gh{constructor(t,e,r={}){const i=Gu,n=r[i(490)]||500,s=r[i(494)]||"";super(t,i(497),e,n,"drawElements",s),this._parser=new Uu(this,this[i(512)])}[Vu(502)](t){const e=Vu,r=this[e(484)][e(501)],i=this[e(489)](t);if(0===i[e(486)])return;const n=mh[e(493)](r[e(509)]()[e(513)]().getOrdinate("X")),s=mh[e(493)](r.getCamera()[e(513)]().getOrdinate("Y")),o=mh[e(493)](r[e(509)]()[e(513)]()[e(500)]("Z")),a=2/(Math[e(511)](r[e(509)]()[e(508)]()+1)/Math[e(506)]),h={u_opacity:this[e(504)],u_pMatrix:r[e(514)]().getElements(),u_vMatrix:r[e(498)]()[e(515)](),u_viewport:[r[e(495)].clientWidth,r[e(495)][e(503)]],u_fogColor:r[e(510)](),u_fogDist:r.getFogDist(),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:a,u_highlightColor:r.getHighlightColor(),u_viewLength:r[e(491)]()};this[e(492)][e(487)](),this[e(492)][e(507)](h),this[e(492)][e(502)](i)}}const Hu=["active","owner","getOrdinate","program","blockHelperType","7873rTPNYJ","_parser","getCoordinate","_filterBlocks","137536wPASyk","opacity","container","getProjMatrix","LN2","log","1HrGvIw","1IblcOW","_map","getFogDist","1196MdwrUp","77GpgycQ","blockSize","getElements","140966zvdPOl","485vpYAzo","clientWidth","length","draw","divide","setUniforms","7861rhmLfM","getCamera","drawElements","245989ZorLHQ","97TxzmUn","getViewMatrix","getHighlightColor","4nDbrjN","getFogColor","_parserOpt","892822RMqqMS"];function ju(t,e){return Hu[t-=256]}!function(t,e){const r=ju;for(;;)try{if(551023===-parseInt(r(257))*-parseInt(r(272))+-parseInt(r(268))*-parseInt(r(285))+parseInt(r(289))*parseInt(r(261))+-parseInt(r(276))*parseInt(r(271))+-parseInt(r(275))*parseInt(r(267))-parseInt(r(292))+parseInt(r(286))*parseInt(r(282)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Hu);class Yu extends gh{constructor(t,e,r={}){const i=ju;super(t,"fill",e,r[i(273)]||500,i(284),null,r[i(256)]||""),this[i(258)]=new Wh(this,this[i(291)])}draw(t){const e=ju,r=this[e(294)][e(269)],i=this[e(260)](t);if(0===i[e(278)])return;const n=mh[e(280)](r.getCamera().getCoordinate().getOrdinate("X")),s=mh.divide(r[e(283)]().getCoordinate()[e(295)]("Y")),o=mh.divide(r[e(283)]()[e(259)]().getOrdinate("Z")),a=2/(Math[e(266)](r[e(283)]().getFPlaneDistance()+1)/Math[e(265)]);let h={u_opacity:this[e(262)],u_pMatrix:r[e(264)]()[e(274)](),u_vMatrix:r[e(287)]().getElements(),u_viewport:[r.container[e(277)],r[e(263)].clientHeight],u_fogColor:r[e(290)](),u_fogDist:r[e(270)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:a,u_highlightColor:r[e(288)]()};this[e(296)][e(293)](),this[e(296)][e(281)](h),this[e(296)][e(279)](i)}}const $u=["getColor","drawType","a_color","buffer","getWidth","features","1dPIqYZ","819686zsYVSP","sqrt","dataMap","concat","index","120253ujmxyv","_map","drawElements","9002tfsGZO","painterType","TRIANGLES","_mapUnit","1yZPyBN","apply","set","getCoordSeqs","_dealBlockData","LINE_ON_SURFACE","a_highlight","getAttributes","getLineSymbols","_createPolylineStretch","_selected","degrees","1622384aQZbmR","toArray","getCoordSeq","_handleFeature","height","127KgWoWY","mode","cos","owner","13475jnQSqq","_calculateBBox","55611InZpZJ","push","a_position","fill","handleBlock","341iNvvaB","surfaceColor","getCrs","getOrdinate","get","the geometry must be instance of Polyline, Polygon, MultiLine or MultiPolygon","forEach","vector","119QINbKK","acos","length","map","10181LjkpXa","5pNlXxf","a_side","drawCount","toUint8Array","_getDelta","getStyle"],Xu=Zu;!function(t,e){const r=Zu;for(;;)try{if(833046===parseInt(r(182))*-parseInt(r(200))+parseInt(r(207))*-parseInt(r(195))-parseInt(r(230))+-parseInt(r(203))*parseInt(r(224))+parseInt(r(177))*parseInt(r(228))+-parseInt(r(219))*parseInt(r(194))+parseInt(r(181))*parseInt(r(169)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($u);class Wu extends bh{constructor(t,e={}){const r=Zu;e[r(189)]=r(202),super(t,e),this._mapUnit=this.owner.owner._map&&this[r(227)].owner[r(201)][r(171)]().getUnit()||r(218)}[Xu(168)](t){const e=Xu,r=t[e(193)];for(let t=r[e(179)]-1;t>-1;t--){const i=r[t];i[e(191)]||this[e(222)](i)}this[e(211)](t)}[Xu(222)](e){const r=Xu;e[r(191)]=this[r(197)];const i=e.getGeometry(),n=e[r(214)]();let s=e._height;void 0===s&&(s=n[r(223)]||10+590*Math.random(),this[r(206)]===r(218)&&(s/=111e3)),this[r(229)](e,i,s);const o=n[r(170)]?n.surfaceColor:e[r(187)]()&&e[r(187)]()[r(215)]()[r(179)]>0?e[r(187)]()[r(215)]()[0][r(188)]():new t.Color(0,211,211,.7);if(i instanceof t.Line)this[r(216)](i[r(221)](),s,o,o,e);else{if(!(i instanceof t.MultiLine))throw TypeError(r(174));i[r(210)]()[r(175)]((t=>this[r(216)](t,s,o,o,e)))}e[r(191)][r(209)](r(225),[this._owner.gl[r(205)]]),e[r(191)].set(r(184),[e.buffer[r(173)](r(199))[r(179)]]);const a=e[r(217)]?1:0;e[r(191)][r(209)](r(213),[][r(198)][r(208)]([],new Array(e[r(191)][r(173)](r(166))[r(179)]/3)[r(167)](a))),e[r(176)][r(204)]=t.painterType[r(212)]}[Xu(216)](e,r,i,n,s){const o=Xu;let a=(s[o(187)]()[o(215)]()[0]||new t.LineSymbol)[o(192)](),h=e.extractCoords(),l=h[o(180)]((e=>{const i=o;let n=e[i(172)]("X"),s=e[i(172)]("Y"),a=e[i(172)]("Z")+r;return new t.Coordinate(n,s,a)})),c=[],u=[],p=[],f=[],g=[],d=[],_=[],y=[],m=[],I=[],x=[],v=[],b=[],w=[],T=[],E=s[o(191)],C=E[o(173)](o(166)),A=E[o(173)](o(190)),M=E[o(173)]("a_lineWidth"),S=E[o(173)](o(183)),P=E[o(173)](o(199)),[R,L,F]=h[0][o(220)](),[D,O,N]=h[1][o(220)](),[B,U,k]=l[0].toArray(),[V,G,z]=l[1][o(220)](),H=a,j=this[o(186)]([R,L,F],[D,O,N]),Y=[],$=[-j[1],j[0]],X=[j[1],-j[0]];x.push(B,U,k,R,L,F,B,U,k,R,L,F),v[o(165)](...[][o(198)][o(208)]([],new Array(4)[o(167)](i.toUint8Array()))),w[o(165)](a,a,a,a),T[o(165)](-j[1],j[0],-j[1],j[0],j[1],-j[0],j[1],-j[0]),b.push(0,3,2,0,1,3);for(let t=1,e=h[o(179)];t<e;t++){let r=c[o(179)]/3;if([D,O,N]=h[t][o(220)](),[V,G,z]=l[t][o(220)](),t<e-1){let[e,r,i]=h[t+1].toArray();Y=this[o(186)]([D,O,N],[e,r,i])}else Y=j;const n=j[1]*Y[1]+j[0]*Y[0],s=Math[o(178)](n),E=[-j[1]-Y[1],j[0]+Y[0]],C=[-E[0],-E[1]],A=a/Math[o(226)](s/2);c.push(B,U,k,B,U,k,V,G,z,V,G,z),u[o(165)](...[].concat.apply([],new Array(4)[o(167)](i.toUint8Array()))),p[o(165)](H,H,A,A),f[o(165)](...$,...X,...E,...C),g[o(165)](r,r+1,r+3,r,r+3,r+2),r=d[o(179)]/3,d.push(R,L,F,R,L,F,D,O,N,D,O,N),_[o(165)](...[][o(198)][o(208)]([],new Array(4)[o(167)](i[o(185)]()))),m[o(165)](H,H,A,A),I[o(165)](...$,...X,...E,...C),y[o(165)](r,r+3,r+1,r,r+2,r+3),r=x.length/3,x.push(B,U,k,R,L,F,V,G,z,D,O,N),v[o(165)](...[][o(198)][o(208)]([],new Array(4)[o(167)](i[o(185)]()))),w[o(165)](H,H,A,A),T[o(165)](...$,...$,...E,...E),b[o(165)](r,r+3,r+1,r,r+2,r+3),r+=4,x[o(165)](B,U,k,R,L,F,V,G,z,D,O,N),v[o(165)](...[][o(198)][o(208)]([],new Array(4)[o(167)](i.toUint8Array()))),w[o(165)](H,H,A,A),T.push(...X,...X,...C,...C),b[o(165)](r,r+1,r+3,r,r+3,r+2),[R,L,F]=[D,O,N],[B,U,k]=[V,G,z],H=A,j=Y,$=E,X=C}let W=h[o(179)]-1,Z=x.length/3;[D,O,N]=h[W][o(220)](),[V,G,z]=l[W][o(220)](),x.push(V,G,z,D,O,N,V,G,z,D,O,N),v[o(165)](...[].concat[o(208)]([],new Array(4)[o(167)](i[o(185)]()))),w.push(a,a,a,a),T[o(165)](-j[1],j[0],-j[1],j[0],j[1],-j[0],j[1],-j[0]),b[o(165)](Z,Z+3,Z+1,Z,Z+2,Z+3),A[o(165)](...u,..._,...v),S[o(165)](...f,...I,...T),M[o(165)](...p,...m,...w),C[o(165)](...c),P[o(165)](...g);let q=C[o(179)]/3;C[o(165)](...d),P[o(165)](...y[o(180)]((t=>t+q))),q=C[o(179)]/3,C.push(...x),P[o(165)](...b.map((t=>t+q)))}[Xu(186)]([t,e,r],[i,n,s]){let o=i-t,a=n-e;0==o&&0==a&&(a=s-r);const h=Math[Xu(196)](o*o+a*a);return h>0?(o/=h,a/=h):(o=0,a=0),[o,a]}[Xu(229)](t,e,r){}}function Zu(t,e){return $u[t-=165]}const qu=["container","STENCIL_BUFFER_BIT","getFogColor","blockSize","disable","blockHelperType","clientWidth","getOrdinate","87510kRJzud","getCoordinate","event","getNormalColorArr","draw","_parserOpt","261182xisCCk","CULL_FACE","2SlklTN","INCR_WRAP","stencilOpSeparate","LN2","DEPTH_TEST","ALWAYS","features","setUniforms","dispatch","removeBlock","STENCIL_TEST","delete","getDirection","length","getCamera","blockHelper","1Dearuw","_parser","651399irZPkZ","308874NweojS","clearStencil","add","getProjMatrix","stencilMask","colorMask","2zAqkyU","enable","program","log","285574SdWTRh","owner","LAYEREVENT_DATACHANGE","drawElements","FRONT","getFogDist","_remove","_filterBlocks","active","73087tBzGxK","update","_stretch","58010LRjjGX","depthMask","LESS","_map","BACK","addTask","getViewMatrix","stencilFunc","drawType","_blocks","opacity","getElements","KEEP","get","depthFunc","clear","bid","divide","getFPlaneDistance"];function Ju(t,e){return qu[t-=117]}const Ku=Ju;!function(t,e){const r=Ju;for(;;)try{if(159896===parseInt(r(157))+parseInt(r(119))*parseInt(r(187))+-parseInt(r(138))+-parseInt(r(148))*parseInt(r(135))+-parseInt(r(160))*-parseInt(r(144))+-parseInt(r(117))+parseInt(r(137)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(qu);class Qu extends gh{constructor(t,e,r={}){const i=Ju;super(t,"line",e,r[i(182)]||100,r[i(168)]||i(151),r[i(184)]||""),this[i(136)]=new Wu(this,this[i(192)])}[Ku(191)](t){const e=Ku,r=this[e(149)][e(163)],i=this[e(155)](t),n=mh[e(177)](r[e(133)]()[e(188)]()[e(186)]("X")),s=mh[e(177)](r[e(133)]().getCoordinate()[e(186)]("Y")),o=mh.divide(r[e(133)]().getCoordinate().getOrdinate("Z")),a=2/(Math[e(147)](r[e(133)]()[e(178)]()+1)/Math[e(122)]),h=r.getSunlight();this[e(146)][e(156)]()[e(126)]({u_opacity:this[e(170)],u_pMatrix:r[e(141)]()[e(171)](),u_vMatrix:r[e(166)]()[e(171)](),u_viewport:[1*r[e(179)][e(185)],1*r[e(179)].clientHeight],u_fogColor:r[e(181)](),u_fogDist:r[e(153)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:a,u_highlightColor:r.getHighlightColor(),u_lightDirection:h[e(131)](),u_lightColor:h[e(190)](),u_intensity:h.getIntensity()});const l=this._gl;l.colorMask(!1,!1,!1,!1),l[e(145)](l[e(123)]),l[e(161)](!1),l[e(183)](l.CULL_FACE),l[e(145)](l[e(129)]),l[e(142)](1),l[e(139)](0),l[e(175)](l[e(180)]),l[e(167)](l[e(124)],0,1),l.stencilOpSeparate(l[e(152)],l[e(172)],l[e(172)],l[e(120)]),l[e(121)](l[e(164)],l[e(172)],l[e(172)],l.DECR_WRAP),this.program.draw(i),l[e(143)](!0,!0,!0,!0),l.enable(l[e(118)]),l[e(174)](l[e(162)]),l.stencilFunc(l.NOTEQUAL,0,1),l.stencilMask(0),this.program[e(191)](i),l[e(183)](l[e(129)]),l[e(161)](!0)}_add(t){const e=Ku;let r=new ic(t);t[e(159)]=r;const i=this[e(134)][e(173)](r);return i[e(140)](r),this[e(165)](i),this[e(149)][e(163)].af.active(),this}[Ku(154)](t){const e=Ku,r=t[e(159)];if(!r.bid)return null;delete t[e(159)];const i=this._blocks[e(173)](r[e(176)]);return i[e(130)](r),i[e(125)][e(132)]>0?this[e(165)](i):this[e(128)](i),this[e(149)][e(163)].af[e(156)](),t}[Ku(158)](t){const e=Ku,r=t[e(159)];if(!r[e(176)])return null;const i=this[e(169)].get(r[e(176)]);return i[e(158)](r),this[e(165)](i),this.owner[e(163)][e(189)][e(127)](new ch(p[e(150)])),t}}var tp=["69697KwCbJl","1439819eTuDAP","mode","6HLpiHI","_owner","set","renderData","handleBlock","310097EaAepC","339361NLbEdb","7TOFNzp","176984YQqiTx","bufferToGPU","1NXBNaw","POINTS","96670wTsXin","2iByQjF","507eSQemI","443LZAlnh"],ep=ip;!function(t,e){for(var r=ip;;)try{if(912424===parseInt(r(292))+parseInt(r(293))*-parseInt(r(288))+-parseInt(r(294))*parseInt(r(295))+-parseInt(r(287))*-parseInt(r(296))+-parseInt(r(297))*parseInt(r(290))+parseInt(r(285))+parseInt(r(299))*parseInt(r(286)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(tp);class rp extends bh{constructor(t,e={}){super(t,e)}[ep(284)](t){var e=ep;t[e(283)][e(282)](e(298),[this[e(281)].gl[e(291)]]),this[e(281)][e(289)](t)}}function ip(t,e){return tp[t-=281]}const np=["197928eLuTOC","_matrix","set","204241MbHlSP","getViewRotate","pointcloud","30XGHqAB","443471thjkeX","14692RQfXiM","drawArrays","getElements","active","splice","drawCount","renderData","_parser","_createBlock","pointCount","_filterBlocks","setTranslate","a_position","280913dFzzjB","_eyeX","getMap","colors","owner","program","_composeMatrix","_map","positions","_eyeY","blockHelper","blockSize","_eyeZ","draw","187294gCJVog","_camera","613457vsWpaw","multiply"],sp=op;function op(t,e){return np[t-=195]}!function(t,e){const r=op;for(;;)try{if(370706===parseInt(r(205))+-parseInt(r(206))*-parseInt(r(204))+parseInt(r(201))+parseInt(r(219))+-parseInt(r(196))+-parseInt(r(198))+-parseInt(r(233)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(np);class ap extends gh{constructor(t,e,r={}){const i=op,n=r[i(230)]||5e6;super(t,i(203),e,n,i(207)),this[i(230)]=n,this[i(213)]=new rp(this),this[i(195)]=t[i(221)]()._camera}[sp(232)](t){const e=sp,r=this[e(223)][e(226)],i=this[e(223)][e(199)],n=this[e(216)](t);if(!n||n.length<1)return;const s={u_pMatrix:r.getProjMatrix()[e(208)](),u_vMatrix:this[e(225)](i).getElements(),u_mMatrix:i[e(208)]()};this.program[e(209)](),this[e(224)].setUniforms(s),this[e(224)][e(232)](n)}_add(t){const e=sp;let r=t[e(215)];for(;r>0;){const i=this[e(229)][e(214)](),n=i[e(212)];r>this[e(230)]?(n[e(200)]("a_position",t.positions[e(210)](0,3*this[e(230)])),n[e(200)]("a_color",t[e(222)][e(210)](0,3*this[e(230)])),n[e(200)](e(211),[this[e(230)]]),i[e(215)]=this.blockSize,r-=this.blockSize,t[e(215)]-=this[e(230)]):(n[e(200)](e(218),t[e(227)]),n[e(200)]("a_color",t[e(222)]),n[e(200)](e(211),[t[e(215)]]),i[e(215)]=t[e(215)],r=0),this.addTask(i),this[e(223)][e(226)].af[e(209)]()}for(let e in t)delete t[e];return t=null,this}_composeMatrix(e){const r=sp,i=e[r(208)](),n={x:i[12]-this._camera[r(220)],y:i[13]-this[r(195)][r(228)],z:i[14]-this[r(195)][r(231)]};return this[r(195)][r(202)]()[r(197)]((new t.Matrix4)[r(217)](n.x,n.y,n.z))}}const hp=["84614KDjYQA","blockHelper","_setVBO","extra","1103fsnwjc","_map","bufferToGPU","add","parser","buffer","createProgram","opacity","values","doTask","name","degrees","visibility","_id","removeBlock","370855vQruGW","features","_extra","_parserOpt","27ikTGjE","addProgram","get","forEach","event","521276EWyUdr","getById","layout","2TuWSXL","_type","bid","_gl","_filterBlocks","remove","program","_owner","TMSLayer","VectorTileLayer","vbos","50247rNFtvq","_visibility","11zPsyMu","addSimple","keys","1150713bsWefE","_removeAll","10nwuQvc","_program","DYNAMIC_DRAW","_addEleBuffer","clear","delete","bindBuffer","LAYEREVENT_DATACHANGE","TerrainLayer","STATIC_DRAW","drawType","index","removeBlockById","hasOwnProperty","runTask","_crs","_blockHelper","length","ARRAY_BUFFER","deleteVBO","build","WMTSLayer","active","addTask","_addVerBuffer","101884nhwPsH","_curBlock","WMSLayer","attributes","vao","_drawType","createVAO","blocks","hasProgram","_opacity","getUnit","taskManager","constructor","seque","_blocks","getAll","precisionCorrectProject","bufferData","push","updateProgram","deleteVAO","VectorTileBinLayer","getProgram","update","owner","ELEMENT_ARRAY_BUFFER","_setVbosData","instance","_taskManager","renderData","filterBlocks","dispatch","handleBlock"];function lp(t,e){return hp[t-=287]}const cp=lp;!function(t,e){const r=lp;for(;;)try{if(634992===parseInt(r(323))+parseInt(r(383))*-parseInt(r(320))+parseInt(r(318))+parseInt(r(387))*-parseInt(r(299))+parseInt(r(304))*parseInt(r(307))+parseInt(r(295))+parseInt(r(350))*-parseInt(r(325)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(hp);class up{constructor(e,r,i,n,s,o=null,a=null){const h=lp;this[h(293)]=t.Aid.createUnique(this[h(362)][h(290)]),this._blocks=new Map,this._layer=e;let l=e.getLayerType();this._blockHelper=a?a===h(363)?new Qa(this[h(357)],n):new Za(this[h(357)]):l===Ot[h(371)]||l===Ot[h(316)]||l===Ot.MVTLayer||l===Ot[h(352)]||l===Ot[h(315)]||l===Ot[h(346)]||l===Ot[h(333)]?new Za(this[h(357)]):new Qa(this.blocks,n),this._gl=e.gl,this[h(314)]=e,this[h(359)]=e[h(359)],this._visibility=!0,this._drawType=s,this[h(308)]=r,this[h(297)]=i,this[h(326)]=this[h(393)](r,i,o),this[h(378)]=t.TaskManager[h(377)](),this[h(298)]={drawType:s,bPrecisionCorrect:e._isRTE}}get id(){return this[lp(293)]}[cp(393)](t,e,r){const i=cp,n="degrees"===this[i(374)][i(388)][i(340)][i(360)]()?"precisionCorrect":"precisionCorrectProject",s=[];delete e[n],r=r||null;let o=new ah(this.gl,t,e,r),a=o.id;Gt.get(this.gl)[i(358)](a)?o=null:(o.build(),Gt[i(301)](this.gl)[i(300)](o)),s.push(Gt[i(301)](this.gl)[i(372)](a)),e[n]=0;let h=new ah(this.gl,t,e,r);return a=h.id,Gt[i(301)](this.gl).hasProgram(a)?h=null:(h[i(345)](),Gt[i(301)](this.gl).addProgram(h)),s[i(368)](Gt[i(301)](this.gl).getProgram(a)),s}[cp(369)](t,e){const r=cp,i=this.owner._map[r(340)].getUnit()===r(291)?"precisionCorrect":r(366);delete t[i],this[r(326)][0][r(373)](t,e),t[i]=0,this._program[1][r(373)](t,e)}get[cp(335)](){return this._drawType}get[cp(357)](){return this[cp(364)]}get[cp(384)](){return this[cp(341)]}get[cp(361)](){return this._taskManager}get[cp(391)](){return this._parser}get gl(){return this[cp(310)]}get[cp(374)](){return this[cp(314)]}get type(){return this[cp(308)]}get[cp(386)](){return this[cp(297)]}set[cp(292)](t){return this[cp(319)]=t,this}get[cp(292)](){return this[cp(319)]}set[cp(290)](t){return this._name=t,this}get[cp(287)](){return this[cp(359)]}set[cp(287)](t){this._opacity=t}get[cp(313)](){const t=cp;return this[t(314)]._map.getZoom()>16?this[t(326)][1]:this._program[0]}add(t){const e=cp,r=this.blockHelper[e(301)](t);return r[e(390)](t),this.addTask(r),this.owner._map.af[e(347)](),this}[cp(312)](t){const e=cp;if(!t[e(309)])return null;const r=this._blocks.get(t[e(309)]);return r[e(330)](t),r[e(296)].length>0?this.addTask(r):this[e(294)](r),this[e(374)][e(388)]&&this.owner._map.af[e(347)](),t}[cp(373)](t){const e=cp;if(!t.bid)return null;const r=this[e(364)][e(301)](t[e(309)]);return r.update(t),this[e(348)](r),this[e(374)][e(388)][e(303)][e(381)](new ch(p[e(332)])),t}[cp(324)](){const t=cp;return this[t(364)].forEach(((e,r)=>{this[t(294)](e)})),this[t(374)]._map&&this.owner._map.af.active(),this}[cp(294)](t){const e=cp,r=t.id;t[e(392)]?(this[e(313)][e(306)][e(344)](t[e(392)][e(317)]),this[e(313)].layout[e(370)](t.buffer[e(354)])):(t[e(289)]=0,this[e(361)]._simpleTaskFag.delete(this.id+t.id)),t[e(329)](),this[e(357)][e(330)](r),this[e(384)][e(351)]&&t.id===this[e(384)][e(351)].id&&(this[e(384)][e(351)]=null),t=null}[cp(337)](t){const e=cp;this.blocks.get(t)&&this[e(294)](this[e(357)][e(301)](t))}getBlockById(t){const e=cp;return this[e(357)][e(301)](t)}removeAll(){const t=cp;return this[t(364)][t(302)](((t,e)=>{this.removeBlock(t)})),this[t(374)]._map&&this[t(374)][t(388)].af.active(),this}[cp(365)](){const t=cp,e=[];return this[t(364)].forEach(((r,i)=>{const n=t;e[n(368)].apply(e,r[n(296)])})),e}[cp(305)](t){const e=cp;for(let r of this[e(364)][e(288)]()){for(let i=r[e(296)][e(342)]-1;i>=0;i--)if(r.features[i]._id===t)return r[e(296)][i]}return null}getByAttribute(t,e){const r=cp;let i=[];for(let n of this[r(364)][r(288)]()){for(let s=n[r(296)][r(342)]-1;s>=0;s--){const o=n[r(296)][s]._attributes;o&&o[r(338)](t)&&o[t]===e&&(i[i[r(342)]]=n[r(296)][s])}}return i}[cp(311)](t){const e=cp;return this[e(384)][e(380)](t)}addTask(t){const e=cp;return this.taskManager[e(321)](this,this[e(339)],t),this}[cp(339)](t){const e=cp;this[e(391)][e(382)](t)}[cp(389)](t){const e=cp;let r=t.buffer?t[e(392)]:this[e(313)][e(306)][e(356)]();this[e(376)](r[e(317)],t.renderData),t.buffer=r,t[e(335)]=this[e(355)];const i=this[e(313)][e(306)][e(353)];for(let r of i[e(322)]())t[e(379)][e(330)](r)}[cp(376)](t,e,r=!1){const i=cp;for(let n in t)this[i(385)](n,t[n],e[i(301)](n),r)}[cp(385)](t,e,r,i){const n=cp;t===n(336)?this._addEleBuffer(e,r,i):this[n(349)](e,r,i)}_addVerBuffer(t,e,r){const i=cp;let n=this.gl;n.bindBuffer(n[i(343)],t),r?n[i(367)](n.ARRAY_BUFFER,e,n.DYNAMIC_DRAW):n[i(367)](n[i(343)],e,n[i(334)])}[cp(328)](t,e,r){const i=cp;let n=this.gl;n[i(331)](n[i(375)],t),r?n.bufferData(n[i(375)],new Uint32Array(e),n[i(327)]):n.bufferData(n[i(375)],new Uint32Array(e),n[i(334)])}}const pp=["drawElements","_checkLastMode","_appendData","length","247811cOVBGc","drawCount","_dealBlockData","_owner","renderData","program","298870bjDPFr","push","features","1YKthZq","size","_appendDataIndex","146655GbflIy","layout","_mergeFloat32Array","owner","17gSMoUa","index","point_count","3656cUBest","2aAfZQx","pointCount","mode","_appendDataWithIndex","buffer","_deleteFeatureAttr","277438UuEwin","_initRenderData","set","attributes","_drawType","splice","_mergeUint8Array","10316QZvhFf","drawArrays","get","69zuJXTv","_appendDataWithoutIndex","37361MsXgzS"],fp=gp;function gp(t,e){return pp[t-=213]}!function(t,e){const r=gp;for(;;)try{if(181184===-parseInt(r(232))*-parseInt(r(218))+parseInt(r(235))*parseInt(r(243))-parseInt(r(223))+parseInt(r(229))+parseInt(r(213))*-parseInt(r(239))+-parseInt(r(249))+-parseInt(r(242))*-parseInt(r(216)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(pp);class dp{constructor(t,e){const r=gp;this._drawType=e.drawType||r(214),this[r(226)]=t,this._appendBlockData=this[r(253)]===r(219)?this[r(246)]:this[r(217)],this._drawType===r(219)&&this[r(226)][r(228)].layout.attributes.set("index",{count:1,type:Uint32Array})}get[fp(238)](){return this[fp(226)]}get dataMap(){const t=fp;let e=new Map;const r=this[t(226)].program[t(236)][t(252)];for(let i of r.keys())e[t(251)](i,[]);return e}[fp(248)](t){const e=fp;for(let r in t)r!==e(247)&&delete t[r]}[fp(225)](t){const e=fp;this[e(250)](t);const r=t[e(231)];for(let i=0,n=r.length;i<n;i++)this._appendBlockData(t,r[i][e(247)]);this[e(226)].bufferToGPU(t),t.features.length=0}[fp(250)](t){const e=fp;if(t[e(227)][e(233)]<1){const r=this._owner[e(228)].layout.attributes;for(let i of r.keys())t[e(227)][e(251)](i,[])}t[e(227)][e(251)](e(245),[]),t[e(227)][e(251)](e(224),[]),t.pointCount=0}[fp(246)](t,e){const r=fp;this[r(234)](t[r(227)],e,t[r(244)]),this[r(220)](t),e[r(251)](r(240),e.get(r(240))),t.pointCount+=e[r(215)](r(241))}[fp(217)](t,e){const r=fp;this[r(221)](t[r(227)],e),this[r(220)](t)}[fp(221)](t,e){const r=fp;for(let[i,n]of t){const s=e.get(i);if(s instanceof Uint8Array){const e=this[r(255)](n,s);t.set(i,e)}else if(s instanceof Array)n[r(230)](...s);else if(s instanceof Float32Array){const e=this[r(237)](n,s);t.set(i,e)}}e=null}[fp(255)](...t){const e=fp;let r=0;for(let i=0;i<t[e(222)];i++)t[i]=new Uint8Array(t[i]),r+=t[i][e(222)];let i=new Uint8Array(r),n=0;for(let r of t)i[e(251)](r,n),n+=r[e(222)];return i}_mergeFloat32Array(...t){const e=fp;let r=0;for(let i=0;i<t[e(222)];i++)t[i]=new Float32Array(t[i]),r+=t[i].length;let i=new Float32Array(r),n=0;for(let r of t)i[e(251)](r,n),n+=r[e(222)];return i}[fp(234)](t,e,r=0){const i=fp,n=e[i(215)](i(240)),s=[...n];for(let t=n.length-1;t>-1;t--)n[t]+=r;this[i(221)](t,e),e.set("index",s)}_checkLastMode(t){const e=fp,r=t[e(227)],i=r[e(215)](e(245)),n=r[e(215)](e(224));let s=i[e(222)]-1;if(i[s]===i[s-1]){i.splice(s,1);const t=n[e(254)](s,1)[0];s--,n[s]+=t}}}const _p=["TRIANGLES","a_color","3ReHXrQ","11qwwkpK","_deleteFeatureAttr","buffer","_drawType","mode","drawType","dataMap","562046MvjKWi","191366kSaKpQ","_owner","a_position","layout","1XVhXoT","handleBlock","_initRenderData","features","drawElements","program","4mWxtcs","65197NYSrPy","538605hMXnpr","bufferToGPU","set","a_positionL","698744NOYcox","845871xVLrlJ","index","_appendBlockData","_dealBlockData","length","28793CleXWa","point_count"],yp=mp;function mp(t,e){return _p[t-=153]}!function(t,e){const r=mp;for(;;)try{if(447377===parseInt(r(158))*-parseInt(r(184))+-parseInt(r(185))*-parseInt(r(180))+-parseInt(r(168))*-parseInt(r(169))-parseInt(r(170))+-parseInt(r(162))*parseInt(r(157))+parseInt(r(175))+parseInt(r(174)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_p);class Ip extends dp{constructor(t,e={}){const r=mp;e[r(155)]=e[r(155)]||r(166),super(t,e)}[yp(163)](t){const e=yp,r=t[e(165)];for(let t=r[e(179)]-1;t>-1;t--){const i=r[t];if(i[e(187)])continue;i[e(187)]=this[e(156)];const n=i[e(187)];n.set("a_position",i[e(160)]),n[e(172)](e(173),i.a_positionL),n.set(e(183),i[e(183)]),n.set(e(154),[this._owner.gl[e(182)]]),n.set(e(181),i.vertexCount),n[e(172)]("drawCount",[3*i.triangleCount]),n[e(172)](e(176),i[e(176)]),this[e(186)](i)}this._dealBlockData(t)}[yp(178)](t){const e=yp;this[e(153)]===e(166)&&this[e(159)][e(167)][e(161)].attributes[e(172)](e(176),{count:1,type:Uint32Array}),this[e(164)](t);const r=t[e(165)];for(let i=0,n=r[e(179)];i<n;i++)this[e(177)](t,r[i][e(187)]);this[e(159)][e(171)](t)}}const xp=["245161vAomyk","divide","getViewMatrix","35AgQOsg","drawElements","blockHelperType","496937nTAiBV","13978cEeEqJ","getFPlaneDistance","getCamera","clientWidth","getCoordinate","setUniforms","getFogDist","getHighlightColor","draw","903342YHDwHZ","clientHeight","getOrdinate","_map","container","690190MbjFXT","program","29hbHIkM","fill","blockSize","getElements","44423mDzGLv","5583sRQaoL","_parserOpt","8ezntdb","LN2","getProjMatrix","getFogColor","_filterBlocks","1BZJSZM"],vp=bp;function bp(t,e){return xp[t-=315]}!function(t,e){const r=bp;for(;;)try{if(606051===parseInt(r(341))+-parseInt(r(320))+-parseInt(r(319))*parseInt(r(326))+parseInt(r(327))*-parseInt(r(343))+parseInt(r(336))+parseInt(r(323))*-parseInt(r(348))+parseInt(r(350))*parseInt(r(347)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xp);class wp extends up{constructor(t,e,r={}){const i=bp,n=r[i(345)]||500,s=i(324),o=r[i(325)]||"";super(t,i(344),e,n,s,null,o),this._parser=new Ip(this,this[i(349)])}[vp(335)](t){const e=vp,r=this.owner[e(339)],i=this[e(318)](t);if(0===i.length)return;const n=mh[e(321)](r[e(329)]()[e(331)]()[e(338)]("X")),s=mh[e(321)](r[e(329)]()[e(331)]()[e(338)]("Y")),o=mh[e(321)](r[e(329)]()[e(331)]()[e(338)]("Z")),a=2/(Math.log(r[e(329)]()[e(328)]()+1)/Math[e(315)]);let h={u_opacity:this.opacity,u_pMatrix:r[e(316)]()[e(346)](),u_vMatrix:r[e(322)]().getElements(),u_viewport:[r[e(340)][e(330)],r[e(340)][e(337)]],u_fogColor:r[e(317)](),u_fogDist:r[e(333)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:a,u_highlightColor:r[e(334)]()};this[e(342)].active(),this.program[e(332)](h),this[e(342)][e(335)](i)}}const Tp=["buffer","dataMap","_id","getTextMap","942678JynYBT","triangleCount","102dnporB","_owner","99793FhhCBZ","3EisvTL","getTexure","a_textureCoord","features","5809alxLxw","set","TRIANGLES","_dealBlockData","871522LuNeoH","event","a_position","989358rRyfWy","indexCount","textureMap","index","14wFuFka","LAYEREVENT_DATACHANGE","vertexCount","991yaPuku","a_positionL","length","31993YsSTLx","_bindData","textures","getTextureObject","texture","handleBlock","_texture","89mSnQSz","drawCount","_styleRuleMgr","promise","push","get","image","glHelper","owner","mode"],Ep=Cp;function Cp(t,e){return Tp[t-=473]}!function(t,e){const r=Cp;for(;;)try{if(603156===parseInt(r(474))*parseInt(r(481))-parseInt(r(519))+-parseInt(r(498))*-parseInt(r(492))+parseInt(r(477))*parseInt(r(476))-parseInt(r(485))+-parseInt(r(505))*-parseInt(r(495))+parseInt(r(488)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Tp);class Ap extends Ip{constructor(t,e={}){const r=Cp;super(t,e),this[r(512)]=Gt[r(510)](this[r(513)].gl),this[r(490)]=this[r(513)][r(513)][r(507)][r(518)]()}[Ep(503)](t){const e=Ep;!t.textures&&(t.textures=[]);const r=[],i=t[e(480)];for(let n=0,s=i[e(497)];n<s;n++){const s=i[n];if(s[e(515)])continue;s[e(515)]=this[e(516)];const o=s[e(515)];o[e(482)](e(487),s[e(487)]),o[e(482)](e(496),s[e(496)]),o.set(e(491),s[e(491)]),o[e(482)](e(479),s[e(479)]),o.set(e(514),[this[e(475)].gl[e(483)]]),o[e(482)](e(506),[3*s.triangleCount]),o[e(482)]("point_count",s[e(494)]);const a=3*s[e(473)],h=s[e(502)],l=this[e(490)][e(510)](h),c=l[e(517)];t[e(500)][0]=c;const u=this;let p;if(this[e(512)].getTextureObject(c,0,l)[e(511)]){const t=l.getTexure();u[e(499)](a,c,t)}else{const t=l[e(478)]();t?u[e(499)](a,c,t):p=l[e(508)].then((t=>{const r=e;u[r(499)](a,c,t[r(504)])}))}r[e(509)](p)}Promise.all(r).then((()=>{const r=e;this[r(484)](t),this.owner.owner._map[r(486)].dispatch(new ch(p[r(493)]))}))}[Ep(499)](t,e,r){const i=Ep;this[i(512)].getTextureObject(e).bufferImage(r),this[i(512)][i(501)](e)[i(489)]=t}}const Mp=["textureObjects","getHighlightColor","91834FUvxwd","getTextureObject","getFogDist","bindTexture","_parserOpt","getCoordinate","1qTDUfE","glHelper","getViewMatrix","getCamera","get","drawElements","setUniforms","104485udPfOE","getViewport","65616ZAYkry","1341069xdukul","646115lcZOwG","getOrdinate","divide","1262979XToNkU","4SZuBMj","_filterBlocks","log","_map","opacity","getElements","4JHYFdN","21567CyXvbL","size","8iVoCtE","LN2","getFogColor","textures","1AvzKtn","length","draw","program"],Sp=Pp;function Pp(t,e){return Mp[t-=374]}!function(t,e){const r=Pp;for(;;)try{if(691504===-parseInt(r(403))*-parseInt(r(392))+-parseInt(r(380))*-parseInt(r(402))+parseInt(r(374))+parseInt(r(386))*-parseInt(r(376))+parseInt(r(413))*parseInt(r(401))+parseInt(r(407))*parseInt(r(399))+-parseInt(r(406)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Mp);class Rp extends up{constructor(t,e={},r={}){const i=Pp;super(t,"fill",e,r.blockSize||1,r.drawType||i(397)),this._parser=new Ap(this,this[i(390)]),this.glHelper=Gt[i(396)](this._gl)}[Sp(382)](t){const e=Sp,r=this[e(408)](t);if(0===r[e(381)])return;if(this[e(393)][e(384)][e(375)]<1)return;const i=this.owner[e(410)],n=mh[e(405)](i.getCamera()[e(391)]()[e(404)]("X")),s=mh[e(405)](i.getCamera()[e(391)]()[e(404)]("Y")),o=mh[e(405)](i[e(395)]()[e(391)]()[e(404)]("Z")),a=i[e(400)](),h=2/(Math[e(409)](i[e(395)]().getFPlaneDistance()+1)/Math[e(377)]),l={u_opacity:this[e(411)],u_pMatrix:i.getProjMatrix()[e(412)](),u_vMatrix:i[e(394)]().getElements(),u_viewport:[a[2],a[3]],u_fogColor:i[e(378)](),u_fogDist:i[e(388)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:h,u_highlightColor:i[e(385)]()};this[e(383)].active(),this[e(383)][e(398)](l);for(let t=0,i=r[e(381)];t<i;t++){const i=r[t];i.buffer&&(this[e(393)][e(387)](i[e(379)][0])[e(389)](),this[e(383)].drawSingle(i))}}}const Lp=["109598HgglQA","_owner","features","handleBlock","151458NbKHTY","a_color","dataMap","1ymmzcv","drawCount","74040gFKSib","72375wuZITU","_dealBlockData","buffer","a_normal","set","mode","233649uTmpFK","a_position","226981XOgyty","length","drawArrays","a_positionL","_initRenderData","_appendBlockData","1NsqcBM","97613VaZBvq"],Fp=Dp;function Dp(t,e){return Lp[t-=164]}!function(t,e){const r=Dp;for(;;)try{if(147806===parseInt(r(164))+parseInt(r(179))*parseInt(r(180))+-parseInt(r(173))+parseInt(r(185))+parseInt(r(171))+-parseInt(r(188))*parseInt(r(181))+-parseInt(r(165)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Lp);class Op extends dp{constructor(t,e={}){const r=Dp;e.drawType=r(175),super(t,e)}[Fp(184)](t){const e=Fp,r=t[e(183)];for(let t=r.length-1;t>-1;t--){const i=r[t];if(i[e(167)])continue;i[e(167)]=this[e(187)];const n=i.buffer;n[e(169)](e(172),i[e(172)]),n[e(169)](e(176),i.a_positionL),n[e(169)](e(186),i[e(186)]),n.set(e(170),[this._owner.gl.TRIANGLES]),n.set(e(189),[3*i.triangleCount]),n.set("a_normal",i[e(168)]),this._deleteFeatureAttr(i)}this._dealBlockData(t)}[Fp(166)](t){const e=Fp;this[e(177)](t);const r=t[e(183)];for(let i=0,n=r[e(174)];i<n;i++)this[e(178)](t,r[i][e(167)]);this[e(182)].bufferToGPU(t)}}const Np=["getProjMatrix","448013PZpFfA","322923xpIEly","getFPlaneDistance","clientWidth","338987ipRtTZ","getViewMatrix","fill","4679lbVwxp","log","2eawghN","_filterBlocks","getOrdinate","draw","getIntensity","getElements","getDirection","_enableLight","_isStrtech","_parserOpt","setUniforms","LN2","getSunlight","28GncHTP","getHighlightColor","getFogDist","container","getCamera","getNormalColorArr","drawArrays","blockHelperType","isStrtech","34457LZqHGL","length","program","449886gQlCOx","getCoordinate","owner","101uQcdyj","643877ULVRMF","_layer","opacity"];function Bp(t,e){return Np[t-=252]}!function(t,e){const r=Bp;for(;;)try{if(898136===parseInt(r(282))*parseInt(r(269))-parseInt(r(274))+parseInt(r(277))+-parseInt(r(265))+-parseInt(r(280))*parseInt(r(268))+-parseInt(r(253))*-parseInt(r(262))+-parseInt(r(273)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Np);class Up extends up{constructor(t,e,r={}){const i=Bp,n=r.blockSize||500,s=i(259),o=r[i(260)]||"";super(t,i(279),e,n,s,null,o),this._parser=new Op(this,this[i(291)]),this[i(290)]=r[i(261)]}draw(e){const r=Bp,i=this[r(267)]._map,n=this[r(283)](e);if(0===n[r(263)])return;const s=mh.divide(i[r(257)]()[r(266)]()[r(284)]("X")),o=mh.divide(i[r(257)]()[r(266)]()[r(284)]("Y")),a=mh.divide(i.getCamera()[r(266)]()[r(284)]("Z")),h=2/(Math[r(281)](i[r(257)]()[r(275)]()+1)/Math[r(293)]),l=i[r(289)]&&this[r(270)][r(289)],c=i[r(252)]();let u={u_opacity:this[r(271)],u_pMatrix:i[r(272)]()[r(287)](),u_vMatrix:i[r(278)]()[r(287)](),u_viewport:[i[r(256)][r(276)],i[r(256)].clientHeight],u_fogColor:i.getFogColor(),u_fogDist:i[r(255)](),u_eyeH:[s[0],o[0],a[0]],u_eyeL:[s[1],o[1],a[1]],u_pattern0:0,u_logDepthFunc:h,u_highlightColor:i[r(254)](),u_enableLight:l,u_lightDirection:c[r(288)](),u_lightColor:c[r(258)](),u_intensity:c[r(286)](),u_normalMatrix:(new t.Matrix4)[r(287)](),u_heightScale:this.owner.stretchHeightScale};this.program.active(),this[r(264)][r(292)](u),this[r(264)][r(285)](n)}}const kp=["owner","1xIUUzQ","image","LAYEREVENT_DATACHANGE","glHelper","258133MbDVKD","getTextureObject","99uaRLEG","drawCount","set","indexCount","get","getTextMap","706915BduiUX","5944rFVqnR","_deleteFeatureAttr","128107yhmskl","_owner","_styleRuleMgr","buffer","a_textureCoord","handleBlock","event","promise","mode","dispatch","a_positionL","vertexCount","1afoNGq","205952OlfmrI","features","_bindData","_dealBlockData","71101YfXWkC","991aYoGNG","bufferImage","all","textureMap","106DRVMTz","textures","dataMap","_map","TRIANGLES","_id","a_normal"];function Vp(t,e){return kp[t-=313]}const Gp=Vp;!function(t,e){const r=Vp;for(;;)try{if(488333===parseInt(r(319))*parseInt(r(341))+-parseInt(r(350))*-parseInt(r(329))+parseInt(r(320))+parseInt(r(324))+parseInt(r(352))+parseInt(r(325))*-parseInt(r(343))+parseInt(r(349))*-parseInt(r(337)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(kp);class zp extends Op{constructor(t,e={}){const r=Vp;e.drawType="drawArrays",super(t,e),this[r(340)]=Gt.get(this[r(336)].gl),this[r(328)]=this[r(336)][r(336)][r(354)][r(348)]()}[Gp(357)](t){const e=Gp;!t[e(330)]&&(t[e(330)]=[]);const r=[],i=t[e(321)];for(let n=0,s=i.length;n<s;n++){const s=i[n];if(s[e(355)])continue;s[e(355)]=this[e(331)];const o=s.buffer;o[e(345)]("a_position",s.a_position),o[e(345)](e(317),s[e(317)]),o.set(e(356),s[e(356)]),o[e(345)](e(315),[this[e(353)].gl[e(333)]]),o.set(e(344),[s[e(318)]]),o.set(e(335),s.a_normal);const a=s.vertexCount,h=s.texture,l=this[e(328)][e(347)](h),c=l[e(334)];t[e(330)][0]=c,this[e(351)](s);const u=this;let p;if(this.glHelper[e(342)](c,0,l)[e(338)]){const t=l.getTexure();u[e(322)](a,c,t)}else{const t=l.getTexure();t?u._bindData(a,c,t):p=l[e(314)].then((t=>{u[e(322)](a,c,t._texture)}))}r.push(p)}Promise[e(327)](r).then((()=>{const r=e;this[r(323)](t),this[r(336)][r(336)][r(332)][r(313)][r(316)](new ch(p[r(339)]))}))}[Gp(322)](t,e,r){const i=Gp;this[i(340)][i(342)](e)[i(326)](r),this[i(340)].getTextureObject(e)[i(346)]=t}}const Hp=["getFogDist","41753UWdGdK","_layer","blockSize","_parser","getIntensity","getViewMatrix","getDirection","getHighlightColor","_gl","LN2","size","getProjMatrix","241726QcmfMP","_enableLight","getFogColor","getCamera","setUniforms","program","drawArrays","textureObjects","drawSingle","236782HBdJIA","192711YRNBHv","textures","1sznGbM","getOrdinate","bindTexture","351003WFgyAB","length","getViewport","stretchHeightScale","67byElCV","250811vSSngh","glHelper","divide","getElements","_map","1810tGOXeD","getFPlaneDistance","getCoordinate","getSunlight","owner","draw"],jp=Yp;function Yp(t,e){return Hp[t-=126]}!function(t,e){const r=Yp;for(;;)try{if(176980===-parseInt(r(137))*parseInt(r(140))-parseInt(r(160))+parseInt(r(128))+parseInt(r(138))+parseInt(r(153))*parseInt(r(147))+parseInt(r(148))+-parseInt(r(143)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Hp);class $p extends up{constructor(t,e={},r={}){const i=Yp;super(t,"fill",e,r[i(162)]||1,i(134)),this[i(163)]=new zp(this,this._parserOpt),this[i(149)]=Gt.get(this[i(168)])}[jp(158)](e){const r=jp,i=this._filterBlocks(e);if(0===i[r(144)])return;if(this[r(149)][r(135)][r(126)]<1)return;const n=this[r(157)][r(152)],s=mh[r(150)](n.getCamera()[r(155)]()[r(141)]("X")),o=mh[r(150)](n.getCamera()[r(155)]().getOrdinate("Y")),a=mh[r(150)](n[r(131)]()[r(155)]()[r(141)]("Z")),h=n[r(145)](),l=2/(Math.log(n.getCamera()[r(154)]()+1)/Math[r(169)]),c=n[r(129)]&&this[r(161)][r(129)],u=n[r(156)](),p={u_opacity:this.opacity,u_pMatrix:n[r(127)]()[r(151)](),u_vMatrix:n[r(165)]()[r(151)](),u_viewport:[h[2],h[3]],u_fogColor:n[r(130)](),u_fogDist:n[r(159)](),u_eyeH:[s[0],o[0],a[0]],u_eyeL:[s[1],o[1],a[1]],u_pattern0:0,u_logDepthFunc:l,u_highlightColor:n[r(167)](),u_enableLight:c,u_lightDirection:u[r(166)](),u_lightColor:u.getNormalColorArr(),u_intensity:u[r(164)](),u_normalMatrix:(new t.Matrix4)[r(151)](),u_heightScale:this[r(157)][r(146)]};this[r(133)].active(),this.program[r(132)](p);for(let t=0,e=i[r(144)];t<e;t++){const e=i[t];e.buffer&&(this[r(149)].getTextureObject(e[r(139)][0])[r(142)](),this.program[r(136)](e))}}}const Xp=["a_positionL","triangleCount","dispatch","length","set","REPEAT","_strength","get","getFillSymbols","1mUgYfg","509941lBnngH","_speed","a_position","_map","textureObjects","3949adLPaj","267791rTZaAT","resolve","textures","_deleteFeatureAttr","then","_owner","281413PHBmxr","116kqEiyM","noise","_color","_scale","index","drawCount","owner","vertexCount","_bindData","_addFill","_selected","handleBlock","features","bindTexture","1fuaeRP","_painter","457971BOeePs","buffer","getTextureObject","event","733893biPiBt","mode","glHelper","push","_createTextureObject","497733DPPKUt","_dealBlockData","bufferImage","noiseStyle"],Wp=Zp;function Zp(t,e){return Xp[t-=227]}!function(t,e){const r=Zp;for(;;)try{if(287516===parseInt(r(235))*-parseInt(r(256))-parseInt(r(258))+parseInt(r(241))+-parseInt(r(228))*-parseInt(r(229))+parseInt(r(267))+parseInt(r(242))*parseInt(r(234))+-parseInt(r(262)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Xp);class qp extends dp{constructor(t,e={}){const r=Zp;super(t,e),this[r(257)]=t,this[r(264)]=Gt[r(278)](this[r(248)].gl)}[Wp(253)](t){const e=Wp;!t[e(237)]&&(t[e(237)]=[]);const r=[],i=t[e(254)];for(let n=0,s=i[e(274)];n<s;n++){const s=i[n];if(s[e(259)])continue;const o=s[e(252)]?1:0;s[e(259)]=this.dataMap,r.push(this[e(251)](t,s,o))}Promise.all(r).then((()=>{const r=e;this[r(268)](t),this.owner[r(248)][r(232)][r(261)][r(273)](new ch(p.LAYEREVENT_DATACHANGE))}))}[Wp(251)](t,e){const r=Wp,i=e.buffer,n=e[r(270)][r(227)]()[0];i[r(275)](r(263),[]),i[r(275)](r(247),[]),!t[r(243)]&&(t[r(243)]={type:n._type,colorArr:n[r(244)].toNormalizeArray(),speed:n[r(230)],scale:n[r(245)],static:n._static,strength:n[r(277)]}),i[r(275)](r(231),e[r(231)]),i[r(275)]("a_positionL",e[r(271)]),i[r(275)](r(246),e[r(246)]),i.set(r(263),[this[r(240)].gl.TRIANGLES]);const s=3*e[r(272)];i[r(275)](r(247),[s]),i[r(275)]("point_count",e[r(249)]),this[r(238)](e);let o,a=n.imagePromise,h=n.image;const l=n._id;if(a){t[r(237)][r(265)](l);let e=this[r(264)][r(233)][r(278)](l);!e&&(e=this[r(264)][r(266)](l,0,{wrap_s:r(276),wrap_t:r(276)})),e[r(255)](),h?(this[r(250)](s,l,h),o=Promise[r(236)]()):o=a[r(239)]((t=>{this[r(250)](s,l,t.noiseImage)}))}else o=Promise.resolve();return o}[Wp(250)](t,e,r){const i=Wp;this[i(264)][i(260)](e)[i(269)](r),this.glHelper.getTextureObject(e).indexCount=t}}const Jp=["setSingleUniform","getElements","LN2","noise","speed","fill","setUniforms","divide","6085UkooIm","u_speed","u_type","u_strength","getTime","degrees","u_time","log","getCamera","272110CynjKS","6PekUYP","getOrdinate","bindTexture","buffer","initTime","size","1708SFZkrs","static","199nuHNcs","owner","_gl","program","u_color","u_unit","active","_filterBlocks","u_scale","scale","getFPlaneDistance","984691ZQQjZa","209150PEDwas","get","44283fNgFSM","getCrs","19GJeLhJ","u_static","glHelper","drawSingle","drawElements","getHighlightColor","getTextureObject","getFogColor","length","331uTQrMC","101933iZAHIO","getFogDist"];function Kp(t,e){return Jp[t-=416]}!function(t,e){const r=Kp;for(;;)try{if(973300===parseInt(r(459))*parseInt(r(449))-parseInt(r(447))+-parseInt(r(425))*-parseInt(r(424))-parseInt(r(444))+-parseInt(r(433))*parseInt(r(469))+parseInt(r(445))+-parseInt(r(458))*parseInt(r(431)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Jp);var Qp=["547745yWtCyO","2967VUrWbv","2HUpNSL","48178ZcqlNe","3533xMKEvd","2HILTdB","659915jhcwxq","229MeMMIO","447559vOntHC","358NKTFGB","3SxYHgD","4640212VhGpvx"];function tf(t,e){return Qp[t-=439]}!function(t,e){for(var r=tf;;)try{if(677264===parseInt(r(444))*-parseInt(r(440))+parseInt(r(441))+parseInt(r(446))*-parseInt(r(448))+-parseInt(r(447))*parseInt(r(439))+parseInt(r(443))*-parseInt(r(450))+-parseInt(r(445))*-parseInt(r(442))+parseInt(r(449)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Qp);var ef=Object.freeze({__proto__:null,Block:Ya,FillTexturePainter:rl,FillVideoPainter:cl,FillNoisePainter:ml,Layout:ih,LinePainter:bl,Painter:gh,painterType:t.painterType,Program:ah,SDFLineTextPainter:Pl,SDFPointTextPainter:Ul,SDFPointTextPainterMVT:Yl,StretchPainter:gc,StretchTexturePainter:bc,SymbolDynamicPainter:Uc,SymbolStaticPainter:$c,OITPainter:ru,LineTextPainter:class extends gh{constructor(t,e,r={}){const i=fu,n=r[i(218)]||2e3,s=i(201),o=r[i(192)]||"";super(t,i(208),e,n,s,o),t[i(203)]()===Ot.TextLayer?(this[i(202)]=r[i(219)],this[i(205)]=new uu(this,this[i(225)])):t[i(203)]()===Ot.MVTLayer&&(this[i(209)]=r[i(209)],this[i(205)]=new au(this,this[i(225)])),this[i(190)]=Gt[i(230)](this.gl)}draw(t){const e=fu,r=this[e(213)]._map,i=this[e(231)](t);if(!i||i[e(199)]<1)return;const n=mh[e(227)](r[e(204)]()[e(223)]().getOrdinate("X")),s=mh.divide(r.getCamera().getCoordinate().getOrdinate("Y")),o=mh[e(227)](r[e(204)]()[e(223)]().getOrdinate("Z")),a=r[e(222)](),h={u_opacity:this[e(193)],u_pMatrix:r[e(235)]()[e(210)](),u_vMatrix:r[e(220)]()[e(210)](),u_viewport:[a[2],a[3]],u_fogColor:r[e(195)](),u_fogDist:r[e(214)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_atlas:[1,1]};this[e(221)][e(197)](),this.program[e(229)](h),Gt.get(this.gl)[e(215)](this[e(213)][e(211)])[e(194)](),this[e(221)][e(228)](i)}},TerrainPainter:xu,FillRadialGradientPainter:class extends gh{constructor(t,e,r={}){const i=Au,n=r.blockSize||500,s=r.drawType||i(441),o=r.blockHelperType||"";super(t,i(427),e,n,s,o),this._parser=new Eu(this,this[i(422)])}draw(t){const e=Au,r=this[e(449)][e(436)],i=this._filterBlocks(t);if(0===i.length)return;const n=mh[e(443)](r.getCamera()[e(434)]()[e(423)]("X")),s=mh[e(443)](r[e(442)]()[e(434)]()[e(423)]("Y")),o=mh[e(443)](r[e(442)]()[e(434)]().getOrdinate("Z")),a=2/(Math[e(435)](r.getCamera()[e(445)]()+1)/Math[e(421)]),h={u_opacity:this.opacity,u_pMatrix:r[e(429)]()[e(440)](),u_vMatrix:r[e(447)]().getElements(),u_viewport:[1*r[e(438)][e(431)],1*r.container[e(425)]],u_fogColor:r.getFogColor(),u_fogDist:r.getFogDist(),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:a,u_highlightColor:r.getHighlightColor()};this[e(437)][e(430)](),this[e(437)].setUniforms(h),this[e(437)][e(439)](i)}},VoxelPainter:Du,FillSolidPainter:Yu,FillDashPainter:zu,FillOnSurfacePainter:ac,LineOnSurfacePainter:Qu,PointCloudPainter:ap,StretchWPainter:Pc,FillSolidBinPainter:wp,FillTextureBinPainter:Rp,StretchBinPainter:Up,StretchTextureBinPainter:$p,FillNoiseBinPainter:class extends up{constructor(t,e={},r={}){const i=Kp,n=r.drawType||i(453);super(t,i(466),e,1,n),this._parser=new qp(this,this._parserOpt),this[i(451)]=Gt[i(446)](this[i(435)]),this[i(429)]=(new Date)[i(419)]()/1e3}draw(t){const e=Kp,r=this[e(440)](t);if(0===r[e(457)])return;if(this[e(451)].textureObjects[e(430)]<1)return;const i=this[e(434)]._map,n=mh[e(468)](i[e(423)]().getCoordinate()[e(426)]("X")),s=mh[e(468)](i[e(423)]().getCoordinate()[e(426)]("Y")),o=mh[e(468)](i[e(423)]().getCoordinate()[e(426)]("Z")),a=i.getViewport(),h=2/(Math[e(422)](i.getCamera()[e(443)]()+1)/Math[e(463)]);let l={u_opacity:this.opacity,u_pMatrix:i.getProjMatrix()[e(462)](),u_vMatrix:i.getViewMatrix().getElements(),u_viewport:[a[2],a[3]],u_fogColor:i[e(456)](),u_fogDist:i[e(460)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:h,u_highlightColor:i[e(454)]()};l[e(421)]=(new Date)[e(419)]()/1e3-this[e(429)],l[e(438)]=i[e(448)]().getUnit()==e(420)?0:1,this.program[e(439)](),this.program[e(467)](l);for(let t=0,i=r[e(457)];t<i;t++){const i=r[t],n=i[e(464)];i[e(428)]&&n&&(this[e(436)][e(461)](e(417),0),this[e(436)][e(461)](e(437),n.colorArr),this[e(436)][e(461)](e(416),n[e(465)]),this[e(436)][e(461)](e(441),n[e(442)]),this[e(436)][e(461)](e(450),n[e(432)]),this[e(436)].setSingleUniform(e(418),n.strength),0!==i.textures.length&&this[e(451)][e(455)](i.textures[0])[e(427)](),this[e(436)][e(452)](i))}}}});const rf=["407619sNSAlH","getDepthStatus","solid","draw","getCrs","degrees","drawArrays","_blocks","{label}","setEnable","_init","getExtent","_addTextByGeom","add","getTextSymbols","removeBlock","191739ZGlFRm","getRight","painterType","floor","LinePainter","3857","_style","_initPainterType","_visibility","pow","lat","setMap","enableHashCode","_layerExtra","LINE_DASH","getBottomLeft","_textPainter","_isRTE","_painter","abs","lon","_removeNet","SymbolDynamicPainter","getEnable","702124wpMjRX","1PVdGeG","equals","1850445mgAaeg","getLineStyle","_subdivisionLevel","getUnit","name","active","_addNetByGeom","_atlasMgr","_id","Dash","getOrdinate","4326","LINE","_enumPainterType","createUnique","parallelChange","setMarkerSymbols","293446FvZlQA","visibility","getTopRight","_map","getTop","clone","prevExtent","_mergeExtra","subdivisionLevel","1OmIszG","setText","currZoom","transform","4FCRsJJ","lineWay","hasOwnProperty","ceil","112798apMvBR","getZoom","toFixed","getBottom","1207225LMAhFk","getWidth","constructor","style","_composeNet"];function nf(t,e){return rf[t-=272]}const sf=nf;!function(t,e){const r=nf;for(;;)try{if(658120===-parseInt(r(338))*parseInt(r(325))+parseInt(r(334))*parseInt(r(281))+parseInt(r(305))+parseInt(r(351))+-parseInt(r(346))+-parseInt(r(342))*parseInt(r(306))+parseInt(r(308)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(rf);class of extends Dt{constructor(e,r={}){const i=nf;super(r),this[i(312)]=e,this[i(316)]=t.Aid[i(322)](this[i(348)][i(312)]),this[i(328)]=null,this._subdivisionLevel=r[i(340)](i(333))?r[i(333)]:5,this[i(287)]=r[i(349)]&&r[i(349)][i(330)](),this[i(289)]=!r[i(340)](i(326))||r.visibility,this[i(298)]=!0,this[i(293)]=!1,this[i(315)]=new Ga(2048,1),this[i(299)]=void 0,this[i(339)]=i(323),this[i(321)]=t.painterType,this[i(275)]()}[sf(275)](){const e=sf;!this._style&&(this[e(287)]=new t.Style({lineSymbols:[new t.LineSymbol({width:1,color:new t.Color(150,150,150,1)})],textSymbols:[new t.TextSymbol({fontColor:new t.Color(200,200,200,1),haloColor:new t.Color(0,255,1,0),haloWidth:1})]}));let r=this[e(287)][e(279)]()[0];r[e(335)](e(273)),r.setRowTextCount(20),this[e(287)][e(324)]([]),this[e(288)]()}_initPainterType(){const t=sf;let e;const r=this[t(287)].getLineSymbols()[0];e=r[t(347)]()>1?this[t(321)].LINE_WIDTH:this[t(321)].LINE,r[t(309)]()!==t(353)&&(e+=t(317)),this[t(283)]=e}setMap(e){const r=sf;if(super[r(292)](e),this._painter)return;let i=this[r(294)]();switch(this[r(283)]){case t.painterType.LINE_WIDTH:this[r(299)]=new(ef[r(285)])(this,this[r(332)](i,{wideSolid:0,colorI:0,offset:0,highlight:0}),{lineWay:this[r(339)]});break;case ef[r(283)].LINE_WIDTH_DASH:this._painter=new bl(this,this._mergeExtra(i,{dash:0,wideSolid:0,colorI:0,offset:0,highlight:0}),{lineWay:this.lineWay});break;case ef[r(283)][r(320)]:this._painter=new(ef[r(285)])(this,this[r(332)](i,{colorI:0,offset:0,highlight:0}));break;case ef[r(283)][r(295)]:this[r(299)]=new(ef[r(285)])(this,this[r(332)](i,{colorI:0,offset:0,dash:0,highlight:0}))}this[r(297)]=new(ef[r(303)])(this,this._mergeExtra(i,{offset:1,sprite:0,opacity:0,dynamicText:0,highlight:0}),{drawType:r(357),blockSize:200,atlasManager:this._atlasMgr})}_composeNet(){const e=sf,r=this[e(328)];if(!r)return;let i,n=r[e(276)](),s=r[e(343)](),o=r[e(355)]()[e(311)](),a=this[e(310)];if(i=s<a?15:15*Math[e(290)](.5,s-a),o==e(356)){let r=n.getLeft(),o=n[e(282)](),h=n[e(329)](),l=n[e(345)](),c=Math.ceil(r/i),u=Math[e(284)](o/i),p=Math.floor(h/i),f=Math.ceil(l/i);for(let r=c;r<=u;r++){let n=new t.Point(new t.Coordinate(r*i,h)),o=new t.Point(new t.Coordinate(r*i,l)),u=new t.Line([n,o]);this[e(314)](u);let p=new t.Point(new t.Coordinate(r*i,l+.9*(h-l))),f=c+r;this[e(277)](p,r*i,e(301),f,s-a)}for(let n=f;n<=p;n++){let h=new t.Point(new t.Coordinate(r,n*i)),l=new t.Point(new t.Coordinate(o,n*i)),u=new t.Line([h,l]);this[e(314)](u);let p=new t.Point(new t.Coordinate(r+.9*(o-r),n*i)),f=c+n;this[e(277)](p,n*i,e(291),f,s-a)}}else{let r=t.Transformer[e(337)](n[e(296)](),e(286),e(319)),o=t.Transformer[e(337)](n[e(327)](),e(286),e(319)),h=r[e(318)]("X"),l=o[e(318)]("X"),c=o[e(318)]("Y"),u=r[e(318)]("Y"),p=Number(Math[e(284)](h/i)[e(344)](6)),f=Number(Math.ceil(l/i)[e(344)](6)),g=Number(Math.floor(c/i)[e(344)](6)),d=Number(Math[e(341)](u/i)[e(344)](6));for(let r=p;r<=f;r++){let n=new t.Point(t.Transformer[e(337)](new t.Coordinate(r*i,c),e(319),e(286))),o=new t.Point(t.Transformer[e(337)](new t.Coordinate(r*i,u),"4326","3857")),h=new t.Line([n,o]);this._addNetByGeom(h);let l=new t.Point(t.Transformer[e(337)](new t.Coordinate(r*i,u+.9*(c-u)),e(319),"3857")),f=p+r;this[e(277)](l,r*i,e(301),f,s-a)}for(let r=d;r<=g;r++){let n=new t.Point(t.Transformer[e(337)](new t.Coordinate(h,r*i),e(319),e(286))),o=new t.Point(t.Transformer[e(337)](new t.Coordinate(l,r*i),"4326",e(286))),c=new t.Line([n,o]);this[e(314)](c);let u=new t.Point(t.Transformer[e(337)](new t.Coordinate(h+.9*(l-h),r*i),"4326",e(286))),f=p+r;this[e(277)](u,r*i,e(291),f,s-a)}}}[sf(277)](e,r,i,n,s){const o=sf;if(s<0&&n%-s!=0)return;let a="";0!=r&&(i==o(301)?a+=r>0?"E":"W":a+=r>0?"N":"S"),a+=Math[o(300)](Math[o(284)](r))+"";let h=r-Math[o(284)](r);if(0!=h){a+=Math.floor(60*h)+"";let t=60*h-Math[o(284)](60*h);0!=t&&0!=Math[o(284)](60*t)&&(a+=Math[o(284)](60*t)+"")}if(this._painter){let r=new t.Vector(e,{label:a},this[o(287)]);this._textPainter[o(278)](r)}}[sf(302)](){const t=sf;if(this[t(299)]&&this._textPainter){const e=this._textPainter;e[t(272)].forEach(((r,i)=>{e[t(280)](r)}));const r=this[t(299)];r[t(272)].forEach(((e,i)=>{r[t(280)](e)}))}}[sf(314)](e){const r=sf;if(this[r(299)]){let i=new t.Vector(e,{},this[r(287)]);this[r(299)].add(i)}}get id(){return this._id}[sf(354)](){const t=sf;super.draw();let e=this[t(352)]()[t(304)]();e&&this[t(352)]()[t(274)](!1),this[t(352)]()[t(313)](this.gl);let r=this[t(328)][t(276)](),i=this[t(328)][t(343)]();this[t(331)]&&r[t(307)](this[t(331)],0)&&null!=this[t(336)]&&null!=this[t(336)]&&this.currZoom==i?(this[t(299)][t(354)](),this[t(297)][t(354)]()):(this._painter&&this[t(297)]&&(this[t(302)](),this[t(350)](),this._painter.draw(),this._textPainter[t(354)]()),this[t(331)]=r,this[t(336)]=i),e&&(this[t(352)]()[t(274)](!0),this[t(352)]().active(this.gl))}}const af=["122065ImKmaO","_containerId","splice","clearColor","SRC_ALPHA","WMTSLayer","getLayerMaxZIndex","overflow","getLayers","style","getViewMatrix","_crs","setVBOs","removeAllLayers","width","hmapCanvas","setContainerId","setFogColor","getContainer","1270nGChwJ","enable","85213PnwWbk","TMSLayer","setPublicUniforms","COLOR_BUFFER_BIT","zIndex","length","_currentSplitScreen","getLayerType","getFogColor","setLayerContainer","redraw","createVertexArray","clientHeight","501526wbBFkm","setLandColor","getLandColor","ONE_MINUS_SRC_ALPHA","5tsMueN","addLayer","position","_bkVao","viewport","_clearScreen","655457ttZXYG","rgba(","getMap","getCenter","_static","drawBackground","getLayerById","removeChild","webgl2","getVisibility","backgroundColor","fill","posH","getId","vbos","_alpha","_resizeCanvasToDisplaySize","_containerZIndex","_map","VectorTileLayer","pow","static","apply","_initBackgroundSky","getCrs","_redraw","getSkyImage","getContainerId","degrees","updateContainerSize","getZIndex","_drawSky","webgl context must not be null, please enable webgl in your browser settings!","isBaseLayer","1EMtnye","getCoordinate","setCenter","indexOf","setGL","_camera","getFogDist","floor","clear","382RuXsPd","_float32FromDouble64","prepareData","_drawSkyAndLand","getResolution","_container","absolute","useProgram","setSkyImage","706281XehUMf","posL","DEPTH_BUFFER_BIT","_context","program","getOrdinate","_resolutions","setCrs","_setViewPort","8kzJCEq","setMap","_layers","container","1Jdtnmf","_initContainer","canvas","getResolutions","removeLayer","draw","getContext","push","setZIndex","destroy","sort","blendFunc","573735vBIZkR","getInvisibleViewport","concat","100%"],hf=lf;function lf(t,e){return af[t-=264]}!function(t,e){const r=lf;for(;;)try{if(433486===parseInt(r(301))*parseInt(r(342))+-parseInt(r(340))*-parseInt(r(283))+-parseInt(r(274))*parseInt(r(292))+parseInt(r(365))+-parseInt(r(359))*parseInt(r(321))+-parseInt(r(317))+-parseInt(r(305))*-parseInt(r(355)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(af);class cf{constructor(t=hf(336),e){const r=hf;this[r(322)]=t,this._container=null,this._containerZIndex=0,this[r(295)]=null,this[r(380)]=e,this[r(303)]=[],this._map=null,this[r(369)]=!0,this[r(306)](t),t===r(336)?this.drawBackground=this[r(286)]:this[r(370)]=this[r(364)],this[r(271)]=null}_initContainer(t){const e=hf,r=document.createElement(e(307));if(r.id=t,r.style[e(361)]=e(289),r[e(330)][e(335)]="100%",r[e(330)].height=e(320),r[e(330)][e(328)]="hidden",r[e(330)][e(346)]=this[e(382)],this[e(288)]=r,this[e(295)]=r[e(311)](e(373),{preserveDrawingBuffer:!0,antialias:!0,alpha:this[e(380)],stencil:!0}),!this._context)throw e(272)}[hf(314)](){const t=hf;this._map[t(304)][t(372)](this[t(288)]);const e=Gt.get(this._context);e&&e[t(314)]();const r=this[t(329)]();for(let e=r[t(347)]-1;e>-1;e--)r[e][t(383)]=null,r[e].setLayerContainer(null),r[e]=null,r[t(323)](e,1);this[t(288)]=null,this[t(295)]=null}[hf(339)](){return this._container}[hf(267)](){return this[hf(288)].id}getContainerZIndex(){const t=hf;return parseFloat(this[t(288)][t(330)][t(346)])}[hf(311)](){return this[hf(295)]}[hf(329)](){return this._layers}[hf(337)](t){this[hf(288)].id=t}setContainerZIndex(t){const e=hf;this[e(382)]=t,this[e(288)].style[e(346)]=t}[hf(302)](t){this[hf(383)]=t}[hf(371)](t){const e=hf;for(let r=0;r<this[e(303)][e(347)];r++)if(t===this[e(303)][r][e(378)]())return this[e(303)][r];return null}[hf(360)](t,e){const r=hf,i=this.getMap(),n=t[r(349)]();t[r(273)]()&&(n===Ot[r(343)]||n===Ot[r(326)]||n===Ot[r(384)])&&(t[r(264)]()&&(i[r(299)](t.getCrs()),i[r(298)]=t[r(308)]()),i[r(279)].setCrs(i[r(332)]));const s=this[r(303)];if(null!=e)t.setZIndex(e);else{let e=-1;for(let t=0;t<s[r(347)];t++)s[t].getZIndex()>e&&(e=s[t][r(270)]());t[r(313)](e+1)}return t[r(351)](this),t[r(302)](i),s[r(312)](t),this.orderLayerByIndex(),t}[hf(309)](t){const e=hf,r=this[e(329)]();for(let i=0;i<r.length;i++)t===r[i]&&(t._map=null,r[e(323)](i,1))}[hf(334)](){const t=hf,e=this.getLayers();for(let r=e[t(347)]-1;r>-1;r--)e[r][t(383)]=null,e[t(323)](r,1)}orderLayerByIndex(){const t=hf;this._layers[t(315)]((function(t,e){const r=lf;return t[r(270)]()-e[r(270)]()}))}[hf(327)](){const t=hf;let e=0;const r=this[t(303)];for(let i=0;i<r[t(347)];i++)r[i].getZIndex()>e&&(e=r[i].getZIndex());return e}getLayerMinZIndex(){const t=hf,e=this[t(303)];let r=-1;e[t(347)]>0&&(r=e[0][t(270)]());for(let t=0;t<e.length;t++)e[t].getZIndex()<r&&(r=e[t].getZIndex());return r}[hf(367)](){return this._map}[hf(352)](t,e=1){const r=hf,i=this[r(311)](),n=i[r(307)][r(335)],s=i.canvas.height;if(0!=n&&0!=s){switch(i.viewport(0,0,n,s),this.drawBackground(),e){case 1:this[r(383)][r(348)]!==e&&this._map[r(279)][r(269)](n,s),this[r(265)](t,-1),this[r(383)][r(348)]!==e&&this[r(383)][r(276)](this[r(383)][r(368)]());break;case 2:this[r(383)]._currentSplitScreen!==e&&this[r(383)]._camera[r(269)](.5*n,s),i[r(363)](0,0,.5*n,s),this[r(265)](t,1),i[r(363)](.5*n,0,.5*n,s),this[r(265)](t,2),this[r(383)][r(276)](this[r(383)][r(368)]());break;case 3:this._map[r(348)]!==e&&this[r(383)][r(279)][r(269)](n,.5*s),i[r(363)](0,.5*s,n,.5*s),this._redraw(t,1),i[r(363)](0,0,n,.5*s),this._redraw(t,2),this[r(383)][r(276)](this[r(383)][r(368)]())}this._map[r(348)]=e;for(let t of this[r(303)])if(t[r(374)]()&&0==t[r(386)]){this[r(369)]=!1;break}!this[r(369)]&&this[r(383)].af.active()}}[hf(265)](t,e){const r=hf;let i;const n=this[r(303)][r(347)];for(let s=0;s<n;s++){const n=this._layers[s];if(!n[r(374)]())continue;if(n instanceof of){i=n;continue}0===t&&n[r(285)]();-1==n.getInvisibleViewport()[r(277)](e)&&n[r(310)](t)}if(i&&i[r(374)]()){-1==i[r(318)]()[r(277)](e)&&i[r(310)]()}}_drawBackground(){const t=hf,e=this[t(367)](),r=this[t(311)](),i=this[t(296)],n=e.getFogColor();this[t(339)]()[t(330)][t(375)]=t(366)+n[0]+","+n[1]+","+n[2]+","+n[3]+")";const s=e[t(381)](this[t(339)]());if(r[t(324)](n[0],n[1],n[2],n[3]),r[t(282)](r[t(345)]|r[t(294)]),s&&e._setViewPort(r),!this._bkVao){const e=r[t(353)]();r.bindVertexArray(e);const n=i.createVBOs(r);r.bindVertexArray(null),this[t(362)]={vao:e,vbos:n}}let o={posH:e._camera.getMapBackgroundCoords(),posL:new Array(12)[t(376)](0)};const a={a_position:o[t(377)],a_positionL:o[t(293)],a_color:[][t(319)][t(387)]([],new Array(4).fill(e[t(357)]())),a_checked:[0,0,0,0,0,0],index:[3,0,1,1,2,3]};i[t(278)](r),i[t(333)](this[t(362)][t(379)],a);const h=e[t(287)](),l=1/h/20;i[t(290)](),i[t(344)](e.getVPMatrix(),e.getFogColor(),e[t(280)]());const c=e.getCamera()[t(275)](),u=c[t(297)]("X"),p=c.getOrdinate("Y"),f=c[t(297)]("Z"),g=this[t(284)](u),d=this[t(284)](p),_=this[t(284)](f),y={chx:g[0],clx:g[1],chy:d[0],cly:d[1],chz:_[0],clz:_[1]};i.setPrivateUniforms({u_viewport:[0,0,r[t(307)].clientWidth,r.canvas[t(354)]],u_color:[0,1,0,1],NumDash:l,u_mvMatrix:e[t(331)](),u_ifRTE:!1,u_camera:y,u_projMatrix:e.getProjMatrix(),u_resolution:h,u_farPlaneD:!1,u_logConstant:1e-8,u_ifLGD:!1,u_opacity:1}),r.bindVertexArray(this[t(362)].vao),i[t(310)](6),r.bindVertexArray(null)}[hf(364)](){const t=hf,e=this[t(367)](),r=this[t(311)]();e[t(381)](this[t(339)]())&&e[t(300)](r),r[t(324)](0,0,0,0),r[t(282)](r[t(345)]|r.DEPTH_BUFFER_BIT)}[hf(388)](){const t=hf,e=this[t(311)](),r=this[t(367)]();this[t(271)]=new fa(e,r)}[hf(286)](){const t=hf,e=this[t(367)](),r=this[t(311)]();e[t(381)](this[t(339)]())&&e[t(300)](r),r.clearColor(0,0,0,0),r[t(282)](r[t(345)]|r[t(294)]),r[t(341)](r.BLEND),!this[t(271)]&&this[t(388)](),this[t(271)].setEdge(e[t(279)].getFogEdge()),this[t(271)][t(356)](this._map[t(357)]()),this[t(271)][t(338)](this._map[t(350)]()),this[t(271)][t(291)](this._map[t(266)]()),r[t(316)](r[t(325)],r[t(358)]),this[t(271)][t(310)]()}[hf(284)](t){const e=hf;let r=0,i=0,n=0;return this.mapUnit==e(268)?(r=Math[e(281)](t),i=(t-r)*Math[e(385)](10,7),i=Math[e(281)](i)):t>0?(n=65536*Math[e(281)](t/65536),r=n,i=t-n):(n=65536*Math[e(281)](-t/65536),r=-n,i=t+n),[r,i]}}const uf=["editable","removeChild","2777kzTFbG","getMap","nodeName","constructor","_location","setLayer","block","getPixelPos","style","568979buLLdm","7692foDUko","boolean","getPixelFromCoordinate","display","domId","default","hasOwnProperty","get","getLayer","the map parameter must be set,your popup must add to layer ang the layer must add to map","appendChild","getCoordinateFromPixel","getY","offset","setOffset","getElement","visible","the parameter must be Offset!","nodeType","createUnique","cursor","58dWBSfK","_visible","visible must be boolean type!","_layer","_id","24ltOdVE","string","_reAdjust","setDomId","location","none","_popupDom","getX","getValue","name","element","1976088nlaBLf","object","_element","_domId","101129NNLYzo","_userData","getLocation","the parameter must be a Map!","1PRhwfn","container","6kmNesA","the element in options must be a DOM!","the Overlay is an abstract class,and can not be instanced!","setLocation","1010602swcfiD","setElement","73gaCyYS","_container","_offset","the location in options must be set and a Coordinate!","37805jrrigG"],pf=ff;function ff(t,e){return uf[t-=397]}!function(t,e){const r=ff;for(;;)try{if(585062===-parseInt(r(431))*parseInt(r(424))+parseInt(r(416))*-parseInt(r(422))+-parseInt(r(462))*parseInt(r(441))+parseInt(r(440))+-parseInt(r(428))*parseInt(r(397))+-parseInt(r(418))*-parseInt(r(412))+parseInt(r(408)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(uf);class gf{constructor(e){const r=ff;if(new.target===gf)throw new Error(r(420));this[r(466)]=t.Aid[r(460)](this[r(434)][r(406)]),this[r(413)]=e,this[r(463)]=!e[r(447)](r(457))||e[r(457)],this[r(425)]=document.createElement("DIV"),this[r(425)][r(439)][r(461)]=r(446),this[r(425)][r(439)][r(444)]=1==this[r(463)]?r(437):r(402),this[r(425)].contentEditable=""+(e[r(429)]||!1),this[r(465)]=null,this[r(411)]=e[r(447)](r(445))?e.domId:"",this[r(425)].id=this[r(411)];const i=typeof HTMLElement===r(409)?e[r(407)]instanceof HTMLElement:e[r(407)]&&typeof e[r(407)]===r(409)&&1===e[r(407)][r(459)]&&typeof e[r(407)][r(433)]===r(398);if(this[r(410)]=e.hasOwnProperty(r(407))&&i?e[r(407)]:null,this[r(435)]=e[r(447)](r(401))&&e.location instanceof t.Coordinate?e[r(401)]:null,this[r(426)]=e[r(447)](r(454))?e.offset:new t.Offset(0,0),this[r(410)]&&!i)throw new TypeError(r(419));if(!(this[r(426)]instanceof t.Offset))throw new TypeError("the offset in options must be Offset!");if(!this[r(435)])throw new Error(r(427));this[r(413)].element=null,this[r(413)][r(401)]=null,this[r(413)][r(454)]=null}setVisibility(t=!0){const e=ff;if(typeof t!==e(442))throw new TypeError(e(464));this[e(463)]!==t&&(this[e(463)]=t,this[e(425)][e(439)].display=e(1==t?437:402))}[pf(448)](t){const e=pf;return this[e(413)]?this[e(413)][t]:null}[pf(421)](e){const r=pf;if(!(e instanceof t.Coordinate))throw new Error("the parameter must be Coordinate!");return this[r(435)]=e,this._layer&&this[r(399)](this[r(465)]),this}[pf(414)](){const t=pf;if(0===this[t(426)].getValue("x")&&0===this[t(426)][t(405)]("y")&&0===this[t(426)][t(405)]("z"))return this[t(435)];{const e=this[t(438)]();return this._layer.getMap()[t(452)](e)}}getOffset(){return this[pf(426)]}[pf(455)](e){const r=pf;if(!(e instanceof t.Offset))throw new Error(r(458));return this[r(426)]=e,this[r(465)]&&this[r(399)](this._layer),this}[pf(456)](){return this._element}[pf(423)](t){const e=pf;return"object"==typeof t&&(this[e(410)]&&this[e(403)][e(430)](this._element),this[e(403)][e(451)](t),this._element=t),this}getDomId(){return this[pf(411)]}[pf(400)](t){const e=pf;return this[e(411)]=t,this[e(425)].id=this[e(411)],this}[pf(436)](t){const e=pf;if(!(t instanceof mf))throw new Error(e(415));return this[e(465)]=t,this._reAdjust(t),this._layer[e(417)][e(451)](this[e(425)]),this}[pf(449)](){const t=pf;return this[t(465)]?this[t(465)]:null}[pf(438)](){const e=pf;if(this._layer){let r=this._layer[e(432)]()[e(443)](this[e(435)]),i=r[e(404)]()+this[e(426)].getValue("X"),n=r[e(453)]()+this._offset[e(405)]("Y");return new t.Pixel(i,n)}throw new Error(e(450))}}const df=["_overlayMap","_id","setLayer","name","_visibility","2XNBRdH","_onMap","style","36214kxDZRs","removeLayer","values","position","contentEditable","The map must be set","visible must be boolean type!","indexOf","removeChild","Map","push","207375fEeIZM","display","addOverlays","The parameter must be hmap.Map","createElement","destroy","zIndex","getId","height","block","splice","createUnique","clearFogAndLand","delete","getMap","length","setMap","visibility","_layer","none","12AAUBaY","394307EwDLOC","set","removeOverlaysByFilter","setVisibility","10891NDhcCr","getOverlayByAttribute","appendChild","width","hasOwnProperty","string","clear","The parameter must be an instance of Overlay","getDomId","removeOverlaysByAttribute","redraw","_reAdjust","has","_overlayToAdd","constructor","94803axtdgM","_map","removeOverlay","OverlayLayer","boolean","addOverlay","container","286259atNlBz","100%","499pNuaxN","The parameter must be String","draw","getAllOverlays","_container","getOverlaysByDomId","150oaZMGP"],_f=yf;function yf(t,e){return df[t-=378]}!function(t,e){const r=yf;for(;;)try{if(720545===parseInt(r(419))*-parseInt(r(414))+parseInt(r(443))*-parseInt(r(449))+-parseInt(r(415))*-parseInt(r(380))-parseInt(r(394))+parseInt(r(441))+parseInt(r(434))+-parseInt(r(383)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(df);class mf{constructor(e,r){const i=yf;r=r||{},this._id=t.Aid[i(405)](this[i(433)][i(378)]),this[i(378)]=e,this[i(435)]=null,this[i(450)]=new(window[i(392)]),this._overlayToAdd=[],this.container=null,this[i(379)]=!r[i(423)](i(411))||r[i(411)]}getLayerType(){return Ot[yf(437)]}getName(){return this[yf(378)]}[_f(401)](){return this._id}addOverlay(t){const e=_f;if(!(t instanceof gf))throw new TypeError("The parameter must be an instance of Overlay");for(let r of this[e(450)].values())if(t===r)return this;return this[e(435)]?(t[e(452)](this),this[e(450)].set(t[e(451)],t)):this[e(432)][e(393)](t),this}[_f(396)](t){const e=_f;if(t&&t.length>0)for(let r of t)this[e(439)](r);return this}[_f(448)](t){const e=_f;if(typeof t===e(424)){let r=[];const i=this._map?this[e(450)][e(385)]():this[e(432)];for(let n of i)n[e(427)]()===t&&r[e(393)](n);return r}throw new TypeError(e(444))}[_f(420)](t,e){const r=_f,i=this[r(435)]?this[r(450)][r(385)]():this[r(432)];let n=[];for(let s of i)s.get(t)===e&&n[r(393)](s);return n}[_f(446)](){const t=_f;return this[t(435)]?[...this._overlayMap[t(385)]()]:this[t(432)]}removeAllOverlays(){const t=_f;let e=0;const r=this[t(450)][t(385)]();for(let i of r)e++,this[t(440)].removeChild(i[t(447)]),i._layer=null;return this._map[t(381)]=!0,this[t(450)][t(425)](),e+=this[t(432)][t(409)],this[t(432)]=[],e}[_f(436)](t){const e=_f;if(t instanceof gf){const r=t[e(451)];if(this._overlayMap[e(431)](r)){this[e(450)][e(407)](r),this.container[e(391)](t[e(447)]),t[e(412)]=null;const i=this[e(432)][e(390)](t);return i>-1&&this[e(432)][e(404)](i,1),1}return 0}throw new TypeError(e(426))}[_f(406)](){}[_f(428)](t,e){const r=_f,i=this[r(435)]?this[r(450)].values():this[r(432)];let n=0;for(let s of i)s.get(t)===e&&(n++,this[r(440)][r(391)](s[r(447)]),this._overlayMap[r(407)](s[r(451)]),s[r(412)]=null);return n}[_f(417)](t){const e=_f,r=this[e(435)]?this._overlayMap[e(385)]():this._overlayToAdd;let i=0;for(let n of r){!0===t(n)&&(i++,this.container[e(391)](n[e(447)]),this[e(450)][e(407)](n[e(451)]),n[e(412)]=null)}return i}[_f(429)](){this[_f(445)]()}[_f(445)](){const t=_f;if(!this[t(435)])throw new TypeError(t(388));{const e=this[t(450)][t(385)]();for(let r of e)r[t(430)](this)}}[_f(410)](t){const e=_f;if(!(t instanceof sg))throw new TypeError(e(397));this[e(435)]=t,this[e(440)]=document[e(398)]("div"),this.container.style[e(386)]="absolute",this[e(440)][e(382)][e(422)]=e(442),this[e(440)][e(382)][e(402)]=e(442),this[e(440)].style[e(395)]=!0===this[e(379)]?"block":e(413),this[e(440)][e(387)]=!1,t.container[e(421)](this.container);for(let t of this[e(432)])t[e(452)](this),this._overlayMap[e(416)](t._id,t);this[e(432)]=[]}[_f(408)](){return this[_f(435)]}[_f(418)](t=!0){const e=_f;if(typeof t!==e(438))throw new TypeError(e(389));return this[e(379)]!==t&&(this[e(379)]=t,this._map&&(this[e(440)][e(382)].display=e(!0===t?403:413))),this}setLayerZIndex(t){const e=_f;this[e(440)]&&(this[e(440)][e(382)][e(400)]=t)}getLayerZIndex(){const t=_f;if(this[t(440)])return this[t(440)][t(382)][t(400)]}[_f(399)](){const t=_f;this[t(435)]&&this[t(435)][t(384)](this);for(let t of Object.keys(this))delete this[t]}}const If=["_invisibleViewport","getZIndex","2846JVOCGg","getElements","1xdmvgy","getLayerContainer","projectionMatrix","map must be instance of 'Map'!","autoClear","setVisibility","49349NNpcsM","_visibility","draw","384122zFLInY","WebGLRenderer","getPMatrix","tickFuncs","origin","layerContainer","Camera","704300HbiFkK","56eKfTOL","type of parameter 'origin' must be instance of Array and it's length must be three!","prepareData","_map","2BwnjyB","_init","renderer","orderLayerByIndex","117213tdiTwJ","13727HxmKtC","getInvisibleViewport","_layers","static","isAdded","_context","addToRenderQueue","Scene","reset","multiply","push","ThreeJSLayer","elements","2JaTFmY","visible must be boolean type!","342883kyVEQb","redraw","filter","camera","getVisibility","_layerContainer","_camera"],xf=vf;function vf(t,e){return If[t-=375]}!function(t,e){const r=vf;for(;;)try{if(397905===-parseInt(r(426))+parseInt(r(390))+parseInt(r(422))*parseInt(r(375))+parseInt(r(417))+-parseInt(r(418))*-parseInt(r(399))+-parseInt(r(401))*-parseInt(r(407))+parseInt(r(388))*-parseInt(r(410)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(If);class bf{constructor(t,e={}){const r=vf;this[r(395)]=e[r(415)],this[r(405)]=!!e[r(405)]&&e[r(405)],this[r(414)]=e[r(414)]?e[r(414)]:[0,0,0],this[r(405)]?this[r(378)]=!1:this[r(378)]=!0,this[r(413)]=[],this[r(397)]=[],this[r(423)]()}[xf(423)](){const t=xf;if(!(this[t(395)]instanceof cf))throw TypeError("type of parameter 'layerContainer' must be instance of 'LayerContainer'!");if(!(this[t(414)]instanceof Array&&3==this.origin.length))throw TypeError(t(419));{let e=this.origin;this[t(414)][0]=Number(e[0])?Number(e[0]):0,this[t(414)][1]=Number(e[1])?Number(e[1]):0,this.origin[2]=Number(e[2])?Number(e[2]):0}let e=this._layerContainer._container,r=this[t(395)][t(380)];this[t(424)]=new(THREE[t(411)])({canvas:e,context:r}),this.renderer.autoClear=!1,this.camera=new(THREE[t(416)]),this.scene=new(THREE[t(382)])}setMap(t){const e=xf;if(!(t instanceof sg))throw new TypeError(e(404));this[e(421)]=t,this[e(395)][e(377)][e(385)](this),this._layerContainer[e(425)]()}setZIndex(t){const e=xf;this._zIndex=t,this[e(395)]&&(this[e(395)].orderLayerByIndex(),this[e(391)]())}getLayerType(){return Ot[xf(386)]}[xf(398)](){return 0}[xf(394)](){return!0}[xf(406)](t=!0){const e=xf;if("boolean"!=typeof t)throw new TypeError(e(389));this[e(408)]!==t&&(this._visibility=t),this[e(391)]()}setVisibleInViewport(t,e){const r=xf;e?this[r(397)]=this[r(397)][r(392)]((e=>e!=t)):this[r(397)][r(385)](t),this[r(391)]()}[xf(376)](){return this[xf(397)]}[xf(402)](){return this[xf(395)]}redraw(t=1){const e=xf;this[e(395)]&&this[e(395)].redraw(t)}[xf(420)](){}[xf(409)](){const e=xf,r=this;if(r[e(421)]){let i=this[e(414)],n=r[e(421)][e(396)][e(412)](),s=r._map[e(396)].getViewMatrix(),o=(new t.Matrix4)[e(384)](s).translate(i[0],i[1],i[2]),a=(new t.Matrix4)[e(384)](n)[e(384)](o);r[e(393)][e(403)][e(387)]=a[e(400)](),r.renderer.state[e(383)]()}for(let t of this.tickFuncs)t();r[e(424)].render(r.scene,r.camera)}[xf(381)](t){const e=xf;!t[e(379)]&&(this.tickFuncs[e(385)](t),t[e(379)]=!0)}}var wf=["getZoom","498410aXlOXT","MAPEVENT_ROTATEEND","moveEndEvent","getRight","coordinates_mercator","updateCallback","addListener","zIndex","908188NsFWoa","bearing","1xGWJXh","updateData","_set","processData","destination-out","none","get","style","point","canvasLayer","_srid","_width","startMoveY","mousemove","coordinates","215399sdFEOm","methods","_canvasUpdate","deg)","getTop","argCheck","stop","getLeft","filter","top","height","add","display","2rERvOc","rotateEndEvent","time","_redraw","MAPEVENT_ZOOMSTART","getContainerVSpan","rotating","MAPEVENT_MOVING","size","getExtent","600920zGXgbN","_height","transferToMercator","_expectShow","moveStartEvent","canvas","getData","options","change","pitch","devicePixelRatio","dataSet","bindEvent","initAnimator","update","unbindEvent","register","_eyeZ","addData","mapVOptions","animation","rotateX(","context","transferCoordinate","moveEvent","resizeEvent","drawContext","off","zooming","getRotateAngle","zoomEvent","init","draw","zoomEndEvent","getContainerHSpan","removeChild","stopAniamation","rotateStartEvent","addAnimatorEvent","extengChangeEvent","width","position","undefined","getCamera","clear","startBearing","mousemoveEvent","maxZoom","trails","MAPEVENT_MOVESTART","clearRect","getCenter","mapContainer","startPitch","restore","isEnabledTime","_size","1754012NgoeLN","unit","set","click","startMoveX","getPixelFromCoordinate","zoomStartEvent","_show","animator","759961BuofRa","rgba(0, 0, 0, .1)","absolute","getMeterPerMapUnit","getBottom","px, 0px)","clickEvent","bind","DEGREE","transform","COLOR_BUFFER_BIT","error","perspective","globalCompositeOperation","function","left","container","map","MAPEVENT_ZOOMING","mapv","baiduMapLayer","clearData","event","removeData","847005VuKQyT","getContext","__proto__","_hide"],Tf=Ef;function Ef(t,e){return wf[t-=454]}!function(t,e){for(var r=Ef;;)try{if(521926===-parseInt(r(525))+-parseInt(r(540))*parseInt(r(501))+parseInt(r(538))+parseInt(r(530))+-parseInt(r(555))*parseInt(r(568))+-parseInt(r(578))+parseInt(r(492)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wf);let Cf=function(){};try{window&&window[Tf(520)]&&(Cf=window.mapv[Tf(521)][Tf(527)])}catch(QI){console[Tf(512)](QI)}class Af extends Cf{constructor(t,e,r,i){var n=Tf;if(super(t,r,i),Cf){this[n(518)]=t;var s=this;i=i||{},s[n(466)](i),s[n(560)](i),s[n(580)](),this[n(589)].on(n(586),(function(){s[n(580)]()})),this[n(549)]=e,this.stopAniamation=!1,this[n(455)]=i[n(455)],this[n(507)]=this[n(507)][n(508)](this),this[n(481)]=this[n(481)][n(508)](this),this[n(518)][n(523)].addListener(p.MAPEVENT_EXTENTCHANGED,this[n(474)].bind(this)),this[n(518)][n(523)][n(536)](p[n(572)],this[n(498)][n(508)](this)),this.map[n(523)][n(536)](p[n(519)],this[n(465)].bind(this)),this[n(518)][n(523)][n(536)](p.MAPEVENT_ZOOMEND,this.zoomEndEvent[n(508)](this)),this[n(518)][n(523)][n(536)](p.MAPEVENT_ROTATESTART,this[n(472)][n(508)](this)),this.map[n(523)][n(536)](p[n(531)],this[n(569)][n(508)](this)),this[n(518)][n(523)].addListener(p[n(484)],this[n(582)][n(508)](this)),this[n(518)].event.addListener(p[n(575)],this[n(459)][n(508)](this)),this[n(518)][n(523)][n(536)](p.MAPEVENT_MOVEEND,this.moveEndEvent[n(508)](this)),this[n(590)](),this[n(581)]=!0}}[Tf(580)](){var e=Tf;if("3857"!==this[e(518)].getCrs()[e(550)]){var r=this.dataSet.get();r=this[e(589)][e(458)](r,(function(r){var i=e,n=t.Transformer[i(510)](new t.Coordinate(r[0],r[1]),4326,3857);return[n._x,n._y]}),e(554),e(534)),this[e(589)][e(542)](r)}}[Tf(507)](t){var e=Tf,r=t[e(548)];super[e(507)](r,t)}[Tf(481)](t){var e=Tf,r=t[e(548)];super[e(481)](r,t)}bindEvent(){var t=Tf,e=this[t(518)];this.options.methods&&(this[t(585)][t(556)].click&&e[t(523)][t(594)](t(495),this[t(507)]),this[t(585)][t(556)][t(553)]&&e[t(523)][t(594)](t(553),this[t(481)]))}[Tf(593)](){var t=Tf,e=this[t(518)];this[t(585)][t(556)]&&(this[t(585)][t(556)].click&&e[t(462)](t(495),this.clickEvent),this[t(585)][t(556)][t(553)]&&e[t(462)](t(553),this[t(481)]))}getContext(){var t=Tf;return this[t(549)].canvas[t(526)](this[t(457)])}[Tf(596)](t,e){var r=Tf,i=t;t&&t[r(546)]&&(i=t[r(546)]()),this.dataSet[r(566)](i),this.update({options:e})}[Tf(592)](t){var e=Tf,r=t||{},i=r.data;i&&i.get&&(i=i[e(546)]()),null!=i&&this[e(589)].set(i),super[e(592)]({options:r.options})}[Tf(584)](){return this[Tf(589)]}[Tf(524)](t){var e=Tf;if(this[e(589)]){var r=this[e(589)][e(546)]({filter:function(r){return null==t||typeof t!==e(515)||!t(r)}});this[e(589)][e(494)](r),this[e(592)]({options:null})}}[Tf(522)](){var t=Tf;this[t(589)]&&this[t(589)][t(479)](),this[t(592)]({options:null})}[Tf(541)](t,e){var r=Tf;t&&t[r(546)]&&this[r(589)][r(494)](t.get()),this[r(592)]({options:e})}[Tf(557)](e){var r=Tf;if(!this[r(549)])return;var i=this,n=i[r(585)][r(455)],s=this.canvasLayer[r(518)],o=s[r(577)](),a=o[r(533)]()-o[r(562)](),h=(o[r(559)](),o[r(505)](),a/this[r(549)].canvas[r(475)]);this[r(549)][r(583)][r(565)];var l=this.getMeterPerMapUnit(r(509))*h;const c=o[r(562)](),u=o[r(559)]();t.Transformer[r(510)](new t.Coordinate(c,u),4326,3857);var p=this[r(526)]();if(i[r(490)]()){if(void 0===e)return void this[r(479)](p);"2d"==this[r(457)]&&(p.save(),p[r(514)]=r(544),p.fillStyle=r(502),p.fillRect(0,0,p[r(583)][r(475)],p.canvas[r(565)]),p[r(489)]())}else this[r(479)](p);if("2d"==this[r(457)])for(var f in i.options)p[f]=i.options[f];else p.clear(p[r(511)]);if(i[r(585)].minZoom&&s[r(529)]()<i.options.minZoom||i[r(585)][r(482)]&&s[r(529)]()>i.options[r(482)])return;"2d"!=this.context&&this[r(549)][r(588)];var g=s[r(486)]();s.getPixelFromCoordinate(g);var d={fromColumn:"4326"==s.getCrs()[r(550)]?r(554):r(534),transferCoordinate:function(e){var i=s[r(497)](new t.Coordinate(e[0],e[1]));return[i._x,i._y]}};void 0!==e&&(d[r(563)]=function(t){var i=r,s=n[i(483)]||10;return!!(e&&t.time>e-s&&t[i(570)]<e)});var _=i[r(589)][r(546)](d);this[r(543)](_);const y=s[r(497)](new t.Coordinate(0,0));y.x=y._x,y.y=y._y,"m"==i[r(585)][r(493)]?(i[r(585)][r(576)]&&(i[r(585)]._size=i[r(585)][r(576)]/l),i[r(585)][r(475)]&&(i.options[r(551)]=i[r(585)][r(475)]/l),i.options[r(565)]&&(i[r(585)]._height=i[r(585)][r(565)]/l)):(i[r(585)][r(491)]=i[r(585)][r(576)],i[r(585)][r(579)]=i[r(585)][r(565)],i[r(585)][r(551)]=i[r(585)][r(475)]),this[r(461)](p,_,i[r(585)],y),i[r(585)].updateCallback&&i[r(585)][r(535)](e)}[Tf(504)](t){var e;return"M"===t?e=1:t===Tf(509)&&(e=2*Math.PI*6378137/360),e}[Tf(466)](t){var e=Tf,r=this;r[e(585)]=t,this.initDataRange(t),this[e(457)]=r.options[e(457)]||"2d",r[e(585)][e(537)]&&this[e(549)]&&this.canvasLayer.setZIndex(r[e(585)][e(537)]),this[e(591)]()}destroy(){var t=Tf;this[t(593)](),this[t(522)](),this[t(500)]&&this[t(500)][t(561)](),this.animator=null,this[t(549)]=null}[Tf(473)](){}removeEvent(){var t=Tf;this.canvasLayer[t(487)][t(470)](this[t(549)][t(583)])}[Tf(474)](){var t=Tf;this[t(460)](),this[t(574)]||this[t(463)]||this[t(571)]()}[Tf(460)](){var t=Tf,e=this[t(549)][t(583)];e[t(547)][t(476)]=t(503),e[t(547)][t(564)]="0px",e[t(547)][t(516)]="0px";var r=typeof window===t(477)?{}:window,i=this.canvasLayer[t(588)]=r[t(588)]||1;e[t(475)]=this[t(518)][t(469)]()*i,e.height=this.map[t(573)]()*i,(!this[t(549)][t(454)][t(457)]||"2d"==this[t(549)][t(454)][t(457)])&&e.getContext("2d").scale(i,i),e[t(547)][t(475)]=this.map[t(517)].width,e[t(547)][t(565)]=this.map[t(517)][t(565)]}[Tf(582)](){var e=Tf;this[e(488)]=this[e(518)][e(464)](e(587)),this[e(480)]=this[e(518)][e(464)](e(539));var r=this[e(518)][e(497)](new t.Coordinate(0,0));this[e(496)]=r._x,this[e(552)]=r._y,this.animation&&(this[e(471)]=!0),this[e(574)]||this.zooming||(this._expectShow=this.canvasLayer[e(583)][e(547)][e(567)]!==e(545))}moveEvent(){var e=Tf;this.canvasLayer[e(487)].style[e(513)]=this[e(518)][e(478)]()[e(595)]+"px";var r=this[e(518)][e(464)]("pitch")-this[e(488)],i=-this[e(518)][e(464)](e(539))+this.startBearing,n=this.map.getPixelFromCoordinate(new t.Coordinate(0,0)),s=n._x-this[e(496)],o=n._y-this[e(552)];this[e(526)]().canvas[e(547)].transform=e(456)+r+"deg) rotateZ("+i+e(558)+" translate3d("+s+"px, "+o+e(506)}[Tf(532)](){this[Tf(571)]()}[Tf(571)](){var t=Tf;this.stopAniamation=!1,this[t(526)]()[t(583)][t(547)].transform="",this[t(557)](),!0===this[t(581)]&&this[t(499)]()}[Tf(498)](){this.zooming=!0,this._hide()}[Tf(465)](){var t=Tf;this.stopAniamation=!1,this.getContext()[t(583)][t(547)].transform="",this[t(557)](),!0===this[t(581)]&&this[t(499)]()}[Tf(468)](){this.zooming=!1}[Tf(472)](){var t=Tf;this[t(574)]=!0,0!==this[t(518)].getRotateAngle("pitch")&&this[t(528)]()}[Tf(569)](){this[Tf(574)]=!1,this._redraw()}[Tf(479)](t){var e=Tf;t&&t.clearRect&&t[e(485)](0,0,this[e(518)][e(469)](),this[e(518)][e(573)]())}[Tf(467)](){this[Tf(557)]()}[Tf(528)](){var t=Tf;this[t(549)][t(583)][t(547)][t(567)]=t(545)}_show(){var t=Tf;this[t(549)].canvas.style[t(567)]="block"}}var Mf=["getCamera","1499994EnrlFS","_show","getContext","729604lXibbF","show","style","visibility","125087AvuCXh","insertBefore","createUnique","_canvasUpdate","appendChild","addLayer","renderer","getTopLeft","layerID","nextSibling","clearData","canvas","mapVOptions","310367IsGsPq","setVisibility","28371AnhFwe","update","getElementById","absolute","removeData","undefined","createElement","10UQXmyo","2khPlqx","parentNode","removeChild","_eyeZ","hide","context","_createCanvas","1051qgfWmW","getContainerHSpan","4DYfLXJ","mapContainer","moveTo","1655gGDuaT","container","setMap","115762djqZTw","getNorthWest","mapvLayer","width","height","dataSet","map","getContainerVSpan","setZIndex","getData"],Sf=Pf;function Pf(t,e){return Mf[t-=376]}!function(t,e){for(var r=Pf;;)try{if(759442===-parseInt(r(421))+parseInt(r(407))*parseInt(r(391))+parseInt(r(425))*-parseInt(r(401))-parseInt(r(418))+-parseInt(r(392))*-parseInt(r(382))-parseInt(r(384))+parseInt(r(399))*parseInt(r(404)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Mf);class Rf{constructor(e,r,i){var n=Pf;this.map=e,this.id=i[n(377)]?i.layerID:t.Aid[n(427)](n(409)),delete i.layerID,this[n(381)]=i,this[n(412)]=r,this[n(424)]=!0,this[n(413)]&&this.map[n(430)](this)}[Sf(406)](t){var e=Sf;this.map=t,this[e(431)]=new Af(this[e(413)],this,this[e(412)],this[e(381)]),this[e(380)]=this._createCanvas(),this[e(431)][e(428)](),this[e(402)]=t[e(405)],this.mapContainer[e(429)](this[e(380)]),this[e(402)].style.perspective=this.map[e(417)]()[e(395)]+"px"}removeFromMap(){var t=Sf;this[t(402)][t(394)](this[t(380)]),this[t(431)].destroy()}[Sf(383)](t){var e=Sf;t!==this.visibility&&(this[e(424)]=t,t?this[e(422)]():this.hide())}[Sf(403)](t,e){var r=Sf;const i=document[r(386)](this[r(380)].id);if(e=void 0===e||e){const e=document[r(386)](t);return void(i&&e&&e[r(393)].insertBefore(i,e))}const n=document.getElementById(t);if(i){if(n[r(378)])return void n[r(393)][r(426)](i,n[r(378)]);n[r(393)][r(429)](i)}}[Sf(376)](){var t,e=Sf,r=this[e(413)];r&&(t=r.getBounds()[e(408)]());return t}addData(t,e){this.renderer.addData(t,e)}update(t){var e=Sf;this.renderer[e(385)](t)}getData(){var t=Sf;return this[t(431)]&&(this[t(412)]=this[t(431)][t(416)]()),this[t(412)]}removeData(t){var e=Sf;this[e(431)]&&this[e(431)][e(388)](t)}[Sf(379)](){var t=Sf;this.renderer[t(379)]()}[Sf(422)](){var t=Sf;return this[t(431)]&&this[t(431)][t(419)](),this}[Sf(396)](){var t=Sf;return this[t(431)]&&this[t(431)]._hide(),this}[Sf(398)](){var t=Sf,e=document[t(390)](t(380));e.id=this.id,e.style.position=t(387),e[t(423)].top="0px",e[t(423)].left="0px";var r=typeof window===t(389)?{}:window,i=this.devicePixelRatio=r.devicePixelRatio||1;return e[t(410)]=this[t(413)][t(400)]()*i,e[t(411)]=this[t(413)][t(414)]()*i,(!this[t(381)][t(397)]||"2d"==this.mapVOptions[t(397)])&&e[t(420)]("2d").scale(i,i),e[t(423)].width=this[t(413)][t(400)](),e.style[t(411)]=this[t(413)][t(414)](),e}[Sf(415)](t){this[Sf(380)].style.zIndex=t}}const Lf=["1073727MTGdDB","multiplyVector3","distanceToCamera","localMatrix","length","169YJUiEq","1JAurDl","1627ZlXHAX","push","updatePainterType","MESH_TEXTURE","649717MueWAK","getBBox","setParent","splice","set","getVisibility","vertexData","setScale","_calcTransformDirection","hasOwnProperty","translate","direction","end","_bbox","fillSymbol","buffer","options","remove","updateBBox","141qQQMew","transpose","setPosition","worldMatrix","traverse","max","selected","index","_attributes","get","visible","getRootParent","origin","880858LXZcNm","_painterType","setHighlight","children","getHighlight","indexof","getPainterType","_visible","add","intersectRay","4603rUUOJd","normalMatrix","intersectCoordinate","_elements","setVisibility","the Mesh is an abstract class,and can not be instanced!","15dirSuv","1EKyKby","multiply","loop","updateWorldMatrix","MESH_COLOR","_selected","clone","outlineStrength","774455vtDdxe","MESH_GROUP","a_position","rotate","setInverseOf","a_color","meshes","update","parent","setRotate","7559TtXWKO","a_normal","outlineColor","createVertexData"];function Ff(t,e){return Lf[t-=274]}const Df=Ff;!function(t,e){const r=Ff;for(;;)try{if(730016===parseInt(r(301))*parseInt(r(334))+-parseInt(r(300))*-parseInt(r(319))+-parseInt(r(323))*-parseInt(r(329))+parseInt(r(294))*parseInt(r(328))-parseInt(r(309))-parseInt(r(284))+-parseInt(r(353))*parseInt(r(330)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Lf);class Of extends t.Model{constructor(e={}){const r=Ff;if(super(),new.target===Of)throw new TypeError(r(299));this[r(350)]=e,this[r(295)]=new t.Matrix4,this[r(326)]=new t.Matrix4,this[r(274)]=new t.Matrix4,this._attributes=e[r(343)](r(279))?e[r(279)]:null,this[r(291)]=!e[r(343)]("visible")||e[r(281)],this[r(306)]=!!e[r(343)](r(277))&&e[r(277)],this[r(303)]=e[r(343)]("loop")?e.loop:20,this[r(348)]=e[r(343)](r(348))?e[r(348)]:new t.ColorFill(new t.Color(200,200,200,1)),this.mode="TRIANGLES",this[r(285)]=this[r(348)]instanceof t.ColorFill?t.painterType[r(305)]:t.painterType[r(333)],this[r(347)]=null,this[r(340)]=null,this[r(287)]=[],this[r(317)]=null,this[r(315)]=[],this[r(321)]=new t.Color(255,0,0,1),this[r(308)]=0}setOutline(e,r=new t.Color(255,0,0,1)){const i=Ff;this[i(308)]=Math[i(276)](e,0),this[i(321)]=r}getAttributes(){return this[Ff(279)]}getAllChildren(){const t=Ff;return this[t(315)]=this[t(275)](this),this[t(315)]}[Df(275)](t){const e=Df;let r=[];r[e(331)](t);for(let i=0;i<t[e(287)][e(327)];i++)r.push(...this[e(275)](t[e(287)][i]));return r}[Df(304)](t){const e=Df;t&&t instanceof Of?this.worldMatrix=t[e(274)][e(307)]()[e(302)](this[e(326)]):this[e(274)]=this[e(326)][e(307)](),this[e(295)][e(313)](this[e(274)])[e(354)]();for(let t of this.children)t[e(304)](this)}[Df(336)](t){const e=Df;this[e(317)]&&this[e(317)][e(351)](this),this.parent=t}[Df(282)](){const t=Df;let e=this;for(;null!==e[t(317)];)e=e[t(317)];return e}[Df(292)](t){const e=Df;this[e(287)][e(331)](t),t[e(336)](this)}[Df(351)](t){const e=Df,r=this[e(287)][e(289)](t);this.children[e(337)](r,1)}createVertexData(){const t=Df,e=new Map;return e[t(338)](t(311),[]),e[t(338)](t(314),[]),e[t(338)](t(320),[]),e[t(338)]("a_textureCoord",[]),e[t(338)](t(278),[]),e}[Df(339)](){return this._visible}[Df(298)](t){this[Df(291)]=t,this.update()}update(){const t=Df;this[t(340)]=null,this[t(349)]=null}[Df(290)](){return this[Df(285)]}[Df(332)](e=!0){const r=Df;let i=this[r(348)]instanceof t.ColorFill?t.painterType[r(305)]:t.painterType[r(333)];return 0!==this[r(287)].length&&(i=t.painterType[r(310)]),e&&(this[r(285)]=i),i}[Df(335)](){const t=Df;return this[t(352)](),this[t(347)]}[Df(352)](){const e=Df;!this[e(340)]&&this[e(322)]();let r=this[e(340)][e(280)](e(311)),i=new t.Vector3(r[0],r[1],r[2]),n=this[e(274)][e(324)](i),s=n[e(297)][0],o=n[e(297)][1],a=n._elements[2],h=n[e(297)][0],l=n[e(297)][1],c=n[e(297)][2];for(let t=r.length-3;t>=0;t-=3){i[e(338)](r[t],r[t+1],r[t+2]),n=this[e(274)][e(324)](i);let u=n[e(297)][0],p=n[e(297)][1],f=n._elements[2];s>u?s=u:h<u&&(h=u),o>p?o=p:l<p&&(l=p),a>f?a=f:c<f&&(c=f)}i=null,this[e(347)]=new t.BBox(s,o,a,h,l,c)}[Df(307)](){return null}[Df(293)](e){const r=Df;!this[r(340)]&&this.createVertexData();let i=new t.Matrix4;i[r(302)](this[r(274)]);let n=new t.Matrix4;n[r(313)](i);const s=e[r(307)]();s[r(283)]=n[r(324)](s[r(283)]),s.end=n[r(324)](s[r(346)]),s[r(345)]=s[r(346)].substract(s[r(283)]),s[r(342)]();let o=this[r(340)][r(280)]("index"),a=this[r(340)][r(280)]("a_position"),h=[],l=[],c=new t.Vector3,u=new t.Vector3,p=new t.Vector3;for(let e=0,i=o[r(327)]-2;e<i;e+=3){let i=3*o[e];c.set(a[i],a[i+1],a[i+2]),i=3*o[e+1],u[r(338)](a[i],a[i+1],a[i+2]),i=3*o[e+2],p.set(a[i],a[i+1],a[i+2]),h=[c,u,p];let n=t.Intersect3D.rayIntersectTriangle(s,h);n&&l[r(331)](n)}if(l[r(327)]>0){let n=Number.POSITIVE_INFINITY,s=null;for(let o=0,a=l.length;o<a;o++){const a=l[o];let h=i[r(324)](new t.Vector3(a._x,a._y,a._z)),c=new t.Coordinate(h[r(297)][0],h[r(297)][1],h[r(297)][2]),u=e[r(325)](c);u<n&&(n=u,s=c)}return this[r(296)]=s,{distance:n,feature:this}}return null}[Df(288)](){return this[Df(306)]}[Df(286)](t){const e=Df;return this[e(306)]=Boolean(t),this[e(316)](),this}[Df(355)](t,e,r){const i=Df;let n=this[i(326)][i(297)];return n[12]=t,n[13]=e,n[14]=r,this}setTranslate(t,e,r){const i=Df;return this[i(326)][i(344)](t,e,r),this}[Df(318)](t,e,r){const i=Df;return this[i(326)][i(312)](t,1,0,0),this[i(326)][i(312)](e,0,1,0),this.localMatrix.rotate(r,0,0,1),this}[Df(341)](t,e,r){return this[Df(326)].scale(t,e,r),this}}const Nf=["MultiPoint","_tranformParas","set","_line","origin","layerName","93974oLMhBL","_elements","_resortByDistance","feature","length","201BstPJE","intersectRay","has","_bbox","getCoordinate","_tolerancePixel","setStart","_getFeatureTolerance","_camera","FbxModelInstanceLayer","STRETCH_TEXTURE","destroy","S3MLayer","_start","setTarget","LinearRing","GeoJSONTileLayer","getVisibility","VectorTileLayer","157030AAtrWb","tolerance","end","getElement","distance","587TpKnuu","getType","setElement","getRadius","_mid","getLayerType","intersectCoordinate","get","abs","'.map' is not valid!","_getToleranceFromSize","raycasterIntersect","getOrdinate","_target","setTolerance","Point","3847thzAvv","FbxModelLayer","MeshLayer","getModelById","direction","getTransformParas","4ZoMwRI","_hitCoord","calculateRay","distanceToCamera","getWidth","Polygon","Line","ClusterLayer","getStyle","getSize","map","getOwnPropertyNames","getLineSymbols","PointsLayer","getHitCoordinate","8TIfYrr","getResolution","Tile3DLayer","64821qPuFEl","getElements","248200EemJqB","175300fqDrGk","_calcTransformDirection","setFromCoordinate","_map","GLTFLayer","MultiPolygon","push","coord must be instance of Coordinate!","enableHashCode","getAllMathModels","clone","VectorLayer","name","intersect","getCamera","sort"],Bf=Uf;function Uf(t,e){return Nf[t-=277]}!function(t,e){const r=Uf;for(;;)try{if(148823===-parseInt(r(279))+parseInt(r(331))*-parseInt(r(368))-parseInt(r(280))+parseInt(r(353))*-parseInt(r(277))-parseInt(r(302))+parseInt(r(326))+-parseInt(r(347))*-parseInt(r(307)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Nf);class kf{constructor(e){const r=Uf;if(!e||!e[r(363)])throw new Error(r(340));this._map=e[r(363)],this[r(315)]=this._map[r(294)](),this[r(312)]=e&&e[r(327)]?e[r(327)]:5,this[r(300)]=new t.Vector3,this[r(328)]=new t.Vector3,this[r(351)]=new t.Vector3,this._line=null,this._hitCoord=null}[Bf(345)](t){this._tolerancePixel=t}[Bf(290)](){const t=Bf;let e=new kf({map:this[t(283)]});return e[t(300)]=this.origin[t(290)](),e[t(328)]=this.end[t(290)](),e.direction=this[t(351)][t(290)](),e[t(297)]=this[t(297)],e}[Bf(367)](){return this[Bf(354)]}[Bf(352)](){return this[Bf(297)]}_calcTransformDirection(){const t=Bf,e=this.direction[t(290)]();let r=this.getMaxAxis(e),i=r+1;3===i&&(i=0);let n=i+1;if(3===n&&(n=0),e[t(329)](r)<0){const t=n;n=i,i=t}0===e.getElement(r)&&e[t(333)](r,1e-10),this[t(297)]=[e,i,n,r]}getMaxAxis(t){const e=Bf,r=Math[e(339)](t[e(329)](0)),i=Math[e(339)](t[e(329)](1)),n=Math[e(339)](t[e(329)](2));return r>i?r>n?0:2:i>n?1:2}[Bf(314)](e){const r=Bf;let i=0,n=this[r(312)];if(e instanceof Of)return 0;switch(e.getGeometry()[r(332)]()){case t.GeometryType[r(346)]:case t.GeometryType[r(296)]:let s=e[r(361)]().getMarkerSymbols()[0];if(s instanceof t.Icon){let t=s[r(362)]();n=0,i=(t.getHeight()+t[r(357)]())/4}else s instanceof t.IconFont?(i=s.getFontSize()/2,n=0):s instanceof t.Circle&&(i=s[r(334)](),n=0);break;case t.GeometryType[r(359)]:case t.GeometryType[r(322)]:i=e[r(361)]()[r(365)]()[0][r(357)]()/2,i=i<3?3:i;break;case t.GeometryType[r(358)]:case t.GeometryType[r(285)]:}return this[r(341)](n+i)}_getToleranceFromSize(t){const e=Bf;return this[e(283)][e(369)](this[e(283)].getZoomWithInterval())*t}[Bf(356)](t){const e=Bf;return(this[e(300)]._elements[0]-t._x)*(this[e(300)][e(303)][0]-t._x)+(this[e(300)][e(303)][1]-t._y)*(this[e(300)]._elements[1]-t._y)+(this[e(300)][e(303)][2]-t._z)*(this[e(300)][e(303)][2]-t._z)}[Bf(321)](t){const e=Bf;this._target=[t[e(343)]("X"),t[e(343)]("Y"),t[e(343)]("Z")],this[e(354)]=t}[Bf(313)](t){const e=Bf;this[e(320)]=[t[e(343)]("X"),t.getOrdinate("Y"),t[e(343)]("Z")]}[Bf(355)](e){const r=Bf;return this[r(344)]=[e[r(343)]("X"),e[r(343)]("Y"),e[r(343)]("Z")],this[r(354)]=e,this[r(351)][r(298)](this[r(344)][0]-this[r(320)][0],this._target[1]-this[r(320)][1],this[r(344)][2]-this[r(320)][2]),this[r(300)][r(298)](this[r(320)][0],this[r(320)][1],this[r(320)][2]),this[r(328)].set(this[r(344)][0],this[r(344)][1],this[r(344)][2]),this[r(281)](),this[r(299)]=new t.Line([new t.Point(new t.Coordinate(...this[r(300)][r(278)]())),new t.Point(new t.Coordinate(...this[r(328)][r(278)]()))]),!0}[Bf(282)](e){const r=Bf;if(!(e instanceof t.Coordinate))throw new TypeError(r(287));this[r(354)]=e;const i=this[r(315)][r(311)](),n=i._x,s=i._y,o=i._z;this[r(351)][r(298)](e[r(343)]("X")-n,e[r(343)]("Y")-s,e[r(343)]("Z")-o);let a=this.direction.length();const h=this[r(283)].getCamera().getFPlaneDistance(),l=h/(50*a);let c=n+l*this.direction[r(329)](0),u=s+l*this.direction[r(329)](1),p=o+l*this[r(351)][r(329)](2);this[r(300)].set(c,u,p);const f=3*h/a;let g=n+f*this[r(351)][r(329)](0),d=s+f*this[r(351)][r(329)](1),_=o+f*this[r(351)][r(329)](2);return this[r(328)][r(298)](g,d,_),this[r(351)].set(g-c,d-u,_-p),this[r(281)](),this[r(299)]=new t.Line([new t.Point(new t.Coordinate(...this[r(300)][r(278)]())),new t.Point(new t.Coordinate(...this[r(328)].getElements()))]),!0}[Bf(293)](e=[],r=!0){const i=Bf;let n=[];if(!this[i(299)]||e[i(306)]<1)return n;for(let r=0,s=e.length;r<s;r++){const s=e[r];if(!s[i(288)]||!s.getVisibility())continue;let o=null;switch(s[i(336)]()){case Ot[i(291)]:case Ot[i(360)]:case Ot[i(325)]:o=s[i(342)](this);for(let t of o){if(!t[i(324)]())continue;const e=this._getFeatureTolerance(t),r=t[i(308)](this,e,this[i(283)]);r&&(t[i(301)]=s[i(292)],t[i(337)]=r[i(337)],n[i(286)]({distance:r[i(330)],feature:t}))}break;case Ot[i(323)]:o=s[i(342)](this);for(let e of o){if(!e.getVisibility())continue;const r=this[i(314)](e),s=e[i(308)](this,r,this._map);s&&(e[i(337)]=s.intersectCoordinate,n[i(286)]({distance:e.getPainterType()==t.painterType[i(317)]||e.getPainterType()==t.painterType.STRETCH?s.distanceToCamera:s[i(330)],feature:e}))}break;case Ot[i(284)]:case Ot.ObjModelLayer:case Ot[i(348)]:o=s.raycasterIntersect(this);let e=new Map;for(let t of o){let r=t[i(310)].intersectRay(this);r&&s.enableStrict&&(r=t[i(308)](this)),r&&(!e[i(309)](t[i(335)])||e[i(338)](t[i(335)])[i(356)]>r[i(356)])&&(t[i(337)]=r[i(337)],t[i(356)]=r[i(356)],e.set(t[i(335)],t))}for(let[t,r]of e){let e=s[i(350)](t);e.selectedMesh=r,e[i(337)]=r[i(337)],n[i(286)]({distance:r[i(356)],feature:e})}break;case Ot[i(366)]:o=s[i(342)](this);const r=this[i(312)];for(let e of o){const s=new t.Point(e).intersectRay(this,r);s&&n[i(286)]({distance:s,feature:e})}break;case Ot.GeosolutionLayer:let a=s[i(289)]();for(let t=a[i(306)]-1;t>-1;t--){let e=a[t][i(308)](this);e[i(306)]>0&&n[i(286)](...e)}break;case Ot[i(319)]:case Ot[i(370)]:case Ot.TerrainLayer:case Ot[i(349)]:case Ot[i(316)]:n[i(286)](...s[i(342)](this))}}r&&n.length>1&&this[i(304)](n);const s=[];for(let t=0,e=n[i(306)];t<e;t++)s[i(286)](n[t][i(305)]);return s}[Bf(304)](t){const e=Bf;return t[e(295)]((function(t,r){const i=e;return t[i(330)]-r[i(330)]}))}[Bf(318)](){const t=Bf;let e=Object[t(364)](this);for(let r=0,i=e[t(306)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}var Vf=["_colorArr","100535jMnppc","applyMatrix","309962oUSpZF","getColor","setIntensity","intensity","1013149pguKIH","hasOwnProperty","2gryqbh","16hRyEFV","2gkSxBV","42607MNmeUb","color","getIntensity","getNormalColorArr","135748jgyeKc","the Light is an abstract class,and can not be instanced!","118572uUwhiq","106575vMuefl"],Gf=zf;function zf(t,e){return Vf[t-=492]}!function(t,e){for(var r=zf;;)try{if(486678===-parseInt(r(494))*parseInt(r(504))+parseInt(r(505))*-parseInt(r(503))+parseInt(r(502))*parseInt(r(509))-parseInt(r(492))-parseInt(r(511))+parseInt(r(496))+parseInt(r(500)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Vf);class Hf{constructor(e={}){var r=zf;if(new.target===Hf)throw new TypeError(r(510));this.color=e[r(506)]?e.color:new t.Color(255,255,255),this[r(499)]=e[r(501)]("intensity")?e[r(499)]:1}[Gf(495)](){}[Gf(497)](){return this[Gf(506)]}[Gf(508)](){return this[Gf(493)]}setColor(t){var e=Gf;this.color=t,this[e(493)]=this[e(506)].toNormalizeArray()}[Gf(498)](t){this[Gf(499)]=t}[Gf(507)](){return this[Gf(499)]}}var jf=["_colorArr","intensity","804966pAahTp","setColor","getDirection","1231061EXDHyT","getNormalColorArr","277955njtboV","direction","setDirection","4KdJyux","_init","color","1596375UpSrMg","1651007CXyLUy","getIntensity","getColor","15333vktlha","toNormalizeArray","hasOwnProperty","1yCbBuL","1738003AiofhU"],Yf=$f;function $f(t,e){return jf[t-=426]}!function(t,e){for(var r=$f;;)try{if(883761===parseInt(r(447))+-parseInt(r(438))+parseInt(r(443))*parseInt(r(440))+-parseInt(r(435))*parseInt(r(431))+parseInt(r(432))+-parseInt(r(446))+parseInt(r(428)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(jf);class Xf extends Hf{constructor(t={}){var e=$f;super(t),this[e(441)]=t[e(441)]?t[e(441)]:[0,1,-1],this[e(434)]=t[e(430)](e(434))?t[e(434)]:1,this[e(444)]()}[Yf(444)](){var t=Yf;this._colorArr=this[t(445)][t(429)]()}[Yf(437)](){return this.direction}[Yf(442)](t){this[Yf(441)]=t}[Yf(427)](){return this[Yf(445)]}[Yf(439)](){return this[Yf(433)]}[Yf(436)](t){var e=Yf;this.color=t,this[e(433)]=this[e(445)][e(429)]()}setIntensity(t){this[Yf(434)]=t}[Yf(426)](){return this[Yf(434)]}}const Wf=["3uEdPsH","cos","getHours","566160bctCBW","_calcDay","46ZWLcnf","_calcLight","parameter 'center' must be instance of Coordinate","parameter 'time' must be instance of Date","getOrdinate","_calcDirectLatitude","abs","41140JfKwJp","getDay","sin","direction","155490dxHzNE","tan","_calcDirectLongitude","104319tPJrkq","getFullYear","getMonth","1blhBgH","2487WQjuUP","27085kQVluX","510437bSAvKZ"],Zf=qf;function qf(t,e){return Wf[t-=344]}!function(t,e){const r=qf;for(;;)try{if(284267===parseInt(r(351))+-parseInt(r(352))*-parseInt(r(345))+parseInt(r(357))*-parseInt(r(349))+-parseInt(r(350))*-parseInt(r(348))+parseInt(r(368))+-parseInt(r(364))+-parseInt(r(355)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Wf);class Jf extends Xf{constructor(t){super(t)}setSunDirection(e,r){const i=qf;if(!(e instanceof Date))throw TypeError(i(360));if(!(r instanceof t.Coordinate))throw TypeError(i(359));let n=r[i(361)]("X"),s=r[i(361)]("Y"),o=this[i(344)](n,e),a=this[i(362)](e);this[i(358)](n,s,o,a)}[Zf(358)](t,e,r,i){const n=Zf;let s=(i-e)*Math.PI/180,o=r-t;if(Math[n(363)](o)>180&&(o=360-Math[n(363)](o)),Math[n(363)](o)>90)this.direction=[0,0,0];else{let t=o*Math.PI/180,e=[-Math[n(369)](t),-Math[n(369)](s),-1];this[n(367)]=e||[0,0,0]}}_calcDay(t,e,r){let i=0;return i=t%4==0&&t%100!=0||t%400==0?1:0,[0,31,i+59,i+90,i+120,i+151,i+181,i+212,i+243,i+273,i+304,i+334][e-1]+r}[Zf(362)](t){const e=Zf;let r=t[e(346)](),i=t[e(347)]()+1,n=t[e(365)](),s=6.2831853*(this[e(356)](r,i,n)-79.6764-.2422*(r-1985)+(r-1985)/4)/365.2422;return.3723+23.2567*Math[e(366)](s)+.1149*Math[e(366)](2*s)-.1712*Math[e(366)](3*s)-.758*Math[e(353)](s)+.3656*Math.cos(2*s)+.0201*Math[e(353)](3*s)}[Zf(344)](t,e){let r,i=e[Zf(354)]()+e.getMinutes()/60;return t>=0?(r=15*(12-i)+t,r>180&&(r-=360)):(r=t-15*(i-12),r<-180&&(r+=360)),r}}const Kf=["DEPTH_BUFFER_BIT","1211802IrxOVS","1uUNeCe","3jaABCp","removeFrame","getFrameById","map","_map","frames","deactive","547328JoXGzi","clear","COLOR_BUFFER_BIT","length","195158jUEcPK","73PYkXzM","1406742OivHuG","removeAll","906DgItbY","destroy","728269indNcY","935141eFSAft","removeFrameById","splice","render"];function Qf(t,e){return Kf[t-=196]}const tg=Qf;!function(t,e){const r=Qf;for(;;)try{if(791686===parseInt(r(212))+-parseInt(r(206))+-parseInt(r(199))*parseInt(r(210))+-parseInt(r(211))*-parseInt(r(214))+-parseInt(r(197))+parseInt(r(217))+-parseInt(r(216))*-parseInt(r(198)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Kf);class eg{constructor(t){this[Qf(204)]=[],this.map=t}addFrame(t,e){const r=Qf;e=(e=(e=e||this[r(204)][r(209)])<0?0:e)>this[r(204)].length?this[r(204)][r(209)]:e,this[r(204)].splice(e,0,t),t[r(203)]=this[r(202)]}[tg(200)](t){const e=tg,r=this[e(204)][e(209)];for(let i=0;i<r;i++)t.id===this[e(204)][i].id&&(this[e(204)][i][e(215)](),this[e(204)][e(219)](i,1))}[tg(218)](t){const e=tg,r=this[e(204)][e(209)];for(let i=0;i<r;i++)t===this[e(204)][i].id&&(this[e(204)][i][e(215)](),this[e(204)].splice(i,1))}[tg(201)](t){const e=tg,r=this[e(204)].length;for(let i=0;i<r;i++)if(t===this[e(204)][i].id)return this[e(204)][i]}[tg(213)](){const t=tg,e=this.frames[t(209)];for(let r=0;r<e;r++)this[t(204)][r][t(215)]();this[t(204)]=[]}[tg(220)](){const t=tg,e=this[t(204)][t(209)];for(let r=0;r<e;r++){r===e-1?this[t(204)][r].deactive():this.frames[r+1].active(this[t(202)]);const i=this.frames[r].gl;i[t(207)](i[t(208)]|i[t(196)]|i.STENCIL_BUFFER_BIT),this.frames[r][t(220)](),r<e-1&&this.frames[r+1][t(205)]()}}}const rg=["_layerContainers","offsetHeight","getContainerHSpan","getLeft","the parameter center is not an invalidate Coordinate","checkSite","name","_hoverDelayTime","origin","setFromCoordinate","_maxLevel","_setViewPort","_printMap","position","_touchEventAddProp","restrictedExtent","hmap.Map:before using default sky, you must define initState.resource first!","getLayersByName","addEventListener","_rotateCtr","abs","_resolutions","touchmove","setLayerZIndex","minus","_getElementSize","redraw","hmap.initState.apiKey or hmap.initState.checkSite was incorrect, please check!","MAPMOUSEEVENT_CLICK","the resolutions array is empty!","getHighlightColor","_controls","cos","setSkyBox","setOrdinate","orderLayerByIndex","dotsPerInch","_initControl","enableDamping","MAPEVENT_REDRAW","href","map container is not a 'div' dom-element!","zoomToExt","_drawSky","getProjMatrix","setDepthMode","_showGraticule","minLevel","MAPTOUCHEVENT_TOUCHMOVE","clone","onerror","MAPMOUSEEVENT_MOUSEMOVE","indexOf","getSunlight","_zoomCtr","observe","setMaxZoom","frameHelper","targetTouches","_zoom","getGeoGridLayer","hmapadministrator","toNormalizeArray","_camera","getCenter","zoomTo","oncontextmenu","getMaxZoom","_stop","getBottom","_dampingView","_skyImage","_depthMode","addLayer","_register","no layer found, please check parameters!","zoom parameter must be an integer!","destroy","enableInteractive","mousedown","getCrs","unRegister","_pick","pauseFly","find","_map","mouseup","getY","code","splitScreen","getSrid","_containerId","getExtentHSpan","maxZoom must be not less than minZoom!","mouseout","_crs","402774JEXMOT","not match hmap server...","enableRotate","render","mouseover","getMapContainer","resetRotate","getTopLeft","getCoordinateFromPixel","_minLevel","getPanEnable","hidden","crossOrigin","117296kcUguI","hmap server exist problem...","getGeoTL","getTime","getUnit","_srid","function","_createDomOptions","cancelAnimationFrame","feature","desZoom","_enableLight","status","pow","removeLayer","_onMap","pixel must be instance of hmap.basetype.Pixel!","_center","frames","getLayerCount","getRotateZ","json","register","getZoom","_viewDelta","_maxThreads","setContainerZIndex","getId","deactivate","getLayerZIndex","Magnifier","_initGeoGrid","_rotateZ","anonymous","dampingFactor","call","MAPEVENT_EXTENTCHANGED","maxThreads","images/customSky/pos-y.jpg","getResolutions","cursor","zoom","lonlat","top","createElement","bearing","preventDefault","resumeFly","_redraw","22658rGUYWS","MAPEVENT_ROTATING","_rotateX","_splitScreen","getRotateAngle","_initSkyBoxTex","fire","getRight","getCamera","getScale","getLayerContainer","_zoomInterval","_hover","canvasAlpha","getVPMatrix","style","16059UoHVLD","zoomOut","hmap","_restrictedExtent","getExtent","setZoomEnable","1828GCHkbN","getRotateX","_canvasAlpha","log","dispatch","getControlByType","splice","getName","_enableRotate","pitch","updateContainerSize","string","click","isInteger","_enablePan","images/customSky/pos-x.jpg",".js","_resize","online","getZoomWithInterval","getLandColor","setPanEnable","then","hoverDelayTime","_flyToFrame","viewport","_getPixelsArround","_zoomWithInterval","setSplitScreenMode","_pitch","download","setUnRotated","innerHTML","keyCode","_initSunLight","get3DCoordinateFromPixel","_viewOperating","_hasMove","getControls","getContainerId","_updateProjMatrix","The height of map div cannot be 0","center","setCenter","_enableZoom","rotateZ","_createRessByCrs","MAPEVENT_TILTCHANGE","offsetWidth","getFogBackgroundCoords","image/png","hmapCanvas","maxPitch","getSize","resource","animate","online hmap getUSTPKey is failed...","_getValidateCenter","concat","clientTop","removeAllLayers","bind","pan","_panCtr","getBearing","mapPixel","clientX","removeChild","apiKey","coord must be instance of hmap.basetype.Coordinate!","getSkyImage","getOrdinate","images/customSky/neg-z.jpg","setSkyImage","4326","getLayers","push","enableZoom","getViewMatrix","length","toFixed","zoom parameter out of range!","_id","_redrawType","hasOwnProperty","_maxPitch","ray","setHighlightColor","clientY","setMap","mouseOverHandler","getMapBackgroundCoords","getViewport","load fogImage error","_timer","atob","getValue","setMinZoom","_getLayerContainerById","toDataURL","getBoundingClientRect","appendChild","getFogAndLand","sin",".png","/hmapadministrator/service/rs/v1/ustpkey/validateGet/","getZoomEnable","getX","getRotateEnable","setFlySpeedRatio","DIV","isFinite","keyup","activate","detectFeaturesAtPixel","_removeLayerContainer","canvas","showGraticule","printMap","enablePan","addControl","btoa","graticuleLayer","getFogStartDepth","63108bzGSgJ","images/customSky/neg-y.jpg","getContainerVSpan","3hYWLsi","getContainer","enableLight","rotate","cloudStatus","degrees","desCoord","getLayerContainerById","mousemove","getPitch","inchesPerUnit","get2Dist","mousewheel","crs","resolutions","56252PnDJly","getResolution","src","clientHeight","_showSkybox","getTop","setResolutions","MAPTOUCHEVENT_TOUCHSTART","_flyPaused","left","flyTo","_directKey","removeControl","getElementsByTagName","_landColor","data","getRestrictedExtent","container","equals","relative","dblclick","pitch must be a number between 0 and 85!","_fogColor","_bearing","getAllLayers","getMinZoom","setCrs","active","/hmapadministrator/pages/resource/","from","setRotateEnable","images/customSky/pos-z.jpg","MAPEVENT_MOVING","100%","floor","_afTime","getZIndex","tagName","2IuTris","offline hmap getUSTPKey is failed...","setLandColor","_addLayerContainer","_keydownTimer","zoomInterval","getLayerContainers","MAPEVENT_ZOOMCHANGE","toString","zoomIn","http","images/customSky/neg-x.jpg","clientLeft","finish","2gfsPNw","panTo","event","overflow","MAPEVENT_ROTATEEND","clickHandler","now","_unit","getControlType","_printing","resolutions is illegal","currentIndex","mapdiv","height","afTime","split","_overlayLayers","_flySpeedRatio","_mouseOverFeatures","getPixelFromCoordinate","clientWidth","error","splitScreen 123","MAPEVENT_ZOOMCHANGED","setTolerance","getMap","width","maxLevel","114QIBMeM","offMap"],ig=ng;function ng(t,e){return rg[t-=124]}!function(t,e){const r=ng;for(;;)try{if(141238===parseInt(r(210))+parseInt(r(401))+-parseInt(r(450))*-parseInt(r(195))+parseInt(r(290))*parseInt(r(472))+-parseInt(r(262))*parseInt(r(466))+parseInt(r(248))*parseInt(r(192))+-parseInt(r(388)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(rg);class sg{constructor(e,r={},i){const n=ng;this._callbackFn=typeof i==n(407)?i:function(){console[n(475)]("The map is completed!")},new Promise(((e,r)=>{const i=n;if(t.initState[i(490)]){let r=location[i(300)],n=document[i(223)]("script"),s=Array[i(239)](n)[i(376)]((t=>{const e=i;return t[e(212)]&&t[e(212)].indexOf(e(258))>-1&&t[e(212)][e(344)](e(353))>-1&&t[e(212)][e(344)](e(488))>-1}));if(s){let t=s.src[i(277)]("/");r=t[0]+"//"+t[2]}fetch(r+"/hmapadministrator/service/rs/v1/ustpkey/getUSTPKey/admin")[i(494)]((t=>t.json()))[i(494)]((n=>{const s=i;let o=n.data||t.initState[s(136)],a=Date[s(268)]();o=o+"+"+a,o=encodeURIComponent(window[s(189)](o));const h=r+(s(173)+o);fetch(h)[s(494)]((t=>{const e=s;if(200!==t[e(413)])throw new Error("hmap server exist problem...");return t[e(422)]()})).then((function(i){const n=s;if("0"!==i[n(380)]||!i[n(225)])throw new Error(n(319));let o=window[n(163)](i[n(225)])[n(277)]("+")[1];if((new Date(parseInt(o)).getTime()-a)/6e4>10)throw new Error(n(389));t.initState[n(526)]=r+n(238),e()})).catch((function(t){throw new Error(t)}))})).catch((t=>{throw new Error(i(124))}))}else{if(!t.initState.apiKey||!t.initState[i(297)])throw new Error(i(319));{let r=Date.now(),n=t.initState[i(136)]+"+"+r;n=encodeURIComponent(window.btoa(n));let s=t.initState[i(297)]+(i(173)+n);fetch(s)[i(494)]((function(t){const e=i;if(200!==t[e(413)])throw new Error(e(402));return t[e(422)]()}))[i(494)]((function(t){const n=i;if("0"!==t[n(380)]||!t[n(225)])throw new Error(n(319));let s=window[n(163)](t[n(225)])[n(277)]("+")[1];if((new Date(parseInt(s))[n(404)]()-r)/6e4>10)throw new Error(n(389));e()})).catch((function(t){throw new Error(i(249))}))}}}))[n(494)]((()=>{const i=n;if(this[i(416)]=!0,this._hasMove=!1,this._crs=r[i(208)]&&r[i(208)]instanceof t.Crs?r[i(208)]:new t.Crs(i(142)),this[i(474)]=!!r.canvasAlpha&&r[i(463)],t.initState[i(269)]=this._crs.getUnit(),t.initState[i(406)]=this[i(387)][i(382)](),this[i(153)]=r[i(524)]?r[i(524)]:65,r.pitch&&!(Number[i(179)](r[i(481)])&&r[i(481)]>=0&&r[i(481)]<=85))throw new Error(i(231));if(r.bearing&&!Number[i(179)](r[i(446)]))throw new Error("bearing must be a number");this[i(501)]=r.pitch?r[i(481)]>this[i(153)]?this[i(153)]:r[i(481)]:0,this._bearing=r[i(446)]?r[i(446)]:0,this[i(264)]=new A,r[i(209)]?this[i(313)]=r[i(209)]:this[i(313)]=this[i(518)](this[i(387)]);let s=this[i(313)].length;if(s<=0)throw new TypeError(i(272));if(this._minLevel=void 0!==r.minLevel?r[i(339)]:0,this[i(302)]=void 0!==r[i(289)]?r[i(289)]:s-1,!(this[i(397)]>=0&&this[i(397)]<=this._maxLevel&&this[i(302)]<=s-1))throw"The parameters minLevel and maxLevel are not valid";this[i(351)]=r[i(152)](i(442))?+r.zoom:11,this[i(499)]=this[i(351)],this[i(461)]=r[i(253)]||5,this[i(299)]=r[i(495)]||100,this[i(418)]=r.center?r[i(514)]:new t.Coordinate(0,0,0),this[i(469)]=r.restrictedExtent?r[i(307)]:this._crs.getExtent(),this[i(292)]=[],this[i(278)]=[],this[i(227)]=this[i(408)](e),this[i(251)]("hmapCanvas");const o=this.getResolution(this[i(351)]);this[i(274)]=typeof e===i(483)?document.getElementById(e):e;const a=this[i(317)](this[i(274)]),h=a[0],l=a[1];this._center=this[i(125)](this[i(418)],this._zoom);const c=this[i(356)]()[i(139)]("X"),u=this.getCenter()[i(139)]("Y");if(this[i(355)]=new N(this,c,u,o,h,l,this[i(372)](),this[i(501)],this[i(233)]),this[i(154)]=new kf({map:this}),this[i(323)]=[],this[i(232)]=[.75,.75,.75,1],this[i(224)]=[.4,.4,.4,1],this._highlightColor=[0,1,1,.8],this[i(527)]=null,this[i(486)]=!r[i(152)](i(187))||r[i(187)],this[i(516)]=!r.hasOwnProperty(i(145))||r[i(145)],this[i(480)]=!r.hasOwnProperty(i(390))||r[i(390)],this[i(330)]=!r[i(152)](i(330))||r[i(330)],this[i(435)]=r[i(152)](i(435))?r[i(435)]:.05,this[i(425)]={zoom:0,pan:[0,0],rotate:[0,0]},this[i(508)]=!1,this[i(426)]=r[i(152)]("maxThreads")?r[i(438)]:6,this[i(329)](),this.hasBindFramebuffer=!1,this[i(273)]=0,this[i(162)]=null,this[i(280)]=[],this[i(349)]=new eg(this),this[i(150)]=t.Aid.createUnique(this.constructor[i(298)]),this[i(245)]=r.hasOwnProperty("afTime")?r[i(276)]:16,this.af=new T(this,50,this[i(245)]),this._register(),this[i(338)]=!!r.hasOwnProperty(i(185))&&r[i(185)],this[i(432)](),this._enableLight=!r[i(152)]("enableLight")||r[i(197)],this[i(506)](),r.splitScreen&&-1===[1,2,3][i(344)](r.splitScreen))throw new Error(i(284));this._splitScreen=r[i(381)]||1,this._currentSplitScreen=1,this[i(218)]=!1,this._flySpeedRatio=1,setTimeout((()=>{this._callbackFn()}))}))}[ig(500)](t=1){const e=ig;-1!==[1,2,3][e(344)](t)?(this._splitScreen=t,this[e(318)]()):console[e(283)]("splitScreen 123")}[ig(322)](){return this._highlightColor}[ig(155)](t){return this._highlightColor=t.toNormalizeArray(),this}[ig(432)](){const t=ig;this._showGraticule&&(this[t(190)]=new of,this[t(365)](this[t(190)]))}[ig(352)](){return this[ig(190)]}[ig(506)](){this.sunlight=new Jf({direction:[-.5,1.1,-2],color:new t.Color(255,255,255,1),intensity:1})}[ig(197)](){this[ig(412)]=!0}disableLight(){this[ig(412)]=!1}[ig(345)](){return this.sunlight}[ig(329)](){const t=ig;this[t(398)]()&&(this._panCtr=new V,this[t(188)](this[t(131)])),this[t(174)]()&&(this._zoomCtr=new W,this[t(188)](this[t(346)])),this[t(176)]()&&(this[t(311)]=new j,this[t(188)](this[t(311)]))}[ig(518)](t){const e=ig;let r=[];const i=t[e(470)]().getWidth()/256;for(let t=0;t<25;t++)r[e(144)](i*Math[e(414)](.5,t));return r}_createDomOptions(t){const e=ig;let r=typeof t===e(483)?document.getElementById(t):t;if(null!==r&&r[e(247)]===e(178)){r[e(465)][e(305)]=e(229),r[e(465)][e(265)]=e(399);const t=this[e(317)](r);t[0];if(0===t[1])throw e(513);let i=document.createElement("DIV");return i[e(465)][e(305)]=e(229),i[e(465)].width=e(243),i.style[e(275)]="100%",i[e(465)][e(265)]=e(399),i[e(358)]=function(){return!1},r[e(169)](i),i}throw new Error(e(333))}[ig(251)](t=ig(523)){const e=ig;let r;r=t==e(523)&&0==this[e(474)]?new cf(t,!1):new cf(t,!0),r[e(157)](this),this[e(227)][e(169)](r[e(196)]());let[i,n]=this[e(317)](this[e(227)]),s=r[e(196)]();return s[e(288)]=i,s[e(275)]=n,this[e(292)][e(144)](r),r}[ig(393)](){return this[ig(227)]}_getElementSize(t){const e=ig;let r=t[e(168)]();return[r[e(288)]||t.clientWidth||t[e(520)]||parseInt(t[e(465)].width),r[e(275)]||t[e(213)]||t[e(293)]||parseInt(t[e(465)][e(275)])]}[ig(489)](){const e=ig,r=this[e(470)]();let[i,n]=this[e(317)](this[e(227)]);const s=this._layerContainers;for(let t=0;t<s.length;t++){let r=s[t]._container;r.width=i,r[e(275)]=n}this[e(355)][e(482)](i,n);const o=new t.Pixel(i/2,n/2);this[e(418)]=this[e(396)](o),this[e(515)](this[e(418)],this[e(351)]);const a=this[e(470)]();!r[e(228)](a)&&this.event[e(476)](new R(p[e(437)]))}[ig(510)](){return this._controls}[ig(458)](){return this[ig(355)]}[ig(366)](){const e=ig;let r=!1,i=!1,n=null;if(this[e(227)][e(310)](e(484),function(s){const o=e;!this[o(509)]&&!r&&(r=!0,i=!1,n=setTimeout(function(){const e=o;if(!i){i=!1,r=!1;const o=this[e(227)][e(168)]();s.mapPixel=new t.Pixel(s[e(134)]-o.left-this.container.clientLeft,s[e(156)]-o[e(444)]-this[e(227)][e(127)]),s.lonlat=this[e(396)](new t.Pixel(s.mapPixel[e(175)](),s[e(133)][e(379)]())),this[e(264)][e(456)](s),clearTimeout(n)}}[o(129)](this),200))}[e(129)](this)),this[e(227)][e(310)](e(230),function(s){const o=e;n&&(clearTimeout(n),n=null),i=!0,r=!1;const a=this[o(227)].getBoundingClientRect();s[o(133)]=new t.Pixel(s[o(134)]-a[o(219)]-this[o(227)][o(260)],s[o(156)]-a[o(444)]-this[o(227)][o(127)]),s.lonlat=this[o(396)](new t.Pixel(s[o(133)][o(175)](),s[o(133)][o(379)]())),this[o(264)][o(456)](s)}[e(129)](this)),this[e(227)][e(310)](e(371),function(r){const i=e,n=this.container.getBoundingClientRect();r[i(133)]=new t.Pixel(r[i(134)]-n.left-this[i(227)][i(260)],r[i(156)]-n[i(444)]-this[i(227)][i(127)]),r[i(443)]=this[i(396)](new t.Pixel(r.mapPixel.getX(),r.mapPixel[i(379)]())),this.event[i(456)](r)}.bind(this)),this.container[e(310)](e(203),function(r){const i=e;if(!this[i(416)])return;const n=this[i(227)][i(168)]();r[i(133)]=new t.Pixel(r[i(134)]-n[i(219)]-this[i(227)][i(260)],r[i(156)]-n[i(444)]-this.container[i(127)]),r[i(443)]=this.getCoordinateFromPixel(new t.Pixel(r[i(133)][i(175)](),r.mapPixel.getY())),this[i(264)].fire(r)}[e(129)](this)),this[e(227)][e(310)](e(386),function(r){const i=e,n=this.container[i(168)]();r.mapPixel=new t.Pixel(r[i(134)]-n[i(219)]-this.container[i(260)],r[i(156)]-n[i(444)]-this[i(227)][i(127)]),r.lonlat=this[i(396)](new t.Pixel(r[i(133)][i(175)](),r.mapPixel[i(379)]())),this[i(264)][i(456)](r)}.bind(this)),this[e(227)][e(310)](e(392),function(r){const i=e,n=this[i(227)][i(168)]();r[i(133)]=new t.Pixel(r[i(134)]-n[i(219)]-this[i(227)].clientLeft,r[i(156)]-n.top-this[i(227)][i(127)]),r[i(443)]=this[i(396)](new t.Pixel(r.mapPixel[i(175)](),r[i(133)].getY())),this[i(264)][i(456)](r)}[e(129)](this)),this[e(227)].addEventListener(e(378),function(r){const i=e;if(!this[i(416)])return;const n=this.container[i(168)]();r[i(133)]=new t.Pixel(r[i(134)]-n[i(219)]-this.container.clientLeft,r.clientY-n[i(444)]-this[i(227)][i(127)]),r[i(443)]=this.getCoordinateFromPixel(new t.Pixel(r[i(133)].getX(),r[i(133)].getY())),this[i(264)][i(456)](r)}[e(129)](this)),this.container[e(310)](e(207),function(r){const i=e;if(!this._onMap)return;const n=this[i(227)][i(168)]();r[i(133)]=new t.Pixel(r[i(134)]-n[i(219)]-this.container[i(260)],r[i(156)]-n[i(444)]-this[i(227)][i(127)]),r.lonlat=this[i(396)](new t.Pixel(r.mapPixel[i(175)](),r[i(133)][i(379)]())),this[i(264)][i(456)](r)}[e(129)](this)),this[e(227)].addEventListener("touchstart",function(t){const r=e;this[r(416)]&&(t[r(447)](),this.event[r(476)](new R(p[r(217)])),this[r(306)](t))}[e(129)](this)),this.container.addEventListener(e(314),function(t){const r=e;this[r(416)]&&(t[r(447)](),this[r(264)].dispatch(new R(p[r(340)])),this[r(306)](t))}[e(129)](this)),this[e(227)][e(310)]("touchend",function(t){const r=e;this[r(416)]&&(t[r(447)](),this[r(264)][r(476)](new R(p.MAPTOUCHEVENT_TOUCHEND)),this[r(306)](t))}[e(129)](this)),this[e(227)].contentEditable=!0,this.container[e(465)][e(441)]="default",this[e(227)][e(310)]("keydown",(t=>{const r=e,i=t[r(505)];[37,38,39,40].indexOf(i)<0||(this[r(252)]=requestAnimationFrame((()=>{this[r(221)](i,10)})))})),this[e(227)][e(310)](e(180),(t=>{const r=e,i=t.keyCode;[37,38,39,40][r(344)](i)<0||(cancelAnimationFrame(this[r(252)]),this._keydownTimer=null)})),ResizeObserver){new ResizeObserver((t=>{this[e(489)]()}))[e(347)](this.container)}}[ig(221)](t,e=10){const r=ig,i=e*this[r(211)]();let n,s,o=this.getRotateAngle(r(446))%360*Math.PI/180;[37,39][r(344)](t)>-1&&(o=Math.PI/2-o),n=i*Math[r(171)](o),s=i*Math[r(324)](o);let a=this.getCenter();37==t?(a[r(326)]("X",a.getOrdinate("X")-n),a[r(326)]("Y",a[r(139)]("Y")+s)):39==t?(a[r(326)]("X",a[r(139)]("X")+n),a[r(326)]("Y",a[r(139)]("Y")-s)):38==t?(a[r(326)]("X",a[r(139)]("X")+n),a[r(326)]("Y",a.getOrdinate("Y")+s)):40==t&&(a[r(326)]("X",a[r(139)]("X")-n),a.setOrdinate("Y",a.getOrdinate("Y")-s)),this[r(515)](a,this._zoomWithInterval)}[ig(306)](e){const r=ig,i=this[r(227)][r(168)](),n=e[r(350)][0]||e.changedTouches[0];e.mapPixel=new t.Pixel(n.clientX-i.left-this[r(227)][r(260)],n[r(156)]-i.top-this[r(227)].clientTop),e.lonlat=this.getCoordinateFromPixel(e.mapPixel),this[r(264)][r(456)](e)}addLayers(t,e=ig(523)){const r=ig,i=this[r(166)](e);for(let e=0;e<t[r(147)];e++){let n=t[e];if(n instanceof Dt||n instanceof bf||n instanceof mf||n instanceof Rf)if(n instanceof Dt){if(n[r(287)]())continue;n=i[r(365)](n)}else this.addLayer(n)}this[r(264)][r(476)](new R(p[r(331)]))}[ig(166)](t){const e=ig,r=this[e(292)];let i=null;for(let n=0;n<r.length;n++)if(t===r[n][e(511)]()){i=r[n];break}return!i&&(i=this._addLayerContainer(t)),i}[ig(188)](t){const e=ig;let r=!1;const i=this[e(323)][e(147)];for(let n=0;n<i;n++)if(this._controls[n].getControlType()===t[e(270)]()){if(this[e(323)][n].getControlType()!==h[e(431)])return void(r=!0);this[e(222)](this[e(323)][n])}!r&&(this[e(323)][e(144)](t),t[e(157)](this))}removeControl(t){const e=ig;if(t instanceof a)for(let r=0;r<this[e(323)][e(147)];r++)this._controls[r][e(428)]()===t[e(428)]()&&(t[e(291)](),this[e(323)][e(478)](r,1))}[ig(370)](){const t=ig;this[t(264)][t(373)](p[t(320)],this._pick[t(129)](this)),this.event[t(373)](p[t(343)],this[t(462)][t(129)](this)),this[t(264)][t(423)](p[t(320)],this[t(374)][t(129)](this)),this[t(264)].register(p[t(343)],this[t(462)].bind(this))}disableInteractive(){const t=ig;this[t(264)][t(373)](p[t(320)],this[t(374)][t(129)](this)),this.event[t(373)](p.MAPMOUSEEVENT_MOUSEMOVE,this[t(462)][t(129)](this))}[ig(374)](t){const e=ig;let r=t.mapPixel,i=this[e(182)](r);for(let r=0;r<i[e(147)];r++)if(i[r].clickHandler){let n=t;n.feature=i[r],i[r][e(267)](n)}}[ig(462)](t){const e=ig;clearTimeout(this._timer),this[e(162)]=setTimeout(function(){const e=ng;let r=t[e(133)],i=this[e(182)](r);if(i&&i[e(147)]>0){for(let r=0;r<this[e(280)][e(147)];r++){let i=t;i[e(410)]=this._mouseOverFeatures[r],this[e(280)][r].mouseOutHandler(i),this[e(280)][e(478)](r)}for(let r=0;r<i[e(147)];r++)if(i[r][e(158)]){let n=t;n[e(410)]=i[r],i[r][e(158)](n),this._mouseOverFeatures[e(144)](i[r])}}else for(let r=0;r<this[e(280)][e(147)];r++){let i=t;i[e(410)]=this[e(280)][r],this[e(280)][r].mouseOutHandler(i),this[e(280)][e(478)](r)}}[e(129)](this),this[e(299)])}[ig(365)](t,e,r=ig(523)){const i=ig;if(t instanceof Dt){if(t[i(287)]())return;t=this._getLayerContainerById(r)[i(365)](t,e)}else t instanceof mf?(t.setMap(this),this[i(278)][i(144)](t)):(t instanceof bf||t instanceof Rf)&&t[i(157)](this);return this.af[i(237)](0),t}[ig(254)](){return this._layerContainers}[ig(202)](t){const e=ig,r=this._layerContainers;let i=null;for(let n=0;n<r[e(147)];n++)t===r[n][e(511)]()&&(i=r[n]);return i}getViewMatrix(){const t=ig;return this[t(355)][t(146)]()}[ig(336)](){return this[ig(355)].getPMatrix()}[ig(464)](){const t=ig;return this[t(355)][t(464)]()}getFogDist(){const t=ig;return[this[t(355)][t(191)](),this[t(355)].getFogEndDepth()]}getFogColor(){return this._fogColor}[ig(492)](){return this[ig(224)]}setFogColor(t){const e=ig;this[e(232)]=t[e(354)]()}[ig(325)](e){const r=ig;let i=e;if(!(e&&e instanceof Array&&6==e[r(147)])){if(console[r(475)]("hmap.Map: the parameter of 'setSkyBox' is not Array of 6 length! using default!"),!t.initState[r(526)])throw TypeError(r(308));let e=t.initState[r(526)];i=[e+r(487),e+r(259),e+r(439),e+r(193),e+r(241),e+r(140)]}let n=this[r(292)][0];n[r(383)]==r(523)&&(!n[r(335)]&&n._initBackgroundSky(),n[r(335)][r(455)](i))}removeSkyBox(){const t=ig;let e=this[t(292)][0];"hmapCanvas"==e[t(383)]&&e[t(335)]&&(e._drawSky[t(214)]=!1)}[ig(141)](t){const e=ig;if(t instanceof Image)this[e(363)]=t;else if(typeof t==e(483)){let r=new Image;r.onload=function(){const t=e;this[t(363)]=r,this.af[t(237)](0)}[e(129)](this),r[e(342)]=function(t){const r=e;console[r(283)](r(161))}.bind(this),r[e(400)]=e(434),r.src=t}else this[e(363)]=null,this.af.active(0)}setCloudStatus(t){this[ig(199)]=t}[ig(138)](){return this[ig(363)]}[ig(250)](t){const e=ig;this[e(224)]=t[e(354)]()}[ig(170)](){const t=ig;return{fog:{a_position:this[t(355)][t(521)](),a_color:this.getFogColor(),a_checked:[0],index:[3,0,1,1,2,3],pointCount:5},land:{a_position:this[t(355)][t(159)](),a_color:this[t(492)](),a_checked:[0],index:[3,0,1,1,2,3],pointCount:5}}}[ig(303)](t){const e=ig;t[e(497)](0,0,t[e(184)][e(288)],t.canvas[e(275)])}_resizeCanvasToDisplaySize(t,e){const r=ig;e=e||1;const i=t.clientWidth*e|0,n=t[r(213)]*e|0;return(t[r(288)]!==i||t[r(275)]!==n)&&(t[r(288)]=i,t[r(275)]=n,!0)}[ig(318)](t=0){this.af.active(t)}[ig(449)](t=0){const e=ig;if(this[e(151)]=t,this[e(349)][e(419)][e(147)]>0){const t=this.frameHelper[e(419)][0];t.gl[e(261)](),t[e(237)](this)}const r=this[e(254)]();for(let t=0;t<r[e(147)];t++){r[t][e(318)](this[e(151)],this[e(453)])}if(this[e(349)][e(391)](),this[e(271)]&&this[e(304)](),this._dampingView(),1===t)return;const i=this[e(278)];for(let r=0;r<i[e(147)];r++)i[r][e(318)](t)}[ig(362)](){const e=ig;if(!this.enableDamping)return;const r=this.dampingFactor;if(!this[e(508)]){let i=this[e(425)],n=(1-r)*(1-r);if(i[e(130)][0]||i[e(130)][1]){let r=this[e(356)]();i[e(130)][0]*=n,i[e(130)][1]*=n;let s=new t.Coordinate(r._x+i[e(130)][0],r._y+i[e(130)][1]),o=this[e(281)](r),a=this.getPixelFromCoordinate(s);Math.abs(o._x-a._x)>=1||Math[e(312)](o._x-a._x)>=1?(this[e(263)](s),this[e(264)][e(476)](new R(p[e(242)]))):(i[e(130)][0]=0,i[e(130)][1]=0,this[e(264)].dispatch(new R(p.MAPEVENT_MOVEND)),this._viewOperating=!1)}(i[e(198)][0]||i.rotate[1])&&(i[e(198)][0]*=n,i[e(198)][1]*=n,i.rotate[0]=Math[e(312)](i[e(198)][0])<.01?0:i[e(198)][0],i[e(198)][1]=Math[e(312)](i.rotate[1])<.01?0:i.rotate[1],this[e(198)](e(481),i.rotate[0]),this[e(198)](e(446),i[e(198)][1]),i.rotate[0]||i[e(198)][1]?this.event[e(476)](new R(p.MAPEVENT_ROTATING)):(this[e(264)].dispatch(new R(p[e(266)])),this[e(508)]=!1),this[e(264)][e(476)](new R(p[e(437)])),this.af.active(0))}}[ig(194)](){const t=ig;return this[t(227)][t(213)]}[ig(294)](){const t=ig;return this[t(227)][t(282)]}[ig(372)](){return this[ig(387)]}[ig(236)](e){const r=ig;e&&e instanceof t.Crs&&(this[r(387)]=e,t.initState[r(406)]=this[r(387)][r(382)]())}[ig(525)](){const e=ig,r=this[e(294)](),i=this[e(194)]();return new t.Size(r,i)}[ig(403)](){const t=ig;return this[t(470)]()[t(395)]()}[ig(356)](){return this[ig(418)].clone()}[ig(470)](){const t=ig;return this[t(355)][t(470)]()}[ig(160)](){const t=ig;return[0,0,this[t(227)][t(282)],this[t(227)].clientHeight]}[ig(415)](t){const e=ig;if(t instanceof Dt){const r=t[e(460)]();if(null===r)return;r.removeLayer(t);0===r[e(143)]()[e(147)]&&this[e(183)](r),this[e(264)].dispatch(new R(p[e(331)]))}else if(t instanceof mf){const r=this._overlayLayers;for(let i=0;i<r[e(147)];i++)t===r[i]&&(r.splice(i,1),t._map=null,this[e(227)][e(135)](t[e(227)]))}this.af[e(237)](0)}getRestrictedExtent(){return this[ig(469)]}setRestrictedExtent(t){this[ig(469)]=t}[ig(125)](e,r){const i=ig;let n=r||this[i(424)]();const s=this[i(226)]();if(s){if(!s.containsCoord(e))return s[i(356)]();const r=s[i(295)](),o=s[i(457)](),a=s[i(361)](),h=s[i(215)](),l=this[i(211)](n),c=e.getOrdinate("X"),u=e[i(139)]("Y"),p=this[i(227)][i(282)]*l/2,f=this[i(227)][i(213)]*l/2;let g=c-p,d=u-f,_=c+p,y=u+f;return g=g>=r?g:r,d=d>=a?d:a,_=_<=o?_:o,y=y<=h?y:h,new t.Extent(g,d,_,y)[i(356)]()}return e}setCenter(e,r){const i=ig;if(!(e instanceof t.Coordinate))throw new TypeError(i(296));let n=void 0!==r?r:this.getZoom(),s=!1;if(n<this[i(397)]?n=this[i(397)]:n>this[i(302)]&&(n=this[i(302)]),n!==this[i(351)]&&n!==this._zoomWithInterval){const t=parseInt(n[i(256)]());this[i(351)]=Math.abs(n-t)<1e-6?t:Math[i(312)](n-t-1)<1e-6?t+1:t,s=!0}this[i(499)]=n;const o=this[i(470)]();this[i(418)]=this[i(125)](e[i(341)](),n),this[i(355)][i(515)](this[i(418)],this.getResolution(n));const a=this[i(470)]();null!=o&&null!=a&&(!o[i(228)](a)&&this[i(264)][i(476)](new R(p[i(437)])),this.af[i(237)](0),s&&(this.event[i(476)](new R(p[i(285)])),this[i(264)].dispatch(new R(p[i(255)]))))}[ig(263)](e,r=!1,i){const n=ig;e instanceof t.Coordinate&&(e[n(341)]()[n(326)]("Z",0),!this[n(418)][n(228)](e)&&this.setCenter(e,this._zoomWithInterval))}[ig(204)](){return this._pitch}[ig(132)](){return this[ig(233)]}[ig(220)](e,r,i){const n=ig;this[n(218)]=!1;let s=this,o=this[n(418)],a=e[n(152)](n(201))?e[n(201)]:this[n(418)],h=a[n(316)](o).getValue("x"),l=a[n(316)](o)[n(164)]("y"),c=this[n(501)],u=this[n(233)],p=this._zoomWithInterval,f=e[n(152)](n(481))?e[n(481)]:0,g=e[n(152)](n(446))?e[n(446)]:0,d=e[n(152)]("desZoom")?e[n(411)]:this._zoomWithInterval,_=d-p,y=Date[n(268)](),m=e[n(152)]("duration")?e.duration:1500,I=0,x=0,v=0,b={center:o,zoom:p,pitch:c,bearing:u,percentage:x/m};function w(t,e,r,i){return-r/2*(Math[n(324)](Math.PI*t/i)-1)+e}a instanceof t.Coordinate&&(s._stop(),function e(){const T=n;if(s[T(508)])return void s[T(360)]();if(s._flyPaused)return v=Date[T(268)]()-y-I,typeof i===T(407)&&i(b),void(s._flyToFrame=requestAnimationFrame(e));{const t=Date[T(268)]()-y-v;x+=s[T(279)]*(t-I),I=t}const E=w(x,o._x,h,m),C=w(x,o._y,l,m),A=w(x,c,f,m),M=w(x,u,g,m),S=w(x,p,_,m);if(x<m){const r=new t.Coordinate(E,C);s[T(515)](r,S),s.rotate(T(481),A-b.pitch),s[T(198)](T(446),M-b[T(446)]),b={center:r,zoom:S,pitch:A,bearing:M,percentage:x/m},typeof i===T(407)&&i(b),s._flyToFrame=requestAnimationFrame(e)}else s[T(515)](a,d),s[T(198)](T(481),c+f-b[T(481)]),s[T(198)](T(446),u+g-b[T(446)]),typeof r===T(407)&&r()}[n(436)](this))}[ig(177)](t){t<=0||(this[ig(279)]=t)}[ig(448)](){this._flyPaused=!1}[ig(375)](){this[ig(218)]=!0}stopFly(){this[ig(360)]()}[ig(360)](){const t=ig;return window[t(409)](this[t(496)]),this}[ig(357)](t){this[ig(515)](this.getCenter(),t)}[ig(182)](t,e=null,r=5){const i=ig;let n=[];if(e)for(let t=0;t<e.length;t++)n=n[i(126)](this.getLayersByName(e[t]));else n=this[i(234)](0);return n[i(147)]<=0?(console[i(283)](i(367)),null):(this[i(154)][i(286)](r),this[i(154)][i(301)](this[i(396)](t)),this.ray.intersect(n,!0))}shiftLayerZIndex(t,e){const r=ig;if(!(t instanceof Dt&&Number[r(485)](e)&&0!=e))return!1;t.setZIndex(t[r(246)]()+e),t[r(460)]()[r(327)]()}[ig(315)](t,e){const r=ig;if(!Number.isInteger(e))return!1;t instanceof Dt?(t.setZIndex(e),t[r(460)]()[r(327)]()):t instanceof mf&&t[r(315)](e),this[r(264)][r(476)](new R(p.MAPEVENT_ZOOMCHANGE))}[ig(369)](){const t=ig;for(let e=this[t(323)].length-1;e>=0;e--)this[t(323)][e][t(369)](),this[t(323)][e]=null;this[t(323)]=[],this.event[t(369)]();const e=this.getLayerContainers();for(let r=e.length-1;r>=0;r--)e[r].destroy(),e[r]=null,e[t(478)](r,1);const r=this[t(278)];for(let e=r[t(147)]-1;e>-0;e--){const i=r[e];r.splice(e,1),this[t(227)].removeChild(i[t(227)]),i._map=null}this.mapdiv[t(504)]=""}setLayerContainerZIndex(t,e){const r=ig,i=this[r(254)]();for(let n=0;n<i[r(147)];n++)if(t===i[n][r(511)]()){i[n][r(427)](e)}}getPixelFromCoordinate(e){const r=ig;if(!(e instanceof t.Coordinate))throw r(137);return this[r(355)][r(281)](e,this[r(227)][r(282)],this[r(227)][r(213)])}[ig(396)](e){const r=ig;if(!(e instanceof t.Pixel))throw"pixel must be instance of hmap.basetype.Pixel!";return this[r(355)][r(396)](e,this[r(211)](this[r(499)]))}[ig(507)](e,r){const i=ig;if(!(e instanceof t.Pixel))throw i(417);(!r||!(r instanceof Array))&&(r=this[i(234)](0).map((t=>t[i(298)])));let n,s=this[i(182)](e,r);return 0!=s[i(147)]&&(n=s[0].intersectCoordinate),n}getMaxResolution(){const t=ig;if(null===this._resolutions||0===this[t(313)].length)throw t(321);return this._resolutions[this[t(313)].length-1]}getMinResolution(){const t=ig;if(null===this[t(313)]||0===this[t(313)][t(147)])throw t(321);return this[t(313)][0]}[ig(440)](){return this._resolutions}[ig(216)](t){return this[ig(313)]=t,this}[ig(211)](t){const e=ig;if(!this[e(313)]||0===this[e(313)][e(147)])throw e(321);let r=null!=t?t:this[e(499)];if(r<0||r>=this[e(313)].length)throw e(149);if(Number[e(485)](r))return this._resolutions[r];{const t=Math[e(244)](r),i=t+1,n=this[e(313)][t];return n-(n-this[e(313)][i])*(r-t)}}[ig(459)](){const e=ig;let r=this[e(372)]()[e(405)]();return!r&&(r=e(200)),this[e(313)][this[e(351)]]*t.initState[e(205)][r]*t.initState[e(328)]}[ig(424)](t){const e=ig;if(t){const r=this[e(313)],i=r.length-1;for(let e=0;e<i;e++)if(r[e]>=t&&t>r[e+1])return e;return t<r[i]?i:0}return this[e(351)]}[ig(359)](){return this[ig(302)]}[ig(235)](){return this[ig(397)]}[ig(348)](t){const e=ig;if(!Number[e(485)](t))throw e(368);if(t<0||t>=this[e(313)].length)throw e(149);if(t<this[e(397)])throw e(385);this[e(302)]=t}[ig(165)](t){const e=ig;if(!Number.isInteger(t))throw e(368);if(t<0||t>=this._resolutions[e(147)])throw e(149);if(t>this._maxLevel)throw"minZoom must be not more than maxZoom!";this[e(397)]=t}rotate(t,e,r=!1){const i=ig;if(t===i(446)){if(r){let t=this[i(233)];this[i(355)][i(517)](e-t)}else this._camera[i(517)](e);return this._bearing=this._camera[i(433)],this.af[i(237)](0),this[i(264)][i(476)](new R(p[i(451)])),this[i(355)].getRotateZ()}if(t===i(481)){const t=this[i(501)];let n=e+t;return r&&(n=e),n>this[i(153)]?n=this[i(153)]:n<0&&(n=0),this[i(355)].rotateX(-(n-t)),this[i(501)]=-this[i(355)][i(452)],this.af[i(237)](0),this.event.dispatch(new R(p[i(451)])),-this[i(355)][i(473)]()}}[ig(454)](t){const e=ig;return"bearing"===t?this[e(355)][e(421)]():"pitch"===t?-this[e(355)][e(473)]():void 0}[ig(503)](){const t=ig;this._camera[t(394)](),this[t(501)]=0,this[t(233)]=0,this[t(264)][t(476)](new R(p[t(519)]))}[ig(257)](){const t=ig;this[t(351)]+1>this._maxLevel||(this[t(351)]+=1,this.setCenter(this.getCenter(),this._zoom))}[ig(467)](){const t=ig;this._zoom-1<this[t(397)]||(this[t(351)]-=1,this.setCenter(this.getCenter(),this[t(351)]))}[ig(334)](t){const e=ig;let r={};const i=this.container[e(282)]/this[e(227)].clientHeight,n=t[e(215)]()-t[e(361)](),s=t.getRight()-t[e(295)](),o=s/n;i>o?(r[e(275)]=n,r[e(288)]=n*i):i<o?(r[e(288)]=s,r.height=s/i):(r[e(288)]=s,r[e(275)]=n);let a=r.width/this[e(294)]();const h=t[e(356)](),l=this.getZoom(a);this.setCenter(h,l)}[ig(430)](t){return t.getZIndex()}getLayerContainerIndexByLayer(t){const e=ig,r=t.getLayerContainer();for(let t=0;t<this[e(254)]()[e(147)];t++)if(r===this[e(254)]()[t])return t;return-1}getLayerContainerZIndex(t){const e=ig;let r=null;const i=this.getLayerContainers();for(let n=0,s=i[e(147)];n<s;n++)t===i[n][e(511)]()&&(r=i[n].getContainerZIndex());return r}[ig(420)](t=!0){const e=ig;let r=0;const i=this[e(254)]();for(let t=0;t<i[e(147)];t++){r+=i[t].getLayers().length}return r+=this[e(278)][e(147)],t?r:r-1}[ig(309)](t){const e=ig,r=this[e(234)](),i=[];for(let n=0,s=r[e(147)];n<s;n++)t===r[n][e(479)]()&&i[e(144)](r[n]);return i}[ig(498)](e,r){const i=ig,n=[],s=e[i(175)](),o=e.getY();for(let e=r;e>=-r;e--)for(let a=r;a>=-r;a--)n[i(144)](new t.Pixel(s+e,o+a));return n}[ig(477)](t){const e=this[ig(323)],r=e.length;for(let i=0;i<r;i++)if(t===e[i].getControlType())return e[i];return null}[ig(234)](t=1){const e=ig,r=[],i=this[e(254)]();for(let t=0;t<i[e(147)];t++){const n=i[t][e(143)]();for(let t=0;t<n.length;t++)r[e(144)](n[t])}if(1===t){const t=this[e(278)];for(let i=0;i<t.length;i++)r[e(144)](t[i])}return r}[ig(128)](){const t=ig,e=this[t(292)];for(let r=e[t(147)]-1;r>0;r--){const i=e[r];e[t(478)](r,1),this[t(227)][t(135)](i[t(196)]()),i[t(157)](null),i[t(128)]()}e[0][t(128)](),this[t(264)][t(476)](new R(p[t(331)]));const r=this[t(278)];for(let e=r.length-1;e>-1;e--){const i=r[e];r[t(478)](e,1),this[t(227)][t(135)](i.container),i[t(377)]=null}}_removeLayerContainer(t){const e=ig,r=this._layerContainers;for(let i=0;i<r[e(147)];i++)t===r[i]&&(r[e(478)](i,1),this.container[e(135)](t[e(196)]()),t[e(157)](null),t.removeAllLayers())}[ig(174)](){return this[ig(516)]}[ig(176)](){return this._enableRotate}getPanEnable(){return this[ig(486)]}[ig(471)](t){const e=ig;!this[e(516)]==t&&this._zoomCtr&&(t?this[e(346)].activate():this[e(346)][e(429)](),this[e(516)]=t)}[ig(240)](t){const e=ig;!this[e(480)]==t&&this._rotateCtr&&(t?this[e(311)][e(181)]():this[e(311)].deactivate(),this[e(480)]=t)}[ig(493)](t){const e=ig;!this[e(486)]==t&&this._panCtr&&(t?this[e(131)].activate():this._panCtr.deactivate(),this._enablePan=t)}[ig(337)](t=0){const e=ig;this[e(364)]=t,this[e(355)][e(512)](),this.af.active(0)}[ig(384)](){const e=ig,r=this.getExtent(),i=r[e(295)](),n=r[e(457)](),s=(r[e(215)]()+r[e(361)]())/2,o=new t.Coordinate(i,s),a=new t.Coordinate(n,s);return o[e(206)](a,this._crs[e(382)]())}[ig(491)](){const t=ig;return 1*this[t(499)][t(148)](2)}[ig(186)](){const t=ig;this[t(271)]=!0,this.af[t(237)]()}[ig(304)](){const t=ig;let e=this[t(292)][0][t(196)](),r=document[t(445)]("a"),i=new MouseEvent("click");r[t(332)]=e[t(167)](t(522),1),r[t(502)]=t(468)+Date.now()+t(172),r.dispatchEvent(i),this[t(271)]=!1}}const og=["_createPane","MAPMOUSEEVENT_MOUSEOVER","display","getControlType","none","addLayers","166618tOdNTN","className","getZoom","59437mmzuoV","container","deactivate","_showMaginer","__proto__","offMap","style","_extendOptions","length","_updataMagnifierMap","getCrs","clientY","cssText","layer","setMap","4yyLBTL","_mainMap","102aWrJoe","96059vqkvqW","clientX","210066kXkKDw","getMaxZoom","unRegister","1fjOtGo","width","12793xVPZTl","61247YuBoAY","createUnique","12YEOcRC","_map","_hiddenMaginer","_getMagnifierMapZoom","getOwnPropertyNames","magnifierMap","_getMainMapCenter","getCenter","appendChild","bind","5cSnpIr","event","createElement","activate","_getMainMapZoom","removeChild","setStyle","zoomOffset","setCenter","_addMagnifierMap","hasOwnProperty","1pTaQWN","left","register","1171nyONGE","block","getCoordinateFromPixel","destroy","hmap-control-magnifier","MAPMOUSEEVENT_MOUSEMOVE","height","getResolutions","options"],ag=hg;function hg(t,e){return og[t-=496]}!function(t,e){const r=hg;for(;;)try{if(141700===-parseInt(r(527))*parseInt(r(562))-parseInt(r(565))+-parseInt(r(545))*parseInt(r(524))+parseInt(r(498))*parseInt(r(563))+-parseInt(r(500))*parseInt(r(503))+parseInt(r(501))*-parseInt(r(560))+-parseInt(r(513))*-parseInt(r(542)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(og);class lg extends a{constructor(t=[],e={}){const r=hg;super(),this[r(558)]=t,this[r(546)]=null,this[r(561)]=null,this.magnifierMap=null,this[r(535)]={zoomOffset:2,style:"position:relative;width:200px;height:200px;zIndex:999;overflow:hidden;border-radius:50%;border:2px solid red"},this[r(552)](e)}[ag(559)](t){const e=ag;t instanceof sg&&(this._mainMap=t,!this[e(546)]&&(this[e(546)]=this[e(536)]("DIV",e(531)),this.setStyle(this.options.style)),this[e(522)](this[e(561)],(()=>{const t=e;this.magnifierMap[t(541)](this.layer),this.activate()})))}[ag(516)](){const t=ag;this.magnifierMap&&(this._mainMap[t(514)].register(p[t(532)],this._updataMagnifierMap[t(512)](this)),this[t(561)][t(514)][t(526)](p[t(537)],this._updataMagnifierMap[t(512)](this)))}[ag(547)](){const t=ag;if(!this[t(508)]||!this._mainMap)return;this[t(505)]();const e=this;e._mainMap[t(514)][t(497)](p[t(537)],e._updataMagnifierMap[t(512)](this)),e._mainMap[t(514)][t(497)](p[t(532)],e[t(554)][t(512)](this))}[ag(552)](t){const e=ag;for(let r in t)this[e(535)][e(523)](r)&&(this.options[r]=t[r])}[ag(548)](){const t=ag;this.magnifierMap[t(546)][t(551)].display=t(528),this[t(546)][t(551)][t(538)]=t(528)}[ag(505)](){const t=ag;this[t(508)][t(546)][t(551)][t(538)]=t(540),this[t(546)][t(551)][t(538)]=t(540)}[ag(519)](t){const e=ag;this[e(535)].style=t,this.container[e(551)][e(557)]=t}[ag(536)](e,r){const i=ag,n=document[i(515)](e);return n[i(543)]=r,n.id=t.Aid[i(502)](n[i(543)]),n}_addMagnifierMap(t,e){const r=ag,i={zoom:t[r(544)]()+this[r(535)][r(520)],resolutions:t[r(534)](),center:t[r(510)](),crs:t[r(555)]()};t[r(546)][r(511)](this[r(546)]),this.magnifierMap=new sg(this.container.id,i,e)}[ag(554)](e){const r=ag;this._showMaginer();const i=e[r(564)],n=e[r(556)],s=i-parseInt(this[r(546)][r(551)][r(499)])/2,o=n-parseInt(this[r(546)][r(551)][r(533)])/2,a=new t.Pixel(i,n),h=this[r(561)][r(529)](a);this.magnifierMap[r(521)](h,this[r(506)]()),this[r(546)][r(551)][r(525)]=s+"px",this[r(546)][r(551)].top=o+"px"}[ag(506)](){const t=ag,e=this._mainMap[t(496)](),r=this[t(517)]()+this[t(535)][t(520)];return r<e?r:e}[ag(509)](){const t=ag;return this[t(561)][t(510)]()}_getMainMapZoom(){const t=ag;return this[t(561)][t(544)]()}[ag(539)](){return h.Magnifier}[ag(530)](){const t=ag;this[t(547)](),this[t(504)]&&this[t(561)]&&(this[t(508)][t(530)](),this._mainMap[t(546)][t(518)](this[t(546)]));let e=Object[t(507)](this);for(let r=0,i=e[t(553)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this[t(549)]=null}[ag(550)](){const t=ag;this[t(547)](),this[t(508)][t(530)](),this[t(561)][t(546)][t(518)](this[t(546)]),this[t(504)]=null,this[t(561)]=null}}const cg=["transform","style","scale(","23BIAlRT","_container","sin","getPixelPos","_element","absolute","_reAdjust","161835vFvzrp","5siZfkY","263866LAgzXQ","24108xCrmVH","9137jhrkVg","appendChild","scaleFactor","_scaleFactor","3SgLKmD","23102nvkITW","clientHeight","getY","12NvIeKo","30377DpQApI","transformOrigin","round","0 0","getX","_popupDom","pitch","1LqJtpv","getRotateAngle","container","_zIndexFactor","118663YEhAgG"],ug=pg;function pg(t,e){return cg[t-=407]}!function(t,e){const r=pg;for(;;)try{if(178487===parseInt(r(408))*parseInt(r(428))-parseInt(r(410))+parseInt(r(412))*-parseInt(r(420))-parseInt(r(432))+-parseInt(r(416))*parseInt(r(417))+-parseInt(r(411))*parseInt(r(409))+-parseInt(r(436))*-parseInt(r(421)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(cg);class fg extends gf{constructor(t){const e=pg;super(t=t||{}),this[e(415)]=void 0!==t.scaleFactor?t[e(414)]:0,this._container[e(413)](this[e(440)]),this[e(426)]=this[e(437)],this._zIndexFactor=100}[ug(407)](t){const e=ug,r=this[e(439)]();this[e(437)][e(434)].position=e(441),this._container[e(434)].top=r[e(419)]()+"px",this._container[e(434)].left=r[e(425)]()+"px";const i=t[e(430)][e(418)]/2,n=t._map[e(429)](e(427))*Math.PI/180,s=Math[e(438)]((r[e(419)]()-i)/i*Math.PI*.5)*this[e(415)]*Math.sin(n)+1;this[e(440)][e(434)][e(433)]=e(435)+s+")",this[e(440)].style[e(422)]=e(424),this[e(437)][e(434)].zIndex=10+Math[e(423)](s*this[e(431)])}}const gg=["bid","723172RjyGjN","floor","1376419vzmxQI","merge","worldExtent","_blocks","_level","_size","getBottomRight","18917FOtrBY","getOrdinate","_origin","_getXYByCoord","1092274bHBwCE","1kwthmx","push","30JtkHth","getExtent","_createId","931443ZKmqSm","get","_resolution","renderData","_worldExtent","level","getCenter","pow","getTopLeft","_createBlock","size","1055149mFgmwD","178352ZAxWVr","1mCfwFt"];function dg(t,e){return gg[t-=210]}const _g=dg;!function(t,e){const r=dg;for(;;)try{if(704479===-parseInt(r(227))*parseInt(r(231))+parseInt(r(229))+-parseInt(r(226))+parseInt(r(238))*parseInt(r(211))+parseInt(r(242))+-parseInt(r(243))*-parseInt(r(214))+-parseInt(r(225)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(gg);_g(215),_g(232),_g(241),_g(213);const yg=["json","formData","error","length","15ZJNdoB","GET","237274npvyTm","285837azjTOX","catch","unsupport format","POST","arrayBuffer","934leDfFK","36207xzjNCK","blob","text",", request:","status","3091jXsHJY","98DUijlT","cors","202SqKGxn","then","334077cCuxeU","28594WabjxO","post"];function mg(t,e){return yg[t-=452]}const Ig=mg;!function(t,e){const r=mg;for(;;)try{if(215503===parseInt(r(472))+-parseInt(r(463))+-parseInt(r(453))+parseInt(r(452))*parseInt(r(461))+-parseInt(r(459))*-parseInt(r(458))+parseInt(r(473))+-parseInt(r(464))*parseInt(r(470)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(yg);class xg{static get(t,e,r,i,n=null){const s=mg;let o={signal:n,method:s(471),mode:s(460)};return fetch(t,o)[s(462)]((t=>{const r=s;if(200===t[r(457)])switch(e){case r(454):return t[r(454)]();case r(455):return t[r(455)]();case r(466):return t[r(466)]();case"arrayBuffer":return t[r(477)]();case r(467):return t[r(467)]();default:throw new Error(r(475))}}))[s(462)]((t=>{if(r)return r(t)}))[s(474)]((e=>{const r=s;console[r(468)](e+r(456)+t)}))}static[Ig(465)](t,e,r,i,n){const s=Ig;let o="";for(let t in e)o+=t+"="+e[t]+"&";return o.substring(0,o[s(469)]-1),fetch(t,{method:s(476),mode:s(460),headers:{"Content-Type":"application/x-www-form-urlencoded"},body:o})[s(462)]((function(t){const e=s;switch(r){case"blob":return t[e(454)]();case e(455):return t[e(455)]();case e(466):return t[e(466)]();case e(477):return t[e(477)]();case e(467):return t.formData();default:throw new Error(e(475))}}))[s(462)]((function(t){return i(t)}),(function(t){return n(t)}))[s(474)]((t=>{}))}}const vg=["903464covpau","get","catch","json","createObjectURL","load","src","width","url","onload","request","spriteImg","1424397diMlcj","then","getTextureCoord","textureCoord","height","1161914KwIOVs","325731MHviqF","_info","The icon path of ","_sendRequest",".png","996129iQOAEB","_width","967192geTBzw","_height","2867116qsjqUA"," does not exist in Sprite"];function bg(t,e){return vg[t-=291]}const wg=bg;!function(t,e){const r=bg;for(;;)try{if(919453===parseInt(r(303))+parseInt(r(311))+-parseInt(r(309))+parseInt(r(315))+parseInt(r(298))+parseInt(r(304))+-parseInt(r(313)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(vg);class Tg{constructor(t){const e=bg;this[e(294)]=t,this[e(291)]=!1,this[e(296)]=this[e(307)]()}_sendRequest(){const t=this,e=new Promise(((e,r)=>{const i=bg;xg[i(316)](t[i(294)]+i(308),"blob",(t=>{const r=i,n=new Image,s=URL[r(319)](t);n[r(295)]=()=>{e(n)},n[r(292)]=s}),(t=>{r(t)}))})),r=new Promise((function(e,r){const i=bg;xg[i(316)](t[i(294)]+".json",i(318),(function(t){e(t)}),(function(t){r(t)}))}));return new Promise((t=>{const i=bg;Promise.all([e,r])[i(299)]((e=>{const r=i;this[r(297)]=e[0],this._width=this[r(297)].width,this[r(312)]=this[r(297)][r(302)],this._info=e[1],this[r(291)]=!0,t()}))[i(317)]((t=>{console.error(t)}))}))}[wg(300)](t){const e=wg,r=this[e(305)][t];if(!r)throw new Error(e(306)+t+e(314));if(!r[e(301)]){const t=(r.x+1)/this[e(310)],i=(r.y+1)/this[e(312)],n=(r[e(293)]|r.w-2)/this[e(310)],s=(r.height|r.h-2)/this[e(312)];r[e(301)]=[t,i,n,s]}return r[e(301)]}}var Eg=["24142HvwsDy","24418tPqiFw","268501koGhCH","1scmCNS","33857ATcyBx","50244reoGvy","5rFKLUv","144644REceDt","187917lUsrnz","4wUNWua"];function Cg(t,e){return Eg[t-=280]}!function(t,e){for(var r=Cg;;)try{if(299105===parseInt(r(286))+-parseInt(r(283))+-parseInt(r(287))*-parseInt(r(282))+parseInt(r(289))+parseInt(r(288))+parseInt(r(285))*-parseInt(r(284))+parseInt(r(280))*parseInt(r(281)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Eg);const Ag=["raycastOctant","intersectOctree","substract","getDimensions","getElement","multiplyScalar","max","2043854uXbRjI","71rIgXcG","658433TccjZq","18194EEuovQ","direction","findNextOctant","clone","_findOctantsByLevel","60589SxJlIz","findEntryOctant","length","normalize","split","constructor","60040TecomL","root","add","push","origin","children","getCenter","getDepth","raycast","644832ibrGyX","min","11BJlPhR","10991tsjVtX","setElement"],Mg=Sg;function Sg(t,e){return Ag[t-=228]}!function(t,e){const r=Sg;for(;;)try{if(695437===parseInt(r(235))*-parseInt(r(259))+parseInt(r(248))+parseInt(r(247))+parseInt(r(236))*-parseInt(r(246))+parseInt(r(253))+-parseInt(r(233))+parseInt(r(245)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ag);let Pg=[new Uint8Array([0,0,0]),new Uint8Array([0,0,1]),new Uint8Array([0,1,0]),new Uint8Array([0,1,1]),new Uint8Array([1,0,0]),new Uint8Array([1,0,1]),new Uint8Array([1,1,0]),new Uint8Array([1,1,1])],Rg=[new Uint8Array([4,2,1]),new Uint8Array([5,3,8]),new Uint8Array([6,8,3]),new Uint8Array([7,8,8]),new Uint8Array([8,6,5]),new Uint8Array([8,7,8]),new Uint8Array([8,8,7]),new Uint8Array([8,8,8])];class Lg{constructor(e=new t.Vector3,r=new t.Vector3){const i=Sg;this[i(234)]=e,this[i(244)]=r,this[i(229)]=null}[Mg(230)](){const t=Mg;return this[t(234)][t(251)]().add(this[t(244)])[t(243)](.5)}[Mg(241)](){const t=Mg;return this.max[t(251)]()[t(240)](this[t(234)])}[Mg(257)](){const e=Mg,r=this[e(234)],i=this[e(244)],n=this[e(230)](),s=this.children=[null,null,null,null,null,null,null,null];let o,a;for(o=0;o<8;++o)a=Pg[o],s[o]=new(this[e(258)])(new t.Vector3(0===a[0]?r.getElement(0):n[e(242)](0),0===a[1]?r[e(242)](1):n[e(242)](1),0===a[2]?r[e(242)](2):n[e(242)](2)),new t.Vector3(0===a[0]?n[e(242)](0):i.getElement(0),0===a[1]?n[e(242)](1):i[e(242)](1),0===a[2]?n[e(242)](2):i[e(242)](2)))}}class Fg{constructor(t,e){this[Mg(260)]=void 0!==t&&void 0!==e?new Lg(t,e):null}get[Mg(234)](){const t=Mg;return this[t(260)][t(234)]}get max(){const t=Mg;return this[t(260)][t(244)]}get[Mg(229)](){const t=Mg;return this.root[t(229)]}[Mg(230)](){const t=Mg;return this[t(260)][t(230)]()}[Mg(241)](){const t=Mg;return this[t(260)][t(241)]()}[Mg(232)](t,e=[]){return Dg[Mg(239)](this,t,e),e}findOctantsByLevel(t){const e=Mg,r=[];return this[e(252)](this[e(260)],t,0,r),r}[Mg(231)](t=this[Mg(260)]){const e=Mg,r=t[e(229)];let i,n,s,o=0;if(null!==r)for(i=0,n=r[e(255)];i<n;++i)s=1+this.getDepth(r[i]),s>o&&(o=s);return o}[Mg(252)](t,e,r,i){const n=Mg,s=t[n(229)];let o,a;if(r===e)i[n(262)](t);else if(null!==s)for(++r,o=0,a=s.length;o<a;++o)this[n(252)](s[o],e,r,i)}}class Dg{static[Mg(239)](e,r,i){const n=Mg,s=new t.Vector3(0,0,0),o=e.max[n(251)]().substract(e[n(234)]),a=e[n(241)](),h=a[n(251)]().multiplyScalar(.5),l=r[n(228)][n(251)](),c=r[n(249)][n(251)]()[n(256)]();let u,p,f,g,d,_,y,m,I;l.substract(e[n(230)]())[n(261)](h);let x=0;c[n(242)](0)<0&&(l.setElement(0,a[n(242)](0)-l[n(242)](0)),c[n(237)](0,-c[n(242)](0)),x|=4),c[n(242)](1)<0&&(l.setElement(1,a[n(242)](1)-l[n(242)](1)),c.setElement(1,-c[n(242)](1)),x|=2),c[n(242)](2)<0&&(l[n(237)](2,a[n(242)](2)-l[n(242)](2)),c[n(237)](2,-c[n(242)](2)),x|=1),u=1/c[n(242)](0),p=1/c[n(242)](1),f=1/c.getElement(2),g=(s[n(242)](0)-l[n(242)](0))*u,d=(o[n(242)](0)-l[n(242)](0))*u,_=(s[n(242)](1)-l[n(242)](1))*p,y=(o[n(242)](1)-l.getElement(1))*p,m=(s.getElement(2)-l[n(242)](2))*f,I=(o[n(242)](2)-l[n(242)](2))*f,Math.max(Math[n(244)](g,_),m)<Math.min(Math.min(d,y),I)&&this[n(238)](x,e[n(260)],g,_,m,d,y,I,r,i)}static[Mg(238)](t,e,r,i,n,s,o,a,h,l){const c=Mg,u=e[c(229)];let p,f,g,d;if(s>=0&&o>=0&&a>=0)if(null===u)l[c(262)](e);else{f=.5*(r+s),g=.5*(i+o),d=.5*(n+a),p=this[c(254)](r,i,n,f,g,d);do{switch(p){case 0:this[c(238)](t,u[t],r,i,n,f,g,d,h,l),p=this[c(250)](p,f,g,d);break;case 1:this.raycastOctant(t,u[1^t],r,i,d,f,g,a,h,l),p=this[c(250)](p,f,g,a);break;case 2:this[c(238)](t,u[2^t],r,g,n,f,o,d,h,l),p=this[c(250)](p,f,o,d);break;case 3:this.raycastOctant(t,u[3^t],r,g,d,f,o,a,h,l),p=this[c(250)](p,f,o,a);break;case 4:this[c(238)](t,u[4^t],f,i,n,s,g,d,h,l),p=this.findNextOctant(p,s,g,d);break;case 5:this[c(238)](t,u[5^t],f,i,d,s,g,a,h,l),p=this[c(250)](p,s,g,a);break;case 6:this.raycastOctant(t,u[6^t],f,g,n,s,o,d,h,l),p=this[c(250)](p,s,o,d);break;case 7:this[c(238)](t,u[7^t],f,g,d,s,o,a,h,l),p=8}}while(p<8)}}static[Mg(254)](t,e,r,i,n,s){let o=0;return t>e&&t>r?(n<t&&(o|=2),s<t&&(o|=1)):e>r?(i<e&&(o|=4),s<e&&(o|=1)):(i<r&&(o|=4),n<r&&(o|=2)),o}static[Mg(250)](t,e,r,i){let n,s=0;return e<r?(n=e,s=0):(n=r,s=1),i<n&&(s=2),Rg[t][s]}}const Og=["getMinY","boxCount","remove","round","_find","max","find","_update","808467cfaTgO","object undefind!","getMinX","997810actLLi","getMinZ","902996cdlxGD","maxBoxes","clear","raycast","_remove","getMaxX","pop","_removeById","data","1640804wxMPjd","includes","split","getMaxY","concat","_bbox","3467144eDeiZz","dataCount","children","redistribute","put","intersect","bias","reset","443712CVHKfK","object or object._bbox undefind!","length","_put","654295zeZrMW","root","1SZfoJQ","_id","merge","countData","1cPctSb","push","reduce","getElement","updateArray"],Ng=kg;!function(t,e){const r=kg;for(;;)try{if(902104===-parseInt(r(289))*parseInt(r(283))-parseInt(r(316))-parseInt(r(307))+-parseInt(r(285))*parseInt(r(302))+parseInt(r(305))+parseInt(r(279))+parseInt(r(322)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Og);class Bg extends Lg{constructor(t,e){const r=kg;super(t,e),this[r(315)]=null}[Ng(327)](t){const e=Ng,r=this.min,i=this[e(299)];return t[e(312)]()>=r[e(292)](0)&&t[e(304)]()<=i.getElement(0)&&t[e(319)]()>=r[e(292)](1)&&t[e(294)]()<=i[e(292)](1)&&t.getMaxZ()>=r.getElement(2)&&t[e(306)]()<=i[e(292)](2)}[Ng(325)](){const t=Ng,e=this[t(324)],r=this[t(315)];let i,n,s,o,a,h,l;if(null!==e&&null!==r)for(i=0,s=r[t(281)];i<s;++i)for(l=r[i],h=l[t(321)],n=0,o=e[t(281)];n<o;++n)a=e[n],a.intersect(h)&&(null===a[t(315)]&&(a[t(315)]=[]),a[t(315)][t(290)](l));this.data=null}[Ng(287)](){const t=Ng,e=this.children;let r,i,n,s,o;if(null!==e){for(this[t(315)]=[],r=0,i=e[t(281)];r<i;++r)if(o=e[r],null!==o[t(315)])for(n=0,s=o[t(315)][t(281)];n<s;++n)!this.data[t(317)](o.data[n])&&this[t(315)][t(290)](o[t(315)][n]);this[t(324)]=null}}[Ng(278)](){this[Ng(324)]=null,this.data=null}}class Ug extends Fg{constructor(t,e,r=50,i=18,n=0){const s=Ng;super(),this[s(284)]=new Bg(t,e),this[s(328)]=Math[s(299)](0,n),this[s(308)]=Math[s(299)](1,Math[s(297)](r)),this.maxDepth=Math.max(0,Math.round(i)),this[s(323)]=0}reset(){const t=Ng;this[t(284)][t(278)](),this[t(295)]=0}[Ng(288)](t){const e=Ng,r=t[e(324)];let i,n,s=0;if(null!==r)for(i=0,n=r[e(281)];i<n;++i)s+=this.countData(r[i]);else null!==t[e(315)]&&(s=t[e(315)][e(281)]);return s}[Ng(310)](e,r=[]){const i=Ng,n=super[i(310)](e);let s=[];for(let t=0,e=n[i(281)];t<e;t++)n[t].data&&s[i(290)](...n[t][i(315)]);return s[i(291)](((e,r)=>{const n=i;return void 0===e[n(300)]((i=>{const s=n;if((i instanceof t.Vector||i instanceof ic)&&i[s(286)]===r._id)return e}))?e[n(320)](r):e}),[])}putArray(t){const e=Ng;for(let r=t.length-1;r>=0;r--)this[e(326)](t[r])}[Ng(326)](t){const e=Ng;if(!t||!t._bbox)throw new Error(e(280));return this[e(282)](t,this,this[e(284)],0)}remove(t){const e=Ng;if(!t)throw new Error(e(303));return this._remove(t,this,this[e(284)],null)}removeArray(t){const e=Ng;for(let r=t[e(281)]-1;r>=0;r--)this[e(296)](t[r])}removeById(t){const e=Ng;this[e(314)](t,this,this[e(284)],null)}[Ng(309)](){const t=Ng;this.root[t(278)](),this.data=null,this[t(323)]=0}[Ng(300)](t){const e=Ng;if(!t)throw new Error(e(303));return this[e(298)](t,this,this[e(284)])}[Ng(293)](t){const e=Ng;if(!(t[e(281)]<1))for(let r=0,i=t.length;r<i;r++){let i=t[r];this[e(296)](i),this[e(326)](i)}}update(t){const e=Ng;if(!t)throw new Error(e(303));return this._update(t,this,this[e(284)],null,0)}[Ng(282)](t,e,r,i){const n=Ng;let s,o,a=t[n(321)],h=r[n(324)],l=!1;if(r.intersect(a)&&(null===h&&(null===r.data&&(r.data=[]),r[n(315)][n(281)]<e.maxBoxes||i===e.maxDepth?(r.data.push(t),++e[n(323)],l=!0):(r[n(318)](),r[n(325)](),h=r[n(324)])),null!==h))for(++i,s=0,o=h[n(281)];s<o;++s)l=this[n(282)](t,e,h[s],i);return l}_remove(t,e,r,i){const n=Ng;let s=t._bbox;const o=r.children;let a,h,l,c,u=null;if(r.intersect(s))if(null!==o)for(a=0,h=o[n(281)];a<h;++a)u=this[n(311)](t,e,o[a],r);else if(null!==r.data)for(l=r[n(315)],a=0,h=l[n(281)];a<h;++a){l[a]._id===t._id&&(c=h-1,u=l[a],a<c&&(l[a]=l[c]),l[n(313)](),h--,--e.dataCount,null!==i&&this.countData(i)<=e[n(308)]&&i[n(287)]())}return u}[Ng(314)](t,e,r,i){const n=Ng,s=r[n(324)];let o,a,h,l;if(null!==s)for(o=0,a=s[n(281)];o<a;++o)this[n(314)](t,e,s[o],r);else if(null!==r[n(315)])for(h=r[n(315)],o=0,a=h[n(281)];o<a;++o)h[o].getFid()===t&&(l=a-1,o<l&&(h[o]=h[l]),h.pop(),a--,--e[n(295)],null!==i&&this[n(288)](i)<=e[n(308)]&&i[n(287)]());return!0}[Ng(298)](t,e,r){const i=Ng,n=t._bbox,s=r[i(324)];let o,a,h,l=null;if(r[i(327)](n))if(null!==s)for(o=0,a=s[i(281)];null===l&&o<a;++o)l=this._find(t,e,s[o]);else if(null!==r[i(315)])for(h=r[i(315)],o=0,a=h[i(281)];null===l&&o<a;++o)h[o]._id===t[i(286)]&&(l=r[i(315)][o]);return l}[Ng(301)](t,e,r,i,n){const s=Ng;this[s(311)](t,e,r,i),this[s(282)](t,e,r,n)}}function kg(t,e){return Og[t-=278]}const Vg=["atlasSpace","values","Polygon","GATHERING_PLACE","_atlasMgr","removeAll","OITMode","initStoredFeature","getAll","LUNE","forEach","_isBaseLayer","SymbolStaticPainter","1123343vVQtIF","BEZIER_CURVE3","LINE","DOVETAIL_STRAIGHT_ARROW","getDefault","POLYGON_TEXTURE","enableLight","Point","30073KNnlOW","getTextSymbols","MultiPoint","Rectangle","CARDINAL_CURVE","_isOIT","_featuresToAdd","POLYGON","splice","1vCzwpB","43dXXZjj","FillVideoPainter","sprite","setOpacity","NONE","getById","getFillSymbols","setMap","addFeatures","_updateFeatureFillSymbols","hasOwnProperty","ONE","LARROW","removeFeatures","1epeWfJ","VectorLayer","destroy","POINT","DIAGONAL_ARROW","1155844VdlLYP","getMarkerSymbols","ARC","VOXEL","getLayerType","MultiPolygon","length","floor","extra","_style","then","spriteImg","visibility","getBlendStatus","BEZIER_CURVEN","CARDINAL_CURVE_ARROW","getDataExtent","SECTOR_SEARCH","CLOSE_CURVE","setEnable","bufferImage","STRETCH_TEXTURE","SPRITEPOINT","extendExtent","max","name","atlasSize","_enableLight","getExtent",'the maximum value of "atlasSize" is 2048',"activeStatusManager","opacity","Triangle","parallelChange","DOVETAIL_DIAGONAL_ARROW","getGeometry","painterType","getTextureObject","_map","get","getBottom","getLineSymbols","BEZIER_CURVE_ARROW","style","setMask","drawArrays","painters","_opacity","removeAllFeatures","LINE_WIDTH","STRETCH","924wFVQnw","_painters","getTop","interChange","_id","POLYGON_SOLID","_oitDraw","ELLIPSE","enableSprite","getFeaturesByPixel","url","_mergeExtra","enableHashCode","TRIANGLE_FLAG","push","_oitPainter","getStyle","3VCzUXZ","getFeaturesByAttribute","ONE_MINUS_SRC_ALPHA","getType","Line","set","FillRadialGradientPainter","lineWay","indexOf","getLeft","FillDashPainter","spriteUrl","PARALLEL_SEARCH","add","12893ernbfY","LinePainter","updatePainterType","ARROW","FillNoisePainter","37YrpOuo","removeFeature","draw","addFeature","setMarkerSymbols","useInterChangeLine","FLAG","_OITMode","Circle","_drawPainters","_layerExtra","getPainterType","POLYGON_NOISE","FillSolidPainter","depthTest","updateFeature","DOUBLE_ARROW","602438NtkuXA","getAllFeatures","MultiLine","SECTOR","setStyle","1178209JnUJqG","min","setFunc","_visibility","3547DcFRPZ","POLYLINE_ARROW","setTextSymbols","_updateFeatureMarkerSymbols","apply","LinearRing","getByAttribute","getFeatureByFid","update","POLYLINE"],Gg=zg;function zg(t,e){return Vg[t-=402]}!function(t,e){const r=zg;for(;;)try{if(910644===-parseInt(r(514))*-parseInt(r(494))+parseInt(r(450))+-parseInt(r(428))*parseInt(r(423))+-parseInt(r(445))*parseInt(r(409))+parseInt(r(509))*-parseInt(r(477))+parseInt(r(495))*-parseInt(r(485))+-parseInt(r(454))*-parseInt(r(565)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Vg);class Hg extends Dt{constructor(e,r={}){const i=zg;if(r[i(442)]=!!r[i(505)](i(442))&&r[i(442)],super(r),this[i(539)]=e,this[i(552)]=null,this._style=r[i(557)]||t.Style[i(481)](),this[i(453)]=!r.hasOwnProperty(i(526))||r[i(526)],this[i(404)]=!!r.hasOwnProperty(i(404))&&r[i(404)],this[i(475)]=r.isBaseLayer,r[i(540)]=r[i(540)]?r.atlasSize:256,r.atlasSize<0||r.atlasSize>2048)throw new Error(i(543));r.atlasSpace=r.atlasSpace?r[i(464)]:1,this[i(468)]=new Ga(r[i(540)],r[i(464)],!1),r.spriteUrl&&(this[i(573)]=!0,this[i(497)]=new Tg(r[i(420)])),this._painters=new Map,this[i(491)]=[],this[i(416)]=r[i(433)]?i(568):i(547),this[i(490)]=!0===r.isOIT,this[i(435)]=Math[i(521)](r[i(470)])?Math.floor(r.OITMode):0,this[i(541)]=!r[i(505)](i(483))||r[i(483)]}[Gg(518)](){return Ot[Gg(510)]}get id(){return this[Gg(569)]}get[Gg(560)](){return this._painters}[Gg(502)](e){const r=Gg;if(super[r(502)](e),this.enableHashCode){const i=e.getCrs().getWorldExtent();let n=Math[r(451)](i[r(554)](),i[r(418)]()),s=Math[r(538)](i[r(567)](),i.getRight()),o=new t.Vector3(n,n,n),a=new t.Vector3(s,s,s);this.layerOctree=new Ug(o,a)}let i=this[r(438)]();this[r(490)]&&(this[r(407)]=new ru(this),this.gl.getExtension("EXT_color_buffer_float"),i=this[r(438)]({oit:this[r(435)]}));const n=new rl(this,this[r(403)](i,{texture2D:0,offset:0,highlight:0}));this._painters[r(414)](t.painterType[r(482)],n);const s=new(ef[r(427)])(this,this[r(403)](this[r(522)],{fog:0,offset:0,vposition:0,noise:0}));this._painters[r(414)](ef[r(550)][r(440)],s);const o=new(ef[r(496)])(this,this[r(403)](i,{texture2D:0,offset:0,highlight:0}));this[r(566)][r(414)](t.painterType.POLYGON_VIDEOTEX,o);const a=new(ef[r(415)])(this,this[r(403)](i,{radialGradient:0}));this[r(566)][r(414)](ef[r(550)].POLYGON_RADIALGRADIENT,a);const h=new(ef[r(441)])(this,this[r(403)](i,{offset:0,colorI:0,highlight:0}));this[r(566)][r(414)](t.painterType[r(570)],h);const l=new(ef[r(419)])(this,this._mergeExtra(i,{wideSolid:0,dash:0,offset:0,colorI:0,highlight:0}));this[r(566)][r(414)](t.painterType.POLYGON_DASH,l);const c=new(ef[r(424)])(this,this[r(403)](i,{wideSolid:0,colorI:0,offset:0,highlight:0}),{lineWay:this.lineWay});this[r(566)][r(414)](ef[r(550)][r(563)],c);const u=new(ef[r(424)])(this,this._mergeExtra(i,{dash:0,wideSolid:0,colorI:0,offset:0,highlight:0}),{lineWay:this[r(416)]});this._painters.set(ef[r(550)].LINE_WIDTH_DASH,u);const p=new bl(this,this._mergeExtra(i,{colorI:0,offset:0,highlight:0}));this[r(566)][r(414)](ef[r(550)][r(479)],p);const f=new(ef[r(424)])(this,this[r(403)](i,{colorI:0,offset:0,dash:0,highlight:0}));this[r(566)][r(414)](ef[r(550)].LINE_DASH,f);const g=new gc(this,this._mergeExtra(i,{stretch:0,colorI:0,highlight:0,aNormal:0,light:0}));this._painters[r(414)](ef[r(550)][r(564)],g);const d=new Du(this,this[r(403)](i,{colorI:0}));this[r(566)][r(414)](ef[r(550)][r(517)],d);const _=new bc(this,this[r(403)](i,{stretch:0,stretchTexture2D:0,highlight:0,aNormal:0,light:0}));this._painters[r(414)](t.painterType[r(535)],_);const y=new Uc(this,this[r(403)](i,{offset:1,sprite:0,opacity:0,dynamicText:0,highlight:0}),{drawType:"drawArrays",blockSize:200,atlasManager:this._atlasMgr});if(this[r(566)][r(414)](ef[r(550)][r(512)],y),this[r(573)]){const t=new(ef[r(476)])(this,this[r(403)](i,{offset:0,sprite:0,highlight:0}),{drawType:r(559),blockSize:200,atlasManager:this[r(468)]});this[r(566)][r(414)](ef[r(550)][r(536)],t),this[r(497)].request[r(524)]((()=>{const t=r;Gt[t(553)](this.gl)[t(551)](this[t(497)][t(402)],0)[t(534)](this[t(497)][t(525)])}))}this[r(471)]()}[Gg(471)](){const t=Gg;for(let e of this[t(491)])this[t(431)](e);this._featuresToAdd=[]}clone(){const t=Gg;return new Hg(this[t(539)],{visibility:this[t(453)],opacity:this[t(561)],style:this[t(523)]})}[Gg(530)](){const t=Gg,e=this[t(446)]();if(e[t(520)]<1)return null;let r=e[0].getGeometry()[t(542)]();for(let i=e.length-1;i>0;i--){const n=e[i][t(549)]()[t(542)]();r=r[t(537)](n)}return r}[Gg(461)](t){const e=Gg;for(let r of this[e(560)][e(465)]()){let i=r[e(500)](t);if(void 0!==i&&null!=i)return i}}[Gg(410)](t,e){const r=Gg;let i=[];for(let n of this.painters.values())i[r(406)][r(458)](i,n[r(460)](t,e));return i}getAllFeatures(){const t=Gg,e=[];return this[t(560)][t(474)](((r,i)=>{const n=t;e[n(406)][n(458)](e,r[n(472)]())})),e}[Gg(574)](t,e){}getFeaturesByCoord(t){}getStyle(){return this[Gg(523)]}[Gg(449)](e){const r=Gg,i=e[r(515)](),n=e[r(555)](),s=e[r(501)](),o=e[r(486)]();let a;i[r(520)]>0&&this[r(523)][r(432)](i),o[r(520)]>0&&this[r(523)][r(456)](o),n.length>0&&this[r(523)].setLineSymbols(n),s.length>0&&this[r(523)].setFillSymbols(s),a=this[r(552)]?this.getAllFeatures():this[r(491)];for(let e=0,h=a[r(520)];e<h;e++){const h=a[e];switch(h[r(549)]()[r(412)]()){case t.GeometryType[r(484)]:case t.GeometryType[r(487)]:this[r(457)](h,i,o);break;case t.GeometryType[r(413)]:case t.GeometryType[r(459)]:case t.GeometryType[r(447)]:case t.GeometryExtType[r(463)][r(516)]:case t.GeometryExtType[r(463)].BEZIER_CURVE2:case t.GeometryExtType[r(463)][r(478)]:case t.GeometryExtType[r(463)][r(528)]:case t.GeometryExtType[r(463)][r(489)]:case t.GeometryExtType.LARROW[r(455)]:case t.GeometryExtType.LARROW[r(556)]:case t.GeometryExtType[r(507)][r(529)]:case t.GeometryExtType[r(507)][r(421)]:case t.GeometryExtType[r(507)][r(531)]:this._updateFeatureLineSymbols(h,n);break;case t.GeometryType[r(546)]:case t.GeometryType[r(436)]:case t.GeometryType[r(488)]:case t.GeometryType[r(466)]:case t.GeometryType[r(519)]:case t.GeometryExtType.POLYGON.RECTANGLE:case t.GeometryExtType[r(492)][r(473)]:case t.GeometryExtType[r(492)].ROUNDED_RECT:case t.GeometryExtType[r(492)].CIRCLE:case t.GeometryExtType[r(492)][r(572)]:case t.GeometryExtType[r(492)][r(448)]:case t.GeometryExtType[r(492)][r(532)]:case t.GeometryExtType[r(492)][r(467)]:case t.GeometryExtType.FLAG.RECT_FLAG:case t.GeometryExtType[r(434)][r(405)]:case t.GeometryExtType[r(434)].CURVE_FLAG:case t.GeometryExtType[r(426)].STRAIGHT_ARROW:case t.GeometryExtType[r(426)][r(513)]:case t.GeometryExtType[r(426)][r(444)]:case t.GeometryExtType[r(426)][r(480)]:case t.GeometryExtType.ARROW[r(548)]:this[r(504)](h,s,n)}}}[Gg(457)](e,r,i){const n=Gg,s=r[n(520)],o=i[n(520)];if(0===s&&0===o)return;const a=new t.Style({markerSymbols:r,textSymbols:i});e[n(449)](a),this[n(443)](e)}_updateFeatureLineSymbols(e,r){const i=Gg;if(0===r[i(520)])return;const n=new t.Style({lineSymbols:r});e[i(449)](n),this[i(443)](e)}[Gg(504)](e,r,i){const n=Gg,s=r[n(520)],o=i[n(520)];if(0===s&&0===o)return;const a=new t.Style({fillSymbols:r,lineSymbols:i});e[n(449)](a),this[n(443)](e)}addFeature(e){const r=Gg;e instanceof t.Vector&&!e[r(408)]()&&e[r(449)](this[r(523)]),this[r(552)]?(e[r(425)](),this.painters[r(553)](e[r(439)]())[r(422)](e)):this[r(491)][r(406)](e)}[Gg(503)](t){const e=Gg;for(let r=0,i=t.length;r<i;r++)this[e(431)](t[r])}[Gg(562)](){const t=Gg;this[t(491)]=[],this[t(560)].forEach(((e,r)=>{e[t(469)]()}))}[Gg(508)](t){const e=Gg;for(let r=t[e(520)]-1;r>=0;r--)this[e(429)](t[r])}[Gg(429)](e){const r=Gg,i=e[r(439)]();if(i===t.painterType[r(499)])return!1;if(this[r(552)])this[r(560)][r(553)](i).remove(e);else{const t=this[r(491)][r(417)](e);t>-1&&this[r(491)][r(493)](t,1)}}[Gg(443)](t){const e=Gg;if(this._map){t[e(425)](!1)===t.getPainterType()?this.painters[e(553)](t[e(439)]())[e(462)](t):(this.removeFeature(t),this[e(431)](t))}else{const r=this[e(491)][e(417)](t);r>-1&&(this[e(491)][r]=t)}}updateFeatures(t){const e=Gg;for(let r of t)this[e(443)](r)}[Gg(430)](){const t=Gg;super[t(430)](),this[t(490)]?this[t(571)]():this[t(437)]()}_drawPainters(){const t=Gg,e=this._map[t(542)]();this[t(560)][t(474)](((r,i)=>{r[t(430)](e)}))}[Gg(571)](){const t=Gg;this.getDepthStatus()[t(558)](!1),this[t(527)]()[t(533)](!0),this.getBlendStatus()[t(452)]({rbgSrcFactor:nt[t(506)],rgbDstFactor:nt[t(506)],alphaSrcFactor:nt.ZERO,alphaDstFactor:nt[t(411)]}),this[t(544)](this.gl),this._drawPainters()}[Gg(498)](t=1){const e=Gg;this[e(561)]=t;for(let t of this[e(560)][e(465)]())t[e(545)]=this._opacity;this.redraw()}[Gg(511)](){const t=Gg;this[t(562)](),super[t(511)]()}}const jg=["sqrt","1mTZvbQ","_ctrlPoints","getCoordSeq","calculateDistance","_generatePoints","300207IhoqtZ","3bMdzeB","getCoordinate","getBBox","112337LaIFqH","push","warn","518002UlUcah","slice","159762SagFky","length","ARC","POLYLINE","calculateMidpoint","405943cgEipo","the parameter of points must be 'Array'","at least three points are required!","sin","getOrdinate","calculateAngle","setCtrlPoints","calculateVector","48998qKDqwK","getLength","toLine","621617PIAuUn","abs","_pointArr"],Yg=$g;function $g(t,e){return jg[t-=149]}!function(t,e){const r=$g;for(;;)try{if(408116===parseInt(r(171))*parseInt(r(152))+parseInt(r(164))+-parseInt(r(182))+-parseInt(r(166))+parseInt(r(161))+parseInt(r(157))+parseInt(r(158))*-parseInt(r(179)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(jg);class Xg extends t.GeometryExt{constructor(t){const e=$g;if(super(),!(t instanceof Array))throw new TypeError("the parameter of points must be 'Array'");if(t[e(167)]<3)throw new RangeError(e(173));t=t[e(165)](0,3),this[e(153)]=t,this._pointArr=[],this[e(156)]()}[Yg(156)](){const e=Yg,r={x:this[e(153)][0][e(159)]().getOrdinate("X"),y:this[e(153)][0][e(159)]()[e(175)]("Y")},i={x:this[e(153)][1][e(159)]()[e(175)]("X"),y:this._ctrlPoints[1][e(159)]().getOrdinate("Y")},n={x:this._ctrlPoints[2][e(159)]()[e(175)]("X"),y:this[e(153)][2].getCoordinate()[e(175)]("Y")};let s=this[e(170)](r,n),o=this[e(170)](i,n),a={x:n.x-r.x,y:n.y-r.y},h={x:n.x-i.x,y:n.y-i.y};if(Math[e(149)](a.x*h.y-h.x*a.y)<1e-11)return this._pointArr[e(162)](new t.Point(new t.Coordinate(r.x,r.y,0))),this._pointArr[e(162)](new t.Point(new t.Coordinate(i.x,i.y,0))),void this[e(150)][e(162)](new t.Point(new t.Coordinate(n.x,n.y,0)));let l=this[e(178)](a)[1],c=this.calculateVector(h)[1],u=this.calculateIntersection(l,c,s,o),p=this[e(155)](u,r),f=Math[e(151)]((u.x-n.x)*(u.x-n.x)+(u.y-n.y)*(u.y-n.y));p<f/2&&console[e(163)](f);let g,d,_=this[e(176)](r,u),y=this[e(176)](i,u),m=this[e(176)](n,u),I=Math.PI,x=1,v=_,b=y;_>y?(v=y,b=_,g=i,d=r):(g=r,d=i);let w=b-v;(m<y&&m<_||m>y&&m>_)&&(x=-1,w=v+(2*I-b));let T=2*Math.PI/360,E=T*x;this._pointArr[e(162)](new t.Point(new t.Coordinate(g.x,g.y,0)));for(let r=v,i=0;i<w-T;i+=T){r+=E,r=r<0?r+2*Math.PI:r,r=r>2*Math.PI?r-2*Math.PI:r;let i={x:Math.cos(r)*p+u.x,y:Math[e(174)](r)*p+u.y};this._pointArr[e(162)](new t.Point(new t.Coordinate(i.x,i.y,0)))}this._pointArr.push(new t.Point(new t.Coordinate(d.x,d.y,0)))}[Yg(154)](){const e=Yg,r=[];if(0!=this[e(150)][e(167)])for(let t of this[e(150)])r[e(162)](t[e(159)]());return new t.CoordSeq(r)}[Yg(181)](){const e=Yg;return new t.Line(this[e(150)])}[Yg(160)](){return this[Yg(181)]().getBBox()}getType(){const e=Yg;return t.GeometryExtType[e(169)][e(168)]}getLength(t){const e=Yg;return this[e(181)]()[e(180)](t)}[Yg(177)](t){const e=Yg;if(!(t instanceof Array))throw new TypeError(e(172));if(t[e(167)]<3)throw new RangeError(e(173));t=t[e(165)](0,3),this[e(153)]=t,this._generatePoints()}}const Wg=["9IcLJDB","toLine","91liWPSW","getBBox","length","1gtNspC","_pointArr","385qQcNBI","1297525UolbnE","POLYLINE","_generatePoints","getBezierPoints","getCoordinate","100SXiZGY","BEZIER_CURVE3","105869edniBG","107567Mjlhke","11510gCOfxk","the parameter of points must be 'Array'","push","slice","setCtrlPoints","5443gBAfJZ","at least three points are required!","16328hXosKC","getType","_ctrlPoints","getLength","818AFWflr","529YuYTKq"],Zg=qg;function qg(t,e){return Wg[t-=470]}!function(t,e){const r=qg;for(;;)try{if(814794===parseInt(r(472))*parseInt(r(487))+-parseInt(r(492))*parseInt(r(473))+-parseInt(r(474))*parseInt(r(470))+-parseInt(r(486))*-parseInt(r(485))+parseInt(r(495))+-parseInt(r(481))*-parseInt(r(489))+-parseInt(r(479))*parseInt(r(494)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Wg);class Jg extends t.GeometryExt{constructor(t){const e=qg;if(super(),!(t instanceof Array))throw new TypeError(e(475));if(t.length<4)throw new RangeError("at least three points are required!");t=t[e(477)](0,4),this[e(483)]=t,this[e(493)]=[],this[e(497)]()}_generatePoints(){const t=qg,e=this[t(483)][0],r=this._ctrlPoints[1],i=this[t(483)][2],n=this[t(483)][3],s=this[t(498)]([e,r,i,n],50);this[t(493)]=s}getCoordSeq(){const e=qg,r=[];if(0!=this[e(493)][e(491)])for(let t of this[e(493)])r[e(476)](t[e(499)]());return new t.CoordSeq(r)}[Zg(488)](){const e=Zg;return new t.Line(this[e(493)])}[Zg(490)](){const t=Zg;return this[t(488)]()[t(490)]()}[Zg(482)](){const e=Zg;return t.GeometryExtType[e(496)][e(471)]}[Zg(484)](t){return this.toLine().getLength(t)}[Zg(478)](t){const e=Zg;if(!(t instanceof Array))throw new TypeError("the parameter of points must be 'Array'");if(t.length<4)throw new RangeError(e(480));t=t[e(477)](0,4),this[e(483)]=t,this[e(497)]()}}const Kg=["toMultiLine","getOrdinate","_calculateArrowLines","324858NmfhXT","3mzotRn","getCoordSeqs","_lines","176222qdqSDb","12FAdtkL","3537RepMzM","_ctrlPoints","getBezierPoints","71223cPjDwG","length","getCoordSeq","getBBox","BEZIER_CURVE_ARROW","_generatePoints","896398hPBSSW","the parameter of points must be 'Array'","getCoordinate","15558jWEzmp","1KDuYJG","94CFxrqI","calculateDistance","push","LARROW","at least two points are required!","calculateVector","187672TGRoAW","getType"],Qg=td;function td(t,e){return Kg[t-=198]}!function(t,e){const r=td;for(;;)try{if(200639===parseInt(r(227))*-parseInt(r(203))-parseInt(r(208))+-parseInt(r(217))*parseInt(r(209))+parseInt(r(212))+parseInt(r(228))*-parseInt(r(214))+parseInt(r(226))*parseInt(r(213))+parseInt(r(223)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Kg);class ed extends t.GeometryExt{constructor(t){const e=td;if(super(),!(t instanceof Array))throw new TypeError(e(224));if(t[e(218)]<2)throw new RangeError(e(201));this[e(215)]=t,this[e(211)]=[],this[e(222)]()}[Qg(222)](){const e=Qg;let r=[];if(2==this[e(215)][e(218)]){let i=this[e(215)][0],n=this[e(215)][1],s=new t.Line([i,n]),o={x:i[e(225)]()[e(206)]("X"),y:i[e(225)]()[e(206)]("Y")},a={x:n[e(225)]().getOrdinate("X"),y:n[e(225)]()[e(206)]("Y")},h=this._calculateArrowLines(o,a,10);r.push(s,h)}else{let i=this._ctrlPoints[this[e(215)][e(218)]-2],n=this[e(215)][this._ctrlPoints[e(218)]-1],s=new t.Line(this[e(216)](this[e(215)])),o={x:i[e(225)]().getOrdinate("X"),y:i[e(225)]()[e(206)]("Y")},a={x:n.getCoordinate().getOrdinate("X"),y:n[e(225)]()[e(206)]("Y")},h=this[e(207)](o,a,10);r[e(199)](s,h)}this[e(211)]=r}[Qg(207)](e,r,i,n){const s=Qg;i||(i=10),n||(n=Math.PI/6);let o=this[s(198)](e,r),a=this[s(202)]({x:e.x-r.x,y:e.y-r.y},n,o/i),h={x:a[0].x+r.x,y:a[0].y+r.y},l={x:a[1].x+r.x,y:a[1].y+r.y},c=[];return c[s(199)](new t.Point(new t.Coordinate(h.x,h.y,0))),c.push(new t.Point(new t.Coordinate(r.x,r.y,0))),c[s(199)](new t.Point(new t.Coordinate(l.x,l.y,0))),new t.Line(c)}[Qg(210)](){const t=Qg;let e=[];for(let r=0;r<this[t(211)][t(218)];r++)e[t(199)](this._lines[r][t(219)]());return e}toMultiLine(){const e=Qg;return new t.MultiLine(this[e(211)])}getBBox(){const t=Qg;return this[t(205)]()[t(220)]()}[Qg(204)](){const e=Qg;return t.GeometryExtType[e(200)][e(221)]}getLines(){return this[Qg(211)]}setCtrlPoints(t){const e=Qg;if(!(t instanceof Array))throw new TypeError("the parameter of points must be 'Array'");if(t[e(218)]<2)throw new RangeError(e(201));this[e(215)]=t,this[e(222)]()}}const rd=["length","3MhJFfe","POLYLINE","414987PGtSVI","getBBox","39572WbDint","getBezierPoints","137271xEhhdy","toLine","getType","the parameter of points must be 'Array'","_pointArr","setCtrlPoints","density","119101GFVaze","getLength","310585NROChK","getCoordSeq","push","at least two points are required!","_generatePoints","getCoordinate","1AEaIsx","BEZIER_CURVEN","317031SOArzp","566548EbZUZs"];function id(t,e){return rd[t-=190]}const nd=id;!function(t,e){const r=id;for(;;)try{if(375509===-parseInt(r(200))+parseInt(r(197))*parseInt(r(208))+parseInt(r(199))+parseInt(r(204))+-parseInt(r(215))+-parseInt(r(202))*parseInt(r(206))+parseInt(r(191)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(rd);class sd extends t.GeometryExt{constructor(t,e=50){const r=id;if(super(),!(t instanceof Array))throw new TypeError(r(211));if(t.length<2)throw new RangeError(r(194));this[r(214)]=e,this._ctrlPoints=t,this[r(212)]=[],this[r(195)]()}[nd(195)](){const t=nd,e=this[t(207)](this._ctrlPoints,this.density);this[t(212)]=e}[nd(192)](){const e=nd,r=[];if(0!=this[e(212)][e(201)])for(let t of this[e(212)])r[e(193)](t[e(196)]());return new t.CoordSeq(r)}[nd(209)](){return new t.Line(this._pointArr)}[nd(205)](){const t=nd;return this[t(209)]()[t(205)]()}[nd(210)](){const e=nd;return t.GeometryExtType[e(203)][e(198)]}[nd(190)](t){const e=nd;return this.toLine()[e(190)](t)}[nd(213)](t){const e=nd;if(!(t instanceof Array))throw new TypeError(e(211));if(t.length<2)throw new RangeError(e(194));this._ctrlPoints=t,this[e(195)]()}}const od=["getLength","push","1387089JFVIuA","get2Dist","toLine","_pointArr","7MkISEN","length","getOrdinate","getCoordSeq","92569mkFcVY","getCoordinate","POLYLINE","calculateCardinalPoints","_generatePoints","92414viCvYE","551038sClCPr","41465EuJzSd","setCtrlPoints","_ctrlPoints","_srid","CARDINAL_CURVE","659959OxqhJz","getBBox","23943pTdxiW","at least three points are required!","getType","the parameter of points must be 'Array'","5qfYObi"],ad=hd;function hd(t,e){return od[t-=373]}!function(t,e){const r=hd;for(;;)try{if(403125===parseInt(r(401))*-parseInt(r(397))+parseInt(r(389))+parseInt(r(395))+-parseInt(r(383))*-parseInt(r(379))+parseInt(r(388))+-parseInt(r(390))+-parseInt(r(375)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(od);class ld extends t.GeometryExt{constructor(t){const e=hd;if(super(),!(t instanceof Array))throw new TypeError(e(400));if(t[e(380)]<3)throw new RangeError(e(398));this[e(392)]=t,this[e(378)]=[],this._generatePoints()}_generatePoints(){const t=hd,e=this[t(386)](this[t(392)]);this._pointArr=this.getBezierPoints(e,50)}[ad(399)](){const e=ad;return t.GeometryExtType[e(385)][e(394)]}[ad(382)](){const e=ad,r=[];if(0!=this[e(378)][e(380)])for(let t of this[e(378)])r[e(374)](t[e(384)]());return new t.CoordSeq(r)}toLine(){return new t.Line(this._pointArr)}[ad(396)](){const t=ad;return this[t(377)]()[t(396)]()}[ad(373)](e){const r=ad;!e&&(e=t.initState[r(393)]);let i=0;for(let t=1,n=this[r(378)].length;t<n;t++){const n=this[r(378)][t-1][r(384)](),s=this[r(378)][t][r(384)](),o=n[r(376)](s,e),a=s.getOrdinate("Z")-n[r(381)]("Z");i+=Math.sqrt(o*o+a*a)}return i}[ad(391)](t){const e=ad;if(!(t instanceof Array))throw new TypeError(e(400));if(t.length<3)throw new RangeError("at least three points are required!");this[e(392)]=t,this[e(387)]()}}const cd=["length","toMultiLine","_lines","_calculateArrowLines","calculateVector","_generatePoints","getBezierPoints","401547cIJCLd","getBBox","1123920FTStnY","getCoordinate","560573ykmVzg","52aLuLhk","CARDINAL_CURVE_ARROW","getCoordSeq","getLines","calculateCardinalPoints","18290wNyyVH","at least two points are required!","2807SGNbNs","getCoordSeqs","36yvipSZ","449YtGZie","_ctrlPoints","calculateDistance","142418DOekQw","push","the parameter of points must be 'Array'","getType","66963WHLnvK","getOrdinate"],ud=pd;function pd(t,e){return cd[t-=409]}!function(t,e){const r=pd;for(;;)try{if(941283===parseInt(r(437))*parseInt(r(411))+parseInt(r(436))+-parseInt(r(416))*-parseInt(r(413))+-parseInt(r(432))+parseInt(r(434))+-parseInt(r(419))+parseInt(r(423))*-parseInt(r(415)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(cd);class fd extends t.GeometryExt{constructor(t){const e=pd;if(super(),!(t instanceof Array))throw new TypeError(e(421));if(t[e(425)]<2)throw new RangeError(e(412));this[e(417)]=t,this[e(427)]=[],this[e(430)]()}[ud(430)](){const e=ud,r=[];if(2==this._ctrlPoints.length){let i=this[e(417)][0],n=this._ctrlPoints[1],s=new t.Line([i,n]),o={x:i.getCoordinate()[e(424)]("X"),y:i[e(435)]()[e(424)]("Y")},a={x:n.getCoordinate()[e(424)]("X"),y:n[e(435)]()[e(424)]("Y")},h=this[e(428)](o,a,10);r[e(420)](s,h)}else{let i=this[e(410)](this[e(417)]),n=this[e(431)](i),s=new t.Line(n),o=i[i[e(425)]-2],a=i[i.length-1],h={x:o[e(435)]()[e(424)]("X"),y:o.getCoordinate()[e(424)]("Y")},l={x:a[e(435)]().getOrdinate("X"),y:a[e(435)]()[e(424)]("Y")},c=this[e(428)](h,l,2);r[e(420)](s,c)}this[e(427)]=r}[ud(428)](e,r,i,n){const s=ud;i||(i=10),n||(n=Math.PI/6);let o=this[s(418)](e,r),a=this[s(429)]({x:e.x-r.x,y:e.y-r.y},n,o/i),h={x:a[0].x+r.x,y:a[0].y+r.y},l={x:a[1].x+r.x,y:a[1].y+r.y},c=[];return c.push(new t.Point(new t.Coordinate(h.x,h.y,0))),c.push(new t.Point(new t.Coordinate(r.x,r.y,0))),c[s(420)](new t.Point(new t.Coordinate(l.x,l.y,0))),new t.Line(c)}[ud(414)](){const t=ud;let e=[];for(let r=0;r<this[t(427)][t(425)];r++)e.push(this[t(427)][r][t(439)]());return e}[ud(426)](){return new t.MultiLine(this._lines)}getBBox(){const t=ud;return this[t(426)]()[t(433)]()}[ud(422)](){const e=ud;return t.GeometryExtType.LARROW[e(438)]}[ud(409)](){return this[ud(427)]}setCtrlPoints(t){const e=ud;if(!(t instanceof Array))throw new TypeError(e(421));if(t[e(425)]<2)throw new RangeError(e(412));this[e(417)]=t,this[e(430)]()}}const gd=["getOrdinate","parameter is illegal!","_ctrlPoints","getBBox","distanceTo","getRadius","_center","7glwjDE","529ohxEAn","441146nPasLd","_pointNum","446640arBjxS","multiPointIntersectCircle2D","1683LgaCFt","the parameter of points must be 'Array'","getCenter","getCoordSeqs","intersectsGeometry","cos","sin","569LfCOAY","171474vTHkJL","POLYGON","polygonIntersectCircle2D","_pointArr","159YnUrUV","_generatePoints","push","lineIntersectCircle2D","getGeoms","528122RBtxFS","multiLineIntersectCircle2D","124037xYhTgM","only two points are required!","getCoordinate","length","toPolygon","getType"],dd=_d;function _d(t,e){return gd[t-=269]}!function(t,e){const r=_d;for(;;)try{if(342771===parseInt(r(277))+parseInt(r(279))*parseInt(r(291))+-parseInt(r(287))+parseInt(r(296))+parseInt(r(274))*-parseInt(r(286))+parseInt(r(275))+parseInt(r(298))*-parseInt(r(273)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(gd);class yd extends t.GeometryExt{constructor(e,r,i=100){const n=_d;if(!(e instanceof t.Point&&r instanceof t.Point))throw new TypeError("points parameter must be instance of Point!");super(),this._pointNum=i,this[n(306)]=[e,r],this[n(290)]=[],this[n(272)]=e,this[n(292)]()}[dd(292)](){const e=dd,r=this._ctrlPoints[0],i=this[e(306)][1],n=r.distanceTo(i);this._radius=n;const s=r[e(300)](),o=s[e(304)]("X"),a=s[e(304)]("Y"),h=s[e(304)]("Z"),l=[];let c;for(let r=0;r<this[e(276)];r++)c=2*Math.PI/this[e(276)]*r,l[e(293)](new t.Point(new t.Coordinate(o+n*Math[e(284)](c),a+n*Math[e(285)](c),h)));l.push(new t.Point(new t.Coordinate(o+n,a,h))),this._pointArr=l}[dd(282)](){const e=dd,r=[];if(0!=this._pointArr[e(301)])for(let t of this._pointArr)r[e(293)](t[e(300)]());return[new t.CoordSeq(r)]}[dd(302)](){const e=dd;return new t.Polygon([new t.LinearRing(this[e(290)])])}[dd(269)](){const t=dd;return this[t(302)]()[t(269)]()}getType(){const e=dd;return t.GeometryExtType[e(288)].CIRCLE}setCtrlPoints(t){const e=dd;if(!(t instanceof Array))throw new TypeError(e(280));if(2!=t[e(301)])throw new RangeError(e(299));this[e(306)]=t,this[e(292)]()}[dd(283)](e){const r=dd;if(!e[r(303)])throw new TypeError(r(305));return{Point:()=>t.Intersect.pointIntersectCircle2D(e,this),MultiPoint:()=>{const i=r;return t.Intersect[i(278)](e,this)},Line:()=>{const i=r;return t.Intersect[i(294)](e,this)},LinearRing:()=>{const i=r;return t.Intersect[i(294)](e,this)},Triangle:()=>{const i=r;return t.Intersect[i(289)](e[i(302)](),this)},MultiLine:()=>{const i=r;return t.Intersect[i(297)](e,this)},Circle:()=>t.Intersect.circle2DIntersectCircle2D(this,e),Rectangle:()=>{const i=r;return t.Intersect[i(289)](e[i(302)](),this)},Polygon:()=>{const i=r;return t.Intersect[i(289)](e,this)},MultiPolygon:()=>t.Intersect.multiPolygonIntersectCircle2D(e,this),Collection:()=>{const t=r;for(let r of e[t(295)]())if(this[t(283)](r))return!0;return!1}}[e[r(303)]()]()}[dd(270)](t,e){const r=dd;return this.toPolygon()[r(270)](t,e)}[dd(271)](){return this._radius}[dd(281)](){return this[dd(272)]}}const md=["getCoordSeqs","_ctrlPoints","1cAUuBi","at least three points are required!","258035JimExd","9149KWXLyI","getBezierPoints","length","push","the parameter of points must be 'Array'","toPolygon","setCtrlPoints","2zLEZRN","_generatePoints","toLine","1kaVckV","392111NXxMvi","544239oxNuqZ","getCoordinate","206833FZtWAH","417413ITxTzB","CLOSE_CURVE","61NIPuUk","getBBox","POLYGON","_pointArr","828113CwisAl","getType"];function Id(t,e){return md[t-=292]}const xd=Id;!function(t,e){const r=Id;for(;;)try{if(422750===-parseInt(r(319))*-parseInt(r(302))-parseInt(r(295))+parseInt(r(308))+parseInt(r(309))*-parseInt(r(298))+-parseInt(r(316))*parseInt(r(296))+-parseInt(r(306))*-parseInt(r(292))+parseInt(r(293)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(md);class vd extends t.GeometryExt{constructor(t){const e=Id;if(super(),!(t instanceof Array))throw new TypeError(e(313));if(t[e(311)]<3)throw new RangeError("at least three points are required!");this[e(305)]=t,this[e(301)]=[],this[e(317)]()}[xd(317)](){const t=xd,e=this.calculateCloseCardinal(this[t(305)]);this[t(301)]=this[t(310)](e,50)}[xd(303)](){const e=xd;return t.GeometryExtType[e(300)][e(297)]}[xd(304)](){const e=xd,r=[];if(0!=this._pointArr.length)for(let t of this[e(301)])r[e(312)](t[e(294)]());return[new t.CoordSeq(r)]}[xd(314)](){const e=xd;return new t.Polygon([new t.LinearRing(this[e(301)])])}[xd(318)](){const e=xd;return new t.Line(this[e(301)])}[xd(299)](){const t=xd;return this[t(314)]()[t(299)]()}[xd(315)](t){const e=xd;if(!(t instanceof Array))throw new TypeError(e(313));if(t[e(311)]<3)throw new RangeError(e(307));this[e(305)]=t,this._generatePoints()}}const bd=["getType","push","734670ujKxRs","_ctrlPoints","2GaqySg","356407dimJkR","length","toPolygon","toLine","26773amevdE","2063983LRCmoy","getBBox","57711mjglZy","at least two points are required!","slice","_pointArr","getCoordinate","getCoordSeqs","673476euNaXl","concat","310162NPSgTF","the parameter of points must be 'Array'","_generatePoints","getOrdinate","18LDZnYF","getBezierPoints","FLAG","30IEWAIy"],wd=Td;function Td(t,e){return bd[t-=383]}!function(t,e){const r=Td;for(;;)try{if(693542===parseInt(r(392))+-parseInt(r(404))+parseInt(r(407))+parseInt(r(394))*parseInt(r(406))+-parseInt(r(383))*-parseInt(r(401))+parseInt(r(386))*parseInt(r(398))+-parseInt(r(384)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(bd);class Ed extends t.GeometryExt{constructor(t){const e=Td;if(super(),!(t instanceof Array))throw new TypeError(e(395));if(t[e(408)]<2)throw new RangeError("At least two points are required!");t=t.slice(0,2),this[e(405)]=t,this._pointArr=[],this[e(396)]()}_generatePoints(){const e=Td,r=this[e(405)][0],i=this[e(405)][1],n=r[e(390)](),s=i[e(390)]();let o=r,a=new t.Point(new t.Coordinate((n.getOrdinate("X")-n[e(397)]("X"))/4+n[e(397)]("X"),(s[e(397)]("Y")-n[e(397)]("Y"))/8+n[e(397)]("Y"),0)),h=new t.Point(new t.Coordinate((n.getOrdinate("X")+s[e(397)]("X"))/2,n[e(397)]("Y"),0)),l=new t.Point(new t.Coordinate(3*(s[e(397)]("X")-n[e(397)]("X"))/4+n[e(397)]("X"),-(s[e(397)]("Y")-n[e(397)]("Y"))/8+n[e(397)]("Y"),0)),c=new t.Point(new t.Coordinate(s.getOrdinate("X"),n.getOrdinate("Y"),0)),u=new t.Point(new t.Coordinate(s.getOrdinate("X"),(n[e(397)]("Y")+s[e(397)]("Y"))/2,0)),p=new t.Point(new t.Coordinate(3*(s[e(397)]("X")-n[e(397)]("X"))/4+n.getOrdinate("X"),3*(s[e(397)]("Y")-n[e(397)]("Y"))/8+n.getOrdinate("Y"),0)),f=new t.Point(new t.Coordinate((n[e(397)]("X")+s[e(397)]("X"))/2,(n[e(397)]("Y")+s[e(397)]("Y"))/2,0)),g=new t.Point(new t.Coordinate((s[e(397)]("X")-n[e(397)]("X"))/4+n[e(397)]("X"),5*(s.getOrdinate("Y")-n[e(397)]("Y"))/8+n[e(397)]("Y"),0)),d=new t.Point(new t.Coordinate(n.getOrdinate("X"),(n[e(397)]("Y")+s[e(397)]("Y"))/2,0)),_=new t.Point(new t.Coordinate(n[e(397)]("X"),s[e(397)]("Y"),0)),y=this[e(399)]([o,a,h,l,c]),m=this[e(399)]([u,p,f,g,d]),I=y[e(393)](m);I[e(403)](_),I[e(403)](o),this[e(389)]=I}[wd(402)](){const e=wd;return t.GeometryExtType[e(400)].CURVE_FLAG}[wd(391)](){const e=wd,r=[];if(0!=this[e(389)][e(408)])for(let t of this[e(389)])r[e(403)](t[e(390)]());return[new t.CoordSeq(r)]}[wd(409)](){const e=wd;return new t.Polygon([new t.LinearRing(this[e(389)])])}[wd(385)](){return this.toPolygon().getBBox()}[wd(410)](){const e=wd;return new t.Line(this[e(389)])}setCtrlPoints(t){const e=wd;if(!(t instanceof Array))throw new TypeError(e(395));if(t[e(408)]<2)throw new RangeError(e(387));t=t[e(388)](0,2),this[e(405)]=t,this[e(396)]()}}const Cd=["_calculateMorePoints","_pointArr","push","the parameter of points must be 'Array'","768075MBlMOr","getBBox","390552qCupTR","13812rYMyeP","calculateIntersection","_calculateTwoPoints","getOrdinate","getBezierPoints","getCoordinate","546681VUUxuS","5aLpAsU","getCoordSeqs","_generatePoints","length","getType","_ratio","_ctrlPoints","131164lcLHyJ","50295dSYKPn","sqrt","calculateAngularBisector","558207YYPXDF","toPolygon","setCtrlPoints","calculateVector","concat"],Ad=Md;function Md(t,e){return Cd[t-=475]}!function(t,e){const r=Md;for(;;)try{if(477850===parseInt(r(481))+parseInt(r(500))*-parseInt(r(477))+parseInt(r(493))+parseInt(r(492))+parseInt(r(490))+-parseInt(r(478))+-parseInt(r(499)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Cd);class Sd extends t.GeometryExt{constructor(t){const e=Md;if(super(),!(t instanceof Array))throw new TypeError(e(489));if(t[e(503)]<2)throw new RangeError("at least two points are required!");this[e(476)]=t,this._pointArr=[],this._ratio=6,this._tailRatio=5,this[e(502)]()}_generatePoints(){const t=Md;2==this._ctrlPoints.length?this[t(495)]():this[t(486)]()}[Ad(495)](){const e=Ad;let r=this[e(476)],i=r[0][e(498)]()[e(496)]("X"),n=r[0][e(498)]().getOrdinate("Y"),s={x:r[1][e(498)]()[e(496)]("X"),y:r[1].getCoordinate()[e(496)]("Y")},o=Math[e(479)]((s.y-n)*(s.y-n)+(s.x-i)*(s.x-i))/this[e(475)],a=i+(s.x-i)*(this._ratio-1)/this._ratio,h=n+(s.y-n)*(this[e(475)]-1)/this[e(475)],l=this[e(484)]({x:s.x-i,y:s.y-n},Math.PI/2,o/2),c=l[0],u=l[1],p=new t.Point(new t.Coordinate(c.x+i,c.y+n,0)),f=new t.Point(new t.Coordinate(u.x+i,u.y+n,0)),g=new t.Point(new t.Coordinate(c.x/this[e(475)]+a,c.y/this[e(475)]+h,0)),d=new t.Point(new t.Coordinate(u.x/this._ratio+a,u.y/this[e(475)]+h,0)),_=new t.Point(new t.Coordinate(2*g.getCoordinate()[e(496)]("X")-d[e(498)]().getOrdinate("X"),2*g[e(498)]().getOrdinate("Y")-d.getCoordinate()[e(496)]("Y"),0)),y=new t.Point(new t.Coordinate(2*d[e(498)]()[e(496)]("X")-g[e(498)]()[e(496)]("X"),2*d[e(498)]()[e(496)]("Y")-g[e(498)]()[e(496)]("Y"),0)),m=new t.Point(new t.Coordinate(s.x,s.y,0));this[e(487)][e(488)](p,g,_,m,y,d,f,p)}[Ad(486)](){const e=Ad;let r=this[e(476)],i=0,n=0;for(let t=0;t<r[e(503)]-1;t++){let n={x:r[t][e(498)]()[e(496)]("X"),y:r[t][e(498)]().getOrdinate("Y")},s={x:r[t+1].getCoordinate().getOrdinate("X"),y:r[t+1][e(498)]()[e(496)]("Y")};i+=Math[e(479)]((s.y-n.y)*(s.y-n.y)+(s.x-n.x)*(s.x-n.x))}n=i/this[e(475)];let s=Math.atan(n/(2*i)),o=[],a=[],h={x:0,y:0},l={x:0,y:0};for(let t=0;t<r[e(503)]-2;t++){let i={x:r[t][e(498)]().getOrdinate("X"),y:r[t].getCoordinate()[e(496)]("Y")},c={x:r[t+1][e(498)]()[e(496)]("X"),y:r[t+1].getCoordinate()[e(496)]("Y")},u={x:r[t+2][e(498)]()[e(496)]("X"),y:r[t+2][e(498)]()[e(496)]("Y")},p={x:c.x-i.x,y:c.y-i.y},f={x:u.x-c.x,y:u.y-c.y},g={x:0,y:0},d={x:0,y:0};if(0==t){let t=this[e(484)](p,Math.PI/2,n/2),r=t[0],s=t[1];h=g={x:r.x+i.x,y:r.y+i.y},l=d={x:s.x+i.x,y:s.y+i.y}}else g=o[o[e(503)]-1],d=a[a[e(503)]-1];let _=this[e(484)](p,s,1),y=_[1],m=_[0],I=this[e(480)]({x:-p.x,y:-p.y},f),x=this[e(494)](y,I,g,c),v=this[e(494)](m,I,d,c);o.push({x:(g.x+x.x)/2,y:(g.y+x.y)/2}),o.push(x),a[e(488)]({x:(d.x+v.x)/2,y:(d.y+v.y)/2}),a[e(488)](v)}let c=r[r[e(503)]-2].getCoordinate()[e(496)]("X"),u=r[r[e(503)]-2][e(498)]().getOrdinate("Y"),p={x:r[r[e(503)]-1][e(498)]()[e(496)]("X"),y:r[r.length-1][e(498)]()[e(496)]("Y")},f=Math[e(479)]((c-p.x)*(c-p.x)+(u-p.y)*(u-p.y)),g={x:0,y:0},d={x:0,y:0},_=[],y={x:0,y:0},m={x:0,y:0},I={x:0,y:0},x={x:0,y:0},v=o[o[e(503)]-1],b=a[a[e(503)]-1],w={x:0,y:0},T={x:0,y:0};if(f<=n)_=this.calculateVector({x:p.x-c,y:p.y-u},Math.PI/2,n/2),w=_[0],T=_[1],g={x:w.x/this[e(475)]+c,y:w.y/this._ratio+u},d={x:T.x/this[e(475)]+c,y:T.y/this._ratio+u},I={x:2*g.x-d.x,y:2*g.y-d.y},x={x:2*d.x-g.x,y:2*d.y-g.y},y={x:(v.x+g.x)/2,y:(v.y+g.y)/2},m={x:(b.x+d.x)/2,y:(b.y+d.y)/2},o[e(488)](y),a[e(488)](m);else{let t={x:p.x-c,y:p.y-u},r=Math.sqrt(t.x*t.x+t.y*t.y),i={x:p.x-t.x*n/r,y:p.y-t.y*n/r};_=this.calculateVector({x:p.x-i.x,y:p.y-i.y},Math.PI/2,n/2),w=_[0],T=_[1],g={x:w.x/this[e(475)]+i.x,y:w.y/this._ratio+i.y},d={x:T.x/this[e(475)]+i.x,y:T.y/this[e(475)]+i.y},I={x:2*g.x-d.x,y:2*g.y-d.y},x={x:2*d.x-g.x,y:2*d.y-g.y},y={x:(v.x+g.x)/2,y:(v.y+g.y)/2},m={x:(b.x+d.x)/2,y:(b.y+d.y)/2},o.push(y),a[e(488)](m)}const E=[],C=[];for(let r=0;r<o.length;r++)E[e(488)](new t.Point(new t.Coordinate(o[r].x,o[r].y,0)));for(let r=0;r<a.length;r++)C[e(488)](new t.Point(new t.Coordinate(a[r].x,a[r].y,0)));let A=this[e(497)](E),M=this.getBezierPoints(C),S=[new t.Point(new t.Coordinate(h.x,h.y,0))];S=S[e(485)](A),S[e(488)](new t.Point(new t.Coordinate(g.x,g.y,0))),S[e(488)](new t.Point(new t.Coordinate(I.x,I.y,0))),S[e(488)](new t.Point(new t.Coordinate(p.x,p.y,0))),S[e(488)](new t.Point(new t.Coordinate(x.x,x.y,0))),S.push(new t.Point(new t.Coordinate(d.x,d.y,0)));for(let t=M.length-1;t>=0;t--)S[e(488)](M[t]);S[e(488)](new t.Point(new t.Coordinate(l.x,l.y,0))),S[e(488)](new t.Point(new t.Coordinate(h.x,h.y,0))),this[e(487)]=S}[Ad(501)](){const e=Ad,r=[];if(0!=this[e(487)][e(503)])for(let t of this[e(487)])r[e(488)](t[e(498)]());return[new t.CoordSeq(r)]}[Ad(482)](){const e=Ad;return new t.Polygon([new t.LinearRing(this[e(487)])])}getBBox(){const t=Ad;return this[t(482)]()[t(491)]()}[Ad(504)](){return t.GeometryExtType.ARROW.DIAGONAL_ARROW}[Ad(483)](t){const e=Ad;if(!(t instanceof Array))throw new TypeError(e(489));if(t[e(503)]<2)throw new RangeError("at least two points are required!");this[e(476)]=t,this[e(502)]()}}const Pd=["getBBox","1390823guqHyx","1265797rteuHR","7ecXwnO","_calculateIntersectionFromTwoCorner","getOrdinate","toPolygon","slice","_generatePoints","sqrt","push","1eUgNdk","_ratio","_pointArr","130841gXpcOt","the parameter of points must be 'Array'","equals","_ctrlPoints","getType","calculateVector","1801592HtwQDY","1069697IsozlZ","_tailRatio","1565576queROu","calculateIntersection","1KvVAxi","getCoordinate","_getDistinctPoints","concat","1OTBLpV","getCoordSeqs","2143596YdHjUL","getBezierPoints","at least four distinct points are required!","at least four points are required!","length"],Rd=Ld;function Ld(t,e){return Pd[t-=430]}!function(t,e){const r=Ld;for(;;)try{if(944736===parseInt(r(464))+-parseInt(r(440))*-parseInt(r(465))+parseInt(r(455))*-parseInt(r(463))+-parseInt(r(447))*parseInt(r(437))+parseInt(r(446))+-parseInt(r(449))*-parseInt(r(451))+-parseInt(r(457)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Pd);class Fd extends t.GeometryExt{constructor(t){const e=Ld;if(super(),!(t instanceof Array))throw new TypeError(e(441));if((t=this[e(453)](t))[e(461)]<4)throw new RangeError(e(459));t=t[e(433)](0,4),this[e(443)]=t,this[e(439)]=[],this[e(438)]=6,this[e(448)]=5,this[e(434)]()}[Rd(453)](t){const e=Rd,r=[];for(let i=0;i<t.length;i++){const n=t[i];0===i?r.push(n):!n[e(442)](r[r[e(461)]-1])&&r[e(436)](n)}return r}[Rd(434)](){const e=Rd;if(null==this._ctrlPoints||this[e(443)][e(461)]<4)return;let r=this._ctrlPoints,i={x:r[0][e(452)]()[e(431)]("X"),y:r[0][e(452)]().getOrdinate("Y")},n={x:r[1][e(452)]()[e(431)]("X"),y:r[1][e(452)]()[e(431)]("Y")},s={x:r[2].getCoordinate().getOrdinate("X"),y:r[2].getCoordinate().getOrdinate("Y")},o={x:r[3][e(452)]()[e(431)]("X"),y:r[3][e(452)]().getOrdinate("Y")},a={x:(5*(i.x+n.x)+(s.x+o.x))/12,y:(5*(i.y+n.y)+(s.y+o.y))/12},h=this[e(430)](i,o,Math.PI/8,Math.PI/6)[0],l=this._calculateIntersectionFromTwoCorner(a,o,Math.PI/8,Math.PI/16)[0],c=this[e(430)](n,s,Math.PI/8,Math.PI/6)[1],u=this._calculateIntersectionFromTwoCorner(a,s,Math.PI/8,Math.PI/16)[1],p=h.x-o.x,f=h.y-o.y,g=Math[e(435)](p*p+f*f),d=p/g,_=f/g,y=l.x-o.x,m=l.y-o.y,I=Math[e(435)](y*y+m*m),x=.25,v=g<I?g*x:I*x,b={x:d*v+o.x,y:_*v+o.y},w={x:y/I*v+o.x,y:m/I*v+o.y},T={x:1.5*b.x-.5*w.x,y:1.5*b.y-.5*w.y},E={x:1.5*w.x-.5*b.x,y:1.5*w.y-.5*b.y},C=c.x-s.x,A=c.y-s.y,M=Math.sqrt(C*C+A*A),S=C/M,P=A/M,R=u.x-s.x,L=u.y-s.y,F=Math.sqrt(R*R+L*L),D=M<F?M*x:F*x,O={x:S*D+s.x,y:P*D+s.y},N={x:R/F*D+s.x,y:L/F*D+s.y},B={x:1.5*O.x-.5*N.x,y:1.5*O.y-.5*N.y},U={x:1.5*N.x-.5*O.x,y:1.5*N.y-.5*O.y},k=[new t.Point(new t.Coordinate(i.x,i.y,0)),new t.Point(new t.Coordinate(h.x,h.y,0)),new t.Point(new t.Coordinate(b.x,b.y,0))],V=this[e(458)](k),G=s.x-o.x,z=s.y-o.y,H=a.x-o.x,j=a.y-o.y,Y=Math[e(435)](H*H+j*j),$=a.x-s.x,X=a.y-s.y,W=Math.sqrt($*$+X*X),Z=.4*G,q=.4*z,J={x:a.x-Z*Y/(Y+W),y:a.y-q*Y/(Y+W)},K={x:a.x+Z*W/(Y+W),y:a.y+q*W/(Y+W)},Q=[new t.Point(new t.Coordinate(w.x,w.y,0)),new t.Point(new t.Coordinate(l.x,l.y,0)),new t.Point(new t.Coordinate(J.x,J.y,0)),new t.Point(new t.Coordinate(a.x,a.y,0)),new t.Point(new t.Coordinate(K.x,K.y,0)),new t.Point(new t.Coordinate(u.x,u.y,0)),new t.Point(new t.Coordinate(N.x,N.y,0))],tt=this.getBezierPoints(Q),et=[new t.Point(new t.Coordinate(O.x,O.y,0)),new t.Point(new t.Coordinate(c.x,c.y,0)),new t.Point(new t.Coordinate(n.x,n.y,0))],rt=this[e(458)](et),it=V;it[e(436)](new t.Point(new t.Coordinate(T.x,T.y,0))),it[e(436)](new t.Point(new t.Coordinate(o.x,o.y,0))),it[e(436)](new t.Point(new t.Coordinate(E.x,E.y,0))),it=it.concat(tt),it.push(new t.Point(new t.Coordinate(U.x,U.y,0))),it[e(436)](new t.Point(new t.Coordinate(s.x,s.y,0))),it[e(436)](new t.Point(new t.Coordinate(B.x,B.y,0))),it=it[e(454)](rt),it.push(V[0]),this[e(439)]=it}[Rd(430)](t,e,r,i){const n=Rd;r||(r=Math.PI/4);let s={x:e.x-t.x,y:e.y-t.y},o=this.calculateVector(s,r,1),a=o[0],h=o[1],l=this[n(445)](s,Math.PI-r,1),c=l[0],u=l[1];return[this[n(450)](a,c,t,e),this.calculateIntersection(h,u,t,e)]}[Rd(456)](){const e=Rd,r=[];if(0!=this[e(439)][e(461)])for(let t of this._pointArr)r[e(436)](t[e(452)]());return[new t.CoordSeq(r)]}[Rd(432)](){return new t.Polygon([new t.LinearRing(this._pointArr)])}getBBox(){const t=Rd;return this.toPolygon()[t(462)]()}[Rd(444)](){return t.GeometryExtType.ARROW.DOUBLE_ARROW}setCtrlPoints(t){const e=Rd;if(!(t instanceof Array))throw new TypeError(e(441));if(t.length<4)throw new RangeError(e(460));t=t[e(433)](0,4),this[e(443)]=t,this[e(434)]()}}const Dd=["_generatePoints","DOVETAIL_DIAGONAL_ARROW","atan","2WtNYvz","getBezierPoints","2306kwImKq","getBBox","304574BXUeMP","setCtrlPoints","_ctrlPoints","sqrt","_tailRatio","the parameter of points must be 'Array'","length","1eKPPPW","concat","787XhEjfW","getCoordinate","calculateVector","getType","push","getOrdinate","612539heTwEQ","calculateIntersection","1567GACTio","At least two points are required!","2771881YMuIQc","890942OZXjTe","_calculateTwoPoints","46011EubKtX","69gzdfuK","_ratio","getCoordSeqs","21MKzwVJ","_pointArr","_calculateMorePoints"],Od=Nd;function Nd(t,e){return Dd[t-=249]}!function(t,e){const r=Nd;for(;;)try{if(761097===parseInt(r(279))*-parseInt(r(250))+-parseInt(r(277))*-parseInt(r(266))+parseInt(r(265))*-parseInt(r(269))-parseInt(r(263))+parseInt(r(258))*parseInt(r(275))+-parseInt(r(260))*parseInt(r(252))+parseInt(r(262)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Dd);class Bd extends t.GeometryExt{constructor(t){const e=Nd;if(super(),!(t instanceof Array))throw new TypeError("the parameter of points must be 'Array'");if(t.length<2)throw new RangeError(e(261));this[e(281)]=t,this._pointArr=[],this._ratio=6,this[e(283)]=5,this._generatePoints()}[Od(272)](){const t=Od;2==this[t(281)][t(249)]?this[t(264)]():this[t(271)]()}[Od(264)](){const e=Od;let r=this._ctrlPoints,i=r[0][e(253)]()[e(257)]("X"),n=r[0][e(253)]()[e(257)]("Y"),s={x:r[1][e(253)]()[e(257)]("X"),y:r[1][e(253)]()[e(257)]("Y")},o=Math[e(282)]((s.y-n)*(s.y-n)+(s.x-i)*(s.x-i))/this._ratio,a=i+(s.x-i)*(this._ratio-1)/this._ratio,h=n+(s.y-n)*(this[e(267)]-1)/this[e(267)],l=this[e(254)]({x:s.x-i,y:s.y-n},Math.PI/2,o/2),c=l[0],u=l[1],p=new t.Point(new t.Coordinate(c.x+i,c.y+n,0)),f=new t.Point(new t.Coordinate(u.x+i,u.y+n,0)),g=new t.Point(new t.Coordinate(c.x/this[e(267)]+a,c.y/this._ratio+h,0)),d=new t.Point(new t.Coordinate(u.x/this[e(267)]+a,u.y/this[e(267)]+h,0)),_=new t.Point(new t.Coordinate(2*g.getCoordinate().getOrdinate("X")-d[e(253)]()[e(257)]("X"),2*g[e(253)]()[e(257)]("Y")-d[e(253)]().getOrdinate("Y"),0)),y=new t.Point(new t.Coordinate(2*d[e(253)]()[e(257)]("X")-g[e(253)]()[e(257)]("X"),2*d[e(253)]().getOrdinate("Y")-g[e(253)]()[e(257)]("Y"),0)),m=new t.Point(new t.Coordinate(s.x,s.y,0)),I=new t.Point(new t.Coordinate((s.x-i)/this._tailRatio+i,(s.y-n)/this[e(283)]+n,0));this[e(270)].push(I,p,g,_,m,y,d,f,I)}[Od(271)](){const e=Od;let r,i=this._ctrlPoints,n=0,s=0;for(let t=0;t<i[e(249)]-1;t++){let s={x:i[t][e(253)]()[e(257)]("X"),y:i[t][e(253)]()[e(257)]("Y")},o={x:i[t+1][e(253)]()[e(257)]("X"),y:i[t+1][e(253)]()[e(257)]("Y")};n+=Math[e(282)]((o.y-s.y)*(o.y-s.y)+(o.x-s.x)*(o.x-s.x)),0==t&&(r={x:(o.x-s.x)/this[e(283)]+s.x,y:(o.y-s.y)/this._tailRatio+s.y})}s=n/this[e(267)];let o=Math[e(274)](s/(2*n)),a=[],h=[],l={x:0,y:0},c={x:0,y:0};for(let t=0;t<i[e(249)]-2;t++){let r={x:i[t][e(253)]().getOrdinate("X"),y:i[t].getCoordinate().getOrdinate("Y")},n={x:i[t+1][e(253)]()[e(257)]("X"),y:i[t+1][e(253)]().getOrdinate("Y")},u={x:i[t+2].getCoordinate()[e(257)]("X"),y:i[t+2][e(253)]()[e(257)]("Y")},p={x:n.x-r.x,y:n.y-r.y},f={x:u.x-n.x,y:u.y-n.y},g={x:0,y:0},d={x:0,y:0};if(0==t){let t=this[e(254)](p,Math.PI/2,s/2),i=t[0],n=t[1];l=g={x:i.x+r.x,y:i.y+r.y},c=d={x:n.x+r.x,y:n.y+r.y}}else g=a[a[e(249)]-1],d=h[h[e(249)]-1];let _=this.calculateVector(p,o,1),y=_[1],m=_[0],I=this.calculateAngularBisector({x:-p.x,y:-p.y},f),x=this[e(259)](y,I,g,n),v=this[e(259)](m,I,d,n);a[e(256)]({x:(g.x+x.x)/2,y:(g.y+x.y)/2}),a.push(x),h[e(256)]({x:(d.x+v.x)/2,y:(d.y+v.y)/2}),h[e(256)](v)}let u=i[i[e(249)]-2].getCoordinate()[e(257)]("X"),p=i[i[e(249)]-2].getCoordinate().getOrdinate("Y"),f={x:i[i.length-1][e(253)]()[e(257)]("X"),y:i[i.length-1][e(253)]()[e(257)]("Y")},g=Math[e(282)]((u-f.x)*(u-f.x)+(p-f.y)*(p-f.y)),d={x:0,y:0},_={x:0,y:0},y=[],m={x:0,y:0},I={x:0,y:0},x={x:0,y:0},v={x:0,y:0},b=a[a[e(249)]-1],w=h[h[e(249)]-1],T={x:0,y:0},E={x:0,y:0};if(g<=s)y=this[e(254)]({x:f.x-u,y:f.y-p},Math.PI/2,s/2),T=y[0],E=y[1],d={x:T.x/this[e(267)]+u,y:T.y/this[e(267)]+p},_={x:E.x/this._ratio+u,y:E.y/this[e(267)]+p},x={x:2*d.x-_.x,y:2*d.y-_.y},v={x:2*_.x-d.x,y:2*_.y-d.y},m={x:(b.x+d.x)/2,y:(b.y+d.y)/2},I={x:(w.x+_.x)/2,y:(w.y+_.y)/2},a[e(256)](m),h[e(256)](I);else{let t={x:f.x-u,y:f.y-p},r=Math.sqrt(t.x*t.x+t.y*t.y),i={x:f.x-t.x*s/r,y:f.y-t.y*s/r};y=this[e(254)]({x:f.x-i.x,y:f.y-i.y},Math.PI/2,s/2),T=y[0],E=y[1],d={x:T.x/this._ratio+i.x,y:T.y/this[e(267)]+i.y},_={x:E.x/this[e(267)]+i.x,y:E.y/this[e(267)]+i.y},x={x:2*d.x-_.x,y:2*d.y-_.y},v={x:2*_.x-d.x,y:2*_.y-d.y},m={x:(b.x+d.x)/2,y:(b.y+d.y)/2},I={x:(w.x+_.x)/2,y:(w.y+_.y)/2},a.push(m),h.push(I)}const C=[],A=[];for(let r=0;r<a[e(249)];r++)C[e(256)](new t.Point(new t.Coordinate(a[r].x,a[r].y,0)));for(let r=0;r<h[e(249)];r++)A[e(256)](new t.Point(new t.Coordinate(h[r].x,h[r].y,0)));let M=this[e(276)](C),S=this[e(276)](A),P=[new t.Point(new t.Coordinate(r.x,r.y,0))];P[e(256)](new t.Point(new t.Coordinate(l.x,l.y,0))),P=P[e(251)](M),P[e(256)](new t.Point(new t.Coordinate(d.x,d.y,0))),P.push(new t.Point(new t.Coordinate(x.x,x.y,0))),P[e(256)](new t.Point(new t.Coordinate(f.x,f.y,0))),P.push(new t.Point(new t.Coordinate(v.x,v.y,0))),P[e(256)](new t.Point(new t.Coordinate(_.x,_.y,0)));for(let t=S[e(249)]-1;t>=0;t--)P.push(S[t]);P[e(256)](new t.Point(new t.Coordinate(c.x,c.y,0))),P.push(new t.Point(new t.Coordinate(r.x,r.y,0))),this[e(270)]=P}[Od(268)](){const e=Od,r=[];if(0!=this[e(270)][e(249)])for(let t of this[e(270)])r[e(256)](t[e(253)]());return[new t.CoordSeq(r)]}toPolygon(){const e=Od;return new t.Polygon([new t.LinearRing(this[e(270)])])}[Od(278)](){return this.toPolygon().getBBox()}[Od(255)](){const e=Od;return t.GeometryExtType.ARROW[e(273)]}[Od(280)](t){const e=Od;if(!(t instanceof Array))throw new TypeError(e(284));if(t.length<2)throw new RangeError(e(261));this[e(281)]=t,this._generatePoints()}}const Ud=["1701542eLUZdO","_ctrlPoints","329WFLADZ","getCoordSeqs","26817TroCnC","_generatePoints","calculateIntersection","ARROW","2791ljHRDQ","1qrexsz","DOVETAIL_STRAIGHT_ARROW","315139FMZDFf","setCtrlPoints","the parameter of points must be 'Array'","At least two points are required!","getOrdinate","585uPOmjo","calculateVector","1353961YFqjph","42lbQSeg","length","concat","push","558BOTUoI","getBBox","toPolygon","sqrt","getBezierPoints","_ratio","getCoordinate","_pointArr","959233BZUceS","_tailRatio","getType"],kd=Vd;function Vd(t,e){return Ud[t-=217]}!function(t,e){const r=Vd;for(;;)try{if(726448===-parseInt(r(241))*-parseInt(r(235))+-parseInt(r(217))*-parseInt(r(242))+parseInt(r(222))*-parseInt(r(249))+parseInt(r(218))*parseInt(r(237))-parseInt(r(230))+parseInt(r(244))+-parseInt(r(233)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ud);class Gd extends t.GeometryExt{constructor(t){const e=Vd;if(super(),!(t instanceof Array))throw new TypeError(e(246));if(t[e(219)]<2)throw new RangeError("At least two points are required!");this._ctrlPoints=t,this[e(229)]=[],this._ratio=6,this[e(231)]=5,this[e(238)]()}_generatePoints(){const t=Vd;2==this[t(234)][t(219)]?this._calculateTwoPoints():this._calculateMorePoints()}_calculateTwoPoints(){const e=Vd;let r=this[e(234)],i=r[0][e(228)]().getOrdinate("X"),n=r[0].getCoordinate()[e(248)]("Y"),s={x:r[1][e(228)]()[e(248)]("X"),y:r[1][e(228)]()[e(248)]("Y")},o=Math[e(225)]((s.y-n)*(s.y-n)+(s.x-i)*(s.x-i))/this[e(227)],a=i+(s.x-i)*(this._ratio-1)/this[e(227)],h=n+(s.y-n)*(this._ratio-1)/this._ratio,l=this[e(250)]({x:s.x-i,y:s.y-n},Math.PI/2,o/2),c=l[0],u=l[1],p=new t.Point(new t.Coordinate(i+c.x,n+c.y,0)),f=new t.Point(new t.Coordinate(a+p[e(228)]().getOrdinate("X")-i,h+p.getCoordinate()[e(248)]("Y")-n,0)),g=new t.Point(new t.Coordinate(2*f[e(228)]()[e(248)]("X")-a,2*f[e(228)]()[e(248)]("Y")-h,0)),d=new t.Point(new t.Coordinate(s.x,s.y,0)),_=new t.Point(new t.Coordinate(i+u.x,n+u.y,0)),y=new t.Point(new t.Coordinate(a+_.getCoordinate()[e(248)]("X")-i,h+_[e(228)]()[e(248)]("Y")-n,0)),m=new t.Point(new t.Coordinate(2*y[e(228)]()[e(248)]("X")-a,2*y[e(228)]().getOrdinate("Y")-h,0)),I=new t.Point(new t.Coordinate((s.x-i)/this[e(231)]+i,(s.y-n)/this[e(231)]+n,0));this[e(229)][e(221)](I,p,f,g,d,m,y,_,I)}_calculateMorePoints(){const e=Vd;let r,i=this._ctrlPoints,n=0,s=0;for(let t=0;t<i[e(219)]-1;t++){let s={x:i[t][e(228)]()[e(248)]("X"),y:i[t][e(228)]()[e(248)]("Y")},o={x:i[t+1].getCoordinate().getOrdinate("X"),y:i[t+1].getCoordinate()[e(248)]("Y")};n+=Math.sqrt((o.y-s.y)*(o.y-s.y)+(o.x-s.x)*(o.x-s.x)),0==t&&(r={x:(o.x-s.x)/this[e(231)]+s.x,y:(o.y-s.y)/this[e(231)]+s.y})}s=n/this._ratio;let o,a,h=[],l=[];for(let t=0;t<i[e(219)]-2;t++){let r,n,c={x:i[t][e(228)]().getOrdinate("X"),y:i[t][e(228)]()[e(248)]("Y")},u={x:i[t+1][e(228)]()[e(248)]("X"),y:i[t+1][e(228)]()[e(248)]("Y")},p={x:i[t+2][e(228)]()[e(248)]("X"),y:i[t+2][e(228)]()[e(248)]("Y")},f={x:u.x-c.x,y:u.y-c.y},g={x:p.x-u.x,y:p.y-u.y},d=this[e(250)](f,Math.PI/2,s/2),_=d[0],y=d[1],m=this[e(250)](g,Math.PI/2,s/2),I=m[0],x=m[1],v={x:c.x+_.x,y:c.y+_.y},b={x:c.x+y.x,y:c.y+y.y},w={x:u.x+I.x,y:u.y+I.y},T={x:u.x+x.x,y:u.y+x.y},E=this[e(239)](f,g,v,w),C=this[e(239)](f,g,b,T);if(0==t)o=v,a=b,r={x:(o.x+E.x)/2,y:(o.y+E.y)/2},n={x:(a.x+C.x)/2,y:(a.y+C.y)/2},h[e(221)](r),l[e(221)](n);else{let t=h[h[e(219)]-1],i=l[l[e(219)]-1];r={x:(t.x+E.x)/2,y:(t.y+E.y)/2},n={x:(i.x+C.x)/2,y:(i.y+C.y)/2},h[e(221)](r),l[e(221)](n)}h[e(221)](E),l[e(221)](C)}let c,u,p,f,g,d,_,y,m=i[i[e(219)]-2][e(228)]()[e(248)]("X"),I=i[i[e(219)]-2][e(228)]().getOrdinate("Y"),x={x:i[i[e(219)]-1][e(228)]()[e(248)]("X"),y:i[i[e(219)]-1][e(228)]()[e(248)]("Y")},v={x:x.x-m,y:x.y-I},b=Math[e(225)](v.x*v.x+v.y*v.y),w=[],T=h[h.length-1],E=l[l[e(219)]-1];if(b<=s)w=this[e(250)](v,Math.PI/2,s/2),p=w[0],f=w[1],c={x:m+p.x,y:I+p.y},u={x:m+f.x,y:I+f.y},g={x:(T.x+c.x)/2,y:(T.y+c.y)/2},d={x:(E.x+u.x)/2,y:(E.y+u.y)/2},h[e(221)](g),l[e(221)](d),_={x:2*c.x-m,y:2*c.y-I},y={x:2*u.x-m,y:2*u.y-I};else{let t={x:x.x-m,y:x.y-I},r=Math.sqrt(t.x*t.x+t.y*t.y),i={x:x.x-t.x*s/r,y:x.y-t.y*s/r};w=this[e(250)](v,Math.PI/2,s/2),p=w[0],f=w[1],c={x:i.x+p.x,y:i.y+p.y},u={x:i.x+f.x,y:i.y+f.y},g={x:(T.x+c.x)/2,y:(T.y+c.y)/2},d={x:(E.x+u.x)/2,y:(E.y+u.y)/2},h[e(221)](g),l[e(221)](d),_={x:2*c.x-i.x,y:2*c.y-i.y},y={x:2*u.x-i.x,y:2*u.y-i.y}}const C=[],A=[];for(let r=0;r<h.length;r++)C[e(221)](new t.Point(new t.Coordinate(h[r].x,h[r].y,0)));for(let r=0;r<l[e(219)];r++)A[e(221)](new t.Point(new t.Coordinate(l[r].x,l[r].y,0)));let M=this[e(226)](C),S=this.getBezierPoints(A),P=[new t.Point(new t.Coordinate(r.x,r.y,0))];P[e(221)](new t.Point(new t.Coordinate(o.x,o.y,0))),P=P[e(220)](M),P[e(221)](new t.Point(new t.Coordinate(c.x,c.y,0))),P[e(221)](new t.Point(new t.Coordinate(_.x,_.y,0))),P[e(221)](new t.Point(new t.Coordinate(x.x,x.y,0))),P[e(221)](new t.Point(new t.Coordinate(y.x,y.y,0))),P[e(221)](new t.Point(new t.Coordinate(u.x,u.y,0))),P=P[e(220)](S.reverse()),P.push(new t.Point(new t.Coordinate(a.x,a.y,0))),P.push(new t.Point(new t.Coordinate(r.x,r.y,0))),this[e(229)]=P}[kd(236)](){const e=kd,r=[];if(0!=this[e(229)][e(219)])for(let t of this._pointArr)r[e(221)](t[e(228)]());return[new t.CoordSeq(r)]}[kd(224)](){const e=kd;return new t.Polygon([new t.LinearRing(this[e(229)])])}[kd(223)](){const t=kd;return this[t(224)]()[t(223)]()}[kd(232)](){const e=kd;return t.GeometryExtType[e(240)][e(243)]}[kd(245)](t){const e=kd;if(!(t instanceof Array))throw new TypeError(e(246));if(t.length<2)throw new RangeError(e(247));this[e(234)]=t,this[e(238)]()}}const zd=["_ctrlPoints","20053TBweBg","push","_generatePoints","abs","16978HFwZnP","ELLIPSE","35052YDMzFX","getOrdinate","349464ToWQNB","getType","48721GzYmUJ","536051XiwdBE","length","9742aCChxB","_pointArr","getBBox","5ypaEOB","the parameter of points must be 'Array'","sin","setCtrlPoints","sqrt","toPolygon","15CfILII","2fNnGPq","getCoordSeqs","cos","getCoordinate","at least two points are required!","slice"],Hd=jd;function jd(t,e){return zd[t-=132]}!function(t,e){const r=jd;for(;;)try{if(269726===parseInt(r(139))+parseInt(r(149))*-parseInt(r(143))+parseInt(r(133))+-parseInt(r(146))+-parseInt(r(137))*parseInt(r(155))+-parseInt(r(141))+-parseInt(r(144))*-parseInt(r(156)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(zd);class Yd extends t.GeometryExt{constructor(t){const e=jd;if(super(),!(t instanceof Array))throw new TypeError(e(150));if(t[e(145)]<2)throw new RangeError(e(160));t=t[e(161)](0,2),this[e(132)]=t,this[e(147)]=[],this[e(135)]()}_generatePoints(){const e=jd,r=this[e(132)][0],i=this[e(132)][1];let n=r[e(159)](),s=i.getCoordinate();const o=[];let a,h,l,c,u=Math[e(153)](2)*Math[e(136)](s[e(140)]("Y")-n[e(140)]("Y"))/2,p=Math.PI*(1/360-.5),f=s[e(140)]("X")-n[e(140)]("X"),g=s[e(140)]("Y")-n.getOrdinate("Y");c=0==g?0!=u?f/(u*Math[e(153)](2)):0:f/g;for(let r=0;r<360;++r)a=p+2*r*Math.PI/360,h=n.getOrdinate("X")+c*(u*Math[e(158)](a))+f/2,l=n.getOrdinate("Y")+u*Math[e(151)](a)+g/2,o[r]=new t.Point(new t.Coordinate(h,l,0)),359==r&&o[e(134)](o[0]);this._pointArr=o}[Hd(157)](){const e=Hd,r=[];if(0!=this[e(147)].length)for(let t of this[e(147)])r[e(134)](t[e(159)]());return[new t.CoordSeq(r)]}[Hd(154)](){const e=Hd;return new t.Polygon([new t.LinearRing(this[e(147)])])}[Hd(148)](){const t=Hd;return this[t(154)]()[t(148)]()}[Hd(142)](){const e=Hd;return t.GeometryExtType.POLYGON[e(138)]}[Hd(152)](t){const e=Hd;if(!(t instanceof Array))throw new TypeError(e(150));if(t[e(145)]<2)throw new RangeError(e(160));t=t[e(161)](0,2),this[e(132)]=t,this._generatePoints()}}const $d=["GATHERING_PLACE","POLYGON","408395rFszfE","_pointArr","403856tdpmPO","2556918jTXJvR","744828jxNMsG","toLine","sqrt","At least two points are required!","1SgcYfQ","getType","21394jHVaTJ","getCoordinate","307933jeNABM","toPolygon","length","slice","getBBox","calculateVector","getOrdinate","the parameter of points must be 'Array'","1ffwPvu","743875XOzRMe","16CyqWVp","push","_ctrlPoints","getBezierPoints","_generatePoints"],Xd=Wd;function Wd(t,e){return $d[t-=471]}!function(t,e){const r=Wd;for(;;)try{if(413439===parseInt(r(473))*-parseInt(r(485))-parseInt(r(475))+parseInt(r(471))*-parseInt(r(484))-parseInt(r(492))+parseInt(r(494))+parseInt(r(496))*-parseInt(r(483))+parseInt(r(495)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($d);class Zd extends t.GeometryExt{constructor(t){const e=Wd;if(super(),!(t instanceof Array))throw new TypeError(e(482));if(t.length<2)throw new RangeError(e(499));t=t.slice(0,2),this[e(487)]=t,this._pointArr=[],this[e(489)]()}[Xd(489)](){const e=Xd;let r=this._ctrlPoints[0],i=this._ctrlPoints[this[e(487)][e(477)]-1],n=[],s={x:r[e(474)]().getOrdinate("X")-i[e(474)]().getOrdinate("X"),y:r[e(474)]()[e(481)]("Y")-i[e(474)]()[e(481)]("Y")},o=Math.sqrt(s.x*s.x+s.y*s.y),a=this[e(480)](s,Math.PI/2,Math[e(498)](3)/12*o)[0],h=new t.Point(new t.Coordinate(a.x+r[e(474)]()[e(481)]("X"),a.y+r[e(474)]()[e(481)]("Y"),0)),l=new t.Point(new t.Coordinate((r.getCoordinate()[e(481)]("X")+i[e(474)]()[e(481)]("X"))/2,(r[e(474)]()[e(481)]("Y")+i[e(474)]()[e(481)]("Y"))/2,0)),c=this.calculateVector(s,2*Math.PI/3,Math[e(498)](3)/12*o)[0],u=new t.Point(new t.Coordinate(c.x+i.getCoordinate()[e(481)]("X"),c.y+i.getCoordinate()[e(481)]("Y"),0)),p=this[e(480)](s,Math.PI/2,.5*o)[1],f=new t.Point(new t.Coordinate(p.x+l.getCoordinate()[e(481)]("X"),p.y+l[e(474)]()[e(481)]("Y"),0));n[e(486)](r,h,l,u,i,f);const g=this.calculateCloseCardinal(n);this[e(493)]=this[e(488)](g,50)}[Xd(472)](){const e=Xd;return t.GeometryExtType[e(491)][e(490)]}getCoordSeqs(){const e=Xd,r=[];if(0!=this[e(493)].length)for(let t of this[e(493)])r[e(486)](t.getCoordinate());return[new t.CoordSeq(r)]}[Xd(476)](){return new t.Polygon([new t.LinearRing(this._pointArr)])}getBBox(){const t=Xd;return this[t(476)]()[t(479)]()}[Xd(497)](){const e=Xd;return new t.Line(this[e(493)])}setCtrlPoints(t){const e=Xd;if(!(t instanceof Array))throw new TypeError(e(482));if(t[e(477)]<2)throw new RangeError(e(499));t=t[e(478)](0,2),this[e(487)]=t,this.generatePoints()}}const qd=["LARROW","1SgKsrd","getBBox","toMultiLine","_lines","calculateVector","calculateIntersection","23gFMIYf","getCoordinate","calculateDistance","85CLTgfW","getOrdinate","658646petQhe","getLines","length","push","_calculateArrowLines","1221047GBQKIu","3911QHamDh","the parameter of points must be 'Array'","PARALLEL_SEARCH","1254AdAvKo","296pMreha","getCoordSeq","_ctrlPoints","getType","434414SeXbwy","562063oEtUrT","19949BytQqc","_generatePoints"],Jd=Kd;function Kd(t,e){return qd[t-=292]}!function(t,e){const r=Kd;for(;;)try{if(817137===-parseInt(r(314))+-parseInt(r(294))*-parseInt(r(320))+-parseInt(r(303))*parseInt(r(299))+parseInt(r(298))+-parseInt(r(309))*parseInt(r(293))+-parseInt(r(319))+parseInt(r(300))*parseInt(r(312)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(qd);class Qd extends t.GeometryExt{constructor(t){const e=Kd;if(super(),!(t instanceof Array))throw new TypeError("the parameter of points must be 'Array'");if(t.length<3)throw new RangeError("At least three points are required!");this[e(296)]=t,this[e(306)]=[],this._generatePoints()}[Jd(301)](){const e=Jd;let r=this[e(296)][0],i=this[e(296)][1],n={x:r[e(310)]().getOrdinate("X")-i[e(310)]()[e(313)]("X"),y:r[e(310)]().getOrdinate("Y")-i[e(310)]()[e(313)]("Y")},s=this[e(307)](n)[0],o=!1,a=[];a[e(317)](r);let h=[];for(let r=1;r<this._ctrlPoints[e(316)];r++){o=r%2!=0;let i={x:this[e(296)][r].getCoordinate()[e(313)]("X"),y:this[e(296)][r][e(310)]()[e(313)]("Y")};if(o){let o={x:a[r-1][e(310)]()[e(313)]("X"),y:a[r-1].getCoordinate()[e(313)]("Y")},l=this[e(308)](s,n,i,o);a[e(317)](new t.Point(new t.Coordinate(l.x,l.y,0)));let c=this[e(318)](o,l,15);h.push(c)}else{let o={x:a[r-1][e(310)]()[e(313)]("X"),y:a[r-1].getCoordinate().getOrdinate("Y")},l=this.calculateIntersection(n,s,i,o);a.push(new t.Point(new t.Coordinate(l.x,l.y,0)));let c=this[e(318)](o,l,15);h[e(317)](c)}h.unshift(new t.Line(a))}this[e(306)]=h}[Jd(318)](e,r,i,n){const s=Jd;i||(i=10),n||(n=Math.PI/6);let o=this[s(311)](e,r),a=this.calculateVector({x:e.x-r.x,y:e.y-r.y},n,o/i),h={x:a[0].x+r.x,y:a[0].y+r.y},l={x:a[1].x+r.x,y:a[1].y+r.y},c=[];return c[s(317)](new t.Point(new t.Coordinate(h.x,h.y,0))),c[s(317)](new t.Point(new t.Coordinate(r.x,r.y,0))),c[s(317)](new t.Point(new t.Coordinate(l.x,l.y,0))),new t.Line(c)}getCoordSeqs(){const t=Jd;let e=[];for(let r=0;r<this[t(306)][t(316)];r++)e[t(317)](this[t(306)][r][t(295)]());return e}toMultiLine(){const e=Jd;return new t.MultiLine(this[e(306)])}[Jd(304)](){const t=Jd;return this[t(305)]()[t(304)]()}[Jd(297)](){const e=Jd;return t.GeometryExtType[e(302)][e(292)]}[Jd(315)](){return this[Jd(306)]}setCtrlPoints(t){const e=Jd;if(!(t instanceof Array))throw new TypeError(e(321));if(t[e(316)]<3)throw new RangeError("At least three points are required!");this[e(296)]=t,this[e(301)]()}}const t_=["267574WJKEVs","523551bArVnz","982125WwefnZ","getCoordinate","push","70463xuQykN","slice","2qVkLyR","calculateVector","472960RCMRUk","54895hmbbVw","calculateAngle","sin","_pointArr","_generatePoints","At least two points are required!","getBBox","getType","calculateIntersection","5xngmRl","POLYGON","LUNE","getOrdinate","abs","cos","_drawHalfCircle","365423FKTKlM","toPolygon","_ctrlPoints","setCtrlPoints","length","the parameter of points must be 'Array'","calculateMidpoint","calculateArc"],e_=r_;function r_(t,e){return t_[t-=287]}!function(t,e){const r=r_;for(;;)try{if(498864===-parseInt(r(292))+parseInt(r(297))*parseInt(r(299))-parseInt(r(293))+parseInt(r(318))+-parseInt(r(301))+parseInt(r(294))+parseInt(r(311))*parseInt(r(302)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(t_);class i_ extends t.GeometryExt{constructor(t){const e=r_;if(super(),!(t instanceof Array))throw new TypeError(e(289));if(t[e(288)]<2)throw new RangeError("At least two points are required!");2===t.length||(t=t.slice(0,3)),this[e(320)]=t,this[e(305)]=[],this._generatePoints()}[e_(306)](){const e=e_;if(2===this[e(320)].length&&this._drawHalfCircle(),this[e(320)].length>2){const r={x:this._ctrlPoints[0][e(295)]()[e(314)]("X"),y:this[e(320)][0][e(295)]()[e(314)]("Y")},i={x:this[e(320)][1][e(295)]()[e(314)]("X"),y:this._ctrlPoints[1].getCoordinate()[e(314)]("Y")},n={x:this[e(320)][2][e(295)]()[e(314)]("X"),y:this[e(320)][2][e(295)]()[e(314)]("Y")};let s=[],o=this.calculateMidpoint(r,i),a=this[e(290)](i,n),h={x:i.x-r.x,y:i.y-r.y},l={x:n.x-i.x,y:n.y-i.y};if(Math[e(315)](h.x*l.y-l.x*h.y)<1e-5)return void this[e(317)]();let c,u,p=this.calculateVector(h)[1],f=this[e(300)](l)[1],g=this[e(310)](p,f,o,a),d=this.calculateDistance(g,r),_=this[e(303)](r,g),y=this[e(303)](i,g),m=this[e(303)](n,g),I=Math.PI,x=1,v=_,b=y;_>y?(v=y,b=_,c=i,u=r):(c=r,u=i);let w=b-v;(m<y&&m<_||m>y&&m>_)&&(x=-1,w=v+(2*I-b));let T=I/720/2,E=T*x;s[e(296)](new t.Point(new t.Coordinate(c.x,c.y,0)));for(let r=v,i=0;i<w-T;i+=T){r+=E,r=r<0?r+2*I:r,r=r>2*I?r-2*I:r;let i={x:Math[e(316)](r)*d+g.x,y:Math[e(304)](r)*d+g.y};s[e(296)](new t.Point(new t.Coordinate(i.x,i.y,0)))}s[e(296)](new t.Point(new t.Coordinate(u.x,u.y,0))),s[e(296)](this._ctrlPoints[0]),this[e(305)]=s}}_drawHalfCircle(){const t=e_,e={x:this._ctrlPoints[0][t(295)]().getOrdinate("X"),y:this[t(320)][0][t(295)]()[t(314)]("Y")},r={x:this[t(320)][1].getCoordinate()[t(314)]("X"),y:this[t(320)][1][t(295)]()[t(314)]("Y")};let i=this[t(290)](e,r),n=this.calculateDistance(e,r)/2,s=this[t(303)](e,i),o=this[t(291)](i,n,s,s+Math.PI,-1);o[t(296)](this[t(320)][0]),this[t(305)]=o}[e_(309)](){const e=e_;return t.GeometryExtType[e(312)][e(313)]}getCoordSeqs(){const e=[];if(0!==this._pointArr.length)for(let t of this._pointArr)e.push(t.getCoordinate());return[new t.CoordSeq(e)]}[e_(319)](){return new t.Polygon([new t.LinearRing(this._pointArr)])}[e_(308)](){const t=e_;return this[t(319)]()[t(308)]()}toLine(){const e=e_;return new t.Line(this[e(305)])}[e_(287)](t){const e=e_;if(!(t instanceof Array))throw new TypeError(e(289));if(t[e(288)]<2)throw new RangeError(e(307));2===t[e(288)]||(t=t[e(298)](0,3)),this[e(320)]=t,this[e(306)]()}}const n_=["LARROW","push","length","setCtrlPoints","326947qQGKSN","toMultiLine","getCoordSeqs","_calculateArrowLines","1196875llPCgg","the parameter of points must be 'Array'","_ctrlPoints","POLYLINE_ARROW","getCoordSeq","_generatePoints","4298381QMgyus","1qPEAWw","getOrdinate","512589kCdRpJ","1LhUJDZ","3ULEitp","1350247FTRvci","_lines","1044028SlMTru","at least two points are required!","getCoordinate","1503774YhWvcZ","getBBox"],s_=o_;function o_(t,e){return n_[t-=495]}!function(t,e){const r=o_;for(;;)try{if(823261===parseInt(r(507))+-parseInt(r(520))+-parseInt(r(504))*parseInt(r(516))+-parseInt(r(505))*parseInt(r(503))+-parseInt(r(510))+parseInt(r(502))+parseInt(r(499))*parseInt(r(500)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(n_);class a_ extends t.GeometryExt{constructor(t){const e=o_;if(super(),!(t instanceof Array))throw new TypeError("the parameter of points must be 'Array'");if(t[e(514)]<2)throw new RangeError(e(508));this._ctrlPoints=t,this[e(506)]=[],this._generatePoints()}[s_(498)](){const e=s_;let r=new t.Line(this[e(495)]),i=this[e(495)][this[e(495)][e(514)]-2],n=this[e(495)][this._ctrlPoints[e(514)]-1],s={x:i.getCoordinate()[e(501)]("X"),y:i[e(509)]().getOrdinate("Y")},o={x:n[e(509)]().getOrdinate("X"),y:n[e(509)]().getOrdinate("Y")},a=this[e(519)](s,o,10);this[e(506)].push(r,a)}_calculateArrowLines(e,r,i,n){const s=s_;i||(i=10),n||(n=Math.PI/6);let o=this.calculateDistance(e,r),a=this.calculateVector({x:e.x-r.x,y:e.y-r.y},n,o/i),h={x:a[0].x+r.x,y:a[0].y+r.y},l={x:a[1].x+r.x,y:a[1].y+r.y},c=[];return c[s(513)](new t.Point(new t.Coordinate(h.x,h.y,0))),c.push(new t.Point(new t.Coordinate(r.x,r.y,0))),c[s(513)](new t.Point(new t.Coordinate(l.x,l.y,0))),new t.Line(c)}[s_(518)](){const t=s_;let e=[];for(let r=0;r<this[t(506)][t(514)];r++)e[t(513)](this._lines[r][t(497)]());return e}[s_(517)](){const e=s_;return new t.MultiLine(this[e(506)])}[s_(511)](){return this[s_(517)]().getBBox()}getType(){const e=s_;return t.GeometryExtType[e(512)][e(496)]}getLines(){return this._lines}[s_(515)](t){const e=s_;if(!(t instanceof Array))throw new TypeError(e(521));if(t[e(514)]<2)throw new RangeError("at least two points are required!");this[e(495)]=t,this[e(498)]()}}const h_=["5318WVxSzK","1350797XOuyxi","608681elpLzR","at least two points are required!","push","getType","getOrdinate","_ctrlPoints","5jifbaj","_generatePoints","RECTANGLE","POLYGON","setCtrlPoints","_pointArr","toPolygon","the parameter of points must be 'Array'","829259qXnMPb","getCoordinate","571153gGhRRT","217171ojIuzF","getCoordSeqs","43ZYmeuK","intersectsGeometry","length","1637246tnJQSm"],l_=c_;function c_(t,e){return h_[t-=275]}!function(t,e){const r=c_;for(;;)try{if(921307===parseInt(r(290))+-parseInt(r(296))+-parseInt(r(293))*parseInt(r(297))+-parseInt(r(288))+-parseInt(r(280))*-parseInt(r(291))+parseInt(r(298))+parseInt(r(299)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(h_);class u_ extends t.GeometryExt{constructor(t){const e=c_;if(super(),!(t instanceof Array))throw new TypeError(e(287));if(t.length<2)throw new RangeError(e(275));this[e(279)]=t,this[e(285)]=[],this[e(281)]()}[l_(281)](){const e=l_;let r,i,n,s;for(let o of this._ctrlPoints){if(!(o instanceof t.Point))continue;const a=o[e(289)]()[e(278)]("X"),h=o[e(289)]()[e(278)]("Y");(!r||r>a)&&(r=a),(!i||i>h)&&(i=h),(!n||n<a)&&(n=a),(!s||s<h)&&(s=h)}r&&i&&n&&s&&(this[e(285)].push(new t.Point(new t.Coordinate(r,i,0))),this[e(285)].push(new t.Point(new t.Coordinate(n,i,0))),this[e(285)][e(276)](new t.Point(new t.Coordinate(n,s,0))),this[e(285)][e(276)](new t.Point(new t.Coordinate(r,s,0))),this._pointArr[e(276)](new t.Point(new t.Coordinate(r,i,0))))}getType(){const e=l_;return t.GeometryExtType[e(283)][e(282)]}[l_(292)](){const e=l_,r=[];if(0!=this[e(285)][e(295)])for(let t of this[e(285)])r[e(276)](t.getCoordinate());return[new t.CoordSeq(r)]}[l_(286)](){const e=l_;return new t.Polygon([new t.LinearRing(this[e(285)])])}getBBox(){return this[l_(286)]().getBBox()}toLine(){const e=l_;return new t.Line(this[e(285)])}[l_(284)](t){const e=l_;if(!(t instanceof Array))throw new TypeError(e(287));if(t[e(295)]<2)throw new RangeError(e(275));this._ctrlPoints=t,this[e(281)]()}intersectsGeometry(t){const e=l_;if(!t[e(277)])throw new TypeError("parameter is illegal!");return this.toPolygon()[e(294)](t)}}const p_=["toPolygon","at least two points are required!","getCoordSeqs","getOrdinate","612603mNSuDd","684934rAbLUd","the parameter of points must be 'Array'","863lzjkSh","_ctrlPoints","length","472DlUtCi","36610ybjhAY","push","_pointArr","208018yHPOSu","635926lnzkzo","slice","RECT_FLAG","1JNXllu","_generatePoints","35BXgoUY","getCoordinate","getType","getBBox","15415Xdkeuw","FLAG"];function f_(t,e){return p_[t-=149]}const g_=f_;!function(t,e){const r=f_;for(;;)try{if(404660===parseInt(r(161))+-parseInt(r(164))+-parseInt(r(174))*parseInt(r(170))+parseInt(r(165))+-parseInt(r(154))+-parseInt(r(168))*-parseInt(r(155))+parseInt(r(160))*parseInt(r(157)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(p_);class d_ extends t.GeometryExt{constructor(t){const e=f_;if(super(),!(t instanceof Array))throw new TypeError(e(156));if(t[e(159)]<2)throw new RangeError(e(151));t=t.slice(0,2),this[e(158)]=t,this[e(163)]=[],this[e(169)]()}_generatePoints(){const e=f_,r=this[e(158)][0],i=this._ctrlPoints[1],n=r[e(171)](),s=i[e(171)](),o=[];o[e(162)](r),o[e(162)](new t.Point(new t.Coordinate(s[e(153)]("X"),n.getOrdinate("Y"),0))),o[e(162)](new t.Point(new t.Coordinate(s[e(153)]("X"),.5*(n[e(153)]("Y")+s.getOrdinate("Y")),0))),o[e(162)](new t.Point(new t.Coordinate(n[e(153)]("X"),.5*(n[e(153)]("Y")+s[e(153)]("Y")),0))),o[e(162)](new t.Point(new t.Coordinate(n[e(153)]("X"),s[e(153)]("Y"),0))),o.push(r),this[e(163)]=o}[g_(152)](){const e=g_,r=[];if(0!=this._pointArr[e(159)])for(let t of this[e(163)])r[e(162)](t[e(171)]());return[new t.CoordSeq(r)]}[g_(150)](){const e=g_;return new t.Polygon([new t.LinearRing(this[e(163)])])}[g_(173)](){return this.toPolygon().getBBox()}[g_(172)](){const e=g_;return t.GeometryExtType[e(149)][e(167)]}setCtrlPoints(t){const e=g_;if(!(t instanceof Array))throw new TypeError(e(156));if(t[e(159)]<2)throw new RangeError(e(151));t=t[e(166)](0,2),this._ctrlPoints=t,this._generatePoints()}}const __=["1371772zoWOop","202xKUVdP","toPolygon","251788PfNUdi","getOrdinate","7522PirtMy","getCoordinate","715628tknClZ","length","3CcEKnq","ROUNDED_RECT","the parameter of points must be 'Array'","1ccBaLK","704163tXTtrP","at least two points are required!","calculateArc","getCoordSeqs","getType","getBBox","slice","266246BCiEha","concat","POLYGON","_generatePoints","_ctrlPoints","setCtrlPoints","toLine","_pointArr","1456229bgLZJj","push"],y_=m_;function m_(t,e){return __[t-=316]}!function(t,e){const r=m_;for(;;)try{if(947972===parseInt(r(335))*-parseInt(r(331))+parseInt(r(342))*-parseInt(r(320))-parseInt(r(330))+parseInt(r(343))+-parseInt(r(337))+-parseInt(r(333))+-parseInt(r(339))*-parseInt(r(328)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(__);class I_ extends t.GeometryExt{constructor(t){const e=m_;if(super(),!(t instanceof Array))throw new TypeError(e(341));if(t[e(338)]<2)throw new RangeError(e(344));t=t.slice(0,2),this[e(324)]=t,this[e(327)]=[],this[e(323)]()}_generatePoints(){const e=m_;let r,i,n,s;for(let o of this[e(324)]){if(!(o instanceof t.Point))continue;const a=o[e(336)]()[e(334)]("X"),h=o[e(336)]()[e(334)]("Y");(!r||r>a)&&(r=a),(!i||i>h)&&(i=h),(!n||n<a)&&(n=a),(!s||s<h)&&(s=h)}if(r&&i&&n&&s){let o=n-r<s-i?.1*(n-r):.1*(s-i),a={x:r+o,y:i+o},h={x:r+o,y:s-o},l={x:n-o,y:s-o},c={x:n-o,y:i+o},u=this.calculateArc(a,o,3*Math.PI/2,Math.PI,-1,180),p=this[e(345)](h,o,Math.PI,Math.PI/2,-1,180),f=this[e(345)](l,o,Math.PI/2,0,-1,180),g=this[e(345)](c,o,2*Math.PI,3*Math.PI/2,-1,180);this[e(327)]=u[e(321)](p,f,g),this[e(327)][e(329)](new t.Point(new t.Coordinate(r+o,i,0)))}}[y_(317)](){const e=y_;return t.GeometryExtType[e(322)][e(340)]}[y_(316)](){const e=y_,r=[];if(0!==this[e(327)][e(338)])for(let t of this[e(327)])r[e(329)](t[e(336)]());return[new t.CoordSeq(r)]}[y_(332)](){const e=y_;return new t.Polygon([new t.LinearRing(this[e(327)])])}[y_(318)](){const t=y_;return this[t(332)]()[t(318)]()}[y_(326)](){return new t.Line(this._pointArr)}[y_(325)](t){const e=y_;if(!(t instanceof Array))throw new TypeError("the parameter of points must be 'Array'");if(t[e(338)]<2)throw new RangeError("at least two points are required!");t=t[e(319)](0,2),this[e(324)]=t,this[e(323)]()}}const x_=["sin","calculateDistance","126107xQGecl","3063PhUkzY","setFromOptions","_pointArr","getOrdinate","669895dzLlfu","2rOEPDZ","direction","_generatePoints","slice","length","SECTOR","toPolygon","push","1nmRFBu","42NhlwGH","cos","13ODYaBm","the parameter of points must be 'Array'","getType","1552222RyYmet","129839goTGJP","calculateArc","240967oSNvIb","endAngle","at least three points are required!","getCoordinate","setCtrlPoints","getBBox","radius","_ctrlPoints","1176381KuAcKG"],v_=b_;function b_(t,e){return x_[t-=122]}!function(t,e){const r=b_;for(;;)try{if(817104===-parseInt(r(134))+-parseInt(r(135))*-parseInt(r(152))-parseInt(r(150))+-parseInt(r(144))*parseInt(r(130))+parseInt(r(126))+-parseInt(r(143))*parseInt(r(149))+-parseInt(r(146))*-parseInt(r(129)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(x_);class w_ extends t.GeometryExt{constructor(t){const e=b_;if(super(),!(t instanceof Array))throw new TypeError("the parameter of points must be 'Array'");if(t[e(139)]<3)throw new RangeError("at least three points are required!");t=t.slice(0,3),this[e(125)]=t,this._pointArr=[],this[e(136)]=1,this[e(137)]()}[v_(137)](){const t=v_,e=this._ctrlPoints[0],r={x:e[t(155)]()[t(133)]("X"),y:e[t(155)]()[t(133)]("Y")},i=this[t(125)][1],n={x:i.getCoordinate()[t(133)]("X"),y:i.getCoordinate()[t(133)]("Y")},s=this._ctrlPoints[2],o={x:s[t(155)]().getOrdinate("X"),y:s[t(155)]()[t(133)]("Y")};let a=this[t(128)](r,n),h=this.calculateAngle(n,r),l=this.calculateAngle(o,r);if(h===l){let r=[e,i,i,e];return void(this[t(132)]=r)}1===this[t(136)]&&l<h&&(l=2*Math.PI+l),-1===this[t(136)]&&l>h&&(l=-(2*Math.PI-l));let c=[];c.push(e);let u=this[t(151)](r,a,h,l,this.direction);c=c.concat(u),c.push(e),this[t(132)]=c}getCoordSeqs(){const e=v_,r=[];if(0!==this[e(132)].length)for(let t of this[e(132)])r[e(142)](t[e(155)]());return[new t.CoordSeq(r)]}[v_(141)](){const e=v_;return new t.Polygon([new t.LinearRing(this[e(132)])])}[v_(123)](){const t=v_;return this.toPolygon()[t(123)]()}[v_(148)](){const e=v_;return t.GeometryExtType.POLYGON[e(140)]}[v_(122)](t){const e=v_;if(!(t instanceof Array))throw new TypeError(e(147));if(t.length<3)throw new RangeError(e(154));t=t[e(138)](0,3),this[e(125)]=t,this[e(137)]()}static[v_(131)](e={}){const r=v_;let i=e.center,n=e[r(124)],s=e.startAngle,o=e[r(153)],a=new t.Point(i),h=new t.Point(new t.Coordinate(i._x+Math.cos(s*Math.PI/180)*n,i._y+Math[r(127)](s*Math.PI/180)*n,i._z)),l=new t.Point(new t.Coordinate(i._x+Math[r(145)](o*Math.PI/180)*n,i._y+Math[r(127)](o*Math.PI/180)*n,i._z));return new w_([a,h,l])}}const T_=["679732joViFP","_ctrlPoints","getBBox","the parameter of points must be 'Array'","getCoordinate","toMultiLine","setCtrlPoints","554vkpfzL","_calculateArrowLines","2084wEfUXo","92DYtVuw","getLines","LARROW","257657BEIVwn","823ntQLXK","getType","898772JEgLaC","_lines","getOrdinate","push","SECTOR_SEARCH","_generatePoints","3275TfOBhV","745SfnUzo","at least two points are required!","calculateVector","2855455YSrlqz","calculateDistance","length","slice"],E_=C_;function C_(t,e){return T_[t-=129]}!function(t,e){const r=C_;for(;;)try{if(747867===parseInt(r(145))+-parseInt(r(142))+-parseInt(r(129))+parseInt(r(152))*-parseInt(r(143))+parseInt(r(139))*-parseInt(r(151))+parseInt(r(136))*-parseInt(r(138))+parseInt(r(155)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(T_);class A_ extends t.GeometryExt{constructor(t){const e=C_;if(super(),!(t instanceof Array))throw new TypeError(e(132));if(t[e(157)]<2)throw new RangeError(e(153));t=t[e(158)](0,2),this[e(130)]=t,this[e(146)]=[],this._generatePoints()}[E_(150)](){const e=E_;let r=[],i={x:this._ctrlPoints[0].getCoordinate()[e(147)]("X"),y:this[e(130)][0][e(133)]()[e(147)]("Y")},n=2*i.x,s=2*i.y,o={x:this[e(130)][this._ctrlPoints.length-1][e(133)]()[e(147)]("X"),y:this[e(130)][this[e(130)].length-1].getCoordinate()[e(147)]("Y")},a=this[e(156)](i,o),h={x:i.x-o.x,y:i.y-o.y},l=this[e(154)](h,4*Math.PI/3,a),c=l[0],u={x:c.x+i.x,y:c.y+i.y},p={x:-u.x+n,y:-u.y+s},f=l[1],g={x:f.x+i.x,y:f.y+i.y},d={x:-g.x+n,y:-g.y+s},_={x:-o.x+n,y:-o.y+s};const y=[];y.push(new t.Point(new t.Coordinate(i.x,i.y,0))),y[e(148)](new t.Point(new t.Coordinate(o.x,o.y,0))),y.push(new t.Point(new t.Coordinate(u.x,u.y,0))),y.push(new t.Point(new t.Coordinate(p.x,p.y,0))),y.push(new t.Point(new t.Coordinate(g.x,g.y,0))),y[e(148)](new t.Point(new t.Coordinate(d.x,d.y,0))),y[e(148)](new t.Point(new t.Coordinate(_.x,_.y,0))),y[e(148)](new t.Point(new t.Coordinate(i.x,i.y,0))),r[e(148)](new t.Line(y));let m=this[e(137)](i,o),I=this[e(137)](o,u),x=this[e(137)](u,p),v=this[e(137)](p,g),b=this[e(137)](g,d),w=this[e(137)](d,_),T=this._calculateArrowLines(_,i);r.push(m),r.push(I),r[e(148)](x),r[e(148)](v),r[e(148)](b),r[e(148)](w),r[e(148)](T),this[e(146)]=r}_calculateArrowLines(e,r,i,n){const s=E_;i||(i=10),n||(n=Math.PI/6);let o=this[s(156)](e,r),a=this[s(154)]({x:e.x-r.x,y:e.y-r.y},n,o/i),h={x:a[0].x+r.x,y:a[0].y+r.y},l={x:a[1].x+r.x,y:a[1].y+r.y},c=[];return c[s(148)](new t.Point(new t.Coordinate(h.x,h.y,0))),c[s(148)](new t.Point(new t.Coordinate(r.x,r.y,0))),c[s(148)](new t.Point(new t.Coordinate(l.x,l.y,0))),new t.Line(c)}getCoordSeqs(){const t=E_;let e=[];for(let r=0;r<this._lines[t(157)];r++)e[t(148)](this._lines[r].getCoordSeq());return e}toMultiLine(){const e=E_;return new t.MultiLine(this[e(146)])}[E_(131)](){return this[E_(134)]().getBBox()}[E_(144)](){const e=E_;return t.GeometryExtType[e(141)][e(149)]}[E_(140)](){return this[E_(146)]}[E_(135)](t){const e=E_;if(!(t instanceof Array))throw new TypeError(e(132));if(t[e(157)]<2)throw new RangeError("at least two points are required!");t=t[e(158)](0,2),this[e(130)]=t,this._generatePoints()}}const M_=["getBBox","1179551akYZEb","1058462EPeDjj","_tailRatio","1046906vklFtu","push","2819uErMlx","calculateVector","_calculateTwoPoints","1NnMYNc","the parameter of points must be 'Array'","concat","_ratio","at least two points are required!","STRAIGHT_ARROW","109467eBCAfx","length","1KFtOJv","calculateIntersection","getOrdinate","_ctrlPoints","getCoordSeqs","158471gtwWaD","_calculateMorePoints","reverse","sqrt","7sBZdTC","getBezierPoints","_pointArr","getCoordinate","toPolygon","getType","630611RqNZhZ","_generatePoints","227SSCkrv"],S_=P_;function P_(t,e){return M_[t-=191]}!function(t,e){const r=P_;for(;;)try{if(580033===parseInt(r(208))*parseInt(r(219))+-parseInt(r(199))*parseInt(r(192))+parseInt(r(202))*parseInt(r(195))+parseInt(r(197))+-parseInt(r(225))+parseInt(r(215))+-parseInt(r(210))*parseInt(r(194)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(M_);class R_ extends t.GeometryExt{constructor(t){const e=P_;if(super(),!(t instanceof Array))throw new TypeError(e(203));if(t[e(209)]<2)throw new RangeError(e(206));this[e(213)]=t,this[e(221)]=[],this[e(205)]=6,this[e(196)]=5,this[e(191)]()}[S_(191)](){const t=S_;2===this[t(213)][t(209)]?this[t(201)]():this._calculateMorePoints()}[S_(201)](){const e=S_;let r=this[e(213)],i=r[0][e(222)]()[e(212)]("X"),n=r[0].getCoordinate().getOrdinate("Y"),s={x:r[1][e(222)]()[e(212)]("X"),y:r[1].getCoordinate()[e(212)]("Y")},o=Math[e(218)]((s.y-n)*(s.y-n)+(s.x-i)*(s.x-i))/this._ratio,a=i+(s.x-i)*(this[e(205)]-1)/this[e(205)],h=n+(s.y-n)*(this[e(205)]-1)/this[e(205)],l=this[e(200)]({x:s.x-i,y:s.y-n},Math.PI/2,o/2),c=l[0],u=l[1],p=new t.Point(new t.Coordinate(i+c.x,n+c.y,0)),f=new t.Point(new t.Coordinate(a+p.getCoordinate()[e(212)]("X")-i,h+p.getCoordinate().getOrdinate("Y")-n,0)),g=new t.Point(new t.Coordinate(2*f[e(222)]()[e(212)]("X")-a,2*f[e(222)]().getOrdinate("Y")-h,0)),d=new t.Point(new t.Coordinate(s.x,s.y,0)),_=new t.Point(new t.Coordinate(i+u.x,n+u.y,0)),y=new t.Point(new t.Coordinate(a+_[e(222)]()[e(212)]("X")-i,h+_[e(222)]()[e(212)]("Y")-n,0)),m=new t.Point(new t.Coordinate(2*y[e(222)]()[e(212)]("X")-a,2*y.getCoordinate()[e(212)]("Y")-h,0));this[e(221)][e(198)](p,f,g,d,m,y,_,p)}[S_(216)](){const e=S_;let r=this[e(213)],i=0,n=0;for(let t=0;t<r[e(209)]-1;t++){let n={x:r[t].getCoordinate()[e(212)]("X"),y:r[t][e(222)]()[e(212)]("Y")},s={x:r[t+1][e(222)]()[e(212)]("X"),y:r[t+1].getCoordinate()[e(212)]("Y")};i+=Math[e(218)]((s.y-n.y)*(s.y-n.y)+(s.x-n.x)*(s.x-n.x)),0===t&&(s.x,n.x,this[e(196)],n.x,s.y,n.y,this[e(196)],n.y)}n=i/this._ratio;let s=[],o=[],a={x:0,y:0},h={x:0,y:0};for(let t=0;t<r[e(209)]-2;t++){let i,l,c={x:r[t][e(222)]()[e(212)]("X"),y:r[t][e(222)]()[e(212)]("Y")},u={x:r[t+1][e(222)]().getOrdinate("X"),y:r[t+1].getCoordinate()[e(212)]("Y")},p={x:r[t+2][e(222)]()[e(212)]("X"),y:r[t+2][e(222)]()[e(212)]("Y")},f={x:u.x-c.x,y:u.y-c.y},g={x:p.x-u.x,y:p.y-u.y},d=this.calculateVector(f,Math.PI/2,n/2),_=d[0],y=d[1],m=this.calculateVector(g,Math.PI/2,n/2),I=m[0],x=m[1],v={x:c.x+_.x,y:c.y+_.y},b={x:c.x+y.x,y:c.y+y.y},w={x:u.x+I.x,y:u.y+I.y},T={x:u.x+x.x,y:u.y+x.y},E=this[e(211)](f,g,v,w),C=this[e(211)](f,g,b,T);if(0===t)a=v,h=b,i={x:(a.x+E.x)/2,y:(a.y+E.y)/2},l={x:(h.x+C.x)/2,y:(h.y+C.y)/2},s[e(198)](i),o[e(198)](l);else{let t=s[s.length-1],r=o[o[e(209)]-1];i={x:(t.x+E.x)/2,y:(t.y+E.y)/2},l={x:(r.x+C.x)/2,y:(r.y+C.y)/2},s[e(198)](i),o[e(198)](l)}s[e(198)](E),o[e(198)](C)}let l,c,u,p,f,g,d,_,y=r[r.length-2][e(222)]()[e(212)]("X"),m=r[r.length-2].getCoordinate()[e(212)]("Y"),I={x:r[r[e(209)]-1].getCoordinate()[e(212)]("X"),y:r[r.length-1].getCoordinate()[e(212)]("Y")},x={x:I.x-y,y:I.y-m},v=Math[e(218)](x.x*x.x+x.y*x.y),b=[],w=s[s[e(209)]-1],T=o[o[e(209)]-1];if(v<=n)b=this[e(200)](x,Math.PI/2,n/2),u=b[0],p=b[1],l={x:y+u.x,y:m+u.y},c={x:y+p.x,y:m+p.y},f={x:(w.x+l.x)/2,y:(w.y+l.y)/2},g={x:(T.x+c.x)/2,y:(T.y+c.y)/2},s.push(f),o[e(198)](g),d={x:2*l.x-y,y:2*l.y-m},_={x:2*c.x-y,y:2*c.y-m};else{let t={x:I.x-y,y:I.y-m},r=Math.sqrt(t.x*t.x+t.y*t.y),i={x:I.x-t.x*n/r,y:I.y-t.y*n/r};b=this[e(200)](x,Math.PI/2,n/2),u=b[0],p=b[1],l={x:i.x+u.x,y:i.y+u.y},c={x:i.x+p.x,y:i.y+p.y},f={x:(w.x+l.x)/2,y:(w.y+l.y)/2},g={x:(T.x+c.x)/2,y:(T.y+c.y)/2},s[e(198)](f),o.push(g),d={x:2*l.x-i.x,y:2*l.y-i.y},_={x:2*c.x-i.x,y:2*c.y-i.y}}const E=[],C=[];for(let r=0;r<s[e(209)];r++)E[e(198)](new t.Point(new t.Coordinate(s[r].x,s[r].y,0)));for(let r=0;r<o[e(209)];r++)C[e(198)](new t.Point(new t.Coordinate(o[r].x,o[r].y,0)));let A=this.getBezierPoints(E),M=this[e(220)](C),S=[new t.Point(new t.Coordinate(a.x,a.y,0))];S=S[e(204)](A),S[e(198)](new t.Point(new t.Coordinate(l.x,l.y,0))),S.push(new t.Point(new t.Coordinate(d.x,d.y,0))),S[e(198)](new t.Point(new t.Coordinate(I.x,I.y,0))),S.push(new t.Point(new t.Coordinate(_.x,_.y,0))),S[e(198)](new t.Point(new t.Coordinate(c.x,c.y,0))),S=S[e(204)](M[e(217)]()),S.push(new t.Point(new t.Coordinate(h.x,h.y,0))),S.push(new t.Point(new t.Coordinate(a.x,a.y,0))),this[e(221)]=S}[S_(214)](){const e=S_,r=[];if(0!==this._pointArr[e(209)])for(let t of this[e(221)])r[e(198)](t[e(222)]());return[new t.CoordSeq(r)]}[S_(223)](){const e=S_;return new t.Polygon([new t.LinearRing(this[e(221)])])}[S_(193)](){const t=S_;return this[t(223)]()[t(193)]()}[S_(224)](){const e=S_;return t.GeometryExtType.ARROW[e(207)]}setCtrlPoints(t){const e=S_;if(!(t instanceof Array))throw new TypeError(e(203));if(t[e(209)]<2)throw new RangeError(e(206));this[e(213)]=t,this[e(191)]()}}const L_=["2qszOwD","5GhkwWG","setCtrlPoints","the parameter of points must be 'Array'","286129jQxDkq","getCoordinate","_generatePoints","slice","getOrdinate","_pointArr","2421axiVAY","161JATcmk","_ctrlPoints","198210ypFZti","35225uxvOad","at least two points are required!","1FXHwTw","getType","length","2GnEOyS","208048hnHEeF","getBBox","push","8626rxphDP","140638RvsvDG"],F_=D_;function D_(t,e){return L_[t-=266]}!function(t,e){const r=D_;for(;;)try{if(205001===parseInt(r(271))*parseInt(r(276))+parseInt(r(288))*-parseInt(r(287))+-parseInt(r(277))*-parseInt(r(275))+-parseInt(r(266))*-parseInt(r(278))+parseInt(r(290))+-parseInt(r(272))*-parseInt(r(268))+-parseInt(r(281)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(L_);class O_ extends t.GeometryExt{constructor(t){const e=D_;if(super(),!(t instanceof Array))throw new TypeError(e(280));if(t[e(270)]<2)throw new RangeError("at least two points are required!");t=t[e(284)](0,2),this._ctrlPoints=t,this[e(286)]=[],this[e(283)]()}[F_(283)](){const e=F_,r=this[e(289)][0],i=this[e(289)][1],n=r[e(282)](),s=i[e(282)](),o=[];o[e(274)](r),o[e(274)](new t.Point(new t.Coordinate(s[e(285)]("X"),.5*(n[e(285)]("Y")+s.getOrdinate("Y")),0))),o[e(274)](new t.Point(new t.Coordinate(n[e(285)]("X"),.5*(n[e(285)]("Y")+s.getOrdinate("Y")),0))),o.push(new t.Point(new t.Coordinate(n[e(285)]("X"),s[e(285)]("Y"),0))),o[e(274)](r),this[e(286)]=o}getCoordSeqs(){const e=F_,r=[];if(0!==this[e(286)][e(270)])for(let t of this._pointArr)r[e(274)](t[e(282)]());return[new t.CoordSeq(r)]}toPolygon(){const e=F_;return new t.Polygon([new t.LinearRing(this[e(286)])])}[F_(273)](){const t=F_;return this.toPolygon()[t(273)]()}[F_(269)](){return t.GeometryExtType.FLAG.TRIANGLE_FLAG}[F_(279)](t){const e=F_;if(!(t instanceof Array))throw new TypeError(e(280));if(t[e(270)]<2)throw new RangeError(e(267));t=t[e(284)](0,2),this[e(289)]=t,this[e(283)]()}}var N_=["76603xkVoqL","534842EesEIU","558299zcWDmf","402630WSJwDQ","12657JSxqHa","267707yTlbuW","50qkQTnc","316750cqUGvL"];function B_(t,e){return N_[t-=471]}!function(t,e){for(var r=B_;;)try{if(332409===-parseInt(r(472))+parseInt(r(474))+-parseInt(r(478))+-parseInt(r(477))+parseInt(r(476))+parseInt(r(471))*parseInt(r(473))+parseInt(r(475)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(N_);var U_=Object.freeze({__proto__:null,GeometryExt:t.GeometryExt,Arc:Xg,BezierCurve2:t.BezierCurve2,BezierCurve3:Jg,BezierCurveArrow:ed,BezierCurveN:sd,Circle:yd,CurveFlag:Ed,CardinalCurve:ld,CardinalCurveArrow:fd,CloseCurve:vd,DiagonalArrow:Sd,DoubleArrow:Fd,DoveTailStraightArrow:Gd,DoveTailDiagonalArrow:Bd,Ellipse:Yd,GatheringPlace:Zd,Lune:i_,ParallelSearch:Qd,PolylineArrow:a_,Rectangle:u_,RectFlag:d_,RoundedRect:I_,Sector:w_,StraightArrow:R_,TriangleFlag:O_,SectorSearch:A_});const k_=["DOVETAIL_DIAGONAL_ARROW","Line","_isEditing","addEventListener","FREELINE","FreePolygon","DoveTailStraightArrow","_handleBezierCurveArrow","dbclickEndType","bind","_handleCardinalCurve","_dbClickHandler","_handleCloseCardinal","_getMovementCoords","DiagonalArrow","CircleExt","POLYLINE","selectedMidPoint","500635LkMhHg","EDITPOINT","TriangleFlag","144674xLVhFG","BezierCurve3","BEZIER_CURVE3","387503GCXYUZ","button","__proto__","changepoint","_handleDoveTailDiagonalArrow","name","CARDINAL_CURVE_ARROW","RoundedRect","_checkPointsDistinct","_handleArc","removeFeatures","_handleCardinalCurveArrow","length","_callbacks","getCoordinateFromPixel","_handleSectorSearch","SectorSearch","editfinished","updateFeatures","getBoundingClientRect","getId","_handleDiagonalArrow","ARC","_isMouseMove","movementX","RectangleExt","_updateMovingPoint","getOrdinate","point","_addFeatureEdit","BezierCurveN","BEZIER_CURVE2","_movingPoint","dblclick","_fire","getGeometry","10zgYgTd","_ctrlFeatures","FreeLine","getX","_handlePoint","detectFeaturesAtPixel","_getFeaturePoints","_mouseDbClickFunc","_removeMidPoints","_init","_mouseMoveHandler","Pan","pointIndex","ParallelSearch","splice","_removeCtrlPoints","MultiPoint","midPointStyle","selectedCtrlPoint","_isPlotting","_clearFeatureEdit","push","removeEdit","EDITMOVEEND","_handleBezierCurve2","_handleStraightArrow","pop","setGeometry","Circle","getLayer","5160jyunch","CardinalCurveArrow","editPointStyle","_handleFreePolygon","left","_handleLune","DOUBLE_ARROW","FREE_POLYGON","equals","container","clientX","_plotLayer","isChange","Lune","top","points","_mouseNotUp","MIDPOINT","CURVE_FLAG","_updateCtrlPoints","_measureUse","_mouseDownHandler","getCoordSeqs","_handleDoveTailStraightArrow","DIAGONAL_ARROW","_handleGatheringPlace","CTRLPOINT","newpoint","addFeatures","_mouseUpFunc","BEZIER_CURVE_ARROW","_handleCurveFlag","getStyle","lonlat","373385moAbVr","getType","pan","_handlePolylineArrow","_handleSector","PLOTFINISHED","FLAG","CloseCurve","Plot","editpoint","_handleCircle","NEWPOINT","_handlePolyline","Polygon","freehandType","POLYGON","SECTOR","_exclusive","RECTANGLE","_handleRectFlag","9JuYSwL","extractCoords","_style","type","ROUNDED_RECT","PolylineArrow","_breakPlot","_calculateMovedPoints","mousedown","4341359zPrlox","DoubleArrow","CHANGEPOINT","midPointsObj","FEATURE","_finishPlot","_plottingFeature","_handleRectangle","getCoordSeq","DoveTailDiagonalArrow","_midPointStyle","_addCtrlPoints","POLYLINE_ARROW","enable3dPlot","redraw","ELLIPSE","plotEventType","cursor","Rectangle","BezierCurve2","_handlePolygon","style","_movedAfterClick","removeEventListener","getControlType","movementY","_mouseUpHandler","BEZIER_CURVEN","hasOwnProperty","plotEditType","setFeatureEdit","_midPointFeatures","_generateFeature","clientY","455216zNNnTH","mouseup","CardinalCurve","BezierCurveArrow","_status","getStatus","_handleBezierCurveN","DOVETAIL_STRAIGHT_ARROW","_editPointStyle","StraightArrow","EDITFINISHED","pointer","_handleEllipse","parameter must be instanceof Vector!","_map","activate","_handleBezierCurve3","default","_isBuildByCtrlPoint","_mouseClickHandler","_mouseDownFunc","_mouseClickFunc","deactivate","_handleDoubleArrow","setPlotType","mapPixel","GatheringPlace","_mouseMoveFunc","_handleFreeLine","_addMidPoints","Ellipse","getControlByType","ARROW","getCoordinate","_handleTriangleFlag","POINT","LARROW","getDefault","calculateLonLat","getCoordinates","featureOnly","CurveFlag","move","setNextFeatureStyle","_enable3dPlot","layer","getAttributes","_plottingPoints","RectFlag","Sector","CIRCLE","sketchPointType","get3DCoordinateFromPixel","ctrlPoint","_type","Arc","TRIANGLE_FLAG","setStyle","function","CARDINAL_CURVE","getCtrlPoints","setMap","2Qwqcfx","editType","_handleRounedRect","mousemove"],V_=G_;function G_(t,e){return k_[t-=257]}!function(t,e){const r=G_;for(;;)try{if(836817===-parseInt(r(472))-parseInt(r(409))-parseInt(r(303))+parseInt(r(306))*-parseInt(r(345))+parseInt(r(375))*parseInt(r(429))+parseInt(r(281))*-parseInt(r(309))+parseInt(r(438)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(k_);class z_ extends a{constructor(e){const r=G_;super(),this[r(486)]=null,this[r(364)]=!1,this._type=void 0,this[r(341)]=void 0,this[r(266)]=[],this[r(444)]=void 0,this._plotLayer=e[r(264)],this._isEditing=!1,this[r(346)]=[],this._midPointFeatures=[],this[r(363)]=null,this[r(302)]=null,this[r(391)]=!1,this[r(332)]=!1,this._movedAfterClick=!1,this[r(431)]=this[r(386)]&&this[r(386)][r(407)]()?this._plotLayer[r(407)]():t.Style[r(509)](),this[r(480)]=e[r(377)]?e[r(377)]:void 0,this._midPointStyle=e[r(362)]?e[r(362)]:void 0,this[r(263)]=!!e[r(466)](r(451))&&e[r(451)],this._callbacks={},this._status=!1,this[r(426)]=!1,this._init(),this[r(395)]=!1}[V_(354)](){const e=V_;if(!(this[e(386)]instanceof Hg))throw TypeError("parameter layer must be instanceof VectorLayer!");!(this[e(480)]instanceof t.Style)&&(this[e(480)]=new t.Style({markerSymbols:[new t.Circle({radius:8,fillColor:new t.Color(200,100,100,.1),outlineColor:new t.Color(100,200,100,.5),outlineWidth:3})]})),!(this[e(448)]instanceof t.Style)&&(this._midPointStyle=new t.Style({markerSymbols:[new t.Circle({radius:5,fillColor:new t.Color(200,100,100,.1),outlineColor:new t.Color(100,200,100,.3),outlineWidth:1})]})),this.plotEventType={NEWPOINT:e(402),CHANGEPOINT:e(312),PLOTFINISHED:"plotfinished",EDITPOINT:e(418),EDITMOVEEND:"editmoveend",EDITFINISHED:e(326)},this[e(423)]={FreeLine:e(347),FreePolygon:"FreePolygon"},this[e(293)]={Line:e(286),Polygon:e(422),FreeLine:e(347),FreePolygon:e(290),MultiPoint:"MultiPoint",BezierCurveN:e(339),CardinalCurve:e(474),CloseCurve:e(416),StraightArrow:e(481),DiagonalArrow:e(299),DoveTailStraightArrow:"DoveTailStraightArrow",DoveTailDiagonalArrow:e(447),PolylineArrow:e(434),ParallelSearch:e(358),BezierCurveArrow:e(475),CardinalCurveArrow:e(376)},this[e(282)]={FEATURE:e(259),POINT:"pointOnly"},this[e(270)]={CTRLPOINT:e(272),MIDPOINT:"midPoint"}}setMap(t){super[V_(280)](t),this.activate()}[V_(487)](){const t=V_;super[t(487)](),this[t(486)]&&!this._status&&(this._mouseClickFunc=this[t(491)].bind(this),this[t(352)]=this._dbClickHandler[t(294)](this),this[t(492)]=this._mouseDownHandler[t(294)](this),this._mouseMoveFunc=this[t(355)][t(294)](this),this[t(404)]=this[t(464)].bind(this),this[t(486)][t(384)][t(288)]("click",this[t(493)]),this[t(486)][t(384)][t(288)](t(342),this[t(352)]),this[t(486)][t(384)].addEventListener(t(437),this[t(492)]),this[t(486)].container[t(288)](t(284),this._mouseMoveFunc),this[t(486)][t(384)].addEventListener("mouseup",this[t(404)]),this[t(476)]=!0)}[V_(494)](){const t=V_;this[t(496)](void 0),this._status&&(this[t(486)][t(384)][t(461)]("click",this[t(493)]),this[t(486)][t(384)][t(461)](t(342),this[t(352)]),this[t(486)].container.removeEventListener("mousedown",this[t(492)]),this[t(486)].container[t(461)](t(284),this[t(499)]),this._map[t(384)][t(461)](t(473),this[t(404)]),this[t(476)]=!1)}on(t,e){this[V_(322)][t]=e}un(t){this[V_(322)][t]=void 0}[V_(343)](t,e){const r=V_;this._callbacks[t]&&this[r(322)][t](e)}enableEdit(t){const e=V_;this._isPlotting&&this[e(435)](),this[e(287)]=!0,this[e(467)]=t}[V_(367)](){const t=V_;this[t(287)]&&(this[t(365)](),this[t(386)][t(452)](),this[t(287)]=!1),this[t(273)]&&(this._type=void 0)}[V_(374)](){return this[V_(386)]}[V_(262)](e){const r=V_;if(!(e instanceof t.Style))throw TypeError("param must be instanceof Style!");this[r(431)]=e}[V_(496)](t){const e=V_;(this[e(364)]||this[e(287)])&&(this._isPlotting?this[e(435)]():(this._clearFeatureEdit(),this[e(287)]=void 0),this[e(386)][e(452)]()),this[e(273)]=t,this[e(364)]=!0,this[e(273)]&&!this[e(476)]&&this[e(487)]()}[V_(443)](){const t=V_,e={feature:this._plottingFeature,points:this[t(266)],type:this[t(273)]};this._plottingFeature&&(this[t(444)][t(276)](this._style),this[t(386)][t(327)]([this[t(444)]]),this._plottingFeature=void 0),this[t(266)]=[],this._fire(this[t(454)][t(414)],e)}[V_(435)](){const t=V_;this[t(444)]&&(this[t(386)][t(319)]([this[t(444)]]),this._plottingFeature=void 0),this[t(341)]&&(this[t(386)][t(319)]([this[t(341)]]),this[t(341)]=void 0),this[t(266)]=[],this._type=void 0,this[t(364)]=!1}[V_(351)](e){const r=V_;let i;const n=[],s=[];let o;if(typeof e.getGeometry()[r(397)]===r(277)?i=e[r(344)]()[r(397)]()[0]:typeof e.getGeometry().getCoordSeq===r(277)&&(i=e[r(344)]()[r(446)]()),i){o=i[r(430)]();let e=o[0];for(let i=0;i<o.length;i++){let a,h,l;(i!=o[r(321)]-1||!o[i][r(383)](e))&&n[r(366)](new t.Point(o[i])),i!==o[r(321)]-1&&(a=.5*(o[i].getOrdinate("X")+o[i+1][r(336)]("X")),h=.5*(o[i][r(336)]("Y")+o[i+1][r(336)]("Y")),l=.5*(o[i].getOrdinate("Z")+o[i+1].getOrdinate("Z")),s.push({ctrlPointIndex:i,point:new t.Point(new t.Coordinate(a,h,l))}))}}else{e.getGeometry()instanceof t.Point?o=[e[r(344)]()[r(505)]()]:e.getGeometry()instanceof t.MultiPoint&&(o=e[r(344)]()[r(258)]());for(let e=0;e<o[r(321)];e++)n.push(new t.Point(o[e]))}const a={};return 0!==n[r(321)]&&(a[r(390)]=n),0!==s[r(321)]&&(a[r(441)]=s),a}[V_(490)](t){const e=V_;return typeof t[e(344)]()[e(279)]===e(277)}_addCtrlPoints(){const e=V_;if(0!==this[e(266)][e(321)]){const r=[];for(let i of this[e(266)])r[e(366)](new t.Vector(i,{type:this[e(270)][e(401)]},this._editPointStyle));this._ctrlFeatures&&this[e(386)].removeFeatures(this[e(346)]),this[e(346)]=r,this[e(386)][e(403)](this._ctrlFeatures)}}[V_(501)](e){const r=V_;if(e&&0!==e[r(321)]){const i=[];for(let n of e)i.push(new t.Vector(n[r(337)],{type:this[r(270)][r(392)],pointIndex:n.ctrlPointIndex,isChange:!1},this[r(448)]));this[r(469)]&&this._plotLayer[r(319)](this._midPointFeatures),this[r(469)]=i,this[r(386)][r(403)](this[r(469)])}}[V_(360)](){const t=V_;this._ctrlFeatures&&(this[t(386)][t(319)](this[t(346)]),this[t(346)]=void 0)}[V_(353)](){const t=V_;this[t(469)]&&(this[t(386)][t(319)](this[t(469)]),this[t(469)]=void 0)}[V_(338)](t,e,r){const i=V_;this._plottingPoints=e,this[i(444)]=t,this[i(273)]=this[i(444)].getGeometry()[i(410)](),this.plotEditType!=this[i(282)][i(442)]&&(this[i(449)](),r?this._addMidPoints(r):this[i(353)]()),this.selectedCtrlPoint=void 0,this[i(302)]=void 0}_clearFeatureEdit(){const t=V_;if(this[t(444)]){const e={feature:this[t(444)],points:this[t(266)],type:this._type};this[t(343)](this[t(454)][t(482)],e)}this[t(266)]=[],this[t(444)]=void 0,this._type=void 0,this[t(360)](),this[t(353)](),this.selectedCtrlPoint=void 0,this.selectedMidPoint=void 0}[V_(396)](t){const e=V_;if(0!=t[e(310)])return;if(this[e(257)](t),t.lonlat){if(this._isEditing){let r=this[e(486)][e(350)](t[e(497)],[this[e(386)][e(314)]],3);if(r&&0!==r[e(321)]){let t,i,n,s,o;for(let t=0;t<r[e(321)];t++)if(r[t][e(265)]()[e(432)]===this.sketchPointType[e(401)]){i=r[t];break}if(!i)for(let t=0;t<r[e(321)];t++)if(r[t][e(265)]()[e(432)]===this[e(270)].MIDPOINT){n=r[t];break}for(let t=0;t<r[e(321)];t++){let i=r[t][e(265)]()[e(432)];if(i!==this[e(270)][e(392)]&&i!==this[e(270)][e(401)]){s=r[t];break}}if(t=i||(n||s),this[e(490)](t)&&(o=t[e(344)]()[e(279)]()),o)this[e(338)](t,o),this[e(486)][e(384)][e(459)][e(455)]="move";else if(t[e(265)]()[e(432)]){if(!this[e(444)]){let t=this._getFeaturePoints(s);this[e(338)](s,t[e(390)],t[e(441)])}t[e(265)]()[e(432)]===this[e(270)][e(401)]?(this[e(486)][e(384)].style[e(455)]=e(483),this[e(363)]=t):t[e(265)]()[e(432)]===this.sketchPointType[e(392)]&&(this[e(302)]=t)}else{let r=this[e(351)](t);this[e(338)](t,r[e(390)],r[e(441)])}this[e(411)]=this[e(486)][e(503)](h[e(356)]),this[e(411)]&&this[e(411)][e(477)]()&&this[e(411)][e(494)]()}else this[e(365)]();this[e(386)][e(452)]()}this[e(391)]=!0,this[e(332)]=!1}}_mouseUpHandler(t){const e=V_;if(0!=t.button)return;if(this[e(257)](t),t.lonlat){if(this._isEditing&&this[e(444)]){if((this[e(363)]||this[e(302)])&&!this[e(490)](this._plottingFeature)){let t=this[e(351)](this[e(444)]);this._addFeatureEdit(this[e(444)],t[e(390)],t[e(441)]),this._plotLayer.redraw()}const t={feature:this._plottingFeature,points:this[e(266)],type:this[e(273)]};this[e(343)](this[e(454)][e(368)],t)}this.pan&&!this.pan.getStatus()&&this[e(411)][e(487)](),this[e(391)]=!1,this[e(486)][e(384)][e(459)][e(455)]=e(489)}}[V_(491)](e){const r=V_;if(0!=e[r(310)])return;this[r(257)](e);let i=e[r(408)];if(!i)return;if(this[r(332)]?this._movedAfterClick=!0:this[r(460)]=!1,this._isMouseMove){if(this[r(287)]&&this[r(444)]){if((this[r(363)]||this[r(302)])&&!this._isBuildByCtrlPoint(this[r(444)])){let t=this[r(351)](this._plottingFeature);this[r(338)](this._plottingFeature,t.points,t[r(441)]),this[r(386)][r(452)]()}const t={feature:this._plottingFeature,points:this[r(266)],type:this[r(273)]};this[r(343)](this[r(454)][r(368)],t)}return this[r(411)]&&!this[r(411)][r(477)]()&&this.pan[r(487)](),this[r(486)].container.style[r(455)]=r(489),this[r(391)]=!1,void(this[r(332)]=!1)}const n=i[r(336)]("X"),s=i[r(336)]("Y"),o=i.getOrdinate("Z");if(this._isPlotting){if(!this._type)return;this[r(266)][r(366)](new t.Point(new t.Coordinate(n,s,o)));const e={feature:this[r(444)],points:this[r(266)],type:this[r(273)]};this[r(343)](this[r(454)][r(420)],e),this._generateFeature([n,s,o])&&this._finishPlot(),this._plotLayer[r(452)]()}this[r(391)]=!1,this[r(332)]=!1}[V_(355)](e){const r=V_;this[r(257)](e);let i=e.lonlat;if(!i)return;if(0==e[r(333)]&&0==e[r(463)])return;this[r(332)]=!0;const n=i[r(336)]("X"),s=i[r(336)]("Y"),o=i[r(336)]("Z");if(this[r(364)]){if(!this[r(273)])return;const e=new t.Point(new t.Coordinate(n,s,o));if(0!=this[r(266)][r(321)]){const t=this[r(266)][this[r(266)].length-1];if(!e[r(383)](t)&&(1==this[r(266)].length?this[r(266)][r(366)](e):this[r(423)][this[r(273)]]?this._plottingPoints[r(366)](e):(this[r(266)][r(371)](),this._plottingPoints.push(e)),this._generateFeature([n,s,o]),this._isPlotting)){const t={feature:this[r(444)],points:this._plottingPoints,type:this._type};this[r(343)](this[r(454)][r(440)],t)}}else{this[r(470)]([n,s,o]);const t={feature:null,points:[e],type:this._type,xyz:[n,s,o]};this[r(343)](this[r(454)].CHANGEPOINT,t)}this[r(386)].redraw()}else if(this._isEditing){let i=this._map.detectFeaturesAtPixel(e.mapPixel,[this[r(386)].name],3);if(i&&0!==i[r(321)]){let t,e,n,s;for(let t=0;t<i[r(321)];t++)if(i[t].getAttributes().type===this[r(270)][r(401)]){e=i[t];break}if(!e)for(let t=0;t<i[r(321)];t++)if(i[t][r(265)]()[r(432)]===this[r(270)][r(392)]){n=i[t];break}t=e||(n||i[0]),typeof t[r(344)]()[r(279)]===r(277)&&(s=t.getGeometry()[r(279)]()),s?this[r(444)]?(e||n||this.plotEditType!=this[r(282)][r(507)])&&(this[r(486)][r(384)][r(459)].cursor=r(261)):this[r(486)].container[r(459)][r(455)]="pointer":t.getAttributes()[r(432)]===this[r(270)].CTRLPOINT||t.getAttributes()[r(432)]===this.sketchPointType[r(392)]?this[r(486)][r(384)][r(459)][r(455)]=r(483):this[r(444)]?(e||n||this.plotEditType!=this[r(282)][r(507)])&&(this[r(486)][r(384)].style[r(455)]=r(261)):this._map[r(384)][r(459)][r(455)]=r(483)}else this[r(486)][r(384)][r(459)][r(455)]=r(489);const a=new t.Point(new t.Coordinate(n,s,o));if(this._mouseNotUp&&this[r(444)]){if(this[r(363)]){this[r(486)].container.style[r(455)]=r(483),this.selectedCtrlPoint[r(372)](a),this[r(469)]&&this[r(386)][r(319)](this[r(469)]),this[r(386)][r(327)](this[r(346)]);const t=[];for(let e=0;e<this[r(346)][r(321)];e++){const i=this._ctrlFeatures[e];t[r(366)](i.getGeometry())}this[r(266)]=t,this[r(470)]()}else if(this[r(302)]){this._map.container[r(459)][r(455)]=r(483),this[r(302)][r(372)](a);const t=this[r(302)][r(265)]()[r(357)];if(!this[r(302)][r(265)]()[r(387)]){for(let t=0;t<this[r(469)];t++){this[r(469)][t][r(329)]()===this[r(302)].getId()&&this[r(469)][r(359)](t,0)}this[r(386)].removeFeatures(this[r(469)]);const e=[];for(let i=0;i<this._ctrlFeatures[r(321)];i++)e.push(this._ctrlFeatures[i]),i===t&&(this[r(302)][r(276)](this[r(480)]),e[r(366)](this.selectedMidPoint));this[r(346)]=e,this[r(302)][r(265)]()[r(387)]=!0}this._plotLayer[r(327)](this._ctrlFeatures);const e=[];for(let t=0;t<this[r(346)][r(321)];t++){const i=this._ctrlFeatures[t];e[r(366)](i[r(344)]())}this._plottingPoints=e,this[r(470)]()}else if(this[r(467)]!=this.editType.POINT){this[r(486)][r(384)][r(459)][r(455)]=r(261);const t={x:e[r(333)],y:e[r(463)]};let i=this[r(298)](e.lonlat,e[r(497)],t);this._calculateMovedPoints(i),this[r(470)](),this._updateCtrlPoints(i)}if(this[r(386)].redraw(),this[r(444)]){const t={feature:this[r(444)],points:this[r(266)],type:this[r(273)]};this._fire(this[r(454)][r(304)],t)}}}}[V_(296)](t){const e=V_;if(this._movedAfterClick)return;this[e(257)](t);let r=t[e(408)];if(!r)return;const i=r[e(336)]("X"),n=r[e(336)]("Y"),s=r[e(336)]("Z");if(this[e(364)]){if(!this[e(273)])return;this[e(266)][e(321)]>2&&(this[e(266)].pop(),this[e(266)][e(371)]()),this[e(470)]([i,n,s]),this[e(293)][this._type]&&this[e(444)]&&this[e(443)](),this[e(386)][e(452)]()}}[V_(468)](e){const r=V_;if(!(e instanceof t.Vector))throw TypeError(r(485));if(this[r(364)]&&this._breakPlot(),this._isEditing&&(this[r(365)](),this._isEditing=void 0),this._isBuildByCtrlPoint(e)){let t=e[r(344)]()[r(279)]();this[r(338)](e,t)}else{let t=this[r(351)](e);this._addFeatureEdit(e,t[r(390)],t[r(441)])}this[r(386)][r(452)](),this[r(287)]=!0,this[r(411)]&&this[r(411)].getStatus()&&this.pan.deactivate()}calculateLonLat(e){const r=V_,i=this[r(486)][r(384)],n=i[r(328)]();let s,o=new t.Pixel(event[r(385)]-n[r(379)]-i.clientLeft,event[r(471)]-n[r(389)]-i.clientTop);this[r(263)]&&(s=this[r(486)][r(271)](o)),s||(s=this[r(486)][r(323)](o)),e[r(408)]=s,e[r(497)]=o}[V_(298)](e,r,i){const n=V_,s=new t.Pixel(r[n(348)]()-i.x,r.getY()-i.y);let o;this[n(263)]&&(o=this[n(486)].get3DCoordinateFromPixel(s)),o||(o=this._map[n(323)](s));return[e[n(336)]("X")-o[n(336)]("X"),e.getOrdinate("Y")-o[n(336)]("Y"),e[n(336)]("Z")-o[n(336)]("Z")]}[V_(436)](e){const r=V_,i=[];for(let n=0;n<this[r(266)][r(321)];n++){const s=this[r(266)][n][r(505)]();i[r(366)](new t.Point(new t.Coordinate(s.getOrdinate("X")+e[0],s[r(336)]("Y")+e[1],s[r(336)]("Z")+e[2])))}this[r(266)]=i}[V_(394)](e){const r=V_;if(this[r(346)]&&0!==this[r(346)].length){for(let i=0;i<this[r(346)][r(321)];i++){const n=this._ctrlFeatures[i],s=this._ctrlFeatures[i][r(344)]()[r(505)]();let o=new t.Coordinate(s[r(336)]("X")+e[0],s[r(336)]("Y")+e[1],s[r(336)]("Z")+e[2]);n.setGeometry(new t.Point(o))}this[r(386)][r(327)](this[r(346)])}if(this[r(469)]&&0!==this[r(469)][r(321)]){for(let i=0;i<this._midPointFeatures[r(321)];i++){const n=this[r(469)][i],s=this[r(469)][i][r(344)]().getCoordinate();let o=new t.Coordinate(s[r(336)]("X")+e[0],s[r(336)]("Y")+e[1],s.getOrdinate("Z")+e[2]);n.setGeometry(new t.Point(o))}this._plotLayer[r(327)](this[r(469)])}}[V_(470)](e){const r=V_;let i=!1;const n=[];for(let t=0;t<this[r(266)][r(321)];t++){let e=this[r(266)][t];n[r(366)](e)}if(this[r(364)]){if(!this[r(273)])return;this[r(335)](e)}else this[r(287)];return this[r(273)]===H_[r(507)].POINT?i=this[r(349)](n):this[r(273)]===H_.POINT.MULTIPOINT?i=this._handleMultiPoint(n):this[r(273)]===H_[r(301)][r(301)]?i=this._handlePolyline(n):this[r(273)]===H_[r(301)][r(331)]?i=this._handleArc(n):this[r(273)]===H_[r(301)][r(289)]?i=this[r(500)](n):this[r(273)]===H_[r(301)][r(340)]?i=this[r(369)](n):this[r(273)]===H_[r(301)][r(308)]?i=this[r(488)](n):this[r(273)]===H_[r(301)][r(465)]?i=this[r(478)](n):this._type===H_[r(301)][r(278)]?i=this[r(295)](n):this._type===H_[r(424)][r(269)]?i=this._handleCircle(n):this._type===H_.POLYGON[r(453)]?i=this[r(484)](n):this[r(273)]===H_.POLYGON[r(425)]?i=this[r(413)](n):this[r(273)]===H_[r(424)].LUNE?i=this[r(380)](n):this[r(273)]===H_[r(424)][r(427)]?i=this._handleRectangle(n):this[r(273)]===H_[r(424)][r(424)]?i=this[r(458)](n):this[r(273)]===H_[r(424)][r(382)]?i=this[r(378)](n):this[r(273)]===H_[r(424)].GATHERING_PLACE?i=this[r(400)](n):this[r(273)]===H_[r(424)][r(433)]?i=this[r(283)](n):this[r(273)]===H_[r(424)].CLOSE_CURVE?i=this[r(297)](n):this[r(273)]===t.GeometryExtType[r(415)][r(393)]?i=this[r(406)](n):this[r(273)]===t.GeometryExtType[r(415)].RECT_FLAG?i=this._handleRectFlag(n):this[r(273)]===t.GeometryExtType.FLAG[r(275)]?i=this._handleTriangleFlag(n):this[r(273)]===H_[r(504)].STRAIGHT_ARROW?i=this[r(370)](n):this._type===H_.ARROW[r(399)]?i=this[r(330)](n):this[r(273)]===H_[r(504)][r(381)]?i=this[r(495)](n):this[r(273)]===H_[r(504)][r(479)]?i=this[r(398)](n):this[r(273)]===H_[r(504)][r(285)]?i=this[r(313)](n):this[r(273)]===H_[r(508)][r(450)]?i=this[r(412)](n):this[r(273)]===H_[r(508)].PARALLEL_SEARCH?i=this._handleParallelSearch(n):this._type===H_[r(508)].SECTOR_SEARCH?i=this._handleSectorSearch(n):this[r(273)]===H_[r(508)][r(405)]?i=this[r(292)](n):this[r(273)]===H_[r(508)][r(315)]&&(i=this[r(320)](n)),i}[V_(335)](e){const r=V_;let i=new t.Point(new t.Coordinate(e[0],e[1],e[2]));this[r(341)]?(this[r(341)][r(372)](i),this._plotLayer[r(327)]([this[r(341)]])):(this[r(341)]=new t.Vector(i,{},this[r(480)]),this[r(386)][r(403)]([this[r(341)]]))}_handlePoint(e){const r=V_;if(e&&1===e[r(321)]){let i=e[0],n=!1;if(!this[r(444)])return this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)].addFeatures([this[r(444)]]),n=!0,n;this[r(444)][r(372)](i),this[r(386)].updateFeatures([this[r(444)]])}}_handleMultiPoint(e){const r=V_;if(e&&0!=e.length){let i=new t.MultiPoint(e);this._plottingFeature?(this[r(444)][r(372)](i),this[r(386)].updateFeatures([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)].addFeatures([this[r(444)]]))}}[V_(421)](e){const r=V_;if(e.length<2)return;let i=new t.Line(e);this[r(444)]?(this[r(444)].setGeometry(i),this[r(386)][r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(318)](e){const r=V_;if(e.length<2)return;if(e[r(321)]>3)return!0;let i;i=2===e.length?new t.Line(e):new(U_[r(274)])(e),this[r(444)]?(this[r(444)][r(372)](i),this._plotLayer.updateFeatures([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this._style),this[r(386)][r(403)]([this._plottingFeature]))}[V_(369)](e){const r=V_;if(e[r(321)]<2)return;if(e[r(321)]>3){return!0}let i;i=2===e[r(321)]?new t.Line(e):new t.BezierCurve2(e),this[r(444)]?(this._plottingFeature[r(372)](i),this[r(386)][r(327)]([this._plottingFeature])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(488)](e){const r=V_;if(e[r(321)]<2)return;if(e[r(321)]>4){return!0}let i;i=2===e[r(321)]||3===e[r(321)]?new t.Line(e):new(U_[r(307)])(e),this[r(444)]?(this[r(444)][r(372)](i),this[r(386)][r(327)]([this._plottingFeature])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this._plotLayer[r(403)]([this[r(444)]]))}[V_(478)](e){const r=V_;if(e[r(321)]<2)return;let i=new(U_[r(339)])(e);this[r(444)]?(this[r(444)][r(372)](i),this[r(386)].updateFeatures([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)][r(403)]([this._plottingFeature]))}[V_(295)](e){const r=V_;if((e=this[r(317)](e))[r(321)]<2)return;let i;i=2===e[r(321)]?new t.Line(e):new(U_[r(474)])(e),this._plottingFeature?(this[r(444)][r(372)](i),this[r(386)][r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this._plotLayer.addFeatures([this._plottingFeature]))}_handleCloseCardinal(e){const r=V_;if((e=this[r(317)](e)).length<2)return;let i;i=2===e.length?new t.Line(e):new(U_[r(416)])(e),this[r(444)]?(this[r(444)][r(372)](i),this[r(386)][r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(400)](e){const r=V_;if(e[r(321)]<2)return;if(e[r(321)]>2){return!0}e=this[r(317)](e);let i=new(U_[r(498)])(e);this[r(444)]?(this[r(444)][r(372)](i),this[r(386)][r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this._plotLayer.addFeatures([this[r(444)]]))}_checkPointsDistinct(t){const e=V_,r=t;for(let t=r.length-1;t>=0&&(r[t]&&r[t-1]&&r[t][e(383)](r[t-1]));t--)r[e(371)]();return r}[V_(458)](e){const r=V_;if(e[r(321)]<2)return;let i;i=2===e[r(321)]?new t.Line(e):new t.Polygon([new t.LinearRing(e)]),this._plottingFeature?(this[r(444)][r(372)](i),this[r(386)][r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(419)](e){const r=V_;if(e[r(321)]<2)return;if(e[r(321)]>2){return!0}let i=new(U_[r(373)])(e[0],e[1]);this[r(444)]?(this._plotLayer[r(319)]([this[r(444)]]),this[r(444)]=new t.Vector(i,{},this._style),this[r(386)][r(403)]([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(484)](e){const r=V_;if(e.length<2)return;if(e[r(321)]>2)return!0;let i=new(U_[r(502)])(e);this[r(444)]?(this[r(386)][r(319)]([this[r(444)]]),this[r(444)]=new t.Vector(i,{},this._style),this[r(386)][r(403)]([this._plottingFeature])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this._plotLayer[r(403)]([this[r(444)]]))}[V_(413)](e){const r=V_;if(e[r(321)]<2)return;if(e.length>3)return!0;let i;i=2===e[r(321)]?new t.Line(e):new(U_[r(268)])(e),this[r(444)]?(this[r(386)][r(319)]([this[r(444)]]),this[r(444)]=new t.Vector(i,{},this[r(431)]),this._plotLayer.addFeatures([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)].addFeatures([this[r(444)]]))}_handleLune(e){const r=V_;if(e[r(321)]<2)return;if(e[r(321)]>3)return!0;let i=new i_(e);this[r(444)]?(this[r(386)].removeFeatures([this._plottingFeature]),this[r(444)]=new t.Vector(i,{},this[r(431)]),this._plotLayer[r(403)]([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(445)](e){const r=V_;if(e[r(321)]<2)return;if(e.length>2)return!0;let i=new(U_[r(456)])(e);this[r(444)]?(this[r(444)][r(372)](i),this._plotLayer[r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this._style),this._plotLayer[r(403)]([this._plottingFeature]))}[V_(283)](e){const r=V_;if(e[r(321)]<2)return;if(e[r(321)]>2)return!0;let i=new(U_[r(316)])(e);this[r(444)]?(this._plottingFeature.setGeometry(i),this._plotLayer[r(327)]([this._plottingFeature])):(this._plottingFeature=new t.Vector(i,{},this[r(431)]),this._plotLayer[r(403)]([this[r(444)]]))}[V_(428)](e){const r=V_;if(e[r(321)]<2)return;if(e[r(321)]>2)return!0;let i=new(U_[r(267)])(e);this[r(444)]?(this[r(444)][r(372)](i),this._plotLayer[r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)][r(403)]([this._plottingFeature]))}[V_(506)](e){const r=V_;if(e.length<2)return;if(e[r(321)]>2)return!0;let i=new(U_[r(305)])(e);this._plottingFeature?(this[r(444)][r(372)](i),this[r(386)][r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)].addFeatures([this._plottingFeature]))}[V_(406)](e){const r=V_;if(e[r(321)]<2)return;if(e.length>2)return!0;let i=new(U_[r(260)])(e);this[r(444)]?(this._plottingFeature[r(372)](i),this[r(386)][r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this._plotLayer[r(403)]([this[r(444)]]))}[V_(500)](e){const r=V_;if(e[r(321)]<2)return;let i=new t.Line(e);this[r(444)]?(this[r(444)][r(372)](i),this._plotLayer.updateFeatures([this[r(444)]])):(this._plottingFeature=new t.Vector(i,{},this._style),this[r(386)][r(403)]([this[r(444)]]))}[V_(378)](e){const r=V_;if(e[r(321)]<2)return;let i;i=2===e[r(321)]?new t.Line(e):new t.Polygon([new t.LinearRing(e)]),this[r(444)]?(this[r(444)][r(372)](i),this[r(386)][r(327)]([this._plottingFeature])):(this[r(444)]=new t.Vector(i,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(370)](e){const r=V_,i=[];for(let t=0;t<e[r(321)];t++){const n=e[t];0===t?i[r(366)](n):!n[r(383)](i[i[r(321)]-1])&&i.push(n)}if(i[r(321)]<2)return;let n=new(U_[r(481)])(i);this._plottingFeature?(this[r(444)][r(372)](n),this._plotLayer[r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(n,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(330)](e){const r=V_,i=[];for(let t=0;t<e.length;t++){const n=e[t];0===t?i[r(366)](n):!n.equals(i[i[r(321)]-1])&&i.push(n)}if(i[r(321)]<2)return;let n=new(U_[r(299)])(i);this[r(444)]?(this[r(444)][r(372)](n),this[r(386)][r(327)]([this._plottingFeature])):(this[r(444)]=new t.Vector(n,{},this._style),this[r(386)][r(403)]([this[r(444)]]))}[V_(398)](e){const r=V_,i=[];for(let t=0;t<e[r(321)];t++){const n=e[t];(0===t||!n[r(383)](i[i[r(321)]-1]))&&i[r(366)](n)}if(i[r(321)]<2)return;let n=new Gd(i);this[r(444)]?(this[r(444)][r(372)](n),this._plotLayer[r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(n,{},this._style),this[r(386)][r(403)]([this[r(444)]]))}[V_(313)](e){const r=V_,i=[];for(let t=0;t<e.length;t++){const n=e[t];(0===t||!n[r(383)](i[i[r(321)]-1]))&&i[r(366)](n)}if(i[r(321)]<2)return;let n=new(U_[r(447)])(i);this[r(444)]?(this[r(444)].setGeometry(n),this[r(386)][r(327)]([this._plottingFeature])):(this[r(444)]=new t.Vector(n,{},this._style),this[r(386)].addFeatures([this[r(444)]]))}[V_(495)](e){const r=V_;if(e.length<2)return;if(e[r(321)]>4){return!0}const i=[];for(let t=0;t<e[r(321)];t++){const n=e[t];0===t?i.push(n):!n[r(383)](i[i[r(321)]-1])&&i[r(366)](n)}let n;if(2===i[r(321)])n=new t.Line(i);else{if(3===i.length){const e=i[2][r(505)]()[r(336)]("X")-i[1][r(505)]()[r(336)]("X"),n=i[2][r(505)]()[r(336)]("Y")-i[1][r(505)]()[r(336)]("Y");let s=new t.Point(new t.Coordinate(i[0][r(505)]()[r(336)]("X")+e,i[0][r(505)]()[r(336)]("Y")+n,0));i[r(366)](s)}n=new(U_[r(439)])(i)}this[r(444)]?(this._plottingFeature[r(372)](n),this._plotLayer.updateFeatures([this[r(444)]])):(this[r(444)]=new t.Vector(n,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(412)](e){const r=V_,i=[];for(let t=0;t<e[r(321)];t++){const n=e[t];(0===t||!n[r(383)](i[i[r(321)]-1]))&&i[r(366)](n)}if(i[r(321)]<2)return;let n=new(U_[r(434)])(i);this._plottingFeature?(this._plottingFeature[r(372)](n),this[r(386)][r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(n,{},this[r(431)]),this[r(386)].addFeatures([this[r(444)]]))}_handleParallelSearch(e){const r=V_,i=[];for(let t=0;t<e.length;t++){const n=e[t];(0===t||!n[r(383)](i[i[r(321)]-1]))&&i[r(366)](n)}if(i.length<2)return;let n;n=2===i.length?new t.Line(i):new(U_[r(358)])(i),this[r(444)]?(this[r(444)][r(372)](n),this._plotLayer[r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(n,{},this._style),this[r(386)][r(403)]([this[r(444)]]))}[V_(324)](e){const r=V_;if(e.length<2)return;if(e[r(321)]>2)return!0;const i=[];for(let t=0;t<e[r(321)];t++){const n=e[t];0===t?i[r(366)](n):!n[r(383)](i[i.length-1])&&i.push(n)}let n=new A_(i);this[r(444)]?(this[r(444)][r(372)](n),this[r(386)][r(327)]([this[r(444)]])):(this[r(444)]=new t.Vector(n,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(292)](e){const r=V_,i=[];for(let t=0;t<e[r(321)];t++){const n=e[t];(0===t||!n[r(383)](i[i.length-1]))&&i[r(366)](n)}if(i[r(321)]<2)return;let n=new(U_[r(475)])(i);this[r(444)]?(this._plottingFeature[r(372)](n),this._plotLayer.updateFeatures([this[r(444)]])):(this[r(444)]=new t.Vector(n,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(320)](e){const r=V_,i=[];for(let t=0;t<e[r(321)];t++){const n=e[t];(0===t||!n[r(383)](i[i[r(321)]-1]))&&i[r(366)](n)}if(i[r(321)]<2)return;let n=new(U_[r(376)])(i);this._plottingFeature?(this[r(444)][r(372)](n),this._plotLayer[r(327)]([this[r(444)]])):(this._plottingFeature=new t.Vector(n,{},this[r(431)]),this[r(386)][r(403)]([this[r(444)]]))}[V_(462)](){let t=h[V_(417)];return this._measureUse&&(t=h.none),t}destroy(){const t=V_;this[t(494)]();let e=Object.getOwnPropertyNames(this);for(let r=0,i=e[t(321)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this[t(311)]=null}}let H_={POINT:{POINT:"Point",MULTIPOINT:V_(361)},POLYLINE:{POLYLINE:V_(286),ARC:"Arc",FREELINE:V_(347),BEZIER_CURVE2:V_(457),BEZIER_CURVE3:V_(307),BEZIER_CURVEN:V_(339),CARDINAL_CURVE:V_(474)},POLYGON:{CIRCLE:V_(300),ELLIPSE:"Ellipse",SECTOR:V_(268),LUNE:V_(388),RECTANGLE:V_(334),POLYGON:"Polygon",FREE_POLYGON:V_(290),GATHERING_PLACE:V_(498),ROUNDED_RECT:"RoundedRect",CLOSE_CURVE:V_(416)},FLAG:{CURVE_FLAG:V_(260),RECT_FLAG:V_(267),TRIANGLE_FLAG:"TriangleFlag"},ARROW:{STRAIGHT_ARROW:V_(481),DIAGONAL_ARROW:"DiagonalArrow",DOUBLE_ARROW:V_(439),DOVETAIL_STRAIGHT_ARROW:V_(291),DOVETAIL_DIAGONAL_ARROW:"DoveTailDiagonalArrow"},LARROW:{POLYLINE_ARROW:V_(434),PARALLEL_SEARCH:V_(358),SECTOR_SEARCH:V_(325),BEZIER_CURVE_ARROW:V_(475),CARDINAL_CURVE_ARROW:"CardinalCurveArrow"}};const j_=["_status","map","innerHTML","container","none","_tipContent","965487NICdRa","2cbJPDE","1tMIMjb","1pIGwJn","_style","register","getX","96689pueRdm","offsetX","mapPan","tipContent","getAniminate","removeChild","clone","appendChild","event","position","_map","position:absolute;color:black;font-size:13px;zIndex:999;width:fit-content;height:30px;line-height:30px;padding-left:8px;padding-right:8px;border:1px solid black;background:white;display:none;user-select:none;","length","_tipDomId","_offsetY","offMap","deactivate","_offsetX","pointerEvents","_exclusive","parentElement","destroy","unRegister","MAPMOUSEEVENT_MOUSEMOVE","2806723AEMekR","updateMouseTip","offsetY","display","bind","setMap","panTo","MouseTipControl","487042fSLiEZ","style","getY","getElementById","setTipContent","1678802HzfqLK","block","_animate","getControlType","left","activate","top","div","animate","zIndex","822512ZiIEiY","371327FaOSbg","createTipDom","1MsTZcE","getTipDomId","_tipDom"],Y_=$_;function $_(t,e){return j_[t-=316]}!function(t,e){const r=$_;for(;;)try{if(974517===parseInt(r(342))*parseInt(r(358))+parseInt(r(339))+-parseInt(r(340))*-parseInt(r(354))+-parseInt(r(324))*-parseInt(r(353))+parseInt(r(352))*-parseInt(r(351))+-parseInt(r(329))+parseInt(r(316)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(j_);class X_ extends a{constructor(t={}){const e=$_;super(),this[e(368)]=null,this[e(345)]=!1,t[e(346)]&&this.setMap(t.map),this._offsetX=5,this[e(372)]=5,t.offsetX&&(this[e(375)]=t[e(359)]),t[e(318)]&&(this[e(372)]=t[e(318)]),this[e(350)]=t[e(361)]?t[e(361)]:"",this._style=t[e(325)]?t[e(325)]:e(369),this[e(331)]=t[e(337)]?t[e(337)]:"",this[e(371)]=this._id+(new Date).getTime(),this._tipDom=null,this[e(377)]=!1}[Y_(362)](){return this[Y_(331)]}setAniminate(t){this[Y_(331)]=t}[Y_(321)](t){const e=Y_;super[e(321)](t),this[e(341)]()}[Y_(343)](){return this[Y_(371)]}[Y_(341)](){const t=Y_,e=document.createElement(t(336));e.id=this[t(371)],e.style=this[t(355)],e[t(325)][t(367)]="absolute",e.style[t(319)]="none",e.style[t(376)]="none",e[t(325)][t(338)]=999,e[t(347)]=this[t(350)],this[t(368)].container[t(378)][t(365)](e),this[t(344)]=e,this[t(334)]()}[Y_(360)](t){const e=Y_;this[e(368)][e(322)](t,!0)}[Y_(334)](){const t=Y_;super.activate(),this[t(368)]&&!this._status&&(this[t(345)]=!0,this[t(368)][t(366)][t(356)](p[t(381)],this[t(317)][t(320)](this)))}[Y_(317)](t){const e=Y_;let r=t.mapPixel;""===this[e(350)]?this._tipDom[e(325)][e(319)]=e(349):(this[e(344)][e(325)][e(319)]=e(330),this[e(344)][e(325)][e(333)]=r[e(357)]()+this[e(375)]+"px",this[e(344)][e(325)][e(335)]=r[e(326)]()+this[e(372)]+"px")}[Y_(328)](t){const e=Y_;this[e(350)]=t;const r=document[e(327)](this._tipDomId);r&&(r[e(347)]=this[e(350)])}[Y_(374)](){const t=Y_;this[t(345)]&&(this[t(345)]=!1,this[t(344)][t(325)][t(319)]="none",this[t(368)][t(366)][t(380)](p[t(381)],this[t(317)][t(320)](this)))}[Y_(364)](){const t=Y_;return new X_({map:this._map,animate:this[t(331)],status:this[t(345)]})}[Y_(379)](){const t=Y_;if(this[t(374)](),this[t(368)]){const e=document.getElementById(this[t(371)]);e&&this[t(368)][t(348)][t(378)][t(363)](e)}let e=Object.getOwnPropertyNames(this);for(let r=0,i=e[t(370)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this.__proto__=null}[Y_(373)](){const t=Y_;this.deactivate();const e=document[t(327)](this[t(371)]);e&&this[t(368)].container[t(378)].removeChild(e),this[t(368)]=null}[Y_(332)](){return h[Y_(323)]}}const W_=["521358SndIZK","557296SRJsna","592705CoepcB","227175ObTKMO","4hOXEZU","362378FKAIxE","length","clear","2594601iknGTV","Area of intersecting polygon is unknown","close","162406BJNfnB"],Z_=q_;function q_(t,e){return W_[t-=451]}!function(t,e){const r=q_;for(;;)try{if(408821===-parseInt(r(451))-parseInt(r(460))+parseInt(r(453))+-parseInt(r(462))+-parseInt(r(461))+-parseInt(r(459))*parseInt(r(452))+parseInt(r(456)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(W_);const J_={m:"m",km:"km",nmi:"nmi",m2:"m",km2:"km",nmi2:"nmi",clear:Z_(455),close:Z_(458),totalLength:Z_(454),area:"area",unknownArea:Z_(457),start:"start",measureTip:"Single click to determine position,double click to end drawing."},K_=["17471CGQbCi","163972eGmcdZ","1515145EKuEjg","","2iPsDYv","1ZZMyOy","364569EwPoVj","266724pgZHYN","35HQIgVM","1cItITh","9ZIcfNq","","966302mSOfnE","1570299CpxoNt"],Q_=ty;function ty(t,e){return K_[t-=395]}!function(t,e){const r=ty;for(;;)try{if(838669===parseInt(r(395))+-parseInt(r(404))*-parseInt(r(397))+-parseInt(r(398))*-parseInt(r(403))+parseInt(r(401))*-parseInt(r(407))+parseInt(r(406))*parseInt(r(408))+-parseInt(r(400))+-parseInt(r(396))*parseInt(r(402)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(K_);let ey={m:"",km:"",nmi:"",mi:"",m2:"",km2:"",nmi2:"",mi2:Q_(405),clear:"",close:"",totalLength:"",area:"",unknownArea:Q_(399),start:"",measureTip:",."};const ry=["3031DmhRyp","1VaiwFm","348340syrAcH","295740fhVmPm","92660ILeMtG","125qSzbZC","419748jIhQRv","450899mRudMQ","204252nMcneq"];function iy(t,e){return ry[t-=167]}!function(t,e){const r=iy;for(;;)try{if(245834===parseInt(r(170))*parseInt(r(175))-parseInt(r(169))+parseInt(r(174))+-parseInt(r(172))+-parseInt(r(168))*-parseInt(r(171))+-parseInt(r(167))+parseInt(r(173)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ry);const ny={en_US:J_,zh_CN:ey},sy=["_measureTempResult","Line","transLengthUnit","feature","unknownArea","getClosePic","removeAllOverlays","_measurePartialLength","disend","padding","getControlByType","_language","border","getCoordinate","appendChild","disstart","removeFeature","CHANGEPOINT","get","setAttributes","_status","destroy","font","getLastCoordinate","getOwnPropertyNames","getCentroid","startMeasureDistance","type","MeasureLayerCanvas","1368001fqFQXk","mi2","_plotLayer","nmi","innerHTML","tipStyle","0px 1px 5px rgba(0,0,0,0.5)","_style","getSrid","div","Measure","toFixed","points","205050kkByNA","_plotControl","url(","_measureDistance","length","km2","<span>","_isPlotting","undefined","createElement","measureLayer","backgroundImage","#FFFFFF","stopMeasure","plotStyle","isSelfIntersects","closePic","transAreaUnit","addLayer","push","setOffset","3px 23px 3px 3px","getLength","</span>","addFeature","_callbacks","_measureArea","removeOverlaysByAttribute","_closePic","getArea","getGeometry","width: 20px;height: 20px;position: absolute;top: 0px;right: 0px;","measureId","param must be instanceof Style!","MouseTipControl","backgroundColor","addOverlay","_map","3px 2px 3px 3px","getFeatureByFid","_overlayLayer","boxShadow","removeAllFeatures","getElement","setStyle","borderRadius","deactivate","areaend","449050ZEOEDS","position:absolute;color:black;font-size:13px;zIndex:999;line-height:15px;padding-left:8px;border:1px solid black;background:white","_pointArr","removeControl","onclick","setDomId","getFeaturesByAttribute","GeoCRS","clear","12px arial,simsun","_showStartPoint","style","getOverlaysByDomId","setVisibility","tem001","title","language","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAAnklEQVR42mP8//8/A1ng9Zu3jGRrBoLBpbmzkyEhgUFcHF385UuGZcsYCgtxa542jSE7m0FJieHYMRT9QJ1WVgz37jHMmsWQmopDM1wRsn6sgtidjaYUCLDpxB1gcP3c3CDu169YPIIvtIH6lZVB2oAAaMTdu5hBSAvN5Dub/ACjKKoIJpI5cxiSk3E7u7ubIS6OrORJChiKml+/fgsA8BOpYIL78vUAAAAASUVORK5CYII=","_tipControl","has","716170LBBJWk","unit","areastart","__proto__","1tOaDqN","_init","parentElement","set","startMeasureArea","setPlotType","959294iHyVrW","setLocation","activate","_controls","plotEventType","Polygon","0px solid #FF0103","_crs","_plottingFeature","_mapTip","211027FydslH","removeOverlay","2px","618442kHRDrO","area","removeFeatures","setMap","_unit","1gJAhmo","tempPopup","getLayer","measureTip","addControl","removeLayer","getStatus","getFid","setTipContent","_measureUse","PLOTFINISHED","getCrs"],oy=ay;function ay(t,e){return sy[t-=324]}!function(t,e){const r=ay;for(;;)try{if(766006===parseInt(r(324))+-parseInt(r(386))+parseInt(r(327))+-parseInt(r(454))*parseInt(r(458))+-parseInt(r(464))+parseInt(r(332))*parseInt(r(373))+parseInt(r(434)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(sy);class hy extends a{constructor(e={}){const r=ay;super(),this._map=null,this._unit=e[r(455)]?e[r(455)]:"km",this[r(459)](e),this[r(355)]=ny[t.initState[r(450)]],this[r(414)]=e[r(402)]||r(451),this._callbacks=new Map,this._mapTip=void 0}[oy(459)](e){const r=oy;this[r(375)]=new Hg(r(396),{enableHashCode:!1}),e[r(400)]&&e[r(400)]instanceof t.Style?this[r(375)][r(430)](e.plotStyle):this[r(375)][r(430)](new t.Style({fillSymbols:[new t.ColorFill(new t.Color(0,136,255,.2))],markerSymbols:[new t.Circle({radius:7,fillColor:new t.Color(255,255,255,1),outlineColor:new t.Color(0,136,255,1),outlineWidth:3})],lineSymbols:[new t.LineSymbol({color:new t.Color(0,136,255,1),width:3})]})),this[r(426)]=new mf;const i=e[r(378)]||r(435);this[r(452)]=new X_({style:i,offsetX:10,offsetY:20}),this[r(387)]=new z_({layer:this[r(375)]}),this.measureEventType={DISTANCESTART:r(359),DISTANCEFINISHED:r(352),AREASTART:r(456),AREAFINISHED:r(433)},this[r(387)][r(341)]=!0}[oy(330)](t){const e=oy;super[e(330)](t),this[e(471)]=t[e(343)](),t[e(404)](this[e(375)],null,e(372)),t[e(404)](this[e(426)]),t[e(354)](h.MouseTipControl)&&(this[e(473)]=t.getControlByType(h[e(420)]),t.removeControl(this._mapTip)),t[e(336)](this._tipControl),this[e(387)][e(330)](t),t[e(467)][e(405)](this._plotControl),this[e(466)]()}[oy(466)](){const t=oy;super.activate(),this[t(387)][t(466)](),this[t(364)]=!0}deactivate(){const t=oy;this[t(364)]&&(this[t(399)](),this[t(387)][t(432)](),this._status=!1)}on(t,e){const r=oy;this[r(411)][r(461)](t,e)}un(t){this._callbacks.delete(t)}[oy(334)](){return this[oy(375)]}[oy(430)](e){const r=oy;if(!(e instanceof t.Style))throw TypeError(r(419));this[r(380)]=e,this[r(375)][r(430)](e)}[oy(370)](){const e=oy;if(void 0===this[e(364)]||!0!==this[e(364)])return;!this._plotControl[e(338)]()&&this[e(387)][e(466)](),!this[e(452)][e(338)]()&&this[e(452)][e(466)](),this[e(452)].setTipContent(this[e(355)].measureTip),this[e(387)][e(463)](e(345));const r=this,i=r[e(387)][e(468)];r[e(411)][e(453)](e(359))&&r[e(411)].get(e(359))(),this[e(387)].on(i.NEWPOINT,(function(i){const n=e;if("Line"===i.type){const e=new t.Vector(i[n(385)][i[n(385)].length-1]);if(1===i[n(385)][n(390)])r[n(444)](i[n(385)][0],n(394)),e.setAttributes({measureId:n(394)});else{const t=i[n(347)][n(339)]();if(3===i[n(385)][n(390)]){r[n(375)][n(440)](n(418),"undefined")[0][n(363)]({measureId:t});r[n(426)][n(446)](n(394))[0][n(439)](t)}r[n(351)](i[n(385)],t),e[n(363)]({measureId:t})}r._plotLayer[n(410)](e)}})),this[e(387)].on(i[e(361)],(function(t){const i=e;r[i(344)](t[i(347)],t[i(371)])})),this[e(387)].on(i[e(342)],(function(t){const i=e;let n;"Line"===t[i(371)]&&(t[i(347)][i(363)]({measureId:t[i(347)][i(339)]()}),n=r[i(389)](t.feature),r[i(387)][i(463)](void 0),r._tipControl.deactivate()),r._callbacks.has(i(352))&&r[i(411)][i(362)](i(352))(r[i(346)](n)),this.tempPopup&&this[i(333)].setVisibility(!1)}))}[oy(462)](){const e=oy;if(void 0===this._status||!0!==this[e(364)])return;!this[e(387)][e(338)]()&&this[e(387)][e(466)](),!this._tipControl[e(338)]()&&this[e(452)][e(466)](),this[e(387)][e(463)](e(469)),this[e(452)][e(340)](this[e(355)][e(335)]),this[e(411)].has("areastart")&&this._callbacks[e(362)](e(456))();const r=this;this[e(387)].on(r[e(387)][e(468)].CHANGEPOINT,(function(t){const i=e;r._measureTempResult(t[i(347)],t.type)})),this[e(387)].on(r[e(387)][e(468)][e(342)],(function(i){const n=e;let s;i[n(371)]===n(469)&&i.feature.getGeometry()instanceof t.Polygon&&(s=r[n(412)](i[n(347)]),r[n(387)][n(463)](void 0),r[n(452)][n(432)]()),r[n(411)][n(453)](n(433))&&r[n(411)][n(362)](n(433))(r[n(403)](s)),r[n(333)]&&r[n(333)][n(447)](!1)}))}[oy(389)](e){const r=oy,i=e[r(416)](),n=e[r(339)](),s=i[r(408)](this[r(471)][r(381)]()),o=i.getCoordSeq()[r(367)](),a=document.createElement(r(382));a.measureId=n;const h=document.createElement(r(382));h.style.font=r(443),h.style[r(356)]=r(470),h[r(445)].backgroundColor=r(398),h.style[r(353)]=r(407),h[r(445)].boxShadow=r(379),h[r(445)].borderRadius=r(326),h[r(377)]="<span>"+this[r(355)].totalLength+""+this.transLengthUnit(s)+"</span>",a[r(358)](h);const l=document[r(395)]("div");l.title=this[r(355)][r(442)],l[r(445)]=r(417),l.style[r(397)]=r(388)+this[r(414)]+")";const c=this;l[r(438)]=function(){const t=r;c[t(387)][t(463)](void 0);const e=l.parentElement[t(418)],i=c[t(375)].getFeaturesByAttribute(t(418),e);c[t(375)].removeFeatures(i),c._overlayLayer[t(413)](t(418),e);const n=c[t(426)][t(446)](e)[0];c[t(426)][t(325)](n),c[t(333)]&&c[t(333)][t(447)](!1)},a[r(358)](l);const u=new fg({element:a,location:o,measureId:n}),p=new t.Offset(8,-16,0);return this[r(426)][r(422)](u),u[r(406)](p),s}_measureArea(e){const r=oy,i=e[r(339)](),n=e.getGeometry();let s=n[r(415)]();const o=n[r(369)](),a=document[r(395)]("div");a[r(418)]=i;const h=document.createElement(r(382));h[r(445)][r(366)]=r(443),h[r(445)][r(356)]="0px solid #FF0103",h[r(445)].backgroundColor=r(398),h[r(445)][r(353)]=r(407),h.style.boxShadow=r(379),h[r(445)][r(431)]=r(326),n[r(401)]()?h[r(377)]=r(392)+this[r(355)][r(348)]+r(409):h[r(377)]=r(392)+this[r(355)][r(328)]+""+this.transAreaUnit(s)+r(409),a[r(358)](h);const l=document.createElement(r(382));l[r(449)]=this._language[r(442)],l[r(445)]="width: 20px;height: 20px;cursor: pointer;position: absolute;top: 0px;right: 0px;",l[r(445)][r(397)]="url("+this[r(414)]+")";const c=this;l[r(438)]=function(){const t=r,e=l[t(460)][t(418)];if(c[t(375)]){c[t(387)].setPlotType(void 0);const r=c._plotLayer[t(425)](e);c[t(375)][t(360)](r)}c[t(426)].removeOverlaysByAttribute("measureId",e),this[t(333)]&&this.tempPopup[t(447)](!1)},a[r(358)](l);const u=new fg({element:a,location:o,measureId:i}),p=new t.Offset(-8,0,0);return this[r(426)][r(422)](u),u.setOffset(p),s}[oy(399)](){const t=oy;if(this[t(387)][t(393)]&&this._plotControl[t(472)]){const e=this[t(387)][t(472)][t(339)](),r=this[t(375)].getFeaturesByAttribute(t(418),e);this._plotLayer.removeFeatures(r);const i=this[t(375)][t(440)](t(418),t(394));this[t(375)][t(329)](i),this[t(426)][t(413)](t(418),e),this[t(426)][t(413)]("domId",t(394)),this[t(333)]&&this[t(333)].setVisibility(!1)}this[t(387)].setPlotType(void 0),this[t(452)][t(432)]()}clear(){const t=oy;this._plotLayer[t(428)](),this[t(426)][t(350)](),this._plotControl[t(463)](void 0),this[t(452)].deactivate()}[oy(444)](e,r){const i=oy,n=e[i(357)](),s=document.createElement("div");s[i(418)]=r,s[i(445)].font=i(443),s[i(445)][i(356)]=i(470),s.style[i(421)]=i(398),s[i(445)].padding=i(424),s[i(445)][i(427)]=i(379),s[i(445)][i(431)]=i(326),s[i(377)]="<span>"+this[i(355)].start+"</span>";const o=new fg({element:s,location:n,domId:r}),a=new t.Offset(8,-16,0);this[i(426)].addOverlay(o),o[i(406)](a)}[oy(351)](e,r){const i=oy,n=new t.Line(e)[i(408)](this._crs[i(381)]()),s=e[e[i(390)]-1][i(357)](),o=document[i(395)](i(382));o[i(445)][i(366)]=i(443),o[i(445)][i(356)]=i(470),o[i(445)][i(421)]=i(398),o.style[i(353)]=i(424),o[i(445)][i(427)]=i(379),o[i(445)][i(431)]=i(326),o[i(377)]=i(392)+this.transLengthUnit(n)+i(409);const a=new fg({element:o,location:s,measureId:r}),h=new t.Offset(8,-16,0);this[i(426)][i(422)](a),a[i(406)](h)}[oy(344)](e,r){const i=oy;if(e){if(!this[i(333)]){const e=document[i(395)](i(382));e.style.font="12px arial,simsun",e[i(445)][i(356)]=i(470),e[i(445)][i(421)]=i(398),e[i(445)][i(353)]=i(424),e[i(445)][i(427)]=i(379),e[i(445)][i(431)]="2px";let r=new t.Coordinate(0,0,0);this[i(333)]=new fg({element:e,location:r,measureId:i(448)});let n=new t.Offset(8,-16,0);this[i(333)][i(406)](n),this.tempPopup[i(447)](!1)}if(!this[i(333)][i(334)]()&&this[i(426)][i(422)](this[i(333)]),r==i(345)){let r=e[i(416)]();if(r instanceof t.Line){const e=r[i(436)][r[i(436)][i(390)]-1][i(357)](),n=r[i(408)](this[i(471)].getSrid());this[i(333)].getElement()[i(377)]=i(392)+this[i(346)](n)+i(392),this.tempPopup[i(465)](e),this[i(333)][i(406)](new t.Offset(8,-16,0)),this.tempPopup[i(447)](!0)}}else{let r=e[i(416)]();if(r instanceof t.Polygon){let e=r.getArea(),n=r[i(369)](),s=this[i(333)][i(429)]();r[i(401)]()?s[i(377)]="<span>"+this[i(355)].unknownArea+i(409):s[i(377)]=i(392)+this[i(355)][i(328)]+""+this.transAreaUnit(e)+i(409),this[i(333)][i(465)](n),this[i(333)][i(406)](new t.Offset(-8,0,0)),this[i(333)].setVisibility(!0)}}}}[oy(346)](t){const e=oy;return"km"===this[e(331)]?(t/1e3).toFixed(2)+this._language.km:"m"===this[e(331)]?t[e(384)](2)+this._language.m:this._unit===e(376)?(t/1852)[e(384)](3)+this[e(355)][e(376)]:"mi"===this[e(331)]?(t/1609.344)[e(384)](3)+this._language.mi:void 0}[oy(403)](t){const e=oy;if(this._crs.getCrsType()===e(441)&&(t=111e3*t*111e3),"km"===this[e(331)]){return(t/1e6)[e(384)](2)+this[e(355)][e(391)]}if("m"===this._unit)return t[e(384)](2)+this[e(355)].m2;if("nmi"===this[e(331)]){return(t/3429904)[e(384)](4)+this[e(355)].nmi2}if("mi"===this[e(331)]){return(t/2589988.110336)[e(384)](4)+this[e(355)][e(374)]}}setClosePic(t){this[oy(414)]=t}[oy(349)](){return this._closePic}destroy(){const t=oy;super[t(365)](),this.deactivate(),this[t(423)]&&(this[t(423)][t(437)](this[t(387)]),this._plotControl[t(365)](),this._map[t(437)](this._tipControl),this[t(452)].destroy(),void 0!==this._mapTip&&this[t(423)][t(336)](this[t(473)]),this._map[t(337)](this[t(375)]),this[t(423)][t(337)](this._overlayLayer)),this[t(375)][t(365)](),this._overlayLayer[t(365)]();let e=Object[t(368)](this);for(let r=0,i=e[t(390)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this[t(457)]=null}offMap(){const t=oy;this[t(432)](),this[t(423)][t(437)](this[t(387)]),this._map.removeControl(this[t(452)]),this._map[t(337)](this._plotLayer),this[t(423)][t(337)](this._overlayLayer),void 0!==this[t(473)]&&this[t(423)][t(336)](this[t(473)]),this[t(423)]=null}getControlType(){return h[oy(383)]}}const ly=["_addMiniMap","container","width: 20px;height: 20px;position: absolute;top: 0;left: 0;background: white;text-align: center;line-height: 20px;cursor: pointer","layer","MAPMOUSEEVENT_MOUSEUP","addFeature","_updataMainMap","mousemove","_operateBtn","removeChild","click","hmap-control-minimap","type","_center","addEventListener","311VVQOvA","_hideMiniMap","_mouseInExent","width: 20px;height: 20px;position: absolute;top: -20px;left: -20px;background: white;text-align: center;line-height: 20px;cursor: pointer","position:absolute;width:320px;height:180px;right:5px;bottom:5px;border:2px solid red;zIndex:999;","showBtnStyle","length","238311vvAIrV","addLayer","_createPane","setCenter","164521bbfCxV","miniMapMiniLevel","extentStyle","_offsetZoom","cursor","div","register","_hideBtnText","_rectangle","getZoom","bind","style","getTopRight","extent","_getMainMapZoom","deactivate","removeListener","parentElement","_rectangleLayer","_miniMapZoom","className","minimapButton_hidden","getCenter","span","createElement","appendChild","getOrdinate","minimapButton_show","_hideBtnStyle","getExtent","48947WObreb","removeFeature","getOwnPropertyNames","_addButton","unRegister","_containerDomStyle","_showBtnText","destroy","MAPMOUSEEVENT_MOUSEDOWN","_mainMap","getControlType","_rectangleFeature","getBottomLeft","_updataMiniMap","35688iUVvwZ","innerHTML","setStyle","offsetZoom","5mZnTno","1FrqHtQ","getResolutions","miniMap","_showMiniMap","parentNode","border","_currentZoom","167TZdQjd","activate","_extentStyle","MAPEVENT_EXTENTCHANGED","width","cssText","MAPMOUSEEVENT_MOUSEMOVE","2LXkjIJ","_miniMapClickCoord","showBtnText","addListener","_getRectFromExtent","_miniMapMousedown","detectFeaturesAtPixel","105972NQgAEd","MiniMap","hideBtnStyle","_updateBtn","151866zCpKvp","containerDomStyle","mapPixel","event","hideBtnText"],cy=uy;function uy(t,e){return ly[t-=387]}!function(t,e){const r=uy;for(;;)try{if(140937===parseInt(r(446))*-parseInt(r(479))-parseInt(r(460))-parseInt(r(412))-parseInt(r(490))+parseInt(r(465))*-parseInt(r(486))+-parseInt(r(472))*parseInt(r(405))+-parseInt(r(464))*-parseInt(r(416)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ly);class py extends a{constructor(e=null,r={}){const i=uy;if(super(),this[i(393)]=e,this[i(391)]=null,this[i(455)]=null,this[i(467)]=null,this[i(398)]=null,this._showBtnStyle=void 0!==r[i(410)]?r[i(410)]:i(408),this[i(444)]=void 0!==r[i(488)]?r[i(488)]:i(392),this[i(452)]=void 0!==r.showBtnText?r[i(481)]:"+",this[i(423)]=void 0!==r[i(389)]?r[i(389)]:"-",this._miniMapZoom=void 0!==r.miniMapMiniLevel?r[i(417)]:0,this._containerDomStyle=void 0!==r.containerDomStyle?r[i(491)]:i(409),this[i(419)]=void 0!==r[i(463)]?r[i(463)]:4,r[i(418)])this[i(474)]=r.extentStyle;else{const e=new t.ColorFill(new t.Color(0,255,0,0)),r=new t.LineSymbol({color:new t.Color(255,0,255,1),width:1});this[i(474)]=new t.Style({fillSymbols:[e],lineSymbols:[r]})}this[i(484)]=!1,this[i(407)]=!1,this[i(480)]=null,this[i(471)]=0,this[i(403)]=null}setMap(e){const r=uy;this._mainMap=e,!this[r(391)]&&(this[r(391)]=this[r(414)](r(421),r(401)),this.setStyle(this[r(451)])),this[r(390)](this._mainMap,(()=>{const e=r;this[e(467)][e(413)](this[e(393)]),this[e(434)]=new Hg(e(429),{enableHashCode:!0}),this[e(467)].addLayer(this[e(434)]),this.setStyle(this[e(451)]);const i=this[e(455)].getExtent(),n=this._getRectFromExtent(i);this._rectangleFeature=new t.Vector(n,{},this[e(474)]),this[e(434)].addFeature(this[e(457)]),this[e(398)]=this[e(449)](),this[e(473)]()}))}[cy(483)](e){const r=cy,i=e[r(458)](),n=e[r(428)](),s=new t.Point(i),o=new t.Point(n);return new t.Rectangle([s,o])}activate(){const t=cy;let e=this;this._mainMap.event[t(482)](p[t(475)],this[t(459)][t(426)](this)),this.miniMap[t(388)][t(422)](p[t(478)],(function(r){const i=t;if(!e[i(484)]){let t=r[i(387)];e[i(467)][i(485)](t,[i(429)],3)[i(411)]>0?(e[i(407)]=!0,e[i(467)][i(391)][i(427)].cursor="pointer"):(e[i(407)]=!1,e.miniMap[i(391)][i(427)].cursor="context-menu")}})),this[t(467)][t(388)][t(422)](p.MAPMOUSEEVENT_MOUSEUP,this[t(396)][t(426)](this)),this.miniMap[t(388)][t(422)](p[t(454)],(function(r){const i=t;e._miniMapMousedown=!0,e[i(480)]=r.lonlat,e[i(467)].event[i(422)](p[i(478)],e[i(396)].bind(e))})),this.miniMap[t(388)].register(p[t(394)],(function(){const r=t;e._miniMapMousedown=!1,e[r(467)][r(388)][r(450)](p[r(478)],e._updataMainMap[r(426)](e))}))}deactivate(){const t=cy;if(!this[t(455)]||!this[t(467)])return;let e=this;this._mainMap[t(388)][t(432)](p.MAPEVENT_EXTENTCHANGED,e._updataMiniMap[t(426)](this)),this[t(467)].event[t(450)](p[t(478)],this[t(396)][t(426)](this)),this[t(467)].event[t(450)](p[t(394)],this[t(396)][t(426)](this)),this[t(467)][t(388)][t(422)](p.MAPMOUSEEVENT_MOUSEDOWN,(function(){e[t(484)]=!1}))}[cy(462)](t){const e=cy;this.container[e(427)][e(477)]=t}_createPane(e,r){const i=cy,n=document[i(440)](e);return n[i(436)]=r,n.id=t.Aid.createUnique(n.className),n}[cy(390)](t,e){const r=cy,i={zoom:this[r(455)][r(425)]()-this[r(419)]<this[r(435)]?this[r(435)]:this[r(455)][r(425)]()-this._offsetZoom,minLevel:this[r(435)],resolutions:t[r(466)](),center:t.getCenter(),crs:t.getCrs(),enableRotate:!1,enableZoom:!1,enablePan:!1};t[r(391)][r(433)].appendChild(this[r(391)]),this.miniMap=new sg(this[r(391)].id,i,e)}[cy(459)](){const e=cy;if(this[e(484)])return;const r=this[e(455)][e(445)](),i=r[e(458)](),n=r[e(428)](),s=new t.Point(i),o=new t.Point(n),a=this[e(455)][e(425)]()-this[e(419)]<this[e(435)]?this[e(435)]:this[e(455)][e(425)]()-this[e(419)];this[e(424)]=new t.Rectangle([s,o]);const h=new t.Vector(this[e(424)],{},this[e(474)]),l=this._mainMap[e(438)]();this.miniMap.setCenter(l,a),this[e(434)][e(447)](this[e(457)]),this[e(457)]=h,this[e(434)][e(395)](this[e(457)]),this._currentZoom=a}[cy(396)](e){const r=cy,i=e.lonlat,n=i[r(442)]("X"),s=i[r(442)]("Y");switch(e[r(402)]){case r(397):if(!this[r(407)]||!this[r(484)])return;const e=n-this[r(480)][r(442)]("X"),o=s-this._miniMapClickCoord.getOrdinate("Y"),a=this[r(455)].getCenter(),h=new t.Coordinate(a[r(442)]("X")+e,a.getOrdinate("Y")+o);this[r(455)][r(415)](h,this[r(455)].getZoom()),this._rectangleLayer[r(447)](this[r(457)]);const l=this._rectangleFeature.copyTo(h);this[r(434)][r(395)](l),this[r(457)]=l,this[r(480)]=i,this[r(467)][r(391)][r(427)][r(420)]="-webkit-grabbing";break;case"mouseup":this[r(467)][r(415)](this._rectangleFeature.getExtent().getCenter(),this.miniMap[r(425)]())}}[cy(449)](){const t=cy,e=this[t(414)](t(439),t(437));return e[t(427)].cssText=this._hideBtnStyle,e[t(461)]=this[t(423)],this.container[t(441)](e),e[t(404)](t(400),this[t(489)].bind(this)),e}[cy(489)](){const t=cy;this._operateBtn[t(436)]===t(437)?(this._hideMiniMap(),this[t(398)].innerHTML=this[t(452)],this._operateBtn[t(427)][t(477)]=this._showBtnStyle,this._operateBtn[t(436)]=t(443)):(this[t(468)](),this._operateBtn.innerHTML=this[t(423)],this._operateBtn.style[t(477)]=this[t(444)],this[t(398)][t(436)]=t(437))}[cy(406)](){const t=cy;this.container[t(427)].height="0",this.container[t(427)][t(476)]="0",this.container.style[t(470)]="0"}_showMiniMap(){const t=cy;this[t(462)](this[t(451)])}_getMainMapCenter(){const t=cy;return this[t(455)][t(438)]()}[cy(430)](){const t=cy;return this._mainMap[t(425)]()}[cy(456)](){return h[cy(487)]}[cy(453)](){const t=cy;this[t(431)](),this[t(467)]&&this[t(455)]&&(this[t(467)][t(453)](),this[t(455)][t(391)].parentNode.removeChild(this[t(391)]));let e=Object[t(448)](this);for(let r=0,i=e[t(411)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this.__proto__=null}offMap(){const t=cy;this[t(431)](),this[t(467)][t(453)](),this[t(455)][t(391)][t(469)][t(399)](this.container),this._map=null,this[t(455)]=null,this[t(467)]=null}}const fy=["_exclusive","appendChild","activate","toFixed","__proto__","position: absolute;right: 10px;bottom: 10px;color:#526542;font-size:13px;zIndex:999","2rWKfLV","updateMousePosition","map","2IaGYKc","container","setMap","121033ndsIWK","getElementById","2479VRMCVx","4OpscJD","MousePosition","MAPMOUSEEVENT_MOUSEMOVE","style","getAniminate","length","_style","unRegister","getOwnPropertyNames","status","destroy","_animate","offMap","getOrdinate","mapPixel","clone","146971WSYVjJ","panTo","deactivate","hasOwnProperty","_status","parentElement","options","position","div","241566suHqcN","createElement","319793ClPztx","event","28793IOieHA","bind","376976UdCZCF","13IYfExw","_listenKeys","_map","removeChild","62yipgkA","animate"],gy=dy;function dy(t,e){return fy[t-=288]}!function(t,e){const r=dy;for(;;)try{if(940036===-parseInt(r(299))+parseInt(r(318))*parseInt(r(300))+-parseInt(r(320))*-parseInt(r(304))+-parseInt(r(337))*-parseInt(r(312))+parseInt(r(295))+-parseInt(r(321))*parseInt(r(293))+parseInt(r(297))*-parseInt(r(315)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(fy);class _y extends a{constructor(t={}){const e=dy;super(),this[e(302)]=null,this[e(290)]=t||{},this[e(290)][e(340)]("map")&&(this[e(302)]=this[e(290)][e(314)]),this[e(290)].hasOwnProperty(e(305))&&(this._animate=this[e(290)].animate),this[e(290)][e(340)]("status")&&this[e(302)]&&(this[e(288)]=this[e(290)][e(330)]),this[e(327)]=t[e(324)]?t[e(324)]:e(311),this[e(301)]=[],this._status=!1,this[e(306)]=!1}[gy(325)](){return this._animate}setAniminate(t){this[gy(332)]=t}mapPan(t){const e=gy;this._map[e(338)](t,!0)}[gy(317)](t){const e=gy;super[e(317)](t),this[e(291)]=document[e(294)](e(292)),this[e(291)].id=e(291),this.position[e(324)]=this[e(327)],this._map[e(316)][e(289)][e(307)](this[e(291)]),this[e(308)]()}activate(){const t=gy;super[t(308)](),this._map&&!this._status&&(this._status=!0,this[t(302)].event.register(p[t(323)],this[t(313)][t(298)](this)))}[gy(313)](t){const e=gy;let r=this[e(302)].getCoordinateFromPixel(t[e(335)]);document[e(319)](e(291)).innerHTML=r.getOrdinate("X").toFixed(5)+","+r[e(334)]("Y")[e(309)](5)}[gy(339)](){const t=gy;this[t(288)]&&(this._status=!1,this[t(302)][t(296)][t(328)](p[t(323)],this[t(313)].bind(this)))}[gy(336)](){const t=gy;return new V({map:this[t(302)],animate:this._animate,status:this[t(288)]})}[gy(331)](){const t=gy;this[t(339)](),this[t(291)]&&this[t(302)]&&this[t(302)].container[t(289)][t(303)](this[t(291)]);let e=Object[t(329)](this);for(let r=0,i=e[t(326)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this[t(310)]=null}[gy(333)](){const t=gy;this[t(339)](),this[t(302)]&&this[t(291)]&&this._map.container[t(289)].removeChild(this.position),this._map=null}getControlType(){return h[gy(322)]}}const yy=["style","922CFlTXB","left","ScaleBar","width: 100%;height: 20px;text-align: center","toFixed","degrees","scaleTextStyle","10px","MAPEVENT_ZOOMCHANGED","getResolution","1042743PrsuIM","1483504GUVuzC","_scaleBarStyle","_scaleText","_map","1672605MBfIrB","408CyMEry","getControlType","ceil","1485585WaAQkg","removeChild","removeListener","bind","scaleBar","offMap","length","deactivate","zIndex","activate","bottom","setMap","div","2818DTsawZ","scale","scaleBarStyle","47253PVRlQn","__proto__","pow","createElement","_scale","_scaleTextStyle","_unit_km","absolute","container","destroy","_unit","language","event","getOwnPropertyNames","scaleText","position","1774mhLIsu","_scaleBarLength","getElementById","_unit_m","toString","_exclusive","parentElement","_dom","innerHTML","appendChild","updateScaleBar","38HVgNPo","width","getCrs"];function my(t,e){return yy[t-=490]}const Iy=my;!function(t,e){const r=my;for(;;)try{if(952589===-parseInt(r(494))*parseInt(r(525))-parseInt(r(528))-parseInt(r(519))-parseInt(r(524))+parseInt(r(505))*parseInt(r(544))+parseInt(r(520))+-parseInt(r(509))*-parseInt(r(541)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(yy);class xy extends a{constructor(e={}){const r=my;super();const i=ny[t.initState[r(555)]];this[r(497)]=i.m,this[r(550)]=i.km,this[r(554)]=this._unit_m,this[r(495)]=150,this[r(522)]=500,this._scaleTextStyle=e.scaleTextStyle?e[r(515)]:r(512),this[r(521)]=e[r(543)]?e[r(543)]:"width: 100%; height: 3px; background-color: #cccccc",this[r(499)]=!1}[Iy(537)](){const t=Iy;super[t(537)](),this.updateScaleBar(),this[t(523)][t(490)].addListener(p[t(517)],this.updateScaleBar[t(531)](this))}[Iy(535)](){const t=Iy;this[t(523)].event[t(530)](p[t(517)],this.updateScaleBar.bind(this))}[Iy(504)](){const t=Iy;this._scaleBarLength=150;let e=150*this[t(523)][t(518)]();this[t(523)][t(507)]().getUnit()==t(514)&&(e*=111e3),e>1e3?(this[t(554)]=this._unit_km,this._scale=1e3):(this[t(554)]=this[t(497)],this[t(548)]=1);let r=e;r=r[t(513)](0);const i=r.toString()[t(534)],n=Number.parseInt(e[t(498)]().substr(0,1));n<2?r=1*Math.pow(10,i-1):n<5?r=2*Math[t(546)](10,i-1):n<10&&(r=5*Math[t(546)](10,i-1)),this[t(495)]=Math[t(527)](this[t(495)]*r/e),this[t(522)]=(r/this[t(548)]).toFixed(0),document[t(496)](t(542))[t(508)][t(506)]=this[t(495)]+"px",document[t(496)](t(492))[t(502)]=this[t(522)]+" "+this._unit}[Iy(539)](t){const e=Iy;super[e(539)](t),this.scale=document[e(547)](e(540));const r=this.scale;r.id=e(542),r[e(508)][e(493)]=e(551),r.style[e(510)]=e(516),r.style[e(538)]=e(516),r[e(508)][e(536)]=999,this[e(523)].container[e(500)].appendChild(r);let i=document[e(547)](e(540));i.id=e(492);let n=document[e(547)](e(540));n.id=e(532),r[e(503)](i),r[e(503)](n),i[e(508)]=this[e(549)],n[e(508)]=this[e(521)],this.activate()}setTarget(t){this[Iy(501)]=t}[Iy(553)](){const t=Iy;this[t(542)]&&this._map&&(this.deactivate(),this._map.container.parentElement.removeChild(this[t(542)]));let e=Object[t(491)](this);for(let r=0,i=e[t(534)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this[t(545)]=null}[Iy(533)](){const t=Iy;this[t(535)](),this[t(542)]&&this[t(523)][t(552)].parentElement[t(529)](this[t(542)]),this[t(523)]=null}[Iy(526)](){return h[Iy(511)]}}var vy=["61crygjH","599252SEhXby","203463bswgeV","7pMYMmp","150443JLbyII","106115CYjExq","111782RyVUxi","424394vtjimh","12041cqDtJp"];function by(t,e){return vy[t-=249]}!function(t,e){for(var r=by;;)try{if(648850===parseInt(r(253))+parseInt(r(251))+parseInt(r(257))+parseInt(r(250))*parseInt(r(252))+parseInt(r(256))*-parseInt(r(255))+parseInt(r(249))+-parseInt(r(254)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(vy);var wy=Object.freeze({__proto__:null,controlType:h,PlotTypes:H_,Control:a,Compass:_,Magnifier:lg,Measure:hy,MiniMap:py,MousePosition:_y,MouseTipControl:X_,Pan:V,Plot:z_,Rotate:j,ScaleBar:xy,Zoom:W}),Ty=["3121Ehemxp","105163JVbSbg","86743zYSHNN","350737lHruXi","1joezik","7ojiMKW","171JxsrmF","250963qJsPJM","865708njugpP","86849IIsCZd"];function Ey(t,e){return Ty[t-=118]}!function(t,e){for(var r=Ey;;)try{if(344830===parseInt(r(126))+-parseInt(r(125))*parseInt(r(118))+parseInt(r(124))+-parseInt(r(122))+parseInt(r(120))*parseInt(r(127))+parseInt(r(119))*-parseInt(r(123))+parseInt(r(121)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ty);var Cy=Object.freeze({__proto__:null,accessorTypeToNumComponentsMap:t.accessorTypeToNumComponentsMap,glTypeToTypedArrayMap:t.glTypeToTypedArrayMap,imageMimeTypeMap:t.imageMimeTypeMap,defaultMaterial:t.defaultMaterial,GLTF:t.GLTF,TRS:t.TRS,Node:t.Node,MeshRender:t.MeshRender}),Ay=["1HUKjhr","setIntensity","858513tlLuym","setColor","hasOwnProperty","1813269TfkZqK","1414002OkpVJL","color","34vyjBPF","3435EWRsNn","intensity","2DGjZiL","toNormalizeArray","_init","getIntensity","619337EUiaSC","130692URuvAW","1677865dUupzf"],My=Sy;function Sy(t,e){return Ay[t-=110]}!function(t,e){for(var r=Sy;;)try{if(912339===parseInt(r(114))+parseInt(r(115))+-parseInt(r(121))+parseInt(r(127))*-parseInt(r(113))+parseInt(r(116))*parseInt(r(118))+parseInt(r(125))*-parseInt(r(124))+parseInt(r(122)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ay);class Py extends Hf{constructor(e={}){var r=Sy;super(e),this[r(123)]=e[r(123)]?e[r(123)]:new t.Color(255,255,255),this[r(126)]=e[r(120)](r(126))?e.intensity:.2,this[r(111)]()}_init(){var t=Sy;this._colorArr=this[t(123)][t(110)]()}getColor(){return this.color}[My(119)](t){this[My(123)]=t}[My(117)](t){this[My(126)]=t}[My(112)](){return this[My(126)]}}var Ry=["556476yJYopY","1002436wdZfOg","intensity","getMaxDistance","getNormalColorArr","setMaxDistance","distance","getIntensity","5GgBwbd","5987HdlZxI","173168qMMixZ","decay","5gGBELV","setColor","hasOwnProperty","5148qqgMvw","position","setPosition","color","getPosition","setIntensity","maxDistance","getColor","938900ElTMZR","634162hEFEQD"],Ly=Fy;function Fy(t,e){return Ry[t-=314]}!function(t,e){for(var r=Fy;;)try{if(860237===parseInt(r(319))+-parseInt(r(332))*-parseInt(r(330))+parseInt(r(329))+-parseInt(r(328))*parseInt(r(335))+-parseInt(r(321))+-parseInt(r(320))+parseInt(r(318)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ry);class Dy extends Hf{constructor(t={}){var e=Fy;super(t),this[e(336)]=t[e(336)]?t[e(336)]:[0,0,1],this[e(326)]=t[e(334)](e(326))?t.distance:0,this[e(331)]=t[e(331)]?t[e(331)]:1}[Ly(314)](){return this[Ly(336)]}[Ly(337)](t){this.position=t}[Ly(317)](){return this[Ly(338)]}[Ly(324)](){return this._colorArr}[Ly(333)](t){this.color=t}[Ly(315)](t){this[Ly(322)]=t}[Ly(327)](){return this[Ly(322)]}[Ly(325)](t){this[Ly(316)]=t}[Ly(323)](){return this[Ly(316)]}setDecay(t){this.decay=t}getDecay(){return this[Ly(331)]}}var Oy=["272039OoBMeQ","direction","145byVcDD","105442TodzYI","103hSerqf","462883bQGJFZ","outAngle","5tfZdou","1285riTMji","389KOmDfc","hasOwnProperty","innerAngle","628szDipp","330uBEfEB","91621itcyDL"];function Ny(t,e){return Oy[t-=158]}!function(t,e){for(var r=Ny;;)try{if(248894===-parseInt(r(166))*parseInt(r(162))+parseInt(r(158))+parseInt(r(172))*parseInt(r(165))+-parseInt(r(163))+parseInt(r(160))*parseInt(r(170))+-parseInt(r(161))+parseInt(r(167))*parseInt(r(171)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Oy);class By extends Dy{constructor(t={}){var e=Ny;super(t),this[e(169)]=t[e(168)]("innerAngle")?t.innerAngle:60,this.outAngle=t[e(168)](e(164))?t[e(164)]:65,this.direction=t[e(168)](e(159))?t[e(159)]:[0,0,-1]}}const Uy=["Ambient","repeat",'Image type "',"mapping","URL","getInt16","XYZ","genFace","anisotropy","resolveURL","Geometry","map","phong","decompose","group","GeometricScaling","ambientLights","enabled","AmbientColor","value","parseGeometry","children","setPosition","parseSubNode","Materials","error","getNormalMatrix","jpg","blob:","flipY","loadPromise","Properties70","getArrayBuffer","makeRotationFromEuler","Vector","http://www.w3.org/1999/xhtml","quaternion","Unknown light type ","bumpScale","eulerOrder","parseConnections","onLoad","image/jpeg","size","37ExPccI","set","the arraybuffer of parse is not Fbx Format Binary","substract","Opacity","Normals","type ","materialType","YXZ","getTexture","length","origin","Root","UNSIGNED_BYTE","getInt32","Lcl_Translation","parseScene","normal","tga","DiffuseFactor","files","parseTexture","EnableFarAttenuation","XZY","1662026YzxjJV","Shininess","createMesh","Lcl_Rotation","getInt32Array","parseProperty","SpecularColor","modelMatrix","Model","MappingInformationType","matrixWorld","createCurve","setPath","png","fbxTree","image/tiff","tga textures are not supported yet","GeometricTranslation","colors","uvs","OuterAngle","Connections","img","getUint32","materialIndex","image/bmp","split","createAmbientLight","diffuse","parseTextures","type",";base64,","fromCharCode","onUpdate","reflectionFactor","indices","Objects","width","spotLights","position","NoMappingInformation","getFloat64Array","Mesh","arraybuffer","parseUVs","_elements","itemStart","number","userData","lastIndexOf","LimbNode","vertexColors","parentMatrixWorld","postRotation","data:","ByPolygon","parents","copyPosition","src","geometry","LayerElementColor","translation","magFilter","createElement","matrix","genGeometry","_modelCenter","jpeg","getFloat32Array","preRotation","start","_calcTransformDirection","image","ShadingModel","then","Scaling","979506zHxbga","FBXLoader: unknown attribute mapping type ","YZX","replace","LINEAR","ColorRGB","root","end","center","getInt64Array","scalingOffset","pointLights","toLowerCase","parse","dataApplyMatrix4","NormalsIndex","16701LcZOBP","getString","getUint8","Filename","WrapModeU","getInt64","IndexToDirect","Lcl_Scaling","shadingModel","parseImages","item","color","unknown property type ","UVIndex","loadTexture","setInverseOf","GeometricRotation","specular","format","ByVertice","parent","parseModels","RotationOffset","vertexWeights","Specular","CastLightOnObject","FarAttenuationEnd","singleProperty","distanceToCamera","1271549EnWugp","applyMatrix4","directionLights","Intensity","setIdentity","createLight","drawImage","wrapT","addEventListener","1xbKQCP","Color","multiply","NurbsCurve","skip","rayIntersectTriangle","add","LayerElementUV","multiplyVector3","indexOf","LayerElementNormal","1pQxMYt","Video","onError","compose","getTransformData","path","extractRotation","dataApplyMatrix3","ZYX","Lcl ","name","wrapS","parseParameters","the parameter should be boolean type.","getFloat64","tif","NodeAttribute","propertyList","RotationOrder","url","unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.","ColorIndex","vertex","littleEndian","crossOrigin","_selected","InheritType","SpecularFactor","manager","inheritType",'" is not supported.',"generateMipmaps","lambert","Camera","matrixAutoUpdate","createObjectURL","EmissiveColor","parseVertexColors","PolygonVertexIndex","parseNormals","EmissiveFactor","CLAMP_TO_EDGE","Kaydara FBX Binary  \0","RelativeFilename","emissive","parseMeshGeometry","Vertices","substr","push","material","offset","vertexIndices","GlobalSettings","onStart","object","toString","reflectivity","getOffset","AllSame","rotationPivot","657910GxrzkJ","LightType","createElementNS","arrayBuffer","ByPolygonVertex","keys","REPEAT","weightsIndices","mappingType","ambient","getContext","intersectRay","VertexColors","DiffuseColor","dataSize","getBooleanArray","DisplacementFactor","warn","opacity","1313035lVYaoa","parseMaterials","string","scalingPivot","LayerElementMaterial","parseNode","boolean","attrName","canvas","BumpFactor","itemEnd","parseImage","parseGeoNode","load","Lcl_","emissiveFactor","forEach","buffer","shininess","get","ReferenceInformationType","byteLength","scale","NormalIndex","applyMatrix","diffuseFactor","Material","applyMatrix3","pop","getFloat32","1cZyKWP","rotationOffset","setCrossOrigin","PoseNode","InnerAngle","lights","skeleton","Content","Light","height","WrapModeV","direction","updateMatrix","getUint64","rotation","referenceType","1495003GIsmsc","textureLoader","parseMaterialIndices","setURLModifier","PreRotation","fromArray","RGBA","premultiply","endOfContent","has","getBoolean","onProgress","ReflectionFactor","vertexPositions","Texture","itemError","ZXY","attrType","Vector3D","Diffuse","getElements","undefined","displacementScale","connections","slice"],ky=Vy;function Vy(t,e){return Uy[t-=265]}!function(t,e){const r=Vy;for(;;)try{if(868786===-parseInt(r(292))*-parseInt(r(408))+parseInt(r(582))*parseInt(r(446))-parseInt(r(536))+parseInt(r(316))+parseInt(r(517))*parseInt(r(566))+-parseInt(r(392))+-parseInt(r(457))*parseInt(r(437)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Uy);class Gy{constructor(t){const e=Vy;this.url=t,this[e(462)]=-1===this.url[e(365)]("/")?"./":this.url[e(504)](0,this[e(476)][e(365)]("/")+1)}[ky(405)](t){const e=ky;fetch(this[e(476)],{method:"get",responseType:e(359)})[e(390)]((t=>t[e(520)]()))[e(390)]((r=>{let i=function(t,e){const r=ky;if(!function(t){const e=ky;let r=e(499);return t[e(557)]>=r[e(302)]&&r===function(t,e,r){const i=ky;void 0===e&&(e=0);void 0===r&&(r=t[i(557)]);return zy(new Uint8Array(t,e,r))}(t,0,r[e(302)])}(t))return void console[r(273)](r(294));let i=(new Hy)[r(405)](t);return new Yy(e,i)[r(405)]()}(r,this[e(462)]);"function"==typeof t&&t(i)}))}}function zy(t){const e=ky;if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let r="";for(let i=0,n=t[e(302)];i<n;i++)r+=String[e(348)](t[i]);return decodeURIComponent(escape(r))}class Hy{constructor(){}parse(t){const e=ky;let r=new jy(t);r[e(450)](23);let i=r[e(339)](),n={};for(;!this[e(590)](r);){let t=this[e(541)](r,i);null!==t&&(n[t.name]=t)}return n}[ky(590)](t){const e=ky;return t[e(291)]()%16==0?(t.getOffset()+160+16&-16)>=t[e(291)]():t[e(514)]()+160+16>=t.size()}[ky(541)](t,e){const r=ky;let i={},n=e>=7500?t[r(579)]():t.getUint32(),s=e>=7500?t[r(579)]():t[r(339)]();e>=7500?t[r(579)]():t[r(339)]();let o=t[r(410)](),a=t[r(409)](o);if(0===n)return null;let h=[];for(let e=0;e<s;e++)h[r(505)](this[r(321)](t));let l=h[r(302)]>0?h[0]:"",c=h[r(302)]>1?h[1]:"",u=h[r(302)]>2?h[2]:"";for(i[r(435)]=1===s&&t[r(514)]()===n;n>t[r(514)]();){let n=this[r(541)](t,e);null!==n&&this.parseSubNode(a,i,n)}return i.propertyList=h,typeof l===r(363)&&(i.id=l),""!==c&&(i[r(543)]=c),""!==u&&(i[r(599)]=u),""!==a&&(i[r(467)]=a),i}[ky(271)](t,e,r){const i=ky;if(!0===r[i(435)]){let t=r[i(474)][0];Array.isArray(t)?(e[r[i(467)]]=r,r.a=t):e[r[i(467)]]=t}else if("Connections"===t&&"C"===r[i(467)]){let t=[];r[i(474)][i(552)]((function(e,r){0!==r&&t[i(505)](e)})),void 0===e[i(605)]&&(e[i(605)]=[]),e[i(605)][i(505)](t)}else if(r[i(467)]===i(279)){Object[i(522)](r).forEach((function(t){e[t]=r[t]}))}else if(t===i(279)&&"P"===r[i(467)]){let t,n=r[i(474)][0],s=r[i(474)][1],o=r[i(474)][2],a=r[i(474)][3];0===n[i(455)](i(466))&&(n=n[i(395)](i(466),i(550))),0===s[i(455)](i(466))&&(s=s[i(395)]("Lcl ",i(550))),t=s===i(447)||s===i(397)||s===i(282)||s===i(600)||0===s.indexOf("Lcl_")?[r[i(474)][4],r.propertyList[5],r[i(474)][6]]:r[i(474)][4],e[n]={type:s,type2:o,flag:a,value:t}}else void 0===e[r.name]?typeof r.id===i(363)?(e[r[i(467)]]={},e[r[i(467)]][r.id]=r):e[r[i(467)]]=r:r[i(467)]===i(569)?(!Array.isArray(e[r[i(467)]])&&(e[r.name]=[e[r[i(467)]]]),e[r[i(467)]].push(r)):void 0===e[r[i(467)]][r.id]&&(e[r.name][r.id]=r)}[ky(321)](e){const r=ky;let i=e[r(409)](1);switch(i){case"C":return e[r(592)]();case"D":return e[r(471)]();case"F":return e.getFloat32();case"I":return e[r(306)]();case"L":return e[r(413)]();case"R":return e[r(280)](e[r(339)]());case"S":return e[r(409)](e.getUint32());case"Y":return e[r(612)]();case"b":case"c":case"d":case"f":case"i":case"l":let n=e[r(339)](),s=e[r(339)](),o=e.getUint32();if(0===s)switch(i){case"b":case"c":return e[r(532)](n);case"d":return e.getFloat64Array(n);case"f":return e[r(384)](n);case"i":return e[r(320)](n);case"l":return e[r(401)](n)}typeof t.Inflate===r(603)&&console[r(273)]("util Inflate required");let a=new t.Inflate(new Uint8Array(e.getArrayBuffer(o))),h=new jy(a.decompress()[r(553)]);switch(i){case"b":case"c":return h[r(532)](n);case"d":return h[r(357)](n);case"f":return h.getFloat32Array(n);case"i":return h[r(320)](n);case"l":return h[r(401)](n);default:throw new Error(r(420)+i)}}}}class jy{constructor(t,e){const r=ky;this.dv=new DataView(t),this[r(507)]=0,this.littleEndian=void 0===e||e}[ky(514)](){return this[ky(507)]}[ky(291)](){const t=ky;return this.dv[t(553)].byteLength}[ky(450)](t){this[ky(507)]+=t}[ky(592)](){return 1==(1&this[ky(410)]())}getBooleanArray(t){const e=ky;let r=[];for(let i=0;i<t;i++)r.push(this[e(592)]());return r}getUint8(){const t=ky;let e=this.dv[t(410)](this[t(507)]);return this.offset+=1,e}[ky(612)](){const t=ky;let e=this.dv[t(612)](this[t(507)],this.littleEndian);return this[t(507)]+=2,e}[ky(306)](){const t=ky;let e=this.dv[t(306)](this[t(507)],this[t(480)]);return this[t(507)]+=4,e}[ky(320)](t){const e=ky;let r=[];for(let i=0;i<t;i++)r.push(this[e(306)]());return r}getUint32(){const t=ky;let e=this.dv[t(339)](this[t(507)],this[t(480)]);return this[t(507)]+=4,e}getInt64(){const t=ky;let e,r;return this[t(480)]?(e=this[t(339)](),r=this.getUint32()):(r=this[t(339)](),e=this[t(339)]()),2147483648&r?(r=4294967295&~r,e=4294967295&~e,4294967295===e&&(r=r+1&4294967295),e=e+1&4294967295,-(4294967296*r+e)):4294967296*r+e}[ky(401)](t){const e=ky;let r=[];for(let i=0;i<t;i++)r[e(505)](this[e(413)]());return r}[ky(579)](){const t=ky;let e,r;return this[t(480)]?(e=this[t(339)](),r=this[t(339)]()):(r=this[t(339)](),e=this[t(339)]()),4294967296*r+e}[ky(565)](){const t=ky;let e=this.dv[t(565)](this.offset,this[t(480)]);return this[t(507)]+=4,e}[ky(384)](t){const e=ky;let r=[];for(let i=0;i<t;i++)r[e(505)](this.getFloat32());return r}getFloat64(){const t=ky;let e=this.dv[t(471)](this[t(507)],this[t(480)]);return this[t(507)]+=8,e}[ky(357)](t){const e=ky;let r=[];for(let i=0;i<t;i++)r[e(505)](this.getFloat64());return r}[ky(280)](t){const e=ky;let r=this.dv[e(553)][e(606)](this.offset,this[e(507)]+t);return this.offset+=t,r}[ky(409)](t){const e=ky;let r=[];for(let e=0;e<t;e++)r[e]=this.getUint8();let i=r[e(455)](0);return i>=0&&(r=r[e(606)](0,i)),zy(new Uint8Array(r))}}class Yy{constructor(t,e){const r=ky;this[r(330)]=e;let i=new Jy;this[r(583)]=new Qy(i)[r(328)](t)}[ky(405)](){const t=ky;this[t(605)]=this[t(288)]();let e=this[t(417)](),r=this[t(345)](e),i=this[t(537)](r),n=new $y(this[t(330)],this[t(605)]).parse();return this.parseScene(n,i)}[ky(288)](){const t=ky;let e=new Map;if("Connections"in this[t(330)]){this[t(330)][t(337)][t(605)][t(552)]((function(r){const i=t;let n=r[0],s=r[1],o=r[2];!e[i(591)](n)&&e[i(293)](n,{parents:[],children:[]});let a={ID:s,relationship:o};e.get(n).parents[i(505)](a),!e[i(591)](s)&&e[i(293)](s,{parents:[],children:[]});let h={ID:n,relationship:o};e[i(555)](s)[i(269)][i(505)](h)}))}return e}[ky(417)](){const t=ky;let e={},r={};if("Video"in this.fbxTree[t(352)]){let i=this[t(330)][t(352)][t(458)];for(let n in i){let s=i[n];if(e[parseInt(n)]=s[t(500)]||s[t(411)],t(573)in s){let e=s[t(573)]instanceof ArrayBuffer&&s[t(573)][t(557)]>0,o="string"==typeof s[t(573)]&&""!==s[t(573)];if(e||o){let e=this[t(547)](i[n]);r[s[t(500)]||s.Filename]=e}}}}for(let i in e){let n=e[i];void 0!==r[n]?e[i]=r[n]:e[i]=e[i][t(342)]("\\")[t(564)]()}return e}[ky(547)](t){const e=ky;let r,i=t[e(573)],n=t[e(500)]||t[e(411)],s=n[e(606)](n[e(365)](".")+1)[e(404)]();switch(s){case"bmp":r=e(341);break;case e(275):case e(383):r=e(290);break;case e(329):r="image/png";break;case e(472):r=e(331);break;case e(310):r="image/tga";break;default:return void console[e(534)](e(609)+s+e(487))}if(typeof i===e(538))return e(370)+r+e(347)+i;{let t=new Uint8Array(i);return window[e(611)][e(492)](new Blob([t],{type:r}))}}parseTextures(t){const e=ky;let r=new Map;if(e(596)in this[e(330)][e(352)]){let i=this[e(330)].Objects[e(596)];for(let n in i){let s=this[e(313)](i[n],t);r[e(293)](parseInt(n),s)}}return r}parseTexture(t,e){const r=ky;let i=this[r(422)](t,e);i.ID=t.id,i[r(467)]=t[r(543)];let n=t[r(412)],s=t[r(576)],o=void 0!==n?n[r(267)]:0,a=void 0!==s?s[r(267)]:0;if(i[r(468)]=0===o?r(523):"CLAMP_TO_EDGE",i[r(444)]=0===a?"REPEAT":"CLAMP_TO_EDGE",r(391)in t){let e=t[r(391)][r(267)];i[r(608)].x=e[0],i[r(608)].y=e[1]}return i}loadTexture(t,e){const r=ky;let i,n=this[r(583)][r(462)],s=this.connections.get(t.id)[r(269)];void 0!==s&&s[r(302)]>0&&void 0!==e[s[0].ID]&&(i=e[s[0].ID],(0===i[r(455)](r(276))||0===i[r(455)](r(370)))&&this[r(583)][r(328)](void 0));let o,a=t.FileName.slice(-3)[r(404)]();return a===r(310)?console[r(534)](r(332)):"psd"===a?(console[r(534)]("PSD textures are not supported yet"),o={}):o=this[r(583)][r(549)](i),this.textureLoader[r(328)](n),o}[ky(537)](t){const e=ky;let r=new Map;if("Material"in this.fbxTree[e(352)]){let i=this[e(330)][e(352)][e(562)];for(let n in i){let s=this.parseMaterial(i[n],t);null!==s&&r[e(293)](parseInt(n),s)}}return r}parseMaterial(t,e){const r=ky;let i=t.id,n=t.attrName,s=t[r(389)];if(typeof s===r(511)&&(s=s[r(267)]),!this[r(605)][r(591)](i))return null;let o=this[r(469)](t,e,i),a=new Pa(o);switch(s.toLowerCase()){case r(619):a[r(299)]=r(619);break;case r(489):a[r(299)]="lambert";break;default:a[r(299)]=r(619)}return a[r(416)]=s,a.ID=i,a.name=n,a}[ky(469)](t,e,r){const i=ky;let n={};t[i(545)]&&(n[i(286)]=t[i(545)].value),t[i(607)]?n.ambient=t[i(607)].value:t[i(266)]&&t[i(266)][i(346)]===i(447)&&(n[i(526)]=t.AmbientColor[i(267)]),t[i(533)]&&(n[i(604)]=t.DisplacementFactor[i(267)]),t[i(296)]?n[i(535)]=parseFloat(t.Opacity.value):n.opacity=1,t.ReflectionFactor&&(n[i(350)]=t.ReflectionFactor[i(267)]),t.Diffuse?n[i(344)]=t[i(601)][i(267)]:t.DiffuseColor&&t.DiffuseColor[i(346)]===i(447)&&(n[i(344)]=t[i(530)][i(267)]),t[i(311)]&&(n[i(561)]=parseFloat(t.DiffuseFactor.value)),t.Emissive?n.emissive=t.Emissive[i(267)]:t[i(493)]&&t[i(493)][i(346)]===i(447)&&(n[i(501)]=t.EmissiveColor[i(267)]),t[i(497)]&&(n[i(551)]=parseFloat(t[i(497)].value)),t[i(432)]?n[i(425)]=t[i(432)][i(267)]:t[i(322)]&&"Color"===t.SpecularColor.type&&(n[i(425)]=t.SpecularColor[i(267)]),t[i(484)]&&(n.specularFactor=t[i(484)][i(267)]),t[i(317)]&&(n[i(554)]=t[i(317)].value),t[i(594)]&&(n[i(513)]=t.ReflectionFactor[i(267)]);let s=this;return this[i(605)][i(555)](r).children[i(552)]((function(t){const r=i;n[r(618)]=s[r(301)](e,t.ID)})),n}getTexture(t,e){const r=ky;return"LayeredTexture"in this[r(330)][r(352)]&&e in this[r(330)][r(352)].LayeredTexture&&(console[r(534)]("FBXLoader: layered textures are not supported in yet. Discarding all but first layer."),e=this.connections.get(e)[r(269)][0].ID),t[r(555)](e)}[ky(308)](t,e){const r=ky;let i=new im;i[r(403)]=[],i.spotLights=[],i[r(439)]=[],i[r(623)]=[];let n=this.parseModels(t,e),s=this.connections;n[r(552)]((function(t){const e=r;s[e(555)](t.ID)[e(372)][e(552)]((function(r){const i=e;let s=n[i(555)](r.ID);void 0!==s&&(t[i(428)]=s,s[i(269)][i(505)](t))})),!t.parent&&i.children[e(505)](t)}));for(let t in n[r(571)]){let e=n.lights[t];e instanceof Dy?i[r(403)][r(505)](e):e instanceof Xf?i[r(439)].push(e):e instanceof By&&i[r(354)][r(505)](e)}return this.createAmbientLight(i),i}[ky(343)](){const e=ky;if(e(509)in this[e(330)]&&e(266)in this.fbxTree[e(509)]){let r=this[e(330)][e(509)][e(266)][e(267)],i=r[0],n=r[1],s=r[2];(0!==i||0!==n||0!==s)&&modelGroup[e(623)].push(new Py({color:new t.Color(i,n,s)}))}}[ky(429)](t,e){const r=ky;let i=new Map;i[r(571)]=[];let n=this.fbxTree[r(352)][r(324)];for(let s in n){let o=parseInt(s),a=n[s],h=this[r(605)][r(555)](o),l=null;switch(a[r(599)]){case r(490):l=new im;break;case r(574):l=this[r(442)](h);break;case r(358):l=this[r(318)](h,t,e);break;case"NurbsCurve":l=new im;break;case r(366):case r(304):default:l=new im}if(l)if(l instanceof im){l[r(467)]=a.attrName,l.ID=o;let t=Xy(this[r(461)](a));l[r(560)](t),i[r(293)](o,l)}else i.lights[r(505)](l);else console.warn(r(298)+a.attrType+" is not supported yet!")}return i}createLight(e){const r=ky;let i,n,s=this;if(e.children[r(552)]((function(t){const e=r;let i=s[e(330)][e(352)][e(473)][t.ID];void 0!==i&&(n=i)})),void 0===n)i=new Object3D;else{let e;e=void 0===n[r(518)]?0:n[r(518)].value;let s=new t.Color(255,255,255);void 0!==n[r(447)]&&(s=s.fromArray(n[r(447)][r(267)]));let o=void 0===n.Intensity?1:n[r(440)][r(267)]/100;void 0!==n.CastLightOnObject&&0===n[r(433)][r(267)]&&(o=0);let a=0;void 0!==n.FarAttenuationEnd&&(a=void 0!==n[r(314)]&&0===n[r(314)][r(267)]?0:n[r(434)].value);let h=1;switch(e){case 0:i=new Dy({color:s,intensity:o,distance:a,decay:h});break;case 1:i=new Xf({color:s,intensity:o});break;case 2:let t=60;void 0!==n[r(570)]&&(t=n[r(570)][r(267)]);let e=60;void 0!==n[r(336)]&&(e=n[r(336)][r(267)]),i=new By({color:s,intensity:o,distance:a,innerAngle:t,outAngle:e,decay:h});break;default:console[r(534)](r(285)+n[r(518)][r(267)]+", defaulting to a PointLight."),i=new Dy(s,o)}}return i}[ky(318)](t,e,r){const i=ky;let n=[],s=new im;return t[i(269)][i(552)]((function(t){const o=i;if(e[o(591)](t.ID)&&(s.geometry=e.get(t.ID)),r[o(591)](t.ID)){let e=r[o(555)](t.ID);e.id=t.ID,n[o(505)](e)}})),s[i(506)]=n,s[i(375)]&&s[i(375)][i(555)](i(419))&&n.forEach((function(t){const e=i;s[e(506)][e(367)]=e(529)})),s}[ky(327)](t,e){const r=ky;t[r(269)].reduce((function(t,i){const n=r;return e[n(591)](i.ID)&&(t=e[n(555)](i.ID)),t}),null)}[ky(461)](t){const e=ky;let r={};return e(475)in t&&(r[e(287)]=parseInt(t.RotationOrder[e(267)])),e(307)in t&&(r[e(377)]=t[e(307)].value),e(430)in t&&(r[e(567)]=t[e(430)].value),e(319)in t&&(r.rotation=t.Lcl_Rotation[e(267)]),e(586)in t&&(r[e(385)]=t.PreRotation[e(267)]),"PostRotation"in t&&(r.postRotation=t.PostRotation[e(267)]),e(415)in t&&(r[e(558)]=t.Lcl_Scaling[e(267)]),r}}class $y{constructor(t,e){const r=ky;this[r(330)]=t,this[r(605)]=e}[ky(405)](){const t=ky;let e=new Map;if(t(617)in this.fbxTree.Objects){let r=this.fbxTree.Objects.Geometry;for(let i in r){let n=this.connections[t(555)](parseInt(i)),s=this[t(268)](n,r[i]);s&&e[t(293)](parseInt(i),s)}}return e}[ky(268)](t,e){const r=ky;switch(e.attrType){case r(358):return this.parseMeshGeometry(t,e,this[r(330)]);case r(449):}}[ky(502)](t,e){const r=ky;let i=this[r(330)],n=t[r(372)].map((function(t){return i[r(352)].Model[t.ID]}));if(0===n[r(302)])return;let s=n[0],o={};r(475)in s&&(o[r(287)]=Zy(s[r(475)][r(267)])),r(483)in s&&(o[r(486)]=parseInt(s[r(483)][r(267)])),r(333)in s&&(o[r(377)]=s.GeometricTranslation.value),r(424)in s&&(o[r(580)]=s[r(424)][r(267)]),r(622)in s&&(o[r(558)]=s[r(622)][r(267)]);let a=Xy(o);return this.genGeometry(e,a)}[ky(381)](e,r){const i=ky,n=new Map;n[i(621)]=new Array,e[i(543)]&&(n[i(467)]=e[i(543)]);let s=this.parseGeoNode(e),o=this.genBuffers(s),a=this.dataApplyMatrix4(o[i(479)],r);if(n[i(293)](i(355),{item:new Float32Array(a),itemSize:3}),o[i(334)].length>0&&n[i(293)]("color",{item:new Float32Array(o[i(334)]),itemSize:3}),o[i(309)][i(302)]>0){let e=(new t.Matrix3)[i(274)](r),s=this.dataApplyMatrix3(o[i(309)],e);n[i(293)]("normal",{item:new Float32Array(s),itemSize:3})}if(o[i(335)][i(552)]((function(t,e){const r=i;let s="uv"+(e+1)[r(512)]();0===e&&(s="uv"),n[r(293)](s,{item:new Float32Array(o[r(335)][e]),itemSize:2})})),s[i(506)]&&s[i(506)][i(525)]!==i(515)){let t=o[i(340)][0],e=0;if(o[i(340)][i(552)]((function(r,s){const o=i;r!==t&&(n.group[o(505)]({start:e,count:s-e,materialIndex:t}),t=r,e=s)})),n[i(621)][i(302)]>0){let e=n[i(621)][n[i(621)][i(302)]-1],r=e[i(386)]+e.count;r!==o[i(340)][i(302)]&&n[i(621)][i(505)]({start:r,count:o.materialIndex[i(302)]-r,materialIndex:t})}0===n[i(621)][i(302)]&&n[i(621)][i(505)]({start:0,count:o.materialIndex[i(302)],materialIndex:o[i(340)][0]})}return n}[ky(464)](e,r){const i=ky;let n=new t.Vector3;if(e instanceof Array){let t=e[i(302)]/3;for(let s=0;s<t;s++){n.set(e[3*s],e[3*s+1],e[3*s+2]),n[i(563)](r);let t=n[i(602)]();e[3*s]=t[0],e[3*s+1]=t[1],e[3*s+2]=t[2]}}return e}[ky(406)](e,r){const i=ky;let n=new t.Vector3;if(e instanceof Array){let t=e[i(302)]/3;for(let s=0;s<t;s++){n[i(293)](e[3*s],e[3*s+1],e[3*s+2]),n[i(438)](r);let t=n.getElements();e[3*s]=t[0],e[3*s+1]=t[1],e[3*s+2]=t[2]}}return e}[ky(548)](t){const e=ky;let r={};if(r[e(595)]=void 0!==t[e(503)]?t[e(503)].a:[],r.vertexIndices=void 0!==t.PolygonVertexIndex?t[e(495)].a:[],t[e(376)]&&(r.color=this[e(494)](t.LayerElementColor[0])),t[e(540)]&&(r[e(506)]=this[e(584)](t[e(540)][0])),t[e(456)]&&(r.normal=this[e(496)](t[e(456)][0])),t[e(453)]){r.uv=[];let i=0;for(;t[e(453)][i];)r.uv[e(505)](this[e(360)](t.LayerElementUV[i])),i++}return r.weightTable={},r}genBuffers(t){const e=ky;let r={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},i=0,n=0,s=[],o=[],a=[],h=[],l=[],c=[],u=[],p=this;return t[e(508)].forEach((function(f,g){const d=e;let _=!1;if(f<0&&(f^=-1,_=!0),s[d(505)](3*f,3*f+1,3*f+2),t[d(419)]){let e=Wy(g,i,f,t[d(419)]);a[d(505)](e[0],e[1],e[2])}if(t[d(309)]){let e=Wy(g,i,f,t[d(309)]);o[d(505)](e[0],e[1],e[2])}t[d(506)]&&"AllSame"!==t[d(506)].mappingType&&(u=Wy(g,i,f,t[d(506)])[0]),t.uv&&t.uv[d(552)]((function(t,e){const r=d;let n=Wy(g,i,f,t);void 0===h[e]&&(h[e]=[]),h[e][r(505)](n[0]),h[e][r(505)](n[1])})),n++,_&&(p[d(614)](r,t,s,u,o,a,h,l,c,n),i++,n=0,s=[],o=[],a=[],h=[],l=[],c=[])})),r}[ky(614)](t,e,r,i,n,s,o,a,h,l){const c=ky;for(let u=2;u<l;u++)t[c(479)].push(e.vertexPositions[r[0]]),t[c(479)][c(505)](e[c(595)][r[1]]),t[c(479)].push(e.vertexPositions[r[2]]),t[c(479)][c(505)](e[c(595)][r[3*(u-1)]]),t.vertex[c(505)](e[c(595)][r[3*(u-1)+1]]),t[c(479)][c(505)](e[c(595)][r[3*(u-1)+2]]),t.vertex[c(505)](e[c(595)][r[3*u]]),t[c(479)][c(505)](e[c(595)][r[3*u+1]]),t[c(479)][c(505)](e.vertexPositions[r[3*u+2]]),e[c(572)]&&(t[c(431)][c(505)](a[0]),t.vertexWeights.push(a[1]),t[c(431)][c(505)](a[2]),t[c(431)][c(505)](a[3]),t[c(431)].push(a[4*(u-1)]),t[c(431)].push(a[4*(u-1)+1]),t[c(431)][c(505)](a[4*(u-1)+2]),t[c(431)][c(505)](a[4*(u-1)+3]),t[c(431)][c(505)](a[4*u]),t[c(431)][c(505)](a[4*u+1]),t[c(431)][c(505)](a[4*u+2]),t[c(431)][c(505)](a[4*u+3]),t.weightsIndices.push(h[0]),t.weightsIndices.push(h[1]),t.weightsIndices[c(505)](h[2]),t[c(524)].push(h[3]),t.weightsIndices.push(h[4*(u-1)]),t.weightsIndices[c(505)](h[4*(u-1)+1]),t[c(524)].push(h[4*(u-1)+2]),t.weightsIndices.push(h[4*(u-1)+3]),t[c(524)][c(505)](h[4*u]),t[c(524)][c(505)](h[4*u+1]),t[c(524)][c(505)](h[4*u+2]),t[c(524)].push(h[4*u+3])),e.color&&(t[c(334)][c(505)](s[0]),t[c(334)].push(s[1]),t[c(334)][c(505)](s[2]),t.colors[c(505)](s[3*(u-1)]),t[c(334)][c(505)](s[3*(u-1)+1]),t.colors[c(505)](s[3*(u-1)+2]),t[c(334)][c(505)](s[3*u]),t.colors[c(505)](s[3*u+1]),t[c(334)].push(s[3*u+2])),e[c(506)]&&e[c(506)][c(525)]!==c(515)&&(t.materialIndex[c(505)](i),t[c(340)].push(i),t[c(340)].push(i)),e[c(309)]&&(t.normal.push(n[0]),t[c(309)][c(505)](n[1]),t.normal[c(505)](n[2]),t.normal[c(505)](n[3*(u-1)]),t[c(309)][c(505)](n[3*(u-1)+1]),t.normal.push(n[3*(u-1)+2]),t[c(309)].push(n[3*u]),t[c(309)][c(505)](n[3*u+1]),t[c(309)][c(505)](n[3*u+2])),e.uv&&e.uv[c(552)]((function(e,r){const i=c;void 0===t[i(335)][r]&&(t[i(335)][r]=[]),t[i(335)][r].push(o[r][0]),t.uvs[r][i(505)](o[r][1]),t[i(335)][r][i(505)](o[r][2*(u-1)]),t[i(335)][r][i(505)](o[r][2*(u-1)+1]),t[i(335)][r][i(505)](o[r][2*u]),t.uvs[r][i(505)](o[r][2*u+1])}))}[ky(496)](t){const e=ky;let r=t[e(325)],i=t.ReferenceInformationType,n=t[e(297)].a,s=[];return i===e(414)&&("NormalIndex"in t?s=t[e(559)].a:e(407)in t&&(s=t[e(407)].a)),{dataSize:3,buffer:n,indices:s,mappingType:r,referenceType:i}}[ky(360)](t){const e=ky;let r=t[e(325)],i=t[e(556)],n=t.UV.a,s=[];return i===e(414)&&(s=t[e(421)].a),{dataSize:2,buffer:n,indices:s,mappingType:r,referenceType:i}}[ky(494)](t){const e=ky;let r=t.MappingInformationType,i=t[e(556)],n=t.Colors.a,s=[];return"IndexToDirect"===i&&(s=t[e(478)].a),{dataSize:4,buffer:n,indices:s,mappingType:r,referenceType:i}}[ky(584)](t){const e=ky;let r=t[e(325)],i=t[e(556)];if(r===e(356))return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:i};let n=t[e(272)].a,s=[];for(let t=0;t<n[e(302)];++t)s[e(505)](t);return{dataSize:1,buffer:n,indices:s,mappingType:r,referenceType:i}}}function Xy(e){const r=ky;let i=new t.Matrix4,n=new t.Euler,s=new t.Vector3,o=new t.Vector3,a=new t.Matrix4,h=new t.Matrix4;o[r(293)](0,0,0),a[r(441)]();let l=e[r(287)]?Zy(e[r(287)]):Zy(0);if(e.translation&&o[r(587)](e[r(377)]),e[r(567)]&&o.add(s[r(587)](e[r(567)])),e.rotation){let t=e[r(580)][r(618)]((function(t){return Math.PI*t/180}));t.push(l),a.makeRotationFromEuler(n.fromArray(t))}if(e[r(385)]){let t=e[r(385)][r(618)]((function(t){return Math.PI*t/180}));t[r(505)](l),i.makeRotationFromEuler(n[r(587)](t)),a[r(589)](i)}if(e[r(369)]){let t=e[r(369)][r(618)]((function(t){return Math.PI*t/180}));t[r(505)](l),i[r(281)](n[r(587)](t)),i.setInverseOf(i),a[r(448)](i)}return e[r(558)]&&h.scale(e[r(558)][0],e[r(558)][1],e[r(558)][2]),h[r(270)](o),h.multiply(a),h}function Wy(t,e,r,i){const n=ky;let s,o=[];switch(i.mappingType){case n(521):s=t;break;case n(371):s=e;break;case n(427):s=r;break;case n(515):s=i[n(351)][0];break;default:console[n(534)](n(393)+i[n(525)])}i[n(581)]===n(414)&&(s=i.indices[s]);let a=s*i[n(531)],h=a+i.dataSize;for(let t=a,e=0;t<h;t++,e++)o[e]=i[n(553)][t];return o}function Zy(t){const e=ky;t=t||0;let r=[e(465),e(394),e(315),e(598),e(300),e(613)];return 6===t?(console[e(534)](e(477)),r[0]):r[t]}let qy={enabled:!1,files:{},add:function(t,e){const r=ky;!1!==this[r(265)]&&(this[r(312)][t]=e)},get:function(t){const e=ky;if(!1!==this[e(265)])return this[e(312)][t]},remove:function(t){delete this.files[t]},clear:function(){this[ky(312)]={}}};class Jy{constructor(t,e,r){const i=ky;let n,s=this,o=!1,a=0,h=0;this[i(510)]=void 0,this[i(289)]=t,this[i(593)]=e,this.onError=r,this[i(362)]=function(t){const e=i;h++,!1===o&&void 0!==s.onStart&&s[e(510)](t,a,h),o=!0},this[i(546)]=function(t){const e=i;a++,void 0!==s[e(593)]&&s[e(593)](t,a,h),a===h&&(o=!1,void 0!==s[e(289)]&&s.onLoad())},this[i(597)]=function(t){const e=i;void 0!==s[e(459)]&&s[e(459)](t)},this[i(616)]=function(t){return n?n(t):t},this[i(585)]=function(t){return n=t,this}}}class Ky{constructor(t){const e=ky;this[e(485)]=void 0!==t?t:new Jy,this[e(481)]="Anonymous"}[ky(549)](t,e,r,i){const n=ky;void 0===t&&(t=""),void 0!==this.path&&(t=this[n(462)]+t),t=this[n(485)].resolveURL(t);let s=this,o=qy[n(555)](t);if(void 0!==o)return s[n(485)][n(362)](t),setTimeout((function(){const r=n;e&&e(o),s[r(485)].itemEnd(t)}),0),o;let a=document[n(519)](n(283),n(338));return a[n(445)](n(549),(function(){const r=n;let i=this,o=i[r(353)],a=i[r(575)],h=document[r(379)](r(544));h[r(353)]=o,h[r(575)]=a,h.getContext("2d")[r(443)](i,0,0);let l=h[r(527)]("2d").getImageData(0,0,o,a);qy[r(452)](t,l),e&&e(l),s.manager[r(546)](t)}),!1),a.addEventListener(n(273),(function(e){const r=n;i&&i(e),s[r(485)].itemEnd(t),s.manager[r(597)](t)}),!1),t.substr(0,5)!==n(370)&&void 0!==this[n(481)]&&(a[n(481)]=this.crossOrigin),s[n(485)][n(362)](t),a[n(374)]=t,a}[ky(568)](t){return this[ky(481)]=t,this}[ky(328)](t){return this[ky(462)]=t,this}}class Qy{constructor(t){this[ky(485)]=void 0!==t?t:new Jy,this.crossOrigin="Anonymous"}[ky(549)](t,e,r,i){const n=ky,s=this;let o=new em,a=new Ky(s[n(485)]);return o[n(476)]=s[n(462)]+t,a[n(568)](s[n(481)]),a[n(328)](s[n(462)]),o[n(278)]=new Promise((function(s,h){const l=n;a[l(549)](t,(function(t){const r=l;o[r(388)]=t,o[r(426)]=r(588),o.needsUpdate=!0,void 0!==e&&e(o),s(t)}),r,i)})),o}[ky(568)](t){return this[ky(481)]=t,this}[ky(328)](t){return this[ky(462)]=t,this}}let tm=0;class em{constructor(e,r,i,n,s,o,a,h,l,c){const u=ky;this.id=tm++,this.name="",this[u(388)]=void 0!==e?e:void 0,this.mipmaps=[],this[u(610)]=void 0!==r?r:"UVMapping",this[u(468)]=void 0!==i?i:u(498),this[u(444)]=void 0!==n?n:u(498),this[u(378)]=void 0!==s?s:u(396),this.minFilter=void 0!==o?o:"LINEAR",this[u(615)]=void 0!==l?l:1,this[u(426)]=void 0!==a?a:u(588),this[u(346)]=void 0!==h?h:u(305),this[u(507)]=new rm(0,0),this[u(608)]=new rm(1,1),this[u(400)]=new rm(0,0),this.rotation=0,this[u(491)]=!0,this[u(380)]=new t.Matrix3,this[u(488)]=!0,this.premultiplyAlpha=!1,this[u(277)]=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:"LinearEncoding",this.version=0,this[u(349)]=null}}function rm(t,e){this.x=t||0,this.y=e||0}class im{constructor(){const e=ky;this[e(467)]=null,this.ID=null,this[e(346)]=e(358),this[e(375)]=null,this[e(506)]=null,this.children=[],this[e(428)]=null,this.matrix=new t.Matrix4(null,Float64Array),this[e(326)]=new t.Matrix4(null,Float64Array),this[e(355)]=new t.Vector3,this.quaternion=new t.Quaternion,this.scale=new t.Vector3(1,1,1),this[e(364)]={},this[e(398)]=null,this[e(482)]=!1}[ky(578)](){const t=ky;this.matrix[t(460)](this[t(355)],this[t(284)],this[t(558)]);let e=this.matrix,r=this[t(326)],i=this[t(269)];for(let n=0,s=i[t(302)];n<s;n++){let s=i[n];s[t(326)].setIdentity(),s[t(326)][t(448)](r).multiply(e),s.updateMatrix()}}applyMatrix(t){const e=ky;t&&this[e(380)].multiply(t),this[e(380)][e(620)](this[e(355)],this.quaternion,this[e(558)])}getHighlight(){return this._selected}setHighlight(t){const e=ky;if(typeof t!==e(542))throw new TypeError(e(470));this[e(482)]=t}[ky(528)](e,r){const i=ky;(!r||!(r instanceof t.Matrix4))&&(r=this[i(398)][i(323)]);const n=this[i(382)],s=this[i(375)][i(555)]("position")[i(418)],o=this[i(375)][i(555)](i(309))[i(418)];let a=new t.Matrix4,h=new t.Matrix4;a=a[i(448)](this[i(326)]).multiply(this[i(380)]),h.multiply(r),h[i(448)](a);let l=new t.Matrix4;l[i(423)](h);const c=e.clone();c[i(303)]=l.multiplyVector3(c.origin),c.end=l[i(454)](c[i(399)]),c[i(577)]=c.end[i(295)](c[i(303)]),c[i(387)]();let u=[],p=[];const f=new t.Vector3,g=new t.Vector3,d=new t.Vector3;for(let e=0,r=s[i(302)]/9;e<r;e++){new t.Vector3(o[9*e],o[9*e+1],o[9*e+2]);const r=9*e;f[i(293)](s[r]-n[0],s[r+1]-n[1],s[r+2]-n[2]),d.set(s[r+3]-n[0],s[r+4]-n[1],s[r+5]-n[2]),g[i(293)](s[r+6]-n[0],s[r+7]-n[1],s[r+8]-n[2]),u=[f,d,g];let a=t.Intersect3D[i(451)](c,u);a&&p.push(a)}if(p[i(302)]>0){let r=Number.POSITIVE_INFINITY,n=null;for(let s=0,o=p[i(302)];s<o;s++){const o=p[s];let a=h.multiplyVector3(new t.Vector3(o._x,o._y,o._z)),l=new t.Coordinate(a[i(361)][0],a[i(361)][1],a[i(361)][2]),c=e[i(436)](l);c<r&&(r=c,n=l)}return{distanceToCamera:r,intersectCoordinate:n}}return null}}let nm={fromDB:new Map,toDB:new Map};const sm=["parse","183053nWdfGG","3734GWDYqD","49dwneOa","forEach","create","21eovukY","concat","keys","36103qeFZFA","flat","325AssrMB","prototype","push","2ondOHP","210219nxbrwY","set","208683RyonRw","clone","reduce","stringify","197qjbYPl","1455igImJL"],om=am;function am(t,e){return sm[t-=420]}(function(t,e){const r=am;for(;;)try{if(148775===parseInt(r(420))*-parseInt(r(425))+-parseInt(r(432))*parseInt(r(433))+parseInt(r(426))+parseInt(r(422))*-parseInt(r(437))+parseInt(r(435))+parseInt(r(428))+-parseInt(r(440))*parseInt(r(436)))break;t.push(t.shift())}catch(e){t.push(t.shift())}})(sm),Array[om(423)][om(421)]=function(){const t=om;let e=[];return this[t(438)]((r=>{const i=t;Array.isArray(r)?e=e[i(441)](r[i(421)]()):e[i(424)](r)})),e},Array[om(423)].concatWith=function(t){const e=om;return t[e(430)]((function(t,r){return t[e(424)](r),t}),this)},Map[om(423)][om(429)]=function(){const t=om;let e=Object[t(439)](null);for(let[t,r]of this)e[t]=r;e=JSON[t(431)](e),e=JSON[t(434)](e);let r=new Map;for(let i of Object[t(442)](e))r[t(427)](i,e[i]);return r};var hm=Array;const lm=["match","8oodAVg","hasOwnProperty","indexOf","defines","getDependecyNode","1235890BjIdbp","sortDependencies","combineShaderOptions","80436sPBFEp","            #ifdef GL_FRAGMENT_PRECISION_HIGH\n            precision highp float;\n            #else\n            precision mediump float;\n            #endif\n\n","1605933mFbDdy","#version 300 es\n","899004iRekrO","1xjjltY","_czmBuiltinsAndUniforms","replace","getShaderOptions","name","includeBuiltIns","requireBy","source","evaluate","forEach","877ZMwZmY","concat","1554434uvjiop","glslSource","generateDependencies","1109237saISIg","2401Fhqkyn","getBuiltinsAndAutomaticUniforms","length"],cm=um;function um(t,e){return lm[t-=378]}!function(t,e){const r=um;for(;;)try{if(925827===-parseInt(r(410))*-parseInt(r(402))+-parseInt(r(397))*-parseInt(r(405))+parseInt(r(407))+-parseInt(r(392))+parseInt(r(389))+-parseInt(r(409))+-parseInt(r(387))*parseInt(r(393)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(lm);class pm{static[cm(380)](t,e){return{vsOpts:{source:t,defines:[],includeBuiltIns:!1},fsOpts:{source:e,defines:[],includeBuiltIns:!1}}}static[cm(404)](t,e,r=!1){const i=cm;let n=t[i(384)],s="";r&&(s=s[i(388)](i(408))),e&&(s+=i(406));const o=t[i(400)];if(null!==o)for(let t=0,e=o[i(395)];t<e;++t){const e=o[t];0!==e[i(395)]&&(s+="#define "+e+"\n")}return t[i(382)]&&(s+=pm[i(394)](n)),s+=n,s}static[cm(401)](t,e,r){const i=cm;let n="";for(let e=0,s=r[i(395)];e<s;e++)(r[e][i(381)]=t)&&(n=r[e]);return""===n&&(n={name:t,glslSource:e,dependsOn:[],requireBy:[],evaluated:!1},r.push(n)),n}static[cm(391)](t,e){const r=cm;if(t.evaluate)return;t[r(385)]=!0;let i=t[r(390)][r(396)](/\bczm_[a-zA-Z0-9_]*/g);void 0!==i&&null!==czmMathes&&(cmzMatches=i.filter(((t,e)=>i[r(399)](t)===e)),cmzMatches[r(386)]((i=>{const n=r;if(i!==currentMode[n(381)]&&shaderSource[n(378)][n(398)](i)){let r=pm[n(401)](i,shaderSource[n(378)][i],e);r[n(383)].push(t),pm[n(391)](r,e)}})))}static[cm(394)](t){const e=cm;let r=[];const i=pm[e(401)]("main",t,r);pm[e(391)](i,r),pm[e(403)](r);let n="";for(let t=r[e(395)]-1;t>=0;t--)n=n=r[t].glslSource+"\n";return n[e(379)](i[e(390)],"")}}const fm=["169532gJDjpM","539733AQSpDI","145905XumFbt","1644203qWUiae","freeze","132891TfKurd","1xbuCHp","1280ZUVXXc","107147aKAYnc","172VtqFMx"];function gm(t,e){return fm[t-=152]}const dm=gm;!function(t,e){const r=gm;for(;;)try{if(328835===-parseInt(r(160))-parseInt(r(157))+-parseInt(r(154))*parseInt(r(152))-parseInt(r(155))-parseInt(r(153))-parseInt(r(156))+parseInt(r(161))*parseInt(r(158)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(fm);const _m={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,HALF_FLOAT_OES:36193,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047};Object[dm(159)](_m);class ym{static getConstant(t){return _m[t]}}const mm=["length","fillStyle","style","571414ERpfwI","closePath","getHeight","821202WHykWg","rgba(255,0,0,1)","sqrt","169402kILWwX","231226kghXWS","strokeStyle","fillRect","height","getImageData","rgba(0,0,0,0)","getLinearRing","rgba(0,0,0,1)","exp","lineTo","getCoordinate","gaussBlur","getBottom","data","createBlankCanvas","47EyrLPI","1075918mBQnbs","getLeft","1059782jrsoGp","getCoordSeq","getLinearRingCount","#222","getWidth","fill","evenodd","4Mlkckc","moveTo","canvas","createElement","stroke","2XQYwYw","width","beginPath","49055ICcpJr","getExtent","getCoordCount","rgba(255,255,255,1)","getTop","getContext","getRight"],Im=vm;!function(t,e){const r=vm;for(;;)try{if(598123===-parseInt(r(357))*-parseInt(r(344))-parseInt(r(364))+parseInt(r(363))*parseInt(r(339))+parseInt(r(330))+parseInt(r(332))+-parseInt(r(360))+-parseInt(r(329))*parseInt(r(347)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(mm);class xm{static createBlankCanvas(t=256,e=256){const r=vm;let i=document[r(342)](r(341));i[r(356)].width=t,i[r(356)][r(367)]=e;let n=i.getContext("2d");return n[r(355)]=r(369),n[r(366)](0,0,256,256),{canvas:i,extentH:[0,0,1,1]}}static fromPolygon(t,e=512,r=512){const i=vm;if(!t)return this[i(378)]();const n=t[i(348)](),s=n[i(336)](),o=n[i(359)](),a=n[i(331)](),h=n[i(376)](),l=n[i(353)](),c=n[i(351)]();let u=document[i(342)](i(341));u[i(345)]=e,u[i(367)]=r;let p=u[i(352)]("2d");p[i(355)]=i(369),p.fillRect(0,0,e,r);const f=(e-4)/s,g=(r-4)/o;p[i(355)]=i(350),p[i(346)]();for(let e=0,r=t[i(334)]();e<r;e++){const r=t[i(370)](e)[i(333)]();let n=r[i(374)](0),s=(n._x-a)*f+2,o=(n._y-h)*g+2;p[i(340)](s,o);for(let t=1,e=r[i(349)]();t<e;t++)n=r.getCoordinate(t),s=(n._x-a)*f+2,o=(n._y-h)*g+2,p[i(373)](s,o);p.closePath()}return p[i(337)](i(338)),{canvas:u,extentH:[a,h,l,c]}}static fromUVs(t,e=512,r=512){const i=vm;if(!t||t[i(354)]<3)return this.createBlankCanvas(e,r).canvas;let n=document[i(342)](i(341));n[i(345)]=e,n.height=r;let s=n[i(352)]("2d");s[i(355)]=i(361),s[i(366)](0,0,e,r),s[i(355)]=i(371),s[i(346)]();let o=t[0][0]*e,a=t[0][1]*r;s.moveTo(o,a);for(let n=1,h=t[i(354)];n<h;n++)o=t[n][0]*e,a=t[n][1]*r,s.lineTo(o,a);return s[i(358)](),s.lineWidth=5,s[i(365)]=i(335),s[i(343)](),s[i(337)](i(338)),n}static[Im(375)](t,e=5){const r=Im;let i,n,s,o,a,h,l,c,u,p,f=t[r(352)]("2d"),g=f[r(368)](0,0,t[r(345)],t.height),d=g[r(377)],_=g[r(345)],y=g[r(367)],m=[],I=0;for(h=1/(5*Math[r(362)](2*Math.PI)),a=-.02,l=0,i=-e;i<=e;i++,l++)o=h*Math[r(372)](a*i*i),m[l]=o,I+=o;for(l=0,p=m[r(354)];l<p;l++)m[l]/=I;for(n=0;n<y;n++)for(i=0;i<_;i++){for(s=o=a=h=0,I=0,c=-e;c<=e;c++)u=i+c,u>=0&&u<_&&(l=4*(n*_+u),s+=d[l]*m[c+e],o+=d[l+1]*m[c+e],a+=d[l+2]*m[c+e],I+=m[c+e]);l=4*(n*_+i),d[l]=s/I,d[l+1]=o/I,d[l+2]=a/I}for(i=0;i<_;i++)for(n=0;n<y;n++){for(s=o=a=h=0,I=0,c=-e;c<=e;c++)u=n+c,u>=0&&u<y&&(l=4*(u*_+i),s+=d[l]*m[c+e],o+=d[l+1]*m[c+e],a+=d[l+2]*m[c+e],I+=m[c+e]);l=4*(n*_+i),d[l]=s/I,d[l+1]=o/I,d[l+2]=a/I}f.putImageData(g,0,0)}}function vm(t,e){return mm[t-=329]}const bm=["27bUwMso","496498LzSAxF","sqrt","divideScalar","2651JuZfDa","367949QJVtwD","1246979XoTngw","1howcuu","268304lzcvMf","substract","1184527HhBMEh","38968vXRRHp","6wBDZft","getElements"];function wm(t,e){return bm[t-=204]}function Tm(e,r,i){const n=wm;let s=new t.Vector3(e[0],e[1],e[2]),o=new t.Vector3(r[0],r[1],r[2]),a=new t.Vector3(i[0],i[1],i[2]);o[n(204)](s),a[n(204)](s),o.cross(a);let[h,l,c]=o[n(208)](),u=Math[n(211)](h*h+l*l+c*c);return 0==u?{isZero:!0,value:[0,0,0]}:(o[n(212)](u),{isZero:!1,value:o[n(208)]()})}!function(t,e){const r=wm;for(;;)try{if(764914===-parseInt(r(214))*-parseInt(r(216))+parseInt(r(210))+parseInt(r(205))+-parseInt(r(213))*parseInt(r(209))+-parseInt(r(215))+parseInt(r(206))*-parseInt(r(207))+parseInt(r(217)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(bm);var Em=Object.freeze({__proto__:null,createNormal:Tm});const Cm=["87kqcFlO","782066XSpBMZ","_moveForward","336876KhsYqH","1310NLUXZT","2FioHzi","1TqHvxC","_viewMatrix","_projectMatrix","_far","4479","1kJiWGQ","_matrixToGlobel","getElement","_moveDown","_right","277565OHuyKo","_zoomOut","clone","9901tFwXfh","_yaw","_matrixToLocal","toArray","_updateGlobelMatrix","set","_moveLeft","setInverseOf","setElements","_lookDown","_rotateXMatrix","_moveUp","_lookHorizontal","_fov","transform","_updateViewMatrix","_mode","setPerspective","348634TCMQfJ","_up","_updateProjectMatrix","normalize","setIdentity","_resetRotate","_localViewMatrix","multiply","_lookUp","setRotate","496871vdMRiE","_zoomIn","_pitch","_move","_direction","setTranslate","_near","_rotateZMatrix","_lookRight","619cXTxeK","sin","cross","_lookVertical","translate","_aspect","_position","_updateDirection","multiplyScalar","_moveBackward","cos"],Am=Mm;function Mm(t,e){return Cm[t-=445]}!function(t,e){const r=Mm;for(;;)try{if(466072===-parseInt(r(480))*-parseInt(r(461))+parseInt(r(462))+parseInt(r(498))+parseInt(r(466))*-parseInt(r(477))+-parseInt(r(467))*-parseInt(r(464))+-parseInt(r(450))*parseInt(r(465))+parseInt(r(508))*-parseInt(r(472)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Cm);class Sm{constructor(e,r=60,i=.001,n=1e3){const s=Mm;this[s(496)]="2.5d",this._matrixToGlobel=new t.Matrix4,this[s(482)]=new t.Matrix4,this[s(456)]=new t.Coordinate(0,0,0),this[s(490)]=new t.Matrix4,this[s(448)]=new t.Matrix4,this[s(504)]=new t.Matrix4,this[s(469)]=new t.Matrix4,this[s(468)]=new t.Matrix4,this[s(510)]=0,this[s(481)]=0,this[s(493)]=r,this[s(447)]=i,this._far=n,this[s(455)]=e,this[s(445)]=new t.Vector3,this[s(476)]=new t.Vector3,this[s(499)]=new t.Vector3;const o=new t.Crs(s(471));t.Transformer.add(o)}to(t,e){const r=Mm;this[r(456)].set(...t[r(483)]()),this._updateGlobelMatrix()}[Am(484)](){const e=Am,r=this[e(456)][e(474)](0)*Math.PI/180,i=this[e(456)][e(474)](1)*Math.PI/180,n=new t.Coordinate(r,i,0),s=t.Transformer[e(494)](n,4326,4479),o=s._x,a=s._y,h=s._z;this[e(473)][e(502)]()[e(488)](new Float32Array([-Math[e(451)](r),Math[e(460)](r),0,0,-Math[e(460)](r)*Math[e(451)](i),-Math[e(451)](r)*Math.sin(i),Math.cos(i),0,Math[e(460)](r)*Math[e(460)](i),Math[e(451)](r)*Math[e(460)](i),Math[e(451)](i),0,o,a,h,1])),this._matrixToLocal[e(487)](this[e(473)])}[Am(503)](){const t=Am;this._rotateXMatrix.setIdentity(),this[t(448)].setIdentity(),this[t(510)]=0,this[t(481)]=0,this._updateDirection()}[Am(500)](t){const e=Am;this[e(455)]=t,this[e(469)]=this[e(469)][e(502)]()[e(497)](this._fov,this[e(455)],this[e(447)],this[e(470)])}[Am(495)](){const t=Am;return this[t(504)][t(502)]().multiply(this[t(448)]).multiply(this[t(490)])[t(454)](...this[t(456)].getElements()),this[t(468)][t(502)]()[t(505)](this[t(482)])[t(505)](this._localViewMatrix),this}[Am(457)](){const t=Am,e=Math.cos(this._yaw)*Math.cos(this._pitch),r=Math.sin(this[t(481)])*Math[t(460)](this[t(510)]),i=Math[t(451)](this._pitch);this._direction[t(485)](e,r,i)[t(501)],this[t(476)][t(485)](-r,e,0)[t(501)],this[t(499)]=this._direction.clone()[t(452)](this._right),this._right=this[t(445)][t(479)]().cross(this[t(499)])}[Am(492)](t){const e=Am;return this[e(481)]+=t,this._rotateZMatrix[e(507)](this[e(481)],0,0,1),this[e(457)](),this}_lookVertical(t){const e=Am;this[e(510)]+=t;const r=this[e(456)].getElement(2);return this[e(490)][e(446)](0,0,-r).rotate(this._pitch,1,0,0).translate(0,0,r),this[e(457)](),this}[Am(449)](t){return this[Am(492)](-t)}_lookLeft(t){return this._lookHorizontal(t)}[Am(506)](t){return this[Am(453)](-t)}[Am(489)](t){return this[Am(453)](t)}_move(t,e){const r=Am;return this[r(456)].add(t[r(479)]()[r(458)](e)),this[r(495)](),this}_moveRight(t){const e=Am;return this[e(511)](this[e(476)],t)}[Am(486)](t){const e=Am;return this[e(511)](this[e(476)],-t)}[Am(463)](t){return this[Am(511)](this._direction,t)}[Am(459)](t){return this[Am(511)](this._direction,-t)}[Am(491)](t){return this._move(this._up,t)}[Am(475)](t){const e=Am;return this[e(511)](this[e(499)],-t)}[Am(509)](t){return this[Am(463)](t)}[Am(478)](t){return this[Am(459)](-t)}}var Pm=["836816XyfpVc","648485yJTBdJ","112498CHJZme","20GrMJfP","798380UnsHgd","24693GLaKfX","1044855tQzXHK","112423GysCJt"];function Rm(t,e){return Pm[t-=416]}!function(t,e){for(var r=Rm;;)try{if(660637===-parseInt(r(419))+parseInt(r(417))+-parseInt(r(422))+parseInt(r(421))+parseInt(r(420))+parseInt(r(423))+-parseInt(r(416))*-parseInt(r(418)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Pm);var Lm=Object.freeze({__proto__:null,PerspectiveCamera:Sm,CalculateNormal:Em,CalculateUV:Lh,VirtualCanvas:xm,Aid:t.Aid,Ajax:xg,Array:hm,AssembleShader:pm,Camera:N,Correction:Pt,Euler:t.Euler,Quaternion:t.Quaternion,GLConstantTable:ym,IndexedDB:t.IndexedDB,DataStore:t.DataStore,DbHelper:t.DbHelper,DbName:t.DbName,Inflate:t.Inflate,RawInflate:t.RawInflate,InterpolateColor:Nh,Matrix3:t.Matrix3,Matrix4:t.Matrix4,Vector3:t.Vector3,Vector4:t.Vector4});const Fm=["resolve","getContext","getAmbientLight","_convertObjectMeshToObject","multiplyVector3","opacityFactor","bind","setIdentity","237915tszyDX","setPointLight","forEach","_initIndexDB","modelMap","getImageData","useVideoProject","multiply","_init","getElements","_imageProcessFromDB","getModelBBox","push","TileStore","getFromIndexDb","_setOrigin","group","url","images","getBBoxGroup","1gKrccK","geometry","fromDB","useCustomLight","boolean","init","useLocalStorage","material","41353GwCSLU","insertImageToIndexDB","getMaterial","useCustomMaterial","modelPosition","directionLight","promise","insert file data failed!","ImageStore","_getImageFromIndexDB","geometryGroup","_setData","image","decay","_ModelBbox","_elements","offClick","readModelAndInitIndexedDB","innerAngle","getBBox","_createAxisAlignBoundingBox","map","modelMatrix","_calculateBBox","setScale","updateBBox","src","quaternion","setColor","intensity","onClick","matrixWorld","color","directionLights","children","getDirectLight","root","858868zXmgCq","fbxModels","extendBBox","parent","ambientLight","translate","_imageProcessToDB","get","strict","clickHandler","drawImage","toArray","distance","result","spotLight","setIndex","spotLights","_bbox","_color","61434dsJSJB","rotate","getImageFromIndexDb","resData","17AGAlQZ","direction","code","set","height","customMaterial","mouseOverHandler","_readModel","insert image1 error","_connections","userData","_resetOrigin","setPosition","_modelMap","setDirectLight","canvas","modelData","_createModelBoundingBox","onHover","addData","position","item","hasOwnProperty","_parseToObjectMesh","9116qwVPSd","_bboxWithoutMatrix","updateModelBBox","_selected","236912lMHjqu","getData","onload","75277Hosnqi","loadPromise","mouseOutHandler","_imagePromises","transfromLightPostion","_generatelight","insertIndexDb","length","matrix","createElement","_modelReady","updateMatrix","msg","width","2lnyGEi","modelName","indexDb","fbxCache","error","the parameter should be boolean type.","then","name","parse","getCenter","indexDbReady","pointLights","pointLight","fileUrl","scale"],Dm=Om;function Om(t,e){return Fm[t-=121]}!function(t,e){const r=Om;for(;;)try{if(175064===-parseInt(r(246))+parseInt(r(190))*parseInt(r(139))+-parseInt(r(250))*parseInt(r(274))-parseInt(r(122))-parseInt(r(162))+-parseInt(r(182))*parseInt(r(125))+parseInt(r(227)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Fm);class Nm extends t.Model{constructor(t,e={}){const r=Om;super(),this[r(152)]=t,this[r(194)]=[0,0,0],this.modelData=[],this[r(159)]=1,this[r(235)]=!!e[r(235)]&&e[r(235)],this.customMaterial=e[r(255)]?e.customMaterial:new Pa,this[r(193)]=!!e[r(272)](r(193))&&e[r(193)],this[r(185)]=!!e[r(185)]&&e[r(185)],this[r(195)]=e[r(195)]?e[r(195)]:new Xf,this[r(151)]=e.pointLight?e[r(151)]:new Dy,this.ambientLight=e.ambientLight?e[r(231)]:new Py,this._selected=!1,this._modelReady=!1,this[r(168)]=!!e.useVideoProject&&e[r(168)],this[r(188)]=!e[r(272)](r(188))||e[r(188)],this[r(170)]()}setMaterial(t,e=!0){const r=Om;this[r(255)]=t,this[r(193)]=e}[Dm(192)](){return this[Dm(255)]}setAmbientLight(t){this[Dm(231)]=t}[Dm(156)](){return this[Dm(231)]}[Dm(264)](t){this[Dm(231)]=t}[Dm(225)](){return this[Dm(231)]}[Dm(163)](t){this[Dm(231)]=t}getPointLight(){return this[Dm(231)]}[Dm(170)](){const t=Dm;this[t(263)]=new Map,this._connections=new Map,this[t(128)]=new Map,this._imageProcessToDB=nm.toDB,this[t(172)]=nm[t(184)],this[t(188)]?this[t(165)]():this[t(257)]()}[Dm(220)](t){this[Dm(236)]=t}[Dm(206)](){this[Dm(236)]=null}[Dm(268)](t,e){const r=Dm;this.mouseOverHandler=t,this[r(127)]=e}offHover(){const t=Dm;this[t(256)]=null,this[t(127)]=null}getOpacityFactor(){return this[Dm(159)]}setOpacityFactor(t){return this[Dm(159)]=t,this}getHighlight(){return this._selected}setHighlight(t){const e=Dm,r=this;if(typeof t!==e(186))throw new TypeError(e(144));if(r._selected=t,r[e(135)]){const i=r.modelData;for(let r of i)r[e(121)]=t}else this[e(196)][e(145)]((function(){const i=e,n=r[i(266)];for(let e of n)e[i(121)]=t}))}_initIndexDB(){const e=Dm,r=this;r[e(196)]=new Promise((function(i,n){const s=e;r[s(149)]=!1,r.TileStore=new t.DataStore("fbxModels",{keyPath:s(140)}),r.TileStore[s(242)]("modelName",s(140),{}),r.ImageStore=new t.DataStore(s(180),{keyPath:"url"}),r[s(198)][s(242)](s(179),s(179),{}),r[s(141)]=new t.IndexedDB(s(142),1,{storeList:[r[s(175)],r[s(198)]]}),r[s(141)][s(187)]()[s(145)]((t=>{const e=s;1===t[e(252)]&&(r[e(149)]=!0,r._readModelFromDB()[e(145)]((function(){i()})))})).catch((t=>{const e=s;console.error(t[e(137)])}))}))}[Dm(207)](){return this[Dm(196)]}[Dm(131)](t,e){const r=Dm;return this[r(141)].addData(r(228),{modelName:t,resData:e})}[Dm(176)](t){return this.indexDb.getData("fbxModels",t)}[Dm(191)](t,e){const r=Dm;return this[r(141)][r(269)](r(180),{url:t,resData:e})}getImageFromIndexDb(t){const e=Dm;return this[e(141)][e(123)](e(180),t)}[Dm(218)](){const t=Dm;this[t(222)]instanceof Array&&this[t(222)][t(132)]>=3&&(this[t(222)]=this[t(222)][t(211)]((t=>t/255)))}[Dm(257)](){const t=Dm;let e=this,r=e[t(152)],i=new Promise((function(t,i){new Gy(r).parse((function(r){const i=Om;e[i(177)](r),e._generatelight(r),r[i(136)](),e[i(201)](r),e[i(213)](),e[i(135)]=!0,t(r)}))}));this[t(196)]=i}[Dm(177)](t){const e=Dm;t[e(261)]=this[e(261)],t[e(224)][e(132)]>0&&t.children[e(164)]((t=>{this[e(177)](t)}))}_readModelFromDB(){const t=Dm;let e=this,r=e[t(152)];return new Promise((function(i,n){const s=t;e[s(176)](r)[s(145)]((function(t){const n=s;let o,a=t[n(240)];o=a?Promise[n(154)](a[n(249)]):new Promise((function(t,i){const s=n;new Gy(r)[s(147)]((function(i){const n=s;e[n(157)](i);let o={modelMap:e[n(263)],connections:e[n(259)],pointLights:i[n(150)],directionLights:i[n(223)],spotLights:i[n(243)],ambientLights:i.ambientLights};e[n(131)](r,o)[n(145)]((function(){t(o)}),(function(t){const e=n;console[e(143)](e(197)+t)}))}))})),o[n(145)]((function(t){const r=n;let s=e._parseToObjectMesh(t);e[r(130)](t),s[r(136)](),e[r(201)](s),e._calculateBBox(),e._modelReady=!0,i(s)}))}))}))}[Dm(130)](e){const r=Dm;if(this[r(185)])return;const i=e[r(150)],n=e[r(223)],s=e[r(243)],o=e.ambientLights;i&&i[r(132)]>0&&(this[r(151)]=new Dy({color:new t.Color(...i[0][r(222)][r(245)]),intensity:i[0][r(219)],position:i[0][r(270)],decay:i[0][r(203)],distance:i[0][r(239)]})),n&&n.length>0&&(this.directionLight=new Xf({color:new t.Color(...n[0].color._color),intensity:n[0][r(219)],direction:n[0][r(251)]})),s&&s.length>0&&(this[r(241)]=new By({position:s[0][r(270)],color:new t.Color(...s[0].color._color),intensity:s[0][r(219)],direction:s[0][r(251)],innerAngle:s[0][r(208)],outAngle:s[0].outAngle,decay:s[0][r(203)],distance:s[0].distance})),o&&o[r(132)]>0&&(this.ambientLight=new Py({color:new t.Color(...o[0][r(222)][r(245)]),intensity:o[0][r(219)]}))}[Dm(129)](e){const r=Dm;let i=new t.Vector3(e[0],e[1],e[2]);return this[r(212)][r(158)](i)[r(171)]()}[Dm(273)](e){const r=Dm;let i,n=e[r(166)],s=e.connections;for(let[e,i]of n){let s=new im;if(s[r(146)]=i[r(146)],s.ID=i.ID,s.geometry=i.geometry,s[r(189)]=i.material,i[r(189)])for(let t=0;t<i[r(189)][r(132)];t++){let e=i[r(189)][t][r(211)];if(e){s.material[t][r(211)]=e;let i=this._getImageFromIndexDB(e,e[r(179)]);e.loadPromise=i}}s[r(133)]=new t.Matrix4(i[r(133)],Float64Array),s[r(221)]=new t.Matrix4(i[r(221)],Float64Array);let o=i[r(270)];s[r(270)]=new t.Vector3(o[0],o[1],o[2]);let a=i[r(217)];s[r(217)]=new t.Quaternion(a._x,a._y,a._z,a._w);let h=i[r(153)];s[r(153)]=new t.Vector3(h[0],h[1],h[2]),s[r(260)]=i[r(260)],s._resetOrigin=this[r(261)],i.geometry&&i[r(200)]&&(s[r(183)].group=i[r(200)]),n[r(253)](e,s)}return s[r(164)]((function(t,e){const s=r;let o=n[s(234)](e),a=t[s(224)],h=t[s(230)];if(0!=a[s(132)])for(let t of a)o.children[s(174)](n.get(t));h?o[s(230)]=n[s(234)](h):i=o})),i}[Dm(199)](t,e){const r=this;return new Promise((function(i,n){const s=Om;let o=r[s(128)][s(234)](e);if(o)o.then((function(e){t[s(202)]=e,i()}));else{let n=r[s(172)][s(234)](t[s(179)]);!n&&(n=r[s(248)](e),r._imageProcessFromDB[s(253)](t.url,n)),n[s(145)]((function(e){const n=s;let o=e[n(240)];if(o){let e=o.resData;t[n(202)]=e,i()}else{let e=r[n(128)].get(t[n(179)]);if(e)e.then((function(e){t[n(202)]=e,i()}));else{let e=new Promise((function(e){const s=n;var o=new Image;o[s(216)]=t[s(179)],o[s(124)]=function(){const n=s;let a=o,h=a[n(138)],l=a[n(254)],c=document[n(134)](n(265));c[n(138)]=h,c.height=l,c[n(155)]("2d")[n(237)](a,0,0);let u=c[n(155)]("2d")[n(167)](0,0,h,l);if(t[n(202)]=u,i(),r._imageProcessToDB[n(234)](t[n(179)]))e(u);else{r[n(191)](t[n(179)],u).then((function(){e(u)}),(function(t){e(u)})),r[n(233)].set(t[n(179)],!0)}}}));r[n(128)][n(253)](t[n(179)],e)}}}))}}))}[Dm(157)](t){const e=Dm,r=this,i=t.ID;if(t.matrix=t[e(133)][e(171)](),t.matrixWorld=t.matrixWorld[e(171)](),t[e(270)]=t[e(270)].getElements(),t[e(153)]=t.scale[e(171)](),t[e(183)]&&(t[e(200)]=t[e(183)][e(178)]),t[e(189)]){let i=t[e(189)];for(let n=0;n<i[e(132)];n++){let s=i[n].map;s&&s[e(133)]&&(s[e(133)][e(205)]&&(t.material[n][e(211)][e(133)]=s.matrix[e(171)]()),s[e(126)]&&(s[e(126)][e(145)]((function(t){const i=e;let n=s[i(179)];r.getImageFromIndexDb(n).then((function(e){const s=i;if(!e[s(240)]&&!r[s(233)][s(234)](n)){r[s(191)](n,t)[s(145)]((function(){}),(function(){const t=s;console[t(143)](t(258))})),r[s(233)].set(n,!0)}}))})),r[e(128)][e(253)](s[e(179)],s[e(126)]),delete i[n][e(211)][e(126)]))}}let n={children:[]};if(t[e(224)][e(132)]>0&&t[e(224)].forEach((function(t){const i=e;r[i(157)](t),n[i(224)][i(174)](t.ID)})),null!=t.parent){let r=t[e(230)].ID;n.parent=r}t[e(230)]=null,t[e(224)]=[],r[e(263)][e(253)](i,t),r[e(259)].set(i,n)}_setData(t){const e=Dm;t[e(224)].length>0&&t[e(224)][e(164)](function(t){const r=e;t[r(226)]=this,this[r(201)](t)}[e(160)](this)),t[e(183)]&&t[e(189)]&&this.modelData[e(174)](t)}[Dm(262)](t,e,r){const i=Dm;let n=this[i(212)][i(205)];return n[12]=t,n[13]=e,n[14]=r,this}setTranslate(t,e,r){const i=Dm;return this[i(212)][i(232)](t,e,r),this}setRotate(t,e,r){const i=Dm;return this[i(212)][i(247)](t,1,0,0),this[i(212)][i(247)](e,0,1,0),this.modelMatrix[i(247)](r,0,0,1),this}[Dm(214)](t,e,r){const i=Dm;return this[i(212)][i(153)](t,e,r),this}[Dm(209)](){const t=Dm;return!this._bbox&&this[t(215)](),this[t(244)]}[Dm(215)](){const t=Dm;this[t(244)]=null;for(let e=0,r=this.modelData[t(132)];e<r;e++){let r=this[t(266)][e];r[t(244)]&&(this[t(244)]?this[t(244)][t(229)](r[t(244)]):this[t(244)]=r[t(244)])}}[Dm(173)](){const t=Dm;return!this[t(204)]&&this[t(276)](),this[t(204)]}[Dm(276)](){const t=Dm;this[t(204)]=null;for(let e=0,r=this[t(266)][t(132)];e<r;e++){let r=this[t(266)][e];r[t(275)]&&(this[t(204)]?this[t(204)][t(229)](r._bboxWithoutMatrix):this[t(204)]=r[t(275)])}}[Dm(181)](){const t=Dm;let e=[];for(let r=0,i=this[t(266)].length;r<i;r++){let i=this[t(266)][r];i[t(244)]&&e.push(i[t(244)])}return e}[Dm(213)](){const e=Dm,r=new t.Matrix4(null,Float64Array);let i=new t.Matrix4(null,Float64Array);for(let t=0,r=this[e(266)][e(132)];t<r;t++){let r=this.modelData[t];if(r[e(183)]){let t=r[e(183)].get(e(270))[e(271)];r._bboxWithoutMatrix=this[e(267)](t)}}const n=this[e(261)]?this[e(173)]()[e(148)]()[e(238)]():[0,0,0];for(let t=0,s=this[e(266)].length;t<s;t++){let s=this.modelData[t];if(s._modelCenter=n,s[e(183)]){let t=s[e(183)][e(234)]("position")[e(271)];i[e(161)](),i=i[e(169)](s[e(221)])[e(169)](s[e(133)]),r[e(161)](),r[e(169)](this[e(212)]),r[e(169)](i),s[e(244)]=this[e(210)](t,r,n)}}}[Dm(267)](e){const r=Dm;if(e[r(132)]%3!=0)return null;let i=e[0],n=e[1],s=e[2],o=e[0],a=e[1],h=e[2];let l=3*(1+~~(e[r(132)]/1e4));for(let t=e.length-3;t>=0;t-=l){let r=e[t],l=e[t+1],c=e[t+2];i>r?i=r:o<r&&(o=r),n>l?n=l:a<l&&(a=l),s>c?s=c:h<c&&(h=c)}return new t.BBox(i,n,s,o,a,h)}[Dm(210)](e,r,i=[0,0,0]){const n=Dm;if(e[n(132)]%3!=0)return null;let s=new t.Vector3(e[0]-i[0],e[1]-i[1],e[2]-i[2]),o=r[n(158)](s),a=o[n(205)][0],h=o[n(205)][1],l=o._elements[2],c=o[n(205)][0],u=o[n(205)][1],p=o[n(205)][2];let f=3*(1+~~(e.length/1e4));for(let t=e[n(132)]-3;t>=0;t-=f){s[n(253)](e[t]-i[0],e[t+1]-i[1],e[t+2]-i[2]),o=r[n(158)](s);let f=o._elements[0],g=o[n(205)][1],d=o[n(205)][2];a>f?a=f:c<f&&(c=f),h>g?h=g:u<g&&(u=g),l>d?l=d:p<d&&(p=d)}return s=null,new t.BBox(a,h,l,c,u,p)}}const Bm=["error","parse_Kd","2757946eiqXWQ","601507IWbEdy","parseColor","parse_Tf","emissive","parse_boost","parse_Ks","imfChan","refractionIndex","mapSpecular","680490KFkWCv","parseOptions","horizontalBlending","520314Pxnfuf","data","warn","trim","boostMipMapSharpness","map","pop","offset","mapReflections","parseMap","substr","parse_Ke","scale","currentMaterial","need to convert the MTL colors to either RGB or CIEXYZ.","modifyTextureMap","parse_bm","transparency","bind","split","xyz","parse_texres","parse_o","mapDecal","parse_d","parse_map_bump","Don't know how to parse the directive: \"","606791DXAEvM","mapAmbient","spectral","contrast","filename","sharpness","parse_map_Kd","antiAliasing","materials","mapEmissive","parse_decal","mapSpecularExponent","parse_disp","reverse","textureResolution","parse_clamp","illumination","parse_t","dissolve","specularExponent","mapDissolve","parse_map_Ks","parse_blendv","length","parse_blendu","parse_Ka","name","transmissionFilter","bumpMultiplier","specular","2RdfyQd","987031sJrOGr","1303433xlpEDB","push","parse_ost","mapBump","hasOwnProperty","startsWith","The MTL parser does not support spectral curve files. You will ","parse_s","parse","parse_","ambient","mapDisplacement","parse_imfchan","parse_map_Ka","colorCorrection","parse_newmtl","clamp"],Um=km;function km(t,e){return Bm[t-=402]}!function(t,e){const r=km;for(;;)try{if(873108===-parseInt(r(477))-parseInt(r(438))+parseInt(r(417))+-parseInt(r(450))*parseInt(r(416))+parseInt(r(447))+-parseInt(r(418))+parseInt(r(437)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Bm);class Vm{constructor(t){const e=km;this[e(412)]=t,this[e(428)]=[0,0,0],this.diffuse=[0,0,0],this[e(415)]=[0,0,0],this[e(441)]=[0,0,0],this[e(413)]=[0,0,0],this[e(404)]=1,this.specularExponent=0,this[e(467)]=0,this[e(402)]=0,this[e(445)]=1,this[e(482)]=0,this.mapDiffuse=null,this[e(478)]=null,this[e(446)]=null,this[e(488)]=null,this[e(406)]=null,this[e(484)]=!1,this[e(421)]=null,this[e(429)]=null,this[e(473)]=null,this[e(486)]=null,this[e(458)]=[]}}class Gm{constructor(t){const e=km;this[e(451)]=t,this[e(463)]=null,this[e(485)]={},this.parse()}[Um(433)](t){const e=Um;let r=t[0];this[e(463)]=new Vm(r),this.materials[r]=this.currentMaterial}[Um(439)](t){const e=Um;if(t[0]==e(479))return void console[e(435)](e(424)+e(464));if(t[0]==e(470))return void console[e(452)]("TODO: convert XYZ to RGB");if(3==t.length)return t[e(455)](parseFloat);let r=parseFloat(t[0]);return[r,r,r]}[Um(411)](t){const e=Um;this[e(463)][e(428)]=this.parseColor(t)}[Um(436)](t){const e=Um;this[e(463)].diffuse=this[e(439)](t)}[Um(443)](t){const e=Um;this[e(463)][e(415)]=this[e(439)](t)}[Um(461)](t){const e=Um;this.currentMaterial[e(441)]=this[e(439)](t)}[Um(440)](t){this.currentMaterial.transmissionFilter=this.parseColor(t)}[Um(474)](t){const e=Um;this[e(463)].dissolve=parseFloat(t[e(456)]())}parse_illum(t){const e=Um;this[e(463)][e(402)]=parseInt(t[0])}parse_Ni(t){const e=Um;this[e(463)][e(445)]=parseFloat(t[0])}parse_Ns(t){const e=Um;this[e(463)][e(405)]=parseInt(t[0])}parse_sharpness(t){const e=Um;this.currentMaterial[e(482)]=parseInt(t[0])}parse_cc(t,e){e[Um(432)]="on"==t[0]}[Um(410)](t,e){e[Um(449)]="on"==t[0]}[Um(408)](t,e){e.verticalBlending="on"==t[0]}[Um(442)](t,e){e[Um(454)]=parseFloat(t[0])}parse_mm(t,e){const r=Um;e[r(465)].brightness=parseFloat(t[0]),e[r(465)][r(480)]=parseFloat(t[1])}[Um(420)](t,e,r){const i=Um;for(;t[i(409)]<3;)t.push(r);e.u=parseFloat(t[0]),e.v=parseFloat(t[1]),e.w=parseFloat(t[2])}[Um(472)](t,e){const r=Um;this[r(420)](t,e[r(457)],0)}[Um(425)](t,e){const r=Um;this[r(420)](t,e[r(462)],1)}[Um(403)](t,e){this[Um(420)](t,e.turbulence,0)}[Um(471)](t,e){e[Um(491)]=parseFloat(t[0])}[Um(492)](t,e){e[Um(434)]="on"==t[0]}[Um(466)](t,e){e[Um(414)]=parseFloat(t[0])}[Um(430)](t,e){e[Um(444)]=t[0]}parse_type(t,e){e.reflectionType=t[0]}[Um(448)](t){const e=Um;let r,i,n={colorCorrection:!1,horizontalBlending:!0,verticalBlending:!0,boostMipMapSharpness:0,modifyTextureMap:{brightness:0,contrast:1},offset:{u:0,v:0,w:0},scale:{u:1,v:1,w:1},turbulence:{u:0,v:0,w:0},clamp:!1,textureResolution:null,bumpMultiplier:1,imfChan:null},s={};for(t[e(490)]();t.length;){const i=t.pop();i[e(423)]("-")?(r=i[e(460)](1),s[r]=[]):s[r][e(419)](i)}for(r in s){if(!s[e(422)](r))continue;i=s[r];let t=this["parse_"+r];t&&t[e(468)](this)(i,n)}return n}[Um(459)](t){const e=Um;let r,i;return t[0].startsWith("-")?(r=t[e(456)](),i=t):[r,...i]=t,i=this.parseOptions(i),i[e(481)]=r,i}[Um(431)](t){this[Um(463)].mapAmbient=this.parseMap(t)}[Um(483)](t){const e=Um;this[e(463)].mapDiffuse=this[e(459)](t)}[Um(407)](t){const e=Um;this.currentMaterial[e(446)]=this[e(459)](t)}parse_map_Ke(t){const e=Um;this[e(463)][e(486)]=this[e(459)](t)}parse_map_Ns(t){const e=Um;this[e(463)][e(488)]=this[e(459)](t)}parse_map_d(t){const e=Um;this[e(463)].mapDissolve=this[e(459)](t)}parse_map_aat(t){this[Um(463)].antiAliasing="on"==t[0]}[Um(475)](t){const e=Um;this.currentMaterial[e(421)]=this.parseMap(t)}parse_bump(t){this.parse_map_bump(t)}[Um(489)](t){const e=Um;this[e(463)][e(429)]=this[e(459)](t)}[Um(487)](t){const e=Um;this[e(463)].mapDecal=this[e(459)](t)}parse_refl(t){const e=Um;this[e(463)][e(458)][e(419)](this[e(459)](t))}[Um(426)](){const t=Um;let e=this[t(451)][t(469)](/\r?\n/);for(let r of e){if(r=r[t(453)](),!r||r[t(423)]("#"))continue;let e,i=r[t(469)](/\s/);[e,...i]=i;let n=this[t(427)+e];n?n[t(468)](this)(i):console[t(452)](t(476)+e+'"')}delete this[t(451)],this.currentMaterial=null}}const zm=["POSITION_LOW","BYTE","normalized","ILLUMINATION","MAP_SPECULAR_EXPONENT","specular","mapSpecularExponent","normal","type","SPECULAR_EXPONENT","334399uRObHe","MAP_DIFFUSE","709222nClJYu","144495nVUzAU","mapDisplacement","TANGENT","BITANGENT","antiAliasing","position","sharpness","size","MAP_BUMP","materialEnabled","NORMAL","stride","materialIndex","SHORT","emissive","DISSOLVE","mapDiffuse","tangent","2HvQRkL","MAP_DISSOLVE","MATERIAL_ENABLED","mapDissolve","sizeInBytes","FLOAT","mapSpecular","REFRACTION_INDEX","ambient","mapDecal","max","bitangent","SHARPNESS","mapEmissive","DIFFUSE","MAP_EMISSIVE","93494AMlPqx","MAP_DISPLACEMENT","797277UNMYjl","key","TRANSMISSION_FILTER","SPECULAR","POSITION","illumination","sizeOfType","645937FsVKqn","mapAmbient","specularExponent","2PZwcTI","MAP_SPECULAR","UNSIGNED_SHORT","76409ALcPwg"],Hm=$m;!function(t,e){const r=$m;for(;;)try{if(407980===-parseInt(r(428))*parseInt(r(425))+parseInt(r(441))+-parseInt(r(415))+parseInt(r(422))+-parseInt(r(442))+parseInt(r(439))+parseInt(r(413))*-parseInt(r(397)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(zm);class jm{constructor(...t){const e=$m;this.attributes=t;let r=0,i=0;for(const n of t){if(this[n.key])throw new Ym(n);r%n[e(421)]!=0&&(r+=n[e(421)]-r%n[e(421)]),this[n[e(416)]]={attribute:n,size:n[e(386)],type:n.type,normalized:n[e(431)],offset:r},r+=n[e(401)],i=Math[e(407)](i,n[e(421)])}r%i!=0&&(r+=i-r%i),this[e(390)]=r;for(const r of t)this[r[e(416)]][e(390)]=this.stride}}class Ym{constructor(t){const e=$m;this.message="found duplicate attribute: "+t[e(416)]}}function $m(t,e){return zm[t-=380]}class Xm{constructor(t,e,r,i=!1){const n=$m;this[n(416)]=t,this[n(386)]=e,this[n(437)]=r,this[n(431)]=!1,this[n(421)]=function(t){const e=$m;switch(t){case e(430):case"UNSIGNED_BYTE":return 1;case"SHORT":case e(427):return 2;case e(402):return 4}}(r),this[n(401)]=this[n(421)]*e}}jm[Hm(419)]=new Xm(Hm(384),3,Hm(402)),jm[Hm(429)]=new Xm("positionLow",3,Hm(402)),jm[Hm(389)]=new Xm(Hm(436),3,Hm(402)),jm[Hm(381)]=new Xm(Hm(396),3,Hm(402)),jm[Hm(382)]=new Xm(Hm(408),3,Hm(402)),jm.UV=new Xm("uv",2,"FLOAT"),jm.MATERIAL_INDEX=new Xm(Hm(391),1,Hm(392)),jm[Hm(399)]=new Xm(Hm(388),1,Hm(427)),jm.AMBIENT=new Xm(Hm(405),3,Hm(402)),jm[Hm(411)]=new Xm("diffuse",3,Hm(402)),jm[Hm(418)]=new Xm(Hm(434),3,Hm(402)),jm[Hm(438)]=new Xm(Hm(424),3,"FLOAT"),jm.EMISSIVE=new Xm(Hm(393),3,Hm(402)),jm[Hm(417)]=new Xm("transmissionFilter",3,Hm(402)),jm[Hm(394)]=new Xm("dissolve",1,Hm(402)),jm[Hm(432)]=new Xm(Hm(420),1,Hm(427)),jm[Hm(404)]=new Xm("refractionIndex",1,Hm(402)),jm[Hm(409)]=new Xm(Hm(385),1,"FLOAT"),jm[Hm(440)]=new Xm(Hm(395),1,Hm(392)),jm.MAP_AMBIENT=new Xm(Hm(423),1,"SHORT"),jm[Hm(426)]=new Xm(Hm(403),1,"SHORT"),jm[Hm(433)]=new Xm(Hm(435),1,Hm(392)),jm[Hm(398)]=new Xm(Hm(400),1,Hm(392)),jm.ANTI_ALIASING=new Xm(Hm(383),1,"UNSIGNED_SHORT"),jm[Hm(387)]=new Xm("mapBump",1,Hm(392)),jm[Hm(414)]=new Xm(Hm(380),1,"SHORT"),jm.MAP_DECAL=new Xm(Hm(406),1,Hm(392)),jm[Hm(412)]=new Xm(Hm(410),1,"SHORT");const Wm=["origin","MATERIAL_INDEX","end","root","concat","textures","dissolve","620359hbRcAy","indicesPerMaterial","norms","POSITIVE_INFINITY","1004122fRYqQw","divideScalar","multiply","multiplyVector3","rayIntersectTriangle","860501PlRSUG","clone","vertexNormals","distanceToCamera","DIFFUSE","208191RCiyMZ","_selected","verts","specularExponent","attributes","illumination","enableWTextureCoord","axisExchangeMatrix","test","assert","transmissionFilter","the parameter should be boolean type.","getElements","vertices","name","calculateTangentsAndBitangents","cross","substract","POSITION","Missing attributes for calculating tangents and bitangents","verticesLow","SHARPNESS","reduce","intersectRay","index","map","triangulate","materialsByIndex","makeBufferData","materials",'" not found in mesh. Did you forget to call addMaterialLibrary(...)?"',"length","sqrt","455592CcUkha","128182HqcZRR","set",'Material "',"setInt16","offset","dot","ambient","trim","emissive","setFloat32","ANTI_ALIASING","_elements","materialIndices","REFRACTION_INDEX","_modelCenter","createNormal","addMaterialLibrary","materialNames","modelMatrix","vertexMaterialIndices","indices","key","startsWith","SPECULAR_EXPONENT","direction","diffuse","3rWmdhw","3306eEHTxg","numItems","apply","sharpness","specular","TRANSMISSION_FILTER","setInverseOf","POSITION_LOW","shift","warn","EMISSIVE","boolean","257zpwpuL","AMBIENT","push","ILLUMINATION","bitangents","makeIndexBufferData","NORMAL","split","SPECULAR","tangents","refractionIndex"],Zm=qm;function qm(t,e){return Wm[t-=198]}!function(t,e){const r=qm;for(;;)try{if(510049===-parseInt(r(209))*-parseInt(r(221))-parseInt(r(239))+parseInt(r(243))+parseInt(r(253))+parseInt(r(287))*parseInt(r(208))+-parseInt(r(286))+-parseInt(r(248)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Wm);class Jm{constructor(t,e){const r=qm;(e=e||{})[r(282)]=e[r(282)]||{},e[r(259)]=!!e[r(259)],e[r(240)]=!!e[r(240)],this.indicesPerMaterial=!!e[r(240)]&&e.indicesPerMaterial;let i=this;i[r(254)]=!1,i[r(266)]=[],i.vertexNormals=[],i[r(237)]=[],i.indices=[],i.textureStride=e[r(259)]?3:2,this[r(267)]="";const n=[],s=[],o=[],a={},h=[],l={};let c=-1,u=0;a[r(255)]=[],a[r(241)]=[],a[r(237)]=[],a.hashindices={},a[r(202)]=[[]],a.materialIndices=[],a[r(277)]=0;const p=/^v\s/,f=/^vn\s/,g=/^vt\s/,d=/^f\s/,_=/\s+/,y=/^usemtl/,m=t[r(228)]("\n");for(let t=0;t<m.length;t++){const I=m[t][r(294)]();if(!I||I[r(204)]("#"))continue;const x=I[r(228)](_);if(x[r(217)](),p[r(261)](I))n[r(223)](...x);else if(f[r(261)](I))s[r(223)](...x);else if(g[r(261)](I)){let t=x;x[r(284)]>2&&!e[r(259)]?t=x.slice(0,2):2===x.length&&e[r(259)]&&t[r(223)](0),o[r(223)](...t)}else if(y[r(261)](I)){const t=x[0];!(t in l)&&(h.push(t),l[t]=h[r(284)]-1,e[r(240)]&&l[t]>0&&a[r(202)][r(223)]([])),c=l[t],e[r(240)]&&(u=c)}else if(d[r(261)](I)){const t=this[r(279)](x);for(const i of t){let t=[];for(let h=0,l=i[r(284)];h<l;h++){const i=x[h][r(228)]("/");let p=+n[3*(+i[0]-1)+0],f=+n[3*(+i[0]-1)+1],g=+n[3*(+i[0]-1)+2];const d=i[r(284)]-1;if(a[r(255)].push(p,f,g),o[r(284)]){const t=e[r(259)]?3:2;a[r(237)][r(223)](+o[(+i[1]-1)*t+0]),a[r(237)].push(+o[(+i[1]-1)*t+1]),e[r(259)]&&a[r(237)][r(223)](+o[(+i[1]-1)*t+2])}if(isNaN(+s[3*(+i[d]-1)+0])){if(t[r(223)]([p,f,g]),h===l-1&&3==t[r(284)]){let[e,i,n]=this[r(302)](t[0],t[1],t[2]);a[r(241)][r(223)](e,i,n,e,i,n,e,i,n),t=[]}}else a[r(241)][r(223)](+s[3*(+i[d]-1)+0]),a[r(241)].push(+s[3*(+i[d]-1)+1]),a.norms[r(223)](+s[3*(+i[d]-1)+2]);a.materialIndices.push(c),a.indices[u][r(223)](a.verts[r(284)]/3-1),a.index+=1}}}i.vertices=a.verts,i.vertexNormals=a.norms,i[r(237)]=a[r(237)],i.vertexMaterialIndices=a.materialIndices,i[r(202)]=e[r(240)]?a[r(202)]:a.indices[u],i[r(199)]=h,i.materialIndices=l,i[r(280)]={},e.calcTangentsAndBitangents&&this[r(268)]()}}getHighlight(){return this[qm(254)]}setHighlight(t){const e=qm;if(typeof t!==e(220))throw new TypeError(e(264));this[e(254)]=t}calculateTangentsAndBitangents(){const t=qm;console[t(262)](this[t(266)]&&this[t(266)][t(284)]&&this[t(250)]&&this.vertexNormals[t(284)]&&this.textures&&this[t(237)][t(284)],t(272));const e={};let r;e[t(230)]=[...new Array(this[t(266)][t(284)])].map((t=>0)),e.bitangents=[...new Array(this[t(266)][t(284)])][t(278)]((t=>0)),r=Array.isArray(this.indices[0])?[][t(236)][t(211)]([],this.indices):this.indices;const i=this[t(266)],n=this[t(250)],s=this[t(237)];for(let o=0;o<r.length;o+=3){const a=r[o+0],h=r[o+1],l=r[o+2],c=i[3*a+0],u=i[3*a+1],p=i[3*a+2],f=s[2*a+0],g=s[2*a+1],d=i[3*h+0],_=i[3*h+1],y=i[3*h+2],m=s[2*h+0],I=s[2*h+1],x=d-c,v=_-u,b=y-p,w=i[3*l+0]-c,T=i[3*l+1]-u,E=i[3*l+2]-p,C=m-f,A=I-g,M=s[2*l+0]-f,S=s[2*l+1]-g,P=C*S-A*M,R=1/(Math.abs(P<1e-4)?1:P),L=(x*S-w*A)*R,F=(v*S-T*A)*R,D=(b*S-E*A)*R,O=(w*C-x*M)*R,N=(T*C-v*M)*R,B=(E*C-b*M)*R,U=n[3*a+0],k=n[3*a+1],V=n[3*a+2],G=n[3*h+0],z=n[3*h+1],H=n[3*h+2],j=n[3*l+0],Y=n[3*l+1],$=n[3*l+2],X=L*U+F*k+D*V,W=L*G+F*z+D*H,Z=L*j+F*Y+D*$,q=L-U*X,J=F-k*X,K=D-V*X,Q=L-G*W,tt=F-z*W,et=D-H*W,rt=L-j*Z,it=F-Y*Z,nt=D-$*Z,st=Math[t(285)](q*q+J*J+K*K),ot=Math[t(285)](Q*Q+tt*tt+et*et),at=Math[t(285)](rt*rt+it*it+nt*nt),ht=O*U+N*k+B*V,lt=O*G+N*z+B*H,ct=O*j+N*Y+B*$,ut=O-U*ht,pt=N-k*ht,ft=B-V*ht,gt=O-G*lt,dt=N-z*lt,_t=B-H*lt,yt=O-j*ct,mt=N-Y*ct,It=B-$*ct,xt=Math[t(285)](ut*ut+pt*pt+ft*ft),vt=Math.sqrt(gt*gt+dt*dt+_t*_t),bt=Math.sqrt(yt*yt+mt*mt+It*It);e[t(230)][3*a+0]+=q/st,e[t(230)][3*a+1]+=J/st,e[t(230)][3*a+2]+=K/st,e[t(230)][3*h+0]+=Q/ot,e[t(230)][3*h+1]+=tt/ot,e[t(230)][3*h+2]+=et/ot,e[t(230)][3*l+0]+=rt/at,e[t(230)][3*l+1]+=it/at,e[t(230)][3*l+2]+=nt/at,e[t(225)][3*a+0]+=ut/xt,e[t(225)][3*a+1]+=pt/xt,e[t(225)][3*a+2]+=ft/xt,e.bitangents[3*h+0]+=gt/vt,e[t(225)][3*h+1]+=dt/vt,e[t(225)][3*h+2]+=_t/vt,e.bitangents[3*l+0]+=yt/bt,e[t(225)][3*l+1]+=mt/bt,e.bitangents[3*l+2]+=It/bt}this.tangents=e[t(230)],this[t(225)]=e[t(225)]}[Zm(281)](t){const e=Zm,r=this.vertices[e(284)]/3,i=new ArrayBuffer(t.stride*r);i[e(210)]=r;const n=new DataView(i);for(let i=0,s=0;i<r;i++){s=i*t.stride;for(const r of t[e(257)]){const o=s+t[r.key][e(291)];switch(r[e(203)]){case jm[e(271)][e(203)]:n[e(296)](o,this[e(266)][3*i],!0),n[e(296)](o+4,this[e(266)][3*i+1],!0),n[e(296)](o+8,this.vertices[3*i+2],!0);break;case jm[e(216)][e(203)]:n[e(296)](o,this[e(273)][3*i],!0),n[e(296)](o+4,this[e(273)][3*i+1],!0),n[e(296)](o+8,this.verticesLow[3*i+2],!0);break;case jm.UV.key:n.setFloat32(o,this[e(237)][2*i],!0),n[e(296)](o+4,this[e(237)][2*i+1],!0);break;case jm[e(227)][e(203)]:n.setFloat32(o,this[e(250)][3*i],!0),n[e(296)](o+4,this[e(250)][3*i+1],!0),n.setFloat32(o+8,this[e(250)][3*i+2],!0);break;case jm[e(233)][e(203)]:n.setInt16(o,this[e(201)][i],!0);break;case jm[e(222)][e(203)]:{const t=this[e(201)][i],r=this.materialsByIndex[t];if(!r){console[e(218)](e(289)+this[e(199)][t]+'" not found in mesh. Did you forget to call addMaterialLibrary(...)?"');break}n[e(296)](o,r[e(293)][0],!0),n[e(296)](o+4,r[e(293)][1],!0),n[e(296)](o+8,r.ambient[2],!0);break}case jm[e(252)].key:{const t=this[e(201)][i],r=this[e(280)][t];if(!r){console[e(218)](e(289)+this[e(199)][t]+'" not found in mesh. Did you forget to call addMaterialLibrary(...)?"');break}n[e(296)](o,r[e(207)][0],!0),n.setFloat32(o+4,r[e(207)][1],!0),n[e(296)](o+8,r[e(207)][2],!0);break}case jm[e(229)][e(203)]:{const t=this[e(201)][i],r=this.materialsByIndex[t];if(!r){console[e(218)](e(289)+this.materialNames[t]+'" not found in mesh. Did you forget to call addMaterialLibrary(...)?"');break}n[e(296)](o,r[e(213)][0],!0),n[e(296)](o+4,r[e(213)][1],!0),n[e(296)](o+8,r.specular[2],!0);break}case jm[e(205)][e(203)]:{const t=this[e(201)][i],r=this[e(280)][t];if(!r){console[e(218)]('Material "'+this[e(199)][t]+e(283));break}n[e(296)](o,r[e(256)],!0);break}case jm[e(219)][e(203)]:{const t=this[e(201)][i],r=this.materialsByIndex[t];if(!r){console[e(218)](e(289)+this[e(199)][t]+'" not found in mesh. Did you forget to call addMaterialLibrary(...)?"');break}n[e(296)](o,r[e(295)][0],!0),n[e(296)](o+4,r[e(295)][1],!0),n.setFloat32(o+8,r[e(295)][2],!0);break}case jm[e(214)].key:{const t=this.vertexMaterialIndices[i],r=this[e(280)][t];if(!r){console.warn(e(289)+this[e(199)][t]+'" not found in mesh. Did you forget to call addMaterialLibrary(...)?"');break}n[e(296)](o,r[e(263)][0],!0),n[e(296)](o+4,r[e(263)][1],!0),n.setFloat32(o+8,r[e(263)][2],!0);break}case jm.DISSOLVE[e(203)]:{const t=this[e(201)][i],r=this[e(280)][t];if(!r){console[e(218)](e(289)+this[e(199)][t]+e(283));break}n[e(296)](o,r[e(238)],!0);break}case jm[e(224)][e(203)]:{const t=this[e(201)][i],r=this[e(280)][t];if(!r){console[e(218)](e(289)+this.materialNames[t]+e(283));break}n[e(290)](o,r[e(258)],!0);break}case jm[e(300)].key:{const t=this.vertexMaterialIndices[i],r=this[e(280)][t];if(!r){console[e(218)]('Material "'+this[e(199)][t]+e(283));break}n[e(296)](o,r[e(231)],!0);break}case jm[e(274)][e(203)]:{const t=this[e(201)][i],r=this[e(280)][t];if(!r){console.warn(e(289)+this[e(199)][t]+e(283));break}n[e(296)](o,r[e(212)],!0);break}case jm[e(297)][e(203)]:{const t=this[e(201)][i],r=this[e(280)][t];if(!r){console.warn(e(289)+this.materialNames[t]+e(283));break}n[e(290)](o,r.antiAliasing,!0);break}}}}return i}[Zm(226)](){const t=Zm;let e=[];e=this[t(240)]?this[t(202)][t(275)]((function(e,r){return e[t(236)](r)})):this[t(202)];const r=new Uint32Array(e);return r.numItems=e[t(284)],r}[Zm(198)](t){const e=Zm;for(const r in t.materials){if(!(r in this.materialIndices))continue;const i=t[e(282)][r],n=this[e(299)][i.name];this[e(280)][n]=i}}*triangulate(t){const e=Zm;if(t[e(284)]<=3)yield t;else if(4===t.length)yield[t[0],t[1],t[2]],yield[t[2],t[3],t[0]];else for(let r=1;r<t[e(284)]-1;r++)yield[t[0],t[r],t[r+1]]}createNormal(e,r,i){const n=Zm;let s=new t.Vector3(e[0],e[1],e[2]),o=new t.Vector3(r[0],r[1],r[2]),a=new t.Vector3(i[0],i[1],i[2]);o.substract(s),a[n(270)](s),o[n(269)](a);let[h,l,c]=o[n(265)](),u=Math[n(285)](h*h+l*l+c*c);return u=0===u?1e-5:u,o[n(244)](u),o.getElements()}[Zm(276)](e){const r=Zm,i=this[r(301)],n=this.vertices,s=this.vertexNormals,o=this[r(202)][0];let a=new t.Matrix4;a[r(245)](this[r(235)][r(200)]),a.multiply(this.root[r(260)]);let h=new t.Matrix4;h[r(215)](a);const l=e[r(249)]();l[r(232)]=h[r(246)](l[r(232)]),l[r(234)]=h[r(246)](l[r(234)]),l.direction=l.end[r(270)](l[r(232)]),l._calcTransformDirection();let c,u=[],p=[],f=new t.Vector3,g=new t.Vector3,d=new t.Vector3;for(let e=0,a=o[r(284)]/3;e<a;e++){const o=3*e*3;if(c=new t.Vector3(s[o],s[o+1],s[o+2]),c[r(292)](l[r(206)])>=0)continue;f[r(288)](n[o]-i[0],n[o+1]-i[1],n[o+2]-i[2]),g[r(288)](n[o+3]-i[0],n[o+4]-i[1],n[o+5]-i[2]),d.set(n[o+6]-i[0],n[o+7]-i[1],n[o+8]-i[2]),u=[f,g,d];let a=t.Intersect3D[r(247)](l,u);a&&p[r(223)](a)}if(p.length>0){let i=Number[r(242)],n=null;for(let s=0,o=p[r(284)];s<o;s++){const o=p[s];let h=a[r(246)](new t.Vector3(o._x,o._y,o._z)),l=new t.Coordinate(h._elements[0],h._elements[1],h[r(298)][2]),c=e[r(251)](l);c<i&&(i=c,n=l)}return{distanceToCamera:i,intersectCoordinate:n}}return null}}const Km=["materials","_buildBuffer","STATIC_DRAW","mapEmissive","getHighlight","createBuffer","_calculateCenter","replace","then","multiplyVector3","indices","in order to use downloadModels()","vertexBuffer","bindBuffer","name","Unable to download texture: ","lastIndexOf","endsWith","indexBuffer","entries","vertexNormals","ELEMENT_ARRAY_BUFFER","setScale","mouseOutHandler","downloadMtlTextures","numItems","74773eQFLpE","_calculateBBox","downloadMeshes","textureStride","opacityFactor","vertices","offClick","mesh","mapSpecular","blob","_resetOrigin",".mtl","getElements","_selected","multiply",".obj","_meshes","assign","length","setDimensionMapping","downloadModels","375089vqKnzQ","3NGNMqD","modelPosition","653274dfRwkU","mouseOverHandler","boolean","_createAxisAlignBoundingBox","2eHcVFc","onHover","set","1040246YAzdLW","rotate","649174DwTKgM","addMaterialLibrary","options","push","mapAmbient","split","substr","mtl","center","setTranslate","_modelPromise","setOpacityFactor","normalBuffer","mapDecal","src","_elements","text","calcTangentsAndBitangents","textures","scale","obj","_modelReady","axisExchangeMatrix","resolve","mapDisplacement","catch","clickHandler","deleteBuffer","ARRAY_BUFFER","1YOcrom","initMeshBuffers","the parameter should be boolean type.","812204YqBont","indicesPerMaterial","modelMatrix","error","_modelCenter","hasOwnProperty","translate","createObjectURL","getOpacityFactor","all","textureBuffer","setHighlight","707543fGUSSN","deleteMeshBuffers","mapDissolve"],Qm=tI;function tI(t,e){return Km[t-=212]}!function(t,e){const r=tI;for(;;)try{if(865267===-parseInt(r(249))+-parseInt(r(228))*-parseInt(r(250))-parseInt(r(259))+parseInt(r(293))+-parseInt(r(305))*parseInt(r(290))+-parseInt(r(256))*-parseInt(r(261))+parseInt(r(252)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Km);class eI extends t.Model{constructor(e={}){const r=tI;super(),this[r(235)]=null,this[r(263)]=e,this._modelPromise=null,this[r(232)]=1,this[r(251)]=[0,0,0],this[r(283)]=new t.Matrix4,this[r(244)]=[],this[r(241)]=!1,this[r(282)]=!0}[Qm(301)](){return this[Qm(232)]}[Qm(272)](t){return this[Qm(232)]=t,this}onClick(t){this[Qm(287)]=t}[Qm(234)](){this[Qm(287)]=null}[Qm(257)](t,e){this[Qm(253)]=t,this.mouseOutHandler=e}offHover(){const t=Qm;this[t(253)]=null,this[t(225)]=null}[Qm(312)](){return this._selected}[Qm(304)](t){const e=Qm,r=this;if(typeof t!==e(254))throw new TypeError(e(292));if(r._selected=t,r[e(282)]){const i=r[e(244)];for(let r of i)r[e(241)]=t}else this._modelPromise.then((function(){const i=e,n=r[i(244)];for(let e of n)e[i(241)]=t}))}setRotate(t,e,r){const i=Qm;return this.modelMatrix[i(260)](t,1,0,0),this[i(295)][i(260)](e,0,1,0),this[i(295)][i(260)](r,0,0,1),this}[Qm(224)](t,e,r){const i=Qm;return this[i(295)][i(280)](t,e,r),this}[Qm(270)](t,e,r){const i=Qm;return this[i(295)][i(299)](t,e,r),this[i(251)][0]+=t,this[i(251)][1]+=e,this[i(251)][2]+=r,this}setPosition(t,e,r){const i=Qm;let n=this[i(295)][i(276)];return n[12]=t,n[13]=e,n[14]=r,this[i(251)][0]=t,this[i(251)][1]=e,this[i(251)][2]=r,this}readModel(){const t=Qm,e=this;return!this[t(271)]&&(this._modelPromise=this.downloadModels([this[t(263)]]),this._modelPromise[t(316)]((r=>{const i=t;let n=[];for(const[t,e]of Object[i(221)](r))n=n.concat(e.vertices);const s=e[i(314)](n);e[i(269)]=s;for(const[t,e]of Object[i(221)](r))e.root=this,e[i(297)]=s,this[i(235)]=e,this[i(244)][i(264)](e),this[i(229)](this[i(235)],s);this[i(282)]=!0}))),this._modelPromise}[Qm(247)](t,e){const r=Qm;if(t<=0||t>3)return;const i=this[r(283)][r(240)](),n=4*(t-1);for(let t=0;t<3;t++)i[n+t]=t===e-1?1:0;return this}[Qm(226)](t,e){const r=Qm,i=["mapDiffuse",r(265),r(236),r(307),"mapBump",r(285),r(274),r(311)];!e[r(219)]("/")&&(e+="/");let n=[];for(let s in t[r(308)])if(t[r(308)][r(298)](s)){s=t[r(308)][s];for(let t of i){let i=s[t];if(!i)continue;let o=e+i.filename;n.push(fetch(o)[r(316)]((t=>{const e=r;if(!t.ok)throw new Error;return t[e(237)]()}))[r(316)]((function(t){const e=r;let n=new Image;return n[e(275)]=URL[e(300)](t),i.texture=n,new Promise((t=>n.onload=t))}))[r(286)]((()=>{const t=r;console[t(296)](t(217)+o)})))}}return Promise[r(302)](n)}[Qm(248)](t){const e=Qm,r=[];for(const i of t){const t=[];if(!i.obj)throw new Error('"obj" attribute of model object not set. The .obj file is required to be set '+e(213));let n=Object[e(245)]({indicesPerMaterial:!0},i);n[e(294)]=!!n.indicesPerMaterial,n[e(278)]=!!n[e(278)];let s=i[e(216)];if(!s){let t=i[e(281)][e(266)]("/");s=t[t[e(246)]-1][e(315)](e(243),"")}if(t[e(264)](Promise[e(284)](s)),t[e(264)](fetch(i.obj)[e(316)]((t=>t.text())).then((t=>new Jm(t,n)))),i[e(268)]){let r=i[e(268)];"boolean"==typeof r&&(r=i.obj.replace(/\.obj$/,e(239))),t[e(264)](fetch(r)[e(316)]((t=>t[e(277)]()))[e(316)]((t=>{const n=e;let s=new Gm(t);if(!1!==i[n(226)]){let t=i.mtlTextureRoot;return!t&&(t=r[n(267)](0,r[n(218)]("/"))),Promise[n(302)]([Promise[n(284)](s),this[n(226)](s,t)])}return Promise[n(302)](Promise[n(284)](s))}))[e(316)]((t=>t[0])))}r[e(264)](Promise.all(t))}return Promise[e(302)](r).then((t=>{const r=e,i={};for(const e of t){const[t,n,s]=e;n[r(216)]=t,s&&n[r(262)](s),i[t]=n}return i}))}[Qm(230)](t,e,r){const i=Qm;void 0===r&&(r={});const n=[];for(const e in t){if(!t.hasOwnProperty(e))continue;const r=t[e];n[i(264)](fetch(r)[i(316)]((t=>t[i(277)]()))[i(316)]((t=>[e,new Jm(t)])))}Promise.all(n)[i(316)]((t=>{for(let[e,i]of t)r[e]=i;return e(r)}))}[Qm(309)](t,e,r,i){const n=Qm;var s=t[n(313)](),o=e===t[n(289)]?Float32Array:Uint16Array;return t[n(215)](e,s),t.bufferData(e,new o(r),t[n(310)]),s.itemSize=i,s[n(227)]=r.length/i,s}[Qm(291)](t,e){const r=Qm;e[r(273)]=this[r(309)](t,t.ARRAY_BUFFER,e[r(222)],3),e[r(303)]=this[r(309)](t,t.ARRAY_BUFFER,e[r(279)],e[r(231)]),e[r(214)]=this[r(309)](t,t[r(289)],e[r(233)],3),e.indexBuffer=this._buildBuffer(t,t[r(223)],e[r(212)],1)}[Qm(306)](t,e){const r=Qm;t.deleteBuffer(e[r(273)]),t[r(288)](e[r(303)]),t[r(288)](e[r(214)]),t[r(288)](e[r(220)])}[Qm(229)](e,r){const i=Qm;let n=new t.Matrix4(null,Float64Array);n.multiply(this[i(295)]),n[i(242)](this[i(283)]);let s=this.mesh[i(233)];e._bbox=this._createAxisAlignBoundingBox(s,n,r)}[Qm(314)](t){const e=Qm;if(0==t[e(246)]||t[e(246)]%3!=0)return null;let r=t[0],i=t[1],n=t[2],s=t[0],o=t[1],a=t[2];for(let h=t[e(246)]-3;h>=1;h-=3){const e=t[h],l=t[h+1],c=t[h+2];r>e?r=e:s<e&&(s=e),i>l?i=l:o<l&&(o=l),n>c?n=c:a<c&&(a=c)}return this[e(238)]?[(r+s)/2,(i+o)/2,(n+a)/2]:[0,0,0]}[Qm(255)](e,r,i){const n=Qm;if(e[n(246)]%3!=0)return null;let s=new t.Vector3(e[0]-i[0],e[1]-[1],e[2]-[2]),o=r[n(317)](s),a=o[n(276)][0],h=o[n(276)][1],l=o[n(276)][2],c=o._elements[0],u=o[n(276)][1],p=o[n(276)][2];let f=3*(1+~~(e.length/1e4));for(let t=e[n(246)]-3;t>=0;t-=f){s[n(258)](e[t]-i[0],e[t+1]-i[1],e[t+2]-i[2]),o=r.multiplyVector3(s);let f=o._elements[0],g=o[n(276)][1],d=o[n(276)][2];a>f?a=f:c<f&&(c=f),h>g?h=g:u<g&&(u=g),l>d?l=d:p<d&&(p=d)}return s=null,new t.BBox(a,h,l,c,u,p)}}const rI=["33027wiZSub","rotate","1HfGspp","4020052BhJzXC","1PhbfgL","scale","1pSStom","779124DUzYot","translate","841609mGGxDm","setRotate","1262961fsYjdx","348901grvBYu","createUnique","6hbOUpr","name","8511fDHPDM","attributes","modelMatrix","34ESRuOV","modelId","1ONmBDE"],iI=nI;function nI(t,e){return rI[t-=371]}!function(t,e){const r=nI;for(;;)try{if(696245===parseInt(r(392))*-parseInt(r(387))+-parseInt(r(383))*-parseInt(r(375))+parseInt(r(382))*-parseInt(r(390))+parseInt(r(385))*-parseInt(r(373))+parseInt(r(377))*-parseInt(r(380))-parseInt(r(372))+parseInt(r(386))*parseInt(r(389)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(rI);class sI{constructor(e,r){const i=nI;this.modelMatrix=new t.Matrix4(e),this[i(378)]=r,this[i(381)]=null,this.id=t.Aid[i(374)](this.constructor[i(376)])}setPosition(t,e,r){let i=this[nI(379)]._elements;return i[12]=t,i[13]=e,i[14]=r,this}setTranslate(t,e,r){const i=nI;return this[i(379)][i(391)](t,e,r),this}[iI(371)](t,e,r){const i=iI;return this[i(379)].rotate(t,1,0,0),this[i(379)].rotate(e,0,1,0),this[i(379)][i(384)](r,0,0,1),this}setScale(t,e,r){const i=iI;return this.modelMatrix[i(388)](t,e,r),this}}const oI=["_painterType","updatePainterType","410739WoZMJI","size","getHeight","push","getTop","oColor","240188AfIJwF","getBottom","vector","getRight","ceil","getLeft","height","getAttributes","VOXEL","7DNLRbU","149455XaDJPF","getGeometry","605953yDucfJ","setOColor","475Acpqzj","toRender","eColor","278sUInFw","178985ZUCrIQ","getExtent","setEColor","buildSpaceHeatMap","630257cuLuuT","buildBaseStretch","cut","toCut","geom"],aI=hI;function hI(t,e){return oI[t-=351]}!function(t,e){const r=hI;for(;;)try{if(417889===-parseInt(r(369))+-parseInt(r(383))*parseInt(r(351))+parseInt(r(352))+parseInt(r(381))+-parseInt(r(363))+-parseInt(r(356))+parseInt(r(379))*parseInt(r(378)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(oI);class lI extends t.Model{constructor(e,r=5){const i=hI;super(),this[i(361)]=t.painterType[i(377)],this[i(360)]=e,this[i(364)]=r,this[i(358)]=!1}[aI(380)](){return this[aI(360)]}[aI(382)](t){this[aI(368)]=t}[aI(354)](t){return this[aI(385)]=t,this}[aI(359)](t){}[aI(384)](){}[aI(362)](){return this[aI(361)]}getPainterType(){return this[aI(361)]}static[aI(357)](e,r,i,n=5,s){const o=aI,a=e[o(371)][o(353)](),h=e[o(371)][o(376)]()[o(375)],l=a[o(374)](),c=a[o(370)](),u=n/111e3,p=Math[o(373)](a.getWidth()/u),f=Math[o(373)](a[o(365)]()/u),g=Math.ceil(h/n),d=Math.ceil(s/n);let _=[(i[0]-r[0])/d,(i[1]-r[1])/d,(i[2]-r[2])/d,(i[3]-r[3])/d],y=[];for(let e=0;e<p;e++)for(let i=0;i<f;i++)for(let s=0;s<g;s++){let a=[];a[0]=new t.Point(new t.Coordinate(l+e*u,c+i*u,s*u)),a[1]=new t.Point(new t.Coordinate(l+(e+1)*u,c+i*u,s*u)),a[2]=new t.Point(new t.Coordinate(l+(e+1)*u,c+(i+1)*u,s*u)),a[3]=new t.Point(new t.Coordinate(l+e*u,c+(i+1)*u,s*u));const h=new t.LinearRing(a),p=new t.Polygon([h]);let f=new lI(p,n);f[o(382)]([r[0]+s*_[0],r[1]+s*_[1],r[2]+s*_[2],r[3]+s*_[3]]),f.setEColor([r[0]+(s+1)*_[0],r[1]+(s+1)*_[1],r[2]+(s+1)*_[2],r[3]+(s+1)*_[3]]),f[o(384)](),y.push(f)}return y}static buildBaseStretchInZ(e,r,i,n=5,s){const o=aI,a=e.vector.getExtent(),h=e.vector[o(376)]()[o(375)],l=a[o(374)](),c=a[o(370)](),u=a[o(372)](),p=a[o(367)](),f=n/111e3;Math[o(373)](a.getWidth()/f),Math[o(373)](a[o(365)]()/f);const g=Math[o(373)](h/n),d=Math[o(373)](s/n);let _=[(i[0]-r[0])/d,(i[1]-r[1])/d,(i[2]-r[2])/d,(i[3]-r[3])/d],y=[];for(let e=0;e<g;e++){let i=[];i[0]=new t.Point(new t.Coordinate(l,c,e*f)),i[1]=new t.Point(new t.Coordinate(u,c,e*f)),i[2]=new t.Point(new t.Coordinate(u,p,e*f)),i[3]=new t.Point(new t.Coordinate(l,p,e*f));const s=new t.LinearRing(i),a=new t.Polygon([s]);let h=new lI(a,n);h.setOColor([r[0]+e*_[0],r[1]+e*_[1],r[2]+e*_[2],r[3]+e*_[3]]),h.setEColor([r[0]+(e+1)*_[0],r[1]+(e+1)*_[1],r[2]+(e+1)*_[2],r[3]+(e+1)*_[3]]),h[o(384)](),y[o(366)](h)}return y}static[aI(355)](t,e,r=[1,0,0]){}}const cI=["64707cTcwVY","564054hSFzlc","6rNHjts","32563jpmZZi","sizeY","23JhZkaA","localMatrix","push","options","a_color","constructor","47349DmjWwD","sizeX","1YpOvps","a_textureCoord","vertexData","fillSymbol","595706pfBSQF","1259JucYaY","a_position","getColor","218XXtWRD","5PPUzUQ","index","13ABnhvs","createVertexData","children","set","128085vnoQtk","clone","sizeZ"],uI=pI;function pI(t,e){return cI[t-=403]}!function(t,e){const r=pI;for(;;)try{if(382697===-parseInt(r(414))*parseInt(r(420))+parseInt(r(410))*parseInt(r(413))-parseInt(r(409))+parseInt(r(425))*-parseInt(r(426))+-parseInt(r(405))*parseInt(r(424))+parseInt(r(403))*parseInt(r(416))+parseInt(r(423))*parseInt(r(428)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(cI);class fI extends Of{constructor(t,e,r,i={}){const n=pI;super(i),this[n(431)]=i,this[n(404)]=t,this[n(427)]=e,this[n(422)]=r}[uI(421)](){const t=uI;let e=new(this[t(433)])(this[t(404)],this[t(427)],this.sizeZ,this[t(431)]);this.vertexData&&(e[t(407)]=this[t(407)][t(421)]()),e[t(429)]=this[t(429)][t(421)]();for(let r=0;r<this[t(418)].length;r++)e.add(this[t(418)][r][t(421)]());return e}[uI(417)](){const e=uI;if(this[e(407)])return this[e(407)];const r=this[e(408)]instanceof t.ColorFill?this.fillSymbol[e(412)]().toUint8Array():[255,255,255,255],i=r[0],n=r[1],s=r[2],o=r[3],a=-this.sizeX/2,h=this[e(404)]/2,l=-this[e(427)]/2,c=this[e(427)]/2,u=-this[e(422)]/2,p=this.sizeZ/2,f=[],g=[],d=[],_=[],y=[];f[e(430)](h,c,p,a,c,p,a,c,u,h,c,u),g[e(430)](i,n,s,o,i,n,s,o,i,n,s,o,i,n,s,o),d[e(430)](0,1,0,0,1,0,0,1,0,0,1,0),_[e(430)](1,0,1,0,0,1,0,1,1,1,1,1);let m=0;return y.push(m,m+2,m+1,m,m+3,m+2),f.push(h,l,u,a,l,u,a,l,p,h,l,p),g[e(430)](i,n,s,o,i,n,s,o,i,n,s,o,i,n,s,o),d.push(0,-1,0,0,-1,0,0,-1,0,0,-1,0),_[e(430)](1,1,1,0,1,1,0,0,1,1,0,1),m=4,y.push(m,m+2,m+1,m,m+3,m+2),f[e(430)](h,l,p,h,c,p,h,c,u,h,l,u),g[e(430)](i,n,s,o,i,n,s,o,i,n,s,o,i,n,s,o),d[e(430)](1,0,0,1,0,0,1,0,0,1,0,0),_[e(430)](1,0,1,0,0,1,0,1,1,1,1,1),m=8,y[e(430)](m,m+2,m+1,m,m+3,m+2),f[e(430)](a,c,p,a,l,p,a,l,u,a,c,u),g.push(i,n,s,o,i,n,s,o,i,n,s,o,i,n,s,o),d.push(-1,0,0,-1,0,0,-1,0,0,-1,0,0),_[e(430)](1,0,1,0,0,1,0,1,1,1,1,1),m=12,y[e(430)](m,m+2,m+1,m,m+3,m+2),f[e(430)](h,l,p,a,l,p,a,c,p,h,c,p),g[e(430)](i,n,s,o,i,n,s,o,i,n,s,o,i,n,s,o),d[e(430)](0,0,1,0,0,1,0,0,1,0,0,1),_.push(1,0,1,0,0,1,0,1,1,1,1,1),m=16,y[e(430)](m,m+2,m+1,m,m+3,m+2),f[e(430)](h,c,u,a,c,u,a,l,u,h,l,u),g.push(i,n,s,o,i,n,s,o,i,n,s,o,i,n,s,o),d[e(430)](0,0,-1,0,0,-1,0,0,-1,0,0,-1),_[e(430)](1,0,1,0,0,1,0,1,1,1,1,1),m=20,y[e(430)](m,m+2,m+1,m,m+3,m+2),this[e(407)]=new Map,this[e(407)][e(419)](e(411),f),this[e(407)][e(419)]("a_positionL",[]),this[e(407)][e(419)](e(432),g),this[e(407)][e(419)]("a_normal",d),this[e(407)].set(e(406),_),this[e(407)].set(e(415),y),this[e(407)]}}const gI=["2TEtzcG","fillSymbol","131gaibgd","toUint8Array","createVertexData","731623khBmPL","231577jvhiOt","hasOwnProperty","loop","add","1128350ybcSba","set","height","222261uqxLHw","a_position","splice","1UHIvBQ","children","invlaid angleRange ","227977aIbYAm","topSymbol","ratio","a_positionL","showCover","length","clone","angleRange","vertexData","radius","sin","push","cos","1hOKHqQ","options","index","a_textureCoord","1461525bOlHYM","14118vgRnNL","getColor","localMatrix"],dI=_I;function _I(t,e){return gI[t-=226]}!function(t,e){const r=_I;for(;;)try{if(771744===-parseInt(r(262))+parseInt(r(231))*-parseInt(r(242))+-parseInt(r(258))*-parseInt(r(245))+parseInt(r(236))+parseInt(r(232))*-parseInt(r(226))+parseInt(r(239))+parseInt(r(228))*parseInt(r(263)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(gI);class yI extends Of{constructor(t,e=1,r={}){const i=_I;if(super(r),this[i(254)]=t,this[i(238)]=e,this[i(247)]=r[i(233)](i(247))?r[i(247)]:1,this[i(249)]=!r[i(233)](i(249))||r[i(249)],this.angleRange=r.hasOwnProperty(i(252))?r[i(252)]:[0,360],this[i(252)][1]<this[i(252)][0])throw new RangeError(i(244));if(this[i(246)]=r[i(233)](i(246))?r[i(246)]:null,this[i(247)]>1||this[i(247)]<0)throw new RangeError("ratio out of [0,1] !")}[dI(251)](){const t=dI;let e=new this.constructor(this[t(254)],this[t(238)],this[t(259)]);this[t(253)]&&(e[t(253)]=this.vertexData[t(251)]()),e[t(265)]=this[t(265)][t(251)]();for(let r=0;r<this[t(243)].length;r++)e[t(235)](this[t(243)][r][t(251)]());return e}[dI(230)](){const e=dI;if(this[e(253)])return this[e(253)];const r=this[e(227)]instanceof t.ColorFill?this.fillSymbol[e(264)]()[e(229)]():[255,255,255,255];let i=this[e(246)]&&this[e(246)]instanceof t.ColorFill?this[e(246)][e(264)]()[e(229)]():r;const n=this[e(254)],s=this[e(238)],o=this[e(247)],a=this[e(234)],h=this[e(252)][1]*Math.PI/180,l=this[e(252)][0]*Math.PI/180,c=this[e(249)],u=(h-l)/a;let p=[],f=[];const g=[],d=[],_=[],y=s/2,m=Math.pow((1-o)*n,2)/s,I=r[0],x=r[1],v=r[2],b=r[3],w=i[0],T=i[1],E=i[2],C=i[3];let A=Math[e(255)](0),M=Math[e(257)](0),S=n*M,P=n*A,R=n*o*M,L=n*o*A;p[e(256)](S,P,-y,R,L,y),d.push(0,1,1,0,0,1);for(let t=1;t<=a+1;t++){const r=t*u+l,i=Math[e(255)](r),s=Math.cos(r);S=n*s,P=n*i,R=n*o*s,L=n*o*i;const h=(S+p[p[e(250)]-3])/2,c=(P+p[p[e(250)]-2])/2;_[e(256)](h,c,m,h,c,m),_[e(256)](h,c,m,h,c,m),p[e(256)](S,P,-y,R,L,y),p[e(256)](S,P,-y,R,L,y),g[e(256)](I,x,v,b,I,x,v,b),g[e(256)](I,x,v,b,I,x,v,b);const w=t/a;d[e(256)](w,1,1,w,0,1),d[e(256)](w,1,1,w,0,1);const T=4*t;f.push(T-4,T-2,T-1,T-4,T-1,T-3)}if(f.splice(f[e(250)]-3,3),p[e(241)](p[e(250)]-6,6),d[e(241)](d[e(250)]-6,6),c){const t=p[e(250)]/3;for(let t=0;t<=a;t++){const r=t*u+l,i=Math[e(255)](r),s=Math[e(257)](r);S=n*s,P=n*i,R=n*o*s,L=n*o*i,p.push(S,P,-y,R,L,y),_.push(0,0,-1,0,0,1),g[e(256)](w,T,E,C,w,T,E,C),d[e(256)]((1+s)/2,(1-i)/2,-1,(1+s)/2,(1-i)/2,-1)}for(let r=2;r<=a;r++)f[e(256)](t,t+2*r,t+2*r-2),f[e(256)](t+1,t+2*r-3,t+2*r-1)}const F=f;return this[e(253)]=new Map,this[e(253)][e(237)](e(240),p),this[e(253)][e(237)](e(248),[]),this[e(253)].set("a_color",g),this[e(253)][e(237)]("a_normal",_),this[e(253)].set(e(261),d),this.vertexData[e(237)](e(260),F),this[e(253)]}}const mI=["502548uTNYPJ","sin","loop","hasOwnProperty","index","566DhQcnF","a_color","length","sizeY","getMinHeight","377311JCQiDZ","_createHyperboloidVertex_1","push","1072dqTLMI","cosh","getElements","10cOqfJF","range","constructor","set","add","_createHyperboloidVertex_2","clone","4IGmItw","14HrAJkq","117798RZyaUo","sizeX","getMaxHeight","angleRange","vertexData","1033270wtxnJJ","4805HeRqmP","localMatrix","a_textureCoord","toUint8Array","invlaid angleRange ","sinh","fillSymbol","352972pEBoXg","2anRudr","sizeZ","sheetTwo","options"],II=xI;function xI(t,e){return mI[t-=436]}!function(t,e){const r=xI;for(;;)try{if(963926===parseInt(r(471))*-parseInt(r(443))+parseInt(r(472))*parseInt(r(473))+-parseInt(r(453))*parseInt(r(461))+parseInt(r(478))+-parseInt(r(436))*-parseInt(r(464))+-parseInt(r(444))*-parseInt(r(458))+-parseInt(r(448)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(mI);class vI extends Of{constructor(t,e,r,i={}){const n=xI;if(super(i),this.sizeX=t,this[n(456)]=e,this[n(445)]=r,this[n(446)]=!!i[n(451)]("sheetTwo")&&i[n(446)],this[n(465)]=i.hasOwnProperty(n(465))?i[n(465)]:[-1,1],this.angleRange=i[n(451)](n(476))?i[n(476)]:[0,360],this[n(476)][1]<this.angleRange[0])throw new RangeError(n(440))}[II(470)](){const t=II;let e=new(this[t(466)])(this[t(474)],this.sizeY,this[t(445)],this[t(447)]);this[t(477)]&&(e[t(477)]=this.vertexData[t(470)]()),e[t(437)]=this[t(437)][t(470)]();for(let r=0;r<this.children[t(455)];r++)e[t(468)](this.children[r][t(470)]());return e}[II(475)](){const t=II;return this[t(445)]*Math[t(441)](this[t(465)][1])}[II(457)](){const t=II;return this[t(445)]*Math[t(441)](this[t(465)][0])}createVertexData(){const e=II;if(this.vertexData)return this.vertexData;const r=this.fillSymbol instanceof t.ColorFill?this[e(442)].getColor()[e(439)]():[255,255,255,255];return this[e(459)](r)}_createHyperboloidVertex_1(e){const r=II,i=this[r(450)],n=this.range,s=this.angleRange[1]*Math.PI/180,o=this.angleRange[0]*Math.PI/180,a=[],h=[],l=[],c=[],u=[],p=this[r(474)],f=this.sizeY,g=this.sizeZ,d=n[0],_=(s-o)/i,y=n[1]-d;let m=new t.Vector3;const I=y/i;for(let t=0;t<=i;t++){const n=t*I+d,s=Math[r(462)](n),y=Math[r(441)](n),x=y;for(let n=0;n<=i;n++){const d=n*_+o,I=Math[r(449)](d),v=Math.cos(d),b=p*s*v,w=f*s*I,T=g*y;a[r(460)](b,w,T),c.push(n/i,1-t/i,1);const E=-2*p*x*I+I,C=2*f*x*v+v,A=g*x;if(m[r(467)](E,C,A),u[r(460)](...m[r(463)]()),h[r(460)](...e),t<i&&n<i){const e=t*(i+1)+n,r=(t+1)*(i+1)+n;l.push(e,e+1,r,e+1,r+1,r)}}}return this[r(477)]=new Map,this[r(477)].set("a_position",a),this[r(477)][r(467)]("a_positionL",[]),this[r(477)].set(r(454),h),this[r(477)][r(467)]("a_normal",u),this[r(477)][r(467)](r(438),c),this[r(477)][r(467)](r(452),l),this[r(477)]}[II(469)](t,e,r,i=[1,0,0,1]){return null}}const bI=["a_positionL","getColor","index","fillSymbol","455723QNDGQS","1336621JLwMCW","options","a_position","radiusY","invlaid angleRange ","2BaHpsh","latRange","radiusX","lonRange","radiusZ","children","cos","constructor","push","add","1DVFkrM","length","sin","364779thySjA","a_normal","toUint8Array","576671akiTnj","clone","627532VHZQWb","hasOwnProperty","208667OAOMxu","61152gEzhlp","localMatrix","vertexData","a_color","loop","set"];function wI(t,e){return bI[t-=267]}const TI=wI;!function(t,e){const r=wI;for(;;)try{if(372445===-parseInt(r(295))+parseInt(r(300))*parseInt(r(279))+-parseInt(r(289))*-parseInt(r(299))-parseInt(r(297))+parseInt(r(292))+-parseInt(r(273))+parseInt(r(274)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(bI);class EI extends Of{constructor(t,e,r,i={}){const n=wI;if(super(i),this[n(281)]=t,this[n(277)]=e,this[n(283)]=r,this[n(280)]=i[n(298)](n(280))?i[n(280)]:[0,180],this[n(280)][1]<this.latRange[0])throw new RangeError(n(278));if(this.lonRange=i.hasOwnProperty(n(282))?i.lonRange:[0,360],this[n(282)][1]<this[n(282)][0])throw new RangeError(n(278))}[TI(296)](){const t=TI;let e=new(this[t(286)])(this.radiusX,this[t(277)],this[t(283)],this[t(275)]);this.vertexData&&(e[t(302)]=this[t(302)][t(296)]()),e[t(301)]=this[t(301)][t(296)]();for(let r=0;r<this[t(284)][t(290)];r++)e[t(288)](this.children[r][t(296)]());return e}createVertexData(){const e=TI;if(this[e(302)])return this[e(302)];const r=this[e(272)]instanceof t.ColorFill?this[e(272)][e(270)]()[e(294)]():[255,255,255,255],i=this[e(267)],n=this[e(267)],s=this.radiusX,o=this[e(277)],a=this[e(283)],h=this[e(280)][0]*Math.PI/180,l=this[e(280)][1]*Math.PI/180,c=this[e(282)][0]*Math.PI/180,u=(l-h)/n,p=(this[e(282)][1]*Math.PI/180-c)/i,f=[],g=[],d=[],_=[];for(let t=0;t<=n;t++){const l=t*u+h,y=Math[e(291)](l),m=Math.cos(l);for(let h=0;h<=i;h++){const l=h*p+c,u=s*Math.sin(l)*y,I=o*Math[e(285)](l)*y,x=-a*m;f.push(u,I,x),g[e(287)](u,I,x),d[e(287)](...r),_[e(287)](h/i,1-t/n,1)}}let y=[];const m=n+1;for(let t=0;t<n;t++){let r=t*m;for(let t=0;t<i;t++){const i=r+t;y[e(287)](i,i+m,i+1),y[e(287)](i+m,i+m+1,i+1)}}return this[e(302)]=new Map,this[e(302)][e(268)](e(276),f),this.vertexData.set(e(269),[]),this.vertexData[e(268)](e(303),d),this[e(302)][e(268)](e(293),g),this[e(302)][e(268)]("a_textureCoord",_),this[e(302)].set(e(271),y),this.vertexData}}const CI=["radius","localMatrix","1GfjSqY","angleRange","loop","children","setOutline","132547PiKjMD","a_positionL","cross","too few vertices!","length","851588qjiqmG","159lyhBnN","getColor","cos","center","hasOwnProperty","coordSeq","getElement","a_position","90520sMaloU","toUint8Array","_coordArr","fillSymbol","setPosition","clone","getCoordCount","normalize","3039mbrEgQ","vertexData","options","641817uhAhEm","set","798188kKCeIV","getElements","thickness","add","313802heLrzR","minus","invlaid angleRange ","getCoordinate","outlineStength","topSymbol","sin","push","error"],AI=SI;!function(t,e){const r=SI;for(;;)try{if(431653===parseInt(r(404))*parseInt(r(420))+parseInt(r(398))+parseInt(r(412))+parseInt(r(382))+-parseInt(r(425))+-parseInt(r(423))+-parseInt(r(393))*-parseInt(r(403)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(CI);class MI extends Of{constructor(t,e,r={}){const i=SI;if(super(r),t[i(418)]()<3)throw new SyntaxError(i(401));if(this.coordSeq=t,this[i(391)]=e,this[i(407)]=this[i(409)][i(385)](0),this[i(394)]=r[i(408)]("angleRange")?r.angleRange:[0,360],this[i(427)]=r[i(408)](i(427))?r[i(427)]:0,this[i(387)]=r[i(408)](i(387))?r[i(387)]:null,this[i(394)][1]<this.angleRange[0])throw new RangeError(i(384));this[i(416)](this.center._x,this[i(407)]._y,this[i(407)]._z)}[AI(397)](e,r=new t.Color(255,0,0,1)){const i=AI;this[i(386)]=0,console[i(390)]("TubeMesh do not support outline")}[AI(417)](){const t=AI;let e=new this.constructor(this[t(409)],this[t(391)],this[t(422)]);this[t(421)]&&(e.vertexData=this[t(421)][t(417)]()),e[t(392)]=this.localMatrix[t(417)]();for(let r=0;r<this[t(396)][t(402)];r++)e[t(428)](this[t(396)][r][t(417)]());return e}createVertexData(){const e=AI;if(this[e(421)])return this.vertexData;const r=this[e(415)]instanceof t.ColorFill?this[e(415)][e(405)]().toUint8Array():[255,255,255,255];let i=this.topSymbol&&this[e(387)]instanceof t.ColorFill?this.topSymbol[e(405)]()[e(413)]():r;const n=this.radius,s=this[e(391)]-this[e(427)],o=this[e(409)][e(414)],a=this[e(395)],h=this.angleRange[1]*Math.PI/180,l=this[e(394)][0]*Math.PI/180,c=(h-l)/a,u=[],p=[],f=[],g=[],d=[],_=new t.Vector3,y=new t.Vector3;let m,I,x,v=new t.Vector3,b=new t.Vector3,w=new t.Vector3;m=o[0][e(383)](o[0]),I=o[1][e(383)](o[0]),x=o[2][e(383)](o[0]),_.set(I._x-m._x,I._y-m._y,I._z-m._z).normalize(),y[e(424)](x._x-I._x,x._y-I._y,x._z-I._z).normalize(),w[e(424)](..._[e(426)]())[e(400)](y)[e(419)](),_.cross(w)[e(419)](),T(m,_,w,0);for(let t=1,r=o[e(402)];t<r-1;t++)m=o[t-1][e(383)](o[0]),I=o[t][e(383)](o[0]),x=o[t+1].minus(o[0]),_.set(I._x-m._x,I._y-m._y,I._z-m._z).normalize(),y[e(424)](x._x-I._x,x._y-I._y,x._z-I._z)[e(419)](),v[e(424)](_.getElement(0)-y[e(410)](0),_[e(410)](1)-y[e(410)](1),_[e(410)](2)-y[e(410)](2))[e(419)](),_.cross(y).normalize(),T(I,v,_,t/r);function T(t,i,o,h){const d=e;o[d(410)](2)>0&&(o.negate(),i.negate());for(let e=0;e<=a;e++){const _=e*c+l,y=-Math[d(388)](_),m=Math[d(406)](_),I=m*i.getElement(0)+y*o.getElement(0),x=m*i[d(410)](1)+y*o[d(410)](1),v=m*i.getElement(2)+y*o[d(410)](2);b[d(424)](I,x,v),f[d(389)](I,x,v),f[d(389)](-I,-x,-v);const w=t._x+n*I,T=t._y+n*x,E=t._z+n*v;u.push(w,T,E),p.push(...r),g.push(h,e/a,1);const C=t._x+s*I,A=t._y+s*x,M=t._z+s*v;u[d(389)](C,A,M),p[d(389)](...r),g[d(389)](h,e/a,1)}}return m=o[o[e(402)]-3][e(383)](o[0]),I=o[o.length-2].minus(o[0]),x=o[o[e(402)]-1][e(383)](o[0]),_[e(424)](I._x-m._x,I._y-m._y,I._z-m._z)[e(419)](),y.set(x._x-I._x,x._y-I._y,x._z-I._z)[e(419)](),w[e(424)](..._[e(426)]())[e(400)](y)[e(419)](),y[e(400)](w)[e(419)](),T(x,y,w,1),function(){const t=e;for(let e=0;e<o.length-1;e++)for(let r=0;r<a;r++){const i=2*((a+1)*e+r),n=i+2,s=2*((a+1)*(e+1)+r),o=s+2,h=i+1,l=n+1,c=s+1,u=o+1;d.push(h,c,l),d[t(389)](l,c,u),d[t(389)](i,n,s),d[t(389)](s,n,o)}}(),0!==this[e(427)]&&(function(){const t=e,r=u[t(402)]/3;m=o[0][t(383)](o[0]),I=o[1][t(383)](o[0]);const h=I._x-m._x,_=I._y-m._y,y=I._z-m._z,x=[],v=[],b=[],w=[];for(let e=0;e<6*(a+1);e+=3)x[t(389)](u[e],u[e+1],u[e+2]),w[t(389)](...i),b[t(389)](h,_,y);const T=s/n;for(let e=0;e<=a;e++){const r=e*c+l,i=Math.cos(r),n=-Math[t(388)](r);v[t(389)]((1+i)/2,(1-n)/2,0),v[t(389)]((1+i*T)/2,(1-n*T)/2,0)}u.push(...x),p[t(389)](...w),f[t(389)](...b),g.push(...v);for(let e=0;e<a;e++){const i=r+2*e;d[t(389)](i,i+1,i+2,i+2,i+1,i+3)}}(),function(){const t=e,r=u[t(402)]/3;m=o[o.length-1][t(383)](o[0]),I=o[o[t(402)]-2][t(383)](o[0]);const h=I._x-m._x,_=I._y-m._y,y=I._z-m._z,x=[],v=[],b=[],w=[];for(let e=0;e<=6*(a+1);e+=3){const r=(a+1)*(o.length-1)*6+e;x[t(389)](u[r],u[r+1],u[r+2]),w.push(...i),b[t(389)](h,_,y)}const T=s/n;for(let e=0;e<=a;e++){const r=e*c+l,i=Math.cos(r),n=-Math[t(388)](r);v[t(389)]((1+i)/2,(1-n)/2,0),v[t(389)]((1+i*T)/2,(1-n*T)/2,0)}u[t(389)](...x),p[t(389)](...w),f[t(389)](...b),g[t(389)](...v);for(let e=0;e<a;e++){const i=r+2*e;d[t(389)](i,i+2,i+1,i+1,i+2,i+3)}}()),this[e(421)]=new Map,this.vertexData.set(e(411),u),this.vertexData[e(424)](e(399),[]),this[e(421)][e(424)]("a_color",p),this[e(421)].set("a_normal",f),this[e(421)][e(424)]("a_textureCoord",g),this[e(421)].set("index",d),this[e(421)]}}function SI(t,e){return CI[t-=382]}const PI=["187079IqLEGF","loopOutside","1uceoZP","push","createVertexData","195821fStiUU","angleRangeA","hasOwnProperty","localMatrix","sin","getColor","vertexData","radiusC","constructor","31529CvgxVU","1mBNuAH","angleInSide","options","49776DYmWpk","clone","children","radiusA","2LUBtfG","index","63703gwwKJK","loop2","865787WSYotc","130262rzuzVF","a_color","23waLvim","length","loop","fillSymbol","angleOutSide","set","angleRangeC","cos"];function RI(t,e){return PI[t-=280]}const LI=RI;!function(t,e){const r=RI;for(;;)try{if(435292===parseInt(r(308))*-parseInt(r(286))+parseInt(r(311))+parseInt(r(306))*parseInt(r(284))+parseInt(r(302))+parseInt(r(310))+parseInt(r(299))*-parseInt(r(289))+parseInt(r(298))*-parseInt(r(313)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(PI);class FI extends Of{constructor(t,e,r={}){const i=RI;super(r),this[i(296)]=t,this[i(305)]=e,r[i(291)](i(282))&&(r.angleOutSide=r[i(282)]),r[i(291)](i(290))&&(r[i(300)]=r[i(290)]),r.hasOwnProperty("loop2")&&(r[i(285)]=r.loop2),this[i(309)]=r[i(291)]("loopOutside")?r[i(285)]:this[i(315)],this[i(282)]=r.hasOwnProperty(i(280))?r[i(280)]:[0,360],this[i(290)]=r[i(291)](i(300))?r[i(300)]:[0,360]}clone(){const t=RI;let e=new(this[t(297)])(this[t(296)],this[t(305)],this[t(301)]);this.vertexData&&(e[t(295)]=this.vertexData[t(303)]()),e.localMatrix=this[t(292)][t(303)]();for(let r=0;r<this[t(304)][t(314)];r++)e.add(this[t(304)][r][t(303)]());return e}[LI(288)](){const e=LI;if(this.vertexData)return this[e(295)];const r=this[e(316)]instanceof t.ColorFill?this[e(316)][e(294)]().toUint8Array():[255,255,255,255],i=this[e(290)][0]*Math.PI/180,n=this[e(290)][1]*Math.PI/180,s=this[e(282)][0]*Math.PI/180,o=this.angleRangeC[1]*Math.PI/180,a=(n-i)/this[e(309)],h=(o-s)/this[e(315)],l=[],c=[],u=[],p=[];for(let t=0;t<=this[e(315)];t++){const n=t*h+s,o=Math.cos(n),f=Math[e(293)](n);for(let n=0;n<=this[e(309)];n++){const s=n*a+i,h=Math[e(283)](s),g=h*o,d=h*f,_=Math[e(293)](s),y=this[e(305)]*g+this.radiusC*o,m=this[e(305)]*d+this[e(296)]*f,I=this[e(305)]*_;l.push(y,m,I),c[e(287)](...r),p[e(287)](g,d,_),u.push(t/this[e(315)],n/this[e(309)],1)}}let f=[];for(let t=0;t<this[e(315)];t++)for(let r=0;r<this[e(309)];r++){let i=t*(this[e(315)]+1)+r,n=(t+1)*(this.loop+1)+r;f.push(i,n,i+1),f[e(287)](i+1,n,n+1)}return this[e(295)]=new Map,this[e(295)][e(281)]("a_position",l),this.vertexData[e(281)]("a_positionL",[]),this[e(295)][e(281)](e(312),c),this[e(295)].set("a_normal",p),this.vertexData[e(281)]("a_textureCoord",u),this.vertexData[e(281)](e(307),f),this[e(295)]}}const DI=["a_position","24wwvoVk","toUint8Array","147575kaLzrp","update","cross","updateNormals","colors","normals","vertices","push","coord2","3iUicHL","getElements","toArray","setVertices","a_positionL","normalize","487892hmxmoC","a_normal","set","coord3","685114kRkgVI","8460ssIDho","fillSymbol","getColor","length","setNormals","coord1","_faces","72RaFmmc","a_color","faces","4006MeApmY","createVertexData","index","76xgMOYz","887rnzFQx","vertexData","a_textureCoord","795607LvAedd"],OI=NI;function NI(t,e){return DI[t-=219]}!function(t,e){const r=NI;for(;;)try{if(396064===-parseInt(r(246))*-parseInt(r(247))+parseInt(r(228))+parseInt(r(233))*-parseInt(r(252))+-parseInt(r(243))*parseInt(r(240))+parseInt(r(254))*parseInt(r(222))+parseInt(r(232))+-parseInt(r(250)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(DI);class BI extends Of{constructor(e={}){const r=NI;if(super(e),!(this[r(234)]instanceof t.ColorFill))throw new SyntaxError("only ColorFill symbol supported");this[r(239)]=[]}get faces(){return this[NI(239)]}set[OI(242)](t){this[OI(239)]=t}[OI(255)](){super[OI(255)]()}[OI(244)](){const t=OI;if(this.vertexData)return this[t(248)];const e=this.fillSymbol[t(235)]()[t(253)]();let r=e[0],i=e[1],n=e[2],s=e[3];const o=[],a=[],h=[],l=[],c=[];for(let e=0,u=this._faces[t(236)];e<u;e++){const u=this[t(239)][e];o.push(...u.vertices),0===u.colors[t(236)]?a[t(220)](r,i,n,s,r,i,n,s,r,i,n,s):a[t(220)](...u[t(258)]),0===u[t(259)][t(236)]&&u[t(257)](),h.push(...u[t(259)]),c[t(220)](0,0,0,0,0,0,0,0,0),l[t(220)](3*e,3*e+1,3*e+2)}return this.vertexData=new Map,this.vertexData.set(t(251),o),this[t(248)][t(230)](t(226),[]),this[t(248)][t(230)](t(241),a),this[t(248)].set(t(249),c),this[t(248)].set(t(229),h),this.vertexData[t(230)](t(245),l),this[t(248)]}}class UI{constructor(t,e,r){const i=OI;this[i(238)]=t,this.coord2=e,this.coord3=r,this[i(219)]=[],this.colors=[],this[i(259)]=[],this[i(225)](t,e,r)}setColors(t,e,r){const i=OI;this[i(258)][i(236)]=0,this[i(258)].push(...t[i(253)]()),this[i(258)].push(...e[i(253)]()),this[i(258)].push(...r[i(253)]())}[OI(225)](t,e,r){const i=OI;this[i(219)].length=0,this[i(219)].push(...t.toArray()),this[i(219)].push(...e[i(224)]()),this[i(219)][i(220)](...r.toArray())}updateNormals(){const e=OI;let r=new t.Vector3(this[e(221)]._x-this[e(238)]._x,this[e(221)]._y-this.coord1._y,this[e(221)]._z-this[e(238)]._z),i=new t.Vector3(this[e(231)]._x-this[e(238)]._x,this[e(231)]._y-this.coord1._y,this.coord3._z-this[e(238)]._z);r[e(256)](i),this.setNormals(r,r,r)}[OI(237)](t,e,r){const i=OI;this[i(259)][i(236)]=0,this.normals.push(...t.normalize().getElements()),this.normals[i(220)](...e[i(227)]()[i(223)]()),this[i(259)].push(...r[i(227)]()[i(223)]())}}const kI=["constructor","colors","path","_colorArr","767009qzZOqc","checkCollinear","yMin","_offsetY","a_color","height","_size","length","_offsetX","clone","pow","_color","_pathMoveTo","_isClockWise","313978kaeXnJ","underlineThickness","resolution","index","offsetX","size","paths","130032hpfBUq","toUint8Array","getValue","_addPolygonIndices","_parseFont","font","positions","434927JWMkBh","849017ksarvQ","slice","_pathQuadraticCurveTo","value","_curveSegments","EPSILON","glyphs","curveSegments","holes","_font","_text","_getBezierPoints","coordData","_pathLineTo","set","_height","createVertexData","a_normal","_pathBezierCurveTo","_calculateHoles","shift","679769HEUUan","split","vertexData","color","3uottnZ","createPaths","1xJFxOS","boundingBox","offset","push","parameter 'options.font' must be given!","_offset","a_position","1uPhZwR","_loadFont","createPath","1473870GspwEE","_cachedOutline"],VI=GI;function GI(t,e){return kI[t-=329]}!function(t,e){const r=GI;for(;;)try{if(776634===parseInt(r(329))*parseInt(r(352))+parseInt(r(367))+-parseInt(r(359))+parseInt(r(366))*parseInt(r(392))+-parseInt(r(338))+parseInt(r(394))*parseInt(r(388))+-parseInt(r(332)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(kI);class zI extends Of{constructor(e,r={}){const i=GI;super(r),this[i(377)]=e,this._font=r[i(364)],this[i(349)]=r[i(391)]||new t.Color(0,255,0,1),this[i(337)]=this[i(349)][i(360)](),this[i(344)]=r.size&&r[i(357)]>0?r[i(357)]:100,this[i(382)]=r[i(343)]&&r[i(343)]>0?r[i(343)]:100,this[i(371)]=r[i(374)]||5,this._offset=r[i(396)]?r[i(396)]:null,this[i(330)]()}[VI(330)](){const t=VI;if(this._offset&&(this[t(346)]=this[t(399)][t(361)]("X"),this[t(341)]=this[t(399)][t(361)]("Y")),!this[t(376)])throw TypeError(t(398));this[t(363)](this[t(376)])}_parseFont(t){const e=VI;let r=t,i=this[e(344)];this[e(358)]=this[e(393)](this[e(377)],i,r)}createPaths(t,e,r){const i=VI;let n=(t+"")[i(389)](""),s=e/r[i(354)],o=(r[i(395)].yMax-r[i(395)][i(340)]+r[i(353)])*s,a=[],h=this[i(346)]||0,l=this[i(341)]||0;for(let t=0;t<n[i(345)];t++){let e=n[t];if("\n"===e)h=0,l-=o;else{let t=this[i(331)](e,s,h,l,r);h+=t[i(356)],a.push(t[i(336)])}}return a}[VI(331)](t,e,r,i,n){const s=VI;let o=n[s(373)][t]||n[s(373)]["?"];if(!o)return;let a,h,l,c,u,p,f=[];if(o.o){let t,n=[],g=o[s(333)]||(o[s(333)]=o.o[s(389)](" "));for(let o=0,d=g.length;o<d;){let d;switch(g[o++]){case"m":n=[],f[s(397)](n),a=g[o++]*e+r,h=g[o++]*e+i,d=this[s(350)]([a,h,0]),n[s(397)](d);break;case"l":a=g[o++]*e+r,h=g[o++]*e+i,d=this._pathLineTo(t,[a,h,0]),n.push(d);break;case"q":a=g[o++]*e+r,h=g[o++]*e+i,l=g[o++]*e+r,c=g[o++]*e+i,d=this[s(369)](t,[l,c,0],[a,h,0]),n[s(397)](...d);break;case"b":a=g[o++]*e+r,h=g[o++]*e+i,l=g[o++]*e+r,c=g[o++]*e+i,u=g[o++]*e+r,p=g[o++]*e+i,d=this._pathBezierCurveTo(t,[l,c,0],[u,p,0],[a,h,0]),n[s(397)](...d)}t=[a,h,0]}}return{offsetX:o.ha*e,path:f}}[VI(350)](t){return t}[VI(380)](t,e){return e}[VI(369)](t,e,r){const i=VI;let n=this._getBezierPoints([t,e,r]);return n[i(387)](),n}[VI(385)](t,e,r,i){const n=VI;let s=this[n(378)]([t,e,r,i]);return s[n(387)](),s}_getBezierPoints(t){const e=VI;let r=this[e(371)];const i=[],n=t[e(345)]-1;for(let o=0;o<=1;o+=1/r){let r=0,a=0,h=0;for(let i=0;i<=n;i++){let l=s(n,i),c=Math.pow(o,i),u=Math[e(348)](1-o,n-i);r+=l*c*u*t[i][0],a+=l*c*u*t[i][1],h+=l*c*u*t[i][2]||0}i.push([r,a,h])}function s(t,e){return o(t)/(o(e)*o(t-e))}function o(t){if(t<=1)return 1;if(2==t)return 2;if(3==t)return 6;if(4==t)return 24;if(5==t)return 120;let e=1;for(let r=1;r<=t;r++)e*=r;return e}return i.push(t[n]),i}clone(){const t=VI;let e=new(this[t(334)])(this._text,{font:this[t(376)],color:this[t(349)],size:this._size,height:this[t(382)],curveSegments:this[t(371)]});return this[t(390)]&&(e[t(390)]=this[t(390)][t(347)]()),e}[VI(383)](){const t=VI;if(this[t(390)])return this[t(390)];let e=[],r=[],i=[],n=[],s=this[t(358)];if(s[t(345)]>0){let o=0;for(let r=0;r<s[t(345)];r++){let n=s[r],a=this[t(386)](n),h=a[t(358)],l=a[t(375)];for(let r=0;r<h[t(345)];r++){let n=h[r],s=l[r];if(n[t(345)]>1){let r=[];for(let e=0;e<n[t(345)];e++)r.push(...n[e]);let a=n[t(345)],h=0,l=[];if(s&&0!=s[t(345)])for(let e of s){l[t(397)](a+h);for(let i=0;i<e.length;i++)r[t(397)](...e[i]),h++}let c=a+h,u=this[t(362)](r,l,2*o)[t(355)],p=[];for(let e of u)p[t(397)](e+c);i[t(397)](...u,...p);for(let e=1;e<u[t(345)];e++){let r=u[e];i[t(397)](r-1+c,r-1,r+c,r+c,r-1,r)}let f=[];for(let e=0;e<c;e++)f[t(397)](r[3*e],r[3*e+1],r[3*e+2]+this._height);e[t(397)](...r,...f),o+=c}}}let a=this._reCalculateData(e,i);e=a[t(365)],n=a.normals,i=a.indices,r=a[t(335)]}return this[t(390)]=new Map,this.vertexData[t(381)](t(400),e),this[t(390)][t(381)]("a_positionL",[]),this[t(390)][t(381)](t(342),r),this[t(390)][t(381)](t(384),n),this[t(390)][t(381)](t(355),i),this[t(390)]}_reCalculateData(t=[],e=[]){const r=VI;let i=[],n=[],s=[],o=[];for(let a=0;a<e.length/3;a++){let h=e[3*a],l=e[3*a+1],c=e[3*a+2],u=[t[3*h],t[3*h+1],t[3*h+2]],p=[t[3*l],t[3*l+1],t[3*l+2]],f=[t[3*c],t[3*c+1],t[3*c+2]];i[r(397)](...u,...p,...f);let g=Tm(u,p,f)[r(370)];s[r(397)](g[0],g[1],g[2],g[0],g[1],g[2],g[0],g[1],g[2]),n[r(397)](3*a,3*a+1,3*a+2),o.push(...this[r(337)],...this[r(337)],...this._colorArr)}return{positions:i,normals:s,indices:n,colors:o}}[VI(386)](t){const e=VI;function r(t,e){const r=GI;let i=e[r(345)],n=!1;for(let s=i-1,o=0;o<i;s=o++){let i=e[s],a=e[o],h=a[0]-i[0],l=a[1]-i[1];if(Math.abs(l)>Number[r(372)]){if(l<0&&(i=e[o],h=-h,a=e[s],l=-l),t[1]<i[1]||t[1]>a[1])continue;if(t[1]===i[1]){if(t[0]===i[0])return!0}else{let e=l*(t[0]-i[0])-h*(t[1]-i[1]);if(0===e)return!0;if(e<0)continue;n=!n}}else{if(t[1]!==i[1])continue;if(a[0]<=t[0]&&t[0]<=i[0]||i[0]<=t[0]&&t[0]<=a[0])return!0}}return n}if(0===t[e(345)])return{paths:[],holes:[]};if(1===t[e(345)])return{paths:t,holes:[]};let i=!this._isClockWise(t[0]),n=[],s=[],o=0;n[o]=void 0,s[o]=[];for(let r=0,a=t[e(345)];r<a;r++){let a=t[r];this[e(351)](a)?(!i&&n[o]&&o++,n[o]=a,i&&o++,s[o]=[]):s[o][e(397)](a)}let a=[];if(n[e(345)]>1){let t=!1,i=[];for(let t=0,r=n[e(345)];t<r;t++)a[t]=[];for(let o=0,h=n[e(345)];o<h;o++){let h=s[o];for(let s=0;s<h.length;s++){let l=h[s],c=!0;for(let h=0;h<n.length;h++)r(l[0],n[h])&&(o!==h&&i[e(397)]({froms:o,tos:h,hole:s}),c?(c=!1,a[h].push(l)):t=!0);c&&a[o][e(397)](l)}}i[e(345)]>0&&(t||(s=a))}return{paths:n,holes:s}}[VI(351)](t){let e=t.length,r=0;for(let i=e-1,n=0;n<e;i=n++)r+=t[i][0]*t[n][1]-t[n][0]*t[i][1];return.5*r<0}[VI(362)](e=[],r=[],i=0){const n=VI;let s,o;const a={coordData:e,holeIndices:r};if(12===a[n(379)][n(345)]){s=a[n(379)][n(368)](0,9),o=[i+0,i+1,i+2];-1===t.Topology[n(339)](new t.Coordinate(s[0],s[1],s[2]),new t.Coordinate(s[3],s[4],s[5]),new t.Coordinate(s[6],s[7],s[8]))&&o.reverse()}else{s=a[n(379)],o=t.EarCut.earcut(a[n(379)],a.holeIndices,3);for(let t=0;t<o[n(345)];t++)o[t]+=i}return{a_position:s,index:o,positionCount:[s.length/3],indexCount:[o[n(345)]]}}}const HI=["fillSymbol","1598vYgOjt","9gpAfvE","options","push","360278MjPHTg","277349runyel","toUint8Array","a_textureCoord","vertexData","1kONdRp","index","4RBpXtu","a_positionL","height","a_position","14TkPphE","localMatrix","a_color","children","createVertexData","601920WzlLUd","getColor","set","25838akcDHq","21980syuova","308zgMSKY","62329xWTwQZ","width","clone"];function jI(t,e){return HI[t-=303]}const YI=jI;!function(t,e){const r=jI;for(;;)try{if(416582===-parseInt(r(318))*-parseInt(r(331))+-parseInt(r(316))*-parseInt(r(312))+parseInt(r(330))*parseInt(r(322))+-parseInt(r(308))*parseInt(r(303))-parseInt(r(327))+parseInt(r(311))+parseInt(r(332))*parseInt(r(307)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(HI);class $I extends Of{constructor(t,e,r){const i=jI;super(r),this[i(304)]=t,this.height=e}[YI(305)](){const t=YI;let e=new this.constructor(this[t(304)],this[t(320)],this[t(309)]);this[t(315)]&&(e[t(315)]=this[t(315)].clone()),e[t(323)]=this[t(323)][t(305)]();for(let r=0;r<this[t(325)].length;r++)e.add(this.children[r].clone());return e}[YI(326)](){const e=YI;if(this[e(315)])return this[e(315)];const r=this[e(306)]instanceof t.ColorFill?this[e(306)][e(328)]()[e(313)]():[255,255,255,255],i=this[e(304)]/2,n=this[e(320)]/2,s=r[0],o=r[1],a=r[2],h=r[3],l=[],c=[],u=[],p=[];l.push(-i,n,0),p[e(310)](0,0,1),c[e(310)](0,0,1),u[e(310)](s,o,a,h),l[e(310)](-i,-n,0),p[e(310)](0,1,1),c[e(310)](0,0,1),u[e(310)](s,o,a,h),l.push(i,-n,0),p[e(310)](1,1,1),c[e(310)](0,0,1),u.push(s,o,a,h),l.push(i,n,0),p.push(1,0,1),c[e(310)](0,0,1),u[e(310)](s,o,a,h);return this[e(315)]=new Map,this.vertexData[e(329)](e(321),l),this[e(315)].set(e(319),[]),this[e(315)][e(329)](e(324),u),this[e(315)].set("a_normal",c),this.vertexData[e(329)](e(314),p),this[e(315)][e(329)](e(317),[0,1,2,0,2,3]),this.vertexData}}const XI=["clone","push","7LfYBDP","332428AXrCCP","localMatrix","add","15743szqBul","_painterType","children","worldMatrix","181963AcUVRO","constructor","1GTigwY","length","meshes","getAllChildren","9637tGXirK","8nrypow","15tqJPVh","73174bYDlrk","40923mCHDsm","updateWorldMatrix","1JMQNAo","17757iUpaRs","getBBox","updatePainterType"],WI=ZI;function ZI(t,e){return XI[t-=108]}!function(t,e){const r=ZI;for(;;)try{if(172673===parseInt(r(115))+parseInt(r(132))*-parseInt(r(108))+parseInt(r(114))*parseInt(r(109))+-parseInt(r(118))*-parseInt(r(124))+-parseInt(r(130))*-parseInt(r(128))+parseInt(r(122))+-parseInt(r(131))*parseInt(r(129)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(XI);class qI extends Of{constructor(e){const r=ZI;super(e),this[r(119)]=t.painterType.MESH_GROUP}[WI(112)](){const t=WI;let e=new(this[t(123)])(this.options);e.localMatrix=this[t(116)].clone();for(let r=0;r<this.children[t(125)];r++)e[t(117)](this[t(120)][r][t(112)]());return e}[WI(127)](){const t=WI;this.meshes=[];for(let e=0;e<this[t(120)].length;e++)this[t(126)][t(113)](...this.traverse(this[t(120)][e]));return this[t(126)]}updateWorldMatrix(){const t=WI;this[t(121)]=this[t(116)][t(112)]();for(let e of this.children)e[t(133)](this)}[WI(111)](t=!0){return this._painterType}[WI(110)](){}}var JI=["1EmQvtH","395088FvEbBr","979655hDqfCm","266261GqYUyi","109166AbhsTt","1086862VCGzGq","1506952JZFqdI","1TsMUwq","1472444nARGZH","2VGbXyB"];function KI(t,e){return JI[t-=246]}!function(t,e){for(var r=KI;;)try{if(884611===parseInt(r(249))+parseInt(r(251))+-parseInt(r(248))+-parseInt(r(252))*parseInt(r(246))+parseInt(r(253))*-parseInt(r(255))+parseInt(r(250))*parseInt(r(247))+parseInt(r(254)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(JI);var QI=Object.freeze({__proto__:null,gltf:Cy,Model:t.Model,FbxModel:Nm,Obj:eI,Stretch:ic,ModelInstance:sI,Voxel:lI,TubeMesh:MI,SphereMesh:EI,HyperboloidMesh:vI,CylinderMesh:yI,CubeMesh:fI,Mesh:Of,TorusMesh:FI,CustomMesh:BI,Face:UI,TextMesh:zI,PlaneMesh:$I,MeshGroup:qI});const tx=["getCoordinate","writeGeometry","parenComma","_mPolygonToWkt","663967oEeQhQ","LINESTRING(","getCoordinates","MULTIPOINT Z(","1bMedKK","_mLineToWkt","length","POLYGON(","49351pMKuJV","push","_createLine","trimParens","POLYGON Z(","616054AnavNq","split","_createLinearRing","_createMPolygon","_coordSeqsToStr","_extractNumFromCoords","regExps","MultiPolygon","_getCoords","_mPointToWkt","_createPolygon","21DCzGeT","_collectionToWkt","Circle","GEOMETRYCOLLECTION(","polygon","getGeometry","MULTILINESTRING(","replace","_getCoord","_coordSeqsToStr2","_createMLine","2ruxsBZ","readGeometry","_createGeometry","_createMPoint","multipolygon","getPolygons","Rectangle","GEOMETRYCOLLECTION Z(","MultiPoint","toString","1jehDTT","Polygon","writeFeature","getType","542288etvMAY","toLowerCase","Point","_extractNumFromCoord","_extractNumFromCoord2","linestring","_createCollection","_pointToWkt","1XcoWRo","MULTIPOLYGON(","_triangletoWkt","toPolygon","1161302jjldRv","TRIANGLE ((","getCoordSeqs","multipoint","trim","_createPoint","map","_extractNumFromCoords2","Collection","the paramter must be instance of Vector!","geometrycollection","polyhedron","POINT Z(","Hexagon","_extractNumFromCoordSeq2","join","readFeature","135623aYCavI","empty","Triangle","getCoordCount","MULTIPOLYGON Z(","14719GdRIUc","_extractNumFromCoordSeq","getCoordSeq","exec","|$1","_cretePoints"];function ex(t,e){return tx[t-=298]}const rx=ex;!function(t,e){const r=ex;for(;;)try{if(830901===parseInt(r(303))*parseInt(r(312))+parseInt(r(356))*-parseInt(r(377))-parseInt(r(307))+parseInt(r(348))+-parseInt(r(323))*parseInt(r(382))+parseInt(r(334))*parseInt(r(299))+parseInt(r(344))*-parseInt(r(360)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(tx);class ix{constructor(){this.regExps={wktPattern:/^\s*((\w+)\s*(\w*))\s*(\(\s*(.*)\s*\))?\s*$/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\S*\(/,trimParens:/^\s*\(*(.*?)\)*\s*$/}}[rx(376)](e){const r=this[rx(335)](e);return r?new t.Vector(r):r}[rx(335)](t){const e=rx;t=t[e(330)](/\s+/g," ");const r=this.regExps.wktPattern[e(385)](t);let i=null;if(r){let t=r[2][e(349)](),n=r[3][e(349)](),s=r[5];i=this._createGeometry(t,n,s)}return i}[rx(346)](e,r=3){const i=rx;if(!(e instanceof t.Vector))throw new TypeError(i(369));return this[i(389)](e[i(328)](),r)}writeGeometry(e,r=3){const i=rx;if(!(e instanceof t.Geometry)||2!==r&&3!==r)return"";let n="";switch(e[i(347)]()){case t.GeometryType[i(350)]:n=this[i(355)](e,r);break;case t.GeometryType[i(342)]:n=this[i(321)](e,r);break;case t.GeometryType.Line:case t.GeometryType.LinearRing:n=this._lineToWkt(e,r);break;case t.GeometryType.MultiLine:n=this[i(304)](e,r);break;case t.GeometryType[i(345)]:n=this._polygonToWkt(e,r);break;case t.GeometryType[i(319)]:n=this[i(298)](e,r);break;case t.GeometryType[i(368)]:n=this[i(324)](e,r);break;case t.GeometryType[i(325)]:n=this.writeGeometry(e[i(359)](),r);break;case t.GeometryType[i(340)]:n=this.writeGeometry(e.toPolygon(),r);break;case t.GeometryType[i(379)]:n=this._triangletoWkt(e,r);break;case t.GeometryType[i(373)]:}return n}_extractNumFromCoord(t){return t[rx(343)]().replace(/,/g," ")}_extractNumFromCoord2(t){const e=rx;return t.to2DString()[e(330)](/,/g," ")}[rx(317)](t){const e=rx;let r=[];for(let i=0,n=t.length;i<n;i++)r[e(308)](this[e(351)](t[i]));return r[e(375)](",")}[rx(367)](t){const e=rx;let r=[];for(let i=0,n=t.length;i<n;i++)r.push(this[e(352)](t[i]));return r[e(375)](",")}_extractNumFromCoordSeq(t){const e=rx;let r=[];for(let i=0,n=t[e(380)]();i<n;i++)r[e(308)](this._extractNumFromCoord(t[e(388)](i)));return r[e(375)](",")}_extractNumFromCoordSeq2(t){const e=rx;let r=[];for(let i=0,n=t[e(380)]();i<n;i++)r[e(308)](this._extractNumFromCoord2(t[e(388)](i)));return r[e(375)](",")}_pointToWkt(t,e){const r=rx;let i;return 3==e?(i=this[r(351)](t[r(388)]()),r(372)+i+")"):2==e?(i=this[r(352)](t.getCoordinate()),"POINT("+i+")"):void 0}_mPointToWkt(t,e){const r=rx;let i;return 3==e?(i=this[r(317)](t.getCoordinates()),r(302)+i+")"):2==e?(i=this[r(367)](t[r(301)]()),"MULTIPOINT("+i+")"):void 0}_lineToWkt(t,e){const r=rx;let i;return 3==e?(i=this[r(383)](t[r(384)]()),"LINESTRING Z("+i+")"):2==e?(i=this._extractNumFromCoordSeq2(t[r(384)]()),r(300)+i+")"):void 0}[rx(316)](t){const e=rx,r=[];for(let i=0,n=t[e(305)];i<n;i++)r[e(308)]("("+this._extractNumFromCoordSeq(t[i])+")");return r[e(375)](",")}_coordSeqsToStr2(t){const e=rx,r=[];for(let i=0,n=t.length;i<n;i++)r.push("("+this[e(374)](t[i])+")");return r[e(375)](",")}[rx(304)](t,e){const r=rx;let i;return 3==e?(i=this._coordSeqsToStr(t[r(362)]()),"MULTILINESTRING Z("+i+")"):2==e?(i=this[r(332)](t[r(362)]()),r(329)+i+")"):void 0}_polygonToWkt(t,e){const r=rx;let i;return 3==e?(i=this[r(316)](t.getCoordSeqs()),r(311)+i+")"):2==e?(i=this[r(332)](t[r(362)]()),r(306)+i+")"):void 0}_mPolygonToWkt(t,e){const r=rx,i=[],n=t[r(339)]();if(3==e){for(let t=0,e=n.length;t<e;t++){const e=this[r(316)](n[t][r(362)]());i.push("("+e+")")}return r(381)+i[r(375)](",")+")"}if(2==e){for(let t=0,e=n[r(305)];t<e;t++){const e=this[r(332)](n[t][r(362)]());i[r(308)]("("+e+")")}return r(357)+i[r(375)](",")+")"}}_collectionToWkt(t,e){const r=rx,i=t.getGeoms(),n=[];for(let t=0,s=i[r(305)];t<s;t++)n[r(308)](this.writeGeometry(i[t],e));return 3==e?r(341)+n.join(",")+")":2==e?r(326)+n[r(375)](",")+")":void 0}[rx(358)](t,e){const r=rx;let i;return 3==e?(i=this[r(383)](t[r(384)]()),"TRIANGLE Z(("+i+"))"):2==e?(i=this[r(374)](t[r(384)]()),r(361)+i+"))"):void 0}[rx(336)](t,e,r){const i=rx;let n=null;if(e===i(378))return n;switch(t){case"point":n=this[i(365)](e,r);break;case i(363):n=this[i(337)](e,r);break;case i(353):n=this._createLine(e,r);break;case"multilinestring":n=this[i(333)](e,r);break;case i(327):case"triangle":n=this[i(322)](e,r);break;case i(338):n=this[i(315)](e,r);break;case i(370):n=this[i(354)](e,r);break;case"tin":case i(371):case"polyhedralsurface":n=this[i(315)](e,r)}return n}[rx(331)](t){const e=rx;return t[e(364)]()[e(313)](" ")[e(366)]((t=>1*t))}_getCoords(t){const e=rx,r=t[e(364)]()[e(313)](","),i=[];for(let t=0,n=r[e(305)];t<n;t++){const n=this[e(331)](r[t]);i.push(n)}return i}_createPoint(e,r){const i=this._getCoord(r);return""===e||"m"===e?new t.Point(new t.Coordinate(i[0],i[1])):"z"===e||"zm"===e?new t.Point(new t.Coordinate(i[0],i[1],i[2])):void 0}_cretePoints(e,r){const i=rx,n=[];if(r)for(let r=0,i=e.length;r<i;r++){const i=e[r];n.push(new t.Point(new t.Coordinate(i[0],i[1],i[2])))}else for(let r=0,s=e[i(305)];r<s;r++){const s=e[r];n[i(308)](new t.Point(new t.Coordinate(s[0],s[1])))}return n}_createMPoint(e,r){const i=rx,n=this[i(320)](r);return""===e||"m"===e?new t.MultiPoint(this._cretePoints(n,!1)):"z"===e||"zm"===e?new t.MultiPoint(this[i(387)](n,!0)):void 0}[rx(309)](e,r){const i=rx,n=this._getCoords(r);return""===e||"m"===e?new t.Line(this[i(387)](n,!1)):"z"===e||"zm"===e?new t.Line(this._cretePoints(n,!0)):void 0}[rx(314)](e,r){const i=rx,n=this[i(320)](r);return""===e||"m"===e?new t.LinearRing(this[i(387)](n,!1)):"z"===e||"zm"===e?new t.LinearRing(this[i(387)](n,!0)):void 0}[rx(333)](e,r){const i=rx,n=r[i(364)]().split(this.regExps[i(390)]),s=[];for(let t=0,r=n.length;t<r;t++){const r=n[t][i(364)]()[i(330)](this.regExps[i(310)],"$1");s[i(308)](this._createLine(e,r))}return new t.MultiLine(s)}[rx(322)](e,r){const i=rx,n=r[i(364)]().split(this.regExps[i(390)]),s=[];for(let t=0,r=n[i(305)];t<r;t++){const r=n[t][i(364)]()[i(330)](this[i(318)][i(310)],"$1");s[i(308)](this._createLinearRing(e,r))}return new t.Polygon(s)}[rx(315)](e,r){const i=rx,n=[],s=r[i(364)]()[i(313)](this[i(318)].doubleParenComma);for(let t=0,r=s[i(305)];t<r;t++){const r=s[t][i(364)]();n.push(this[i(322)](e,r))}return new t.MultiPolygon(n)}[rx(354)](e,r){const i=rx,n=[],s=r.replace(/,\s*([A-Za-z])/g,i(386))[i(313)]("|");for(let t=0,e=s[i(305)];t<e;t++)n[i(308)](this[i(335)](s[t]));return new t.Collection(n)}}var nx=["711991BhjIRp","31121qxhTFZ","934SQtnMT","617333xthXoF","25YRCkfi","1123QIkLwY","11549MOqpGF","524991SfaiZE","17113MZAVgc","74QhUtnE","99wxvLFu"];function sx(t,e){return nx[t-=181]}!function(t,e){for(var r=sx;;)try{if(604583===parseInt(r(185))*-parseInt(r(188))+-parseInt(r(189))*-parseInt(r(181))-parseInt(r(190))-parseInt(r(183))-parseInt(r(186))+parseInt(r(191))*-parseInt(r(187))+parseInt(r(184))*parseInt(r(182)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(nx);var ox=Object.freeze({__proto__:null,Layout:jm,MaterialLibrary:Gm,ObjMesh:Jm});const ax=["19XkgweM","407385yDscwS","3NMNaiO","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","368912EQzvfb","463986vAEuHn","max","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","1jdkiuh","RGBA_DXT5","freeze","RGBA_DXT3","getConstant","RGBA_PVRTC_4BPPV1","COMPRESSED_RGB_S3TC_DXT1_EXT","floor","659017SBpFgO","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","1138876eZWmze","RGB_PVRTC_4BPPV1","COMPRESSED_RGBA_S3TC_DXT3_EXT","formatTable","RGB_ETC1","RGB_PVRTC_2BPPV1","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGBA_S3TC_DXT5_EXT","934967sGEVPq","61150NxPTwg","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","RGBA_DXT1","RGBA_PVRTC_2BPPV1"],hx=lx;function lx(t,e){return ax[t-=425]}!function(t,e){const r=lx;for(;;)try{if(598569===parseInt(r(440))+parseInt(r(447))*-parseInt(r(449))+-parseInt(r(430))+-parseInt(r(446))+parseInt(r(432))+parseInt(r(445))*parseInt(r(441))+-parseInt(r(453))*parseInt(r(450)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ax);let cx={RGB_DXT1:ym[hx(426)](hx(428)),RGBA_DXT1:ym[hx(426)]("COMPRESSED_RGBA_S3TC_DXT1_EXT"),RGB_ETC1:ym.getConstant(hx(438)),RGBA_DXT3:ym[hx(426)](hx(434)),RGBA_DXT5:ym[hx(426)](hx(439)),RBG_PVRTC_4BPPV1:ym[hx(426)](hx(431)),RGBA_PVRTC_4BPPV1:ym[hx(426)](hx(448)),RGB_PVRTC_2BPPV1:ym[hx(426)](hx(442)),RGBA_PVRTC_2BPPV1:ym.getConstant(hx(452))};Object[hx(455)](cx);class ux{static[hx(435)](t){return cx[t]}static compressedTextureSizeInBytes(t,e,r){const i=hx;switch(t){case this[i(435)]("RGB_DXT1"):case this.formatTable(i(443)):case this[i(435)](i(436)):return Math[i(429)]((e+3)/4)*Math[i(429)]((r+3)/4)*8;case this[i(435)](i(425)):case this.formatTable(i(454)):return Math[i(429)]((e+3)/4)*Math[i(429)]((r+3)/4)*16;case this[i(435)](i(433)):case this[i(435)](i(427)):return Math[i(429)]((Math[i(451)](e,8)*Math[i(451)](r,8)*4+7)/8);case this.formatTable(i(437)):case this[i(435)](i(444)):return Math[i(429)]((Math[i(451)](e,16)*Math[i(451)](r,8)*2+7)/8);default:return 0}}}const px=["compressedTextureSizeInBytes","10zuTNPn","byteOffset","createTexture","1tCyaNf","206412kxyAAU","1262HMelji","1uOUXhR","53428gGNhBz","width","LINEAR_MIPMAP_LINEAR","internalFormat","activeTexture","height","356803pCDiGk","_texture","TEXTURE_WRAP_S","disable","wrapT","destroy","37xtAVGi","119269FUcTGb","715892HkgrXW","max","bindTexture","buffer","texParameteri","LINEAR","538091XtBONt","validateMinmap","imageBuffer","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","deleteTexture","_info","getOwnPropertyNames","TEXTURE_2D","WEBGL_compressed_texture_s3tc","length","TEXTURE_WRAP_T"],fx=dx;!function(t,e){const r=dx;for(;;)try{if(735275===-parseInt(r(143))*-parseInt(r(127))+-parseInt(r(146))*-parseInt(r(121))-parseInt(r(153))+parseInt(r(147))*-parseInt(r(140))+parseInt(r(144))+parseInt(r(120))+-parseInt(r(145))*-parseInt(r(119)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(px);class gx{constructor(t,e){const r=dx;this._id=t,this[r(133)]=e,this[r(154)]=null}createCompressTexture(t){const e=dx;t.getExtension(e(136)),this[e(154)]=t[e(142)](),t[e(123)](t[e(135)],this[e(154)]);let r=0,i=0,n=this._info[e(148)],s=this[e(133)][e(152)],o=this.validateMinmap(this[e(133)][e(129)],this[e(133)][e(150)],this[e(133)][e(148)],this[e(133)][e(152)]);do{let o=ux[e(139)](this[e(133)][e(150)],n,s),a=new Uint8Array(this[e(133)][e(129)][e(124)],this._info[e(129)][e(141)]+r,o);t.compressedTexImage2D(t[e(135)],i++,this[e(133)].internalFormat,n,s,0,a),n=Math[e(122)](n>>1,1),s=Math[e(122)](s>>1,1),r+=o}while(r<this[e(133)][e(129)][e(137)]&&o);i>1?(t[e(125)](t[e(135)],t.TEXTURE_MAG_FILTER,t[e(126)]),t[e(125)](t[e(135)],t[e(131)],t[e(149)])):(t.texParameteri(t.TEXTURE_2D,t[e(130)],t[e(126)]),t[e(125)](t[e(135)],t[e(131)],t.LINEAR)),t[e(125)](t[e(135)],t[e(155)],t[this._info.wrapS]),t[e(125)](t[e(135)],t[e(138)],t[this[e(133)][e(157)]]),t[e(123)](t[e(135)],null)}[fx(128)](t,e,r,i){const n=fx,s=t[n(137)];let o=0,a=r,h=i;for(;o+=ux[n(139)](e,a,h),a>>=1,h>>=1,0!==a||0!==h;)a=Math[n(122)](a,1),h=Math[n(122)](h,1);return o===s}enable(t,e=0){const r=fx;t[r(151)](t.TEXTURE0+e),t[r(123)](t.TEXTURE_2D,this[r(154)])}[fx(156)](t){const e=fx;t[e(123)](t[e(135)],null)}[fx(158)](t){const e=fx;t[e(132)](this[e(154)]);let r=Object[e(134)](this);for(let t=0,e=r.length;t<e;t++){const e=r[t];this[e]=null,delete this[e]}}}function dx(t,e){return px[t-=119]}const _x=["srid","rangeRatio","boundingSphere","max","catch","datas","1bvvJTH","isLeafTile","getContentFromData","contentReadyResolve","ready","arrayBuffer","hasContentInit","tileUrl","rangeDataList","111573ynUKdz","arraybuffer","calculateBoundingSphere","172302dZwcwN","parse","hasContent","146701szdtAL","parseBuffer","screenError","center","modelParser","requestContent","_left","unloadContent","failed","push","get","distance","radius","then","_tokenStr","tile content error:","failed to load:","contentParser","name","loading","287341JdRAUF","_id","modelMatrix","abortControl","length","getElements","createUnique","fitMapFrustum","extent","4326","contentReject","_bottom","fetchArrayBuffer","abort","fitMapExtent","visible","contentReadyPromise","createChildren","depth","hasRequest","52017GApfor","rangeList","225399yKRScu","330574ZeRcck","_right","1QbTDeN","href","children","1LvJVcX","parent","_initContent","_tileName","min"],yx=mx;function mx(t,e){return _x[t-=378]}!function(t,e){const r=mx;for(;;)try{if(183475===-parseInt(r(401))*-parseInt(r(396))+-parseInt(r(430))*-parseInt(r(404))+-parseInt(r(427))*parseInt(r(415))+parseInt(r(399))+parseInt(r(398))+-parseInt(r(424))+-parseInt(r(450)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_x);class Ix{constructor(e,r,i,n,s,o="",a){const h=mx;this[h(422)]=e,this[h(378)]=r,this._tileName=i,this[h(391)]=!1,this.parent=void 0,this.children=[],this[h(384)]=null,this.priority=0,this.rangeList=void 0,this[h(411)]=void 0,this[h(416)]=!1,this[h(410)]=n||1,this[h(409)]=s,this._tokenStr=o,this._userScale=a,this[h(394)]=0,this[h(391)]=!1,this[h(395)]=!1,this[h(429)]=!1,this[h(421)]=!1,this[h(451)]=t.Aid[h(382)](this.constructor[h(448)]),this._initContent()}[yx(406)](){const e=yx;!this[e(407)]&&(this._tileName=this[e(422)].href),this.tileContentState={UNLOADED:"unloaded",READY:e(419),LOADING:e(449),PROCESSING:"processing",FAILED:e(438)},this.modelParser=new t.S3ModelParser,this[e(447)]=new t.S3MContentParser({srid:this[e(409)],userScale:this._userScale});const r=this;this[e(392)]=new Promise((function(t,i){const n=e;r.contentReadyResolve=t,r[n(386)]=i})),this.abortControl=new AbortController}[yx(437)](){const t=yx,e=this;e[t(392)]=new Promise((function(r,i){e[t(418)]=r,e.contentReject=i})),this[t(379)]=new AbortController,e[t(429)]=!1,e[t(395)]=!1}[yx(383)](e){const r=yx;let i=this[r(384)];if(i){let n=i[r(433)],s=i.radius,o=new t.Vector3(n[0],n[1],n[2]);for(let t=0;t<e[r(380)];t++)if(e[t][r(441)](o)<2*-s)return!1;return!0}}[yx(390)](t){const e=yx;let r=this.extent;if(r){let i=r[e(433)],n=r.radius,s=i[0]>t[e(436)]-n&&i[0]<t[e(400)]+n&&i[1]>t[e(387)]-n&&i[1]<t._top+n;if(s)return s}return!1}canTraverse(){const t=yx;return 0!==this[t(403)][t(380)]&&!this[t(416)]&&(null==this[t(397)]||null==this.rangeList||2*this[t(432)]*this[t(410)]>this[t(397)])}updateScreenError(e,r){const i=yx;if(!this[i(411)])return!1;{let n=this[i(411)].center,s=new t.Coordinate(n[0],n[1],n[2]),o=this[i(411)][i(442)]*(this.srid==i(385)?111e3:1),a=r.get3Dist(s,this[i(409)]);this.screenError=e*o/a}}[yx(435)](){const t=yx;let e=this,r=this[t(388)]();e[t(395)]=!0,r[t(443)]((function(r){const i=t;let n=e[i(434)][i(431)](r),s=e[i(447)][i(428)](e[i(378)],n);e.createChildren(s),e[i(429)]=!0,e.contentReadyResolve(s)}),(function(t){}))}[yx(426)](t,e=1){const r=yx;if(!t)return;let i,n=this[r(378)][r(381)](),s=Math.max((t[r(412)].x-t.min.x)/2,(t[r(412)].y-t[r(408)].y)/2,(t[r(412)].z-t[r(408)].z)/2),o=e;i="4326"==this[r(409)]?{center:[n[12]+1*o/111e3*(t[r(412)].x+t[r(408)].x)/2,n[13]+1*o/111e3*(t.max.y+t[r(408)].y)/2,n[14]+1*o/111e3*(t[r(412)].z+t[r(408)].z)/2],radius:s*(1*o/111e3)}:{center:[n[12]+o*(t[r(412)].x+t[r(408)].x)/2,n[13]+o*(t[r(412)].y+t.min.y)/2,n[14]+o*(t.max.z+t[r(408)].z)/2],radius:s*o},this[r(384)]=i}[yx(417)](t){const e=yx;this[e(393)](t),this[e(395)]=!0,this[e(429)]=!0}cancelFetch(){const t=yx;this[t(379)][t(389)](),!this[t(429)]&&(this.hasRequest=!1)}[yx(388)](){const t=yx,e=this,r=e[t(422)]+e[t(444)];return new Promise((function(i,n){const s=t;fetch(r,{method:s(440),responseType:s(425),signal:e.abortControl.signal})[s(443)]((function(t){const r=s;if(t.ok)return t[r(420)]();n(r(445)+e.tileUrl)}))[s(443)]((function(t){t&&i(t)}))[s(413)]((function(t){const r=s;n(r(446)+e[r(422)])}))}))}[yx(393)](t){const e=yx;let r=this[e(378)],i=t[e(380)];for(let n=0;n<i;n++){let i=t[n],s=i[e(423)];if(s&&""!=s&&s!=this[e(407)]){let t=new URL(s,this[e(422)]);i[e(423)]=t;let n=new Ix(t,r,t[e(402)],this[e(410)],this[e(409)],this._tokenStr,this._userScale);n[e(411)]=i[e(414)][0][e(411)],n[e(384)]=i.datas[0].boundingSphere,n[e(397)]=i[e(397)],n[e(416)]=i[e(416)],n.depth=this[e(394)]+1,n[e(405)]=this,this[e(403)][e(439)](n)}}this[e(421)]=!0}}var xx=["292490KVSKco","421351xLJxiT","1509417XAwTEt","1151525DPRPQl","242178hSqrJc","1230272CVclih","1285594fkCtng"];function vx(t,e){return xx[t-=311]}!function(t,e){for(var r=vx;;)try{if(810943===parseInt(r(316))+parseInt(r(313))+parseInt(r(315))+parseInt(r(317))+parseInt(r(314))+-parseInt(r(312))+-parseInt(r(311)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xx);var bx=Object.freeze({__proto__:null,DDSTexture:gx,S3MTile:Ix});const wx=["Icon","styleUrl","Point","Polygon","hideOutline","imgSrc","map","_styles","_readPoints","hideFillColor","destroy","rotation","fetchData","catch","2564663FcWGta","parsePolygon","377959FdhvQU","text/xml","getNodeValue","single","15781odzrNi","width","StyleMap","setVisibility","getFirstElementByTagName","altitudeMode","_features","then","1498798zQJwfe","PolyStyle","gx:coord","parseStyle","pixels","join","substr","scale","lineSymbols","nodeValue","length","clampToGround","5695dRbsKN","getFillSymbols","LineStyle","Style","parsePlacemark","parseStyleMap","key","40KsYHRG","153peRrwF","reverse","coord","replace","height","_getAbsoluteUrl","_mergeStyle","heading","push","normal","parseLineString","startsWith","yunits","_kmlUrl","fromHexColor","_computeIconAnchor","parse","color","getAttribute","href","fillSymbols","name","outline","description","IconStyle","split","setOpacity","failed to load:","1166989KvSeur","extrude","xunits","coordinates","tagName","hasOwnProperty","hotSpot","getElementsByTagName","1JeQZwm","visibility","LineString","LinearRing","hasAttribute","237070cyngQU","childNodes","http:","Placemark"],Tx=Cx;!function(t,e){const r=Cx;for(;;)try{if(956248===parseInt(r(270))+parseInt(r(303))+parseInt(r(222))+parseInt(r(283))+-parseInt(r(242))*-parseInt(r(234))+-parseInt(r(307))*parseInt(r(241))+-parseInt(r(301))*parseInt(r(278)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wx);class Ex{constructor(){const t=Cx;this._styles=[],this[t(220)]=[]}[Tx(299)](t){return new Promise(((e,r)=>{const i=Cx;fetch(t)[i(221)]((function(e){if(e.ok)return e.text();r("kml content error:"+t)})).then((function(t){t&&e(t)}))[i(300)]((function(e){r(i(269)+t)}))}))}[Tx(258)](t){const e=Tx;return this[e(294)]=[],this[e(220)]=[],this[e(255)]=t,new Promise(((t,r)=>{const i=e;this[i(299)](this[i(255)])[i(221)]((e=>{const r=i;const n=(new DOMParser).parseFromString(e,r(304));let s=this[r(311)](n,"parsererror");if(s)throw new Error(s.innerText);for(let t of n.getElementsByTagName(r(237))){if(!t[r(282)]("id"))continue;const e=this.parseStyle(t),i="#"+t[r(260)]("id");this[r(294)][i]=e}for(let t of n[r(277)](r(309))){if(!t.hasAttribute("id"))continue;const e=this[r(239)](t);if(!e)continue;const i="#"+t[r(260)]("id");this[r(294)][i]=this[r(294)][e]}for(let t of n.getElementsByTagName(r(286)))this[r(238)](t);t({features:this[r(220)]})}),(t=>{r(t)}))}))}[Tx(311)](t,e){var r=t[Tx(277)](e);return r.length?r[0]:null}[Tx(305)](t){const e=Tx;return t&&t[e(284)]&&t[e(284)][0]?t[e(284)][0][e(231)]:""}[Tx(225)](e){const r=Tx;let i={};const n=[r(236),"PolyStyle",r(266)];for(let s of n){const n=this[r(311)](e,s);if(!n)continue;let o={};for(let e=0;e<n[r(284)][r(232)];e++){let i=n[r(284)][e],s=i[r(274)];if(s===r(276))o.anchor=this[r(257)](i);else{let e=this[r(305)](i);switch(s){case"color":e=e.split("")[r(243)]().join("");let n=new t.Color;n[r(256)]("#"+e),o[r(259)]=n;break;case"width":o.width=Number(e);break;case"fill":o[r(296)]=!("1"===e);break;case r(264):o[r(291)]=!("1"===e);break;case r(287):let s=this[r(305)](this[r(311)](i,r(261)));s&&(o[r(292)]=this[r(247)](s));break;case r(229):o.scale=Number(e);break;case r(249):o[r(298)]=-1*Number(e)}}}i[s]=o}return i}_getAbsoluteUrl(t){const e=Tx;if(t[e(253)](e(285))||t[e(253)]("https:"))return t;{let r=t[e(245)](/^(\.\/)/,"/");return this[e(255)][e(228)](0,this[e(255)].lastIndexOf("/"))+r}}[Tx(257)](t){const e=Tx;let r,i={},n=[32,32];for(let r of t.attributes)i[r[e(263)]]=r[e(231)];return r=[i.x,i.y],i[e(272)]===e(226)?r[0]=i.x/n[0]:"insetPixels"===i[e(272)]&&(r[0]=(n[0]-i.x)/n[0]),(i[e(254)]===e(226)||"insetPixels"===i[e(254)])&&(r[1]=i.y/n[1]),r=r[e(293)]((t=>isNaN(t)?.5:t)),r}[Tx(239)](t){const e=Tx;let r=t[e(277)]("Pair");for(let t of r){if(this.getNodeValue(this.getFirstElementByTagName(t,e(240)))===e(251))return this[e(305)](this[e(311)](t,"styleUrl"))}}_mergeStyle(t,...e){const r=Tx;for(let i of e)for(let e in i)t[r(275)](e)?Object.assign(t[e],i[e]):t[e]=i[e]}_convertToFeatureStyle(e){const r=Tx;if(!Object.keys(e)[r(232)])return;let i={};if(e.PolyStyle){e[r(223)][r(291)]&&e[r(236)]&&(e[r(236)][r(308)]=0);let n=e[r(223)][r(259)];n?(e.PolyStyle[r(296)]&&n[r(268)](0),i[r(262)]=[new t.ColorFill(n)]):!e.PolyStyle[r(296)]&&(i[r(262)]=[new t.ColorFill(new t.Color(.5,1,0,1))])}return e[r(266)]&&(i.markerSymbols=[new t.Icon(e[r(266)])]),e[r(236)]&&(i[r(230)]=[new t.LineSymbol(e[r(236)])]),new t.Style(i)}[Tx(238)](e,r={},i={}){const n=Tx;let s,o={},a={},h=this[n(305)](this[n(311)](e,n(263))),l=this.getNodeValue(this.getFirstElementByTagName(e,n(265))),c=this.getNodeValue(this[n(311)](e,n(279))),u=this.getNodeValue(this[n(311)](e,n(271))),p=this[n(305)](this[n(311)](e,n(312)));h&&(r[n(263)]=h),l&&(r[n(265)]=l),c&&(r.visibility="1"===c),u&&(r[n(271)]="1"===u),r[n(233)]=!p||p===n(233);let f=this[n(305)](this[n(311)](e,n(288)));f&&this._styles[f]&&(o=this._styles[f]),s=this[n(311)](e,"Style"),s&&(a=this[n(225)](s)),this[n(248)](i,o,a);let g=this._convertToFeatureStyle(i),d=["MultiGeometry","MultiTrack","gx:MultiTrack"];for(let t of d)s=this[n(311)](e,t),s&&this[n(238)](s,r,i);let _=[n(280),n(290),n(289),"Track","gx:Track"];for(let i of _){s=e[n(277)](i);for(let e=0;e<s[n(232)];e++){i=i[n(245)](/gx:/,""),i!==n(290)&&r.extrude&&delete r[n(271)];let o=this[n(258)+i](s[e],r,g);if(o)if(!1===r[n(279)]&&o[n(310)](!1),i===n(290)&&r[n(271)]){let e=g?g[n(235)]():[],r={surfaceModel:n(306),surfaceColor:e[0]&&e[0].getColor()||new t.Color(160,160,160,1)},i=new ic(o,!1,"degrees",r);this._features[n(250)](i)}else this[n(220)].push(o)}}}parsePoint(e,r={},i){let n=this[Tx(295)](e,r);if(n)return new t.Vector(n[0],r,i)}[Tx(252)](e,r={},i){let n=this[Tx(295)](e,r);if(n)return new t.Vector(new t.Line(n),r,i)}[Tx(302)](e,r={},i){const n=Tx;let s=[];for(let i of e.getElementsByTagName(n(281))){let e=this[n(295)](i,r);if(e){let r=new t.LinearRing(e);s[n(250)](r)}}if(s.length)return new t.Vector(new t.Polygon(s),r,i)}parseTrack(t,e={},r){return this[Tx(252)](t,e,r)}[Tx(295)](e,r={}){const i=Tx;let n,s=[],o=[],a=this[i(311)](e,i(273));if(a){for(let t=0;t<a[i(284)][i(232)];t++)s[i(250)](a[i(284)][t].nodeValue);s=s[i(227)]("")[i(267)](/[\s\n]+/),n=","}else{a=e[i(277)](i(224)),!a[i(232)]&&(a=e[i(277)](i(244)));for(let t=0;t<a[i(232)];t++)s[i(250)](this[i(305)](a[t]));n=/\s+/}if(s[i(232)]){for(let e=0;e<s[i(232)];e++){let a,h=s[e][i(267)](n).map(Number);if(h[i(232)]<2)continue;(r[i(271)]||r[i(233)])&&!r.hasOwnProperty(i(246))&&h.length>=3&&(r.height=h[2]),a=r[i(271)]||r[i(233)]?new t.Coordinate(h[0],h[1]):new t.Coordinate(...h);let l=new t.Point(a);o.push(l)}return o}}[Tx(297)](){for(let t in this)this[t]=null,delete this[t]}}function Cx(t,e){return wx[t-=220]}var Ax=["588836JGaGrk","78382TtEqUt","463547Bvkpcl","14EmcEnp","2497VbelRp","25970OFgtjA","218cZmwfY","949XfwDtv","18FGybZA","4nRQIsw","129449qCyaOY"];function Mx(t,e){return Ax[t-=496]}!function(t,e){for(var r=Mx;;)try{if(325259===-parseInt(r(497))+-parseInt(r(503))*-parseInt(r(500))+parseInt(r(502))*parseInt(r(501))+-parseInt(r(504))*parseInt(r(505))+-parseInt(r(499))*parseInt(r(498))+parseInt(r(496))+parseInt(r(506)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ax);var Sx=Object.freeze({__proto__:null,FBX:Gy,GeoJSON:t.GeoJSON,Hvt:t.Hvt,obj:ox,s3m:bx,Tile3DLoader:t.Tile3DLoader,WKT:ix,KMLParser:Ex,proto:t.proto});const Px=["getDefault","_addClusterFeature","removeAll","floor","_disableClustered","_clusterFeatures","getFid","_featureMap","getTextSymbols","forEach","clear","removeFeature","1252193hgXBsD","getTime","disableClusteringAtZoom","1261497WlGWzq","get","setTextSymbols","getGeometry","constructor","_options","ClusterLayer","getMarkerSymbols","addFeature","call","793594JfNidH","clusterComplete","_map","previous","_geometry","575565tvipkN","addFeatures","9323zyGiza","_showText","setStyle","_clusterOne","length","5959OQLPsA","getStyle","getAllFeatures","clusterStyle","bind","delay","getRight","getCentroid","createUnique","1gmIjIU","_clusterStyle","getResolution","clusterOne","timer","push","getTop","splice","_gridSize","now","_disableClusteringAtZoom","gridSize","990073vipkwD","176OMudON","removeAllFeatures","getClusterFeaturesByFid","_featuresToCluster","_hasAdded","name","set","getBottom","active","49wXqiMm","getAttributes","clusterFeaturesArray","_removeAllClusterFeatures","_id","_addClusterFeatures"],Rx=Lx;function Lx(t,e){return Px[t-=385]}!function(t,e){const r=Lx;for(;;)try{if(746415===-parseInt(r(412))*-parseInt(r(446))+parseInt(r(432))*-parseInt(r(394))+-parseInt(r(385))*-parseInt(r(437))-parseInt(r(425))-parseInt(r(430))+parseInt(r(415))+-parseInt(r(458)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Px);class Fx extends Hg{constructor(e,r={}){const i=Lx;super(e,r),this[i(420)]=r,this[i(398)]=t.Aid[i(445)](this[i(419)][i(390)]),this[i(447)]=r[i(440)]?r.clusterStyle:t.Style[i(400)](),this[i(435)]=!!r[i(449)]&&r[i(449)],this[i(454)]=r[i(457)]?r[i(457)]:256,this._featuresToCluster=[],this._clusterFeatures=[],this._disableClusteringAtZoom=r.disableClusteringAtZoom?r[i(414)]:17,this._featureMap=new Map,this[i(433)]=r.showText||!1,this[i(404)]=!1,this[i(442)]=200,this[i(450)]=null,this.previous=0,this[i(455)]=0,this[i(426)]=!1}clone(){return null}getLayerType(){return Ot[Lx(421)]}[Rx(431)](t){const e=Rx;this.clusterComplete=!1;for(let r=t[e(436)]-1;r>=0;r--)this._featuresToCluster[e(451)](t[r]);this[e(427)].af[e(393)](0)}[Rx(423)](t){const e=Rx;this[e(426)]=!1,this[e(388)][e(451)](t),this[e(427)].af[e(393)](0)}[Rx(389)](t){return-1!=this[Rx(388)].indexOf(t)}[Rx(386)](){const t=Rx;this[t(388)]=[],this[t(397)]()}removeFeatures(t){const e=Rx,r=t[e(436)];for(let i=0;i<r;i++)this[e(411)](t[i]);this[e(427)].af.active(0)}removeFeature(t){const e=Rx,r=this[e(388)][e(436)];for(let i=0;i<r;i++)if(this[e(388)][i]==t){this[e(388)][e(453)](i,1);break}this[e(427)].af.active(0)}[Rx(401)](t){super[Rx(423)](t)}[Rx(399)](t){const e=Rx;this[e(407)][e(410)](),this[e(397)]();for(let r=0,i=t[e(436)];r<i;r++){const i=t[r];this[e(407)][e(391)](i[e(406)](),i),this[e(401)](i)}this[e(405)]=t}prepareData(){const e=Rx,r=[];if(!this._disableClusteringAtZoom||this._map.getZoom()<this[e(456)]){this[e(404)]=!1;let i=this[e(388)];const n=this[e(454)];let s=this[e(427)].getExtent(),o=n*this[e(427)][e(448)](),a=Math.floor(s.getLeft()/o),h=Math.floor(s[e(443)]()/o),l=Math[e(403)](s[e(392)]()/o),c=Math.floor(s[e(452)]()/o),u=this[e(447)][e(408)](),p=this[e(447)].getMarkerSymbols();if(i[e(436)]>0){let n;n=i[0][e(438)]()&&i[0][e(438)]().getMarkerSymbols()?i[0].getStyle().getMarkerSymbols():t.Style[e(400)]()[e(422)]();let s={};for(let t=i.length-1;t>=0;t--){const r=i[t],n=r[e(418)]()[e(444)]();let u=Math[e(403)](n._x/o),p=Math[e(403)](n._y/o);if(a<=u&&u<=h&&l<=p&&p<=c){let t=u+"-"+p;!s[t]&&(s[t]=[]),s[t].push(r)}}for(let i in s){let o=String(s[i][e(436)]),a=u.map((t=>{const r=e;let i=t.clone();return(o>1||this[r(435)])&&i.setText(o),i})),h=new t.Style({textSymbols:a,markerSymbols:o>1||this[e(435)]?p:n});if(o>1){let n=s[i][0][e(429)],a=new t.Vector(n,{},h);a.setAttributes({clusterCount:o,clusterFeaturesArray:s[i]}),r[e(451)](a)}else{let t=s[i][0];!this[e(433)]&&h[e(417)]([]),t[e(434)](h),r[e(451)](t)}}this._addClusterFeatures(r)}}else this[e(404)]=!0,this[e(399)](this[e(388)])}[Rx(439)](){return this[Rx(405)]}_run(t,e){const r=Rx,i=this;this[r(455)]=(new Date)[r(413)](),this[r(455)]-this.previous<this[r(442)]&&clearTimeout(this.timer),this[r(450)]=setTimeout(function(){const n=r;t[n(424)](i,e),this[n(450)]=null}[r(441)](this),this[r(442)]),this[r(428)]=this[r(455)]}[Rx(397)](){const t=Rx;this._featureMap[t(410)](),this[t(405)]=[],this.painters[t(409)](((e,r)=>{e[t(402)]()}))}[Rx(387)](t){const e=Rx;return this[e(407)][e(416)](t)&&this._featureMap[e(416)](t)[e(395)]()[e(396)]||[]}}const Dx=["LGD","addFeature","a_offAngle","logConstant","mapUnit","3991vGbFqj","_updateChapter","_atlasMgr","_preLineWidthData","mvMatrix","336773imhCYX","setFogColor","isLGD","getIndexCount","_mergeAttributes","_addLineXYZs","bgColor","setVBOs","clientHeight","toNormalizeArray","191dEaIkm","setRTE","a_offset","floor","webgl2","create","19UHbDXy","offset","viewport","textNum","fill","ifRTE","height","apply","a_color","_getIconAsyncData","_id","projMatrix","pow","ifLGD","setOpacity","farPlaneD","_vaoMap","setFogDist","deleteFeatureByFid","_createVaoInfo","textureCoord","createVBOs","_setViewPort","COLOR_BUFFER_BIT","angle","a_lineWidth","setLGD","_getGL","lineTextureProgram","fid","650177tCMAWT","string","getRenderData","isRTE","a_angle","width","name","posH","posL","u_fogDist","uniformPublic","getLineStyle","canvas","_float32FromDouble64","_isRTE","camera","getOrdinate","a_offsets","push","getColor","RTE","1JggNzF","_strMapToObj","setResolution","degrees","render","a_bgColor","_preLineData","setGL","5449tbIIcH","a_positionL","218PdoKFa","bindVertexArray","positionCount","resolution","_getLineDashstyle","sqrt","getElementById","size","a_texAttr","_opacity","67086oLSzIk","match","a_position","lineProgram","concat","clearColor","updateFeature","_change2RTEArray","a_checked","_isGlMissed","a_size","createVertexArray","_clearCanvas","solid","isDrawFogAndLand","451194posuyO","DEPTH_BUFFER_BIT","a_hasHalo","getContext","_splitCameraPrecision","textColor","getOffsetAngle","_getDelta","getLineOffset","lineWidthProgram","u_fogColor","_getTextAsyncData","hasHalo","778011fwFBQq","getLineSymbols","length"];function Ox(t,e){return Dx[t-=108]}const Nx=Ox;!function(t,e){const r=Ox;for(;;)try{if(693576===parseInt(r(233))+parseInt(r(161))+-parseInt(r(146))*parseInt(r(203))+-parseInt(r(134))*-parseInt(r(136))+-parseInt(r(174))*-parseInt(r(126))+-parseInt(r(187))+parseInt(r(182))*-parseInt(r(197)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Dx);class Bx{constructor(e,r){const i=Ox;this.gl=e,this.uniformPublic={},r=r||{},this[i(181)]=r[i(181)]?r[i(181)]:i(129),this[i(119)]=!!r[i(108)]&&r[i(108)],this._isLGD=!!r.isLGD&&r[i(189)],this[i(160)]=!1,this[i(213)]=t.Aid.createUnique(this.constructor[i(111)])}[Nx(178)](t){}[Nx(152)](t){}[Nx(221)](t){}[Nx(130)](){}[Nx(188)](t){const e=Nx;this.uniformPublic[e(171)]=t}[Nx(220)](t){const e=Nx;this[e(115)][e(114)]=t}setVpMatrix(t){this[Nx(115)].u_mvpMatrix=t}[Nx(128)](t){this[Nx(139)]=t}[Nx(198)](t){const e=Nx;this[e(125)]={},this[e(125)][e(120)]=this[e(165)](t[e(120)]),this[e(125)][e(186)]=t[e(186)],this[e(125)][e(214)]=t[e(214)],this[e(125)][e(208)]=this[e(119)]}[Nx(229)](t){const e=Nx;this.LGD={},this.LGD.farPlaneD=1e5*t[e(218)],this[e(177)][e(216)]=this._isLGD,this.LGD[e(180)]=1e-8}[Nx(217)](t){this[Nx(145)]=t}[Nx(158)](t=0,e=0,r=0,i=.5){const n=Nx,s=this.gl;s[n(151)](t,e,r,i),s.clear(s[n(226)]|s[n(162)])}[Nx(225)](t){const e=Nx;t[e(205)](0,0,t.canvas[e(110)],t[e(117)][e(209)])}_resizeCanvasToDisplaySize(t,e){const r=Nx;e=e||1;const i=t.clientWidth*e|0,n=t[r(195)]*e|0;return(t[r(110)]!==i||t.height!==n)&&(t[r(110)]=i,t.height=n,!0)}[Nx(230)](t){const e=Nx;let r=(typeof t===e(234)?document[e(142)](t):t)[e(164)](e(201));if(r)return r}[Nx(155)](t){}_updateChapter(t,e){}_bindVaoInfoAndPage(t,e){this[Nx(219)].set(t,e)}[Nx(222)](t,e){const r=Nx,i=t[r(157)]();t[r(137)](i);const n=e[r(224)](t);return t[r(137)](null),{vao:i,vbos:n}}_setVaoData(t,e,r,i){const n=Nx;e[n(133)](t),e[n(194)](r,i)}[Nx(191)](t,e){for(let r in e)t[r]=e[r];return t}_checkData(t){const e=Nx;return 1===t[e(176)]&&0===t[0][e(190)]()?0:1}[Nx(127)](t){let e=Object[Nx(202)](null);for(let[r,i]of t)e[r]=i;return e}[Nx(212)](t,e){const r=this;return new Promise((function(i){const n=Ox;t[n(235)]({resolution:e,atlasMgr:r[n(184)]},(function(t){const e=n,r={};r[e(144)]=t.textureCoord,r.a_offsets=t.offset,r[e(211)]=t[e(166)],r[e(131)]=t[e(193)],r.a_size=t.size,r[e(109)]=t[e(227)],r[e(163)]=t.hasHalo,i(r)}))}))}[Nx(172)](t,e,r){const i=this;return new Promise((function(n){const s=Ox;t[s(235)]({text:r,resolution:e,atlasMgr:i[s(184)]},(function(t){const e=s,r={};r.a_texAttr=t[e(223)],r[e(122)]=t[e(204)],r[e(211)]=t[e(166)],r[e(131)]=t.bgColor,r[e(156)]=t[e(143)],r[e(109)]=t.angle,r[e(163)]=t[e(173)],r[e(206)]=t[e(206)],n(r)}))}))}[Nx(192)](t,e,r){const i=Nx,n=r[i(175)]();for(let r=0,s=n[i(176)];r<s;r++){const s=n[r],o=s[i(116)](),a=s[i(124)]()[i(196)](),h=s.getWidth(),l=s[i(169)](),c=s[i(167)]();if(h>1){const r=this[i(185)](e,o===i(159)),n=r[i(138)][0];if(this[i(119)]){const t=this._change2RTEArray(r[i(148)]);r[i(148)]=t.posH,r[i(135)]=t[i(113)]}else r.a_positionL=new Array(3*n)[i(207)](0);r.fid=[t],r[i(211)]=[][i(150)][i(210)]([],new Array(n)[i(207)](a)),r[i(228)]=new Array(n)[i(207)](h),r[i(199)]=new Array(n)[i(207)](l),r[i(179)]=new Array(n).fill(c),r[i(154)]=new Array(n)[i(207)](0),"solid"===o?this[i(183)](i(170),r):this[i(183)]("lineWidthTextureProgram"+o,r)}else{const r=this._preLineData(e,o===i(159)),n=r[i(138)][0];if(this[i(119)]){const t=this[i(153)](e);r[i(148)]=t[i(112)],r[i(135)]=t.posL}else r[i(135)]=new Array(3*n)[i(207)](0);r[i(232)]=[t],r[i(211)]=[].concat.apply([],new Array(n)[i(207)](a)),r[i(228)]=new Array(n).fill(h),r[i(199)]=new Array(n)[i(207)](l),r[i(179)]=new Array(n).fill(c),r.a_checked=new Array(n)[i(207)](0),"solid"===o?this[i(183)](i(149),r):this._updateChapter(i(231)+o,r)}}}[Nx(140)](t){return t[Nx(147)](/Program(\S*)/)[1]}[Nx(132)](t,e){const r=Nx,i=[],n=[0];if(e)for(let e=0,n=t[r(176)]/3-1;e<n;e++)i[r(123)](e),i[r(123)](e+1);else{let e=0;for(let s=1,o=t[r(176)]/3;s<o;s++){i[r(123)](s-1),i[r(123)](s);const o=[t[3*s],t[3*s+1],t[3*s+2]],a=[t[3*(s-1)],t[3*(s-1)+1],t[3*(s-1)+2]],h=o[0]-a[0],l=o[1]-a[1],c=o[2]-a[2];e+=Math[r(141)](h*h+l*l+c*c),n[r(123)](e)}}return{a_position:t,index:i,a_lineD:n,indexCount:[i.length],positionCount:[t.length/3]}}[Nx(185)](t,e){const r=Nx,i=[],n=[],s=[],o=[];let a=0;if(e)for(let e=0,s=t[r(176)]/3;e<s;e++){if(e>0&&e<s-1){i[r(123)](t[3*e],t[3*e+1],t[3*e+2]),i[r(123)](t[3*e],t[3*e+1],t[3*e+2]),a+=2;const s=this._getDelta(t,e),h=s[0],l=s[1];n.push(-l,h,l,-h),o[r(123)](a-2,a-1,a),o.push(a,a-1,a+1)}if(i[r(123)](t[3*e],t[3*e+1],t[3*e+2]),i[r(123)](t[3*e],t[3*e+1],t[3*e+2]),a+=2,e<s-1){const i=this[r(168)](t,e+1),s=i[0],h=i[1];n.push(-h,s,h,-s),o[r(123)](a-2,a-1,a),o[r(123)](a,a-1,a+1)}else{const i=this[r(168)](t,e),s=i[0],o=i[1];n[r(123)](-o,s,o,-s)}}else{let e=0;for(let h=0,l=t[r(176)]/3;h<l;h++){const c=[t[3*h],t[3*h+1],t[3*h+2]];let u=0===h?c:[t[3*(h-1)],t[3*(h-1)+1],t[3*(h-1)+2]];if(h===l-1||(t[3*(h+1)],t[3*(h+1)+1],t[3*(h+1)+2]),h>0&&h<l-1){i[r(123)](t[3*h],t[3*h+1],t[3*h+2]),i[r(123)](t[3*h],t[3*h+1],t[3*h+2]),a+=2;const l=this[r(168)](t,h),p=l[0],f=l[1];n[r(123)](-f,p,f,-p),o[r(123)](a-2,a-1,a),o.push(a,a-1,a+1);const g=c[0]-u[0],d=c[1]-u[1],_=c[2]-u[2];e+=Math[r(141)](g*g+d*d+_*_);for(let t=0;t<2;t++)s.push(e)}if(i[r(123)](t[3*h],t[3*h+1],t[3*h+2]),i.push(t[3*h],t[3*h+1],t[3*h+2]),a+=2,h<l-1){const e=this._getDelta(t,h+1),i=e[0],s=e[1];n.push(-s,i,s,-i),o[r(123)](a-2,a-1,a),o[r(123)](a,a-1,a+1)}else{const e=this[r(168)](t,h),i=e[0],s=e[1];n[r(123)](-s,i,s,-i)}const p=c[0]-u[0],f=c[1]-u[1],g=c[2]-u[2];e+=Math[r(141)](p*p+f*f+g*g);for(let t=0;t<2;t++)s[r(123)](e)}}return{a_position:i,index:o,a_side:n,a_lineD:s,positionCount:[i[r(176)]/3],indexCount:[o[r(176)]]}}[Nx(168)](t,e){const r=t[3*e]-t[3*(e-1)],i=t[3*e+1]-t[3*(e-1)+1];if(0!==r||0!==i)return[r,i];return[r,t[3*e+2]-t[3*(e-1)+2]]}[Nx(165)](t){const e=Nx,r=t.getOrdinate("X"),i=t[e(121)]("Y"),n=t[e(121)]("Z"),s=this[e(118)](r),o=this[e(118)](i),a=this[e(118)](n);return{chx:s[0],clx:s[1],chy:o[0],cly:o[1],chz:a[0],clz:a[1]}}[Nx(118)](t){const e=Nx;let r=0,i=0,n=0;return this[e(181)]==e(129)?(r=Math[e(200)](t),i=(t-r)*Math[e(215)](10,7),i=Math.floor(i)):t>0?(n=65536*Math[e(200)](t/65536),r=n,i=t-n):(n=65536*Math[e(200)](-t/65536),r=-n,i=t+n),[r,i]}_change2RTEArray(t){const e=Nx;let r=[],i=[];for(let n=0,s=t[e(176)];n<s;n+=3){const s=t[n],o=t[n+1],a=t[n+2],h=this[e(118)](s),l=this[e(118)](o),c=this._float32FromDouble64(a);r[e(123)](h[0],l[0],c[0]),i[e(123)](h[1],l[1],c[1])}return{posH:r,posL:i}}}const Ux=["143oqXQva","#version 300 es\n\t\tprecision highp float;\n\n\t\t#define PI 3.141592653589793\n\t\t#define RECIPROCAL_PI 0.3183098861837907\n\t\t#define saturate(a) clamp( a, 0.0, 1.0 )\n\n\t\tuniform vec3  eyePosition;//\n\t\tuniform float u_opacityFactor;//\n\t\tuniform float u_opacity;//\n\n\t\tuniform bool u_highlight;\n\t\tuniform vec4 u_highlightColor;\n\n\t\tin vec3 v_color;\n\t\tin vec2 v_texCoord;\n\t\tin vec4 v_position;\n\t\tin vec3 v_normal;\n\t\tin vec4 v_location;\n\n\t\tuniform bool  u_useTexture;\n\t\tuniform sampler2D u_sampler;\n\t\tout vec4 outColor;\n\n\t\t// n\t\tstruct PointLight {\n\t\t\tvec3 position;\n\t\t\tvec3 color;\n\t\t\tfloat distance;\n\t\t\tfloat decay;\n\t\t};\n\t\tuniform PointLight pointLight;\n\t\t// n\t\tstruct AmbientLight {\n\t\t\tvec3 color;\n\t\t};\n\t\tuniform AmbientLight ambientLight;\n\n\t\t// n\t\tstruct DirectionLight {\n\t\t\tvec3 direction;\n\t\t\tvec3 color;\n\t\t};\n\t\tuniform DirectionLight directionLight;\n\n\t\t//\n\t\tstruct PhongMaterial {\n\t\t\tvec3 emissive;  // n\t\t\tvec3 ambient;   // \n\t\t\tvec3 diffuse;     // \n\t\t\tvec3 specular;   // n\t\t\tfloat shininess;  // n\t\t\tfloat opacity;\n\t\t};\n\t\tuniform PhongMaterial material;\n\n\t\t// n\t\tstruct GeometricContext {\n\t\t\tvec4 position;\n\t\t\tvec3 normal;\n\t\t\tvec3 viewDir;\n\t\t};\n\n\t\t// \n\t\tstruct ReflectedLight {\n\t\t\tvec3 emissive;\n\t\t\tvec3 ambient;\n\t\t\tvec3 directDiffuse;\n\t\t\tvec3 directSpecular;\n\t\t\tvec3 indirectDiffuse;\n\t\t\tvec3 indirectSpecular;\n\t\t};\n\n\t\t//   n\t\tstruct IncidentLight {\n\t\t\tvec3 color;\n\t\t\tvec3 direction;\n\t\t};\n\n\t\tvoid getDirectionalDirectLightIrradiance( const in DirectionLight directionLight,  out IncidentLight directLight ) {\n\t\t\tdirectLight.color = directionLight.color;\n\t\t\tdirectLight.direction = normalize(directionLight.direction);\n\t\t}\n\n\t\t// n\t\tvec3 BRDF_Diffuse_Lambert( const in vec3 diffuse ) {\n\t\t\treturn  RECIPROCAL_PI * diffuse;\n\t\t}\n\n\t\t// n\t\tfloat pointDelay( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\t\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t\t}\n\t\t\treturn 1.0;\n\t\t}\n\n\t\t//\n\t\tvoid converPointLightToDirectLight( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\t\tvec3 lVector = geometry.position.xyz - pointLight.position;\n\t\t\tdirectLight.direction = normalize( lVector );\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\t// n\t\t\tdirectLight.color *= pointDelay( lightDistance, pointLight.distance, pointLight.decay );\n\t\t}\n\n\t\t// n\t\tvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in PhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\t\t//n\t\t\tfloat dotNL = saturate( dot( geometry.normal, -directLight.direction ) );\n\t\t\tvec3 irradiance = dotNL * directLight.color;\n\t\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\t\tirradiance *= PI;\n\t\t\t#endif\n\t\t\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert(material.diffuse);\n\n\t\t\t//\n\t\t\tvec3 reflectDir = reflect(-directLight.direction,geometry.normal);\n\t\t\tfloat spec = pow(max(dot(geometry.viewDir, reflectDir), 0.0), material.shininess);\n\t\t\treflectedLight.directSpecular += material.specular*spec*directLight.color;\n\t\t}\n\n\t\tPhongMaterial getDefaultMaterial(PhongMaterial material){\n\t\t\tPhongMaterial materialN;\n\t\t\tmaterialN.emissive = material.emissive;\n\t\t\tmaterialN.ambient = material.ambient;\n\t\t\tmaterialN.diffuse = material.diffuse;\n\t\t\tmaterialN.specular = material.specular;\n\t\t\tmaterialN.shininess = material.shininess;\n\t\t\tmaterialN.opacity = material.opacity;\n\t\t\treturn materialN;\n\t\t}\n\n\t\tReflectedLight getDefaultReflectedLight(){\n\t\t\tReflectedLight reflectedLight;\n\t\t\treflectedLight.ambient = vec3(0.0);\n\t\t\treflectedLight.directDiffuse=vec3(0.0);\n\t\t\treflectedLight.directSpecular=vec3(0.0);\n\t\t\treflectedLight.indirectDiffuse=vec3(0.0);\n\t\t\treflectedLight.indirectSpecular=vec3(0.0);\n\t\t\treturn reflectedLight;\n\t\t}\n\n\t\tvoid main(){\n\t\t\t// n\t\t\tReflectedLight reflectedLight = getDefaultReflectedLight();\n\n\t\t\tGeometricContext geometry;\n\t\t\tgeometry.position = v_position;\n\t\t\tgeometry.normal = v_normal;\n\t\t\tgeometry.viewDir = normalize(v_location.xyz);\n\t\t\tIncidentLight directLight;\n\n\t\t\tvec3 color = vec3(0.0);\n\t\t\tPhongMaterial materialN =  getDefaultMaterial(material);\n\t\t\tif(u_useTexture){\n\t\t\t\tcolor = texture(u_sampler, v_texCoord).rgb;\n\t\t\t\tmaterialN.diffuse = color;\n\t\t\t}\n\n\t\t\t//n\t\t\tgetDirectionalDirectLightIrradiance(directionLight, directLight );\n\t\t\tRE_Direct_BlinnPhong(directLight, geometry, materialN, reflectedLight);\n\n\t\t\t// //n\t\t\tconverPointLightToDirectLight( pointLight, geometry, directLight );\n\t\t\tRE_Direct_BlinnPhong( directLight, geometry, materialN, reflectedLight);\n\n\t\t\t// n\t\t\treflectedLight.ambient += materialN.diffuse * ambientLight.color;\n\n\t\t\t//n\t\t\treflectedLight.emissive += materialN.emissive;\n\n\t\t\t// olor\n\t\t\tcolor = reflectedLight.emissive + reflectedLight.ambient + reflectedLight.directDiffuse+reflectedLight.directSpecular+reflectedLight.indirectDiffuse+reflectedLight.indirectSpecular;\n\t\t\toutColor = vec4(color,u_opacityFactor*u_opacity*materialN.opacity);\n\n\t\t\t// \n\t        if(u_highlight){\n\t            outColor = outColor*(1.0-u_highlightColor.a) + u_highlightColor*u_highlightColor.a;\n\t\t\t}\n\t\t}\n","5eyKSjB","1201rQymUf","16318mJmAjr","300029snfKtX","198532VRDXZT","2558qVeQVl","398754bHODFf","74113nLsJUn"],kx=Vx;function Vx(t,e){return Ux[t-=385]}!function(t,e){const r=Vx;for(;;)try{if(202187===parseInt(r(387))+parseInt(r(393))+-parseInt(r(388))+-parseInt(r(394))+-parseInt(r(385))+-parseInt(r(391))*parseInt(r(392))+-parseInt(r(389))*-parseInt(r(386)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ux);const Gx={vs:"#version 300 es\n\t\tin vec4 a_position;\n\t\tin vec4 a_normal;\n\t\tin vec3 a_color;\n\t\tin vec2 a_texCoord;\n\n\t\tout vec3 v_color;\n\t\tout vec2 v_texCoord;\n\t\tout vec4 v_position;\n\t\tout vec3 v_normal;\n\t\tout vec4 v_location;\n\n        uniform float u_unit;\n\t\tuniform mat4 u_normalMatrix;//n\t\tuniform mat4 u_allMMatrix;//\n    \tuniform mat4 u_projMatrix;//\n\t\tuniform mat4 u_viewMatrix;//\n\n\t\tuniform vec3 u_translate; //n\n\t\tvoid main(){\n\t        mat4 modelMatrix=u_allMMatrix;\n\t\t\tmodelMatrix[3]=vec4(0.0,0.0,0.0,modelMatrix[3][3]);//n\t\t\tvec4 np = vec4(a_position.xyz-u_translate,1.0);\n\t        gl_Position=u_projMatrix*u_viewMatrix*modelMatrix*np;\n\t        vec4 vertexPosition = u_allMMatrix*np;\n\t        vec3 normal = normalize(vec3(u_normalMatrix * a_normal));//n\t        v_color = a_color;\n\t        v_texCoord = a_texCoord;\n\t\t\tv_position = vertexPosition;\n\t\t\tv_normal = normal;\n\n\t\t\tmodelMatrix[3]=vec4(vec3(u_viewMatrix[3]),modelMatrix[3][3]);//n\t\t\tv_location=modelMatrix*np;\n\t\t}\n"};Gx.fs=kx(390);const zx=["19ZQCUOA","directionLight.color","685361NSJQEI","pointLight.decay","5HxYSWC","setMeshPublic","material.opacity","setLightUniforms","setPublicUniforms","u_translate","pointLight.distance","u_normalMatrix","uniformMatrix4fv","material.emissive","position","62724IkkMfA","attributes","distance","u_viewMatrix","a_position","TRIANGLES","color","direction","pointLight.color","1088647eViWzt","u_useTexture","1063ypPRtf","uniform1f","a_color","uniforms","getElements","a_texCoord","intensity","material.specular","41651wAMkWc","u_highlightColor","material.diffuse","4Xxgeck","material.ambient","setModelUniforms","628154zIOnqD","mode","uniform3fv","decay","u_sampler","2109czqkGj","pointLight.position","u_opacity","1mJKdsE","material.shininess","attributesLayout","15454XwunJT","setMaterialUniforms","u_projMatrix","1VHPmYm","uniform3f","_organizeAttributesLayout","a_normal","uniform1i","u_highlight","ambientLight.color"],Hx=jx;function jx(t,e){return zx[t-=285]}!function(t,e){const r=jx;for(;;)try{if(747224===-parseInt(r(296))*-parseInt(r(343))+-parseInt(r(329))*-parseInt(r(307))+-parseInt(r(292))*parseInt(r(326))+parseInt(r(294))+parseInt(r(285))*-parseInt(r(316))+parseInt(r(340))*-parseInt(r(332))+-parseInt(r(337))*-parseInt(r(318)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(zx);class Yx extends qc{constructor(t){const e=jx;super(t,Gx.vs,Gx.fs),this[e(342)]=this._organizeAttributesLayout(),this[e(333)]=t[e(312)]}[Hx(287)](){const t=Hx;return this.texCoordAttr={name:t(323),location:this[t(308)][t(323)],count:2,type:Float32Array},{a_position:{name:t(311),location:this[t(308)].a_position,count:3,type:Float32Array},a_color:{name:t(320),location:this[t(308)][t(320)],count:3,type:Float32Array},a_normal:{name:"a_normal",location:this[t(308)][t(288)],count:3,type:Float32Array}}}draw(t){const e=Hx;this.gl.drawArrays(this[e(333)],0,t)}[Hx(300)](t){const e=Hx;this.gl.uniformMatrix4fv(this[e(321)][e(345)],!1,t[e(345)][e(322)]()),this.gl[e(334)](this[e(321)].eyePosition,t.eyePosition),this.gl.uniform1f(this[e(321)][e(339)],t[e(339)]),t.u_highlightColor&&this.gl.uniform4fv(this[e(321)][e(327)],t[e(327)])}[Hx(299)](t){const e=Hx,r=this.gl,{pointLight:i,directionLight:n,ambientLight:s}=t;r.uniform3f(this[e(321)][e(315)],i[e(313)][0]*i.intensity,i.color[1]*i[e(324)],i.color[2]*i[e(324)]),r.uniform3f(this[e(321)][e(338)],i[e(306)][0],i.position[1],i[e(306)][2]),r[e(319)](this.uniforms[e(302)],i[e(309)]),r.uniform1f(this[e(321)][e(295)],i[e(335)]),r[e(286)](this[e(321)][e(293)],n[e(313)][0]*n[e(324)],n[e(313)][1]*n.intensity,n.color[2]*n[e(324)]),r[e(286)](this[e(321)]["directionLight.direction"],n[e(314)][0],n[e(314)][1],n[e(314)][2]),r[e(286)](this[e(321)][e(291)],s[e(313)][0]*s.intensity,s[e(313)][1]*s[e(324)],s[e(313)][2]*s.intensity)}[Hx(344)](t){const e=Hx,r=this.gl,{emissive:i,emissiveFactor:n,ambient:s,diffuse:o,diffuseFactor:a,specular:h,shininess:l,opacity:c,specularFactor:u}=t;r.uniform3f(this[e(321)][e(305)],i[0]*n,i[1]*n,i[2]*n),r[e(286)](this[e(321)][e(330)],s[0],s[1],s[2]),r[e(286)](this[e(321)][e(328)],o[0]*a,o[1]*a,o[2]*a),r[e(286)](this[e(321)][e(325)],h[0]*u,h[1]*u,h[2]*u),r[e(319)](this[e(321)][e(341)],l),r.uniform1f(this.uniforms[e(298)],c)}setSampleUniforms(t){const e=Hx;this.gl[e(289)](this[e(321)][e(336)],t[e(336)]),this.gl.uniform1i(this[e(321)][e(317)],t[e(317)])}[Hx(331)](t){const e=Hx;this.gl[e(319)](this[e(321)].u_opacityFactor,t.u_opacityFactor),this.gl[e(334)](this[e(321)][e(301)],t[e(301)])}[Hx(297)](t){const e=Hx;this.gl[e(304)](this[e(321)].u_normalMatrix,!1,t[e(303)][e(322)]()),this.gl.uniformMatrix4fv(this.uniforms.u_allMMatrix,!1,t.u_allMMatrix[e(322)]()),this.gl[e(289)](this[e(321)][e(290)],t[e(290)]),this.gl[e(304)](this.uniforms[e(310)],!1,t[e(310)][e(322)]())}}const $x=["NEAREST","setPublicUniforms","_rendered","_resetOrigin","_composeMatrix","matrixWorld","texture","_loadPromiseIndex","count","CLAMP_TO_EDGE","bindTexture","texCoordAttr","customMaterial","pattern","program","uniforms","bindVertexArray","77901awtAfg","setVaoDatas","models","ambientLight","getModelBBox","_render","setVaoData","1cDJxpc","u_highlightColor","setVBOs","color","a_texCoord","originModels","u_normalMatrix","length","pointLight","values","588773PsgIPx","wrapS","374757oIXCTX","removeModelById","magFilter","_opacity","position","setMeshPublic","intensity","TEXTURE_MAG_FILTER","getCenter","UNPACK_ALIGNMENT","307232ZxheGn","multiply","decay","opacityFactor","TEXTURE_WRAP_S","TEXTURE_MIN_FILTER","get","1TVpTtk","set","TEXTURE_WRAP_T","texParameteri","texImage2D","layer","setLightUniforms","removeAllModels","name","keys","concat","item","video","map","then","type","MODEL_LOADED","flipY","_createVaoInfo","toNormalizeArray","owner","_imagePromises","mergeGroup","u_useTexture","u_pmatrix","deleteTexture","_loadPromise","setHighlightColor","render","unvalid document element!","setModelUniforms","useProgram","setMaterialUniforms","minFilter","clear","a_position","636923WvcFnC","slice","forEach","a_color","_eyeY","draw","videoTextures","a_normal","dealMaterial","useCustomMaterial","useVideoProject","attributesLayout","_eyeZ","deleteVAO","createTexture","TEXTURE_2D","start","753819krOFye","has","7VvshPL","188311JcWYbK","setInverseOf","vao","group","getViewRotate","_eyeX","u_highlight","geometry","pixelStorei","normal","size","addFbxModel","materialIndex","modelMatrix","transpose","modelMaterialMap","delete","splice","toArray","getMid","image","modelTextureMap","from","TEXTURE0","material","push","distance","directionLight","u_allMMatrix","addGLTexture","positionCount","direction","url","camera","modelData","dispatch","event","bind","_selected","_loadCount","vbos"];function Xx(t,e){return $x[t-=406]}const Wx=Xx;!function(t,e){const r=Xx;for(;;)try{if(416198===-parseInt(r(483))*parseInt(r(424))+parseInt(r(422))+-parseInt(r(519))*-parseInt(r(425))+-parseInt(r(512))+parseInt(r(500))+-parseInt(r(490))*parseInt(r(555))+parseInt(r(502)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($x);class Zx extends Bx{constructor(t,e){const r=Xx;super(t,e),this.event=e.event,this[r(480)]=new Yx(t),this.originModels=new Map,this[r(485)]=new Map,this[r(446)]=new Map,this.modelMaterialMap=new Map,this[r(481)]={},this[r(539)]=e[r(524)],this[r(473)]=new Map,this[r(464)]=0,this[r(545)]=[],this[r(411)]=new Map,this[r(468)]=!1}[Wx(546)](t){const e=Wx;this[e(481)][e(491)]=t}[Wx(436)](t){const e=Wx;return t.promise[e(533)](function(){const r=e,i=new Map,n=new Map,s=t[r(444)](),o=t[r(540)][r(435)]||0;if(0!==o){this[r(464)]=+o;const e=this[r(545)].length;this[r(473)][r(520)](s,{start:e,count:o}),this._loadPromise[r(450)](...t[r(540)][r(499)]())}this.modelTextureMap[r(423)](s)||this.modelTextureMap[r(520)](s,new Map),this[r(440)][r(423)](s)||this.modelMaterialMap[r(520)](s,new Map);const a=this[r(440)][r(518)](s),h=this[r(446)][r(518)](s);for(let e=0,s=t.modelData[r(497)];e<s;e++){const s=t[r(459)][e],o=new Map,l=Array[r(447)](s[r(432)][r(518)]("position")[r(530)]);let c=[];if(s[r(432)][r(423)](r(493)))c=Array[r(447)](s[r(432)][r(518)](r(493)).item);else for(let t=0,e=l[r(497)]/3;t<e;t++)c.push(0,0,0);const u=Array[r(447)](s[r(432)][r(518)](r(434))[r(530)]),p=s[r(432)].get("uv")?Array[r(447)](s[r(432)][r(518)]("uv").item):[],f=s[r(471)].multiply(s.matrix);let g=p[r(497)]>0;if(0!==s.geometry.group[r(497)])s[r(432)][r(428)][r(532)](function(e){const i=r,n={};n[i(554)]=l[i(406)](3*e.start,3*(e.start+e[i(474)])),n.a_normal=u.slice(3*e[i(421)],3*(e[i(421)]+e[i(474)])),n.a_color=c[i(406)](3*e.start,3*(e[i(421)]+e[i(474)])),n[i(494)]=p[i(406)](2*e.start,2*(e[i(421)]+e.count)),n[i(455)]=e.count;let f=s[i(449)][e[i(437)]];(!f||t[i(414)])&&(f=t[i(478)],g=!1);const d=this.dealMaterial(f,g,a,h);if(o[i(518)](d)){const t=this.mergeGroup(o.get(d),n);o[i(520)](d,t)}else o[i(520)](d,n)}[r(462)](this));else{let e={};e[r(554)]=l,e[r(412)]=u,e.a_color=c,e.a_texCoord=p,e[r(455)]=l[r(497)]/3;let i=s[r(449)][0];(!i||t[r(414)])&&(i=t[r(478)],g=!1);const n=this[r(413)](i,g,a,h);if(o.get(n)){const t=this[r(541)](o[r(518)](n),e);o.set(n,t)}else o[r(520)](n,e)}this[r(484)](o),o[r(543)]=f,n.set(s.ID,s),i[r(520)](s.ID,o)}const l=t[r(469)]?new Float32Array(t[r(487)]()[r(510)]()[r(443)]()):new Float32Array([0,0,0]);i[r(481)]={u_useVideo:t[r(415)],modelMatrix:t.modelMatrix,u_opacityFactor:t[r(515)],u_translate:l,pointLight:{position:t.pointLight[r(506)],color:t[r(498)].color[r(538)](),intensity:t[r(498)].intensity,distance:t.pointLight[r(451)],decay:t[r(498)][r(514)]},directionLight:{direction:t[r(452)][r(456)],color:t[r(452)][r(493)][r(538)](),intensity:t[r(452)][r(508)]},ambientLight:{color:t.ambientLight[r(493)][r(538)](),intensity:t[r(486)][r(508)]}},this[r(495)][r(520)](t.getMid(),n),this[r(485)][r(520)](t[r(444)](),i)}[e(462)](this))}mergeGroup(t,e){const r=Wx,i={};return i[r(554)]=t[r(554)].concat(e[r(554)]),i[r(412)]=t[r(412)][r(529)](e.a_normal),i[r(408)]=t[r(408)].concat(e[r(408)]),i[r(494)]=t[r(494)][r(529)](e[r(494)]),i.positionCount=t[r(455)]+e[r(455)],i}[Wx(413)](t,e,r,i){const n=Wx;if(!r.get(t[n(527)])){if(t.u_useTexture=!1,t[n(532)]&&e){const e=t[n(532)][n(457)];t[n(542)]=!0,t[n(532)].loadPromise[n(533)](function(){const r=n;if(!i[r(518)](e)){let n=this[r(419)](t.map);this.gl[r(523)](this.gl[r(420)],0,this.gl[t[r(532)].format],this.gl[t.map.format],this.gl[t.map[r(534)]],t[r(532)][r(445)]),i.set(e,n),this[r(488)](),this[r(464)]--}}[n(462)](this))}r[n(520)](t.id,t)}return t.id}[Wx(419)](t,e=0){const r=Wx;let i=this.gl[r(419)]();return this.gl.activeTexture(this.gl[r(448)]+e),this.gl.bindTexture(this.gl.TEXTURE_2D,i),this.gl.pixelStorei(this.gl[r(511)],1),this.gl[r(433)](this.gl.UNPACK_FLIP_Y_WEBGL,1),this.gl[r(522)](this.gl[r(420)],this.gl[r(516)],this.gl[t[r(501)]]),this.gl[r(522)](this.gl[r(420)],this.gl[r(521)],this.gl[t.wrapT]),this.gl[r(522)](this.gl.TEXTURE_2D,this.gl[r(517)],this.gl[t[r(552)]]),this.gl[r(522)](this.gl[r(420)],this.gl[r(509)],this.gl[t[r(504)]]),i}createVideoTexture(t){const e=Wx,r=this,i=t[e(531)],n=t[e(479)],s=t.id,o=t[e(536)];if(i instanceof HTMLVideoElement)i.oncanplay=function(){const t=e;let a=r[t(480)][t(454)](i,n,"CLAMP_TO_EDGE",t(475),o,t(466),t(466))[t(472)];r[t(411)][t(520)](s,{texture:a,video:i})};else{if(!(i instanceof HTMLCanvasElement||i instanceof HTMLImageElement))throw new SyntaxError(e(548));{let t=r.program.addGLTexture(i,n,"CLAMP_TO_EDGE",e(475),o,"NEAREST",e(466)).texture;r[e(411)].set(s,{texture:t,video:i})}}}[Wx(484)](t){const e=Wx;for(let r of t.values())this[e(489)](r)}setVaoData(t){const e=Wx;0==t[e(494)][e(497)]?delete this[e(480)].attributesLayout[this[e(480)][e(477)][e(527)]]:this[e(480)][e(416)][this[e(480)].texCoordAttr[e(527)]]=this[e(480)][e(477)];let r=this[e(537)](this.gl,this[e(480)]);this[e(480)][e(492)](r[e(465)],t);for(let t in r.vbos)this[e(480)].deleteVBO(r[e(465)][t]),r[e(465)][t]=null;t[e(427)]=r[e(427)],delete t[e(554)],delete t[e(412)],delete t[e(408)],delete t[e(494)]}[Wx(503)](t){const e=Wx,r=this[e(485)][e(518)](t);if(!r)return;for(let[t,i]of r){for(let[t,r]of i){this[e(480)][e(418)](r.vao);for(const t in r)delete r[t]}i[e(553)]();for(const t in i)delete i[t]}r.clear();for(const t in r)delete r[t];const i=this[e(446)][e(518)](t);for(let[t,r]of i)this.gl[e(544)](r);i.clear();const n=this.modelMaterialMap[e(518)](t);for(let[t,e]of n)for(const t in e)delete e[t];n[e(553)](),this[e(485)][e(441)](t),this.originModels[e(441)](t);const s=this._loadPromiseIndex[e(518)](t);s&&this[e(545)][e(442)](s.start,s[e(474)])}[Wx(526)](){const t=Wx;for(let e of this.models[t(528)]())this[t(503)](e)}[Wx(547)](t){this[Wx(488)](t)}[Wx(488)](e){const r=Wx;this[r(480)][r(550)](),this.program[r(467)]({u_projMatrix:this.camera.getPMatrix(),eyePosition:[this[r(458)][r(430)],this[r(458)][r(409)],this.camera[r(417)]],u_opacity:this[r(505)],u_highlightColor:this[r(481)][r(491)]||[1,1,1,1]}),this[r(485)][r(407)](function(e,i){const n=r,s=this[n(440)][n(518)](i),o=this.modelTextureMap[n(518)](i),a=this.originModels[n(518)](i);this[n(480)][n(525)]({pointLight:e[n(481)][n(498)],directionLight:e.uniforms[n(452)],ambientLight:e[n(481)][n(486)]}),this[n(480)][n(549)](e[n(481)]),e.forEach(function(r,i){const h=n;r[h(453)]=new t.Matrix4(null,Float64Array),r[h(453)][h(513)](e[h(481)][h(438)]),r[h(453)].multiply(r.u_pmatrix),r[h(496)]=new t.Matrix4,r[h(496)][h(426)](r[h(453)]),r.u_normalMatrix[h(439)]();let l=a[h(518)](i);r[h(431)]=!!l[h(463)],r.u_viewMatrix=this[h(470)](r.u_allMMatrix),this.program[h(507)](r),r[h(407)](function(t,e){const r=h,i=s[r(518)](e);this[r(480)][r(551)](i),i.u_useTexture?(i.u_sampler=0,this[r(480)].setSampleUniforms(i),this.gl.bindTexture(this.gl[r(420)],o[r(518)](i[r(532)][r(457)]))):(this[r(480)].setSampleUniforms({}),this.gl.bindTexture(this.gl.TEXTURE_2D,null)),this.gl[r(482)](t[r(427)]),this[r(480)][r(410)](t[r(455)]),this.gl[r(482)](null),this.gl[r(476)](this.gl[r(420)],null)}.bind(this))}[n(462)](this))}.bind(this)),e&&(!this[r(468)]&&(this[r(461)].dispatch(new R(p.MODEL_FIRSTLOADED)),this[r(468)]=!0),this[r(461)][r(460)](new R(p[r(535)])))}_composeMatrix(e){const r=Wx,i=e.getElements(),n={x:i[12]-this[r(458)][r(430)],y:i[13]-this[r(458)]._eyeY,z:i[14]-this[r(458)]._eyeZ};return this[r(458)][r(429)]()[r(513)]((new t.Matrix4).setTranslate(n.x,n.y,n.z))}}const qx=["length","2751lGshGn","active","LINK_STATUS","frameBufferFit","createFramebuffer","TEXTURE_MAG_FILTER","_createProgram","DEPTH_COMPONENT16","destroy","get","Could not compile WebGL program. \n\n","getExtension","fixedSize","RENDERBUFFER","485027mUCBrK","framebufferTexture2D","resize","1761qgbXgr","framebufferRenderbuffer","stencilAttachment","textureType","height","createTexture","getOwnPropertyNames","RGBA32F","setDepthAttachment","setStencilAttachment","_getAttributes","ACTIVE_ATTRIBUTES","getProgramInfoLog","createShader","type","UNSIGNED_SHORT","getProgramParameter","TEXTURE_WRAP_S","renderer","getUniformLocation","RGBA","_disableVertexAttribArray","_initShaders","EXT_color_buffer_float","width","bindRenderbuffer","disableVertexAttribArray","attachShader","_getUniforms","set","compileShader","_samples","create FrameBuffer Fail","1217701qyDcCJ","609074DLemYy","depthAttachment","DEPTH_ATTACHMENT","TEXTURE_MIN_FILTER","shaderSource","RGBA16F","setUp","FRAGMENT_SHADER","COMPILE_STATUS","name","FLOAT","hasOwnProperty","_type","VERTEX_SHADER","fsShader","FRAMEBUFFER","bindTexture","canvas","colorAttachments","339sbUyKF","createRenderbuffer","COLOR_ATTACHMENT0","CLAMP_TO_EDGE","frameBuffer","DEPTH_COMPONENT","render","1eCDCsa","deactive","ACTIVE_UNIFORMS","getShaderParameter","TEXTURE_2D","checkFramebufferStatus","texParameteri","FRAMEBUFFER_COMPLETE","2592epXVoE","295xITMoG","bindFramebuffer","getShaderInfoLog","texSize","_program","linkProgram","drawingBufferWidth","_compileShader","samples","1486LHNxTL","LINEAR","UNSIGNED_BYTE","862957UEgrOl","deleteFramebuffer","addColorAttachment","vsShader","texImage2D","1lTIUEr","TEXTURE_WRAP_T","renderbufferStorage"],Jx=Qx;!function(t,e){const r=Qx;for(;;)try{if(745566===parseInt(r(382))*-parseInt(r(387))+-parseInt(r(361))*parseInt(r(442))-parseInt(r(405))+parseInt(r(354))*parseInt(r(408))+-parseInt(r(369))*parseInt(r(370))-parseInt(r(441))+parseInt(r(391))*parseInt(r(379)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(qx);class Kx extends Et{constructor(e,r=0,i={}){const n=Qx;super(),this.gl=e,i[n(453)]("texSize")?(this.texSize=i.texSize,this[n(403)]=!0):(this[n(373)]=[this.gl[n(376)],this.gl.drawingBufferHeight],this[n(403)]=!1),this.id=t.Aid.createUnique(),this[n(422)]=r,0==r?this[n(358)]=this.gl[n(395)]():(this[n(358)]=this.gl[n(395)](),this[n(394)]=this.gl.createFramebuffer()),this.colorAttachments=[],this[n(443)]=null,this[n(410)]=null,this[n(426)]=null,this[n(439)]=i[n(378)]||1,this[n(448)]()}[Jx(448)](){const t=Jx,e=this.gl;if(e[t(366)](e[t(350)])!==e[t(368)])throw t(440)}getId(){return this.id}[Jx(384)](t=0,e=0){const r=Jx,i=this.gl;if(this[r(454)]=t,0===t){let n=i[r(413)]();n[r(422)]=t,n[r(411)]=e,i[r(351)](i[r(365)],n),0==e?i[r(386)](i[r(365)],0,i[r(428)],this[r(373)][0],this[r(373)][1],0,i[r(428)],i[r(381)],null):1==e?(i.getExtension("EXT_color_buffer_float"),i.texImage2D(i[r(365)],0,i[r(447)],this[r(373)][0],this[r(373)][1],0,i[r(428)],i[r(452)],null)):2==e&&i[r(386)](i.TEXTURE_2D,0,i[r(415)],this[r(373)][0],this.texSize[1],0,i[r(428)],i.FLOAT,null),i[r(367)](i[r(365)],i[r(445)],i[r(380)]),i[r(367)](i[r(365)],i.TEXTURE_MAG_FILTER,i[r(380)]),i[r(367)](i.TEXTURE_2D,i[r(425)],i.CLAMP_TO_EDGE),i[r(367)](i[r(365)],i[r(388)],i[r(357)]),this[r(392)](),i[r(406)](i[r(350)],i[r(356)]+this[r(353)][r(390)],i[r(365)],n,0),this[r(353)].push(n),i[r(351)](i[r(365)],null)}return this}[Jx(416)](t=1){const e=Jx,r=this.gl;if(this[e(443)],0===t){let i=r[e(413)]();i[e(422)]=t,r[e(351)](r[e(365)],i),r[e(386)](r[e(365)],0,r[e(398)],this[e(373)][0],this[e(373)][1],0,r.DEPTH_COMPONENT,r.UNSIGNED_SHORT,null),r[e(367)](r[e(365)],r[e(445)],r.NEAREST),r[e(367)](r[e(365)],r[e(396)],r.NEAREST),r[e(367)](r[e(365)],r[e(425)],r.CLAMP_TO_EDGE),r[e(367)](r.TEXTURE_2D,r.TEXTURE_WRAP_T,r[e(357)]),this.active(),r.framebufferTexture2D(r[e(350)],r.DEPTH_ATTACHMENT,r[e(365)],i,0),this[e(443)]=i,r[e(351)](r.TEXTURE_2D,null)}else this.depthAttachment=r[e(355)](),this[e(443)][e(422)]=t,r[e(433)](r.RENDERBUFFER,this[e(443)]),r.renderbufferStorage(r[e(404)],r.DEPTH_COMPONENT16,this[e(373)][0],this[e(373)][1]),this[e(392)](),r[e(409)](r[e(350)],r[e(444)],r[e(404)],this[e(443)]),r.bindRenderbuffer(r.RENDERBUFFER,null);return this}[Jx(417)](t){return this[Jx(410)]=t,this}[Jx(392)](){const t=Jx,e=this.gl;return e[t(371)](e[t(350)],this[t(358)]),(this[t(373)][0]!==e[t(352)][t(432)]||this[t(373)][1]!==e[t(352)].height)&&this[t(407)](),this}[Jx(362)](){const t=Jx,e=this.gl;return e[t(371)](e[t(350)],null),this}resize(t,e){const r=Jx,i=this.gl;if(!this[r(403)]){this.texSize=[this.gl[r(352)][r(432)],this.gl[r(352)][r(412)]];for(let t=0,e=this.colorAttachments[r(390)];t<e;t++){const e=this[r(353)][t];if(0==e.type){const t=e.textureType;i[r(351)](i[r(365)],e),0==t?i.texImage2D(i[r(365)],0,i.RGBA,this[r(373)][0],this[r(373)][1],0,i.RGBA,i[r(381)],null):1==t?(i[r(402)]("EXT_color_buffer_float"),i[r(386)](i[r(365)],0,i[r(447)],this[r(373)][0],this.texSize[1],0,i.RGBA,i[r(452)],null)):2==t&&(i[r(402)](r(431)),i[r(386)](i.TEXTURE_2D,0,i[r(415)],this[r(373)][0],this.texSize[1],0,i[r(428)],i[r(452)],null)),i[r(351)](i.TEXTURE_2D,null)}}this.depthAttachment&&(1==this[r(443)][r(422)]?(i[r(433)](i[r(404)],this[r(443)]),i[r(389)](i[r(404)],i[r(398)],this[r(373)][0],this[r(373)][1]),i[r(433)](i[r(404)],null)):(i.bindTexture(i.TEXTURE_2D,this[r(443)]),i[r(386)](i[r(365)],0,i[r(398)],this[r(373)][0],this[r(373)][1],0,i[r(359)],i[r(423)],null),i[r(351)](i[r(365)],null)))}}[Jx(360)](){this.resize(this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}[Jx(399)](){const t=Jx;this.gl[t(383)](this.frameBuffer),0!==this[t(422)]&&this.gl.deleteFramebuffer(this.frameBufferFit);for(let e=0,r=this.colorAttachments[t(390)];e<r;e++)this.gl.deleteTexture(this[t(353)][e]);let e=Object[t(414)](this);for(let r=0,i=e[t(390)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}[Jx(397)](t,e){const r=Jx,i=this.gl;this[r(374)]&&i.deleteProgram(this[r(374)]);const n=this._initShaders(t,e),s=n[r(400)](r(385)),o=n[r(400)]("fsShader");let a=i.createProgram();if(i.attachShader(a,s),i[r(435)](a,o),i[r(375)](a),!i[r(424)](a,i[r(393)])){let t=this.gl[r(420)](a);throw r(401)+t}return a}[Jx(430)](t,e){const r=Jx,i=this.gl,n=this[r(377)](t,i[r(455)]),s=this[r(377)](e,i[r(449)]),o=new Map;return o[r(437)](r(385),n).set(r(349),s),o}_compileShader(t,e){const r=Jx,i=this.gl;let n=i[r(421)](e);if(i[r(446)](n,t),i[r(438)](n),!i[r(364)](n,i[r(450)])){let t=i[r(372)](n);throw new Error(t)}return n}[Jx(436)](t){const e=Jx,r=this.gl;let i={};const n=r[e(424)](t,r[e(363)]);for(let s=0;s<n;s++){const n=r.getActiveUniform(t,s);n&&(i[n[e(451)]]=r[e(427)](t,n[e(451)]))}return i}[Jx(418)](t){const e=Jx,r=this.gl,i=r[e(424)](t,r[e(419)]);let n={};for(let s=0;s<i;s++){const i=r.getActiveAttrib(t,s);i&&(n[i.name]=r.getAttribLocation(t,i[e(451)]))}return n}[Jx(429)](t){const e=Jx,r=this.gl,i=r[e(424)](t,r[e(419)]);for(let t=0;t<i;t++)r[e(434)](t)}}function Qx(t,e){return qx[t-=349]}const tv=["fs_depth","1944473SwgFeO","1WLRWZh","550003qaUkPe","169243tqkDOe","444779MvCUaW","899225xTHIkj","118732iOJUlB","#version 300 es\n\t\tin vec4 a_position;\n\t\tin vec4 a_normal;\n        //viewer\n\t\tuniform mat4 u_allMMatrix;\n    \tuniform mat4 u_projMatrix;\n        uniform mat4 u_viewMatrix;\n        uniform mat4 u_normalMatrix;\n        //projector\n        uniform mat4 u_texProjViewMatrix;\n        out vec4 v_shadowPoint;\n        out vec3 v_normal;\n\t\tvoid main(){\n\t        mat4 modelMatrix=u_allMMatrix;\n\t        modelMatrix[3]=vec4(0.0,0.0,0.0,modelMatrix[3][3]);\n\t        gl_Position=u_projMatrix*u_viewMatrix*modelMatrix*a_position;\n            v_normal = normalize(vec3(u_normalMatrix * a_normal));\n\t\t\t//projector+correction\n\t\t\tv_shadowPoint=u_texProjViewMatrix*modelMatrix*a_position;\n\t\t}\n","2JEzDFB","vs_depth","213477fnidCj","#version 300 es\n\t\tprecision highp float;\n\t\t\n\t\tuniform float u_opacityFactor;\n\t\tuniform float u_opacity;\n\n\t\t//projector\n\t\tin vec4 v_shadowPoint;\n\t\tin vec3 v_normal;\n\t\tuniform bool u_clampToModel;\n\t\tuniform bool u_useVideo;\n\t\tuniform sampler2D u_pattern;\n\t\tuniform sampler2D u_depth;\n        uniform sampler2D u_clip;\n        uniform bool u_ifClip;\n\t    out vec4 outColor;\n\t    //\n\t    uniform vec2 u_shadowSize;\n\t    \n\t    //pcf\n\t    float pcfFilter(sampler2D u_shadowMap,vec3 shadowCoord,float bias){\n            float shadows =0.0;\n            float texelSize=1.0/u_shadowSize.x;\n            // vec4 rgbaDepth;\n            //range filter\n            // for(float y=-1.5; y <= 1.5; y += 1.0){\n            //     for(float x=-1.5; x <=1.5; x += 1.0){\n            //         rgbaDepth = texture(u_shadowMap, shadowCoord.xy+vec2(x,y)*texelSize);\n            //         shadows += (shadowCoord.z-bias) > rgbaDepth.r ? 0.0 : 1.0;\n            //     }\n            // }\n            \n            //linear filter\n            float depthX=0.0;\n            float depthY=0.0;\n            for(float range=-2.0; range<= 2.0;range+=1.0){\n                 depthX = texture(u_shadowMap, shadowCoord.xy+vec2(range,0.0)*texelSize).r;\n                 shadows += (shadowCoord.z-bias) > depthX ? 0.0 : 1.0;\n                 \n                 depthY = texture(u_shadowMap, shadowCoord.xy+vec2(0.0,range)*texelSize).r;\n                 shadows += (shadowCoord.z-bias) > depthY ? 0.0 : 1.0;                 \n            }\n            \n            shadows/=10.0;\n            return min(shadows,1.0);\n\t    }\n\t           \n\t    //vsm\n\t    float vsmFilter (sampler2D u_shadowMap,vec3 shadowCoord){\n\t    \tfloat mean = 0.0;\n            float squared = 0.0;  \n            float texelSize=1.0/u_shadowSize.x; \n        \n            //bilinear sample,reduce loops\n            for(float radiu=-1.5; radiu <=1.5; radiu += 1.0){\n                float depthY = texture(u_shadowMap, shadowCoord.xy+vec2(0.0,radiu)*texelSize).r;\n                mean += depthY;\n                squared += depthY * depthY;\n\n                float depthX = texture(u_shadowMap, shadowCoord.xy+vec2(radiu,0.0)*texelSize).r;\n                mean += depthX;\n                squared += depthX * depthX;\n            }\n            \n            mean = mean / 8.0;\n            squared = squared / 8.0;\n\t        float variance = squared-mean * mean;\n\t        \n\t        //inequality\n            float distance = shadowCoord.z - mean + 0.0005 ;\n            variance = max(0.005, variance);\n            float probability = variance / (variance + distance * distance); // Chebeyshevs inequality\n            probability = clamp((probability-0.9)/(1.0-0.9),0.0,1.0); // 0.9 reduces light bleed\n            return probability;\n        }\n       \n\t\tvoid main(){\n\t\t    // outColor=vec4(1.0,0.0,0.0,1.0);\n\t\t    if(!u_useVideo){\n\t\t        outColor=vec4(0.0,0.0,0.0,0.0);\n\t\t        discard;\n\t\t    }\n\t\t    vec3 shadowCoord=0.5+0.5*v_shadowPoint.xyz/v_shadowPoint.w;\n\t\t\tbvec4 outFrustum=bvec4(shadowCoord.x<0.0,shadowCoord.x>1.0,shadowCoord.y< 0.0,shadowCoord.y>1.0);\n\t\t\tif(any(outFrustum)||v_shadowPoint.w<0.0){   //w note object in front of or behind the camera\n\t\t\t    outColor = vec4(0.0,0.0,0.0,0.0);\n                discard;\n\t\t\t}else{\n\n                //flip y inside\n\t\t\t    float fliyY=0.5-0.5*v_shadowPoint.y/v_shadowPoint.w;\n\t\t\t    outColor=texture(u_pattern,vec2(shadowCoord.x,fliyY));//multisample cause distortion\n\t\t\t    \n                //clip polygon status\n\t\t\t    float clipStatus = 1.0 - texture(u_clip, vec2(shadowCoord.x,fliyY)).r;\n\n                if(u_clampToModel) {\t//clamp to model surface\n\t\t\t        //1,pcf\n\t\t\t        // float bias = max(0.05 * (1.0 - dot(v_normal,v_shadowPoint.xyz)),0.005);\n\t\t\t        // float shadow = pcfFilter(u_depth,shadowCoord,0.005);\n\t\t\t        // outColor.a*=shadow;\n\n                    //2,vsm \n                    float shadow = vsmFilter(u_depth, shadowCoord);\n                    outColor.a *= shadow;\n\t\t\t    }\n\t\t\t    if(u_ifClip){\n\t\t\t        outColor.a *= clipStatus;    \n\t\t\t    }else{\n\t\t\t       float u_opacity = 1.0 - smoothstep(0.45, 0.5, abs(shadowCoord.x - 0.5));\n                   float v_opacity = 1.0 - smoothstep(0.45, 0.5, abs(shadowCoord.y - 0.5));\n                   outColor.a *= min(u_opacity, v_opacity);\n\t\t\t    }\n\t\t\t}\n\t\t}\n"],ev=rv;function rv(t,e){return tv[t-=139]}!function(t,e){const r=rv;for(;;)try{if(574035===-parseInt(r(148))+parseInt(r(141))+parseInt(r(142))+parseInt(r(144))+-parseInt(r(140))*-parseInt(r(146))+parseInt(r(143))+-parseInt(r(139))*parseInt(r(151)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(tv);const iv={};iv[ev(147)]="#version 300 es\n        in vec4 a_position;\n        uniform mat4 u_allMMatrix;\n        uniform mat4 u_texProjViewMatrix;\n        \n        out vec4 v_position;\n        void main(){\n            mat4 modelMatrix=u_allMMatrix;      \n            modelMatrix[3]=vec4(0.0,0.0,0.0,modelMatrix[3][3]);\n            gl_Position=u_texProjViewMatrix*modelMatrix*a_position;\n            v_position=gl_Position;\n        }\n",iv[ev(150)]="#version 300 es\n        precision highp float;\n        out vec4 outColor;\n        in vec4 v_position;\n        \n        vec4 pack (float depth) {\n            const vec4 bitShift = vec4(1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0);\n            const vec4 bitMask = vec4(1.0/256.0, 1.0/256.0, 1.0/256.0, 0.0);\n            vec4 rgbaDepth = fract(depth * bitShift);\n            rgbaDepth -= rgbaDepth.gbaa * bitMask;\n            return rgbaDepth;\n        }        \n        void main(){\n            float depth=0.5+0.5*v_position.z/v_position.w;\n            // outColor=pack(depth);\n            outColor=vec4(depth,0.0,0.0,1.0);\n        }\n",iv.vs=ev(145),iv.fs=ev(149);const nv=["u_pattern","getPMatrix","TEXTURE_MIN_FILTER","u_normalMatrix","UNPACK_FLIP_Y_WEBGL","createTexture","textureProgram","DEPTH_BUFFER_BIT","drawArrays","setMeshPublic","setVideoProjectUniforms","DEPTH_TEST","destory","CLAMP_TO_EDGE","multiply","u_opacityFactor","u_nearPlane","bindTexture","setDepthAttachment","66473YAgssM","enable","render","u_ifClip","texParameteri","get","deleteTexture","pattern","setUp","createClipTexture","setPublicUniforms","addColorAttachment","video","u_texProjViewMatrix","texSize","TEXTURE_WRAP_T","modelMatrix","RGB","push","u_projMatrix","1YonNkc","u_depth","pixelStorei","near","404507DTKQkS","clipCanvas","_composeMatrix","u_allMMatrix","deactive","transpose","setDepthPublicUniforms","197644CQRdRv","RGB8","TEXTURE_2D","324117rWXEVf","uniform1f","u_viewMatrix","forEach","far","u_clip","1ZgBGDq","clampToModel","u_pmatrix","20548NXPIzb","uniform1i","clipTextures","NEAREST","647646xRpnHI","bind","uniforms","1aIpwsD","uniform2fv","positionCount","clipChanged","disable","colorAttachments","34879hKJPoz","uniformMatrix4fv","TEXTURE_WRAP_S","TEXTURE0","TRIANGLES","bindVertexArray","viewport","u_farPlane","u_clampToModel","deleteProgram","getOwnPropertyNames","models","activeTexture","u_useVideo","_opacity","UNSIGNED_BYTE","CULL_FACE","depthAttachment","active","depthProgram","length","clipTexture","vao","useProgram","u_shadowSize","u_opacity","UNPACK_ALIGNMENT","texImage2D","getElements"],sv=ov;function ov(t,e){return nv[t-=445]}!function(t,e){const r=ov;for(;;)try{if(288808===parseInt(r(472))*parseInt(r(449))+-parseInt(r(453))*parseInt(r(469))-parseInt(r(533))-parseInt(r(485))-parseInt(r(460))+parseInt(r(463))+-parseInt(r(479))*-parseInt(r(476)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(nv);class av extends Kx{constructor(t,e=0){const r=ov;super(t,0,{texSize:[1024,1024]}),this[r(504)]=new qc(t,iv.vs_depth,iv.fs_depth),this[r(520)]=new qc(t,iv.vs,iv.fs),this[r(474)]=[]}[sv(541)](){const t=sv;return this[t(544)](0),this[t(532)](1),super.setUp(),this}[sv(535)](e,r){const i=sv;if(!r)return;let n=e._fbxRender,s=n.videoTextures[i(538)](r.id);if(!s)return;this.gl[i(483)](this.gl[i(501)]),this.gl[i(534)](this.gl[i(525)]),r.clampToModel&&(this[i(503)](),this.depthProgram[i(508)](),this.gl[i(491)](0,0,this[i(547)][0],this[i(547)][1]),this.gl.clear(this.gl[i(521)]),this.setDepthPublicUniforms(this[i(504)],{u_shadowSize:this.texSize,u_nearPlane:r[i(452)],u_farPlane:r[i(467)]}),n[i(496)][i(466)](function(e,n){const s=i;e.uniforms[s(498)]&&e[s(466)](function(i,n){const o=s;i[o(456)]=new t.Matrix4,i.u_allMMatrix[o(528)](e[o(478)][o(445)]),i.u_allMMatrix[o(528)](i[o(471)]);const a=i.u_allMMatrix[o(513)]();this[o(524)](this.depthProgram,{u_texProjViewMatrix:r.getProjViewMatrixRTE(a[12],a[13],a[14]),u_useVideo:e.uniforms[o(498)]}),i[o(517)]=new t.Matrix4,i.u_viewMatrix=new t.Matrix4,this.setMeshPublic(this.depthProgram,i),i[o(466)](function(t,e){const r=o;this.gl[r(490)](t[r(507)]),this.gl[r(522)](this.gl[r(489)],0,t[r(481)]),this.gl[r(490)](null)}[o(477)](this))}.bind(this))}[i(477)](this)),this[i(457)](),e._map._setViewPort(this.gl)),this[i(520)][i(508)](),this.gl[i(497)](this.gl[i(488)]+r[i(540)]),this.gl.bindTexture(this.gl[i(462)],s.texture),this.gl[i(512)](this.gl[i(462)],0,this.gl.RGB8,this.gl[i(446)],this.gl[i(500)],s[i(545)]),r[i(482)]?(r.clipTexture&&(this.gl[i(539)](r[i(506)]),r[i(506)]=null),r.clipCanvas&&(r[i(506)]=this[i(542)](r[i(540)]+1),this.clipTextures[i(447)](r.clipTexture),this.gl.texImage2D(this.gl[i(462)],0,this.gl[i(461)],this.gl[i(446)],this.gl[i(500)],r[i(454)]),r[i(482)]=!1)):(this.gl[i(497)](this.gl[i(488)]+r.pattern+1),this.gl[i(531)](this.gl[i(462)],r[i(506)]));let o=!!r[i(454)];return this.gl[i(497)](this.gl[i(488)]),this.gl[i(531)](this.gl[i(462)],this[i(484)][0]),this[i(543)](this.textureProgram,{u_projMatrix:n.camera[i(515)](),u_opacity:e[i(499)],u_pattern:r[i(540)],u_clip:r[i(540)]+1,u_ifClip:o,u_depth:0,u_clampToModel:r[i(470)]}),this[i(459)](this[i(520)],{u_shadowSize:this[i(547)],u_nearPlane:r[i(452)],u_farPlane:r[i(467)]}),n.models.forEach(function(e,s){const o=i;e[o(478)].u_useVideo&&(this.setModelUniforms(this[o(520)],e[o(478)]),e[o(466)](function(i,s){const a=o;i[a(456)]=new t.Matrix4,i[a(456)][a(528)](e[a(478)][a(445)]),i.u_allMMatrix[a(528)](i[a(471)]);const h=i[a(456)][a(513)]();this[a(524)](this[a(520)],{u_texProjViewMatrix:r.getProjViewMatrixRTE(h[12],h[13],h[14]),u_useVideo:e[a(478)][a(498)]}),i[a(517)]=new t.Matrix4,i[a(517)].setInverseOf(i.u_allMMatrix),i.u_normalMatrix[a(458)](),i[a(465)]=n[a(455)](i[a(456)]),this[a(523)](this[a(520)],i),i[a(466)](function(t,e){const r=a;this.gl[r(490)](t.vao),this.gl[r(522)](this.gl[r(489)],0,t[r(481)]),this.gl[r(490)](null)}[a(477)](this))}[o(477)](this)))}.bind(this)),this.gl.bindTexture(this.gl[i(462)],null),this.gl[i(483)](this.gl[i(525)]),this.gl.enable(this.gl[i(501)]),this}[sv(459)](t,e){const r=sv;this.gl[r(480)](t[r(478)][r(509)],e[r(509)]),this.gl[r(464)](t[r(478)].u_nearPlane,e[r(530)]),this.gl[r(464)](t[r(478)].u_farPlane,e[r(492)])}[sv(543)](t,e){const r=sv;this.gl[r(486)](t.uniforms[r(448)],!1,e[r(448)][r(513)]()),this.gl.uniform1f(t[r(478)][r(510)],e[r(510)]),this.gl.uniform1i(t[r(478)].u_pattern,e[r(514)]),this.gl[r(473)](t.uniforms[r(468)],e.u_clip),this.gl[r(464)](t[r(478)][r(536)],e[r(536)]),this.gl[r(473)](t[r(478)][r(450)],e[r(450)]),this.gl[r(464)](t[r(478)][r(493)],e[r(493)])}[sv(523)](t,e){const r=sv;this.gl[r(486)](t[r(478)][r(456)],!1,e.u_allMMatrix[r(513)]()),this.gl[r(486)](t[r(478)].u_viewMatrix,!1,e[r(465)][r(513)]())}setModelUniforms(t,e){const r=sv;this.gl[r(464)](t[r(478)].u_opacityFactor,e[r(529)]),this.gl.uniform1f(t.uniforms[r(498)],e[r(498)])}[sv(524)](t,e){const r=sv;this.gl[r(486)](t.uniforms[r(546)],!1,e[r(546)][r(513)]())}[sv(542)](t=0,e=!1){const r=sv;let i=this.gl[r(519)]();return this.gl[r(497)](this.gl[r(488)]+t),this.gl[r(531)](this.gl[r(462)],i),this.gl[r(451)](this.gl[r(518)],e),this.gl.pixelStorei(this.gl[r(511)],1),this.gl[r(537)](this.gl[r(462)],this.gl[r(487)],this.gl[r(527)]),this.gl[r(537)](this.gl.TEXTURE_2D,this.gl[r(548)],this.gl[r(527)]),this.gl.texParameteri(this.gl[r(462)],this.gl[r(516)],this.gl[r(475)]),this.gl.texParameteri(this.gl[r(462)],this.gl.TEXTURE_MAG_FILTER,this.gl[r(475)]),i}[sv(526)](){const t=sv;this.gl[t(494)](this[t(504)]),this.gl[t(494)](this.textureProgram),this.gl[t(539)](this[t(502)]),this.gl[t(539)](this[t(484)][0]);for(let e=0;e<this.clipTextures[t(505)];e++)this.gl.deleteTexture(this[t(474)][e]),this.clipTextures[e]=null;this[t(474)][t(505)]=0;let e=Object[t(495)](this);for(let r=0,i=e[t(505)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const hv=["_id","getCrs","setProjectors","videoTextures","updateProjectors","layerOctree","modelData","set","min","_modelToAdd","getHighlightColor","destory","active","camera","removeAllModels","13318oLXqTx","removeById","getProjectors","58LvpxiC","render","getWorldExtent","1nhZdSV","119446jElkhk","1916xVvaEP","enableHashCode","_isLGD","all","then","delete","removeModel","updateHighlightStatus","setOpacity","draw","depthFrame","_addModel","length","9221BUFObt","clear","350520EApBBs","3OPeeSu","getMid","setMap","name","getTop","40HMuWpj","deactive","projector","2311CyDOCV","getLayerType","push","setHighlightColor","getCamera","projectors","_storedModels","83330COQTBW","splice","hasOwnProperty","26QorwyC","_map","_draw","removeModelById","max","indexOf","enableStrict","getBottom","get","readyRender","_modelPromises","20uLLIRE","destroy","_bbox","getRight","_modelMap","_fbxRender","createVideoTexture","bind","getLeft"],lv=cv;function cv(t,e){return hv[t-=202]}!function(t,e){const r=cv;for(;;)try{if(183362===-parseInt(r(237))*parseInt(r(271))+-parseInt(r(250))*parseInt(r(205))-parseInt(r(252))+-parseInt(r(232))*parseInt(r(261))+-parseInt(r(236))*-parseInt(r(235))+-parseInt(r(253))*-parseInt(r(268))+parseInt(r(229))*parseInt(r(258)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(hv);class uv extends Dt{constructor(t,e={}){const r=cv;super(e),this[r(256)]=t,this._map=null,this[r(209)]=new Map,this[r(223)]=new Map,this._modelPromises=[],this[r(239)]=!1,this.enableHashCode=e[r(270)](r(238))?e[r(238)]:this.enableHashCode,this.enableStrict=!!e[r(270)](r(277))&&e[r(277)],this[r(266)]=e[r(270)](r(260))?e.projectors:[]}[lv(216)](t){this[lv(266)]=t}[lv(231)](){return this[lv(266)]}[lv(262)](){return Ot.FbxModelLayer}[lv(255)](e){const r=lv;super[r(255)](e);const i={mapUnit:e.getCrs().getUnit(),isLGD:this[r(239)],event:this.event,layer:this};if(e&&this.enableHashCode){const i=e[r(215)]()[r(234)]();let n=Math[r(222)](i[r(278)](),i[r(213)]()),s=Math[r(275)](i[r(257)](),i[r(208)]()),o=new t.Vector3(n,n,n),a=new t.Vector3(s,s,s);this.layerOctree=new Ug(o,a)}this._fbxRender=new Zx(this.gl,i),this[r(210)][r(227)]=e[r(265)](),this[r(267)]()}[lv(218)](){const t=lv;if(0!==this[t(266)][t(249)]){this[t(210)][t(217)][t(251)]();for(let e=0;e<this[t(266)].length;e++)this[t(210)][t(211)](this[t(266)][e]);this[t(247)]&&this[t(247)][t(225)](),this.depthFrame=new av(this.gl),this[t(247)][t(259)]()}}[lv(267)](){const t=lv;this[t(223)].forEach((function(e,r,i){const n=t;this[n(209)][n(221)](e[n(254)](),e),this[n(248)](e)})),this[t(223)][t(251)]()}[lv(248)](t){const e=lv;let r=this[e(210)].addFbxModel(t);this[e(204)][e(263)](r);let i=this;r[e(241)]((function(){const n=e;if(i.enableHashCode)for(let e=0,r=t[n(220)].length;e<r;e++){let r=t[n(220)][e];r._mid=t[n(214)],r[n(207)]&&i.layerOctree.put(r)}const s=i[n(204)][n(276)](r);s>-1&&i[n(204)][n(269)](s,1),i[n(203)]=!0}))}addModel(t){const e=lv;this[e(272)]?(this[e(209)][e(221)](t[e(254)](),t),this[e(248)](t)):this._modelToAdd[e(221)](t[e(254)](),t),this[e(272)]&&this[e(272)].af[e(226)]()}[lv(228)](){const t=lv;this[t(209)][t(251)](),this[t(223)][t(251)](),this[t(210)][t(228)](),this[t(238)]&&this[t(219)][t(251)](),this[t(272)]&&this[t(272)].af[t(226)]()}getModelById(t){const e=lv;return this[e(209)][e(202)](t)}[lv(243)](t){const e=lv;let r=t[e(254)]();this[e(209)][e(242)](r),this[e(223)][e(242)](r),this[e(210)][e(274)](r),this[e(238)]&&this[e(219)][e(230)](r),this[e(272)]&&this._map.af.active()}[lv(244)](){}[lv(246)](t){const e=lv;super.draw(),0==this._modelPromises.length?this[e(273)](1==t):Promise[e(240)](this[e(204)])[e(241)](this[e(273)][e(212)](this,1==t))}_draw(t=!1){const e=lv;if(this._fbxRender[e(245)](this._opacity),this[e(210)][e(264)](this[e(272)][e(224)]()),this[e(203)]){this[e(210)][e(233)](t);const r=this.projectors;for(let t=0;t<r.length;t++)this.depthFrame.render(this,r[t])}}[lv(206)](){const t=lv;this[t(210)].removeAllModels(),super[t(206)]()}}const pv=["5735WJyUrC","245934rhlZNO","254GljdQQ","1DcdmdQ","724992BEzxWW","86mcTPXe","54253hptZSR","19kutKIw","529982PSGTbe","#version 300 es\nprecision mediump float;\nin vec4 v_position;\nin vec2 v_texCoord;\nin vec3 v_normal;\nuniform sampler2D u_tex;\nuniform bool u_ifTex;\nuniform vec4 u_color;\nuniform vec3 u_lightDirection;\nuniform float u_opacity;\nuniform bool u_highlight;\nuniform vec4 u_highlightColor;\n\nout vec4 outColor;\n//n// uniform vec4  u_highlightColor;//nuniform sampler2D u_selectTexture;\nuniform vec4 u_extentH;\nuniform vec2 u_heightRange;\n\nvec4 pickTextureCoord(){\n     float width=u_extentH.z-u_extentH.x;\n     float height=u_extentH.w-u_extentH.y;\n     float x= (v_position.x-u_extentH.x)/width;\n     float y= (v_position.y-u_extentH.y)/height;\n     return texture(u_selectTexture,vec2(x,y));\n}\n\nvoid main(){\n    vec3 dx=dFdx(v_position.xyz);\n    vec3 dy=dFdy(v_position.xyz);\n    vec3 n=(normalize(cross(normalize(dx),normalize(dy))));\n    vec3 light=normalize(u_lightDirection);\n    //float diff=clamp(dot(n,light),0.5,1.0);\n    float diff=clamp(dot(v_normal,light),0.1,1.0);\n\n    //\n    if(u_ifTex){\n        outColor=texture(u_tex,v_texCoord);\n        outColor=outColor*u_color;\n    }else{\n        outColor=u_color;\n        outColor=vec4(u_color.rgb*diff,1.0);\n        // outColor=outColor+u_color*vec4(0.4,0.4,0.4,0.4);\n        // outColor.a=1.0;\n    }\n    outColor.a=outColor.a*u_opacity;\n    if(u_highlight){\n        outColor = outColor*(1.0-u_highlightColor.a) + u_highlightColor*u_highlightColor.a;\n    }\n    //n    vec4 pickColor=pickTextureCoord();\n    if(pickColor.r>0.01&&v_position.z>=u_heightRange.x && v_position.z<=u_heightRange.y) {\n        outColor = outColor + u_highlightColor*u_highlightColor.a;\n    }\n}","9508EXBsPW","#version 300 es\nin vec4 a_position;\nin vec2 a_texcoord_0;\nin vec3 a_normal;\nuniform mat4 u_worldMatrix;\n\nuniform mat4 u_viewMatrix;\nuniform mat4 u_projMatrix;\n\nout vec4 v_position;\nout vec2 v_texCoord;\nout vec3 v_normal;\nvoid main(){\n    mat4 modelMatrix=u_worldMatrix;\n    modelMatrix[3]=vec4(0.0,0.0,0.0,modelMatrix[3][3]);\n    gl_Position=u_projMatrix*u_viewMatrix*modelMatrix*a_position;\n    v_position=modelMatrix*a_position;\n    v_position.z=v_position.z+modelMatrix[3][2];\n    v_texCoord=a_texcoord_0;\n\tv_normal=a_normal;\n}","vsShader","1759mKiLmS"],fv=dv;!function(t,e){const r=dv;for(;;)try{if(705094===parseInt(r(383))+-parseInt(r(382))+parseInt(r(385))*parseInt(r(376))+parseInt(r(387))*-parseInt(r(378))+parseInt(r(384))*parseInt(r(381))+-parseInt(r(375))*-parseInt(r(374))+-parseInt(r(386)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(pv);const gv={};function dv(t,e){return pv[t-=374]}gv[fv(380)]=fv(379),gv.fsShader=fv(377);const _v=["u_extentH","u_projMatrix","u_selectTexture","uniform4fv","setSelectUniforms","vsShader","fsShader","u_highlight","583RbfJlJ","u_opacity","1BElWQc","u_viewMatrix","1782407iJHEaf","u_heightRange","1020605FRqUfE","4106928DQxkVL","1981jpCpjz","uniformMatrix4fv","u_highlightColor","u_lightDirection","643162nddrxF","538141XAIAYc","uniform3fv","58480TqKcHH","1OHuFvN","u_worldMatrix","u_ifTex","uniforms","uniform1i","uniform1f"],yv=Iv;!function(t,e){const r=Iv;for(;;)try{if(950420===-parseInt(r(127))*parseInt(r(149))+parseInt(r(125))+-parseInt(r(132))+-parseInt(r(131))+-parseInt(r(135))*parseInt(r(153))+-parseInt(r(151))*parseInt(r(134))+parseInt(r(126)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_v);class mv extends qc{constructor(t,e=!1){const r=Iv;let i,n;i=gv[r(146)],n=gv[r(147)],super(t,i,n)}setPrivateUniforms(t){const e=Iv;this.gl[e(128)](this[e(138)][e(136)],!1,t[e(136)]),this.gl[e(144)](this[e(138)].u_color,t.u_color),this.gl[e(133)](this[e(138)][e(130)],t[e(130)]),this.gl[e(139)](this.uniforms[e(137)],t[e(137)]),this.gl[e(140)](this[e(138)][e(150)],t.opacity),this.gl[e(139)](this[e(138)].u_highlight,t[e(148)]),this.gl.uniform4fv(this[e(138)][e(129)],t[e(129)]),this.gl[e(128)](this.uniforms[e(142)],!1,t.u_projMatrix),this.gl[e(128)](this[e(138)][e(152)],!1,t[e(152)])}[yv(145)](t){const e=yv;this.gl[e(144)](this[e(138)][e(141)],t[e(141)]),this.gl.uniform1i(this.uniforms[e(143)],t[e(143)]),this.gl.uniform2fv(this[e(138)][e(124)],t[e(124)])}}function Iv(t,e){return _v[t-=124]}const xv=["setSelectUniforms","indices","stride","setPrivateUniforms","getPMatrix","_renderDrawables","createVertexArray","ARRAY_BUFFER","_id","_selected","enableVertexAttribArray","scenes","setTranslate","3WfNgMn","drawElements","texParameteri","colorTexture","createTexture","7585FWjFGo","ELEMENT_ARRAY_BUFFER","texImage2D","RGBA","_render","textureCount","data","gltfMap","138VnyYev","getPrimitives","UNPACK_ALIGNMENT","4HKQXEC","setOpacity","POSITIVE_INFINITY","worldMatrix","modelMap","generateMipmap","addGLTexture","attribs","put","length","entries","CLAMP_TO_EDGE","_flag","deleteBuffer","u_highlightColor","createBuffer","32tLjXYY","_createTextureFromArray","drawTex","program","type","_rendered","drawables","681niTJqy","MODEL_FIRSTLOADED","drawInfo","_IsRender","nodes","canvas","bindVertexArray","vao","TEXTURE_MIN_FILTER","buffer","min","a_position","bufferInfo","92801Zuhhbj","push","arrayBuffer","useProgram","_eyeY","offset","107VxeYIu","u_selectTexture","all","event","root","center","getViewRotate","28244yCVSNV","_modelCenter","_calculateBBox","colorFactor","TEXTURE0","tile3d","shaderSouces","get","textures","activeTexture","STATIC_DRAW","traverse","enable","_createWebGLBuffer","bindSelectTexture","texture","getElement","_eyeX","vertexAttribPointer","pixelStorei","uniforms","map","bindTexture","webglBuffer","disable","keys","_deleteWebGLBufferAndVao","vpMatrix","TEXTURE_2D","primitives","unit","_renderScenes","NEGATIVE_INFINITY","opacity","images","bind","UNPACK_PREMULTIPLY_ALPHA_WEBGL","drawArrays","multiplyVector3","_createTextures","target","camera","numComponents","textureInfo","setHighlightColor","dispatch","attributes","_viewMatrix","152098yjrCQd","byteOffset","deleteTexture","UNSIGNED_BYTE","getElements","set","_bbox","setUniforms","LINEAR_MIPMAP_LINEAR","deleteVertexArray","LINEAR","65173sfphVz","bindBuffer","_renderPrimitive","310UtaPlQ","mode","u_extentH","material","_eyeZ","bufferData"],vv=bv;function bv(t,e){return xv[t-=240]}!function(t,e){const r=bv;for(;;)try{if(145787===parseInt(r(247))+parseInt(r(319))*parseInt(r(261))+parseInt(r(312))*-parseInt(r(285))+-parseInt(r(332))*parseInt(r(280))+parseInt(r(345))+parseInt(r(338))*parseInt(r(293))+-parseInt(r(296))*-parseInt(r(258)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xv);class wv{constructor(t,e={}){const r=bv;this.gl=t,this[r(292)]=new Map,this[r(300)]=new Map,this[r(351)]=new Map,this[r(315)]=new mv(this.gl,e[r(350)]),this[r(365)]={},this.uniforms[r(310)]=[1,0,0,.1],this._flag={textureCount:0,promises:[]},this[r(242)]={unit:0,texture:null},this[r(322)]=new Map,this[r(341)]=e.event,this[r(317)]=!1}[vv(243)](t){const e=vv;this[e(365)][e(310)]=t}setVPMatrix(t){const e=vv;this.uniforms[e(372)]=t}[vv(254)](t){this[vv(365)]=t}[vv(297)](t){const e=vv;this.uniforms[e(378)]=t}[vv(359)](t,e){const r=vv;this[r(242)]&&this.gl[r(249)](this[r(242)].texture),this[r(242)]=this.program[r(302)](t[r(324)],e,"CLAMP_TO_EDGE",r(307),0),this.gl[r(367)](this.gl[r(373)],null)}addGLTF(t,e,r){const i=vv;this[i(292)][i(252)](t[i(275)],t),this[i(322)][i(252)](t[i(275)],!0),this[i(300)].set(t._id,e);let n=this;for(let r=0;r<t[i(278)][i(305)];r++){t[i(278)][r].root.updateWorldMatrix(e)}t[i(323)]=t.nodes.map((e=>{const s=i;for(const r of e[s(318)]){const e=r[s(294)]();for(let r=0,i=e[s(305)];r<i;r++){const i=e[r];if(i[s(321)]=this[s(358)](i.bufferInfo),i[s(314)]=null,i.material[s(353)]){const e=i.material[s(353)][s(283)][s(360)],r=t[s(379)][e.source];i.drawTex=n[s(313)](r)}}}if(e[s(346)]=t[s(343)],r&&e.drawables.length>0&&e[s(318)][0][s(294)]()[s(305)]>0){let i=Number.POSITIVE_INFINITY,n=Number[s(298)],o=Number.POSITIVE_INFINITY,a=Number[s(377)],h=Number.NEGATIVE_INFINITY,l=Number[s(377)];const c=e[s(318)][0][s(294)]();for(let t=0,e=c[s(305)];t<e;t++){const e=c[t],r=e[s(331)][s(303)][s(330)][s(329)],u=e[s(331)][s(303)][s(330)].max;i>r[0]&&(i=r[0]),a<u[0]&&(a=u[0]),n>r[1]&&(n=r[1]),h<u[1]&&(h=u[1]),o>r[2]&&(o=r[2]),l<u[2]&&(l=u[2])}e[s(253)]=this._calculateBBox([i,n,o],[a,h,l],e[s(299)],t.center),e._mid=t[s(275)],r[s(304)](e)}return e})),t.images=[]}[vv(347)](e,r,i,n){const s=vv;let o=[];o[s(333)](e[0],e[1],e[2],e[0],r[1],e[2],r[0],e[1],e[2],r[0],r[1],e[2],e[0],e[1],r[2],e[0],r[1],r[2],r[0],e[1],r[2],r[0],r[1],r[2]);let a=Number[s(298)],h=Number[s(298)],l=Number.POSITIVE_INFINITY,c=Number[s(377)],u=Number.NEGATIVE_INFINITY,p=Number[s(377)];const f=new t.Vector3;for(let t=0,e=o.length;t<e;t+=3){f[s(252)](o[t],o[t+1],o[t+2]);let e=i[s(383)](f),r=e[s(361)](0),n=e[s(361)](1),g=e[s(361)](2);a>r?a=r:c<r&&(c=r),h>n?h=n:u<n&&(u=n),l>g?l=g:p<g&&(p=g)}return new t.BBox(a,h,l,c,u,p)}[vv(384)](t){const e=vv;return this[e(313)](t[e(334)],0)}[vv(313)](t,e=0,r={}){const i=vv;let n=this.gl[i(284)]();return this.gl[i(354)](this.gl.TEXTURE0+e),this.gl[i(367)](r[i(385)]||this.gl.TEXTURE_2D,n),this.gl[i(364)](this.gl[i(295)],1),this.gl[i(364)](this.gl[i(381)],!1),this.gl[i(287)](this.gl[i(373)],0,this.gl.RGBA,this.gl[i(288)],this.gl[i(250)],t),this.gl.texParameteri(this.gl[i(373)],this.gl[i(327)],this.gl[i(255)]),this.gl[i(282)](this.gl[i(373)],this.gl.TEXTURE_MAG_FILTER,this.gl[i(257)]),this.gl[i(301)](this.gl[i(373)]),this.gl.bindTexture(r.target||this.gl.TEXTURE_2D,null),n}[vv(358)](t){const e=vv,{attribs:r,indices:i}=t;let n=[],s=this.gl[e(273)]();this.gl[e(325)](s);for(const[t,i]of Object[e(306)](r)){if(void 0===this[e(315)][e(245)][t])continue;let r;i[e(328)][e(368)]?(r=i[e(328)][e(368)],this.gl.bindBuffer(i[e(328)][e(385)]||this.gl[e(274)],r)):(r=this.gl[e(311)](),this.gl[e(259)](i[e(328)].target||this.gl[e(274)],r),this.gl.bufferData(i[e(328)][e(385)]||this.gl[e(274)],i[e(328)][e(291)],this.gl[e(355)]),i.buffer.webglBuffer=r,n[e(333)](i[e(328)][e(368)])),this.gl[e(277)](this[e(315)].attributes[t]),this.gl[e(363)](this[e(315)].attributes[t],i[e(241)],i[e(316)],!1,i[e(269)],i[e(337)])}if(i){let t=this.gl[e(311)]();this.gl[e(259)](i[e(385)]||this.gl.ELEMENT_ARRAY_BUFFER,t),this.gl[e(266)](i[e(385)]||this.gl[e(286)],i.data,this.gl[e(355)]),n[e(333)](t)}return this.gl.bindVertexArray(null),{vao:s,webglBuffersArr:n}}_deleteWebGLBufferAndTexture(t){const e=vv;let r=this.gltfMap[e(352)](t);r[e(323)]=r[e(323)][e(366)]((t=>{const r=e;for(const e of t[r(318)]){const t=e[r(294)]();for(let e=0,i=t[r(305)];e<i;e++){const i=t[e];i.drawInfo=this._deleteWebGLBufferAndVao(i.drawInfo),i[r(314)]=this._deleteTexture(i[r(314)])}}return t}))}[vv(371)](t){const e=vv;let r=t.webglBuffersArr;for(let t=0,i=r.length;t<i;t++)this.gl[e(309)](r[t]);return this.gl[e(256)](t.vao||null),t}_deleteTexture(t){return this.gl.deleteTexture(t||null),null}render(t,e={}){const r=vv;this[r(315)].useProgram(),this.gl[r(354)](this.gl[r(349)]+this.textureInfo[r(375)]),this.gl[r(367)](this.gl[r(373)],this.textureInfo[r(360)]),this[r(315)][r(267)]({u_extentH:e[r(263)]||[0,0,1,1],u_selectTexture:e[r(339)]||5,u_heightRange:e.u_heightRange||[0,0]});let i=this;if(i._render(t),0!==this[r(308)][r(290)])return Promise[r(340)](i._flag.promises).then((function(){i._render(t)}))}[vv(289)](t){const e=vv;let r=!1;this.gl[e(357)](this.gl.DEPTH_TEST);for(const t of this[e(292)][e(370)]())if(this._IsRender[e(352)](t)){const i=this[e(300)][e(352)](t),n=this[e(292)][e(352)](t);this[e(376)](n,i),r=!0}this.gl[e(369)](this.gl.DEPTH_TEST),t&&r&&(!this[e(317)]&&(this.event[e(244)](new R(p[e(320)])),this[e(317)]=!0),this[e(341)][e(244)](new R(p.MODEL_LOADED)))}[vv(272)](e){const r=vv,i=e[r(299)][r(251)](),n={x:i[12]-this.camera[r(362)],y:i[13]-this[r(240)][r(336)],z:i[14]-this[r(240)][r(265)]};e[r(246)]=this[r(240)][r(344)]().multiply((new t.Matrix4)[r(279)](n.x,n.y,n.z));for(const t of e[r(318)])this._renderPrimitive(e,t)}[vv(376)](t,e){const r=vv;for(const i of t[r(278)])i[r(342)].updateWorldMatrix(e),i[r(342)][r(356)](this[r(272)][r(380)](this))}[vv(260)](t,e){const r=vv,{mesh:i}=e;this[r(315)][r(335)]();for(const e of i[r(374)])this.gl[r(325)](e[r(321)][r(326)]),this.gl[r(354)](this.gl[r(349)]),this.gl[r(367)](this.gl.TEXTURE_2D,e.drawTex),this[r(315)][r(270)]({u_projMatrix:this.camera[r(271)]().getElements(),u_viewMatrix:t[r(246)][r(251)](),u_worldMatrix:t.worldMatrix[r(251)](),u_lightDirection:[.5,-.5,.5],u_color:e[r(264)][r(348)],u_ifTex:e[r(264)].isTex,u_tex:0,opacity:this[r(365)].opacity,u_highlightColor:this.uniforms.u_highlightColor,u_highlight:t[r(276)]}),void 0!==e[r(268)]?this.gl[r(281)](e.mode||4,e[r(331)].numElements,e[r(331)].elementType,e[r(331)][r(248)]||0):this.gl[r(382)](e[r(262)]||4,0,e[r(331)].numElements),this.gl.bindVertexArray(null)}}const Tv=["promiseCount","max","getModelById","end","push","_render","19ZTffUy","delete","resetModelMatrixById","then","setVPMatrix","removeById","736646duMBVD","_setModelMatrix","_sourceMatrix","scale","rotate","_opacity","clear","enableStrict","getBottom","render","multiply","getLeft","get","set","addGLTF3Dtile","492030uxOhUQ","hasOwnProperty","setHighlightColor","_id","enableHashCode","modelMap","add","_flag","active","9257goJbiz","promises","gltfMap","_gltfModelMap","getWorldExtent","getPromiseGLTF","_elements","496enfKax","276693TPozYD","104441rNaNkz","setOpacity","destroy","getHighlightColor","layerOctree","getCrs","camera","getCamera","addGLTF","setMap","trans","removeAll","getRight","17Ccceaf","GLTFLayer","draw","translate","removeGLTFById","209166vjclPx","getTop","_map","has","getGLTFById"];function Ev(t,e){return Tv[t-=122]}const Cv=Ev;!function(t,e){const r=Ev;for(;;)try{if(513135===-parseInt(r(187))+-parseInt(r(165))*parseInt(r(150))+parseInt(r(134))+parseInt(r(170))+parseInt(r(151))+parseInt(r(181))*parseInt(r(143))+parseInt(r(152)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Tv);class Av extends Dt{constructor(t={}){const e=Ev;super(t),this[e(172)]=null,this[e(180)]=null,this[e(141)]={add:!1,end:!0,promises:[],promiseCount:0},this[e(138)]=t[e(135)](e(138))?t[e(138)]:this.enableHashCode,this[e(126)]=!!t[e(135)](e(126))&&t.enableStrict,this[e(146)]=new Map}getLayerType(){return Ot[Ev(166)]}[Cv(161)](e){const r=Cv;if(super.setMap(e),this[r(180)]=new wv(this.gl,{event:this.event}),e&&this[r(138)]){const i=e[r(157)]()[r(147)]();let n=Math.min(i[r(127)](),i[r(130)]()),s=Math[r(176)](i[r(171)](),i[r(164)]()),o=new t.Vector3(n,n,n),a=new t.Vector3(s,s,s);this.layerOctree=new Ug(o,a)}}[Cv(133)](e,r){const i=Cv;if(!this[i(172)])return;let n;n=r instanceof t.Matrix4?r:this._setModelMatrix(r[i(162)],r.scale,r[i(123)]),this._render.addGLTF(e,n)}[Cv(177)](t){return this[Cv(146)].get(t)}addGLTF(e){const r=Cv;if(!this[r(172)])return;this._gltfModelMap[r(132)](e[r(137)],e),e[r(189)];const i=e[r(148)]();return this[r(141)][r(140)]=!0,this[r(141)][r(178)]=!1,this[r(141)][r(144)][r(179)](i),this[r(141)][r(175)]++,i[r(184)]((i=>{const n=r,s=i.center;let o=e.modelMatrix;const a=new t.Matrix4;a[n(149)][12]=-s[0],a[n(149)][13]=-s[1],a._elements[14]=-s[2],o[n(129)](a),this[n(180)][n(160)](i,o,this[n(156)]),this[n(141)][n(175)]--,0===this[n(141)][n(175)]&&(this[n(141)][n(140)]=!1,this[n(141)][n(178)]=!0),this[n(172)]&&this[n(172)].af[n(142)]()})),this}[Cv(169)](t){const e=Cv;return this[e(180)].gltfMap[e(182)](t),this._render.modelMap.delete(t),this[e(139)][e(182)](t),this[e(156)]&&this[e(156)][e(186)](t),this}[Cv(174)](t){const e=Cv;return this[e(180)][e(145)][e(173)](t)?this[e(180)][e(145)][e(131)](t):null}[Cv(163)](){const t=Cv;return this[t(139)].clear(),this[t(180)][t(145)].clear(),this[t(180)][t(139)][t(125)](),this[t(156)].clear(),this}_setModelMatrix(e=[0,0,0],r=[1,1,1],i=[0,0,0]){const n=Cv;return(new t.Matrix4)[n(168)](e[0],e[1],e[2])[n(122)](r[0],r[1],r[2])[n(123)](i[0],1,0,0)[n(123)](i[1],0,1,0)[n(123)](i[2],0,0,1)}[Cv(183)](e,r){const i=Cv;if(this[i(180)][i(139)][i(173)](e)){let n;n=r instanceof t.Matrix4?r:this[i(188)](r.trans,r.scale,r[i(123)]),this._render[i(139)].set(e,n)}return this}draw(t){const e=Cv;super[e(167)](),this[e(180)][e(158)]=this[e(172)][e(159)](),this[e(180)][e(185)](this[e(172)].getVPMatrix()),this[e(180)][e(153)](this[e(124)]),this[e(180)][e(136)](this[e(172)][e(155)]()),this[e(180)][e(128)](1==t)}destroy(){const t=Cv;this.removeAll(),super[t(154)]()}}const Mv=["18iubBHt","215580QBbUoQ","71431eBCZnj","19918NObNyt","originMMatrix","uFarPlaneD","uPMatrix","#version 300 es\n    in vec3 aVertexPosition;\n    in vec3 aVertexNormal;\n    in vec2 aTextureCoord;\n    in vec3 aDiffuse;\n    in vec3 aSpecular;\n    in vec3 aAmbient;\n    in float aSpecularExponent;\n    in float aDissolve;\n\n    uniform mat4 uMMatrix;\n    uniform mat4 uVMatrix;\n    uniform mat4 uPMatrix;\n    uniform mat4 uNMatrix;\n    uniform vec3 uCameraPosition;\n    uniform vec3 uCameraPositionL;\n    uniform vec3 uLightPosition;\n    uniform vec3 uLightPositionLow;\n\n    out vec2 vTextureCoord;\n    out vec3 vTransformedNormal;\n    out vec4 vPosition;\n    out vec4 vCameraDirection;\n    out vec4 vLightDirection;\n\n    out vec3 vDiffuse;\n    out vec3 vSpecular;\n    out vec3 vAmbient;\n    out float vSpecularExponent;\n    out float vDissolve;\n    out float v_dist;//\n\n    // RTE\n    in vec3 aVertexPositionL;\n    uniform bool uIfRTE;\n\n    // LGD\n    uniform float uFarPlaneD;\n    uniform bool  uIfLGD;\n    uniform float uLogConstant;\n\n    vec4 logDepth(vec4 clipPos,bool ifLGD,float logC,float farPlaneD){\n        vec4 clipD=clipPos;\n        if(ifLGD){\n            clipD.z=\n            ((2.0*log(logC*clipPos.z+1.0)/log(logC*farPlaneD+1.0))-1.0)*clipPos.w;\n        }\n        return clipD;\n    }\n\n    void main(void) {\n        vDiffuse = aDiffuse;\n        vSpecular = aSpecular;\n        vAmbient = aAmbient;\n        vSpecularExponent = aSpecularExponent;\n        vDissolve = aDissolve;\n\n        //RTE\n        vec4 vertexPosition=vec4(aVertexPosition,1.0);\n        mat4 mvMatrix=uVMatrix*uMMatrix;\n        if(uIfRTE){\n            float numBitBias = -0.0;\n            float lowerBitBias = -23.0;\n            vec3 highD=aVertexPosition-uCameraPosition;\n            vec3 lowD=(aVertexPositionL-uCameraPositionL)*exp2(lowerBitBias);\n            mat4 mvR2Eye=mvMatrix;\n            mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n            mvMatrix=mvR2Eye;\n            vertexPosition=vec4((highD+lowD)*exp2(numBitBias),1.0);\n            vec3 cameraPosition = (uCameraPosition + uCameraPositionL*exp2(lowerBitBias))*exp2(numBitBias);\n            vCameraDirection = vec4(cameraPosition, 1.0) - vertexPosition;\n            vec3 lightPosition = (uLightPosition + uLightPositionLow*exp2(lowerBitBias))*exp2(numBitBias);\n            vLightDirection = vec4(uLightPosition , 1.0) - vertexPosition;\n            vTransformedNormal = aVertexNormal;\n        }else{\n            vCameraDirection = vec4(uCameraPosition, 1.0) - uMMatrix*vertexPosition;\n            vLightDirection = vec4(uLightPosition , 1.0) - uMMatrix*vertexPosition;\n            vTransformedNormal = mat3(uNMatrix) * aVertexNormal;\n        }\n        mat4 mvpMatrix = uPMatrix * mvMatrix;\n        vec4 clip=mvpMatrix*vertexPosition;\n        gl_Position=logDepth(clip,uIfLGD,uLogConstant,uFarPlaneD);\n        vTextureCoord = aTextureCoord;\n        v_dist=gl_Position.w;\n    }\n","fogColor","vsShader","#version 300 es\n    #define M_PI 3.1415926535897932384626433832795\n    precision mediump float;\n\n    in vec2 vTextureCoord;\n    in vec3 vTransformedNormal;\n    in vec4 vPosition;\n    in float vDissolve;\n    in vec4 vCameraDirection;\n    in vec4 vLightDirection;\n\n    in vec3 vDiffuse;\n    in vec3 vSpecular;\n    in vec3 vAmbient;\n    in float vSpecularExponent;\n    uniform vec4 u_fogColor;\n    uniform float u_opacityFactor;\n    uniform vec2 u_fogDist;\n    out vec4 outColor;\n    in float v_dist;\n    in vec4 v_position;\n\n    uniform int uUseMapAmbient;\n    uniform int uUseMapDiffuse;\n    uniform int uUseMapSpecular;\n    uniform sampler2D uMapAmbientSampler;\n    uniform sampler2D uMapDiffuseSampler;\n    uniform sampler2D uMapSpecularSampler;\n    uniform float u_opacity;\n\n    uniform bool u_highlight;\n    uniform vec4 u_highlightColor;\n\n    void main(void) {\n        vec3 V = normalize(vCameraDirection.xyz);\n        vec3 L = normalize(vLightDirection.xyz);\n        vec3 H = normalize(L + V);\n        vec3 N = normalize(vTransformedNormal);\n\n        float diffuse = max(0.0,dot(N, L));\n        float specular = max(0.0,dot(H, N));\n\n        if(diffuse==0.0 || vSpecularExponent == 0.0)\n            specular = 0.0;\n        else\n            specular = pow(specular, vSpecularExponent);\n        vec3 ambientColor = vAmbient;\n        if(uUseMapAmbient==1){\n            vec4 mapAmbientColor=texture(uMapAmbientSampler,vTextureCoord);\n            ambientColor = mapAmbientColor.rgb * vAmbient;\n        }\n        else {\n            ambientColor = vAmbient;\n        }\n\n        vec3 diffuseColor = vDiffuse;\n        if(uUseMapDiffuse==1){\n            vec4 mapDiffuseColor=texture(uMapDiffuseSampler,vTextureCoord);\n            diffuseColor = mapDiffuseColor.rgb * vDiffuse;\n        }\n        else {\n            diffuseColor = ambientColor * vDiffuse * (dot(L, N));\n        }\n\n        vec3 specularColor = vSpecular;\n        if(uUseMapSpecular==1){\n            vec4 mapSpecularColor=texture(uMapSpecularSampler,vTextureCoord);\n            specularColor = mapSpecularColor.rgb * vSpecular;\n        }\n        else {\n            // specularColor = pow((2.0 * dot(N, L) * N - L) * vCameraDirection.xyz, vec3(vSpecularExponent));\n            // specularColor = lightColor * vSpecular * pow(dot(normalize(reflect(L, N)), V), vSpecularExponent);\n            specularColor = ambientColor * vSpecular * (dot(L, N));\n        }\n\n        vec3 color = ambientColor + diffuseColor * diffuse + specularColor * specular;\n        // float fogFactor=clamp((u_fogDist.y-v_dist)/(u_fogDist.y-u_fogDist.x),0.0,1.0);\n        // vec3 color2=mix(u_fogColor.rgb,color.rgb,fogFactor);\n        outColor = vec4(color, vDissolve*u_opacityFactor*u_opacity);\n        if(u_highlight){\n            outColor = outColor*(1.0-u_highlightColor.a) + u_highlightColor*u_highlightColor.a;\n        }\n    }\n","u_translate","u_opacity","getLocation","getAttribLocation","uNMatrix","uCameraPositionL","41ZZLEVk","fsShader","2nJPoLU","getUniformLocation","uLightPositionLow","501258IJHTUr","uCameraPosition","u_highlight","#version 300 es\n    in vec3 aVertexPosition;\n    in vec3 aVertexNormal;\n    in vec2 aTextureCoord;\n    in vec3 aDiffuse;\n    in vec3 aSpecular;\n    in vec3 aAmbient;\n    in float aSpecularExponent;\n    in float aDissolve;//\n\n    uniform mat4 uMMatrix;\n    uniform mat4 uVMatrix;\n    uniform mat4 uPMatrix;\n    uniform mat4 uNMatrix;\n    uniform mat4 originMMatrix;     //\n    uniform vec3 uCameraPosition;\n    uniform vec3 uLightPosition;\n    uniform vec3 u_translate;\n\n    out vec2 vTextureCoord;\n    out vec3 vTransformedNormal;\n    out vec4 vPosition;\n    out vec4 vCameraDirection;\n    out vec4 vLightDirection;\n\n    out vec3 vDiffuse;\n    out vec3 vSpecular;\n    out vec3 vAmbient;\n    out float vSpecularExponent;\n    out float vDissolve;\n    out float v_dist;//\n    out vec4 v_position;\n    void main(void) {\n        vDiffuse = aDiffuse;\n        vSpecular = aSpecular;\n        vAmbient = aAmbient;\n        vSpecularExponent = aSpecularExponent;\n        vDissolve = aDissolve;\n\n        vec3 newPosition = aVertexPosition - u_translate;\n        vec4 worldPosition = uMMatrix * vec4(newPosition,1.0);\n        mat4 mvpMatrix = uPMatrix * uVMatrix * uMMatrix;\n        gl_Position = mvpMatrix * vec4(newPosition, 1.0);\n        vCameraDirection = vec4(uCameraPosition, 1.0) - worldPosition;\n        vLightDirection = vec4(uLightPosition, 1.0) - worldPosition;\n        // vCameraDirection = mvpMatrix * uCameraDirection;\n        vTextureCoord = aTextureCoord;\n        vTransformedNormal = mat3(uNMatrix) * aVertexNormal;\n        v_dist=gl_Position.w;\n        v_position = originMMatrix * vec4(newPosition, 1.0);\n    }\n","aVertexNormal","28757ytqzEx","uIfRTE","uLightPosition","aVertexPosition","38SYLTFr","u_opacityFactor","uMMatrix","u_highlightColor","63577LNwTKJ","12259enUDFj"],Sv=Pv;function Pv(t,e){return Mv[t-=216]}!function(t,e){const r=Pv;for(;;)try{if(296533===-parseInt(r(217))+parseInt(r(235))*-parseInt(r(232))+parseInt(r(234))+parseInt(r(251))*parseInt(r(233))+parseInt(r(230))+-parseInt(r(249))*parseInt(r(231))+parseInt(r(226))*parseInt(r(222)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Mv);const Rv={};Rv[Sv(241)]=Sv(220),Rv[Sv(250)]=Sv(242),Rv.vsShaderRTELGD=Sv(239),Rv[Sv(245)]=function(t,e){const r=Sv;return{positionAttributeLocation:t[r(246)](e,r(225)),normalAttributeLocation:t[r(246)](e,r(221)),mMatrixLocation:t[r(252)](e,r(228)),vMatrixLocation:t[r(252)](e,"uVMatrix"),pMatrixLocation:t.getUniformLocation(e,r(238)),isRTE:t[r(252)](e,r(223)),cameraPositionLocation:t.getUniformLocation(e,r(218)),cameraPositionLocationLow:t[r(252)](e,r(248)),lightPosition:t[r(252)](e,r(224)),lightPositionLow:t[r(252)](e,r(216)),isLGD:t[r(252)](e,"uIfLGD"),uFarPlaneD:t[r(252)](e,r(237)),uLogConstant:t[r(252)](e,"uLogConstant"),fogColorLocation:t[r(252)](e,r(240)),fogDistLocation:t[r(252)](e,"fogDist"),opacityFactor:t[r(252)](e,r(227)),normalMatrixLocation:t[r(252)](e,r(247)),uOpacity:t[r(252)](e,r(244)),uHighlight:t[r(252)](e,r(219)),uHighlightColor:t.getUniformLocation(e,r(229)),originMMatrixLocation:t[r(252)](e,r(236)),u_translate:t[r(252)](e,r(243))}};const Lv=["index","UNPACK_FLIP_Y_WEBGL","bindTexture","createBuffer","_selected","indicesPerMaterial","AMBIENT","bindVertexArray","uOpacity","compileShader","set","NORMAL","verticesLow","TRIANGLES","167547CtbmHH","attachShader","getElements","uHighlight","MAX_COMBINED_TEXTURE_IMAGE_UNITS","deleteVertexArray","cameraPositionLocationLow","call","_compileShader","next","prototype","fsShader","locations","setInverseOf","texImage2D","REPEAT","uniform1f","lightPositionLow","getAttribLocation","normalMatrixLocation","indexOf","normalMatrix","TEXTURE_WRAP_S","warn","deleteGpuCache","UNPACK_ALIGNMENT","SPECULAR_EXPONENT","getProgramParameter","VERTEX_SHADER","uniform2fv","_isRTE","uniform4fv","SPECULAR","linkProgram","uniformPublic","172bJgQiD","floor","makeIndexBufferData","bufferData","opacityFactor","getUniformLocation","_float32FromDouble64","_vMatrix","POSITION","useProgram","_initShader","Could not compile WebGL shader. \n\n","UNSIGNED_INT","LINEAR","textureBuffer","isRTE","mesh","layout","getOpacityFactor","779FAktXh","attrIndices","_timerId","mapDiffuseTexture","mMatrix","setLightPosition","uUseMap","TEXTURE_MIN_FILTER","deleteTexture","length","_createBuffer",'" not found in shader. Is it undeclared or unused in the shader code?',"u_fogColor","_activeTextureGenerator","vao","logConstant","DIFFUSE","drawElements","mapSpecularTexture","LINK_STATUS","stride","TEXTURE_2D","167034BrMOhH","Specular","284362ZXSTEB","fogColorLocation","map","POSITION_LOW","uMap","getShaderInfoLog","texParameteri","ELEMENT_ARRAY_BUFFER","numItems","31759taolNT","LGD","createTexture","uHighlightColor","program","vertices","_drawObjectMaterial","createVertexArray","136YnfwDQ","Texture","_useMapTexure","indices","u_translate","uniforms","6AnoxqO","STATIC_DRAW","pMatrix","uFarPlaneD","normalized","FRAGMENT_SHADER","get","lightPosition","numItem","mMatrixLocation","offset","TEXTURE_WRAP_T","_initToRender","_initBuffers","_initTexture","pMatrixLocation","materialsByIndex","pixelStorei","key","texture","_bindTexture","UNSIGNED_BYTE","uniformMatrix4fv","value","createVAO","event","indexBuffer","cameraPosition","isLGD","u_fogDist","center","vertexBuffer","setMatrices","size","ARRAY_BUFFER","_fid","cameraPositionLocation","getLocation","Diffuse","RGBA","vsShader","137964cELnNW","bindBuffer","uniform1i","DISSOLVE","vMatrix","MODEL_LOADED","_isLGD","multiplyVector3","hasOwnProperty","uLogConstant","uniform3fv","originMMatrix","vMatrixLocation","push","_createProgram","highlightColor","applyAttributePointers"];function Fv(t,e){return Lv[t-=109]}const Dv=Fv;!function(t,e){const r=Fv;for(;;)try{if(100786===-parseInt(r(247))-parseInt(r(171))+parseInt(r(258))+parseInt(r(140))+parseInt(r(206))*-parseInt(r(266))+parseInt(r(272))*parseInt(r(225))+parseInt(r(249)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Lv);class Ov extends Bx{constructor(t,e){const r=Fv;super(t,e),this[r(134)]=this._id,this.gl=t,this[r(213)]=null,this._pMatrix=null,this[r(227)]=null,this[r(201)]=!1,this[r(146)]=!1,this[r(111)](),this[r(124)]=e[r(124)],this[r(271)]={}}setHighlightColor(t){this.uniforms.highlightColor=t}[Dv(111)](){const t=Dv;this[t(262)]=this[t(154)](Rv[t(139)],Rv[t(182)]),this[t(183)]=Rv[t(136)](this.gl,this[t(262)])}[Dv(230)](t){this[Dv(279)]=t}setCameraPosition(t){this[Dv(126)]=t}[Dv(131)](e,r,i,n){const s=Dv;this[s(229)]=e.getElements(),this.vMatrix=r[s(173)](),this.pMatrix=i[s(173)](),this.normalMatrix=(new t.Matrix4)[s(184)](e).transpose()[s(173)](),this[s(151)]=n.getElements()}draw(e){const r=Dv;let i=this.gl;if(i[r(215)](this[r(262)]),i[r(121)](this.locations[r(281)],!1,this[r(229)]),i[r(121)](this[r(183)][r(152)],!1,this[r(144)]),i[r(121)](this.locations[r(114)],!1,this[r(274)]),i[r(121)](this[r(183)][r(190)],!1,this[r(192)]),i[r(202)](this[r(183)][r(250)],this.uniformPublic[r(237)]),i[r(200)](this[r(183)].fogDistLocation,this[r(205)][r(128)]),i.uniform1f(this[r(183)][r(210)],e[r(224)]()),i[r(187)](this[r(183)][r(165)],this._opacity),i.uniform4fv(this[r(183)][r(261)],this[r(271)][r(155)]),i.uniformMatrix4fv(this[r(183)].originMMatrixLocation,!1,this[r(151)]),i.uniform3fv(this[r(183)][r(270)],e[r(129)]),this[r(201)]){i.uniform1i(this[r(183)][r(221)],1),e.mesh[r(169)]=new Array(e[r(222)].vertices[r(234)]);const n=new t.Matrix4(this[r(229)]).invert(),s=[],o=[],a=new t.Vector3(...this[r(126)]),h=n[r(147)](a);for(const t of h[r(173)]()){const[e,i]=this[r(212)](t);s[r(153)](e),o[r(153)](i)}i[r(150)](this[r(183)].cameraPositionLocation,s),i.uniform3fv(this.locations[r(177)],o);const l=[],c=[],u=new t.Vector3(...this[r(279)]),p=n[r(147)](u);for(const t of p[r(173)]()){const[e,i]=this[r(212)](t);l[r(153)](e),c[r(153)](i)}i[r(150)](this[r(183)][r(279)],l),i[r(150)](this[r(183)][r(188)],c)}else i[r(142)](this[r(183)][r(221)],0),i[r(150)](this[r(183)][r(135)],this[r(126)]),i[r(150)](this[r(183)][r(279)],this[r(279)]);this[r(146)]?(this.gl.uniform1i(this.locations[r(127)],1),this.gl[r(187)](this[r(183)][r(275)],this[r(259)].farPlaneD),this.gl[r(187)](this[r(183)][r(149)],this.LGD[r(240)])):this.gl[r(142)](this[r(183)][r(127)],0),this[r(123)](e),i[r(215)](this[r(262)]);const n=e[r(222)][r(239)];if(i[r(164)](n[r(239)]),e[r(222)][r(162)]){let t=!!e[r(222)][r(161)];i[r(142)](this[r(183)][r(174)],t);let s=0;const o=e.mesh[r(269)][r(234)];for(let t=0;t<o;t++){if(0===e[r(222)][r(269)][t].length)continue;const i=e.mesh[r(115)][t];this[r(264)](n,i,s,e[r(222)][r(269)][t][r(234)]),s+=e[r(222)][r(269)][t][r(234)]}}else this._drawObjectMaterial(n,e[r(222)][r(115)][0],0,n[r(280)]);i[r(164)](null),this[r(124)].dispatch(new R(p.VECTOR_MODELDRAWEND)),this.event.dispatch(new R(p[r(145)]))}[Dv(123)](t){const e=Dv;if(!t[e(222)][e(239)]){let r=this.gl,i=this.gl[e(265)]();r[e(164)](i),this[e(235)](),this[e(112)](t),r[e(141)](r[e(133)],t.mesh.vertexBuffer),this[e(262)][e(156)](t),r[e(141)](r[e(256)],t[e(222)].indexBuffer),t[e(222)][e(239)]={numItem:t.mesh[e(125)].numItems,vao:i},r[e(164)](null)}}_drawObjectMaterial(t,e,r,i){const n=Dv,s=this.gl,o=this[n(238)]();this[n(268)](t,e,"Ambient",o),this[n(268)](t,e,n(137),o),this[n(268)](t,e,n(248),o),s[n(242)](s[n(170)],i,s[n(218)],4*r),this.gl[n(159)](this.gl[n(246)],null)}[Dv(268)](t,e,r,i){const n=Dv,s=e[n(251)+r],o=this.gl[n(211)](this[n(262)],n(231)+r);if(!s||!s[n(118)])return void this.gl.uniform1i(o,0);const a=s.texture;this.gl[n(142)](o,1);const h="map"+r+n(267);t[h]=this._bindTexture(t[h],a,n(253)+r+"Sampler",i)}[Dv(119)](t,e,r,i){const n=Dv;!t&&(t=this._initTexture(e));const s=this.gl[n(211)](this.program,r),o=i[n(180)]();return this.gl[n(142)](s,o[n(122)]),this.gl.bindTexture(this.gl[n(246)],t),t}*[Dv(238)](){const t=Dv,e=this.gl.getParameter(this.gl[t(175)]);for(let t=0;t<e;t++)this.gl.activeTexture(this.gl.TEXTURE0+t),yield t,t=t==e-1?-1:t}[Dv(212)](t,e=0,r=23){let i,n;const s=t<<e;return i=Math[Dv(207)](s),n=s-i<<r,[i,n]}[Dv(112)](t){const e=Dv,r=this.gl,i=[jm.POSITION,jm[e(168)],jm[e(241)],jm[e(163)],jm.UV,jm[e(203)],jm.SPECULAR_EXPONENT,jm.DISSOLVE];if(this._isRTE){i[e(153)](jm[e(252)]);for(let r=0;r<t[e(222)][e(263)][e(234)];r++){const[i,n]=this[e(212)](t[e(222)][e(263)][r]);t[e(222)][e(263)][r]=i,t[e(222)][e(169)][r]=n}}let n=new jm(...i);const s=r.createBuffer();r.bindBuffer(r[e(133)],s);const o=t[e(222)].makeBufferData(n);r[e(209)](r[e(133)],o,r[e(273)]),s[e(257)]=o[e(257)],s[e(223)]=n,t.mesh.vertexBuffer=s;const a=r[e(160)]();r[e(141)](r[e(133)],a);const h=new Uint32Array(t[e(222)].textures);r[e(209)](r[e(133)],h,r[e(273)]),a[e(223)]=n,t[e(222)][e(220)]=a;const l=r[e(160)]();r[e(141)](r[e(256)],l);const c=t[e(222)][e(208)]();r.bufferData(r.ELEMENT_ARRAY_BUFFER,c,r[e(273)]),l[e(257)]=c[e(257)],t[e(222)].indexBuffer=l}_createBuffer(){const t=Dv;let e=this.gl;const r={aVertexPosition:jm[t(214)].key,aVertexNormal:jm[t(168)][t(117)],aTextureCoord:jm.UV[t(117)],aDiffuse:jm[t(241)][t(117)],aSpecular:jm[t(203)][t(117)],aAmbient:jm.AMBIENT.key,aSpecularExponent:jm[t(197)].key,aDissolve:jm[t(143)][t(117)]},i=this[t(262)];i.attrIndices={};for(const n in r)Object[t(181)][t(148)][t(178)](r,n)&&(i[t(226)][n]=e[t(189)](i,n),-1!==i[t(226)][n]?e.enableVertexAttribArray(i[t(226)][n]):console[t(194)]('Shader attribute "'+n+t(236)));i[t(156)]=function(n){const s=t,o=n.mesh[s(130)][s(223)];for(const t in r){if(!Object[s(181)][s(148)][s(178)](r,t)||-1===i[s(226)][t])continue;const n=r[t];if(-1!==i[s(226)][t]){const r=o[n];e.vertexAttribPointer(i.attrIndices[t],r[s(132)],e[r.type],r[s(276)],r[s(245)],r[s(109)])}}}}[Dv(113)](t){const e=Dv;let r=this.gl[e(260)]();return this.gl[e(116)](this.gl[e(158)],1),this.gl[e(159)](this.gl[e(246)],r),this.gl[e(116)](this.gl[e(196)],1),this.gl[e(255)](this.gl.TEXTURE_2D,this.gl[e(232)],this.gl[e(219)]),this.gl.texParameteri(this.gl[e(246)],this.gl[e(193)],this.gl.REPEAT),this.gl[e(255)](this.gl[e(246)],this.gl[e(110)],this.gl[e(186)]),this.gl[e(185)](this.gl[e(246)],0,this.gl[e(138)],this.gl[e(138)],this.gl[e(120)],t),this.gl[e(159)](this.gl[e(246)],null),r}_createProgram(t,e){const r=Dv;let i=this.gl;const n=this[r(216)](t,e),s=n.get(r(139)),o=n[r(278)](r(182)),a=i.createProgram();if(i[r(172)](a,s),i[r(172)](a,o),i[r(204)](a),!i[r(198)](a,i[r(244)])){throw"Could not compile WebGL program. \n\n"+i.getProgramInfoLog(a)}return a}_initShader(t,e){const r=Dv;let i=this.gl;const n=this[r(179)](t,i[r(199)]),s=this[r(179)](e,i[r(277)]),o=new Map;return o[r(167)]("vsShader",n).set("fsShader",s),o}[Dv(179)](t,e){const r=Dv;let i=this.gl,n=i.createShader(e);if(i.shaderSource(n,t),i[r(166)](n),!i.getShaderParameter(n,i.COMPILE_STATUS)){let t=i[r(254)](n);throw r(217)+t}return n}[Dv(195)](t){const e=Dv;if(!t[e(222)]||!t.mesh[e(125)])return;let r=this.gl,i=[e(130),"textureBuffer",e(125)];for(let n=0,s=i[e(234)];n<s;n++){let s=i[n],o=t[e(222)][s];s[e(191)](e(157))<0?(r.bindBuffer(r[e(133)],o),r[e(209)](r.ARRAY_BUFFER,0,r[e(273)])):(r.bindBuffer(r[e(256)],o),r[e(209)](r[e(256)],0,r[e(273)])),r.deleteBuffer(o),t[e(222)][s]=null}let n=t[e(222)][e(239)];r[e(176)](n[e(239)]),n[e(239)]=null,i=["mapAmbientTexture",e(228),e(243)];for(let t=0,s=i[e(234)];t<s;t++){let s=i[t];n[s]&&(r[e(233)](n[s]),n[s]=null)}}}const Nv=["translate","getRight","getBottom","getProjMatrix","getCrs","13aIicPn","modelMatrix","getMid","setLightPosition","getOrdinate","deleteGpuCache","_isRTE","getModelsByCoord","1632749QrzuaR","_eyeZ","88469vYnXYK","getWorldExtent","then","getFogDist","_map","518846BWOsSl","setMatrices","removeAllModels","_isBaseLayer","delete","645980sbAPSr","event","hasOwnProperty","_eyeX","_dealWithModel","layerOctree","enableStrict","1575451RvWwhg","getElements","_opacity","_isLGD","min","destroy","getUnit","setCameraPosition","draw","getHighlightColor","get","put","opacity","set","_camera","getLayerType","readModel","_drawModel","removeById","431108DrpfyX","mesh","active","ObjModelLayer","87355mjLGRb","getAllModels","_visibility","_objRender","_eyeY","axisExchangeMatrix","visibility","getCoordinate","multiply","max","addModel","_rotateXMatrix","setMap","_modelMap","9JwCfvw","_rotateZMatrix","name","setOpacity","getTop","setHighlightColor","enableHashCode","values","clone","getCamera"],Bv=Uv;function Uv(t,e){return Nv[t-=176]}!function(t,e){const r=Uv;for(;;)try{if(864846===parseInt(r(190))+-parseInt(r(242))*-parseInt(r(252))+-parseInt(r(250))+-parseInt(r(227))*parseInt(r(213))+parseInt(r(183))+parseInt(r(209))+-parseInt(r(178)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Nv);class kv extends Dt{constructor(t,e={}){const r=Uv;super(e),this.name=t,this[r(177)]=null,this[r(215)]=!0,this[r(192)]=1,this[r(181)]=!1,(e=e||null)&&(this._visibility=!e[r(185)](r(219))||e.visibility,this[r(192)]=e[r(185)](r(202))?e[r(202)]:1,this[r(181)]=!!e[r(185)](r(181))&&e[r(181)]),this[r(226)]=new Map,this[r(233)]=e.hasOwnProperty(r(233))?e.enableHashCode:this[r(233)],this[r(189)]=!!e[r(185)](r(189))&&e[r(189)]}[Bv(205)](){return Ot[Bv(212)]}[Bv(225)](e){const r=Bv;super.setMap(e);const i={mapUnit:e.getCrs()[r(196)](),isRTE:this._isRTE,isLGD:this[r(193)],event:this[r(184)]};if(this[r(216)]=new Ov(this.gl,i),e&&this.enableHashCode){const i=e[r(241)]()[r(253)]();let n=Math[r(194)](i[r(239)](),i.getLeft()),s=Math[r(222)](i[r(231)](),i[r(238)]()),o=new t.Vector3(n,n,n),a=new t.Vector3(s,s,s);this.layerOctree=new Ug(o,a)}}[Bv(235)](){const t=Bv,e=new kv(this[t(229)],{visibility:this._visibility,opacity:this._opacity,isRTE:this[t(248)],isLGD:this[t(193)]});for(let[r,i]of this._modelMap.entries())e[t(223)](i);return e}[Bv(214)](){const t=Bv;return[...this[t(226)][t(234)]()]}getModelsByPixel(t,e){}[Bv(249)](t){}[Bv(180)](){const t=Bv;for(let e of this[t(226)][t(234)]())this.removeModel(e);return this}removeModel(t){const e=Bv;return this[e(216)][e(247)](t),this[e(226)][e(182)](t[e(244)]()),this[e(233)]&&this[e(188)][e(208)](t[e(244)]()),this}getModelById(t){const e=Bv;return this[e(226)][e(200)](t)}[Bv(223)](t){const e=Bv;return t instanceof eI&&(this[e(226)].set(t[e(244)](),t),t[e(210)]?this[e(187)](t):t[e(206)]()[e(254)]((()=>{this[e(187)](t)}))),this}[Bv(187)](t){const e=Bv;this[e(226)][e(203)](t[e(244)](),t),this[e(233)]&&(t[e(210)]._mid=t[e(244)](),this[e(188)][e(201)](t[e(210)])),this._map&&this[e(177)].af[e(211)]()}[Bv(198)](){const t=Bv;super[t(198)](),this[t(207)]()}[Bv(207)](){const e=Bv,r=(new t.Matrix4)[e(237)](-this[e(177)][e(204)][e(186)],-this._map[e(204)][e(217)],-this._map[e(204)][e(251)]);this[e(216)].setFogColor(this[e(177)].getFogColor()),this[e(216)].setFogDist(this._map[e(176)]()),this[e(216)][e(230)](this._opacity),this._objRender[e(232)](this[e(177)][e(199)]());const i=this[e(177)][e(236)]()[e(220)](),n=new t.Vector3(i.getOrdinate("X"),i[e(246)]("Y"),i[e(246)]("Z")),s=r.multiplyVector3(n)[e(191)]();this[e(216)][e(197)](s),this[e(216)][e(245)](s);const o=this[e(177)][e(240)](),a=this[e(177)][e(204)][e(224)].clone().multiply(this[e(177)][e(204)][e(228)]);this[e(226)].forEach(((i,n,s)=>{const h=e;if(!i[h(210)])return;const l=new t.Matrix4;l[h(221)](r.clone()),l.multiply(i.modelMatrix),l[h(221)](i[h(218)]);let c=(new t.Matrix4).multiply(i[h(243)])[h(221)](i[h(218)]);this[h(216)][h(179)](l,a,o,c),this[h(216)][h(198)](i)}))}destroy(){const t=Bv;this[t(180)](),super[t(195)]()}}const Vv=["#version 300 es\n    precision mediump float;\n    \n    in vec4 v_color;\n    out vec4 outColor;\n    void main(){\n        outColor = vec4(0.0,1.0,0.0,1.0);\n        outColor = v_color;\n    }\n    ","112117oSHKrW","75923iHREse","217OvVsDm","97667VRQTym","1gVEVQj","14537JYLLwm","82351AZMGMh","47361ELebhL","fs_circle","1031KFZYvg"],Gv=zv;function zv(t,e){return Vv[t-=177]}!function(t,e){const r=zv;for(;;)try{if(139393===parseInt(r(187))+parseInt(r(185))*parseInt(r(182))+-parseInt(r(181))+-parseInt(r(179))*-parseInt(r(183))+-parseInt(r(184))+-parseInt(r(177))+parseInt(r(186)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Vv);const Hv={vs:"#version 300 es\n    // precision mediump float;\n        \n    in vec3 a_position;\n    in vec4 a_color;\n\n    uniform mat4 u_vpMatrix;   \n    uniform float u_size;\n    \n    out vec4 v_color;\n    void main(){\n        gl_Position = u_vpMatrix * vec4(a_position,1.0);   \n        gl_PointSize = u_size;\n        v_color = a_color;       \n    }\n    "};Hv.fs=Gv(180),Hv[Gv(178)]="#version 300 es\n    precision mediump float;\n    \n    in vec4 v_color;\n    out vec4 outColor;\n    void main(){\n       \n       float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n       if(d < 0.5) {\n         outColor = v_color;\n       } else { discard; }\n    }\n    ";const jv=["ARRAY_BUFFER","enableVertexAttribArray","mode","a_position","attributes","bindBuffer","27SOvxwJ","vbos","deleteVBOS","334102fdSRQa","103qwPIbh","fs_circle","253FlxAoH","153941KPXNZG","2647sdMmGb","createVertexArray","deleteVBO","active","program","length","drawArrays","location","3273sEPFlR","POINTS","UNSIGNED_BYTE","draw","3413PAQIoA","count","1041147BTjXou","1171463uifTQW","setPublicUniforms","createBuffer","attributesLayout","buffer","u_vpMatrix","_organizeAttributesLayout","a_color","bindVertexArray","uniforms","deleteVAO","vertexAttribPointer","u_size","uniform1f"];function Yv(t,e){return jv[t-=247]}const $v=Yv;!function(t,e){const r=Yv;for(;;)try{if(629374===parseInt(r(253))+-parseInt(r(277))*parseInt(r(281))+parseInt(r(289))*parseInt(r(273))+-parseInt(r(250))*-parseInt(r(279))+-parseInt(r(252))+parseInt(r(280))+-parseInt(r(276)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(jv);class Xv extends qc{constructor(t,e=!1){const r=Yv,i=Hv.vs;let n=Hv.fs;e&&(n=Hv[r(278)]),super(t,i,n),this[r(256)]=this[r(259)](),this[r(269)]=t[r(247)]}[$v(259)](){const t=$v;return{a_position:{name:t(270),location:this[t(271)][t(270)],count:3,type:Float32Array},a_color:{name:"a_color",location:this[t(271)].a_color,count:4,type:Uint8Array}}}[$v(284)](){const t=$v;return this.gl.useProgram(this[t(285)]),this}[$v(254)](t){const e=$v,r=this[e(262)];this.gl.uniformMatrix4fv(r.u_vpMatrix,!1,t[e(258)]),this.gl[e(266)](r[e(265)],t[e(265)])}[$v(249)](t){const e=$v;for(let r=0,i=t[e(286)];r<i;r++){const i=t[r];if(null===i[e(257)])continue;const n=i.buffer.vao;this.gl[e(261)](n),this.gl[e(287)](this.gl[e(247)],0,i[e(251)]),this.gl[e(261)](null)}return this}[$v(275)](t){const e=$v;for(let r=0,i=t[e(286)];r<i;r++){const i=t[r];i.buffer&&(this[e(283)](i.buffer[e(274)].a_position),this[e(283)](i[e(257)][e(274)][e(260)]),this.gl[e(261)](null),this[e(263)](i.buffer.vao),i.buffer=null)}}createVAO(){const t=$v,e=this[t(256)],r=this.gl[t(282)]();this.gl[t(261)](r);let i=this.gl.createBuffer();this.gl[t(272)](this.gl[t(267)],i),this.gl[t(264)](e[t(270)][t(288)],3,this.gl.FLOAT,!1,0,0),this.gl[t(268)](e[t(270)][t(288)]);let n=this.gl[t(255)]();return this.gl.bindBuffer(this.gl[t(267)],n),this.gl[t(264)](e[t(260)][t(288)],4,this.gl[t(248)],!0,0,0),this.gl[t(268)](e.a_color[t(288)]),this.gl[t(261)](null),{vao:r,vbos:{a_position:i,a_color:n}}}}const Wv=["points","push","188568cAlwcP","add","_blocks","1vIkwjL","1hzsSLx","12dUNIiA","73478VdRohi","get","doTask","colors","862834JxIBOd","_createBlock","_curBlock","name","1035431iOwLjE","filterBlocks","count","apply","buffer","449268VXRoSD","1092593Ejcisu","clear","51361XoDgwJ","values"],Zv=Kv;!function(t,e){const r=Kv;for(;;)try{if(695515===-parseInt(r(484))*-parseInt(r(477))+parseInt(r(475))*parseInt(r(485))-parseInt(r(481))-parseInt(r(491))+parseInt(r(474))+-parseInt(r(487))*parseInt(r(486))+parseInt(r(469)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Wv);class qv{constructor(){const e=Kv;this.id=t.Aid.createUnique(this.constructor[e(468)]),this[e(473)]=null,this.points=[],this[e(490)]=[],this.count=0,this[e(489)]=1}[Zv(482)](t){const e=Zv;this[e(479)][e(480)][e(472)](this[e(479)],[t[0],t[1],t[2]]),this[e(490)].push[e(472)](this[e(490)],[t[3],t[4],t[5],255*t[6]]),this[e(471)]++}[Zv(476)](){const t=Zv;this[t(473)]=null,this[t(490)]=[],this[t(479)]=[]}}class Jv{constructor(t,e=5e4){this._size=e,this._blocks=t,this._curBlock}[Zv(488)](){const t=Zv;return(!this[t(467)]||this[t(467)][t(471)]>=this._size)&&(this._curBlock=this[t(492)]()),this[t(467)]}[Zv(470)](){const t=Zv;return[...this[t(483)][t(478)]()]}_createBlock(){const t=Zv;let e=new qv;return this[t(483)].set(e.id,e),e}}function Kv(t,e){return Wv[t-=467]}const Qv=["bindBuffer","25011xAJLcC","active","ONE","deleteProgram","program","_id","799eRYssM","5qXmVTn","bufferData","buffer","enableBlend","getVPMatrix","a_position","FUNC_ADD","clear","234763XmPiiC","colors","vbos","owner","deleteVBOS","288304JFgbyk","BLEND","addHeavy","_map","_simpleTaskFag","_add","taskManager","_owner","_blockHelper","_program","30VYEDLf","_curBlock","_blocks","data","disable","bufferToGPU","STATIC_DRAW","SRC_ALPHA","ARRAY_BUFFER","draw","_gl","blockHelper","createVAO","delete","vao","14843HkvnMj","runTask","getElements","781314hZTqOL","blendEquation","put","symbol","55138RdBHgp"],tb=rb;!function(t,e){const r=rb;for(;;)try{if(366627===parseInt(r(482))+parseInt(r(512))*-parseInt(r(473))+-parseInt(r(502))+parseInt(r(480))+-parseInt(r(489))*-parseInt(r(488))+parseInt(r(497))+parseInt(r(476)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Qv);class eb extends gh{constructor(t,e,r){const i=rb;super(t,i(479),{}),this[i(510)]=new Jv(this[i(514)],e),this[i(511)]=new Xv(this[i(522)],r)}_addAndOctree(e){const r=rb;this[r(507)](e),e.id=e[0]+"-"+e[1]+"-"+e[2],this[r(508)][r(504)](this,(function(i){const n=r,s=new t.Coordinate(i[0],i[1],i[2]);s[n(487)]=e.id,s._bbox=new t.BBox(i[0],i[1],i[2],i[0],i[1],i[2]),s.rgba=[i[3],i[4],i[5],i[6]],s[n(515)]=i[7],this[n(500)].layerOctree[n(478)](s)}),e)}[tb(474)](t){this[tb(517)](t)}[tb(517)](t){const e=tb;let r=t.buffer?t[e(491)]:this[e(486)][e(470)]();this.gl[e(481)](this.gl[e(520)],r[e(499)][e(494)]),this.gl[e(490)](this.gl[e(520)],new Float32Array(t.points),this.gl[e(518)]),this.gl[e(481)](this.gl[e(520)],r[e(499)].a_color),this.gl[e(490)](this.gl[e(520)],new Uint8Array(t[e(498)]),this.gl.STATIC_DRAW),t[e(491)]=r}removeBlock(t){const e=tb,r=t.id;t[e(491)]?this[e(486)][e(501)](t[e(491)][e(472)]):(t.doTask=0,this[e(508)][e(506)][e(471)](this.id+t.id)),t[e(496)](),this.blocks[e(471)](r),this[e(523)][e(513)]&&t.id===this[e(523)]._curBlock.id&&(this.blockHelper[e(513)]=null),t=null}_removeAll(){const t=tb;return this._blocks.forEach((t=>{this.removeBlock(t)})),this[t(500)][t(505)].af[t(483)](),this}destroy(){const t=tb;this.gl[t(485)](this[t(511)])}[tb(521)](){const t=tb,e=this[t(500)][t(505)],r=this._filterBlocks();this[t(509)][t(492)]?(this.gl.enable(this.gl[t(503)]),this.gl[t(477)](this.gl[t(495)]),this.gl.blendFunc(this.gl[t(519)],this.gl[t(484)])):this.gl.disable(this.gl[t(503)]),this.program.active().setPublicUniforms({u_vpMatrix:e[t(493)]()[t(475)](),u_size:this[t(500)].pointSize}),this[t(486)].draw(r),this.gl[t(516)](this.gl[t(503)])}}function rb(t,e){return Qv[t-=470]}const ib=["removeAll","slice","172429nqJONA","parameter size must be a number not greater than 10 and no less than 1 !","enableHashCode","getLeft","126rKAHMw","destroy","_map","enableBlend","addPoints","removeAllPoints","isInteger","getLayerType","layerOctree","warn","setEnable","1PCwnLZ","getWorldExtent","getDepthStatus","pointSize","clear","blockSize","isFinite","isCircle","186MBfRQc","getCrs","draw","2586flTUHV","name","painter","getBottom","866353dMwFFC","17tPSVgb","158PluyuI","33533qmvZoi","1ZjTuFW","the array length must be a interger number between 2 and 8","509874ocnZta","16911RxzrSM","setMap","addPoint","4jtjPAz","parameters r g b a out of range,rgb must be a number in [0,255], a must be a number in [0,1]","count","max","hasOwnProperty"],nb=ob;!function(t,e){const r=ob;for(;;)try{if(555727===parseInt(r(154))*-parseInt(r(163))+-parseInt(r(164))*parseInt(r(162))+-parseInt(r(178))*-parseInt(r(193))+-parseInt(r(161))*-parseInt(r(165))+parseInt(r(167))+parseInt(r(182))*-parseInt(r(157))+parseInt(r(168))*-parseInt(r(171)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ib);class sb extends Dt{constructor(t,e={}){const r=ob;super(e),this[r(158)]=t,this[r(184)]=null,this.pointSize=e.pointSize?e[r(196)]:2,this[r(196)]>10?this[r(196)]=10:this.pointSize<1&&(this[r(196)]=1),this.blockSize=e[r(151)]?e.blockSize:5e4,this[r(153)]=!!e.isCircle&&e.isCircle,this[r(180)]=!!e.hasOwnProperty(r(180))&&e[r(180)],this.enableBlend=!e[r(175)](r(185))||e.enableBlend,this[r(173)]=0}[nb(189)](){return Ot.PointsLayer}[nb(169)](e){const r=nb;if(super[r(169)](e),this[r(195)]()[r(192)](!1),this[r(180)]){const i=e[r(155)]()[r(194)]();let n=Math.min(i[r(160)](),i[r(181)]()),s=Math[r(174)](i.getTop(),i.getRight()),o=new t.Vector3(n,n,n),a=new t.Vector3(s,s,s);this[r(190)]=new Ug(o,a)}this[r(159)]=new eb(this,this[r(151)],this[r(153)])}setPointSize(t){const e=nb;if(!(Number[e(152)](t)&&t<=10&&t>=1))throw new Error(e(179));return this[e(196)]=t,this}[nb(170)](t,e,r=0,i=255,n=0,s=0,o=1,a=null){if(!(i>=0&&i<=255&&n>=0&&n<=255&&s>=0&&s<=255&&o>=0&&o<=1))throw new RangeError(nb(172));this.painter.add([t,e,r,i,n,s,o,a]),this.count++}[nb(186)](t,e){const r=nb;if(!Number[r(188)](e)||e<2||e>8)console[r(191)](r(166));else for(let i=0,n=t.length/e;i<n;i+=1){let n=t[r(177)](i*e,i*e+e);this.addPoint(...n)}}[nb(187)](){const t=nb;this[t(159)][t(176)](),this.draw()}getPointCount(){return this.count}[nb(183)](){const t=nb;this[t(159)][t(197)](),super[t(183)]()}[nb(156)](){const t=nb;super[t(156)](),this.painter[t(156)]()}}function ob(t,e){return ib[t-=151]}var ab=["257aCaICg","setPrivateUniforms","15kTQVmc","288896hFngSn","uModel","uTexture2","39589svtJKS","u_modelMatrix","u_texWidth0","1UJnQoc","uTexture2Width","759897dCqfar","58kVwmld","u_texWidth1","4007xPhPOs","99991UTTUqu","uniformMatrix4fv","211vetvGI","11633YPcUnz","1VbPWGO","uniforms","uniform1i","813VlsxNv","uniform1f"],hb=cb;!function(t,e){for(var r=cb;;)try{if(496257===parseInt(r(214))*-parseInt(r(206))+-parseInt(r(207))*parseInt(r(227))+parseInt(r(212))*-parseInt(r(210))+parseInt(r(215))+parseInt(r(205))*-parseInt(r(226))+-parseInt(r(221))*parseInt(r(223))+parseInt(r(224))*parseInt(r(218)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ab);class lb extends qc{constructor(t,e,r){super(t,e,r)}[hb(213)](t){var e=hb;this.gl[e(204)](this[e(208)][e(216)],!1,t[e(219)]),this[e(208)].uTexture&&(this.gl[e(209)](this.uniforms.uTexture,0),this.gl[e(211)](this[e(208)].uTextureWidth,t[e(220)])),this[e(208)][e(217)]&&(this.gl[e(209)](this[e(208)][e(217)],1),this.gl[e(211)](this[e(208)][e(222)],t[e(225)]))}}function cb(t,e){return ab[t-=204]}const ub=["length","indicesTypedArray","hasTileCached","normalize","uViewMatrix","width","keys","_texture","170141vXdkHf","STATIC_DRAW","CLAMP_TO_EDGE","1rAvnhm","has","deleteVertexArray","get","754556CUEgwa","componentsPerAttribute","936525dSsLjI","uniform4fv","vertexAttributes","addGLTexture","4406aymbSR","set","createCompressTexture","draw","uTransMatrix","tileCache","indices","push","destroy","uniformMatrix4fv","uniforms","hasInDrawList","strideInBytes","u_modelMatrix","tileMatrix","arrIndexPackage","constructor","_deleteDrawInfo","name","isLeafTile","_initProgram","enable","_id","bindBuffer","delete","vertexCount","buffers","entries","indexInfo","vertexPackage","disable","addToNoShow","drawArrays","createVertexArray","vertexColor","texture","u_heightRange","offsetInBytes","uProjMatrix","u_highlightColor","42RdUdeh","drawElements","createDrawData","ARRAY_BUFFER","_drawInfos","u_waterHeight","949926tWHOit","_drawInfosNoShow","textureInfo","clear","deleteBuffer","DEPTH_TEST","setPrivateUniforms","datas","4BkvMmp","diffuseColor","tileNameQuene","_program","625557kyfzFn","textureCode","textures","247466JhqOFu","CULL_FACE","uniform1f","bindSelectTexture","uniform1i","primitiveType","uniform2fv","indexType","enableHashCode","attrLocation","bufferData","material","addToDrawList","1KhoKQd","getElements","typedArray","u_selectTexture","ambientColor","vao","u_clipUnderWater"],pb=fb;function fb(t,e){return ub[t-=469]}!function(t,e){const r=fb;for(;;)try{if(519073===-parseInt(r(570))+-parseInt(r(535))*-parseInt(r(528))+-parseInt(r(563))*parseInt(r(548))+parseInt(r(474))*-parseInt(r(514))+parseInt(r(532))+parseInt(r(520))+parseInt(r(566))*-parseInt(r(470)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ub);class gb{constructor(e,r){const i=fb;this[i(496)]=t.Aid.createUnique(this[i(490)][i(492)]),this.gl=e,this[i(543)]=r[i(543)],this[i(479)]=new Map,this[i(530)]=[],this._drawInfos=new Map,this[i(521)]=new Map}[pb(494)](t,e){const r=pb,i=this.gl;this[r(531)]=new lb(i,t,e)}[pb(516)](t,e){let r=t[pb(527)],i=t.isLeafTile;const n=this;r.forEach((t=>{n._createBuffer(t,i,e)}))}[pb(505)](t){const e=pb;this._drawInfosNoShow[e(475)](t,!0)}[pb(547)](t){const e=pb;let r=this[e(479)][e(569)](t);this[e(518)][e(475)](t,r)}[pb(485)](t){const e=pb;this[e(518)][e(567)](t)}hasCache(t){return this[pb(557)](t)}removeFromDrawList(t){const e=pb;this._drawInfos[e(498)](t)}clearDrawInfos(){const t=pb;this[t(518)][t(523)](),this[t(521)][t(523)]()}[pb(557)](t){const e=pb;return this[e(479)][e(567)](t)}addTileCache(t){const e=pb;let r=t._tileName,i=this[e(518)][e(569)](r);i&&(this[e(479)][e(475)](r,i),this[e(530)][e(481)](r))}[pb(538)](t,e){const r=pb;this[r(509)]&&this.gl.deleteTexture(this[r(509)]);const i=this[r(531)][r(473)](t.canvas,e,"CLAMP_TO_EDGE",r(565),0);this[r(509)]=i.texture}[pb(477)](t,e){const r=pb;if(this.gl[r(495)](this.gl[r(525)]),this[r(531)]){e>=19?this.gl[r(504)](this.gl[r(536)]):this.gl[r(495)](this.gl.CULL_FACE),this[r(531)].useProgram(),this.gl[r(483)](this._program[r(484)].uProjMatrix,!1,t[r(512)][r(549)]()),this.gl[r(483)](this._program.uniforms[r(559)],!1,t[r(559)][r(549)]()),this.gl[r(483)](this._program[r(484)][r(478)],!1,t[r(478)][r(549)]()),this.gl[r(471)](this._program.uniforms.u_extentH,t.u_extentH),this.gl[r(539)](this[r(531)][r(484)][r(551)],t[r(551)]),this.gl.uniform4fv(this._program[r(484)].u_highlightColor,t[r(513)]),this.gl[r(541)](this[r(531)][r(484)][r(510)],t[r(510)]),this.gl.uniform1i(this._program.uniforms[r(554)],t[r(554)]),this.gl[r(537)](this[r(531)][r(484)][r(519)],t[r(519)]);for(let[e,i]of this[r(518)])if(i&&0!==i.length)for(let n of i)if(!this[r(521)][r(569)](e)||n[r(493)]){if(t[r(487)]=n[r(488)],this.gl.bindVertexArray(n[r(553)]),null!==n[r(546)])for(let e=0,i=n[r(546)][r(534)][r(555)];e<i;e++){const i=n[r(546)][r(534)][e];i[r(495)](this.gl),t["u_texWidth"+e]=i._info[r(560)]||256}if(this._program[r(526)](t),null!==n[r(502)]?this.gl[r(515)](n[r(502)][r(540)],n[r(502)].count,n.indexInfo[r(542)],0):this.gl[r(506)](this.gl.POINTS,0,n[r(499)]),this.gl.bindVertexArray(null),null!==n[r(546)])for(let t=0,e=n[r(546)].textures[r(555)];t<e;t++){n.material[r(534)][t][r(504)](this.gl)}}}}_createBuffer(t,e,r){const i=pb,n=this.gl;let s={buffers:[]};const o=n[i(507)]();s[i(553)]=o,n.bindVertexArray(o);const a=t[i(503)];a[i(508)]=null,s[i(499)]=a.verticesCount;const h=a[i(544)],l=this[i(531)].getAttributeLocations(),c=a[i(472)];s.tileMatrix=t[i(488)];for(const[t,e]of Object[i(501)](l)){const r=n.createBuffer(),o=c[h[t]];if(o){const a=o.componentDatatype,h=o[i(550)];n[i(497)](n.ARRAY_BUFFER,r),n[i(545)](n[i(517)],h,n[i(564)]),n.vertexAttribPointer(e,o[i(469)],a,o[i(558)],o[i(486)],o[i(511)]),n.enableVertexAttribArray(e),s[i(500)][i(481)](r),this[i(543)]||(o[i(550)]=null),s[t]=o}}if(s[i(546)]=null,t.material){let e={};e[i(552)]=t.material.ambientColor||null,e[i(529)]=t.material[i(529)]||null,e[i(534)]=[];for(let r=0,n=t.material[i(534)][i(555)];r<n;r++){let n=t[i(546)][i(534)][r],s=new gx(n[i(533)],n[i(522)]);null===s[i(562)]&&s[i(476)](this.gl),e.textures[i(481)](s)}s.material=e}if(s[i(502)]=null,t.arrIndexPackage[i(555)]>0){let e=t[i(489)][0];const r=n.createBuffer();n[i(497)](n.ELEMENT_ARRAY_BUFFER,r),n[i(545)](n.ELEMENT_ARRAY_BUFFER,e.indicesTypedArray,n[i(564)]),s.indexInfo={count:e.indicesCount,primitiveType:e.primitiveType,indexType:1===e[i(542)]||a.verticesCount>=65536?5125:5123},this[i(543)]||(t[i(489)][0][i(556)]=null),s[i(480)]=e}if(s.isLeafTile=e,t[i(489)].length>1)for(let e=0;e<t[i(489)][i(555)];e++)t[i(489)][e][i(556)]=null;!this[i(518)][i(569)](r)&&this[i(518)][i(475)](r,[]),this[i(518)][i(569)](r)[i(481)](s),n.bindVertexArray(null)}[pb(491)](t){const e=pb;let r=this._drawInfos.get(t)||this[e(479)][e(569)](t);if(r){for(let t of r){if(t[e(553)]&&this.gl[e(568)](t[e(553)]),t.buffers)for(let r=0,i=t.buffers[e(555)];r<i;r++)this.gl[e(524)](t[e(500)][r]);if(null!==t[e(546)])for(let r=0,i=t[e(546)][e(534)][e(555)];r<i;r++){t[e(546)][e(534)][r][e(482)](this.gl)}Object[e(561)](t).map((function(e){t[e]=null})),t[e(480)]=null,t=null}this[e(518)].delete(t)}}}const db=["\n      precision highp float;\n      attribute vec4 aPosition;\n    #ifdef VertexNormal\n        attribute vec3 aNormal;\n        varying vec3 vNormalEC;\n    #endif\n    #ifdef TexCoord\n        attribute vec4 aTexCoord0;\n        varying vec4 vTexCoord;\n        varying vec4 vTexMatrix;\n    #endif\n    #ifdef TexCoord2\n        attribute vec4 aTexCoord1;\n        varying vec4 vTexMatrix2;\n    #endif\n        attribute vec4 aColor;\n        varying vec4 vColor;\n        varying vec4 vPosition;\n        uniform mat4 uNormal3D;\n        uniform mat4 uModel;             \n        uniform mat4 uProjMatrix;\n        uniform mat4 uViewMatrix;\n        \n        uniform mat4 uTransMatrix;       //\n        \n        const float SHIFT_LEFT8 = 256.0;\n        const float SHIFT_RIGHT8 = 1.0 / 256.0;\n        const float SHIFT_RIGHT4 = 1.0 / 16.0;\n        const float SHIFT_LEFT4 = 16.0;\n        void getTextureMatrix(in float nZ, inout float XTran, inout float YTran, inout float scale)\n        {\n            if(nZ <= 0.0)\n            {\n                return;\n            }\n            float nDel8 = floor(nZ * SHIFT_RIGHT8);\n            float nDel16 = floor(nDel8 * SHIFT_RIGHT8);\n            float nDel20 = floor(nDel16 * SHIFT_RIGHT4);\n            YTran = nZ - nDel8 * SHIFT_LEFT8;\n            XTran = nDel8 - nDel16 * SHIFT_LEFT8;\n            float nLevel = nDel16 - nDel20 * SHIFT_LEFT4;\n            scale = 1.0 / pow(2.0, nLevel);\n        }\n        void main()\n        {\n        #ifdef TexCoord\n            vTexCoord.xy = aTexCoord0.xy;\n            vTexMatrix = vec4(0.0,0.0,1.0,0.0);\n            if(aTexCoord0.z < -999.0)\n            {\n                vTexMatrix.z = -1.0;\n            }\n            getTextureMatrix(floor(aTexCoord0.z), vTexMatrix.x, vTexMatrix.y, vTexMatrix.z);\n        #endif\n        #ifdef TexCoord2\n            vTexCoord.zw = aTexCoord1.xy;\n            vTexMatrix2 = vec4(0.0,0.0,1.0,0.0);\n            if(aTexCoord1.z < -99.0)\n            {\n                vTexMatrix2.z = -1.0;\n            }\n            getTextureMatrix(floor(aTexCoord1.z), vTexMatrix2.x, vTexMatrix2.y, vTexMatrix2.z);\n        #endif\n        #ifdef VertexNormal\n            vNormalEC = vec3(uNormal3D * vec4(aNormal,1.0));\n        #endif\n            vec4 positionMC = vec4(aPosition.xyz, 1.0);\n            gl_Position=uProjMatrix*uViewMatrix*uModel*positionMC;\n            gl_PointSize=2.0;\n            // vPosition = uTransMatrix*uModel*positionMC;\n            vPosition=uModel*positionMC;\n            vPosition.z=uTransMatrix[0][2]*vPosition.x+uTransMatrix[1][2]*vPosition.y+uTransMatrix[2][2]*vPosition.z+uTransMatrix[3][2]*vPosition.w;\n\n            vColor = aColor;\n        }\n    ","vsShader","441775qgfuSn","333027UsRHIR","307431iRtpQw","1314334pmOzti","541729tOSEQa","fsShader","4QfXCDx","215415PhElNY","2236ClpHbt","3DMMhwG","48yMrmaa"],_b=mb;!function(t,e){const r=mb;for(;;)try{if(691682===-parseInt(r(109))*parseInt(r(107))-parseInt(r(102))-parseInt(r(106))+-parseInt(r(101))*-parseInt(r(105))+parseInt(r(103))+parseInt(r(108))*parseInt(r(113))+-parseInt(r(112)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(db);let yb={};function mb(t,e){return db[t-=101]}yb[_b(104)]="\n    #ifdef TexCoord\n        uniform sampler2D uTexture;\n        uniform float uTextureWidth;\n        varying vec4 vTexCoord;\n        varying vec4 vTexMatrix;\n    #endif\n    #ifdef TexCoord2\n        uniform sampler2D uTexture2;\n        uniform float uTexture2Width;\n        varying vec4 vTexMatrix2;\n    #endif\n    #ifdef VertexNormal\n        varying vec3 vNormalEC;\n    #endif\n        uniform vec4 uDiffuseColor;\n        uniform vec4 uAmbientColor;\n        varying vec4 vColor;\n        uniform vec3 uSunDirectionEC;\n        \n        varying vec4 vPosition;\n                        \n        //n        uniform vec4  u_highlightColor;\n        uniform sampler2D u_selectTexture;//n        uniform vec4 u_extentH;     //\n        uniform vec2 u_heightRange; //n        \n        //\n        uniform bool u_clipUnderWater;\n        uniform float u_waterHeight;\n    #ifdef TexCoord\n        void calculateTexCoord(in vec2 inTexCoord, in float scale, in float XTran, in float YTran, in float fTile, in float mipLevel, inout vec2 outTexCoord)\n        {\n            vec2 fTexCoord = fract(inTexCoord);\n            float offset = 1.0 * pow(2.0, mipLevel) / fTile;\n            fTexCoord = clamp(fTexCoord, offset, 1.0 - offset);\n            outTexCoord.x = (fTexCoord.x + XTran) * scale;\n            outTexCoord.y = (fTexCoord.y + YTran) * scale;\n        }\n        vec4 sampleTexture(sampler2D curTexture, vec2 oriTexCoord, float texTileWidth, float fMaxMipLev, float fTexCoordScale, vec2 vecTexCoordTranslate)\n        {\n            vec2 realTexCoord;\n            calculateTexCoord(oriTexCoord, fTexCoordScale, vecTexCoordTranslate.x, vecTexCoordTranslate.y, texTileWidth, 0.0, realTexCoord);\n            vec4 color = texture2D(curTexture, realTexCoord.xy);\n            return color;\n        }\n    #endif\n    #ifdef TexCoord\n        vec4 getTextureColor()\n        {\n            if(vTexMatrix.z < 0.0)\n            {\n                return vec4(1.0);\n            }\n            float texTileWidth = vTexMatrix.z * uTextureWidth;\n            vec4 color = sampleTexture(uTexture, vTexCoord.xy, texTileWidth, vTexMatrix.w, vTexMatrix.z, vTexMatrix.xy);\n            return color;\n        }\n    #endif\n    #ifdef TexCoord2\n        vec4 getTexture2Color()\n        {\n            if(vTexMatrix2.z < 0.0)\n            {\n                return vec4(1.0);\n            }\n            float texTileWidth = vTexMatrix2.z * uTexture2Width;\n            vec4 color = sampleTexture(uTexture2, vTexCoord.zw, texTileWidth, vTexMatrix2.w, vTexMatrix2.z, vTexMatrix2.xy);\n            color.r = clamp(color.r * 1.618, 0.0, 1.0);\n            color.g = clamp(color.g * 1.618, 0.0, 1.0);\n            color.b = clamp(color.b * 1.618, 0.0, 1.0);\n            return color;\n        }\n    #endif\n         //n         vec4 pickTextureCoord(){          \n                float width=u_extentH.z-u_extentH.x;\n                float height=u_extentH.w-u_extentH.y;\n                float x= (vPosition.x-u_extentH.x)/width;\n                float y= (vPosition.y-u_extentH.y)/height;\n     \n                vec4 vColor = texture2D(u_selectTexture,vec2(x,y));\n                return vColor;\n     \n                // if(x>0.0 && x<1.0 && y>0.0 && y<1.0){\n                //      vec4 vColor = texture2D(u_selectTexture,vec2(x,y));\n                //      return vColor;\n                // }else{\n                //     //\n                //     return vec4(10.0,1.0,1.0,1.0);\n                // }\n            }\n\n    \n        void main()\n        {\n            vec4 color = vColor;\n        #ifdef TexCoord\n            color *= getTextureColor();\n        #endif\n        #ifdef TexCoord2\n            color *= getTexture2Color();\n        #endif\n        #ifdef VertexNormal\n            float diffuseIntensity = max(dot(uSunDirectionEC, normalize(vNormalEC)), 0.0);\n            color = vec4(color.rgb * (vec3(0.8) * uDiffuseColor.rgb * diffuseIntensity + vec3(0.6) * uAmbientColor.rgb), color.a);\n        #endif\n            gl_FragColor = color;\n            \n              //n            vec4 pickColor=pickTextureCoord();\n            if(pickColor.r!=0.0&&vPosition.z>=u_heightRange.x && vPosition.z<=u_heightRange.y) {       \n                gl_FragColor = gl_FragColor + u_highlightColor*u_highlightColor.a;\n            }\n            \n            if(u_clipUnderWater && vPosition.z < u_waterHeight){\n                discard;\n            }\n           // float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n           // if(d < 0.5) {\n           //   gl_FragColor = color;\n           // } else { discard; }\n        }\n    ",yb[_b(111)]=_b(110);const Ib=["instance","get","428079MsXPpB","delete","length","48344dXYKtc","1039duuoBp","2162PMEYrT","taskCount","34xMDjrO","5IbWluF","resolve","data","2114TuIGlG","taskId","terminate","dispatch","647jXqMgb","_createWorkers","destroy","workerUrl","postMessage","taskMap","createUnique","40429TRgENE","onerror","_getWorker","error","push","1609557IwMqsF","onmessage","1317566nDUwWj","poolSize","_workers"],xb=bb;!function(t,e){const r=bb;for(;;)try{if(873834===parseInt(r(421))*parseInt(r(392))+parseInt(r(418))+parseInt(r(399))*parseInt(r(395))+-parseInt(r(411))+parseInt(r(425))*parseInt(r(406))+parseInt(r(413))+parseInt(r(423))*-parseInt(r(422)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ib);class vb{constructor(t=6){const e=bb;return!vb.instance&&(this[e(414)]=t,this[e(415)]=[],this[e(400)](),vb[e(416)]=this),vb[e(416)]}_createWorkers(){const t=bb;for(;this[t(415)][t(420)]<this.poolSize;){let e=new Worker(hmap[t(402)]);e.taskCount=0,e[t(404)]=new Map,e[t(412)]=function(r){const i=t;e[i(424)]--;let{taskId:n}=r[i(394)];e[i(404)][i(417)](n)[i(393)](r.data),e.taskMap[i(419)](n)},e[t(407)]=function(e){console[t(409)](e)},this[t(415)][t(410)](e)}}[xb(398)](e,r){const i=xb;let n=this[i(408)]();n[i(424)]++;let s=t.Aid[i(405)]("Worker");n[i(404)].set(s,r),e[i(396)]=s,n[i(403)](e)}[xb(408)](){const t=xb;let e=this[t(415)][0];for(let r=1;r<this[t(414)];r++)this[t(415)][r].taskCount<this[t(415)][r-1][t(424)]&&(e=this._workers[r]);return e}[xb(401)](){const t=xb;for(let e=0;e<this.poolSize;e++)this._workers[e][t(397)]()}}function bb(t,e){return Ib[t-=392]}var wb=["9rlyKzF","1212296ZxwiPO","1aPZArk","12548eJrBkB","1059418UPmhtS","645371jeFVsX","2016160xxvEfW","175739GMnvUX","213080AzRBcU"];function Tb(t,e){return wb[t-=221]}!function(t,e){for(var r=Tb;;)try{if(625038===parseInt(r(226))*parseInt(r(229))+parseInt(r(225))+-parseInt(r(224))*-parseInt(r(227))+-parseInt(r(222))+-parseInt(r(223))+parseInt(r(228))+-parseInt(r(221)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wb);const Eb=["length","1CQZhKy","normalize","_normal","34CJjZPy","3947ByBLTD","119aXsJTh","4508rNPlYY","529603OXwKfS","_distance","157fbYxMU","multiplyScalar","359001XqEJwt","241825pIjcuA","30311MpAzGy","689525nlTKVa","distance"],Cb=Mb;!function(t,e){const r=Mb;for(;;)try{if(423973===parseInt(r(138))*parseInt(r(132))+-parseInt(r(127))*-parseInt(r(130))+parseInt(r(135))+-parseInt(r(128))+parseInt(r(126))*parseInt(r(142))+-parseInt(r(133))+-parseInt(r(134))*parseInt(r(141)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Eb);class Ab{constructor(e=0,r=0,i=0,n=0){const s=Mb;this[s(140)]=new t.Vector3(e,r,i),this[s(129)]=n}[Cb(136)](t){const e=Cb;return this[e(140)].dot(t)+this[e(129)]}setComponents(t,e,r,i){const n=Cb;return this[n(140)].set(t,e,r),this[n(129)]=i,this}[Cb(139)](){const t=Cb;let e=1/this[t(140)][t(137)]();return this._normal[t(131)](e),this}}function Mb(t,e){return Eb[t-=126]}const Sb=["_unit","getHighlightColor","ceil","datas","waterHeight","toUpperCase","getCamera","getCrs","_releaseData","textureInfo","lodType","_screenPixelD","material","clientHeight","_rangeRatio","165rnwQlJ","_tokenStr","count","setTranslate","updateScreenPixelD","getLayerContainer","_composeDataAndBuffer","lastIndexOf","vertexAttributes","fsShader","addToDrawList","getFloat64","direction","_camera","getData","origin","_tileName","_loadJSON","insertIndexDb","radius","_initFrustumPlane","bufferName","width","hasOwnProperty","369890ttHyvp","getContentFromData","2083JaLpGn","1FEaClT","getUint8","size","getShaderOptions","hasTileCached","getProjMatrix","byteLength","getPerbyteFromComponentDatatype","getSrid","TexCoord2","_deleteDrawInfo","textures","indexInfo","distanceToCamera","extentH","getInt8","_userScale","requestingPromises","active","vertexColor","AttrBuffer","getTileDealPromise","_initUrl","addData","cameraPosition","enableHashCode","_getTileByName","_shaderOpts","planes","buffer","_eyeY","_map","viewport","href","sort","json","delete","_buildShader","getOrdinate","getPMatrix","S3MLayer","indexedDbPromise","intersectDrawInfos","_destroyTile","indexType","TexCoord","indexDbReady","screenPixelD","getContext","getInt32","index","_existTiles","&sid","getZoom","checkTraversal","getUint8Array","splitBuffer","setComponents","modelMatrix","updateCameraInfo","readyPromise","hasContentInit","_json","_rootHasInit","tileMatrix","_checkRequestingTile","TileBufferStore","rangeRatio","fromPolygon","_elements","workerPool","container","distanceToSphere","_processTileFromDb","tan","attrBuffer","boundingbox","cancelFetch","981875krsALd","combineShaderOptions","_urlHandler","getViewMatrix","prepareData","error","rootReadyResolve","_eyeZ","fitMapExtent","_startOneRequestTask","_initIndexDB","408MamziL","texture","_parseDBData","_isDestroy","units","aColor","multiplyVector3","setIdentity","set","prepareToDraw","BYTES_PER_ELEMENT","_trans","defines","PROCESS_S3M","vsShader","vsOpts","tileCache","getViewRotate","deleteTexture","name","inMapExtent","raycasterIntersect","getElements","tileNameQuene","end","init","getExtent","addTileToCache","imageBuffer","dealOneTile","aPosition","canTraverse","indexDb","setElements","_renderer","get","unloadContent","_getTile","then","_traversal","onRootReady","getUnit","getElement","s3mCache","createDrawData","mapExtent","clipUnderWater","capacity","setIndex","_rootTiles","bufferNames","vertexPackage","_eyeX","length","values","218597kvoBAQ","all","code","heightRange","updateScreenError","result","_url","_dataType","hmap.layer.S3MLayer:indexedDB init failed!","modeAdd","tileName","push","getFloat32Array","multiply","redraw","addTileCache","_baseUrl","resData","arrIndexPackage","_isRTE","destroy","buffers","substr","slice","children","setInverseOf","TileStore","typedArrayOpt","_drawInfosNoShow","_init","draw","454288LWSDdT","scale","offsetInBytes","resolve","cacheNumber","259NDGVoA","tiles","_composeBuffer","typedArray","position","4503HXVisi","_fovy","_tileDealPromise","tileUrl","transMatrix","getFloat32","_draw","byteOffset","setHighlightFromGeometry","getCoordinate","bindSelectTexture","_maxThreads","selectTxture","urlHandler","attrLocation","indicesTypedArray","srid","_drawInfos","_depthMode"],Pb=Rb;function Rb(t,e){return Sb[t-=161]}!function(t,e){const r=Rb;for(;;)try{if(474974===-parseInt(r(367))*parseInt(r(265))+-parseInt(r(366))*-parseInt(r(301))-parseInt(r(210))+parseInt(r(340))*-parseInt(r(306))-parseInt(r(296))+parseInt(r(364))+parseInt(r(199)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Sb);class Lb extends Dt{constructor(t,e,r={}){const i=Rb;super(r),this[i(229)]=t,this[i(392)]=!!r[i(363)]("enableHashCode")&&r[i(392)],this[i(271)]=e,this[i(341)]=""!=this[i(271)]&&-1!=this[i(271)][i(347)]("?")?this._url[i(287)](this._url[i(347)]("?"),this[i(271)][i(263)]):"",this._shaderOpts=null,this._json=null,this[i(274)]=!0,this[i(172)]=new Map,this[i(259)]=new Map,this[i(336)]=void 0,this[i(339)]=r[i(363)](i(188))?r[i(188)]:1,this[i(257)]=r[i(363)](i(300))?r.cacheNumber:300,this._userScale=r[i(363)](i(297))?r[i(297)]:1,this._rootHasInit=!1,this[i(308)]=new Map,this[i(384)]=new Map,this[i(318)]=xm[i(189)](),this.heightRange=[-100,1e3],this[i(201)]=r[i(319)],this.clipUnderWater=!!r.hasOwnProperty("clipUnderWater")&&r[i(256)],this[i(329)]=r[i(363)](i(329))?r[i(329)]:9/11e4,this[i(294)]()}getLayerType(){return Ot[Rb(161)]}[Pb(250)](t){this[Pb(181)].then((function(){t()}))}async[Pb(294)](){const t=Pb;this[t(209)](),this[t(162)]=this[t(242)][t(235)](),this.indexedDbPromise.then((e=>{const r=t;1===e[r(267)]?this[r(167)]=!0:console[r(204)](r(273))})),this[t(181)]=new Promise(((e,r)=>{this[t(205)]=e})),this[t(360)]()}[Pb(360)](){const t=Pb;this.planes=[];for(let e=0;e<6;e++)this[t(395)][e]=new Ab}[Pb(209)](){const e=Pb;this.indexDbReady=!1,this[e(291)]=new t.DataStore(e(302),{keyPath:e(275)}),this[e(291)][e(258)](e(275),"tileName",{}),this.TileBufferStore=new t.DataStore(e(286),{keyPath:e(361)}),this[e(187)][e(258)]("bufferName",e(361),{}),this[e(242)]=new t.IndexedDB(e(253),1,{storeList:[this.TileStore,this[e(187)]]})}[Pb(358)](t,e){const r=Pb,i=[],n={attrBuffer:[]};let s=[];if(e&&e instanceof Array){let o;for(let t=0;t<e[r(263)];t++){let i=e[t],n=i[r(328)];for(let t of n){let e=t.vertexPackage,i=t[r(283)],n=t[r(337)],s=e[r(320)][r(215)],a=e[r(348)];for(let t=0;t<a.length;t++){let e=a[t];t!=s&&(!o&&(o=e[r(304)].buffer),e[r(292)]={},e[r(292)].byteLength=e[r(304)].byteLength,e[r(292)][r(313)]=e[r(304)][r(313)],e[r(292)][r(263)]=e[r(304)][r(263)],e[r(304)]=null)}for(let t of i){let e=t[r(321)];t[r(292)]={},t[r(292)][r(373)]=e[r(373)],t[r(292)].byteOffset=e[r(313)],t[r(292)][r(263)]=e[r(263)],t[r(321)]=null}if(n){let t=n[r(378)];for(let e of t){let t=e[r(334)][r(238)];t&&(e[r(334)][r(292)]={},e[r(334)][r(292)].byteLength=t[r(373)],e.textureInfo[r(292)][r(313)]=t.byteOffset,e[r(334)].typedArrayOpt[r(263)]=t.length,e[r(334)][r(238)]=null)}}}i[r(196)]=o}let a=1024,h=100,l=[],c=o[r(373)],u=c/(a*a);if(u>h){let i=Math[r(327)](u/h);for(let e=0;e<i;e++){let n,s=e*h*a*a;n=e!=i-1?(e+1)*h*a*a:c,l[r(276)]({index:e,name:t+r(387)+e,buffer:o[r(288)](s,n)})}e[r(177)]=!0}else e.splitBuffer=!1;if(e.splitBuffer)for(let t of e)t[r(196)]=null;if(l[r(263)]>0)for(let t of l){let e={bufferName:t[r(229)],buffer:t[r(396)],index:t[r(171)]};i[r(276)](this[r(242)][r(390)](r(286),e)),s.push(e),n[r(196)][r(276)](t[r(229)])}}return i[r(276)](this[r(242)][r(390)]("tiles",{tileName:t,resData:e,bufferNames:n})),new Promise((function(t,n){const o=r;Promise[o(266)](i)[o(248)]((function(){t({resData:e,attrBuffers:s})}))}))}async getFromIndexDb(t){const e=this;return new Promise((function(r,i){const n=Rb;e[n(242)][n(354)]("tiles",t)[n(248)]((function(t){const i=n;let s=[],o=[];if(t&&t[i(270)]){let n=t[i(270)][i(282)];if(n[i(177)]){let a=t.result[i(260)].attrBuffer;for(let t=0;t<a[i(263)];t++){let r=a[t],n=e.indexDb[i(354)](i(286),r);n[i(248)]((function(t){const e=i;if(t&&t[e(270)]){let r=t.result;o[e(276)](r)}})),s[i(276)](n)}Promise[i(266)](s)[i(248)]((function(){const s=i;o[s(401)]((function(t,e){return t[s(171)]-e.index}));let a=e[s(303)](o);if(n&&n instanceof Array)for(let t=0;t<n.length;t++){n[t][s(196)]=a.attrBuffer}r(t)}))}else r(t)}else r(t)}))}))}[Pb(346)](t,e){const r=Pb;let i=this._composeBuffer(e);if(t&&t instanceof Array)for(let e=0;e<t[r(263)];e++){t[e].attrBuffer=i[r(196)]}}[Pb(303)](t){const e=Pb;let r=0;for(let i=0;i<t[e(263)];i++)t[i].typedArray=new Uint8Array(t[i][e(396)]),r+=t[i][e(304)][e(263)];let i=new Uint8Array(r),n=0;for(let r of t)i[e(218)](r[e(304)],n),n+=r[e(304)][e(263)];return{attrBuffer:i[e(396)]}}_parseDBData(t){const e=Pb;if(t&&t instanceof Array)for(let r=0;r<t[e(263)];r++){let i=t[r],n=i[e(328)],s=i[e(196)];for(let t of n){let r=t[e(261)],i=t[e(283)],n=t[e(337)],o=r[e(320)][e(215)],a=r[e(348)];for(let t=0;t<a[e(263)];t++){let r,i=a[t];if(t!=o){r=s;let t=i.typedArrayOpt;if(t){let n=t[e(313)],s=t[e(373)];i.typedArray=new Uint8Array(r,n,s)}}}for(let t of i){let r=t.typedArrayOpt;if(r){let i=r[e(313)],n=r[e(373)];t[e(321)]=new Uint8Array(s,i,n)}}if(n){let t=n[e(378)];for(let r of t){let t=r[e(334)][e(292)];if(t){let i=t[e(313)],n=t[e(373)];r.textureInfo.imageBuffer=new Uint8Array(s,i,n)}}}}}return t}setMap(t){const e=Pb;super.setMap(t),this[e(192)].height=this.container[e(338)],this[e(192)][e(362)]=this.container.clientWidth,this.gl[e(399)](0,0,this[e(192)].width,this[e(192)].height),!this[e(325)]&&(this[e(325)]=t[e(332)]()[e(251)]()),this[e(322)]=t[e(332)]()[e(375)](),!this[e(244)]&&(this._renderer=new gb(this.gl,{mapUint:t[e(332)]().getUnit(),isRTE:this[e(284)],proMatrix:t[e(372)](),enableHashCode:this.enableHashCode})),!this[e(184)]&&(this[e(167)]?this[e(389)]():this[e(162)][e(248)]((()=>{this[e(389)]()}))),this[e(191)]=new vb(t[e(317)])}[Pb(389)](){const e=Pb;this[e(357)]()[e(248)]((r=>{const i=e;if(this[i(183)]=r,null!==this[i(183)]||void 0!==this[i(183)]){this[i(272)]=this._json.dataType,"Replace"==this[i(183)][i(335)]&&(this.modeAdd=!1);this._json[i(305)][i(214)][i(330)]()===this[i(325)].toUpperCase()?this[i(221)]=new t.Coordinate(this[i(183)].position.x,this[i(183)].position.y,this[i(183)][i(305)].z):this[i(221)]=t.Transformer.transform(new t.Coordinate(this[i(183)][i(305)].x,this[i(183)][i(305)].y,this[i(183)].position.z),4326,this[i(322)]),this[i(281)]=new URL(this[i(271)],location[i(400)]),this._urlHandler&&(this[i(281)]=this._urlHandler(this[i(281)])),this[i(247)]()}}))}async[Pb(357)](){const t=Pb,e=await fetch(this[t(271)]);return await e[t(402)]()}_buildShader(t,e){const r=Pb;if(!this._shaderOpts){this[r(394)]=pm[r(370)](yb[r(224)],yb[r(349)]);const t=this[r(394)][r(225)],i=this[r(394)].fsOpts;e&&(e.textures[r(263)]>0&&(t[r(222)][r(276)](r(166)),i[r(222)][r(276)]("TexCoord")),2===e[r(378)][r(263)]&&(t[r(222)][r(276)](r(376)),i.defines[r(276)](r(376))));const n=pm[r(200)](t,!1),s=pm[r(200)](i,!0);this[r(244)]._initProgram(n,s)}}_getTile(){const e=Pb;this[e(344)](),this[e(180)]();const r=(new t.Matrix4)[e(343)](this._trans.getOrdinate("X"),this[e(221)][e(405)]("Y"),this._trans.getOrdinate("Z")),i=this._json[e(302)];for(let t=0,n=i[e(263)];t<n;t++){const n=new URL(i[t].url,this._baseUrl[e(400)]),s=new Ix(n,r,n[e(400)],this[e(339)],this[e(322)],this[e(341)],this[e(383)]);s.depth=0,i[t][e(197)]&&s.calculateBoundingSphere(i[t][e(197)],this._userScale),this._rootTiles[e(218)](s[e(356)],s)}this[e(184)]=!0,this.redraw(0),this.rootReadyResolve()}[Pb(208)](){const t=Pb;this[t(344)](),this[t(180)]();let e=this._rootTiles;for(let[r,i]of e)if(this[t(230)](i)){let e=i._tileName;if(this[t(244)][t(226)][t(245)](e))this[t(244)][t(350)](e),this._traversal(i);else{this[t(239)](i).then((()=>{this[t(249)](i)}))}}}async[Pb(249)](t){const e=Pb;if(this._isDestroy)return;const r=this,i=t._tileName;let n=t[e(289)],s=[];for(let t=0;t<n[e(263)];t++){let r=n[t],i=r[e(356)];s[e(276)](r),this[e(244)][e(226)].get(i)?this[e(244)][e(350)](i):await this[e(239)](r)}if(0!=s[e(263)]){t.updateScreenError(r.screenPixelD,r[e(391)]),t[e(241)]()&&!r.modeAdd&&(r[e(244)].addToNoShow(i),r.prepareToDraw());for(let t of s)this[e(175)](t)}}[Pb(175)](t){const e=Pb;this[e(230)](t)&&(t[e(269)](this.screenPixelD,this[e(391)]),t[e(241)]()&&this._traversal(t))}[Pb(230)](t){const e=Pb;return this[e(398)]&&1==this[e(398)][e(324)]?t.fitMapFrustum(this[e(395)]):t[e(207)](this[e(255)])}async[Pb(239)](t){const e=Pb;let r=t[e(356)];if(this[e(308)].get(r))this[e(244)][e(226)].get(r)?(this[e(244)][e(350)](t[e(356)]),this[e(219)]()):await this._tileDealPromise.get(r);else{let i=this[e(388)](t);this[e(308)][e(218)](r,i),await i}}async[Pb(388)](e){const r=Pb;let i=e[r(356)];return new Promise((n=>{const s=r;this.getFromIndexDb(i+"&sid"+this[s(322)])[s(248)]((r=>{const o=s;if(this[o(213)])return void n();let a,h=r.result;if(h){let t=this._parseDBData(h.resData);!e.hasContentInit&&e[o(365)](t),a=Promise[o(299)](t)}else a=new Promise((r=>{const n=o;let s,a=new Promise((function(t,e){s=t}));a[n(299)]=s;let h={taskType:t.WorkerTaskType[n(223)],dataUrl:e[n(309)][n(400)]+this._tokenStr,tileName:i,tileMatrix:e[n(179)][n(232)](),srid:this[n(322)],userScale:this._userScale};this[n(191)].dispatch(h,a),e.hasRequest=!0,a.then((()=>{const t=n;this._isDestroy?r(null):this.getFromIndexDb(i+t(173)+this[t(322)])[t(248)]((i=>{const n=t;if(i[n(270)]&&i[n(270)][n(282)]){let t=this[n(212)](i[n(270)][n(282)]);!e[n(182)]&&e[n(365)](t),r(t)}else r(null)}))}))}));a[o(248)]((t=>{const r=o;if(!this[r(213)]&&t){if(!this[r(244)][r(371)](i)){for(let e=0,n=t[r(263)];e<n;e++){const n=t[e][r(328)];0!=n[r(263)]&&(this[r(404)](n[0][r(261)][r(320)],n[0].material),this[r(244)][r(254)](t[e],i))}this[r(333)](t),this._existTiles[r(218)](i,e),this[r(237)](e)}this._renderer[r(350)](i),this[r(219)](),n()}}))}))}))}_releaseData(t){const e=Pb;for(let r of t){let t=r[e(328)];for(let r of t){let t=r.vertexPackage[e(348)];for(let e of t);let i=r[e(337)]&&r[e(337)].textures;if(i)for(let t of i)t[e(334)]&&(t[e(334)][e(238)]=null);r.vertexPackage[e(386)];let n=r[e(283)];for(let t of n);}}}[Pb(344)](){const t=Pb;if(!this[t(398)])return;let e=this[t(398)][t(353)],r=this[t(345)]()[t(169)]().canvas[t(338)],i=e[t(307)]*Math.PI/180*.5,n=.5*r;this[t(168)]=n/Math[t(195)](i)}[Pb(180)](){const t=Pb;if(!this[t(398)])return;let e=this[t(398)][t(353)];this[t(255)]=e[t(236)](),this.cameraPosition=e[t(315)](),this[t(395)]=this.updateFrustumPlane()}updateFrustumPlane(){const e=Pb,r=this[e(398)][e(353)];let i=r[e(406)](),n=r[e(202)](),s=(new t.Matrix4)[e(278)](i)[e(278)](n)[e(190)],o=s[0],a=s[1],h=s[2],l=s[3],c=s[4],u=s[5],p=s[6],f=s[7],g=s[8],d=s[9],_=s[10],y=s[11],m=s[12],I=s[13],x=s[14],v=s[15];return this[e(395)][0][e(178)](l-o,f-c,y-g,v-m),this[e(395)][1][e(178)](l+o,f+c,y+g,v+m),this[e(395)][2].setComponents(l+a,f+u,y+d,v+I),this[e(395)][3].setComponents(l-a,f-u,y-d,v-I),this[e(395)][4][e(178)](l-h,f-p,y-_,v-x),this.planes[5][e(178)](l+h,f+p,y+_,v+x),this[e(395)]}[Pb(237)](t){const e=Pb;let r=this[e(244)],i=r[e(323)][e(369)];for(;r[e(233)][e(263)]-i+1>this[e(257)];){let t=r[e(233)].shift();if(r._drawInfos[e(245)](t))r.tileNameQuene[e(276)](t);else{let i=this[e(393)](t);this[e(164)](i),r[e(226)].delete(t),this._tileDealPromise[e(403)](t)}}this[e(244)][e(280)](t)}_destroyTile(t){const e=Pb;let r=t[e(356)];this[e(244)][e(377)](r),t[e(246)]()}[Pb(393)](t){const e=Pb;return this._existTiles[e(245)](t)}[Pb(186)](){const t=Pb;for(let[e,r]of this[t(384)])!this[t(230)](r)&&(r.cancelFetch(),r[t(246)](),this.requestingPromises[t(403)](e),this[t(194)][t(403)](e))}[Pb(203)](){const t=Pb;this[t(244)].clearDrawInfos(),this[t(208)]()}[Pb(219)](){const t=Pb;this[t(184)]&&this[t(398)]&&this._map.af&&this._map.af[t(385)]()}[Pb(295)](){const t=Pb;this._map&&(super[t(295)](),this[t(312)]())}[Pb(312)](){const e=Pb;if(null===this._json||void 0===this._json)return;const r={x:this[e(221)]._x-this[e(398)][e(353)][e(262)],y:this._trans._y-this[e(398)][e(353)][e(397)],z:this[e(221)]._z-this._map[e(353)][e(206)]},i=[this[e(318)][e(381)][0]-this[e(221)]._x,this.selectTxture[e(381)][1]-this._trans._y,this[e(318)][e(381)][2]-this[e(221)]._x,this[e(318)].extentH[3]-this._trans._y];this.transMatrix=(new t.Matrix4).setTranslate(this[e(221)]._x,this._trans._y,this[e(221)]._z);const n={uProjMatrix:this[e(398)][e(372)](),uViewMatrix:this[e(398)][e(331)]()[e(227)]()[e(278)]((new t.Matrix4).setTranslate(r.x,r.y,r.z)),uTransMatrix:this[e(310)],u_extentH:i,u_selectTexture:5,u_highlightColor:this[e(398)][e(326)](),u_heightRange:this[e(268)],u_clipUnderWater:this[e(256)],u_waterHeight:this[e(329)]},s=this[e(398)][e(174)]();this[e(244)][e(295)](n,s)}[Pb(314)](t,e=-100,r=1e3){const i=Pb;this[i(318)]=xm[i(189)](t),this[i(268)]=[e,r],this._renderer[i(316)](this[i(318)],5),this[i(279)]()}[Pb(285)](){const t=Pb;this.gl[t(228)](this[t(244)][t(211)]);for(let[e,r]of this[t(384)])r[t(198)](),this[t(384)].delete(e);for(let e of this[t(172)][t(264)]())this._destroyTile(e);for(let e of this[t(259)][t(264)]())this[t(164)](e);super[t(285)](),this[t(213)]=!0}[Pb(231)](e){const r=Pb;if(this[r(244)]._drawInfos[r(342)]<1)return[];let i=this.transMatrix;const n=new t.Matrix4;let s=[];for(let[t,o]of this[r(244)]._drawInfos){if(!o||0===o.length||this[r(244)][r(293)].has(t))continue;this[r(172)][r(245)](t).extents,n[r(217)]();for(let a=o[r(263)]-1;a>-1;a--){const h=o[a];h&&(n[r(243)](h[r(185)]),s.push(...this[r(163)](e,h,i,n,t)))}}return s}[Pb(163)](e,r,i,n,s){const o=Pb,a=[],h=new t.Matrix4(i[o(232)](),Float64Array)[o(278)](n);let l=new t.Matrix4(null,Float64Array);l[o(290)](h);let c=e.clone();c[o(355)]=l.multiplyVector3(c[o(355)]),c[o(234)]=l.multiplyVector3(c[o(234)]),c[o(352)]=c.end.substract(c[o(355)]),c._calcTransformDirection();const u=this[o(176)](r.indices,r[o(379)]),p=this[o(277)](r.aPosition),f=r[o(240)].componentsPerAttribute;let g=new t.Vector3(0,0,0,Float64Array),d=new t.Vector3(0,0,0,Float64Array),_=new t.Vector3(0,0,0,Float64Array),y=[];for(let r=0,i=u[o(263)]/3;r<i;r+=1){let i=f*u[3*r];g[o(218)](p[i],p[i+1],p[i+2]),i=f*u[3*r+1],d[o(218)](p[i],p[i+1],p[i+2]),i=f*u[3*r+2],_[o(218)](p[i],p[i+1],p[i+2]),y=[g,d,_];let n=t.Intersect3D.rayIntersectTriangle(c,y);if(n){let r=h[o(216)](new t.Vector3(n._x,n._y,n._z,Float64Array)),i=new t.Coordinate(r[o(252)](0),r[o(252)](1),r[o(252)](2)),l=e[o(380)](i);a[o(276)]({distance:l,feature:{tileName:s,intersectCoordinate:i}})}}return u[o(263)]=0,p.length=0,c=null,a}[Pb(176)](t,e){const r=Pb,i=[],n=this[r(374)](e[r(165)]);let s=new DataView(t[r(321)].buffer,t[r(292)][r(313)],t.typedArrayOpt[r(373)]),o=0;for(;o<s[r(373)];)i.push(s[n[1]](o,!0)),o+=n[0];return s=null,i}[Pb(277)](t){const e=Pb,r=[],i=this.getPerbyteFromComponentDatatype(t.componentDatatype);let n=new DataView(t[e(304)][e(396)],t[e(292)].byteOffset,t[e(292)][e(373)]),s=t[e(298)];for(;s<n.byteLength;){let o=0;for(;o++<t.componentsPerAttribute;)r[e(276)](n[i[1]](s,!0)),s+=i[0]}return n=null,r}getPerbyteFromComponentDatatype(t){const e=Pb;let r=Uint8Array[e(220)],i="getUnit";switch(t){case 5120:r=Int8Array.BYTES_PER_ELEMENT,i=e(382);break;case 5121:r=Uint8Array[e(220)],i=e(368);break;case 5122:r=Int16Array[e(220)],i="getInt16";break;case 5123:r=Uint16Array.BYTES_PER_ELEMENT,i="getUint16";break;case 5124:r=Int32Array.BYTES_PER_ELEMENT,i=e(170);break;case 5125:r=Uint32Array[e(220)],i="getUint32";break;case 5126:r=Float32Array.BYTES_PER_ELEMENT,i="getFloat32";break;case 5127:r=Float64Array[e(220)],i=e(351);break;default:r=Float32Array[e(220)],i=e(311)}return[r,i]}intersectSpheres(e,r){const i=Pb;for(let n=0,s=e.length;n<s;n++)if(t.Intersect3D[i(193)](e[n],r)<e[n][i(359)])return!0;return!1}}const Fb=["indexDb","_addRootTile","destroyCache","fromPolygon","_reqStack","_traversal","_elements","_drawInfos","hasEmptyContent","prepareToDraw","_processFromDb","_deleteWebGLBufferAndTexture","1SCxLji","1029rUOHtK","147648IBKGnH","getCamera","getVPMatrix","3FweIPS","redraw","665298bZLUaZ","getExtent","distanceToCamera","canTraverse","hasOwnProperty","resData","_clearDrawInfos","screenPixelD","fitMapExtent","_init","hasRequest","CCW","capacity","_lodTiles","207370jnIKpx","updateScreenError","unloadContent","read","3dtile0627","mapExtent","catch","getLayerType","result","setMap","highlightUniforms","then","render","_gltfModels","PROCESS_B3DM","size","_existTiles","fitMapFrustum","_renderer","extentH","error","cameraPosition","setComponents","setOpacity","event","computedTransform","modelMap","addGLTF","TILES_3D","entries","_pendingCount","getCoordinate","load","b3dm","addToNoShow","length","_map","matrix","resetTileFromJson","enableHashCode","tileUrl","maximumScreenSpaceError","gltfMap","has","176801HxZuOQ","planes","canvas","setHighlightColor","raycasterIntersect","checkTileCache","getTileDealPromise","tilesetPromise","camera","4326","4479","createVirtualLOD","_getTileByName","gltf","getTileTree","inMapExtent","getLayerContainer","ADD","_rootTiles","getPMatrix","updateScreenPixelD","_depthMode","cacheNumber","addTileCache","clear","getRotateX","getCrs","destroy","getContext","_fovy","dealOneTile","494111KrVRhC","_draw","_drawInfosNoShow","_startOneRequest","drawables","count","hasTileCached","tileNameQuene","push","_maxThreads","864679aOUagv","tileset","addToDrawList","code","srid","_initFrustumPlane","_id","scale","nodes","open","_userScale","_deleteFromRender","_tileCache","extenseName","resolve","selectTxture","multiply","setFrontFace","fromJSON","name","getElements","get","getViewMatrix","children","set","tileset.json load error:","checkTraversal","draw","delete","Tile3DLayer","pop","getHighlightColor","refine","tileName","createUnique","getCullFaceStatus","updateFrustumPlane","_IsRender","553QOUcuX","_camera","shift","_isDestroy","_tileJsonPromises","setVPMatrix","workerPool","updateCameraInfo","_concurrency","_opacity"],Db=Ob;function Ob(t,e){return Fb[t-=189]}!function(t,e){const r=Ob;for(;;)try{if(377108===-parseInt(r(337))+-parseInt(r(331))*-parseInt(r(308))+-parseInt(r(330))*-parseInt(r(260))-parseInt(r(351))+parseInt(r(229))*-parseInt(r(335))-parseInt(r(332))+parseInt(r(270)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Fb);class Nb extends Dt{constructor(e,r,i={}){const n=Ob;super(i),this[n(276)]=t.Aid[n(304)](this.constructor[n(289)]),this[n(289)]=e,this[n(274)]="4326",this._tilesetUrl=r,this[n(222)]=i.matrix,this.maximumScreenSpaceError=i[n(226)]?i.maximumScreenSpaceError:64,this[n(271)]=void 0,this[n(325)]=new Map,this[n(262)]=new Map,this[n(282)]=new Map,this.tileNameQuene=[],this[n(247)]=new Map,this[n(201)]=new Map,this[n(198)]=new Map,this[n(349)]=i[n(341)](n(251))?i[n(251)]:150,this[n(280)]=i.hasOwnProperty("scale")?i[n(277)]:1,this[n(312)]=new Map,this[n(328)]=new Map,this[n(224)]=!!i.hasOwnProperty(n(224))&&i[n(224)],this[n(195)]={},this[n(285)]=xm[n(321)](),this.viewExtent=null,this[n(318)]=new t.DbHelper(t.DbName[n(213)]),this[n(316)]=6,this[n(215)]=0,this._reqStack=[],this[n(275)]()}[Db(192)](){return Ot[Db(299)]}onRootReady(t){t&&t()}async[Db(346)](){const e=Db;let r=await this.indexDb[e(279)]();1===r[e(273)]?this._initUrl():console[e(205)](r),!t.Transformer[e(291)]("4479")&&t.Transformer.add(e(239)),this[e(314)]=new vb(this._map[e(269)])}[Db(275)](){const t=Db;this[t(230)]=[];for(let e=0;e<6;e++)this[t(230)][e]=new Ab}[Db(194)](t){const e=Db;super[e(194)](t),this[e(203)]=new wv(this.gl,{tile3d:!0,event:this[e(209)]}),this[e(274)]=this._map[e(255)]().getSrid();let r=this[e(280)];this[e(274)]==e(238)&&(r*=1/111e3),this.matrix.scale(r,r,r),this[e(346)]()}_initUrl(){const e=Db,r=new t.Tile3DLoader({srid:this.srid,url:this._tilesetUrl,maximumScreenSpaceError:this.maximumScreenSpaceError,modelMatrix:this.matrix,userScale:this[e(280)]});this[e(236)]=r[e(217)](),this[e(236)][e(196)]((async t=>{const i=e;let n=t[i(243)]();"json"==n[i(283)]&&await n[i(223)]();for(let t=0;t<n[i(293)][i(220)];t++){let e=n[i(293)][t];this[i(319)](e)}this[i(350)]=r[i(240)](t),this._startOneRequest(),this[i(271)]=t}))[e(191)]((function(t){const r=e;console[r(205)](r(295)+t)}))}[Db(319)](t){const e=Db,r=t[e(303)];this[e(247)][e(294)](r,t)}async[Db(263)](){const t=Db;let e=t=>{const r=Ob;this[r(215)]++,t[r(347)]=!0,t.resetTileFromJson().then((()=>{const i=r;if(this[i(215)]--,this[i(215)]<this._concurrency){let t=this[i(322)][i(300)]();t&&e(t)}if(this[i(282)][i(291)](t.tileName))this[i(272)](t[i(303)]),this[i(327)](),this[i(323)](t);else{this[i(259)](t)[i(196)]((()=>{this[i(323)](t)}))}}))};this[t(249)](),this[t(315)]();const r=this[t(350)];if(r)for(let i=0,n=r.length;i<n;i++){const n=r[i];if(this[t(244)](n))for(let r of n[t(293)])if(this[t(244)](r))if(r.extenseName==t(218))if(this[t(282)][t(291)](r[t(303)]))this.addToDrawList(r[t(303)]),this[t(327)](),this._traversal(r);else{this[t(259)](r).then((()=>{this._traversal(r)}))}else r[t(326)]||r[t(347)]?this[t(323)](r):this[t(215)]<this[t(316)]?e(r):this._reqStack[t(268)](r)}}async[Db(323)](t){const e=Db;if(this[e(311)])return;let r=t[e(293)],i=[];for(let t=0;t<r.length;t++){let n=r[t],s=n[e(303)];if(!n[e(326)]){if(!n[e(326)]&&!n[e(347)]&&n[e(283)]!=e(218)){n[e(347)]=!0;let t=n[e(223)]();this[e(312)][e(294)](s,t),await t,s=n[e(303)]}if(n[e(283)]!=e(218)){let t=this[e(312)][e(291)](s);if(!t)continue;await t}this[e(282)][e(291)](s)?(this[e(272)](s),this.prepareToDraw()):await this[e(259)](n),i[e(268)](n)}}if(0!=i[e(220)]){if(t[e(352)](this[e(344)],this[e(206)]),t[e(340)]()){let r=t[e(303)];t.children[0][e(302)]!=e(246)&&"b3dm"==t.extenseName&&(this.addToNoShow(r),this[e(327)]())}for(let t of i)this[e(296)](t)}}[Db(296)](t){const e=Db;this[e(244)](t)&&(t[e(352)](this[e(344)],this[e(206)]),t[e(340)]()&&this[e(323)](t))}[Db(244)](t){const e=Db;return this[e(221)]&&1==this[e(221)][e(250)]?t[e(202)](this[e(230)]):t[e(345)](this[e(190)])}async[Db(259)](t){const e=Db;let r=t[e(303)];if(this[e(328)][e(291)](r))await this[e(328)][e(291)](r);else{let i=this.getTileDealPromise(t);this[e(328)].set(r,i),await i}}async[Db(235)](e){let r=e.tileName;return new Promise((i=>{const n=Ob;this.indexDb[n(354)](r)[n(196)]((s=>{const o=n;if(this[o(311)])return void i();let a,h=s.result;if(h){let e=h[o(342)],r=new t.GLTF(o(189));r[o(288)](e),a=Promise[o(284)](r)}else a=new Promise((i=>{const n=o;let s,a=new Promise((function(t,e){s=t}));a[n(284)]=s;let h={taskType:t.WorkerTaskType[n(199)],dataUrl:e[n(225)],tileName:r};this[n(314)].dispatch(h,a),e[n(347)]=!0,a[n(196)]((()=>{const e=n;this[e(311)]?i(null):this[e(318)].read(r).then((r=>{const n=e;if(r[n(193)]&&r.result[n(342)]){let e=r.result[n(342)],s=new t.GLTF(n(189));s[n(288)](e),i(s)}else i(null)}))}))}));a[o(196)]((t=>{const n=o;if(!this[n(311)]&&t){if(this._tileCache[n(291)](r))this[n(272)](r);else{let i=t[n(242)],s=e[n(210)];this[n(203)][n(212)](i,s),this[n(252)](i,r),this.addToDrawList(r),this.prepareToDraw(),this[n(201)][n(294)](r,e),this[n(198)][n(294)](r,t)}this[n(234)]()}i()}))}))}))}[Db(249)](){const t=Db;if(!this[t(221)])return;let e=this[t(221)]._camera,r=this[t(245)]()[t(257)]()[t(231)].clientHeight,i=e[t(258)]*Math.PI/180*.5;this[t(344)]=.25*r/Math.tan(i)}[Db(315)](){const t=Db;if(!this._map)return;let e=this[t(221)][t(309)];this[t(190)]=this._map[t(338)](),this[t(206)]=e[t(216)](),this[t(230)]=this.updateFrustumPlane()}[Db(306)](){const e=Db,r=this[e(221)][e(309)];let i=r[e(248)](),n=r[e(292)](),s=(new t.Matrix4).multiply(i)[e(286)](n)[e(324)],o=s[0],a=s[1],h=s[2],l=s[3],c=s[4],u=s[5],p=s[6],f=s[7],g=s[8],d=s[9],_=s[10],y=s[11],m=s[12],I=s[13],x=s[14],v=s[15];return this.planes[0][e(207)](l-o,f-c,y-g,v-m),this[e(230)][1].setComponents(l+o,f+c,y+g,v+m),this[e(230)][2][e(207)](l+a,f+u,y+d,v+I),this[e(230)][3][e(207)](l-a,f-u,y-d,v-I),this[e(230)][4].setComponents(l-h,f-p,y-_,v-x),this.planes[5][e(207)](l+h,f+p,y+_,v+x),this[e(230)]}[Db(320)](t,e){const r=Db;let i=t[r(276)];this[r(281)](i);let n=this[r(241)](e);n&&n[r(353)]()}_getTileByName(t){return this._existTiles.get(t)}addToDrawList(t){const e=Db;let r=this[e(282)][e(291)](t);r&&this._drawInfos[e(294)](t,r)}[Db(219)](t){this._drawInfosNoShow.set(t,!0)}[Db(343)](){const t=Db;this[t(325)].clear(),this[t(262)][t(253)]();for(let[e,r]of this[t(203)][t(307)])this[t(203)][t(307)][t(294)](e,!1)}hasTileCached(t){const e=Db;return this[e(282)][e(228)](t)}[Db(252)](t,e){const r=Db;this[r(266)](e)||(this[r(282)][r(294)](e,t),this[r(267)][r(268)](e))}checkTileCache(){const t=Db;let e=this[t(325)][t(200)];for(;this[t(267)].length-e>this[t(349)];){let e=this.tileNameQuene[t(310)](),r=this[t(282)][t(291)](e);if(this[t(325)].get(e))this[t(267)].push(e);else{this[t(320)](r,e),this[t(282)][t(298)](e),this[t(328)][t(291)](e)&&this[t(328)].delete(e);let i=this[t(198)][t(291)](e);i&&i[t(256)]()}}}_deleteFromRender(t){const e=Db;this[e(203)].gltfMap[e(291)](t)&&(this[e(203)][e(329)](t),this[e(203)][e(227)].delete(t),this._renderer[e(211)][e(298)](t),this[e(203)]._IsRender[e(298)](t))}prepareData(){const t=Db;this[t(343)](),this[t(263)]()}[Db(327)](){const t=Db;this._map&&this[t(221)].af&&this._map.af.active()}[Db(297)](){const t=Db;if(!this[t(221)])return;const e=this[t(221)][t(333)](),r=Math.abs(e[t(254)]()),i=this[t(305)]();r>90&&i[t(287)]("CW"),super[t(297)](),this._draw(),r>90&&i.setFrontFace(t(348))}[Db(261)](){const t=Db;this[t(203)][t(237)]=this[t(221)][t(333)](),this[t(203)][t(313)](this._map[t(334)]()),this._renderer[t(208)](this[t(317)]),this._renderer[t(232)](this[t(221)][t(301)]());for(let[e,r]of this[t(325)]){let i=r[t(276)],n=this.matrix;if(this[t(203)].gltfMap[t(291)](i))this[t(203)]._IsRender[t(294)](i,!0);else{let i=this._existTiles[t(291)](e)&&this._existTiles[t(291)](e)[t(210)];this._renderer[t(212)](r,i||n)}this[t(262)][t(291)](e)&&this[t(203)][t(307)].set(i,!1)}this[t(203)][t(197)](this.highlightUniforms)}setHighlightFromGeometry(t,e=-100,r=1e5){const i=Db;this.selectTxture=xm[i(321)](t);const n=[e,r];this._renderer.bindSelectTexture(this[i(285)],6);let s=this.selectTxture[i(204)];const o=this[i(222)][i(290)]()[12],a=this[i(222)][i(290)]()[13];s[0]-=o,s[1]-=a,s[2]-=o,s[3]-=a,this.highlightUniforms={u_extentH:s,u_selectTexture:6,u_heightRange:n},this[i(336)]()}[Db(256)](){const t=Db;for(let[e,r]of this[t(282)][t(214)]())this.destroyCache(e,r[t(276)]);super.destroy(),this[t(311)]=!0}[Db(233)](t){const e=Db;if(this[e(325)][e(265)]<1)return[];let r=[];for(let[i,n]of this[e(325)])if(!this[e(262)][e(228)](i))for(let s of n[e(278)]){if(!s[e(264)][0])continue;const n=s.intersectRay(t);n&&r.push({distance:n[e(339)],feature:{intersectCoordinate:n.intersectCoordinate,tileName:i}})}return r}}var Bb=["7873UzafJc","48781yCqgHH","152168gGUJsy","530342siTYDF","599jKZkhD","211AKzdGk","705303RjvHoq","1aUlahO","1CZkegr","473123HSeKLV","499NcYOsF"];function Ub(t,e){return Bb[t-=413]}!function(t,e){for(var r=Ub;;)try{if(354723===-parseInt(r(413))+parseInt(r(418))*-parseInt(r(419))+parseInt(r(414))+parseInt(r(420))*-parseInt(r(421))+parseInt(r(416))*parseInt(r(422))+-parseInt(r(415))+-parseInt(r(417))*-parseInt(r(423)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Bb);var kb=Object.freeze({__proto__:null,Offset:t.Offset,Extent:t.Extent,Pixel:t.Pixel,CoordSeq:t.CoordSeq,Size:t.Size,Coordinate:t.Coordinate,BBox:t.BBox});const Vb=["blob","_tileBuffer","getTileSize","_program","_mergeTileData","min","_reverseY","getContainerHSpan","useLocalStorage","parameter is illegal!","getId","985834ziBeEF","_getXYZ","518833drdPRR","36JlVeyK","has","ceil","pow","3ubcpcJ","_vaoPoolCapacity","ext","1068425LkvtUn","setTileSize","matrixOriginCorner","catch","getExtent","vaoToDeleteOnce","getTileGeoExt","getTileExt","getServerResolutionByRes","data","_initIndexDB","_IDB","layerOctree","getZoom","getBottom","the parameter loc is not a Coordinate instance","GridLayer","getHeight","_worldExtent","set","gridSize","setXYZ","1yMXpDo","getLayerType","searchParams","_dataStoreName","18346zAJpZr","1ORJmOw","_groupSideLength","dataStore","getWidth","layerUrl","then","tilesToDrawOnce","getLeft","getOrdinate","floor","addExterInfo","_getSubXYZ","getServerZoomByRes","minX","getContainerVSpan","serverResolutions","png","reverseY","pixelExt","length","_tileSize","xyz","vaoPoolCapacity","_crs","add","src","name","max","split","setTileUrl","getTileInfo","get","abs","indexOf","_matrixOrigin","getTilePixelExt","subXYZ","520140eALWtY","_tilesToDrawOnce","setIndex","_token","groupSideLength","maxY","VectorTileLayer","rangeRow","1dMJkFJ","url","init","getMap","POSITIVE_INFINITY","_getDiffSet","3439781wKMael","completeTileBuffer","_map","getResolution","_oldTileBuffer","getTop","_vaoToDeleteOnce","minY","setMap","dataFormat","matrixOrigin","getRight","961990mUTFFL"],Gb=zb;function zb(t,e){return Vb[t-=474]}!function(t,e){const r=zb;for(;;)try{if(799435===parseInt(r(481))*parseInt(r(476))-parseInt(r(548))+-parseInt(r(574))*parseInt(r(506))+-parseInt(r(484))*parseInt(r(556))+parseInt(r(510))*-parseInt(r(477))-parseInt(r(474))+-parseInt(r(562))*-parseInt(r(511)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Vb);class Hb extends Dt{constructor(e,r,i={}){const n=zb;super(i),this[n(537)]=e,this._oldTileBuffer=[],this[n(576)]=[],this[n(545)]=i[n(572)]?i[n(572)]:null,this._matrixOriginCorner=i[n(486)]?i[n(486)]:"tl",this[n(531)]=i[n(504)]?i[n(504)]:new t.Size(256,256),this[n(515)]=r,this[n(571)]=i[n(571)],this[n(578)]=null,this[n(482)]=i[n(533)]?i.vaoPoolCapacity:30,this[n(568)]=i[n(489)]?i[n(489)]:.3,this[n(549)]=i.tilesToDrawOnce?i[n(517)]:10,this._lock=!1,this[n(526)]=i.serverResolutions?i[n(526)]:null,this._groupSideLength=i[n(552)]||2,this[n(581)]=!0===i[n(528)],this._token=i.token||null,1==i[n(583)]&&this[n(494)]()}[Gb(507)](){return Ot[Gb(500)]}setMap(t){const e=Gb,r=Math[e(479)](t[e(582)]()*t[e(525)]()/65536);this[e(482)]=Math[e(580)](this[e(482)]*r,1e3),this[e(568)]=Math[e(520)](this[e(482)]*this[e(568)]/Math[e(480)](this[e(512)],2)),this[e(482)]=Math.ceil(this[e(482)]/Math[e(480)](this[e(512)],2)),this[e(496)]=null,super[e(570)](t),!this[e(545)]&&(this[e(545)]=t[e(534)][e(502)].getTopLeft())}[Gb(577)](){return this[Gb(531)]}[Gb(485)](e){const r=Gb;if(!(e instanceof t.Size))throw new Error(r(584));this[r(531)]=e}[Gb(541)](e){const r=Gb;if(!(e instanceof t.Coordinate))throw new TypeError(r(499));const i=(e[r(519)]("X")-this[r(545)][r(519)]("X"))/this[r(564)].getResolution(this._map.getZoom()),n=Math[r(520)](i/this.getTileSize()[r(514)]()),s=(this[r(545)].getOrdinate("Y")-e[r(519)]("Y"))/this[r(564)][r(565)](this[r(564)][r(497)]()),o=Math[r(520)](s/this[r(577)]()[r(514)]());return{row:o,col:n,geoExtent:this[r(491)](n,o)}}[Gb(505)](t){const e=Gb;this._tileBuffer=[],t=t||this.getServerZoomByRes();const r=this[e(555)](t),i=this.rangeCol(t);for(let n=i.maxX-1;n>=i[e(524)];n--)for(let i=r[e(553)]-1;i>=r[e(569)];i--){let r=new Map,{subXYZ:s}=this[e(522)](n,i,t);r.set(e(532),this[e(475)](n,i,t)),r[e(503)]("subXYZ",s),this[e(576)][this[e(576)].length]=r}}_getXYZ(t,e,r){return t+"#"+e+"#"+r+this[Gb(585)]()}_getSubXYZ(t,e,r,i){const n=Gb;i=i||this._matrixOrigin;const s=[],o=this[n(531)][n(514)](),a=this[n(531)][n(501)]();i.getOrdinate("X"),i.getOrdinate("Y");for(let i=0;i<this._groupSideLength;i++){let h=i*o,l=0;for(let o=0;o<this._groupSideLength;o++){l=this._reverseY?(this[n(512)]-o-1)*a:o*a;const c={xyz:t*this._groupSideLength+i+"#"+(e*this._groupSideLength+o)+"#"+r,url:"",offset:[h,l]};s[s[n(530)]]=c}}return{subXYZ:s}}[Gb(523)](){const t=Gb;if(this[t(526)]){const e=this[t(492)]();return this[t(526)].indexOf(e)}return this[t(559)]()[t(497)]()}getServerResolutionByRes(t){const e=Gb;t=t||this._map[e(497)]();let r=this[e(559)]()[e(565)](t),i=Number[e(560)];if(this[e(526)]&&-1===this[e(526)][e(544)](r)){let t,n,s,o;for(t=this[e(526)][e(530)]-1;t>=0&&(s=this.serverResolutions[t],n=Math[e(543)](s-r),!(n>i));t--)i=n,o=s;r=o}return r}[Gb(555)](t,e,r){const i=Gb;r=null==r?this[i(581)]:r,e=e||this[i(545)];const n=this[i(492)](t),s=this.getMap().getExtent(),o=e[i(519)]("Y"),a=this[i(577)]()[i(501)]()*this[i(512)],h=r?o<=s[i(498)]()?Math[i(543)]((o-s.getBottom())/n):0:o>=s.getTop()?Math.abs((o-s[i(567)]())/n):0,l=Math[i(520)](h/a),c=r?o<=s[i(567)]()?Math.abs((o-s[i(567)]())/n):0:o>=s[i(498)]()?Math[i(543)]((o-s[i(498)]())/n):0,u=Math[i(479)](c/a),p=Math.max(u,l);return{minY:Math[i(580)](u,l),maxY:p}}rangeCol(t,e){const r=Gb;e=e||this[r(545)];const i=this[r(559)]()[r(488)](),n=this[r(492)](t),s=this[r(577)]().getWidth()*this._groupSideLength,o=(i.getLeft()-e[r(519)]("X"))/n,a=Math[r(520)](o/s),h=(i[r(573)]()-e.getOrdinate("X"))/n,l=Math[r(479)](h/s),c=Math[r(538)](l,a);return{minX:Math[r(580)](l,a),maxX:c}}[Gb(521)](){const t=Gb,e=this._tileBuffer[t(530)];for(let r=0;r<e;r++){let e=this[t(576)][r];const i=e.get(t(547));for(let e=0,r=i[t(530)];e<r;e++){const r=i[e],n=this.setTileUrl(r[t(532)]);r.url=n}if(this[t(507)]()!==Ot[t(554)]){const i=this[t(490)](e);this[t(576)][r].set(t(483),i)}}}[Gb(490)](t,e){const r=Gb,i=t[r(542)](r(532))[r(539)]("#");return this.getTileExt(1*i[0],1*i[1],1*i[2],this[r(531)][r(514)]()*this[r(512)],this[r(531)].getHeight()*this[r(512)],e)}[Gb(491)](e,r,i,n,s,o,a){const h=Gb;a=null==a?this[h(581)]:a,o=o||this._matrixOrigin,i=i||this[h(564)][h(497)](),n=n||this[h(531)].getWidth(),s=s||this[h(531)][h(501)]();const l=n*this[h(564)][h(565)](i),c=s*this._map[h(565)](i);let u,p,f=e*l+o[h(519)]("X"),g=(1*e+1)*l+o[h(519)]("X"),d=o[h(519)]("Y");return a?(u=d+(r+1)*c,p=d+r*c):(u=d-r*c,p=d-(r+1)*c),new t.Extent(f,p,g,u)}[Gb(546)](t){const e=Gb;t[e(542)](e(532))[e(539)]("#");const r=this[e(559)]()[e(488)](),i=t[e(542)]("ext"),n=(i[e(518)]()-r.getLeft())/this[e(564)][e(565)](),s=(r[e(567)]()-i[e(567)]())/this._map[e(565)](),o=n+this[e(577)]().getWidth(),a=s+this.getTileSize()[e(501)](),h=new Map;return h[e(503)]("l",n)[e(503)]("t",s).set("r",o).set("b",a),t.set(e(529),h),t}[Gb(540)](t){}_addToken(t){const e=Gb;if(!this[e(551)])return t;t=new URL(t);let r=new URLSearchParams(this[e(551)]);for(const[i,n]of r)t[e(508)].append(i,n);return t.href}[Gb(563)](){const t=Gb;let e=this;this[t(571)]===t(527)&&t(575);const r=this[t(576)].length;for(let i=0;i<r;i++){const n=new Image;n[t(536)]=this._tileBuffer[i][t(542)](t(557)),n.onload=function(){const s=t;e[s(576)][i].set(s(493),n);let o=!0;for(let t=0;t<r;t++)null===e[s(576)][t][s(542)]("data")&&(o=!1);o&&e.drawGrid()}}}[Gb(579)](t){const e=Gb,r=this[e(566)].length,i=this[e(576)][e(530)];for(let t=0;t<r;t++){const r=this[e(566)][t],n=r[e(542)](e(532));for(let t=0;t<i;t++){const i=this[e(576)][t];i.get(e(532))===n&&i[e(503)]("data",r[e(542)](e(493)))}}}[Gb(561)](){const t=Gb;let e=new Set,r=new Set;for(let r in this[t(566)])e[t(535)](r[t(542)](t(532)));for(let i of this[t(576)]){const n=i[t(542)](t(532));!e[t(478)](n)&&r[t(535)](i)}return r}diffTileBuffer(){const t=Gb,e=new Set;for(let r=0;r<this._tileBuffer.length;r++){const i=this[t(576)][r][t(542)](t(532));for(let r=0;r<this[t(566)][t(530)];r++){const n=this._oldTileBuffer[r];n[t(542)]("xyz")===i&&e[t(503)]("data",n[t(542)](t(493)))}}}[Gb(494)](){this._initIDBPromise=new Promise(((e,r)=>{const i=zb;this[i(509)]=""+this[i(515)]+this[i(571)],this.dataStore=new t.DataStore(this[i(509)],{keyPath:i(532),autoIncrement:!1}),this.dataStore[i(550)](i(532),i(532),{unique:!0}),this._IDB=new t.IndexedDB(this[i(515)],1,{storeList:[this[i(513)]]}),this[i(495)][i(558)]()[i(516)]((t=>{e(t)}))[i(487)]((t=>{r(t)}))}))}}const jb=["_vaoToDeleteOnce","destroy","split","getLayerType","getCullFaceStatus","drawArrays","_vaoPoolCapacity","get","has","CLAMP_TO_EDGE","delete","{z}","png","setTileUrl","getMaxZoom","keys","_layerExtra","setFrontFace","_initVtiles","_cache","isReverse","setMap","_createTextureFill","layerUrl","blocks","setEnable","_map","_checkCacheSize","NEAREST","resolutions","43awulhS","xyz","indexOf","_tileBuffer","layerZFunc","_add","setOpacity","getRotateX","url","addExterInfo","removeTextureObject","_addToken","getResolutions","FillTexturePainter","opacity","_IDB","899864CZkJYn","303282xprOcg","add","removeBlock","TMSLayer","size","{x}","isBaseLayer","_initIDBPromise","length","_toDraw","zoomOffset","CCW","glHelper","maxLevel","_painter","loadStatus","clear","874338Edknhg","1575015sQzrrs","getDepthStatus","getMap","_resolutions","replace","/{z}/{x}/{y}.","dataFormat","12262LCEaUo","draw","1109195PWvXsl","1117816fPMtnv"],Yb=$b;function $b(t,e){return jb[t-=236]}!function(t,e){const r=$b;for(;;)try{if(850454===parseInt(r(273))*parseInt(r(307))+parseInt(r(275))+parseInt(r(265))+-parseInt(r(247))+-parseInt(r(266))+parseInt(r(276))+-parseInt(r(248)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(jb);class Xb extends Hb{constructor(t,e,r={}){const i=$b;super(t,e,r),this.dataFormat=this[i(272)]||i(289),-1===e[i(309)](i(253))&&this instanceof Xb&&(this[i(300)]=e+i(271)+this[i(272)]),r[i(297)]?this[i(311)]=function(t,e){let n=e-t;return r[i(258)]&&(n-=r.zoomOffset),n}:r[i(258)]&&(this[i(311)]=function(t){return t-r[i(258)]}),this[i(269)]=r[i(306)],this._isBaseLayer=!1!==r[i(254)],this[i(263)]=0,this._cache=new Set,this[i(257)]=new Set}[Yb(280)](){return Ot[Yb(251)]}isBaseLayer(){return this._isBaseLayer}[Yb(243)](){return this[Yb(269)]}[Yb(298)](t){const e=Yb;super.setMap(t),this[e(267)]()[e(302)](!1),this[e(261)]=this[e(268)]()[e(291)]();const r=this[e(293)]();this[e(262)]=new(ef[e(244)])(this,this._mergeExtra(r,{texture2D:0}),{drawType:e(282)})}[Yb(290)](t){const e=Yb;let[r,i,n]=t[e(279)]("#");this[e(311)]&&(n=this.layerZFunc(n,this.maxLevel));let s=this[e(300)][e(270)](e(253),r)[e(270)]("{y}",i).replace(e(288),n);return this[e(242)](s)}[Yb(295)](){const t=Yb;this[t(257)][t(264)](),this.setXYZ(),this[t(240)]();let e=this[t(310)].length;for(let r=0;r<e;r++){const e=this[t(310)][r],i=e.get(t(308));this[t(257)][t(249)](i),this[t(296)][t(285)](i)?this[t(296)][t(287)](i):(e[t(239)]=i,this[t(299)](e),this[t(262)][t(236)](e),this[t(296)][t(249)](i)),this[t(296)][t(249)](i)}this[t(304)]()}[Yb(299)](e){const r=Yb,i=e[r(284)]("subXYZ"),n={texture_wrap_s:"CLAMP_TO_EDGE",texture_wrap_t:r(286),texture_mag_filter:r(305),texture_min_filter:"NEAREST"};for(let e=i[r(256)]-1;e>-1;e--){const s=i[e],o=s[r(239)];if(!this[r(246)]){let e=new t.TextureFill(o,n);s.texFill=e}}}[Yb(304)](){const t=Yb;if(this[t(296)][t(252)]<=this[t(283)])return;let e=0;for(let r of this[t(296)][t(292)]()){this._cache[t(287)](r);const i=this[t(262)][t(301)][t(284)](r);if(this[t(262)][t(250)](i),this._painter[t(260)][t(241)](r),e++,e===this[t(277)])break}}prepareData(){const t=Yb;this[t(303)]&&(this[t(255)]?this[t(255)].then((()=>{this[t(295)]()})):this[t(295)]())}[Yb(274)](){const t=Yb,e=this[t(303)].getCamera(),r=Math.abs(e[t(238)]()),i=this[t(281)]();r>90&&i[t(294)]("CW"),super[t(274)](),this._painter[t(274)](this[t(257)]),r>90&&i.setFrontFace(t(259))}[Yb(237)](t){const e=Yb;this[e(262)][e(245)]=t,super.setOpacity(t)}destroy(){const t=Yb;this[t(262)].removeAll(),super[t(278)]()}}const Wb=["VERSION","297328oINLsD","getTileExt","setTileUrl","getHeight","_groupSideLength","_params","301211mNwWnS","toUpperCase","split","SRS","REQUEST=GetMap","1SSgxpu","CRS","_assemblyRequestUrl","EPSG:4326","layerUrl","layerZFunc","1.1.1","60557mUATor","assign","4hVbgfA","WMSLayer","1vXkEqi","_IDB","53RCVpty","subXYZ","getTileUrl","texFill","366802uqFXhs","223849QMjmtI","WIDTH","HEIGHT","setMap","getWidth","CLAMP_TO_EDGE","11178wHIAnj","WMS","_upperCaseObject","draw","gridSize","getSrid","EPSG:","83711FbPKPh","getCrs","_addToken","getTileSize"],Zb=qb;function qb(t,e){return Wb[t-=280]}!function(t,e){const r=qb;for(;;)try{if(201355===parseInt(r(314))+-parseInt(r(326))+parseInt(r(303))*-parseInt(r(281))+parseInt(r(289))+parseInt(r(308))*parseInt(r(319))+-parseInt(r(290))*-parseInt(r(283))+-parseInt(r(296))*parseInt(r(285)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Wb);class Jb extends Xb{constructor(e,r,i={},n={}){const s=qb;super(e,r,n),this._tileSize=n[s(300)]?n[s(300)]:new t.Size(512,512),this[s(323)]=r,this[s(312)]=1,this._isBaseLayer=!1,this[s(313)]={SERVICE:s(297),VERSION:s(325),REQUEST:"GetMap",STYLES:"",FORMAT:"image/jpeg",TRANSPARENT:!0},i=this[s(298)](i),this[s(313)]=Object[s(280)](this._params,i)}getLayerType(){return Ot[qb(282)]}[Zb(293)](t){super[Zb(293)](t)}[Zb(310)](t){const e=Zb;let[r,i,n]=t[e(316)]("#");this.layerZFunc&&(n=this[e(324)](n,this.maxLevel));const s=this[e(309)](1*r,1*i,1*n,this.getTileSize()[e(294)](),this[e(306)]()[e(311)]());let o=this._assemblyRequestUrl(s,this[e(306)]()[e(294)](),this.getTileSize()[e(311)]());return this[e(305)](o)}[Zb(299)](){super.draw()}[Zb(287)](){return this[Zb(323)]}_createTextureFill(e){const r=Zb,i=e.get(r(286))[0];if(this[r(284)])return;const n=i.url,s=new t.TextureFill(n,{texture_wrap_s:r(295),texture_wrap_t:"CLAMP_TO_EDGE",texture_mag_filter:"NEAREST",texture_min_filter:"NEAREST"});i[r(288)]=s}[Zb(321)](t,e=560,r=350){const i=Zb;this[i(313)][i(291)]=e,this[i(313)][i(292)]=r;const n=this.getCrs()?i(302)+this[i(304)]()[i(301)]():i(322);parseFloat(this[i(313)][i(307)])>=1.3&&void 0===this[i(313)][i(320)]?(this[i(313)][i(320)]=n,delete this[i(313)].SRS):void 0===this[i(313)].SRS&&(this[i(313)][i(317)]=n,delete this[i(313)].CRS),this[i(313)].BBOX=t.toString();let s=this[i(323)]+i(318);for(let t in this._params)s=s+"&"+t+"="+this[i(313)][t];return s}[Zb(298)](t){const e=Zb;let r={};for(let i in t)r[i[e(315)]()]=t[i];return r}}const Kb=["_replaceRequestUrl","7FOAmkf","?service=wmts&request=GetTile","52369lrrvUK","tileCol","_formatREST","1.0.0","format","1543893dsjMEO","getLayerType","{x}","7293flVVDZ","maxLevel","tileMatrix","split","_isBaseLayer","length","_requestEncoding","_groupSideLength","replace","_style","layerUrl","_formatKVP","_assemblyRequestUrl","265021WGoAZq","61piAwsP","{y}","_addToken","14919fPWnMy","setTileUrl","_format","76ibjaZo","tileMatrixSet","image/png","_matrixIds","default","2GPjSFY","_layer","5914KeyXha","_version","style","1bezFnw","499863XigSNz","_requestUrl","WMTSLayer","{z}","indexOf","layer","/tile","_tileMatrixSet","KVP","7hlhRtj","version","requestEncoding"],Qb=tw;function tw(t,e){return Kb[t-=290]}!function(t,e){const r=tw;for(;;)try{if(810300===parseInt(r(307))*-parseInt(r(294))-parseInt(r(298))+parseInt(r(341))*parseInt(r(321))+parseInt(r(292))*parseInt(r(334))+-parseInt(r(338))*parseInt(r(335))+-parseInt(r(297))*-parseInt(r(318))+parseInt(r(313))*-parseInt(r(311)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Kb);class ew extends Xb{constructor(t,e,r={}){const i=tw;super(t,e,r),this[i(331)]=e,-1!==this.layerUrl[i(302)](i(320))?this._requestUrl=this._replaceRequestUrl:this[i(299)]=this[i(333)],this[i(328)]=1,this[i(325)]=!1,this[i(327)]=r[i(309)]?r[i(309)]:"KVP",this[i(290)]=r.matrixIds?r.matrixIds:null,this[i(295)]=r.version?r[i(308)]:i(316),this[i(293)]=r[i(303)]?r[i(303)]:"0",this._style=r.style?r[i(296)]:i(291),this[i(340)]=r[i(317)]?r[i(317)]:i(343),this._tileMatrixSet=r[i(342)]?r[i(342)]:"c"}[Qb(319)](){return Ot[Qb(300)]}[Qb(339)](t){const e=Qb;let[r,i,n]=t[e(324)]("#");this.layerZFunc&&(n=this.layerZFunc(n,this[e(322)]));let s=this[e(299)](r,i,n);return this[e(337)](s)}[Qb(310)](t,e,r){const i=Qb;let n=r;return this[i(290)]&&this[i(290)][i(326)]>0&&(n=this[i(290)][r]),this[i(331)][i(329)](i(320),t).replace(i(336),e)[i(329)](i(301),n)}_assemblyRequestUrl(t,e,r){const i=Qb;let n=r;this[i(290)]&&this[i(290)][i(326)]>0&&(n=this[i(290)][r]);let s={layer:this[i(293)],style:this[i(330)],version:this._version,tileMatrixSet:this[i(305)],format:this[i(340)],tileMatrix:n,tileCol:t,tileRow:e};return this[i(327)].toUpperCase()===i(306)?this[i(332)](this[i(331)],s):this[i(315)](this[i(331)],s)}[Qb(332)](t,e){let r=t+Qb(312);for(let t in e)r=r+"&"+t+"="+e[t];return r}_formatREST(t,e){const r=Qb;let i=t+r(304);return i+="/"+e.version+"/"+e[r(303)]+"/"+e[r(296)]+"/"+e[r(342)]+"/"+e[r(323)]+"/"+e.tileRow+"/"+e[r(314)],i}}const rw=["weight","1523071SioaCi","4486632srLhhr","length","size","hasOwnProperty","buffer","updateView","bufferText","tolerance","getLayerType","split","_extentCollide","NEGATIVE_INFINITY","_collideFeatures","getCoordinate","_id","1743632onAYCl","layer","MVTLayer","_geometry","filterVT","1FSojWL","dealBlockData","_camera","getPixelFromCoordinate","_parser","1115300bIQLlM","anchor","VectorTileLayer","getBlockById","27997MpRCYd","POSITIVE_INFINITY","getY","_getTileRange","_circlesCollide","_collideFeaturesPBF","set","getFeatures","forEach","41101Xhqctw","veclayer","showIcon","abs","valid","47HSLbHv","getX","38lrqEPW","removeAllFeatures","collisionBox","1QNzchU","1933028pXLAhv","level","offset","map","_getPixelFromXYZ","_arrayExtentsCollide","features","_dealBlockData","getLabelFeatures","push","filterPBF","_circleAndExtentCollide","showText","_attributes","_getXYZ","extent"],iw=sw;!function(t,e){const r=sw;for(;;)try{if(971764===parseInt(r(242))*parseInt(r(256))+-parseInt(r(258))*parseInt(r(251))-parseInt(r(238))-parseInt(r(295))+parseInt(r(279))*parseInt(r(261))-parseInt(r(262))+-parseInt(r(300))*-parseInt(r(280)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(rw);class nw{constructor(t,e=2){const r=sw;this[r(296)]=t,this.map=this.layer.getMap(),this[r(263)]=0,this[r(287)]=e,this.id="CollisionLabel",this[r(296)][r(288)]()===Ot[r(240)]||this[r(296)][r(288)]()===Ot.VectorTileBinLayer?this.filter=this[r(299)]:this.layer[r(288)]()===Ot[r(297)]&&(this.filter=this[r(272)])}[iw(285)](t,e){const r=iw;this[r(252)]&&this[r(252)][r(259)](),this.set=t,this[r(263)]=e}[iw(272)](t,e){const r=iw;if(!t||t<1)return;const[i,n,s,o]=this[r(245)](this.set);for(let a=i;a<=s;a++)for(let i=n;i<=o;i++){const n=this[r(276)](a,i,this[r(263)]);let h=this[r(270)](a,i,s,o,t);h&&(this._collideFeaturesPBF(h[0],h[1]),this.dealBlockData(t,n),this[r(301)](e,n))}}[iw(299)](t,e){const r=iw;if(!t)return;const[i,n,s,o]=this[r(245)](this[r(248)]);for(let a=i;a<=s;a++)for(let i=n;i<=o;i++){const n=this._getXYZ(a,i,this[r(263)]);let h=this.getLabelFeatures(a,i,s,o,[t]);if(!h)continue;this[r(292)](h[0],h[1]);const l=t[r(241)](n);if(l&&l[r(284)]&&t._parser[r(269)](l),e){const t=e[r(241)](n);t&&t.buffer&&e[r(237)][r(269)](t)}}}getLabelFeatures(t,e,r,i,n){const s=iw;let o=this[s(276)](t,e,this[s(263)]);const a=this.getFeatures(n,o);if(a[s(281)]<1)return null;const h=[];return o=this[s(276)](t+1,e,this[s(263)]),this.getFeatures(n,o,h),o=this[s(276)](t,e+1,this[s(263)]),this[s(249)](n,o,h),o=this[s(276)](t+1,e+1,this[s(263)]),this[s(249)](n,o,h),o=this._getXYZ(t-1,e+1,this.level),this.getFeatures(n,o,h),h[s(271)](...a),[a,h]}[iw(249)](t,e,r=[]){const i=iw;for(let n=0,s=t[i(281)];n<s;n++){const s=t[n][i(241)](e);s&&r[i(271)](...s[i(268)])}return r}dealBlockData(t,e){const r=iw;if(t)for(let i=0,n=t.length;i<n;i++){const n=t[i].getBlockById(e);n&&t[i][r(237)]._dealBlockData(n)}}_getXYZ(t,e,r){const i=iw;return this[i(296)][i(276)](t,e,r)}[iw(245)](t){const e=iw;let r=Number.POSITIVE_INFINITY,i=Number[e(243)],n=Number.NEGATIVE_INFINITY,s=Number[e(291)];return t[e(250)]((t=>{const o=t[e(289)]("#");o[0]<r?r=o[0]:o[0]>n&&(n=o[0]),o[1]<i?i=o[1]:o[1]>s&&(s=o[1])})),[1*r,1*i,1*n,1*s]}[iw(292)](t,e){const r=iw;for(let i=0,n=t[r(281)];i<n;i++){const n=t[i],s=n._attributes[r(277)],o=n[r(275)][r(278)];if(!n[r(286)]||!n[r(274)])continue;const a=this[r(265)][r(303)](n[r(298)][r(293)]()),h=a[r(257)]()+s[0],l=a[r(244)]()+s[1],c=a.getX()+s[2],u=a[r(244)]()+s[3];for(let t=0,i=e[r(281)];t<i;t++){const i=e[t];if(!i[r(274)]||n[r(294)]===i[r(294)])continue;const s=i[r(275)].extent,a=i[r(275)].weight,p=this[r(265)][r(303)](i[r(298)][r(293)]()),f=p.getX()+s[0],g=p[r(244)]()+s[1],d=p.getX()+s[2],_=p[r(244)]()+s[3];this[r(290)](h,l,c,u,f,g,d,_)&&(o<=a?(n[r(274)]=!1,n[r(253)]=!1):(i[r(274)]=!1,i[r(253)]=!1))}}}[iw(247)](t,e){const r=iw;for(let i=0,n=t[r(281)];i<n;i++){const n=t[i];if(!n[r(274)]||n[r(283)](r(255))&&!n.valid)continue;const s=n[r(260)],o=n[r(278)];if(s)for(let t=0,i=e[r(281)];t<i;t++){const i=e[t];if(!i[r(274)]||i[r(283)]("valid")&&!i[r(255)]||n[r(294)]===i[r(294)])continue;const a=i[r(260)];if(!a)continue;const h=i[r(278)];this[r(267)](s,a)&&(o<h?(n[r(274)]=!1,n[r(253)]=!1):(i[r(274)]=!1,i[r(253)]=!1))}}}_extentCollide(t,e,r,i,n,s,o,a){const h=iw,l=t-this.tolerance<=o&&r+this[h(287)]>=n,c=e-this[h(287)]<=a&&i+this.tolerance>=s;return l&&c}[iw(267)](t,e){const r=iw;if(!t||!e||t[r(281)]<1||e[r(281)]<1)return!1;const i=this[r(265)][r(302)][r(266)](t[0][r(239)][0],t[0][r(239)][1],t[0][r(239)][2]),n=this[r(265)]._camera[r(266)](e[0][r(239)][0],e[0].anchor[1],e[0][r(239)][2]);for(let s=t[r(281)]-1;s>=0;s--){let o=t[s].offset,a=t[s].size;const h=i[0]+o[0],l=i[1]-o[1];let c=h-a[0]/2,u=h+a[0]/2,p=l-a[1]/2,f=l+a[1]/2;for(let t=e.length-1;t>=0;t--){let i=e[t][r(264)],s=e[t][r(282)];const o=n[0]+i[0],a=n[1]-i[1];let h=o-s[0]/2,l=o+s[0]/2,g=a-s[1]/2,d=a+s[1]/2;if(this[r(290)](c,p,u,f,h,g,l,d))return!0}}return!1}[iw(246)](t,e,r,i,n,s){const o=i-t,a=n-e,h=r+s;return h*h>o*o+a*a}[iw(273)](t,e,r,i,n,s,o){const a=iw,h=(s-i)/2,l=Math[a(254)](t-(i+h));if(l>h+r)return!1;const c=(o-n)/2,u=Math[a(254)](e-(n+c));if(u>c+r)return!1;if(l<=h||u<=c)return!0;const p=l-h,f=u-c;return p*p+f*f<=r*r}}function sw(t,e){return rw[t-=237]}const ow=["hasOwnProperty","workerPool","_extraStretch","_addLineLabels","textImg","dispatch","drawArrays","_OITMode","buffer","floor","opacity","_useWebWorker","_geoJSON","getCamera","getLineStyle","getFeatureStyle","setMap","LineWidth","extent","extra","Label_Point","addExterInfo","LinePainter","height","unitHeight","result","1DMuUts","POINT","getExtension","prepareData","showText","forEach","_filterLabel","textTexture","dbName","weight","removeAll","getFeaturesByCoord","_draw","StretchTexturePainter","geometry","lineWay","color1","updateTheme","_initIDBPromise","_layersPaintersMap","display","_updateMapData","_groupSideLength","styleUrl","showIcon","coord","_startOneRequestTask","stretchType","_fillSymbols","src","_addTexts","getBlendStatus","skyBox","LAYEREVENT_LOADEND","set","getDepthStatus","split","getCrs","event","fill","zValue","parse","_id","roadLabelLimiteAngle","length","setXYZ","/icons","pos-y.jpg","_setSkyImage","dataStore","solid","LINE","LINEAR","href","Label_Line_Mvt","textInfo","DashLine","StretchTexture","textJson","draw","bufferImage","col","Label_Icon","surfaceModel","rotate","substring","setMask","tags","redraw","dataMaxLevel","_updateData","iconUrl","baseColorGradient","_styleRuleMgr","getTileInfo","FillNoisePainter","_oitDraw","Line","_addvtLines","_maxThreads","updateStyle","images/","StretchPainter","getColor","Stretch","isOIT","signal","_addIcons","updateTexture","topStyle","iconWeight","polyText","subXYZ","instance","minY","_vaoToDeleteOnce","key","filter","neg-z.jpg","has","createObjectURL","angle","Feature","maxY","_convertFlatToCoordArr","_isOIT","ONE","_tag","fontSize","apply","string_value","hightLightFeature","getMarkerSymbols","_oitPainter","85799YMtBZg","DEPTH_BUFFER_BIT","entries","_painters","_opacity","getCenter","resourceLoaded","setFrontFace","_addvtLine","row","readFeatureFromObject","setFunc","_isBaseLayer","sort","init","lastIndexOf","setSkyImage","push","data","LAND","isBaseLayer","_collisionLabel","getTextSymbols","setSkyBox","getPainterByKey","FOG","_layerDraw","_vaoPoolCapacity","setStyle","active","getResolutions","tiles","setOpacity","STRETCH","values","30LYOSui","_getXYZ","rangeRow","_dealVtile","_painterType","FillTexturePainter","topColorGradient","stretch","delete","maxX","offset","geoExtent","addListener","POLYGON","all","getResolution","renderLabel","heightFactor","_addvtPolygons","_IDB","ready","points","_removeAll","_getSubXYZ","onload","zoom","layers","url","checkCacheSize","arrayBuffer","polygons","getStyleMap","direction","labels","status","getZoom","visibility","catch","_insertPainter","keys","setLandColor","_updateLabel","_vtGroupCache","setLabelOn","setIndex","getLayerType","getLineSymbols","getStyleByTypeLevel","abs","_vtGroupToDraw","getData","hvtCache","add","1411010NloiAC","type","removeListener","ZERO","SymbolStaticPainter","request","sprite","_mergeExtra","then","width","2ZspCiy","172917ufUdOd","Point","943412BcYdYK","surfaceStyle","raycasterIntersect","_dataMaxLevel","rangeCol","text","_dataStoreName","SDFPointTextPainterMVT","groupSideLength","removeBlockById","spriteText","xyz","FillNoise","746eKYaPK","getUnit","MAPEVENT_EXTENTCHANGED","DashLineWidth","_extraFlags","getMaxZoom","_getStyleJson","GET","read","LineString","json","499714SJKLXR","/chars.png","getBlockById","removeSkyBox","addVTile","size","updateStyleMapBySubtypes","_queryHVT","LineTextPainter","lines","FillTexture","1968rSnUxv","getRotateX","_setSkybox","resolve","get","getServerZoomByRes","_addLabel","slice","skyImage","_styleJsonPromise","useWebWorker","coordinates","clear","_labelOn","unitWidth","PROCESS_HVT","getFillSymbols","name","_updateDataWithoutMapData","blob","FillPolygon","LAYEREVENT_DATACHANGE","_getFeatureAttributes","layerUrl","neg-y.jpg","_tileBuffer","charsUrl","Polygon","pos-x.jpg","surfaceColor","_indexedDBReady","getTextureObject","_map","MAPEVENT_ROTATERESET","_enableLight","featureType","destroy","activeStatusManager","dataFormat","9043uBbgCr","EXT_color_buffer_float","resetGLStatus","bind","glHelper","features","holeIndex","Label_Line","pos-z.jpg","_taskManager","loadDone","parallelChange","_oitStretch","Label_Point_Mvt","setEnable","dealTileRequest","resource","getHitCoordinate","getMap","VECTORTILE_STYLELOADED","getWidth","addData","enableLight"],aw=hw;function hw(t,e){return ow[t-=407]}!function(t,e){const r=hw;for(;;)try{if(773425===-parseInt(r(474))*-parseInt(r(614))+-parseInt(r(537))*parseInt(r(439))+parseInt(r(538))+-parseInt(r(527))+parseInt(r(564))*-parseInt(r(663))+parseInt(r(540))+parseInt(r(575))*parseInt(r(553)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ow);class lw extends Hb{constructor(e,r,i={},n){const s=hw;super(e,r,i),this[s(736)]=null,this[s(584)]=this[s(559)](i[s(686)]),this.enableHashCode=!!i[s(637)]("enableHashCode")&&i.enableHashCode,this[s(451)]=!1!==i[s(459)],this[s(706)]=i[s(706)]?-i.roadLabelLimiteAngle:-40,this[s(415)]=500,this[s(550)]=500,this[s(416)]=400,this[s(481)]=350,this[s(685)]=i[s(548)]||1,this[s(516)]=new Map,this[s(523)]=new Set,this[s(442)]=[],this[s(682)]=new Map,this[s(649)]=new t.GeoJSON,this[s(588)]=!!i.labelOn&&i.labelOn,this[s(432)]=7,this[s(501)]=r,this[s(734)]=i[s(686)][s(728)](0,i[s(686)][s(454)]("/")),this[s(601)]=i.styleUrl[s(728)](0,i[s(686)][s(454)]("/")),this[s(543)]=i[s(732)],this[s(623)]=t.TaskManager[s(418)](),this[s(609)]=!i.hasOwnProperty(s(636))||i[s(636)],this.lineWay=s(625),this[s(626)]=[],this[s(430)]=!0===i[s(410)],this[s(644)]=Math[s(646)](i.OITMode)?Math[s(646)](i.OITMode):0,this[s(465)]=!0===this[s(430)]?this[s(739)]:this._draw,this[s(648)]=!!i[s(637)](s(585))&&i[s(585)],this.callback=n}getLayerType(){return Ot.VectorTileLayer}[aw(517)](t,e=7,r=!0){const i=aw,n=1==t;this._labelOn=n,this._tag=e,this[i(682)][i(579)](i(725))&&1==(1&e)&&(this._layersPaintersMap.get(i(725))[i(510)]=n),this._layersPaintersMap[i(579)](i(621))&&1==(e>>1&1)&&(this[i(682)][i(579)](i(621))[i(510)]=n),this[i(682)][i(579)]("Label_Point")&&1==(e>>2&1)&&(this[i(682)][i(579)]("Label_Point")[i(510)]=n),r&&this.getMap().af[i(468)]()}getLabelOn(){return this[aw(588)]}updateIcons(t,e,r=!0){const i=aw;if(this[i(734)]=t,r&&this[i(607)]){this[i(593)](),this[i(413)]();const t=this;this[i(701)][i(486)](p.LAYEREVENT_DATACHANGE,(function(r){const n=i;e&&(e(r),t[n(701)][n(529)](p[n(596)],e))}))}return this}updateChars(t,e,r=!0){const i=aw;if(this[i(601)]=t,r&&this[i(607)]){this[i(593)](),this[i(413)]();const t=this;this[i(701)].addListener(p[i(596)],(function(r){const n=i;e&&(e(r),t[n(701)][n(529)](p.LAYEREVENT_DATACHANGE,e))}))}return this}updateTexture(t){const e=aw;this[e(445)]=!1,this.textTexture=this[e(601)]+e(565),this.textJson=this[e(601)]+"/chars.json",this[e(718)]={},this.iconInfo={};const r=this;let i=0;this[e(533)]=new Tg(this[e(734)]+e(709)),this[e(533)][e(532)].then((()=>{const n=e;if(Gt[n(579)](this.gl)[n(606)](this.sprite.url,0,{min_filter:n(715)})[n(723)](this[n(533)].spriteImg,!0),i++,3===i){r[n(718)].w=r.textImg.width,r[n(718)].h=r[n(641)][n(660)];r[n(463)]("Label_Point",n(657),r[n(550)])[n(618)][n(606)](r[n(670)],0,{min_filter:n(715)}).bufferImage(r[n(641)],!0),r.resourceLoaded=!0,r[n(666)](),t&&t()}})),xg[e(579)](this[e(670)],e(594),(n=>{const s=e;r[s(641)]=new Image;let o=URL[s(425)](n);r[s(641)][s(498)]=()=>{const e=s;if(i++,3===i){r[e(718)].w=r[e(641)].width,r.textInfo.h=r[e(641)][e(660)];r.getPainterByKey("Label_Point",e(657),r[e(550)])[e(618)][e(606)](r[e(670)],0,{min_filter:e(715)})[e(723)](r.textImg,!0),r.resourceLoaded=!0,r[e(666)](),t&&t()}},r[s(641)][s(692)]=o})),xg[e(579)](this[e(721)],"json",(n=>{const s=e;if(r[s(721)]=n,r[s(718)].buffer=n[s(645)],r[s(718)][s(433)]=n[s(433)],i++,3===i){r[s(718)].w=r[s(641)][s(536)],r.textInfo.h=r[s(641)][s(660)];r[s(463)](s(657),s(657),r[s(550)])[s(618)][s(606)](r[s(670)],0,{min_filter:"LINEAR"}).bufferImage(r.textImg,!0),this.resourceLoaded=!0,this[s(666)](),t&&t()}}))}[aw(463)](t,e,r){const i=aw;if(!this[i(682)][i(579)](t)){let n;switch(e){case i(654):n=new bl(this,this[i(534)](this[i(656)],{wideSolid:0,colorI:0,offset:0}),{lineWay:this[i(678)]});break;case i(556):n=new(ef[i(659)])(this,this._mergeExtra(this[i(656)],{dash:0,wideSolid:0,colorI:0,offset:0}),{lineWay:this[i(678)]});break;case i(740):n=new bl(this,this._mergeExtra(this.extra,{colorI:0,offset:0}));break;case i(719):n=new(ef[i(659)])(this,this[i(534)](this.extra,{colorI:0,offset:0,dash:0}));break;case i(409):r=this[i(481)],n=new(ef[i(407)])(this,this[i(534)](this[i(639)],{stretch:0,colorI:0,aNormal:0,light:0}));break;case i(720):n=new(ef[i(676)])(this,this._mergeExtra(this[i(656)],{stretch:0,stretchTexture2D:0,highlight:0,aNormal:0,light:0}));break;case i(595):n=new Yu(this,this[i(534)](this[i(656)],{colorI:0}));break;case i(574):n=new(ef[i(479)])(this,this[i(534)](this[i(656)],{texture2D:0}));break;case i(552):n=new(ef[i(738)])(this,this[i(534)](this[i(656)],{fog:0,offset:0,vposition:0,noise:0}));break;case i(725):r=this[i(415)],n=new(ef[i(531)])(this,this._mergeExtra(this[i(656)],{fog:0,offset:1,sprite:0}),{drawType:i(643),blockSize:200});break;case i(621):r=this[i(416)],n=new Pl(this,this[i(534)](this[i(656)],{coordOffset:0,fog:0,texture2D:0,sdftext:0,colorI:0}),{textAtlas:this[i(721)],painterType:i(702)});break;case i(657):r=this.spriteText,n=new Ul(this,this._mergeExtra(this[i(656)],{fog:0,offset:1,sprite:0,sdftext:0,colorI:0}),{textAtlas:this[i(721)],drawType:"drawArrays"});break;case i(717):r=this[i(416)],n=new(ef[i(572)])(this,this[i(534)](this[i(656)],{fog:0,offset:1,sprite:0,sdftext:0,colorI:0}),{textAtlas:this[i(721)],drawType:"drawArrays"});break;case i(627):r=this[i(550)],n=new(ef[i(547)])(this,this[i(534)](this[i(656)],{fog:0,offset:1,sprite:0,sdftext:0,colorI:0}),{textAtlas:this[i(721)],drawType:i(643)})}this[i(682)].set(t,n),this._insertPainter(n,r);let s=new R("VectorTile_AddLayer");s[i(421)]=t,this[i(701)][i(642)](s)}return this[i(682)][i(579)](t)}[aw(559)](t){const e=aw;return new Promise((function(e,r){const i=hw;xg.get(t,i(563),(function(t){e(t)}),(function(t){r(t)}))}))[e(535)]((r=>{this[e(736)]=new Ca(r,{styleUrl:t})}))}[aw(666)](){const t=aw;if(this[t(494)]=!1,!this.resourceLoaded)return;this[t(523)].clear(),this.zoom=this[t(580)](),this[t(499)]=this[t(499)]<=this[t(543)]?this.zoom:this[t(543)],this[t(708)](this.zoom),this[t(658)]();const e=[];for(let r=0,i=this[t(600)][t(707)];r<i;r++){const i=this[t(600)][r],n=i[t(579)]("xyz"),s=i.get(t(417));if(this[t(523)].add(n),this[t(516)][t(424)](n)){const e=this._vtGroupCache[t(579)](n);this[t(516)][t(482)](n),this[t(516)][t(697)](n,e)}else{this._vtGroupCache[t(697)](n,new Set);for(let r=0,i=s[t(707)];r<i;r++){const i=s[r];e[t(456)](this[t(571)](i[t(501)],this[t(499)],n,i[t(551)]))}}}Promise[t(488)](e)[t(535)]((()=>{const e=t;!this[e(624)]&&(this._map[e(701)][e(642)](new R(p[e(696)])),this.loadDone=!0),!this[e(494)]&&(this[e(607)][e(701)].dispatch(new R(p[e(596)])),this[e(494)]=!0)})),this[t(502)]()}async[aw(629)](e,r,i,n){const s=aw;let o;return o=this._IDB&&this[s(605)]?new Promise((o=>{const a=s;this[a(493)][a(524)](this[a(546)],e)[a(535)]((s=>{const h=a;if(s[h(662)])this[h(477)](s[h(662)][h(457)],r,i,e),o();else if(this[h(648)]){let s,a=new Promise((function(t,e){s=t}));a[h(578)]=s;let l={taskType:t.WorkerTaskType[h(590)],dataUrl:e,xyz:n,useIndexedDB:!0,layerType:this[h(519)]()};this.workerPool.dispatch(l,a),a[h(535)]((()=>{const t=h;this._IDB[t(524)](this[t(546)],e)[t(535)]((n=>{const s=t;this[s(477)](n[s(662)][s(457)],r,i,e),o()}))}))}else{this[h(689)](e)[h(535)]((t=>{this._dealVtile(t,r,i,e),o()}))}}))})):new Promise((o=>{const a=s;if(this._useWebWorker){let s,h=new Promise((function(t,e){s=t}));h[a(578)]=s;let l=new URL(e)[a(716)],c={taskType:t.WorkerTaskType[a(590)],dataUrl:l,xyz:n,useIndexedDB:!1,layerType:this[a(519)]()};this[a(638)][a(642)](c,h),h[a(535)]((t=>{this[a(477)](t.data,r,i,e),o()}))}else{this[a(689)](e)[a(535)]((t=>{this[a(477)](t,r,i,e),o()}))}})),o}[aw(689)](e){return new Promise(((r,i)=>{const n=hw;fetch(e,{signal:this[n(411)],mode:"cors",method:n(560)})[n(535)]((t=>{const e=n;if(200===t[e(508)])return t[e(503)]()}))[n(535)]((i=>{const s=n;let o;o=this[s(519)]()===Ot.MVTLayer?i:t.Hvt.read(i),this[s(493)]&&this[s(493)][s(635)](this[s(546)],{data:o,url:e}),r(o)}))[n(511)]((t=>{}))}))}async[aw(571)](t,e,r,i){return this[aw(629)](t,e,r,i)}[aw(477)](e,r,i){const n=aw;e&&this._vtGroupCache[n(579)](i)&&(e instanceof ArrayBuffer&&(e=t.Hvt[n(561)](e)),this[n(568)](e,r,i),e[n(507)]&&this[n(581)](e[n(507)],i,r))}_addLabel(t,e,r){const i=aw;this[i(507)]=JSON[i(704)](t),this[i(490)](e,r),this._filterLabel()}[aw(490)](t,e){const r=aw,i=this[r(507)];i[r(495)][r(707)]>0&&this[r(412)](i[r(495)],t,e),i.lines.length>0&&this[r(640)](i[r(573)],t,e),i[r(504)][r(707)]>0&&this._addTexts(i[r(504)],t,e)}_addIcons(t,e,r){const i=aw;for(let n=0;n<t.length;n++){const s=t[n];if(!s)continue;const o={featureType:s[i(610)],extent:s[i(655)],text:s[i(545)],offset:s.offset,weight:s[i(672)]},a={type:i(427),geometry:{type:i(539),coordinates:s.coord},properties:o};a.id=s.id;const h=this[i(649)][i(449)](a);h[i(667)]=!0,h.showIcon=!0;const l=this._styleRuleMgr[i(521)](s.featureType,r);if(!l)continue;h[i(467)](l),h[i(501)]=e;const c=l[i(437)]()[0],u=l[i(461)]()[0];if(u&&u[i(683)]){const t=i(657),r=i(657);this[i(516)][i(579)](e).add(t);this.getPainterByKey(t,r,400).add(h)}if(c&&c[i(683)]){const t=i(725),r=i(725);this[i(516)].get(e).add(t);this[i(463)](t,r,500)[i(526)](h)}}}[aw(693)](t,e,r){const i=aw;for(let n=0;n<t.length;n++){const s=t[n];if(s[i(688)][2]=0,void 0!==s[i(703)]){let t=(4*s.zValue+10)*this.heightFactor;s[i(688)][2]=t}if(!s)continue;const o={extent:s[i(655)],text:s[i(545)],offset:s[i(484)],weight:s[i(672)]},a={type:i(427),geometry:{type:i(539),coordinates:s.coord},properties:o};a.id=s.id;const h=this[i(649)][i(449)](a);h[i(667)]=!0,h[i(687)]=!0;const l=this[i(736)][i(521)](s[i(610)],r);if(!l)continue;h[i(467)](l),h[i(501)]=e;const c="Label_Point",u=i(657);this[i(516)][i(579)](e).add(c);this.getPainterByKey(c,u,400).add(h)}}[aw(640)](t,e,r){const i=aw;for(let n=0;n<t[i(707)];n++){const s=t[n],o={extent:s.extent,text:s[i(545)],offset:s[i(484)],angle:s[i(727)],weight:s.weight},a={type:i(427),geometry:{type:i(539),coordinates:s.coord},properties:o},h=this[i(649)][i(449)](a);h[i(667)]=!0,h[i(687)]=!0;const l=this[i(736)][i(521)](s[i(610)],r);if(!l)continue;h[i(467)](l),h[i(501)]=e;const c=i(621),u=i(621);this[i(516)][i(579)](e)[i(526)](c);this[i(463)](c,u,h.weight)[i(526)](h)}}[aw(568)](t,e,r){const i=aw,n=t[i(500)];this[i(557)]={featureType:{POINT:1,LINE:2,POLYGON:3}};const s=this[i(557)][i(610)];for(let t=n[i(707)]-1;t>=0;t--){const o=n[t].features,a=n[t][i(513)],h=n[t][i(473)];let l=n[t][i(592)];const c=this[i(736)][i(521)](n[t].name,e);if(c&&o[i(707)]>0){switch(o[0][i(528)]){case s[i(664)]:break;case s[i(714)]:this[i(741)](o,c,a,h,l,r);break;case s[i(487)]:this[i(492)](o,c,a,h,r,l)}}}return[]}[aw(741)](e,r,i,n,s,o){const a=aw,h=r[a(520)]();for(let r=h.length-1;r>=0;r--){let l=h[r];if(!l[a(683)])continue;const c=l[a(634)](),u=l[a(651)](),p=new t.Style({lineSymbols:[l]});let f,g;g=c>1?u===a(713)?"LineWidth":a(556):"solid"===u?"Line":a(719);const d=s+"_"+g;this[a(516)][a(579)](o).add(d);const _=l[a(672)];f=this[a(463)](d,g,_);for(let t=0,r=e.length;t<r;t++){const r=e[t];this._addvtLine(f,r,p,o,i,n)}}}[aw(447)](t,e,r,i,n,s){const o=aw,a=this[o(597)](e,n,s),h={type:o(427),geometry:{type:o(562),coordinates:[]},properties:a};h[o(677)][o(586)]=this._convertFlatToCoordArr(e.geometry),h.id=e.id,(e=this._geoJSON[o(449)](h))[o(467)](r),e[o(501)]=i,t[o(526)](e,!1)}[aw(492)](e,r,i,n,s,o){const a=aw,h=r[a(591)]();let l=h[0];if(h.length>1&&(l=h[1]),l){if(!l[a(683)])return;const h=l.weight;for(let c=0,u=e[a(707)];c<u;c++){const u=e[c],p=this[a(597)](u,i,n),f={type:a(427),geometry:{type:a(602),coordinates:[]},properties:p},g=u.geometry,d=u[a(620)];if(0==d[a(707)])f[a(677)][a(586)][a(456)](this[a(429)](g));else{f[a(677)][a(586)][a(456)](this[a(429)](g.slice(0,3*d[0])));const t=d.length-2;for(let e=0;e<t;e++){const t=3*d[e],r=3*d[e+1];f[a(677)][a(586)][a(456)](this._convertFlatToCoordArr(g[a(582)](t,r)))}f[a(677)].coordinates.push(this._convertFlatToCoordArr(g[a(582)](3*d[t+1])))}f.id=u.id;const _=this[a(649)][a(449)](f);let y;if(_.setStyle(r),_[a(501)]=s,r[a(690)]&&p[a(637)](a(646))&&p[a(646)]>0){p.height=4*p.floor;let e=r[a(591)]();if(1==e[a(707)]){let t=r[a(591)]()[0][a(408)](),e=r[a(591)]()[0][a(679)];e?(p[a(735)]=t,p[a(480)]=e,p[a(726)]="gradient"):(p[a(604)]=t,p[a(726)]="single"),y="Stretch"}else{let i=this[a(607)]&&"m"===this[a(607)].getCrs()[a(554)]()?111e3:1,n=new t.Style({fillSymbols:[r[a(591)]()[1]]});p.topStyle=n,p[a(414)][a(591)]()[0].unitHeight=36e-6*i,p[a(414)][a(591)]()[0][a(589)]=36e-6*i,p[a(541)]=2==e[a(707)]?n:new t.Style({fillSymbols:[r[a(591)]()[2]]}),p[a(541)][a(591)]()[0][a(661)]=36e-6*i,p.surfaceStyle.getFillSymbols()[0][a(589)]=36e-6*i,y=a(720)}}else if(l instanceof t.TextureFill){let e=l;e[a(506)]=a(426)in p?-180*p.angle/Math.PI:0,r=new t.Style({fillSymbols:[e]}),_[a(467)](r),y=a(574)}else y=r[a(691)][0]instanceof t.NoiseFill?"FillNoise":a(595);_[a(478)]=t.painterType[a(472)];const m=o+"_"+y;this[a(516)].get(s)[a(526)](m);this[a(463)](m,y,h)[a(526)](_,!1)}}}[aw(475)](t,e,r){return t+"#"+e+"#"+r}_convertFlatToCoordArr(t){const e=[];for(let r=0,i=t.length/3;r<i;r++)e[r]=[t[3*r],t[3*r+1],t[3*r+2]];return e}[aw(597)](t,e,r){const i=aw,n=t[i(730)],s={};for(let t=0,o=n[i(707)]/2;t<o;t++){s[e[n[2*t]]]=r[n[2*t+1]][i(435)]}return s}[aw(469)](){return this[aw(632)]().getResolutions()}[aw(489)](){const t=aw;return this[t(632)]()[t(489)]()}[aw(743)](t,e=null){const r=aw;this[r(584)]=this[r(559)](t);const i=this;this[r(584)][r(535)]((function(){i[r(733)](),i.redraw(0),e&&e()}))}[aw(680)](t,e=null){const r=aw;this[r(584)]=this._getStyleJson(t),this.iconUrl=t[r(728)](0,t.lastIndexOf("/")),this.charsUrl=t.substring(0,t[r(454)]("/"));const i=this;this[r(584)][r(535)]((function(){const t=r;i[t(413)]((function(){const r=t;i[r(733)](),i[r(607)].af.active(),e&&e()}))}))}[aw(733)](){const t=aw;this[t(684)](),this[t(593)]()}_updateDataWithoutMapData(){const t=aw;for(let[e,r]of this._vtGroupCache[t(441)]()){for(let e of r[t(513)]())this[t(682)][t(579)](e)[t(496)]();this[t(516)][t(482)](e)}}updateStatusBySubType(t,e=0){}updatePointStatusByFid(t,e=1){}[aw(570)](t,e,r){}[aw(467)](t,e){}[aw(652)](){}[aw(436)](t){}pickFeatureByPixel(t){}[aw(674)](t){}setTileUrl(t){const e=aw,[r,i,n]=t[e(699)]("#");let s="";return s=this[e(613)]?""+this.layerUrl+n+"/"+r+"/"+i+"."+this[e(613)]:""+this[e(598)]+n+"/"+r+"/"+i,s}[aw(684)](){const t=aw,e=this[t(736)][t(505)]();if(!e[t(424)](t(464)))return;const r=e[t(579)](t(464)).getFillSymbols()[0];if(r[t(695)])this[t(577)](r[t(695)]);else if(r[t(583)])this[t(711)](r[t(583)]);else{const r=e[t(579)](t(464))[t(591)]()[0].getColor();this[t(607)].removeSkyBox(),this[t(607)][t(455)](null),this._map.setFogColor(r)}const i=e[t(579)](t(458))[t(591)]()[0][t(408)]();this[t(607)][t(514)](i)}[aw(711)](t){const e=aw;let r=t[0];this[e(607)]&&(this._map[e(567)](),this[e(607)][e(455)](r),this[e(607)].af.active())}[aw(577)](e){const r=aw;if(!(e instanceof Array))return;let i;if(1==e[r(707)]){let n=e[0];if(!t.initState[r(630)])throw"field 'resource' of 'hmap.initState' must be set before using default skybox!.";let s=t.initState.resource+r(744)+n+"/";i=[s+r(603),s+"neg-x.jpg",s+r(710),s+r(599),s+r(622),s+r(423)]}else 6==e.length&&(i=e);this._map&&(this[r(607)][r(462)](i),this[r(607)].af[r(468)]())}[aw(653)](t){const e=aw;super[e(653)](t),this.updateTexture(),this[e(460)]=new nw(this),this._map.event[e(486)](p.MAPEVENT_ROTATING,this[e(669)].bind(this)),this[e(607)][e(701)].addListener(p.MAPEVENT_ZOOMING,this[e(669)][e(617)](this)),this._map[e(701)][e(486)](p[e(608)],this[e(669)].bind(this)),this[e(607)][e(701)].addListener(p[e(555)],this[e(669)][e(617)](this)),this[e(656)]=this._layerExtra(),"m"===t[e(700)]().getUnit()?this[e(491)]=1:this[e(491)]=1/111e3,this[e(584)][e(535)]((()=>{const t=e;this[t(733)]();let r=new R(p[t(633)]);this[t(701)][t(642)](r),this[t(731)](0)})),this._dataMaxLevel=this[e(543)]||this[e(607)][e(558)](),this._extraStretch=this.extra,this[e(430)]&&(this[e(438)]=new ru(this),this.gl[e(665)](e(615)),this[e(639)]=this._layerExtra({oit:this[e(644)]})),this._useWebWorker&&(this.workerPool=new vb(t[e(742)]))}[aw(669)](){const t=aw;if(!this[t(607)])return;this.id=this[t(705)],this.doTask=1;const e=this;this[t(623)].addFilterTask(this._collisionLabel,(function(r){e[t(515)]()}),this),this[t(607)].af.active()}[aw(515)](){const t=aw;this[t(460)].updateView(this[t(523)],this[t(607)][t(509)]()),this[t(460)][t(422)](this._layersPaintersMap[t(579)](t(657)),this[t(682)][t(579)](t(725)))}[aw(722)](){const t=aw,e=this[t(607)];if(!e)return;this.gl[t(587)](this.gl[t(440)]);const r=e[t(650)](),i=Math[t(522)](r[t(576)]()),n=this.getCullFaceStatus();i>90&&n[t(446)]("CW"),super[t(722)](),this[t(465)](),i>90&&n[t(446)]("CCW")}[aw(675)](){const t=aw;this.setLabelOn(this[t(588)],this[t(432)],!1),super.draw();const e=this[t(607)][t(650)]()[t(576)]();if(Math[t(522)](e)<=90)for(let e=0,r=this[t(442)][t(707)];e<r;e++){const r=this[t(442)][e];r[t(510)]&&(this[t(698)]().setEnable(!1),(r instanceof gc||r instanceof bc)&&this.getDepthStatus()[t(628)](!0),this.getDepthStatus().active(this.gl),r[t(722)](this[t(523)]))}else for(let e=this[t(442)].length-1;e>-1;e--){const r=this[t(442)][e];r[t(510)]&&(this[t(698)]()[t(628)](!1),(r instanceof ef[t(407)]||r instanceof ef[t(676)])&&this[t(698)]()[t(628)](!0),this[t(698)]()[t(468)](this.gl),r[t(722)](this[t(523)]))}this.gl[t(587)](this.gl[t(440)])}[aw(739)](){const t=aw;this.setLabelOn(this[t(588)],this[t(432)],!1),this[t(698)]()[t(628)](!1),super[t(722)]();for(let e=0,r=this._painters[t(707)];e<r;e++){const r=this[t(442)][e];if(r[t(510)]){if(r instanceof gc)continue;this[t(698)]()[t(468)](this.gl),r.draw(this[t(523)])}}this.gl.clear(this.gl[t(440)]),this.getDepthStatus()[t(729)](!1),this.getBlendStatus()[t(628)](!0),this[t(694)]()[t(450)]({rbgSrcFactor:nt[t(431)],rgbDstFactor:nt[t(431)],alphaSrcFactor:nt[t(530)],alphaDstFactor:nt.ONE_MINUS_SRC_ALPHA}),this[t(612)](this.gl);for(let e=0,r=this[t(626)].length;e<r;e++){const r=this[t(626)][e];r[t(510)]&&r[t(722)](this[t(523)])}this[t(616)](),this.activeStatusManager(this.gl)}[aw(502)](){const t=aw;if(this._vtGroupCache[t(569)]<this[t(466)])return;let e=0;for(let[r,i]of this[t(516)][t(441)]()){for(let e of i.keys()){this[t(682)][t(579)](e)[t(549)](r)}if(this[t(516)][t(482)](r),++e===this[t(420)])break}}[aw(512)](t,e){const r=aw;t[r(672)]=e,this[r(442)][r(456)](t),this[r(442)][r(452)](((t,e)=>{const i=r;return t[i(672)]-e[i(672)]})),e===this[r(481)]&&this[r(626)][r(456)](t)}[aw(542)](t){const e=aw,r=[],i=t[e(631)](),n=this[e(737)](i);if(!n)return r;let[s,o,a]=[1*n[e(724)],1*n[e(448)],this[e(499)]];this[e(685)]>1&&(s=Math[e(646)](s/this[e(685)]),o=Math[e(646)](o/this[e(685)]));const h=this[e(475)](s,o,a);this._layersPaintersMap[e(668)](((t,i)=>{const n=e;if(i===n(657)||"Label_Icon"===i)return;const s=t[n(566)](h);s&&r[n(456)][n(434)](r,s[n(619)])}));const l=this._layersPaintersMap[e(579)](e(657));if(l){let t=h,c=null;c=l[e(566)](t),c&&r[e(456)].apply(r,c[e(619)]);const u=n[e(485)][e(444)]();u._x<i._x?u._y<i._y?(t=this[e(475)](s+1,o,a),c=l[e(566)](t),c&&r[e(456)][e(434)](r,c[e(619)]),t=this[e(475)](s,o-1,a),c=l.getBlockById(t),c&&r[e(456)][e(434)](r,c[e(619)]),t=this._getXYZ(s+1,o-1,a),c=l[e(566)](t),c&&r[e(456)][e(434)](r,c[e(619)])):(t=this[e(475)](s+1,o,a),c=l.getBlockById(t),c&&r[e(456)][e(434)](r,c[e(619)]),t=this._getXYZ(s,o+1,a),c=l.getBlockById(t),c&&r.push[e(434)](r,c[e(619)]),t=this[e(475)](s+1,o+1,a),c=l[e(566)](t),c&&r[e(456)][e(434)](r,c[e(619)])):u._y<i._y?(t=this[e(475)](s-1,o,a),c=l[e(566)](t),c&&r.push.apply(r,c.features),t=this[e(475)](s,o-1,a),c=l[e(566)](t),c&&r[e(456)][e(434)](r,c[e(619)]),t=this[e(475)](s-1,o-1,a),c=l[e(566)](t),c&&r[e(456)][e(434)](r,c[e(619)])):(t=this[e(475)](s-1,o,a),c=l[e(566)](t),c&&r[e(456)].apply(r,c.features),t=this[e(475)](s,o+1,a),c=l[e(566)](t),c&&r.push[e(434)](r,c.features),t=this[e(475)](s-1,o+1,a),c=l[e(566)](t),c&&r.push[e(434)](r,c.features))}return r}[aw(471)](t=1){const e=aw;this[e(443)]=t;for(let t of this[e(682)][e(473)]())t[e(647)]=this[e(443)];this[e(731)]()}[aw(708)](t){const e=aw;this._tileBuffer=[];const r=this[e(476)](t),i=this[e(544)](t);for(let n=i[e(483)]-1;n>=i.minX;n--)for(let i=r[e(428)]-1;i>=r[e(419)];i--){let r=new Map,{subXYZ:s}=this[e(497)](n,i,t);r.set(e(551),this[e(475)](n,i,t)),r[e(697)](e(417),s),this[e(600)][this._tileBuffer.length]=r}}destroy(){const t=aw;for(let e=this._painters[t(707)]-1;e>-1;e--)this[t(442)][e][t(673)]();super[t(611)]()}_initIndexDB(){const e=aw;this[e(671)]=e(525),this._dataStoreName=e(470),this[e(681)]=new Promise(((r,i)=>{const n=e;this.dataStore=new t.DataStore(this[n(546)],{keyPath:"url",autoIncrement:!1}),this[n(712)][n(518)](n(501),n(501),{unique:!0}),this[n(493)]=new t.IndexedDB(this.dbName,1,{storeList:[this[n(712)]]}),this[n(493)][n(453)]()[n(535)]((t=>{this[n(605)]=!0,r(t)}))[n(511)]((t=>{i(t)}))}))}}const cw=["_handleLineFeature","evaluationProcedure","direction","addSimple","push","split","intersects","cost","getFontSize","addListener","labelPlace","handleViewZoom","segmentLink","length","constructor","normal","charCodeAt","segmentLength","prev","set","calcLabelLength","abs","handleViewRotate","handleViewMove","_length","corner is null","labelPosition","a_position","dealRotate","dispatch","calcRenderData","_zoomin","unshift","showLabel","LAYEREVENT_DATACHANGE","getCoordinate","_owner","_data","getCoordCount","_visible","shift","shrink","zoomType","_dealBlockData","slice","342307wYQmmb","_reverseVertices","_bbox","_taskManager","POSITIVE_INFINITY","getStyle","pop","segmentsLink","index","parser","placement","_dealTextRotateFromEvent","dealMove","renderData","bind","features","labelText","segments","_parser","getResolution","angle","10JrCwUG","dataMap","resetAngle","_nextCorner","getTextSymbols","refresh","1846478ElTNgx","start","zoomin","invalid","bufferLabel","taskManager","a_positionL","_zoomout","end","doTask","sqrt","_dealBendCorner","_blocks","next","initCost","_map","dealZoom","join","2042PeUgyd","_calcLabelDirection","map","513661fYYaYU","651246zaBCmb","warn","getGeometry","expand","reverse","event","168869yblAog","getRotateZ","253080DatCoK","MAPEVENT_ROTATEEND","labelAngel","getExtent","lineTextPainter","acos"];function uw(t,e){return cw[t-=214]}const pw=uw;!function(t,e){const r=uw;for(;;)try{if(443895===-parseInt(r(316))-parseInt(r(267))+parseInt(r(216))+-parseInt(r(312))*-parseInt(r(288))+-parseInt(r(214))+-parseInt(r(315))+parseInt(r(294)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(cw);class fw{constructor(t,e){const r=uw;this[r(295)]=t,this[r(302)]=e,this[r(307)]=null,this.prev=null,this[r(235)]=this[r(246)](),this[r(287)]=0;let i=this[r(302)]._x-this.start._x,n=this.end._y-this[r(295)]._y;const s=Math.sqrt(i*i+n*n);i/=s,n/=s,this[r(224)]=[i,n],this.normal=[-n,i]}_length(){const t=uw,e=this[t(295)]._x-this[t(302)]._x,r=this[t(295)]._y-this[t(302)]._y;return Math[t(304)](e*e+r*r)}[pw(290)](){const t=pw;if(!this.next)return;let e=this.start,r=this[t(302)],i=this.next[t(302)],n=r._x-e._x,s=r._y-e._y,o=i._x-r._x,a=i._y-r._y;const h=n*o+s*a,l=Math.sqrt((n*n+s*s)*(o*o+a*a));this[t(287)]=Math.abs(180*Math[t(221)](h/l)/3.1415926)}}class gw{constructor(t,e,r){const i=pw;this[i(284)]=t,this[i(229)]=e,this[i(235)]=r,this[i(280)]=[]}[pw(263)](t){const e=pw;let r,i;for(;this[e(235)]>t&&this[e(284)][e(235)]>2;)r=this[e(284)][this[e(284)][e(235)]-1],i=this[e(284)][0],r&&(this[e(284)][e(273)](),this.length-=r[e(235)],this.cost-=r[e(240)].cost),i&&(this[e(284)][e(262)](),this[e(235)]-=i.length,this[e(229)]-=i[e(229)]);return i&&(this[e(284)][e(254)](i),this[e(235)]+=i[e(235)],this[e(229)]+=i[e(229)]),r&&(this[e(284)][e(226)](r),this[e(235)]+=r[e(235)],this[e(229)]+=r.prev[e(229)]),this}[pw(319)](t){const e=pw;let r=!1;for(;this[e(235)]<t&&!r&&this[e(284)].length>1;){const i=this.segments[0][e(240)];i&&(this.segments[e(254)](i),this[e(235)]+=i[e(235)],this[e(229)]+=i[e(229)]);const n=this[e(284)][this[e(284)][e(235)]-1][e(307)];if(n&&(this[e(284)].push(n),this[e(235)]+=n[e(235)],this[e(229)]+=n[e(240)][e(229)]),!i&&!n&&(r=!0,this[e(235)]<t))return null}return this[e(235)]<t?null:this}}class dw{constructor(t){const e=pw;this.id=this[e(236)].name,this[e(220)]=t,this.parser=t[e(285)],this.map=this[e(220)][e(258)][e(309)],this.taskManager=this[e(220)][e(270)],this.map[e(321)][e(231)](p.MAPEVENT_ZOOMING,this[e(233)].bind(this)),this[e(314)].event[e(231)](p[e(217)],this[e(244)].bind(this)),this[e(314)].event[e(231)](p.MAPEVENT_MOVEEND,this[e(245)][e(281)](this))}handleViewMove(){const t=pw,e=this[t(314)].getExtent(),r=this.map[t(286)](),i=this[t(220)][t(306)];for(let[n,s]of i){let i=[s,e,r];i[t(303)]=1,i.id=s.id,this[t(299)].addSimple(this,this[t(279)],i)}this[t(314)][t(321)][t(251)](new ch(p[t(256)]))}[pw(244)](){const t=pw,e=this[t(314)]._camera[t(215)](),r=this[t(314)][t(219)](),i=this[t(220)][t(306)];for(let[n,s]of i){let i=[s,r,e];i[t(303)]=1,i.id=s.id,this[t(299)].addSimple(this,this[t(250)],i)}this[t(314)][t(321)][t(251)](new ch(p.LAYEREVENT_DATACHANGE))}[pw(233)](t){const e=pw,r=t[e(259)][e(264)],i=this[e(314)][e(286)](),n=this.map[e(219)](),s=this[e(220)][e(306)];for(let[t,o]of s){let t=[r,o,i,n];t[e(303)]=1,t.id=o.id,this[e(299)][e(225)](this,this[e(310)],t)}this[e(314)].event[e(251)](new ch(p[e(256)]))}dealMove(t){const e=pw;t[e(303)]=0;const r=t[0],i=t[1],n=t[2];let s=r[e(282)];for(let t=s[e(235)]-1;t>=0;t--){const r=s[t];!r[e(297)]&&r[e(261)]&&r[e(318)]()[e(269)][e(219)]()[e(228)](i,!1)?r[e(298)]&&r[e(318)]()[e(277)]||(r[e(298)]=this[e(276)][e(289)],!this[e(276)]._handleLineFeature(r,r[e(272)]()[e(292)]()[0],n)&&(r.bufferLabel=null)):r.bufferLabel=null}this[e(276)][e(265)](r)}dealRotate(t){const e=pw;t[e(303)]=0;const r=t[0],i=t[1],n=t[2];let s=r.features;for(let t=s[e(235)]-1;t>=0;t--){const r=s[t];if(r[e(297)]||!r[e(261)]||!r.getGeometry()[e(269)][e(219)]()[e(228)](i,!1)||!r[e(298)]){r[e(298)]=null;continue}let o=r[e(318)]()[e(277)],a=this[e(278)](o,n);r[e(298)].set(e(249),a),r[e(298)][e(241)]("a_positionL",[])}this[e(276)]._dealBlockData(r)}dealZoom(t){const e=pw;t[e(303)]=0;const r=t[0],i=t[1],n=t[2],s=t[3];let o=i[e(282)];for(let t=o[e(235)]-1;t>=0;t--){const i=o[t];if(i.invalid||!i[e(261)]||!i[e(318)]()._bbox[e(219)]().intersects(s,!1)){i[e(298)]=null;continue}const a=i[e(272)]()[e(292)]()[0],h=a[e(230)]()*n,l=i[e(283)],c=this.calcLabelLength(l,h);r===e(296)?this[e(253)](i,a,h,c,l,n):this[e(301)](i,a,h,c,l,n)}this.parser._dealBlockData(i)}_zoomin(t,e,r,i,n,s){const o=pw;t[o(255)]=!0;const a=t[o(318)]();if(a[o(277)]&&t[o(298)]){const e=a[o(277)].shrink(i);a[o(277)]=e;let s=this[o(232)](e,r,n,i);if(!s)return void(t[o(298)]=null);t[o(298)][o(241)](o(249),s[0]),t[o(298)][o(241)](o(275),s[1]),t.bufferLabel[o(241)](o(300),[])}else t.bufferLabel=this.parser[o(289)],!this[o(276)][o(222)](t,e,s)&&(t[o(298)]=null)}[pw(301)](t,e,r,i,n,s){const o=pw;t[o(255)]=!0;const a=t[o(318)]();if(a[o(277)]&&t.bufferLabel){const e=a.placement.expand(i);if(!e)return a[o(277)]=null,void(t[o(298)]=null);let s=this[o(232)](e,r,n,i);if(!s)return void(t[o(298)]=null);t[o(298)].set(o(249),s[0]),t.bufferLabel[o(241)](o(275),s[1]),t[o(298)][o(241)]("a_positionL",[])}else t[o(298)]=this[o(276)][o(289)],!this[o(276)]._handleLineFeature(t,e,s)&&(t[o(255)]=!1,t[o(298)]=null)}[pw(252)](t,e,r,i){const n=pw,s=e[n(230)]()*i,o=this[n(242)](r,s),a=.57*s;let h=this[n(223)](t,o,a);return h?(t.placement=h,this.labelPlace(h,s,r,o)):null}[pw(242)](t,e){const r=pw;let i=0,n=0;for(let e=t[r(235)]-1;e>=0;e--)t[r(238)](e)<255?i++:n++;return i*e/2+n*e}labelPosition(t,e,r,i){const n=pw,s=r.length;let o=(t[n(235)]-i)/2;o=o>=0?o:0;let a=[],h=[];const l=t[n(284)];if(l[n(235)]<1)return null;let c=l[0],u=c[n(235)]-o;for(;u<0;)c=c[n(307)],u+=c[n(235)];let p=0,f=e;for(let t=0;t<s;t++){p=r[t][n(238)](0)<255?e/2:e;let i=this._nextCorner(c[n(295)],c.direction,c[n(235)]-u);if(u<p){if(!c[n(307)])return null;let t=this[n(305)](i,c.next,p);for(c=c[n(307)];!t&&c[n(307)];)c=c[n(307)],t=this[n(305)](i,c,p);let e=0,r=0,s=0;if(t){e=t._x-i._x,r=t._y-i._y;const o=Math[n(304)](e*e+r*r);e/=o,r/=o;const a=t._x-c[n(295)]._x,h=t._y-c[n(295)]._y;s=Math[n(304)](a*a+h*h)}else[e,r]=c[n(224)];let o=this._nextCorner(i,[r,-e],.5*f);a.push(o._x,o._y,0);let h=this._nextCorner(o,[e,r],p);a[n(226)](h._x,h._y,0);let l=this[n(291)](h,[-r,e],f);a[n(226)](l._x,l._y,0);let g=this[n(291)](i,[-r,e],.5*f);a[n(226)](g._x,g._y,0),u=c[n(235)]-s}else{const t=c.normal[0],e=c[n(237)][1];let r=this[n(291)](i,[-t,-e],f/2);a.push(r._x,r._y,0);let s=this._nextCorner(r,c[n(224)],p);a[n(226)](s._x,s._y,0);let o=this[n(291)](s,[t,e],f);a[n(226)](o._x,o._y,0);let h=this[n(291)](i,[t,e],f/2);a[n(226)](h._x,h._y,0),u-=p}const s=4*t;h.push(s,s+1,s+3,s+1,s+2,s+3)}return[a,h]}[pw(232)](t,e,r,i){const n=pw,s=this.map._camera[n(215)]();let[o,a]=this[n(248)](t,e,r,i),[h,l]=this[n(248)](t,e,r[n(227)]("")[n(320)]()[n(311)](""),i),c=this[n(313)](t,o);t[n(218)]=c,h=this._reverseVertices(h),t.renderData=[h,l,o,a];const u=Math[n(243)](t[n(218)]+s)%360;return u>=90&&u<270?[t[n(280)][0],t[n(280)][1]]:[t[n(280)][2],t[n(280)][3]]}[pw(313)](t,e){const r=pw,i=e[r(235)]/12;let n,s,o,a;12===i?(n=e[0],s=e[1],o=e[3],a=e[4]):(n=e[0],s=e[1],o=e[12*(i-1)],a=e[12*(i-1)+1]);let h=a-s,l=o-n,c=180/Math.PI*Math[r(221)](l/Math[r(304)](l*l+h*h));return h<0&&(c=360-c),c}[pw(278)](t,e=0){const r=pw;let i=t[r(218)];const n=Math[r(243)](i+e)%360;return-1===(n>=90&&n<270?-1:1)?t[r(280)][0]:t[r(280)][2]}[pw(268)](t){const e=pw,r=[];for(let i=0,n=t[e(235)];i<n;i+=12)r[e(254)](...t.slice(i,i+6)),r[e(254)](...t[e(266)](i+6,i+12));return r}[pw(305)](t,e,r){const i=pw,n=e[i(295)]._x-t._x,s=e[i(295)]._y-t._y,o=e[i(302)]._x-e[i(295)]._x,a=e[i(302)]._y-e[i(295)]._y,h=1e4*(o*o+a*a),l=2*(n*o+s*a)*1e4,c=l*l-4*h*(1e4*(n*n+s*s-r*r));let u;if(c>0){let t=-l/(2*h),e=Math[i(304)](c)/(2*h),r=t+e,n=t-e;u=r>0?r:n}else{if(0!==c)return console[i(317)](""),null;u=-.5*l/h}return u<0||u>1?null:{_x:e[i(295)]._x+u*o,_y:e[i(295)]._y+u*a}}_nextCorner(t,e,r){const i=pw;null===t&&console[i(317)](i(247));const n=t._x,s=t._y;return{_x:n+e[0]*r,_y:s+e[1]*r}}[pw(274)](t){const e=pw,r=[],i=t.getCoordSeq();let n=null,s=0;for(let t=0,o=i[e(260)]();t<o-1;t++){let o=i[e(257)](t),a=i.getCoordinate(t+1),h=new fw(o,a);h.prev=n,n&&(n[e(307)]=h,n.resetAngle()),s+=h[e(235)],r[e(226)](h),n=h}return t[e(234)]=r,t[e(239)]=s,r}[pw(223)](t,e,r){const i=pw,n=t.segmentLink;let s,o=Number[i(271)],a=0;for(;a<n[i(235)];){const t=this[i(293)](a,n,e,r,90);t&&t[0]&&o>t[0][i(229)]&&(o=t[0][i(229)],s=t[0]),a=t[1]+1}return s}refresh(t,e,r,i,n){const s=pw;let o=[e[t]];if(e[t][s(235)]>r)return[new gw(o,e[t][s(229)],e[t][s(235)]),t];let a=e[t][s(229)],h=e[t].length;for(let i=t+1,l=e[s(235)];i<l;i++){if(e[i-1][s(287)]>n)return[null,i-1];if(a+=e[i-1].angle*e[i-1].angle,h+=e[i][s(235)],o[s(226)](e[i]),h>r)return[new gw(o,a,h),t]}return[null,t]}[pw(308)](t,e){const r=pw,i=e/2;for(let e=t[r(235)]-1;e>=0;e--){const n=t[e];let s=n,o=n[r(235)]/2;for(;s[r(240)];)o+=s[r(240)].length,s=s.prev;let a=o>i?o-i:i-o;n.cost=a/i*(a/i)*100}}_segmentLength(t,e,r){const i=pw;let n=e,s=0,o=0;for(;n<=r;)s+=t[n][i(235)],o+=t[n][i(229)],n++;return o-=t[r][i(229)],[s,o]}}const _w=["_visible","no valid text","opacity","390059talPNp","_owner","mode","trim","a_size","_initLineLink","getExtent","_initGeomertyLink","getStyle","_precisionCorrect","406264wSoGdh","getLine","getTextSymbols","indexOf","get","set","getText","bgColor","1325145nkYtEu","features","_initRenderData","_getTextData","calcRenderData","owner","a_bgColor","207082WmFolQ","segmentsLink","a_position","resolution","haloColor","substring","textureCoord","_dealBlockData","drawCount","1CQFAkL","dataMap","warn","1344778OStofd","bufferToGPU","10057zCVDOT","_map","getGeometry","50HxnYuT","_handleLineFeature","fontColor","segmentLength","size","showLabel","length","_appendBlockData","mapExtent","_bbox","initCost","getResolution","_atlas","handleBlock","atlas","invalid","bufferLabel","a_haloColor","no valid TextSymbol","getAttributes","_labelPlacement","301751QykOEq","haloWidth","segmentLink","a_fontColor","intersects","_appendData"],yw=Iw;!function(t,e){const r=Iw;for(;;)try{if(975845===-parseInt(r(441))+parseInt(r(494))+-parseInt(r(486))+-parseInt(r(438))*-parseInt(r(476))+parseInt(r(501))+-parseInt(r(443))*-parseInt(r(446))+parseInt(r(467)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_w);class mw extends bh{constructor(t,e={}){const r=Iw;super(t,e),this[r(458)]=e[r(460)]}[yw(459)](t){const e=yw;this[e(466)]=this[e(499)]._labelPlacement,this[e(504)]=this[e(477)][e(477)][e(444)][e(457)](),this[e(454)]=this[e(477)][e(477)][e(444)][e(482)]();const r=t[e(495)];for(let t=r[e(452)]-1;t>-1;t--){const i=r[t];let n=i[e(484)]()[e(488)]();if(n.length<1){console[e(440)](e(464)),i[e(461)]=!0;continue}const s=n[0];let o=s[e(492)]().trim();if(-1!==o[e(489)]("{")){const t=o[e(506)](1,o[e(452)]-1);o=i[e(465)]()[t]?i[e(465)]()[t][e(479)]():""}if(""===o){console.warn(e(474)),i.invalid=!0;continue}i.labelText=o;const a=i[e(445)]();this[e(483)](a),i[e(451)]=!0,a[e(455)][e(482)]()[e(471)](this[e(454)],!1)?(i[e(462)]=this[e(439)],!this[e(447)](i,s,this[e(504)])&&(i[e(462)]=null)):i.showLabel=!1}this[e(508)](t)}[yw(483)](e){const r=yw;if(e instanceof t.MultiLine)for(let t=e.getLineCount()-1;t>=0;t--)this._initLineLink(e.getLine(t));else this[r(481)](e)}_initLineLink(t){const e=yw;t[e(469)]||(this._labelPlacement[e(502)](t),this[e(466)][e(456)](t[e(469)],t[e(449)]))}[yw(508)](t){const e=yw;this[e(496)](t);const r=t[e(495)];for(let i=0,n=r[e(452)];i<n;i++)r[i][e(473)]&&r[i][e(451)]&&r[i][e(462)]&&(this[e(485)](r[i][e(462)]),this[e(453)](t,r[i].bufferLabel));this[e(477)][e(442)](t)}_handleLineFeature(e,r,i){const n=yw;let s=e[n(462)],o=e[n(445)]();o instanceof t.MultiLine&&(o=o[n(487)](0));const a=e.labelText;let h=this._labelPlacement[n(498)](o,r,a,i);if(!h)return!1;const l=this[n(439)];let c;for(let t=0,e=a.length;t<e;t++)c=this[n(497)](r,a[t],this._atlas),this._appendData(l,c);return l[n(491)](n(503),h[0]),l[n(491)]("index",h[1]),this[n(472)](s,l),s[n(491)](n(478),[this[n(477)].gl.TRIANGLES]),s.set(n(437),[s[n(490)]("index")[n(452)]]),!0}[yw(497)](t,e,r){const i=yw,n=t.getLineRenderData2({text:e,atlasMgr:r}),s=this[i(439)];return s[i(491)]("a_textureCoord",n[i(507)]),s[i(491)](i(480),n[i(450)]),s[i(491)]("a_opacity",n[i(475)]),s[i(491)](i(470),n[i(448)]),s[i(491)](i(463),n[i(505)]),s.set(i(500),n[i(493)]),s[i(491)]("a_haloWidth",n[i(468)]),s}}function Iw(t,e){return _w[t-=437]}const xw=["_id","program","owner","659429CXsIYc","hasChange","getOrdinate","_rotateX","_parserOpt","glHelper","_labelPlacement","53108LsqNbR","bufferImage","atlas","_map","_atlasManager","drawElements","setUniforms","blockSize","bindTexture","getAtlasImageData","29761pGkYFF","getViewMatrix","draw","blockHelperType","getCamera","getFogColor","4WfjOxV","89356sqFoHe","179217rgHUYl","3nOHfZr","symbol","_atlas","_opacity","textLimiteAngle","createUnique","getProjMatrix","getTextureObject","divide","getElements","getCoordinate","524122OvJpAO","active","85lRLcFL","2405dNmxMi","_filterBlocks"],vw=bw;function bw(t,e){return xw[t-=395]}!function(t,e){const r=bw;for(;;)try{if(344251===parseInt(r(433))+-parseInt(r(396))+parseInt(r(419))*-parseInt(r(413))+-parseInt(r(420))*-parseInt(r(422))+parseInt(r(435))*parseInt(r(436))+parseInt(r(421))+-parseInt(r(403)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xw);class ww extends gh{constructor(e,r,i={}){const n=bw,s=i[n(410)]||2e3,o=n(408),a=i[n(416)]||"";super(e,n(423),r,s,o,a),this._id=t.Aid[n(427)](this.constructor.name),this[n(407)]=i.atlasManager,this[n(401)]=Gt.get(this.gl),this[n(401)].getTextureObject(this[n(407)][n(438)])[n(404)](this[n(407)].getAtlasImageData()),this[n(400)][n(405)]=this._atlasManager,this._parser=new mw(this,this[n(400)]),this[n(402)]=new dw(this)}[vw(415)](t){const e=vw,r=this[e(395)][e(406)];if(r.getCamera()[e(399)]<this[e(395)][e(426)])return;const i=this[e(437)](t);if(!i||i.length<1)return;const n=mh.divide(r[e(417)]().getCoordinate()[e(398)]("X")),s=mh[e(430)](r[e(417)]()[e(432)]().getOrdinate("Y")),o=mh[e(430)](r[e(417)]()[e(432)]()[e(398)]("Z")),a=r.getViewport(),h={u_opacity:this[e(425)],u_pMatrix:r[e(428)]()[e(431)](),u_vMatrix:r[e(414)]().getElements(),u_viewport:[a[2],a[3]],u_fogColor:r[e(418)](),u_fogDist:r.getFogDist(),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0};this[e(439)][e(434)](),this[e(439)][e(409)](h),this[e(407)][e(424)][e(397)]?(this[e(401)][e(429)](this._atlasManager[e(438)]).bufferImage(this[e(407)][e(412)](),!0),this[e(407)]._atlas[e(397)]=!1,this[e(439)][e(415)](i)):(this[e(401)][e(429)](this[e(407)][e(438)])[e(411)](),this[e(439)][e(415)](i))}}const Tw=["_handleMPointFeature","then","_addIcon","bufferToGPU","_appendBlockData","getCoordinates","handleBlock","dataMap","getAttributes","11eaTlvo","push","_owner","catch","_precisionCorrect","815456Zgzkog","getOrdinate","all","showText","_handleMultiPolygonFeature","308870fJBQFo","_dealOneFeature","_map","75592izBHMv","LAYEREVENT_DATACHANGE","_handleFeature","owner","_initRenderData","_addText","polylabel","atlas","_atlas","features","16703vxafaF","_handlePolygonFeature","160349FOrGmd","getCoordinate","371883ASNSGT","error","_dealBlockData","getStyle","13344zMduhS","dispatch","bufferLabel","length"],Ew=Cw;function Cw(t,e){return Tw[t-=299]}!function(t,e){const r=Cw;for(;;)try{if(271627===parseInt(r(327))+-parseInt(r(301))+parseInt(r(341))+parseInt(r(339))+-parseInt(r(337))*-parseInt(r(314))+parseInt(r(324))+-parseInt(r(319)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Tw);class Aw extends Dc{constructor(t,e={}){const r=Cw;super(t,e),this[r(335)]=e[r(334)]}[Ew(311)](e){const r=Ew,i=[],n=e[r(336)];for(let e=n[r(304)]-1;e>-1;e--){const s=n[e];if(s[r(303)])continue;const o=s.getGeometry();if(s[r(303)]=this[r(312)],o instanceof t.Point)this[r(329)](s,o,0);else if(o instanceof t.MultiPoint){const t=this[r(305)](s,o,0);t&&i[r(315)](t)}else if(o instanceof t.Polygon){const t=this[r(338)](s,o,0);t&&i[r(315)](t)}else if(o instanceof t.MultiPolygon){const t=this[r(323)](s,o,0);t&&i[r(315)](t)}}i.length?Promise[r(321)](i)[r(306)]((()=>{const t=r;this[t(299)](e),this[t(330)].owner[t(326)].event[t(302)](new ch(p.LAYEREVENT_DATACHANGE))}))[r(317)]((t=>{console[r(342)](t.message)})):(this[r(299)](e),this.owner[r(330)][r(326)].event[r(302)](new ch(p[r(328)])))}_dealBlockData(t){const e=Ew;this[e(331)](t);const r=t[e(336)];for(let i=0,n=r.length;i<n;i++)!r[i][e(303)]||r[i].hasOwnProperty("showText")&&!r[i][e(322)]?r[i][e(322)]=!0:(this[e(318)](r[i][e(303)]),this[e(309)](t,r[i][e(303)]));this[e(316)][e(308)](t)}[Ew(329)](t,e,r){const i=Ew,n=e[i(340)](),s=t[i(300)](),o=[n.getOrdinate("X"),n[i(320)]("Y"),n.getOrdinate("Z")],a=t.bufferLabel,h=this[i(332)](o,s,t.getAttributes()),l=this[i(307)](a,o,s,h);return this._dealOneFeature(l,a,r)}[Ew(305)](t,e,r){const i=Ew,n=[],s=e[i(310)](),o=t[i(300)](),a=t.buffer;for(let e=0,r=s.length;e<r;e++){const r=s[e],h=[r[i(320)]("X"),r[i(320)]("Y"),r[i(320)]("Z")],l=this[i(332)](h,o,t.getAttributes()),c=this[i(307)](a,h,o,l);n[i(315)](...c)}return this[i(325)](n,a,r)}_handlePolygonFeature(e,r,i){const n=Ew,s=new t.Point(t.Topology.polylabel(r));return this[n(329)](e,s,i)}[Ew(323)](e,r,i){const n=Ew,s=[],o=e[n(300)](),a=e[n(303)];for(let i=0,h=r.getPolygonCount();i<h;i++){const h=t.Topology[n(333)](r.getPolygon(i)),l=[h[n(320)]("X"),h[n(320)]("Y"),h[n(320)]("Z")],c=this[n(332)](l,o,e[n(313)]()),u=this._addIcon(a,l,o,c);s[n(315)](...u)}return this[n(325)](s,a,i)}}const Mw=["454537lCnvHe","_parser","drawType","bufferImage","draw","get","17QAtzsv","drawElements","owner","getElements","_parserOpt","getOrdinate","_id","getViewport","65589fSvVOz","_filterBlocks","getTextureObject","getCamera","getFogDist","blockHelperType","length","divide","getAtlasCanvas","1VeEwQI","219BYGWwl","getAtlasImageData","833974bScKIo","564266XkABKN","hasChange","5189rLfTxn","_atlasMgr","_atlas","_atlasManager","getAtlas","getFogColor","symbol","getHighlightColor","3uZnWba","atlasManager","72902WiXYHf","program","getViewMatrix","width","getCoordinate","597278vKPKtr","height","bindTexture","glHelper","setUniforms"];function Sw(t,e){return Mw[t-=138]}!function(t,e){const r=Sw;for(;;)try{if(637977===parseInt(r(181))*parseInt(r(176))+parseInt(r(152))+parseInt(r(166))*-parseInt(r(140))+-parseInt(r(142))*-parseInt(r(158))+-parseInt(r(147))+-parseInt(r(179))+-parseInt(r(175))*parseInt(r(178)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Mw);class Pw extends gh{constructor(t,e,r={}){const i=Sw,n=r.blockSize||2e3,s=r[i(154)]||i(159),o=r[i(171)]||"";super(t,i(138),e,n,s,o),this[i(184)]=r[i(141)],this[i(150)]=Gt[i(157)](this.gl),this[i(150)].getTextureObject(this[i(184)]._id).bufferImage(this[i(184)].getAtlasImageData()),this[i(162)].atlas=this[i(184)],this[i(153)]=new Aw(this,this[i(162)])}draw(t){const e=Sw,r=this[e(160)]._map,i=this[e(167)](t);if(!i||i[e(172)]<1)return;const n=mh[e(173)](r[e(169)]().getCoordinate()[e(163)]("X")),s=mh[e(173)](r[e(169)]()[e(146)]()[e(163)]("Y")),o=mh[e(173)](r.getCamera().getCoordinate()[e(163)]("Z")),a=r[e(165)](),h=this.owner._atlasMgr[e(174)](),l=this[e(160)][e(182)][e(185)]()._normalize?[1,1]:[h[e(145)],h[e(148)]],c={u_opacity:this._opacity,u_pMatrix:r.getProjMatrix()[e(161)](),u_vMatrix:r[e(144)]().getElements(),u_viewport:[a[2],a[3]],u_fogColor:r[e(186)](),u_fogDist:r[e(170)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_highlightColor:r[e(139)](),u_atlas:l};this[e(143)].active(),this[e(143)][e(151)](c),this[e(184)]._atlas.hasChange?(this[e(150)].getTextureObject(this[e(184)][e(164)])[e(155)](this[e(184)][e(177)](),!0),this[e(184)][e(183)][e(180)]=!1,this[e(143)][e(156)](i)):(this.glHelper[e(168)](this._atlasManager[e(164)])[e(149)](),this[e(143)].draw(i))}}const Rw=["createUnique","855044CWoDnf","6oidHmC","_atlasMgr","7781Hpgwnk","addFeature","labelType","187531TzqCkX","_map","22cXMfRl","_featuresToAdd","push","update","draw","painters","1pzSxfc","lineTextPainter2","_id","textLimiteAngle","add","removeFeatures","style","length","Line","TEXT_LINE","TEXT_POINT","MultiPolygon","removeAllFeatures","getType","Point","481207TKHpJf","TextLayer","removeAll","addFeatures","indexOf","MultiPoint","set","warn","name","NONE","getDefault","removeFeature","getStyle","_layerExtra","_updatePainterType","_mergeExtra","constructor","184249IbEFVr","get","1XWoHfE","213610JIDihF","updateFeatures","getBasicGeometry","30445Zsixpe","_style","setMap","pointTextPainter"],Lw=Fw;function Fw(t,e){return Rw[t-=152]}!function(t,e){const r=Fw;for(;;)try{if(500809===-parseInt(r(179))*-parseInt(r(181))+-parseInt(r(207))*-parseInt(r(169))-parseInt(r(178))-parseInt(r(170))+parseInt(r(167))+parseInt(r(186))*parseInt(r(173))+-parseInt(r(184))*-parseInt(r(192)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Rw);class Dw extends Dt{constructor(e,r={}){const i=Fw;super(r),this.name=e,this[i(194)]=t.Aid[i(177)](this[i(166)][i(158)]),this[i(185)]=null,this[i(174)]=r[i(198)]||t.Style[i(160)](),this._isRTE=!0,this[i(180)]=new Ga(2048,1),this.enableHashCode=!1,this[i(195)]=r.textLimiteAngle?-r[i(195)]:-40,this[i(191)]=new Map}[Lw(175)](e){const r=Lw;super.setMap(e);let i=this[r(163)]();this[r(193)]=new ww(this,this[r(165)](i,{texture2D:0,opacity:0,dynamicText:0}),{atlasManager:this._atlasMgr}),this[r(176)]=new Pw(this,this[r(165)](i,{offset:1,sprite:0,opacity:0,dynamicText:0,highlight:0}),{drawType:"drawArrays",blockSize:200,atlasManager:this[r(180)]}),this[r(191)].set(t.painterType.TEXT_POINT,this[r(176)]),this[r(191)][r(156)](t.painterType[r(201)],this.lineTextPainter2)}getLayerType(){return Ot[Lw(208)]}get id(){return this._id}[Lw(182)](e){const r=Lw;e instanceof t.Vector&&!e[r(162)]()?console[r(157)]("missing attributes 'text symbol' will not be rendered"):(!e[r(183)]&&this[r(164)](e),this[r(185)]?this[r(191)].get(e.labelType)[r(196)](e):this._featuresToAdd[r(188)](e))}[Lw(153)](t){const e=Lw;for(let r=0,i=t[e(199)];r<i;r++)this[e(182)](t[r])}[Lw(197)](t){const e=Lw;for(let r=t[e(199)]-1;r>=0;r--)this[e(161)](t[r])}[Lw(161)](t){const e=Lw;if(this[e(185)])this[e(191)].get(t[e(183)]).remove(t);else{const r=this[e(187)][e(154)](t);r>-1&&this[e(187)].splice(r,1)}}[Lw(204)](){const t=Lw;this[t(187)]=[],this[t(193)][t(152)](),this[t(176)][t(152)]()}updateFeature(t){const e=Lw;if(this[e(185)])this[e(191)][e(168)](t[e(183)])[e(189)](t);else{const r=this[e(187)].indexOf(t);r>-1&&(this[e(187)][r]=t)}}[Lw(171)](t){for(let e of t)this.updateFeature(e)}[Lw(190)](){const t=Lw;super[t(190)]();const e=this[t(185)].getExtent();this[t(191)].forEach(((r,i)=>{r[t(190)](e)}))}[Lw(164)](e){const r=Lw;let i=e[r(172)](),n=t.painterType[r(159)];switch(i[r(205)]()){case t.GeometryType[r(206)]:case t.GeometryType[r(155)]:case t.GeometryType.Polygon:case t.GeometryType[r(203)]:n=t.painterType[r(202)];break;case t.GeometryType[r(200)]:case t.GeometryType.LinearRing:n=t.painterType[r(201)]}e.labelType=n}}var Ow=["_values","readFloat","readDouble","clone","8014oCjunG","length","feature","414298sizaCe","_features","readBoolean","204093KEHgwk","readString","readVarint64","unknown command ","pos","readFields","layers","prototype","properties","3974nHEVGS","259817OVFhpN","extent","_keys","269125kkWdlQ","LineString","49VkpwNr","push","readSVarint","name","types","65EOKOWL","version","240369maXTXO","_pbf","Feature","feature index out of bounds","readVarint","_geometry","Point","loadGeometry","type","Polygon"],Nw=Bw;function Bw(t,e){return Ow[t-=140]}function Uw(t,e){var r=Bw;this[r(173)]=t[r(172)](kw,{},e)}function kw(t,e,r){var i=Bw;if(3===t){var n=new Vw(r,r[i(151)]()+r[i(171)]);n[i(162)]&&(e[n[i(143)]]=n)}}function Vw(t,e){var r=Bw;this[r(146)]=1,this[r(143)]=null,this[r(178)]=4096,this[r(162)]=0,this[r(148)]=t,this[r(179)]=[],this._values=[],this[r(165)]=[],t[r(172)](Gw,this,e),this.length=this[r(165)].length}function Gw(t,e,r){var i=Bw;15===t?e[i(146)]=r[i(151)]():1===t?e[i(143)]=r.readString():5===t?e[i(178)]=r[i(151)]():2===t?e[i(165)].push(r[i(171)]):3===t?e[i(179)][i(141)](r.readString()):4===t&&e._values[i(141)](function(t){var e=Bw,r=null,i=t[e(151)]()+t[e(171)];for(;t[e(171)]<i;){var n=t[e(151)]()>>3;r=1===n?t[e(168)]():2===n?t[e(158)]():3===n?t[e(159)]():4===n?t[e(169)]():5===n?t[e(151)]():6===n?t[e(142)]():7===n?t[e(166)]():null}return r}(r))}function zw(t,e,r,i,n){var s=Nw;this[s(175)]={},this[s(178)]=r,this[s(155)]=0,this[s(148)]=t,this[s(152)]=-1,this._keys=i,this[s(157)]=n,t[s(172)](Hw,this,e)}function Hw(t,e,r){var i=Nw;1==t?e.id=r[i(151)]():2==t?function(t,e){var r=Nw,i=t[r(151)]()+t[r(171)];for(;t[r(171)]<i;){var n=e[r(179)][t[r(151)]()],s=e[r(157)][t.readVarint()];e[r(175)][n]=s}}(r,e):3==t?e.type=r.readVarint():4==t&&(e[i(152)]=r[i(171)])}function jw(t){for(var e,r,i=0,n=0,s=t[Nw(162)],o=s-1;n<s;o=n++)e=t[n],i+=((r=t[o]).x-e.x)*(e.y+r.y);return i}function Yw(t,e){this.x=t,this.y=e}!function(t,e){for(var r=Bw;;)try{if(217072===parseInt(r(147))+-parseInt(r(177))+parseInt(r(167))+parseInt(r(164))+-parseInt(r(140))*parseInt(r(161))+parseInt(r(180))+-parseInt(r(176))*parseInt(r(145)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ow),Vw[Nw(174)][Nw(163)]=function(t){var e=Nw;if(t<0||t>=this[e(165)][e(162)])throw new Error(e(150));this[e(148)][e(171)]=this[e(165)][t];var r=this[e(148)][e(151)]()+this[e(148)][e(171)];return new zw(this._pbf,r,this[e(178)],this[e(179)],this[e(157)])},zw[Nw(144)]=["Unknown",Nw(153),Nw(181),Nw(156)],zw[Nw(174)][Nw(154)]=function(){var t=Nw,e=this[t(148)];e[t(171)]=this._geometry;for(var r,i=e[t(151)]()+e[t(171)],n=1,s=0,o=0,a=0,h=[];e.pos<i;){if(s<=0){var l=e.readVarint();n=7&l,s=l>>3}if(s--,1===n||2===n)o+=e[t(142)](),a+=e.readSVarint(),1===n&&(r&&h.push(r),r=[]),r[t(141)](new Yw(o,a));else{if(7!==n)throw new Error(t(170)+n);r&&r[t(141)](r[0].clone())}}return r&&h[t(141)](r),h},zw[Nw(174)].bbox=function(){var t=Nw,e=this[t(148)];e.pos=this[t(152)];for(var r=e.readVarint()+e.pos,i=1,n=0,s=0,o=0,a=1/0,h=-1/0,l=1/0,c=-1/0;e[t(171)]<r;){if(n<=0){var u=e[t(151)]();i=7&u,n=u>>3}if(n--,1===i||2===i)(s+=e[t(142)]())<a&&(a=s),s>h&&(h=s),(o+=e[t(142)]())<l&&(l=o),o>c&&(c=o);else if(7!==i)throw new Error(t(170)+i)}return[a,l,h,c]},zw.prototype.toGeoJSON=function(t,e,r,i){var n,s,o=Nw,a=this[o(178)]*Math.pow(2,r),h=this.extent*t,l=this[o(178)]*e,c=this[o(154)](),u=zw[o(144)][this[o(155)]];switch(this[o(155)]){case 1:var p=[];for(n=0;n<c[o(162)];n++)p[n]=c[n][0];i(c=p,a,h,l);break;case 2:for(n=0;n<c[o(162)];n++)i(c[n],a,h,l);break;case 3:for(c=function(t){var e=t[Nw(162)];if(e<=1)return[t];for(var r,i,n=[],s=0;s<e;s++){var o=jw(t[s]);0!==o&&(void 0===i&&(i=o<0),i===o<0?(r&&n.push(r),r=[t[s]]):r.push(t[s]))}r&&n.push(r);return n}(c),n=0;n<c[o(162)];n++)for(s=0;s<c[n].length;s++)i(c[n][s],a,h,l)}1===c[o(162)]?c=c[0]:u="Multi"+u;var f={type:o(149),geometry:{type:u,coordinates:c},properties:this.properties};return"id"in this&&(f.id=this.id),f},Yw[Nw(174)][Nw(160)]=function(){return new Yw(this.x,this.y)};const $w=["refreshMaxPlace","normalize","valid","middleAnchor","charCodeAt","evaluationByAngle","updateBlock","updateMiddleAnchor","getLayerType","getCoordSeq","get","labelAngle","getElement","updateView","POINTS","placeGlyphsAngle","labelLength","1yUaZlh","mode","a_position","getRotateZ","getCoordinate","segmentLink","placeGlyphs","getResolution","angle","updateLength","push","8890EaQyKB","placeGlyphGroup","add","getCoordCount","cost","getPlacementData","angles","segments","features","getStyle","bufferLabel","rotateZ","bearing","start","evaluationProcedure","collisionBox","direction","resolution","positions","42fkeKZL","evaluationByStraight","528608MkJZsD","a_positionL","lastIndex","offsets","renderData","next","layer","length","pop","unshift","439918RnysIk","constructor","getPixelFromCoordinate","prev","getMap","resetAngle","_length","_dealBlockData","_filterBlocks","1CCyJFl","map","placement","_visible","createLink","maxAngle","sqrt","labelText","_parser","shrink","getPixelLength","95058xwNxtr","abs","updateCost","end","MVTLayer","getFontSize","131496WcUWhH","85630GWGamm","refreshMinCost","set","getTextSymbols","631355InNNIg"],Xw=Ww;function Ww(t,e){return $w[t-=170]}!function(t,e){const r=Ww;for(;;)try{if(275975===parseInt(r(190))*parseInt(r(199))+-parseInt(r(178))*parseInt(r(250))+parseInt(r(180))*parseInt(r(239))+parseInt(r(210))+parseInt(r(216))+parseInt(r(217))+-parseInt(r(221)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($w);class Zw{constructor(t){const e=Ww;if(this.id=this[e(191)].name,this[e(186)]=t,this[e(200)]=t[e(194)](),t[e(230)]()===Ot.TextLayer)this[e(173)]=this[e(227)],this[e(245)]=this[e(237)],this[e(204)]=90;else{if(t[e(230)]()!==Ot[e(214)])throw new SyntaxError("placement strategy support only MVTLayer and TextLayer");this.evaluationProcedure=this[e(179)],this[e(245)]=this.placeGlyphsStraight,this[e(204)]=10*Math.PI/180}}[Xw(235)](t,e){const r=Xw;this.vtToDraw=t,this.zoom=e,this[r(176)]=this[r(200)][r(246)](),this[r(170)]=this.map._camera[r(242)]()}updatePainter(t,e=!0){const r=Xw,i=t[r(198)](this.vtToDraw);for(let n of i)this[r(228)](n),e&&t[r(207)][r(197)](n)}[Xw(228)](t){const e=Xw;let r=t[e(258)];for(let t=r.length-1;t>=0;t--){const i=r[t];if(i[e(224)]=!1,!i[e(202)]||!i[e(206)])continue;const n=i[e(259)]()[e(220)]()[0].getFontSize(),s=i[e(206)];let o=i[e(201)];if(void 0===o)continue;let a=this[e(245)](i,o,n,s,i.labelLength);a&&(i.bufferLabel.set("a_position",a[e(232)](e(177))),i.bufferLabel[e(219)]("a_angle",a[e(232)](e(256))),i.bufferLabel[e(219)]("a_offset",a[e(232)](e(183))),i[e(260)][e(219)](e(181),[]),i[e(260)][e(219)](e(240),[this.layer.gl[e(236)]]),i.bufferLabel.set("drawCount",[i.bufferLabel[e(232)](e(241))[e(187)]/3]),i[e(224)]=!0)}}[Xw(255)](t,e,r,i){const n=Xw;!t[n(244)]&&qw[n(203)](t);const s=e[n(215)](),o=i[n(238)],a=this[n(173)](t,o);return a[n(229)](),i[n(201)]=a,a?(i.placement=a,this[n(245)](i,a,s,r,o)):null}placeGlyphsStraight(e,r,i,n,s){const o=Xw;if(r[o(209)](this[o(200)])<s)return null;let a=this[o(200)].getRotateAngle(o(171))%360;const h=this[o(200)][o(192)](r[o(257)][0][o(172)]),l=this[o(200)][o(192)](r[o(257)][r[o(257)].length-1][o(213)]),c=new t.Vector3(l._x-h._x,-l._y+h._y);c[o(223)]();let u=c[o(247)](new t.Vector3(1,0,0));c.getElement(1)<0&&(u=2*Math.PI-u),u=180*u/Math.PI;let p=new Map;p[o(219)](o(177),[]),p[o(219)](o(183),[]),p[o(219)]("angles",[]);const f=n[o(187)]/2|0;let g=(r.middleSegment[o(233)]+a)%360;g<0&&(g=360-g);let d=1;g>45&&g<=225&&(d=-1);const _=this[o(251)](r,i,n,u,d,f,c);p[o(232)](o(177))[o(249)](..._[o(177)]),p.get("offsets")[o(249)](..._[o(183)]),p[o(232)](o(256))[o(249)](..._[o(256)]),e[o(174)]=[];for(let t=0,n=_.offsets[o(187)];t<n;t+=2)e[o(174)][o(249)]({anchor:[r[o(225)]._x,r[o(225)]._y,r[o(225)]._z],offset:[2*_[o(183)][t],2*_[o(183)][t+1]],size:[3*i,3*i]});return p}placeGlyphGroup(t,e,r,i,n,s,o){const a=Xw;let h=[],l=[],c=[];const u=t.middleAnchor;let p=0,f=-e/2-s*e;for(let t=0,s=r[a(187)];t<s;t++){p=e,f+=p;let t=i;t>45&&t<=135?t-=90:t>=225&&t<315&&(t+=90),t>=45&&t<225&&(t+=180);const r=f*n;h[a(249)](u._x,u._y,0),c.push(t*Math.PI/180),l.push(o[a(234)](0)*r,o[a(234)](1)*r)}return{positions:h,angles:c,offsets:l}}labelLength(t,e){const r=Xw;let i=0,n=0;for(let e=t[r(187)]-1;e>=0;e--)t[r(226)](e)<255?i++:n++;return i*e/2+n*e}evaluationByStraight(t,e){const r=Xw,i=t.segmentLink;let n=null,s=-1/0,o=0;for(;o<i.length;){const t=this.refreshMaxPlace(o,i);t&&s<t[r(187)]&&(s=t[r(187)],n=t),o=t[r(182)]+1}return n}[Xw(237)](t,e,r,i,n){}[Xw(227)](t,e){const r=Xw,i=t.segmentLink;let n=null,s=1/0,o=0;for(;o<i.length;){const t=this[r(218)](o,i,e);t[0]&&s>t[r(254)]&&(s=t[0][r(254)],n=t[0],o=t[0]),o=t[1]+1}return n}[Xw(222)](t,e){const r=Xw,i=new Kw([e[t]]);i[r(182)]=t;let n=e[t].direction;for(let s=t+1,o=e[r(187)];s<o;s++){const t=e[s];if(Math[r(211)](n[r(247)](t[r(175)]))>this.maxAngle)break;i.add(e[s]),i[r(182)]=s}return i}[Xw(218)](t,e,r){const i=Xw,n=new Kw([e[t]]);if(e[t][i(187)]>r)return[n,t];let s=e[t][i(254)],o=e[t][i(187)];for(let a=t+1,h=e[i(187)];a<h;a++){if(e[a-1][i(247)]>this.maxAngle)return[n,a];if(s+=e[a-1][i(247)]*e[a-1][i(247)],o+=e[a][i(187)],n[i(252)](e[a]),o>r)return[n,t]}return[null,t]}}class qw{static[Xw(203)](t){const e=Xw,r=[],i=t[e(231)]();let n=null,s=0;for(let t=0,o=i[e(253)]();t<o-1;t++){let o=i[e(243)](t),a=i[e(243)](t+1),h=new Jw(o,a);h[e(193)]=n,n&&(n[e(185)]=h,n[e(195)]()),s+=h[e(187)],r[e(249)](h),n=h}return t[e(244)]=r,t.segmentLength=s,r}}class Jw{constructor(e,r){const i=Xw;this[i(172)]=e,this[i(213)]=r,this[i(185)]=null,this[i(193)]=null,this[i(187)]=this[i(196)](),this.angle=0,this[i(175)]=new t.Vector3(this.end._x-this[i(172)]._x,this.end._y-this[i(172)]._y,0).normalize(),this.labelAngle=this[i(175)][i(247)](new t.Vector3(1,0,0)),this[i(175)][i(234)](1)<0&&(this[i(233)]=2*Math.PI-this[i(233)]),this[i(233)]=180*this.labelAngle/Math.PI}_length(){const t=Xw,e=this[t(172)]._x-this.end._x,r=this[t(172)]._y-this[t(213)]._y;return Math[t(205)](e*e+r*r)}[Xw(195)](){const t=Xw;if(!this[t(185)])return;let e=this[t(172)],r=this[t(213)],i=this[t(185)][t(213)],n=r._x-e._x,s=r._y-e._y,o=i._x-r._x,a=i._y-r._y;const h=n*o+s*a,l=Math[t(205)]((n*n+s*s)*(o*o+a*a));this[t(247)]=Math.abs(180*Math.acos(h/l)/Math.PI)}}class Kw{constructor(t){const e=Xw;this[e(257)]=t,this.length=0,this[e(254)]=0,this[e(212)](),this[e(248)](),this[e(184)]=[]}[Xw(209)](t){const e=Xw,r=this[e(257)][0].start,i=this.segments[this.segments[e(187)]-1][e(213)],n=t[e(192)](r),s=t[e(192)](i),o=s._x-n._x,a=s._y-n._y;return Math[e(205)](o*o+a*a)}[Xw(229)](){const e=Xw;let r=this[e(187)]/2,i=null;for(let t=this[e(257)][e(187)]-1;t>=0;t--)r-=this[e(257)][t][e(187)],r<=0&&(i=this[e(257)][t]);const n=i[e(172)]._x-(i[e(213)]._x-i.start._x)*r/i[e(187)],s=i[e(172)]._y-(i[e(213)]._y-i[e(172)]._y)*r/i[e(187)];this.middleAnchor=new t.Coordinate(n,s),this.middleSegment=i}[Xw(212)](){const t=Xw;this[t(254)]=0;for(let e=this[t(257)][t(187)]-2;e>=0;e--)this[t(254)]+=this.segments[e][t(254)],this[t(254)]+=this[t(257)][e][t(247)]*this.segments[e].angle;this[t(254)]+=this[t(257)][this[t(257)][t(187)]-1][t(254)]}updateLength(){const t=Xw;this[t(187)]=0;for(let e=this[t(257)].length-1;e>=0;e--)this.length+=this.segments[e][t(187)]}[Xw(252)](t){const e=Xw;this[e(254)]+=t[e(193)][e(254)],this[e(187)]+=t[e(187)],this[e(257)][e(249)](t)}[Xw(208)](t){const e=Xw;let r,i;for(;this[e(187)]>t&&this[e(257)][e(187)]>2;)r=this[e(257)][this[e(257)][e(187)]-1],i=this[e(257)][0],r&&(this[e(257)][e(188)](),this[e(187)]-=r[e(187)],this[e(254)]-=r.prev[e(254)]),i&&(this.segments.shift(),this[e(187)]-=i[e(187)],this.cost-=i[e(254)]);return i&&(this[e(257)][e(189)](i),this.length+=i[e(187)],this[e(254)]+=i[e(254)]),r&&(this[e(257)][e(249)](r),this[e(187)]+=r[e(187)],this[e(254)]+=r[e(193)].cost),this}expand(t){const e=Xw;let r=!1;for(;this.length<t&&!r&&this[e(257)].length>1;){const i=this.segments[0].prev;i&&(this.segments[e(189)](i),this.length+=i[e(187)],this[e(254)]+=i.cost);const n=this[e(257)][this.segments[e(187)]-1][e(185)];if(n&&(this[e(257)][e(249)](n),this[e(187)]+=n[e(187)],this.cost+=n.prev[e(254)]),!i&&!n&&(r=!0,this[e(187)]<t))return null}return this[e(187)]<t?null:this}}const Qw=["_vtGroupToDraw","_map","_checkCrs","_styleRuleMgr","getFillSymbols","_collisionLabel","getPainterByKey","FillTexture","DashLine","_geoJSON","layers","107YvUIyV","4326","add","atan","_project","12iCGWUb","_filterLabel","getLayerType","json","getCrs","zoom","solid","getZoom","getColor","getGeometry","get","1JnwYUC","doTask","Line","Label_Icon","replace","{y}","labelText","LineWidth","addFilterTask","hasOwnProperty","url","_srid","setMap","getStyleByTypeLevel","setTileUrl","3173sjFaYY","indexOf","_project4326","34562MMTgsy","getWidth","floor","267406PfdauQ","getSrid","_dealVtile","_styleJson","showLabel","12135yBbIDD","feature","addVTile","filter","_XBeforeY","getTextSymbols","layerUrl","getLineSymbols","getAttributes","exp","SymbolStaticPainter","SDFPointTextPainterMVT","_updateLabel","_addToken","_fillSymbols","placement","DashLineWidth","Label_Point_Mvt","1139708rMQFPx","_addVtPolygons","59XCiKHQ","_addVtPoints","{x}","then","_vtGroupCache","Stretch","length","display","toGeoJSON","height","weight","LineTextPainter","getLineStyle","push","_addLayer","_ZXYStartIndex","transform","72221bqOwAw","pow","FillPolygon","split","657206NCKqKN","point","active","readFeatureFromObject","setStyle","slice"],tT=eT;function eT(t,e){return Qw[t-=355]}!function(t,e){const r=eT;for(;;)try{if(666089===-parseInt(r(377))*parseInt(r(397))+parseInt(r(395))+-parseInt(r(451))*parseInt(r(414))+-parseInt(r(372))+parseInt(r(435))*parseInt(r(366))+-parseInt(r(369))*parseInt(r(440))+parseInt(r(418)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Qw);class rT extends lw{constructor(t,e,r={}){const i=eT;super(t,e,r),this._labelOn=!0,this[i(412)]=this.layerUrl[i(367)]("{"),this[i(381)]=this[i(383)][i(367)](i(399))<this[i(383)][i(367)](i(356))}[tT(374)](e,r,i,n){const s=tT;let o,a,h,l=new Uw(new t.Pbf(e)),c=n[s(367)]("."+this.dataFormat);this[s(381)]?[o,a,h]=n.slice(this[s(412)],c).split("/"):[o,h,a]=n[s(423)](this[s(412)],c)[s(417)]("/"),this.addVTile(l,[+o,+a,+h],i)}[tT(379)](t,[e,r,i],n){const s=tT,o=Object.keys(t[s(434)]);for(let a=0,h=o[s(403)];a<h;a++){const h=t[s(434)][o[a]];0!=h.length&&this[s(411)](h,[e,r,i],n)}}[tT(411)](t,[e,r,i],n){const s=tT;this._reverseY&&(i="4326"===this[s(362)]?Math[s(415)](2,e-1)-i-1:Math[s(415)](2,e)-i-1);const o=t.name,a=this[s(427)][s(364)](o,e);if(!a)return;let h=this[s(427)][s(375)][o],l=h[s(407)],c=h.rules[0].layerType;c===s(419)?this[s(398)](t,a,o,l,n,e,r,i,"0"):"line"===c?this._addVtLines(t,a,o,l,n,e,r,i,"1"):this._addVtPolygons(t,a,o,l,n,e,r,i,"2"),this[s(441)]()}[tT(365)](t){const e=tT;let[r,i,n]=t[e(417)]("#"),s=this[e(383)][e(355)](e(399),r)[e(355)](e(356),i).replace("{z}",n);return this[e(390)](s)}_getStyleJson(t){const e=tT;if(t instanceof Object)return new Promise((t=>t()))[e(400)]((()=>{this[e(427)]=new Ca(t)}));{let r=this;return new Promise(((r,i)=>{const n=e;xg[n(450)](t,n(443),(function(t){r(t)}),(function(t){i(t)}))})).then((i=>{r[e(427)]=new Ca(i,t)}))}}[tT(363)](t){const e=tT;super.setMap(t),this[e(392)]=new Zw(this),this[e(362)]=this._map[e(444)]()[e(373)](),this[e(439)]=this._srid===e(436)?this[e(368)]:this._project3857}[tT(441)](){const t=tT;if(!this[t(425)])return;let e=this;e.id=this._id,this[t(452)]=1,this._taskManager[t(359)](this,(function(r){e[t(389)]()}),this),this[t(425)].af[t(420)]()}[tT(442)](){return Ot.MVTLayer}[tT(389)](){const t=tT;this[t(392)].updateView(this[t(424)],this._map[t(447)]()),this[t(429)].updateView(this[t(424)],this[t(445)]);const e=[],r=[];for(let[i,n]of this._layersPaintersMap)n instanceof ef[t(388)]?e[t(410)](n):n instanceof ef[t(408)]?(e[t(410)](n),this[t(392)].updatePainter(n)):n instanceof ef[t(387)]&&r.push(n);this[t(429)][t(380)](e,r)}[tT(398)](t,e,r,i,n,s,o,a,h){const l=tT;for(let c=0;c<t[l(403)];c++){const u=t.feature(c)[l(405)](o,a,s,this[l(439)]),p=this[l(433)][l(421)](u);p[l(422)](e),this[l(426)](p),p[l(361)]=n,p[l(407)]=i,p[l(357)]=h,p[l(376)]=!0;let f=l(454),g=r+"_"+f;this[l(401)].get(n).add(g);this.getPainterByKey(g,f,i)[l(437)](p,!1),f=l(394),g=r+"_"+f,this[l(401)][l(450)](n).add(g);this[l(430)](g,f,i).add(p,!1)}}_addVtLines(e,r,i,n,s,o,a,h,l){const c=tT,u=r[c(384)]();for(let r=u[c(403)]-1;r>=0;r--){let l=u[r];if(!l[c(404)])continue;const p=l[c(370)](),f=l[c(409)](),g=new t.Style({lineSymbols:[l]});let d,_;_=p>1?f===c(446)?c(358):c(393):f===c(446)?c(453):c(432);const y=i+"_"+_;this[c(401)][c(450)](s)[c(437)](y),d=this[c(430)](y,_,n);for(let t=0;t<e[c(403)];t++){const r=e[c(378)](t)[c(405)](a,h,o,this[c(439)]),i=this[c(433)][c(421)](r);i[c(422)](g),this._checkCrs(i),i[c(361)]=s,i[c(407)]=n,d[c(437)](i,!1)}}const p=r[c(382)]()[0];if(!p)return;const f="Label_Line_Mvt",g=i+"_"+f,d=this[c(430)](g,f,n),_=new t.Style({textSymbols:[p]});this[c(401)][c(450)](s)[c(437)](g);for(let t=0;t<e[c(403)];t++){const r=e[c(378)](t)[c(405)](a,h,o,this[c(439)]),i=this._geoJSON[c(421)](r);i[c(422)](_),this[c(426)](i),i.url=s,i[c(407)]=n,i[c(357)]=l,i[c(376)]=!0,d[c(437)](i,!1)}}[tT(396)](e,r,i,n,s,o,a,h,l){const c=tT,u=r[c(428)]()[0];if(r[c(382)]()[0],u&&u[c(404)])for(let l=0;l<e[c(403)];l++){const u=e[c(378)](l)[c(405)](a,h,o,this[c(439)]),p=this[c(433)][c(421)](u),f=p[c(385)]();let g;p[c(422)](r),this[c(426)](p),p[c(361)]=s,p[c(407)]=n,p[c(376)]=!0,r.stretch&&f[c(360)](c(371))&&f[c(371)]>0?(f[c(406)]=4*f[c(371)],f.surfaceColor=r.getFillSymbols()[0][c(448)](),g=c(402)):g=r[c(391)][0]instanceof t.TextureFill?c(431):c(416);let d=i+"_"+g,_=this[c(430)](d,g,n);this[c(401)][c(450)](s)[c(437)](d),_[c(437)](p,!1)}}_checkCrs(t){const e=tT;this[e(362)]!==e(436)&&t[e(449)]()[e(413)](e(436),this[e(362)])}_project3857(t,e,r,i){const n=tT;for(var s=0;s<t[n(403)];s++){var o=t[s],a=180-360*(o.y+i)/e;t[s]=[360*(o.x+r)/e-180,360/Math.PI*Math[n(438)](Math[n(386)](a*Math.PI/180))-90]}}[tT(368)](t,e,r,i){for(var n=0;n<t.length;n++){var s=t[n];t[n]=[360*(s.x+r)/e-180,90-360*(s.y+i)/e]}}}const iT=["u_color","a_h","u_rect","185330nvjXqG","33391PnZdra","19QElyHR","vsShader","1vQbyYw","a_v","a_u","4cceiAF","9asoyUa"," \nin float a_u;//\nin float a_v;//\nin float a_h;//\nin vec2 a_normal;  //octn\n#ifdef Texture\n    uniform vec2 u_texOff;\n    uniform float u_texRatio;\n    out vec2 v_texCoord;\n#endif\n\nuniform mat4 u_mvpMatrix;\nuniform vec4 u_rect;//\nuniform vec2 u_heights;//\nuniform float u_colorH;//\nuniform float u_exag;\n\nuniform vec4 u_color;\nuniform vec4 u_color0;\n\n// uniform mat3 u_normalMatrixX;\n// uniform mat3 u_normalMatrixY;\nuniform mat4 u_tileNormalMatrix;        //n\nout vec3 v_normal;\nout vec4 v_color;  \nout vec3 v_position;\n\nfloat signNotZero(float value){\n    return value >= 0.0 ? 1.0 : -1.0;\n}\n\nvec2 signNotZero(vec2 value){\n    return vec2(signNotZero(value.x), signNotZero(value.y));\n}\n\nvec3 octDecode(vec2 encoded)\n{\n    if (encoded.x == 0.0 && encoded.y == 0.0) {\n        return vec3(0.0, 0.0, 0.0);\n    }\n    encoded = encoded / 255.0 * 2.0 - 1.0;\n    vec3 v = vec3(encoded.x, encoded.y, 1.0 - abs(encoded.x) - abs(encoded.y));\n    if (v.z < 0.0)\n    {\n        v.xy = (1.0 - abs(v.yx)) * signNotZero(v.xy);\n    }\n    return normalize(v);\n}\n\nvec2 signxy(vec2 value){\n    float x = (value.x >= 0.0 ? 1.0 : -1.0);\n    float y = (value.x >= 0.0 && value.y >= 0.0 ? 1.0 : -1.0);\n    return vec2(x,y);\n}\n\nvec3 OctahedronToUnitVector( vec2 encoded )\n{\n    if (encoded.x == 0.0 && encoded.y == 0.0) {\n        return vec3(0.0, 0.0, 0.0);\n    }\n    encoded = encoded / 255.0 * 2.0 - 1.0;\n    vec3 N = vec3( encoded.xy, 1.0 - abs(encoded.x) - abs(encoded.y) );\n    float t = max(-N.z, 0.0);\n    N.xy += ((N.x >= 0.0 && N.y >= 0.0) ? -t : t);\n    return normalize(N);\n}\n            \nvoid main(){\n    vec3 position=vec3(a_u,a_v,a_h);\n    float u=position.x/32767.0;\n    float v=position.y/32767.0;\n    \n    float x=u_rect.x+u*(u_rect.y-u_rect.x);\n    float y=u_rect.z+v*(u_rect.w-u_rect.z);\n    float z=u_heights.x+(position.z/32767.0)*(u_heights.y-u_heights.x);\n    z=z*u_exag;\n    float unit=float(111000*(1-UNIT)+UNIT);\n    gl_Position=u_mvpMatrix*vec4(x,y,z/unit,1.);\n    v_position = vec3(x, y, z/unit);\n    #ifdef Texture\n        v_texCoord=vec2(u,abs(1.0-v))*u_texRatio+u_texOff;\n    #endif\n    \n    float colorH = z/u_colorH;\n    v_color = mix(u_color0,u_color,clamp(colorH,0.0,1.0));\n    #ifdef useLight\n        vec2 octNormal = a_normal;\n        vec3 normal = OctahedronToUnitVector(octNormal);\n        vec4 normalAntiRotate = u_tileNormalMatrix*vec4(normal,1.0);\n        v_normal = normalAntiRotate.yzx;\n    #endif\n    gl_PointSize=5.0;\n}\n","terrain","56630YYsuKW","uniform4fv","598USZKtL","80gNgwjy","u_heights","\nstruct colorByHeight{     //n   float minHeight;\n   float maxHeight;\n   vec4 color;  \n};\n\nstruct glopeColor{     //n   float glope;\n   vec4 color;  \n};\n\nstruct glopeDirectionColor{   //\n    float angle;\n    vec4 color;\n};  \n\nuniform bool u_colorByHeight;\nuniform colorByHeight u_heightColor[COLORS_HEIGHT_NUM];\nuniform bool u_enableLight;\nuniform vec4 u_lightColor;\nuniform vec3 u_lightDirection;\nuniform float u_intensity;\n\nuniform float u_resolution;\nuniform bool u_showHeightLine;\nuniform float u_heightLineInterval;\nuniform vec4 u_heightLineColor;\nuniform float u_heightLineWidth;\nuniform float u_minHeight;\n\nuniform bool u_glopeAnalyse;\nuniform glopeColor u_glopeColors[COLORS_GLOPE_NUM];\n\nuniform bool u_glopeDirection;              \nuniform glopeDirectionColor u_glopeDirectionColor[COLORS_GLOPEDIR_NUM];\n    \nin vec3 v_position;\nin vec4 v_color;\nin vec3 v_normal;\nout vec4 outColor;\n\n#ifdef Texture\n    in vec2 v_texCoord;\n    uniform sampler2D u_texture;\n    uniform float u_outZoomI;           //img\n#endif\n\n#define PI 3.141592654\n\nvoid main(){\n    vec4 color = v_color;\n    #ifdef Texture\n        vec4 texColor=texture(u_texture,v_texCoord);\n        color=texColor*(1.-u_outZoomI)+color*u_outZoomI;\n    #endif\n    outColor = color;\n    \n    for(int i = 0; i < COLORS_HEIGHT_NUM; i++){\n        if(v_position.z > u_heightColor[i].minHeight && v_position.z < u_heightColor[i].maxHeight){\n            outColor = vec4(outColor.rgb*(1.0 - u_heightColor[i].color.a), 1.0) + u_heightColor[i].color;\n        }\n    }\n   \n    if(u_showHeightLine){\n        float heightDiff = fract((v_position.z- u_minHeight)/u_heightLineInterval)*u_heightLineInterval;\n        float heightLineNum = (v_position.z - u_minHeight)/u_heightLineInterval;\n        float heightLineHeight = u_heightLineWidth*u_resolution;\n        if(heightLineNum > 0.0 && heightDiff > -heightLineHeight/2.0 && heightDiff < heightLineHeight/2.0){\n            outColor = vec4(outColor.rgb*(1.0 - u_heightLineColor.a), 1.0) + u_heightLineColor;\n        }\n    }\n    \n    vec3 normal = v_normal;\n    vec3 absNormal = abs(normal);\n    float normalLength = length(absNormal);\n    if(u_glopeAnalyse){\n        float glopeVal = degrees(acos(absNormal.z/normalLength));\n        for(int i = 1; i < COLORS_GLOPE_NUM; i++){\n            vec4 prevColor = u_glopeColors[i-1].color; float prevGlope = u_glopeColors[i-1].glope;\n            vec4 currColor = u_glopeColors[i].color; float currGlope = u_glopeColors[i].glope;\n            if(glopeVal >= prevGlope && glopeVal < currGlope){\n                vec4 glopeColor = mix(prevColor, currColor, (glopeVal-prevGlope)/(currGlope-prevGlope));\n                outColor = vec4(outColor.rgb*(1.0 - glopeColor.a), 1.0) + glopeColor;\n            }                \n        }\n    }\n    \n    if(u_glopeDirection){\n        float angle =atan(normal.y/normal.x)*180.0/PI;\n        if(normal.x < 0.0){\n            angle = angle + 180.0;\n        }else if(normal.y < 0.0){\n            angle = angle + 360.0;\n        }\n        for(int i=1;i<COLORS_GLOPEDIR_NUM;i++){\n            vec4 prevColor = u_glopeDirectionColor[i-1].color; float prevAngle = u_glopeDirectionColor[i-1].angle;\n            vec4 currColor = u_glopeDirectionColor[i].color; float currAngle = u_glopeDirectionColor[i].angle;\n            if(angle >= prevAngle && angle < currAngle){\n                vec4 resultColor = mix(prevColor, currColor, (angle-prevAngle)/(currAngle-prevAngle));\n                outColor = vec4(outColor.rgb*(1.0 - resultColor.a), 1.0) + resultColor;\n            }            \n        }\n    }\n    \n    if(u_enableLight){\n         vec3 lightDirection = normalize(-u_lightDirection);\n         vec3 lightColor = u_lightColor.rgb * u_lightColor.a;\n         float nDotL = dot(lightDirection, normal);\n         vec3 diffuse;\n         if(nDotL > 0.0){\n            float lightValue = 0.3 + 0.3 * nDotL;\n            diffuse = vec3(lightColor.rgb) * u_intensity * lightValue;\n         }else{\n            float lightValue = 0.3 + 0.3 * nDotL;\n            diffuse = vec3(lightColor.rgb) * lightValue;\n         }\n         vec3 ambient = vec3(lightColor.rgb * u_lightColor.a) * 0.4;\n         outColor = vec4(outColor.rgb * (diffuse + ambient), outColor.a);\n    }\n}\n","u_texture","u_mvpMatrix","uniform1i","42603YhpQCI","3701eBdblc","fsShader","235732rxShWU"],nT=sT;function sT(t,e){return iT[t-=336]}!function(t,e){const r=sT;for(;;)try{if(149316===parseInt(r(357))*-parseInt(r(337))+parseInt(r(350))*parseInt(r(354))-parseInt(r(336))+parseInt(r(343))+parseInt(r(356))*parseInt(r(345))+parseInt(r(347))*-parseInt(r(339))+parseInt(r(344))*parseInt(r(351)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(iT);const oT={};oT[nT(346)]=nT(352),oT[nT(338)]=nT(359),oT.attributes=[[nT(349),{count:1,type:Float32Array}],[nT(348),{count:1,type:Float32Array}],[nT(341),{count:1,type:Float32Array}],["a_normal",{count:2,type:Float32Array}]],oT.uniforms=[[nT(360),{type:nT(362),extra:nT(353)}],[nT(361),{type:"uniformMatrix4fv",extra:nT(353)}],[nT(342),{type:nT(355),extra:nT(353)}],[nT(358),{type:"uniform2fv",extra:nT(353)}],[nT(340),{type:nT(355),extra:nT(353)}]];const aT=["decodeText","5899UXHdnw","southIndices","length","12747zKzIJo","normalBuffers","skirtHeight","subarray","eastIndices","372082vdCTcu","19LWiFBn","zigZagDecode","createTypedArrayFromArrayBuffer","parseTile","shift","uBuffer","then","321665wbbzJl","composeSkirtIndices","status","BYTES_PER_ELEMENT","getUint32","westIndices","getFloat64","addSkirtIndices","fromCharCode","getUint8","northIndices","vBuffer","3IMEKjb","216194tOFDVY","push","indices","addSouthSkirtIndices","GET","cors","from","getTile","75902huoWqW","1YYiNlJ","3mYKXyh","getDecodeBuffers","94rEGyFX","getFloat32","byteLength","hBuffer","22083jmpLOl","addSkirtVertices"],hT=lT;function lT(t,e){return aT[t-=263]}!function(t,e){const r=lT;for(;;)try{if(274699===parseInt(r(286))*-parseInt(r(292))+parseInt(r(299))+parseInt(r(272))*parseInt(r(274))+-parseInt(r(273))*-parseInt(r(291))+parseInt(r(264))+-parseInt(r(263))*parseInt(r(280))+-parseInt(r(276))*parseInt(r(283)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(aT);let cT={};cT[hT(293)]=function(t){return t>>1^-(1&t)},cT[hT(275)]=function(t,e){const r=hT,i=t[r(297)],n=t[r(310)],s=t.hBuffer;let o=0,a=0,h=0;for(let t=0;t<e;t++)o+=this[r(293)](i[t]),a+=this[r(293)](n[t]),h+=this[r(293)](s[t]),i[t]=o,n[t]=a,s[t]=h;return{vBuffer:n,uBuffer:i,hBuffer:s,vertexCount:n[r(285)]}},cT[hT(294)]=function(t,e,r,i){return t>=65536?new Uint32Array(e,r,i):new Uint16Array(e,r,i)},cT[hT(282)]=function(t){const e=hT;let r="";for(let i=0,n=t[e(285)];i<n;i++)r+=String[e(307)](t[i]);return decodeURIComponent(decodeURI(r))},cT[hT(271)]=function(t,e){const r=hT;return e=e||{method:r(268),mode:r(269),headers:{Accept:"application/vnd.quantized-mesh,application/octet-stream;q=0.9"}},fetch(t,e)[r(298)]((t=>200===t[r(301)]?t.arrayBuffer():null))},cT[hT(295)]=function(t,e){const r=hT,i=3*Float64Array[r(302)],n=2*Float32Array[r(302)],s=4*Float64Array.BYTES_PER_ELEMENT,o=3*Float64Array[r(302)],a=new DataView(t);let h=0,l=[a[r(305)](0,!0),a[r(305)](8,!0),a[r(305)](16,!0)];h+=i;let c=[a[r(277)](h,!0),a.getFloat32(h+4,!0)];h+=n;let u=[a.getFloat64(h,!0),a[r(305)](h+8,!0),a[r(305)](h+16,!0)];const p=a.getFloat64(h+24,!0);h+=s;let f=[a[r(305)](h,!0),a[r(305)](h+8,!0),a[r(305)](h+16,!0)];h+=o;const g=a[r(303)](h,!0);h+=Uint32Array[r(302)];const d=new Uint16Array(t,h,3*g);h+=3*Uint16Array[r(302)]*g;let _={};_[r(297)]=d[r(289)](0,g),_[r(310)]=d[r(289)](g,2*g),_[r(279)]=d[r(289)](2*g,3*g),_=this.getDecodeBuffers(_,g);let y=g>=65536?Uint32Array[r(302)]:Uint16Array[r(302)];h%y!=0&&(h+=y-h%y);const m=a[r(303)](h,!0);h+=Uint32Array.BYTES_PER_ELEMENT;let I=this[r(294)](g,t,h,3*m),x=0;for(let t=0,e=I[r(285)];t<e;t++){const e=I[t];I[t]=x-e,0===e&&++x}h+=y*I[r(285)];const v=a[r(303)](h,!0);h+=Uint32Array[r(302)];const b=this[r(294)](g,t,h,v);h+=y*v;const w=a[r(303)](h,!0);h+=Uint32Array[r(302)];let T=this[r(294)](g,t,h,w);h+=y*w;const E=a[r(303)](h,!0);h+=Uint32Array[r(302)];const C=this[r(294)](g,t,h,E);h+=y*E;const A=a[r(303)](h,!0);h+=Uint32Array[r(302)];const M=this[r(294)](g,t,h,A);let S;for(h+=y*A;h<a[r(278)];){const e=a[r(308)](h,!0);h+=Uint8Array[r(302)];const i=a.getUint32(h,!0);if(h+=Uint32Array[r(302)],1===e)S=new Uint8Array(t,h,2*g);else if(2===e);else if(4===e){const e=a[r(303)](h,!0);h+=Uint32Array[r(302)],this[r(282)](new Uint8Array(t,h,e))}h+=i}return _[r(287)]=S,e&&(I=this[r(300)]({vertexCount:g,buffers:_,indices:I,westIndices:b,southIndices:T,eastIndices:C,northIndices:M}),this[r(281)](_,{skirtHeight:5e3,vertexCount:g,westIndices:b,southIndices:T,eastIndices:C,northIndices:M})),{center:l,heights:c,horrizonOcclusion:f,boundingSphere:{center:u,radius:p},vertexPackage:{buffers:_,indices:I,eastIndices:C,westIndices:b,southIndices:T,northIndices:M}}},cT[hT(300)]=function(t){const e=hT;let r=t.vertexCount,i=t.buffers,n=t[e(266)],s=Array[e(270)](n),o=t[e(304)],a=t[e(284)],h=t[e(290)],l=t[e(309)],c=s.length,u=i.vertexCount;return c=this[e(306)](h,u,s,c),u+=h[e(285)],c=this[e(306)](l,u,s,c),u+=l[e(285)],c=this[e(306)](o,u,s,c),u+=o[e(285)],this[e(267)](a,u,s,c),r>65536?new Uint32Array(s):new Uint16Array(s)},cT[hT(306)]=function(t,e,r,i){let n=t[0],s=t.length;for(let o=1;o<s;++o){let s=t[o];r[i++]=e,r[i++]=s,r[i++]=n,r[i++]=e+1,r[i++]=s,r[i++]=e,n=s,++e}return i},cT[hT(267)]=function(t,e,r,i){const n=hT;let s=Array[n(270)](t);if(0==s[0]){let t=s[n(296)]();s[n(265)](t)}let o=s[0],a=s[n(285)];for(let t=1;t<a;++t){let n=s[t];r[i++]=e,r[i++]=n,r[i++]=o,r[i++]=e+1,r[i++]=n,r[i++]=e,o=n,++e}return i},cT[hT(281)]=function(t,e){const r=hT;let i=t,n=e.vertexCount;e[r(288)];let s=e.westIndices,o=e.southIndices,a=e.eastIndices,h=e[r(309)],l=Array[r(270)](i[r(297)]),c=Array[r(270)](i[r(310)]),u=Array.from(i[r(279)]),p=i[r(287)]?Array[r(270)](i[r(287)]):void 0;for(let t=0;t<a.length;t++)l[r(265)](l[a[t]]),c[r(265)](c[a[t]]),u.push(0),p&&p.push(p[a[2*t]],p[a[2*t+1]]);for(let t=0;t<h[r(285)];t++)l[r(265)](l[h[t]]),c[r(265)](c[h[t]]),u[r(265)](0),p&&p[r(265)](p[h[2*t]],p[h[2*t+1]]);for(let t=0;t<s[r(285)];t++)l.push(l[s[t]]),c[r(265)](c[s[t]]),u[r(265)](0),p&&p[r(265)](p[s[2*t]],p[s[2*t+1]]);let f=Array[r(270)](o);if(0==f[0]){let t=f[r(296)]();f.push(t)}for(let t=0;t<f[r(285)];t++)l[r(265)](l[f[t]]),c[r(265)](c[f[t]]),u[r(265)](0),p&&p[r(265)](p[f[2*t]],p[f[2*t+1]]);n>65536?(i[r(297)]=new Uint32Array(l),i[r(310)]=new Uint32Array(c),i[r(279)]=new Uint32Array(u),p&&(i[r(287)]=new Uint32Array(p))):(i[r(297)]=new Uint16Array(l),i[r(310)]=new Uint16Array(c),i[r(279)]=new Uint16Array(u),p&&(i[r(287)]=new Uint16Array(p)))};const uT=["_buildShaderSource","indexOf","blocks","combineShaderOptions","hasOwnProperty","15rKmfHT","_tileCache","fsOpts","_add","_color","getCamera","_tileToDraw","toDataURL","offset","keys","rangeCol","_matrixOrigin","terrainColor","rayIntersectTriangle","features","width","parseTile","maxX","colorsByGlope","_heightLineMinHeight","point","maxY","COLORS_GLOPEDIR_NUM ","buffers","_outZoomI","3980iiZFUP","getTileExt","COLORS_HEIGHT_NUM ","push","_initIndexDB","COLORS_GLOPEDIR_NUM 1","_queryTile","_painter","_addToken","_colorsByGlopeDirection","1FHJxRQ","1pWwkQR","_dealTile","_tileSize","showHeightLine","getMaxZoom","split","getSubTileGeoExt","_vaoToDeleteOnce","indices","url","subXYZ","getBottom","CLAMP_TO_EDGE","fsShader","318043nJHQcY","_createTextureFill","fragmentSource","heightLineInterval","yRange","_colorH","attribute 'color' of parameter 'colorsByHeight' must be instance of Color!","dataFormat","_shaderSource","_showHeightLine","terrain","_initToRender","_uLocations","_colorsByGlope","setImgTileUrl","_updateShaderSource","texture","setMap","imgMinLevel","_dealImg","POINTS","hBuffer","clear","setFrontFace","_url","_texture","_tileIDB","getSrid","color","imgs","heightLineWidth","size","_tileIDBPromise","_startOneRequest","NEAREST","all","canvas","defines","terrainOrigin","abs","uniforms","colorAltitude","142843UdIAcO","delete","_maxLevel","useLocalStorage","add","toNormalizeArray","getContext","base64","DEPTH_BUFFER_BIT","vertexSource","image/","terrainMinLevel","_tileStoreName","line","_colorsByGlopeDirNum","enableLight","imgUrl","png","setXYZ","_imgMinLevel","min","179lWyojL","_getXYZ","_setDrawMode","getShaderOptions","getCrs","20681RvIgxi","height","{x}","_unit","getHeight","glHelper","_imgMaxLevel","heightLineMinHeight","getMap","_terrainMatrixOrigin","xRange","src","length","imgSrc","_ctx","set","_fixCrack","getTile","_getSubXYZ","_heightLineColorArr","_colorsByHeight","vBuffer","_checkCacheSize","COLORS_GLOPE_NUM 1","setIndex","getRotateX","concat","231958nuqCSD","_exag","createElement","_imgStoreName","Texture","122819shztJx","tile","rangeRow","COLORS_HEIGHT_NUM 1","3rRDFUl","{z}","draw","u_heights","intersectVertics","rect","_minLevel","has","3857","xyz","triangle","findData","TRIANGLES","colorsByHeight","_layerExtra","attribute 'color' of parameter 'colorsByGlope' must be instance of Color!","_groupSideLength","_enableLight","tileObj","_tileZoomOffset","_canvas","removeBlock","minX","_imgZoomOffset","addData","15419IsRkSJ","getMinZoom","raycasterIntersect","_tileStore","getWidth","UNIT ","heightLineColor","_tileBuffer","_colorsByGlopeNum","TerrainLayer","isIntersectExtent","replace","promise","getZoom","_colorsByHeightNum","then","enableHashCode","imgMaxLevel","get","vsShader","terrainMaxLevel","_shaderOpts","getRight","_map","_heightLineColor",".terrain","minY","getLayerType","imgZoomOffset","clearLocalStorage","_getUniforms","getOrdinate","_imgStore","vertexPackage","_imgUrl","exaggeration","/{z}/{x}/{y}.","distanceToCamera","clearData","max","fixCrack","ext","getTileRange"],pT=fT;function fT(t,e){return uT[t-=447]}!function(t,e){const r=fT;for(;;)try{if(216163===-parseInt(r(671))*parseInt(r(588))+parseInt(r(505))*-parseInt(r(553))-parseInt(r(476))-parseInt(r(603))+parseInt(r(471))*-parseInt(r(589))+-parseInt(r(480))*-parseInt(r(645))+parseInt(r(666))*parseInt(r(578)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(uT);class gT extends Hb{constructor(e,r,i){const n=fT;super(e,r,i),i=i||{},this._url=""+r,this[n(486)]=i[n(656)]?i[n(656)]:null,this[n(647)]=i[n(525)]?i.terrainMaxLevel:null,this._terrainSize=256,this[n(453)]=i[n(641)]?i.terrainOrigin:new t.Coordinate(-180,-90),this[n(499)]=0;const s=i[n(661)]?i.imgUrl:null;this[n(539)]=s,this[n(610)]=this[n(610)]||n(662),null!==s&&-1===s[n(549)](n(673))&&this instanceof gT&&(this._imgUrl=s+n(541)+this[n(610)]),this[n(503)]=i[n(533)]?Number(i[n(533)]):0,this[n(664)]=Number(i[n(621)])?Number(i[n(621)]):null,this[n(450)]=Number(i[n(522)])?Number(i[n(522)]):null;const o=i[n(565)]instanceof t.Color?i[n(565)]:new t.Color(0,139,69,1);this[n(557)]=o[n(650)](),this._color0=i.floorColor instanceof t.Color?i.floorColor[n(650)]():null,this._colorH=Number(i[n(644)])>0?Number(i[n(644)]):8844.43,this._fixCrack=!!i[n(552)](n(545))&&i[n(545)],this[n(521)]=!!i[n(521)]&&i[n(521)],this._shaderSource=oT,this._tileToDraw=new Set,this._tileCache=new Map,this[n(577)]=!1,this[n(497)]=!i.hasOwnProperty(n(660))||i[n(660)],this[n(464)]=i.colorsByHeight?i[n(493)]:[];for(let e of this[n(464)]){if(!(e[n(631)]instanceof t.Color))throw TypeError(n(609));e[n(631)]=e[n(631)][n(650)]()}this[n(612)]=!!i[n(552)]("showHeightLine")&&i[n(592)],this._heightLineInterval=i[n(552)](n(606))?i[n(606)]:.001,this._heightLineWidth=i[n(552)](n(633))?i.heightLineWidth:1,this[n(529)]=i[n(552)](n(511))?i[n(511)]:new t.Color(255,0,0,1),this[n(463)]=this[n(529)][n(650)](),this[n(572)]=i[n(552)](n(451))?i.heightLineMinHeight:0,this[n(616)]=i[n(571)]?i[n(571)]:[];for(let e of this[n(616)]){if(!(e.color instanceof t.Color))throw TypeError(n(495));e[n(631)]=e.color.toNormalizeArray()}this[n(587)]=i.colorsByGlopeDirection?i.colorsByGlopeDirection:[];for(let e of this[n(587)]){if(!(e[n(631)]instanceof t.Color))throw TypeError(n(495));e.color=e[n(631)][n(650)]()}i[n(648)]&&this[n(582)](),this[n(472)]=Number(i.exaggeration)>0?Number(i[n(540)]):1}[pT(618)](){const t=pT;if(this[t(526)]=null,this._shaderSource=oT,this[t(548)](),this[t(585)]){let e=this[t(494)]();this[t(585)].updateProgram(e,this[t(611)]),this[t(585)][t(615)]=this[t(585)][t(535)]()}}[pT(548)](){const t=pT;if(!this[t(526)]){this[t(526)]=pm[t(669)](this[t(611)][t(524)],this[t(611)][t(602)]);const e=this[t(526)].vsOpts,r=this[t(526)][t(555)];e[t(640)][t(581)](t(510)+this[t(447)]),null!==this[t(539)]&&(e.defines[t(581)]("Texture"),r[t(640)][t(581)](t(475))),this._enableLight&&e[t(640)].push("useLight");let i=this._colorsByHeight[t(456)];i?(r[t(640)][t(581)](t(580)+i),this._colorsByHeightNum=i):(r.defines[t(581)](t(479)),this[t(519)]=0);let n=this[t(616)][t(456)];n?(r.defines[t(581)]("COLORS_GLOPE_NUM "+n),this[t(513)]=n):(r[t(640)].push(t(467)),this[t(513)]=0);let s=this[t(587)].length;s?(r[t(640)].push(t(575)+s),this[t(659)]=s):(r[t(640)].push(t(583)),this[t(659)]=0),this[t(611)][t(654)]=pm.combineShaderOptions(e,!1),this._shaderSource[t(605)]=pm[t(551)](r,!0)}}[pT(532)](){return Ot[pT(514)]}setMap(t){const e=pT;super[e(620)](t),this._unit=0,"4326"===t[e(670)]().getSrid()?(this[e(499)]=-1,this[e(447)]=0):t[e(670)]()[e(630)]()===e(488)&&(this[e(499)]=0,this._unit=1),this[e(647)]=this[e(647)]?Math[e(544)](this[e(647)]-this[e(499)],1):this[e(452)]().getMaxZoom(),this[e(486)]=this[e(486)]?Math[e(544)](this[e(486)]-this[e(499)],1):this.getMap()[e(506)](),this[e(664)]=this._imgMinLevel?Math[e(544)](this[e(664)]-this._imgZoomOffset,1):this[e(452)]().getMinZoom(),this[e(450)]=this._imgMaxLevel?Math[e(544)](this[e(450)]-this[e(503)],1):this[e(452)]()[e(593)](),this[e(614)]()}[pT(614)](){const t=pT;this[t(548)]();let e=this[t(494)]();!this[t(585)]&&(this[t(585)]=new xu(this,e,{texture:this[t(539)],colorH:this[t(608)],enableLight:this[t(497)]}))}_getXYZ(t,e,r){return t+"#"+e+"#"+r}setDrawMode(t){const e=pT;if(t=t||e(490),this[e(585)])switch(t){case e(658):this[e(585)][e(668)]("LINE_STRIP");break;case e(573):this[e(585)][e(668)](e(623));break;default:this[e(585)][e(668)](e(492))}}_addExterInfo(){const t=pT,e=this[t(512)][t(456)];for(let r=0;r<e;r++){const e=this[t(512)][r].get(t(599));for(let r=0,i=e.length;r<i;r++){const i=e[r];if(i[t(598)]=this.setTileUrl(i[t(489)]),null!==this[t(539)]){const e=this[t(617)](i[t(489)]);this._tileIDB?this[t(635)].then((()=>{const r=t;i.imgSrc=e,i[r(619)]=this[r(604)](e),this[r(629)].findData(this[r(474)],r(455),e)[r(520)]((t=>{const n=r;if(t){const e=new Image;e[n(455)]=t[n(652)],i[n(619)].setTexture(e)}else i.imgSrc=e,i[n(619)][n(517)][n(520)]((t=>{const r=n,i=t[r(628)];this._canvas[r(672)]=i[r(672)],this._canvas.width=i[r(568)],this[r(458)].drawImage(i,0,0,i[r(568)],i[r(672)]);const s=this._canvas[r(560)](r(655)+this[r(610)]);this[r(629)][r(504)](this[r(474)],{src:e,base64:s})}))}))})):(i[t(457)]=e,i[t(619)]=this[t(604)](i[t(457)]))}i[t(546)]=this[t(595)](i,this._terrainMatrixOrigin)}}}[pT(622)](t){const e=pT;this._tileIDB||(t[e(457)]=this[e(617)](t.xyz),t.texture=this[e(604)](t[e(457)]))}prepareData(){const t=pT;this[t(559)][t(625)]();let e=this[t(452)]()[t(518)]();if(!(e<this[t(486)]||e>this[t(647)])){this[t(663)](e),this._addExterInfo();for(let e=0,r=this[t(512)][t(456)];e<r;e++){const r=this[t(512)][e],i=r.get(t(489)),n=r[t(523)](t(599));if(this[t(554)][t(487)](i)){const e=this._tileCache[t(523)](i),r=[...this[t(559)][t(562)]()][t(470)]([...e]);this[t(559)]=new Set(r),this[t(554)][t(646)](i),this[t(554)][t(459)](i,e)}else{this[t(554)][t(459)](i,new Set);for(let e=0,r=n.length;e<r;e++){const r=n[e].url,s=n[e][t(546)],o=[s.getLeft(),s[t(527)](),s[t(600)](),s.getTop()],a={subXYZ:n[e],rect:o};this[t(559)][t(649)](r),this[t(554)].get(i)[t(649)](r),this._queryTile(r,i,a)}}}this._checkCacheSize()}}[pT(466)](){const t=pT;if(this._tileCache[t(634)]<=this._vaoPoolCapacity)return;let e=0;for(let r of this[t(554)].keys()){const i=this._tileCache[t(523)](r);this[t(554)][t(646)](r);for(let e of i[t(562)]()){const r=this._painter[t(550)][t(523)](e);r&&(this[t(585)][t(501)](r),this[t(585)][t(449)].removeTextureObject(e))}if(i[t(625)](),e++,e===this[t(596)])break}}[pT(482)](){const t=pT;if(!this._map)return;this.gl.clear(this.gl[t(653)]);const e=this[t(528)][t(558)](),r=Math[t(642)](e[t(469)]()),i=this.getCullFaceStatus();r>90&&i[t(626)]("CW"),super[t(482)](),this[t(585)].draw(this[t(559)]),r>90&&i.setFrontFace("CCW")}[pT(604)](e){const r=pT;let i=null;return null!==e&&!this[r(577)]&&(i=new t.TextureFill(e,{texture_wrap_s:"CLAMP_TO_EDGE",texture_wrap_t:r(601),texture_mag_filter:r(637),texture_min_filter:"NEAREST"})),i}setTileUrl(t){const e=pT,[r,i,n]=t[e(594)]("#");let s=""+this[e(627)]+(Number(n)+this._tileZoomOffset)+"/"+r+"/"+i+e(530);return this[e(586)](s)}[pT(617)](t){const e=pT;let[r,i,n]=t.split("#");if(Number(n)>this[e(450)]||Number(n)<this[e(664)])return this[e(577)]=!0,"";{this._outZoomI=!1;const{xMode:t,yMode:s,mode:o}=this.getMode();if(!o){const o=this[e(547)](Number(n));!t&&(r=o.xRange-Number(r)),!s&&(i=o[e(607)]-Number(i))}return this[e(539)][e(516)]("{x}",r)[e(516)]("{y}",i)[e(516)](e(481),Number(n)+this._imgZoomOffset)}}[pT(663)](t){const e=pT;this._tileBuffer=[];const r=this[e(478)](t,this[e(453)],!0),i=this[e(563)](t,this[e(453)]);if(t<=1&&0===this._unit)this._set4326XYZ0(i,r,t);else{const n=this[e(547)](t),s=Math[e(544)]((n[e(454)]+1)/this[e(496)]-1,0),o=Math[e(544)]((n[e(607)]+1)/this[e(496)]-1,0),a=Math[e(665)](i[e(570)],s),h=Math.max(i.minX-1,0),l=Math[e(665)](r[e(574)],o),c=Math[e(544)](r[e(531)]-1,0);for(let r=a;r>=h;r--)for(let i=l;i>=c;i--){let n=new Map;const{subXYZ:s}=this[e(462)](r,i,t,this[e(453)]);n[e(459)](e(489),this._getXYZ(r,i,t)),n[e(459)](e(599),s),this[e(512)][this[e(512)].length]=n}}}_set4326XYZ0(t,e,r){const i=pT,n=Math[i(544)](t[i(502)]-1,0),s=Math[i(544)](e[i(531)]-1,0);for(let o=t[i(570)];o>=n;o--)for(let t=e.maxY;t>=s;t--){let e=new Map;const n=[{xyz:this[i(667)](o,t,r),url:"",offset:[0,0]}];e[i(459)](i(489),this._getXYZ(o,t,r)),e.set(i(599),n),this[i(512)][this[i(512)].length]=e}}getMode(){const t=pT,e=this[t(453)][t(536)]("X"),r=this[t(453)][t(536)]("Y");let i=e===this._matrixOrigin[t(536)]("X"),n=r===this[t(564)][t(536)]("Y");return{xMode:i,yMode:n,mode:i===n==!0}}[pT(547)](t){const e=pT,r=this[e(528)].getResolution(t),i=this[e(591)][e(509)](),n=this[e(591)][e(448)](),s=Math[e(642)](this[e(453)][e(536)]("Y"))/r*2/n;return{xRange:Math[e(642)](this[e(453)][e(536)]("X"))/r*2/i-1,yRange:s-1}}[pT(595)](t,e){const r=pT,i=t[r(489)][r(594)]("#");return this[r(579)](1*i[0],1*i[1],1*i[2],this[r(591)].getWidth(),this[r(591)].getHeight(),e,!0)}[pT(584)](t,e,r){const i=pT;this._tileIDB?this[i(635)][i(520)]((()=>{const n=i;this[n(629)][n(491)](this[n(657)],n(598),t).then((i=>{const s=n;i?this[s(590)](t,e,i[s(498)],r):this[s(636)](t,e,r)}))})):this[i(636)](t,e,r)}[pT(636)](t,e,r){const i=pT;cT[i(461)](t)[i(520)]((n=>{const s=i;if(null===n)return void this._tileCache.get(e)[s(646)](t);const o=cT[s(569)](n,this[s(460)]);this[s(590)](t,e,o,r),this[s(629)]&&this._tileIDB[s(504)](this._tileStoreName,{url:t,tileObj:o})}))}_dealTile(t,e,r,i){const n=pT,s=i[n(599)];this[n(585)][n(556)]({url:t,tile:r,imgSrc:s.imgSrc,texture:{fill:s[n(619)],size:this[n(591)],groupSideLength:this[n(496)],offset:s[n(561)],outZoomI:this._outZoomI},rect:i[n(485)]})}_initIndexDB(){const e=pT;this[e(627)]&&(this[e(635)]=new Promise(((r,i)=>{const n=e;this._tileStoreName=this._url+"/terrain",this[n(508)]=new t.DataStore(this[n(657)],{keyPath:n(598),autoIncrement:!1}),this[n(508)].setIndex("url","url",{unique:!0}),this[n(474)]=n(632),null!==this._imgUrl&&(this[n(500)]=document[n(473)](n(639)),this._ctx=this[n(500)][n(651)]("2d")),this._imgStore=new t.DataStore(this._imgStoreName,{keyPath:n(455),autoIncrement:!1}),this._imgStore[n(468)](n(455),n(455),{unique:!0}),this[n(629)]=new t.IndexedDB(this[n(627)],2,{storeList:[this[n(508)],this[n(537)]]}),this[n(629)].init()[n(520)]((t=>{r(t)})).catch((t=>{i(t)}))})))}[pT(534)](){const t=pT;let e={},r=[];if(this[t(629)]){let i=this;this[t(635)][t(520)]((()=>{const n=t,s=i[n(629)][n(543)](i[n(474)])[n(520)]((t=>{e.img=t.msg})),o=i[n(629)][n(543)](i[n(657)]).then((t=>{e[n(613)]=t.msg}));r.push(s,o)}))}return new Promise((i=>{const n=t;Promise[n(638)](r)[n(520)]((()=>{i(e)}))}))}[pT(507)](t){const e=pT,r=[];for(let i of this[e(559)]){const n=this._painter[e(550)][e(523)](i);if(!n)continue;const s=n[e(643)].u_rect,o=n[e(643)][e(483)],a=n[e(567)][0][e(477)][e(538)];r[e(581)](...this[e(484)](t,i,a,s,o))}return r}[pT(484)](e,r,i,n,s){const o=pT,a=n[0],h=(n[1]-n[0])/32767,l=n[2],c=(n[3]-n[2])/32767,u=s[0],p=(s[1]-s[0])/32767,f=i[o(576)].uBuffer,g=i[o(576)][o(465)],d=i[o(576)][o(624)],_=i[o(597)],y=111e3*(1-this._unit)+this._unit,m=new t.Vector3,I=new t.Vector3,x=new t.Vector3;let v=0;const b=[];for(let i=0;i<_.length;i+=3){v=_[i],m[o(459)](a+h*f[v],l+c*g[v],(u+p*d[v])/y),v=_[i+1],I[o(459)](a+h*f[v],l+c*g[v],(u+p*d[v])/y),v=_[i+2],x[o(459)](a+h*f[v],l+c*g[v],(u+p*d[v])/y);let n=t.Intersect3D[o(566)](e,[m,I,x]);if(n){let t=e[o(542)](n);b.push({distance:t,feature:{tileName:r,intersectCoordinate:n}})}}return b}[pT(515)](t,e,r){}}const dT=["38wEvfwM","get","handleBlock","_map","toUint8Array","drawType","POINT_ON_SURFACE","404169efFVpH","index","getCrs","getPoints","fill","a_side","245AFWYsL","getCoordinate","push","a_highlight","buffer","_owner","owner","3cavEqv","TRIANGLES","435053DXvgxa","415RSUnBH","27638oOGCTE","concat","set","_handleFeature","height","features","_createPointStretch","toArray","1339DaACkF","691oTnpqa","dataMap","a_color","_mapUnit","degrees","29476BBXTMO","forEach","getRadius","a_position","length","_calculateBBox","1XCfDdQ","getMarkerSymbols","211778zFegwS","28NbSCcH","cos","random","_dealBlockData","a_lineWidth","apply"],_T=yT;function yT(t,e){return dT[t-=482]}!function(t,e){const r=yT;for(;;)try{if(695542===-parseInt(r(531))*-parseInt(r(529))+parseInt(r(509))*parseInt(r(533))+parseInt(r(516))*parseInt(r(500))+-parseInt(r(522))*parseInt(r(532))+parseInt(r(489))*-parseInt(r(488))-parseInt(r(502))+parseInt(r(503))*-parseInt(r(494)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(dT);class mT extends bh{constructor(t,e={}){const r=yT;e[r(514)]="drawElements",super(t,e),this[r(492)]=this[r(528)].owner._map&&this[r(528)][r(528)][r(512)][r(518)]().getUnit()||r(493)}[_T(511)](t){const e=_T,r=t[e(485)];for(let t=r[e(498)]-1;t>-1;t--){const i=r[t];i[e(526)]||this._handleFeature(i)}this[e(506)](t)}[_T(483)](e){const r=_T;e[r(526)]=this[r(490)];const i=e.getGeometry(),n=e.getAttributes();let s=e._height;if(void 0===s&&(s=n[r(484)]||10+590*Math[r(505)](),this._mapUnit===r(493)&&(s/=111e3)),this[r(499)](e,i,s),i instanceof t.Point)this[r(486)](i[r(523)](),s,e);else if(i instanceof t.MultiPoint){i[r(519)]()[r(495)]((t=>this[r(486)](t.getCoordinate(),s,e)))}e[r(526)][r(482)]("mode",[this[r(527)].gl[r(530)]]),e[r(526)][r(482)]("drawCount",[e[r(526)][r(510)](r(517)).length]);const o=e._selected?1:0;e[r(526)][r(482)](r(525),[][r(534)][r(508)]([],new Array(e[r(526)][r(510)](r(497)).length/3)[r(520)](o))),e.painterType=t.painterType[r(515)]}[_T(486)](e,r,i){const n=_T;let s=i.getStyle()[n(501)]()[0],o=s instanceof t.Circle?s:new t.Circle,a=2*o[n(496)](),h=o.getFillColor(),l=e[n(487)](),c=[l[0],l[1],l[2]+r],u=[],p=[],f=[],g=[],d=[],_=[],y=[],m=i[n(526)],I=m[n(510)](n(497)),x=m[n(510)](n(491)),v=m.get(n(507)),b=m.get(n(521)),w=m.get(n(517)),T=a<=10?15:a<=30?30:50,E=2*Math.PI/T;x[n(524)](...[][n(534)][n(508)]([],new Array(2*T)[n(520)](h[n(513)]()))),v.push(...new Array(2*T)[n(520)](a)),u.push(...[][n(534)][n(508)]([],new Array(T)[n(520)](c))),g[n(524)](...[][n(534)][n(508)]([],new Array(T)[n(520)](l))),I[n(524)](...u,...g);for(let t=0;t<T;t++){let e=t*E,r=Math[n(504)](e),i=Math.sin(e);p.push(r,i),_[n(524)](r,i)}b.push(...p,..._);for(let t=1,e=T-1;t<e;t++)f[n(524)](0,t,t+1),d.push(0,t+1,t),y[n(524)](t-1,T-1+t,T+t,t-1,T+t,t);y[n(524)](T-2,2*T-2,2*T-1,T-2,2*T-1,T-1),y[n(524)](T-1,2*T-1,T,T-1,T,0),d[n(495)](((t,e)=>d[e]=t+T)),w[n(524)](...f,...d,...y)}_calculateBBox(t,e,r){}}const IT=["BACK","depthMask","container","stencilMask","delete","getNormalColorArr","dispatch","blockHelperType","getIntensity","1Grepwl","NOTEQUAL","LAYEREVENT_DATACHANGE","CULL_FACE","clientHeight","disable","stencilOpSeparate","getCamera","bid","event","divide","58967hLRSUa","get","getSunlight","52nPMHmI","1381951BUfsID","length","update","owner","LESS","_remove","enable","LN2","blockSize","KEEP","colorMask","862632vYmVtV","line","_gl","_parser","getFogDist","4521wHURwq","1139423ChvtRD","22RFiGNK","getFPlaneDistance","clearStencil","1471179dgzgOt","log","opacity","getCoordinate","STENCIL_BUFFER_BIT","clear","_add","getElements","draw","DEPTH_TEST","clientWidth","ALWAYS","207RzWNWh","getProjMatrix","15148nyJdSA","addTask","blockHelper","_parserOpt","STENCIL_TEST","stencilFunc","_blocks","_map","program","getOrdinate","removeBlock","FRONT","active"],xT=vT;function vT(t,e){return IT[t-=334]}!function(t,e){const r=vT;for(;;)try{if(763704===parseInt(r(361))+parseInt(r(346))*-parseInt(r(368))+-parseInt(r(371))+parseInt(r(366))*parseInt(r(383))+parseInt(r(335))*parseInt(r(367))+parseInt(r(385))*-parseInt(r(349))+parseInt(r(350)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(IT);class bT extends gh{constructor(t,e,r={}){const i=vT,n=r[i(358)]||100,s=r.drawType||"drawElements",o=r[i(405)]||"";super(t,i(362),e,n,s,o),this[i(364)]=new mT(this,this[i(388)])}[xT(379)](t){const e=xT,r=this[e(353)][e(392)],i=this._filterBlocks(t),n=mh[e(345)](r[e(342)]()[e(374)]()[e(394)]("X")),s=mh[e(345)](r[e(342)]()[e(374)]().getOrdinate("Y")),o=mh.divide(r[e(342)]()[e(374)]()[e(394)]("Z")),a=2/(Math[e(372)](r[e(342)]()[e(369)]()+1)/Math[e(357)]),h=r[e(348)]();this[e(393)].active().setUniforms({u_opacity:this[e(373)],u_pMatrix:r[e(384)]().getElements(),u_vMatrix:r.getViewMatrix()[e(378)](),u_viewport:[1*r[e(400)][e(381)],1*r[e(400)][e(339)]],u_fogColor:r.getFogColor(),u_fogDist:r[e(365)](),u_eyeH:[n[0],s[0],o[0]],u_eyeL:[n[1],s[1],o[1]],u_pattern0:0,u_logDepthFunc:a,u_highlightColor:r.getHighlightColor(),u_lightDirection:h.getDirection(),u_lightColor:h[e(403)](),u_intensity:h[e(334)]()});const l=this[e(363)];l[e(360)](!1,!1,!1,!1),l[e(356)](l[e(380)]),l.depthMask(!1),l[e(340)](l[e(338)]),l[e(356)](l[e(389)]),l[e(401)](1),l[e(370)](0),l[e(376)](l[e(375)]),l[e(390)](l[e(382)],0,1),l[e(341)](l[e(396)],l[e(359)],l.KEEP,l.INCR_WRAP),l[e(341)](l[e(398)],l.KEEP,l[e(359)],l.DECR_WRAP),this[e(393)].draw(i),l.colorMask(!0,!0,!0,!0),l.enable(l[e(338)]),l.depthFunc(l[e(354)]),l[e(390)](l[e(336)],0,1),l[e(401)](0),this[e(393)][e(379)](i),l.disable(l[e(389)]),l[e(399)](!0)}[xT(377)](t){const e=xT,r=this[e(387)][e(347)](t);return r.add(t),this[e(386)](r),this.owner[e(392)].af.active(),this}[xT(355)](t){const e=xT;if(!t.bid)return null;const r=this._blocks[e(347)](t.bid);return r[e(402)](t),r.features[e(351)]>0?this[e(386)](r):this[e(395)](r),this[e(353)][e(392)].af[e(397)](),t}[xT(352)](t){const e=xT;if(!t[e(343)])return null;const r=this[e(391)][e(347)](t[e(343)]);return r[e(352)](t),this[e(386)](r),this[e(353)][e(392)][e(344)][e(404)](new ch(p[e(337)])),t}}const wT=["getExtent","container","_layerExtra","updateFeature","_oitDraw","event","getRight","splice","_OITMode","forEach","299133VgUZLp","setStyle","1cSqSxU","enableHashCode","draw","setMap","51549GzdTDO","getWorldExtent","removeFeature","3kaLlET","107003HhmcCx","getContainer","indexOf","getContext","_style","LINE_ON_SURFACE","add","getStyle","_oitPainter","3DNoATc","_mergeExtra","getBottom","NONE","8209vqdmLP","getLeft","update","addFeature","layerOctree","1073170OTWiGL","3YOEKwb","POLYGON_ON_SURFACE","painters","getExtension","EXT_color_buffer_float","_featuresToAdd","_map","set","_painters","35430dsGsJz","8vutAZn","remove","getLayerContainer","POINT_ON_SURFACE","getTop","176759YGeBls","get","painterType","max","getGeometry"],TT=ET;function ET(t,e){return wT[t-=145]}!function(t,e){const r=ET;for(;;)try{if(162240===-parseInt(r(189))*-parseInt(r(198))+parseInt(r(166))*-parseInt(r(179))+-parseInt(r(183))*parseInt(r(199))+-parseInt(r(162))*parseInt(r(145))-parseInt(r(160))+parseInt(r(170))*-parseInt(r(169))+parseInt(r(188)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wT);class CT extends Hg{constructor(t,e={}){super(t,e)}[TT(186)](e){const r=TT;if(e instanceof t.Vector&&!e[r(177)]()&&e[r(161)](this[r(174)]),this._map){const i=e[r(149)]();i instanceof t.Polygon||i instanceof t.MultiPolygon?this[r(191)][r(146)](t.painterType.POLYGON_ON_SURFACE)[r(176)](e):i instanceof t.Line||i instanceof t.MultiLine?this[r(191)][r(146)](t.painterType.LINE_ON_SURFACE)[r(176)](e):(i instanceof t.Point||i instanceof t.MultiPoint)&&this[r(191)][r(146)](t.painterType[r(202)])[r(176)](e)}else this._featuresToAdd.push(e)}[TT(153)](e){const r=TT;if(this[r(195)]){const i=e[r(147)],n=e.getGeometry();let s;n instanceof t.Polygon||n instanceof t.MultiPolygon?s=i[r(190)]:n instanceof t.Line||n instanceof t.MultiLine?s=i[r(175)]:(n instanceof t.Point||n instanceof t.MultiPoint)&&(s=i[r(202)]),i===s?this[r(191)][r(146)](s)[r(185)](e):(this[r(191)][r(146)](i)[r(200)](e),this[r(186)](e))}else{const t=this._featuresToAdd[r(172)](e);t>-1&&(this[r(194)][t]=e)}}[TT(168)](e){const r=TT,i=e[r(147)];if(i===t.painterType[r(182)])return!1;if(this._map)this[r(191)][r(146)](i)[r(200)](e);else{const t=this._featuresToAdd.indexOf(e);t>-1&&this[r(194)][r(157)](t,1)}}draw(){const t=TT;if(this.activeStatusManager(this.gl),this._isOIT)this[t(154)]();else{const e=this[t(195)][t(150)]();this[t(191)][t(159)](((r,i)=>{r[t(164)](e)}))}}[TT(165)](e){const r=TT;if(!(e instanceof sg))throw new TypeError("map must be instance of hmap.Map!");this[r(155)]=e[r(155)],this[r(195)]=e;const i=this[r(201)]();if(this[r(151)]=i[r(171)](),this.gl=i[r(173)](),this[r(163)]){const i=e.getCrs()[r(167)]();let n=Math.min(i[r(181)](),i[r(184)]()),s=Math[r(148)](i[r(203)](),i[r(156)]()),o=new t.Vector3(n,n,n),a=new t.Vector3(s,s,s);this[r(187)]=new Ug(o,a)}let n=this[r(152)]();this._isOIT&&(this[r(178)]=new ru(this),this.gl[r(192)](r(193)),n=this._layerExtra({oit:this[r(158)]}));const s=new ac(this,this[r(180)](n,{stretch:0,colorI:0,highlight:0,depthDelta:0}));this[r(197)][r(196)](t.painterType[r(190)],s);const o=new Qu(this,this[r(180)](n,{colorI:0,highlight:0,depthDelta:0,wideSolid:0}));this[r(197)][r(196)](t.painterType[r(175)],o);const a=new bT(this,this[r(180)](n,{colorI:0,highlight:0,depthDelta:0,wideSolid:0}));this._painters[r(196)](t.painterType[r(202)],a),this.initStoredFeature()}}const AT=["158865UQMXLd","6KWPmxc","13sLEgJn","118411zhkeQB","now","apply","11brXeHZ","82361YWBuCU","43288cwYrTY","1QXhxgJ","1czlvRs","15607mgeNYL","16037epaxhG","3343ZlETvD"];function MT(t,e){return AT[t-=387]}function ST(){let t=null,e=Date.now();return function(r,i,n){const s=MT;let o=i-(Date[s(395)]()-e);clearTimeout(t),o<=0?(r.apply(n),e=Date[s(395)]()):t=setTimeout((()=>r[s(396)](n)),o)}}!function(t,e){const r=MT;for(;;)try{if(112321===parseInt(r(392))*parseInt(r(388))+-parseInt(r(400))*-parseInt(r(394))+parseInt(r(398))*-parseInt(r(387))+parseInt(r(391))+-parseInt(r(399))+-parseInt(r(393))*-parseInt(r(390))+-parseInt(r(397))*parseInt(r(389)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(AT);const PT=["delete","52YJexIm","getModelInstanceById","239291sZRZrH","getElements","_deleteModelInstancesVbo","41546vrctxH","add","_updateMatrixVBO","1ESVKhz","_mmMap","has","_delay","281365iWdqBB","523747nniiZn","updateModelInstance","modelId","addModelInstance","_instanceChangeMIds","get","modelMatrix","keys","66682GqMkLS","getMid","384446vrOWXH","_assembleMatix","_throttle","1YKozKB","set","push","_map","removeModelAllInstances","7983NqgARY"],RT=LT;function LT(t,e){return PT[t-=407]}!function(t,e){const r=LT;for(;;)try{if(269977===-parseInt(r(417))+parseInt(r(425))+-parseInt(r(438))*-parseInt(r(424))+parseInt(r(412))*-parseInt(r(410))+parseInt(r(414))+parseInt(r(420))*-parseInt(r(435))+parseInt(r(433)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(PT);class FT extends Dt{constructor(t,e={}){const r=LT;super(e),this[r(423)]=500,this[r(421)]=new Map,this._instanceChangeMIds=new Set,this[r(437)]=ST()}[RT(428)](t,e){const r=RT;let i=t[r(434)](),n=this[r(421)].get(i);return!n&&(n=new Set,this[r(421)][r(439)](i,n)),n[r(418)](e),e[r(427)]=i,this[r(429)][r(418)](i),this[r(408)]&&this[r(437)](this[r(419)],this[r(423)],this),this}removeModelInstance(t){const e=RT,r=t[e(427)];return r&&this[e(421)][e(422)](r)&&(this[e(421)][e(430)](r)[e(411)](t),this[e(429)][e(418)](r),this[e(408)]&&this[e(437)](this[e(419)],this[e(423)],this)),this}[RT(426)](t){const e=RT,r=t[e(427)];r&&(this[e(429)][e(418)](r),this[e(408)]&&this[e(437)](this[e(419)],this[e(423)],this))}[RT(409)](t){const e=RT;return this._mmMap[e(411)](t),this[e(416)](t),this.redraw(),this}[RT(413)](t,e){const r=RT;if(!this._mmMap[r(422)](t))return null;let i,n=this._mmMap.get(t);for(let t of n[r(432)]())if(t.id===e){i=t;break}return i}[RT(419)](){}[RT(416)](t){}[RT(436)](t){const e=[];return t.forEach((t=>{const r=LT,i=t[r(431)][r(415)]();e[r(407)](...i)})),new Float32Array(e)}}const DT=["515642soGhOJ","8riTLnN","170062ClEXSb","278086RTUPMC","#version 300 es\n\t\tin vec4 a_position;\n\t\tin vec4 a_normal;\n\t\tin vec3 a_color;\n\t\tin vec2 a_texCoord;\n\n\t\tout vec3 v_color;\n\t\tout vec2 v_texCoord;\n\t\tout vec4 v_position;\n\t\tout vec3 v_normal;\n\t\t// out mat4 v_allMMatrix;\n\t\tout vec4 v_tempPosition;\n\n        uniform float u_unit;\n        uniform mat4 u_vpMatrix;\n\n\t\tin vec4 a_allMMatrix1;//1\n\t\tin vec4 a_allMMatrix2;//2\n\t\tin vec4 a_allMMatrix3;//3\n\t\tin vec4 a_allMMatrix4;//4\n\t\tin vec4 a_normalMatrix1;//1\n\t\tin vec4 a_normalMatrix2;//2\n\t\tin vec4 a_normalMatrix3;//3\n\t\tin vec4 a_normalMatrix4;//4\n\t\t\n\t\tvoid main(){\n\t\t    mat4 allMMatrix = mat4(a_allMMatrix1, a_allMMatrix2, a_allMMatrix3, a_allMMatrix4);\n\t\t    mat4 normalMatrix = mat4(a_normalMatrix1, a_normalMatrix2, a_normalMatrix3, a_normalMatrix4);\n\t\t    // mat4 u_viewMatrix = mat4(a_viewMatrix1, a_viewMatrix2, a_viewMatrix3, a_viewMatrix4);\n\n\t        mat4 modelMatrix=allMMatrix;\n\t        // modelMatrix[3]=vec4(0.0,0.0,0.0,modelMatrix[3][3]);\n\t        gl_Position=u_vpMatrix*modelMatrix*a_position;\n\t     \n\t        vec4 vertexPosition = allMMatrix*a_position;\n\t        // ()\n\t        vec3 normal = normalize(vec3(normalMatrix * a_normal));//n\t        v_color = a_color;\n\t        v_texCoord = a_texCoord;\n\t\t\tv_position = vertexPosition;\n\t\t\tv_normal = normal;\n\t\t\t// v_allMMatrix = allMMatrix;\n\n\t\t\tv_tempPosition = modelMatrix * a_position;\n\t\t}\n","1WcRvIz","75310KwMXNE","1117317iHtQug","728938dnqkVc","1PLACmD","839540UBWZGN"];function OT(t,e){return DT[t-=196]}const NT=OT;!function(t,e){const r=OT;for(;;)try{if(558937===parseInt(r(198))+-parseInt(r(199))+parseInt(r(205))*parseInt(r(196))+-parseInt(r(204))+-parseInt(r(201))*-parseInt(r(203))+parseInt(r(197))*parseInt(r(202))+-parseInt(r(206)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(DT);const BT={};BT.vs=NT(200),BT.fs="#version 300 es\nprecision highp float;\n\n#define PI 3.141592653589793\n#define RECIPROCAL_PI 0.3183098861837907\n#define saturate(a) clamp( a, 0.0, 1.0 )\n\nuniform vec3  eyePosition;//\nuniform float u_opacityFactor;//\nuniform float u_opacity;//\n\nuniform bool u_highlight;\nuniform vec4 u_highlightColor;\n\nin vec3 v_color;\nin vec2 v_texCoord;\nin vec4 v_position;\nin vec3 v_normal;\nin vec4 v_tempPosition;\n\nuniform bool  u_useTexture;\nuniform sampler2D u_sampler;\nout vec4 outColor;\n\n// nstruct PointLight {\n    vec3 position;\n    vec3 color;\n    float distance;\n    float decay;\n};\nuniform PointLight pointLight;\n// nstruct AmbientLight {\n    vec3 color;\n};\nuniform AmbientLight ambientLight;\n\n// nstruct DirectionLight {\n    vec3 direction;\n    vec3 color;\n};\nuniform DirectionLight directionLight;\n\n//\nstruct PhongMaterial {\n    vec3 emissive;  // n    vec3 ambient;   // \n    vec3 diffuse;     // \n    vec3 specular;   // n    float shininess;  // n    float opacity;\n};\nuniform PhongMaterial material;\n\n// nstruct GeometricContext {\n    vec4 position;\n    vec3 normal;\n    vec3 viewDir;\n};\n\n// \nstruct ReflectedLight {\n    vec3 emissive;\n    vec3 ambient;\n    vec3 directDiffuse;\n    vec3 directSpecular;\n    vec3 indirectDiffuse;\n    vec3 indirectSpecular;\n};\n\n//   nstruct IncidentLight {\n    vec3 color;\n    vec3 direction;\n};\n\nvoid getDirectionalDirectLightIrradiance( const in DirectionLight directionLight,  out IncidentLight directLight ) {\n    directLight.color = directionLight.color;\n    directLight.direction = normalize(directionLight.direction);\n}\n\n// nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuse ) {\n    return  RECIPROCAL_PI * diffuse;\n}\n\n// nfloat pointDelay( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n    if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n        return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n    }\n    return 1.0;\n}\n\n//\nvoid converPointLightToDirectLight( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n    vec3 lVector = geometry.position.xyz - pointLight.position;\n    directLight.direction = normalize( lVector );\n    float lightDistance = length( lVector );\n    directLight.color = pointLight.color;\n    // n    directLight.color *= pointDelay( lightDistance, pointLight.distance, pointLight.decay );\n}\n\n// nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in PhongMaterial material, inout ReflectedLight reflectedLight ) {\n    //n    float dotNL = saturate( dot( geometry.normal, -directLight.direction ) );\n    vec3 irradiance = dotNL * directLight.color;\n    #ifndef PHYSICALLY_CORRECT_LIGHTS\n        irradiance *= PI;\n    #endif\n    reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert(material.diffuse);\n\n    //\n    vec3 reflectDir = reflect(-directLight.direction,geometry.normal);\n    float spec = pow(max(dot(geometry.viewDir, reflectDir), 0.0), material.shininess);\n    reflectedLight.directSpecular += material.specular*spec*directLight.color;\n}\n\nPhongMaterial getDefaultMaterial(PhongMaterial material){\n    PhongMaterial materialN;\n    materialN.emissive = material.emissive;\n    materialN.ambient = material.ambient;\n    materialN.diffuse = material.diffuse;\n    materialN.specular = material.specular;\n    materialN.shininess = material.shininess;\n    materialN.opacity = material.opacity;\n    return materialN;\n}\n\nReflectedLight getDefaultReflectedLight(){\n    ReflectedLight reflectedLight;\n    reflectedLight.ambient = vec3(0.0);\n    reflectedLight.directDiffuse=vec3(0.0);\n    reflectedLight.directSpecular=vec3(0.0);\n    reflectedLight.indirectDiffuse=vec3(0.0);\n    reflectedLight.indirectSpecular=vec3(0.0);\n    return reflectedLight;\n}\n\nvoid main(){\n    // n    ReflectedLight reflectedLight = getDefaultReflectedLight();\n\n    GeometricContext geometry;\n    geometry.position = v_position;\n    geometry.normal = v_normal;\n    geometry.viewDir = normalize(v_tempPosition.xyz);\n    IncidentLight directLight;\n\n    vec3 color = vec3(0.0);\n    PhongMaterial materialN =  getDefaultMaterial(material);\n    if(u_useTexture){\n        color = texture(u_sampler, v_texCoord).rgb;\n        materialN.diffuse = color;\n    }\n\n    //n    getDirectionalDirectLightIrradiance(directionLight, directLight );\n    RE_Direct_BlinnPhong(directLight, geometry, materialN, reflectedLight);\n\n    // //n    converPointLightToDirectLight( pointLight, geometry, directLight );\n    RE_Direct_BlinnPhong( directLight, geometry, materialN, reflectedLight);\n\n    // n    reflectedLight.ambient += materialN.diffuse * ambientLight.color;\n\n    //n    reflectedLight.emissive += materialN.emissive;\n\n    // olor\n    color = reflectedLight.emissive + reflectedLight.ambient + reflectedLight.directDiffuse+reflectedLight.directSpecular+reflectedLight.indirectDiffuse+reflectedLight.indirectSpecular;\n    outColor = vec4(color,u_opacityFactor*u_opacity*materialN.opacity);\n\n    // \n    if(u_highlight){\n        outColor = outColor*(1.0-u_highlightColor.a) + u_highlightColor*u_highlightColor.a;\n    }\n}\n";const UT=["1ssXZAR","447799Gyubio","texCoordAttr","1315ecpeiR","directionLight.direction","ARRAY_BUFFER","color","attributes","1009HjWhSe","u_vpMatrix","eyePosition","decay","distance","u_sampler","638811DsplNj","createBuffer","a_color","index","setModelUniforms","pointLight.decay","uniform1f","pointLight.distance","6782XJrnmO","uniformMatrix4fv","vertexAttribPointer","Matrix","3019676hlbQrs","BYTES_PER_ELEMENT","setSampleUniforms","a_position","mode","u_opacity","a_texCoord","directionLight.color","u_opacityFactor","count","vertexAttribDivisor","bindBuffer","a_allMMatrix","1723381DZZaHI","ambientLight.color","761077XzzxSj","FLOAT","intensity","createVBOs","uniforms","TRIANGLES","location","setPublicUniforms","a_normal","direction","u_highlightColor","62bvvzbB","uniform1i","ELEMENT_ARRAY_BUFFER","enableVertexAttribArray","uniform4fv","draw","u_highlight","position","material.diffuse","setLightUniforms","u_useTexture","setMeshPublic","uniform3f","setMaterialUniforms","type"],kT=GT;!function(t,e){const r=GT;for(;;)try{if(960009===parseInt(r(303))*-parseInt(r(308))+-parseInt(r(301))*-parseInt(r(300))-parseInt(r(314))+parseInt(r(274))+-parseInt(r(272))+-parseInt(r(255))*-parseInt(r(285))+parseInt(r(259)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(UT);class VT extends qc{constructor(t){const e=GT;super(t,BT.vs,BT.fs),this.attributesLayout=this._organizeAttributesLayout(),this[e(263)]=t[e(279)]}_organizeAttributesLayout(){const t=GT;return this[t(302)]={name:t(265),location:this[t(307)][t(265)],count:2,type:Float32Array},{a_position:{name:"a_position",location:this[t(307)][t(262)],count:3,type:Float32Array},a_color:{name:"a_color",location:this[t(307)][t(316)],count:3,type:Float32Array},a_normal:{name:t(282),location:this[t(307)][t(282)],count:3,type:Float32Array},a_allMMatrix:{name:t(271),location:this[t(307)][t(271)],count:4,type:Float32Array},a_normalMatrix:{name:"a_normalMatrix",location:this.attributes.a_normalMatrix,count:4,type:Float32Array}}}[kT(290)](t,e){const r=kT;this.gl.drawArraysInstanced(this[r(263)],0,t,e)}[kT(281)](t){const e=kT;this.gl[e(256)](this.uniforms[e(309)],!1,t[e(309)].getElements()),this.gl.uniform3fv(this[e(278)][e(310)],t.eyePosition),this.gl[e(320)](this[e(278)][e(264)],t[e(264)]),this.gl[e(289)](this.uniforms[e(284)],t[e(284)])}[kT(294)](t){const e=kT,r=this.gl,{pointLight:i,directionLight:n,ambientLight:s}=t;r.uniform3f(this.uniforms["pointLight.color"],i[e(306)][0]*i.intensity,i[e(306)][1]*i[e(276)],i.color[2]*i[e(276)]),r.uniform3f(this[e(278)]["pointLight.position"],i.position[0],i[e(292)][1],i[e(292)][2]),r[e(320)](this[e(278)][e(254)],i[e(312)]),r[e(320)](this.uniforms[e(319)],i[e(311)]),r[e(297)](this.uniforms[e(266)],n[e(306)][0]*n.intensity,n[e(306)][1]*n[e(276)],n[e(306)][2]*n[e(276)]),r[e(297)](this[e(278)][e(304)],n[e(283)][0],n[e(283)][1],n[e(283)][2]),r[e(297)](this[e(278)][e(273)],s[e(306)][0]*s[e(276)],s[e(306)][1]*s[e(276)],s.color[2]*s[e(276)])}[kT(298)](t){const e=kT,r=this.gl,{emissive:i,emissiveFactor:n,ambient:s,diffuse:o,diffuseFactor:a,specular:h,shininess:l,opacity:c,specularFactor:u}=t;r[e(297)](this[e(278)]["material.emissive"],i[0]*n,i[1]*n,i[2]*n),r.uniform3f(this[e(278)]["material.ambient"],s[0],s[1],s[2]),r.uniform3f(this[e(278)][e(293)],o[0]*a,o[1]*a,o[2]*a),r[e(297)](this.uniforms["material.specular"],h[0]*u,h[1]*u,h[2]*u),r[e(320)](this.uniforms["material.shininess"],l),r[e(320)](this.uniforms["material.opacity"],c)}[kT(261)](t){const e=kT;this.gl.uniform1i(this[e(278)][e(313)],t.u_sampler),this.gl[e(286)](this.uniforms[e(295)],t[e(295)])}[kT(318)](t){const e=kT;this.gl.uniform1f(this[e(278)][e(267)],t.u_opacityFactor)}[kT(296)](t){const e=kT;this.gl[e(286)](this[e(278)].u_highlight,t[e(291)])}[kT(277)](){const t=kT,e=this.gl,r=this.attributesLayout,i={};for(let n in r)if(n===t(317))i[t(317)]=e.createBuffer(),e[t(270)](e[t(287)],i[t(317)]);else if(n.indexOf(t(258))<0){i[n]=e[t(315)](),e[t(270)](e.ARRAY_BUFFER,i[n]);const s=r[n][t(280)];e[t(257)](s,r[n].count,e[t(275)],!1,0,0),e[t(288)](s)}else{const s=r[n][t(299)][t(260)];i[n]=e.createBuffer(),e[t(270)](e[t(305)],i[n]);const o=this[t(307)][n+"1"];e[t(257)](o,r[n][t(268)],e[t(275)],!1,16*s,0*s),e[t(288)](o),e[t(269)](o,1);const a=this[t(307)][n+"2"];e.vertexAttribPointer(a,r[n].count,e.FLOAT,!1,16*s,4*s),e[t(288)](a),e[t(269)](a,1);const h=this[t(307)][n+"3"];e[t(257)](h,r[n][t(268)],e[t(275)],!1,16*s,8*s),e[t(288)](h),e[t(269)](h,1);const l=this[t(307)][n+"4"];e[t(257)](l,r[n][t(268)],e[t(275)],!1,16*s,12*s),e[t(288)](l),e[t(269)](l,1)}return i}}function GT(t,e){return UT[t-=254]}const zT=["pointLight","activeTexture","position","NEAREST","TEXTURE0","_eyeZ","_updateMMsVBO","TEXTURE_MAG_FILTER","_modelMap","setHighlightColor","texture","getMid","u_pmatrix","getCenter","386dKEpMY","toNormalizeArray","concat","from","models","format","camera","minFilter","distance","u_sampler","matrix","u_highlightColor","customMaterial","unvalid document element!","UNPACK_FLIP_Y_WEBGL","geometry","23753ScZpJX","getVPMatrix","texImage2D","slice","color","intensity","modelTextureMap","31641veCmYF","wrapS","material","count","_eyeY","_render","direction","videoTextures","decay","_selected","directionLight","mergeGroup","item","texCoordAttr","11mxyKqU","then","setVaoDatas","useCustomMaterial","setVBOs","setTranslate","bindTexture","owner","TEXTURE_WRAP_S","video","bufferData","createTexture","forEach","program","1MAxBDW","154qetnyK","TEXTURE_WRAP_T","_loadCount","keys","CLAMP_TO_EDGE","wrapT","bindBuffer","u_useTexture","modelMatrix","useProgram","length","splice","_composeMatrix","getElements","a_allMMatrix","_deleteModelInstancesVbo","setInverseOf","27997sAwcLE","a_texCoord","2667bRVOSa","TEXTURE_2D","bind","group","promise","_updateModelMatrixVBO","magFilter","normal","name","uniforms","vao","_loadPromise","pattern","_eyeX","a_position","TEXTURE_MIN_FILTER","bindVertexArray","size","modelMaterialMap","push","start","setPublicUniforms","ambientLight","DYNAMIC_DRAW","createVideoTexture","_mmMap","_createVaoInfo","redraw","attributesLayout","has","a_normalMatrix","2kgJqLF","texParameteri","originModels","toArray","setSampleUniforms","pixelStorei","deleteTexture","1191517eosYkZ","613KKMjBL","render","layer","positionCount","url","clear","a_color","setMeshPublic","delete","ARRAY_BUFFER","14JEmDdw","setModelUniforms","196379edcebr","UNPACK_ALIGNMENT","setLightUniforms","get","u_highlight","map","20QEpilW","dealMaterial","addGLTexture","vbos","values","multiply","matrixWorld","setVaoData","deleteVAO","modelData","_resetOrigin","a_normal","set","_loadPromiseIndex","all","_opacity","transpose","_imagePromises"],HT=jT;function jT(t,e){return zT[t-=494]}!function(t,e){const r=jT;for(;;)try{if(601219===-parseInt(r(558))*parseInt(r(538))+-parseInt(r(596))*parseInt(r(648))+parseInt(r(556))*parseInt(r(619))+-parseInt(r(505))*parseInt(r(633))+-parseInt(r(545))*parseInt(r(647))+parseInt(r(564))*parseInt(r(612))+-parseInt(r(507))*-parseInt(r(546)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(zT);class YT extends Bx{constructor(t,e){const r=jT;super(t,e),this[r(646)]=new VT(t),this.originModels=new Map,this[r(600)]=new Map,this[r(618)]=new Map,this[r(525)]=new Map,this[r(516)]={},this.owner=e[r(548)],this[r(577)]=new Map,this._loadCount=0,this._loadPromise=[],this[r(626)]=new Map}[HT(591)](t){const e=HT;this[e(516)][e(607)]=t}addFbxModel(t){const e=HT;return t[e(511)].then(function(){const r=e,i=new Map,n=new Map,s=t[r(593)](),o=t[r(581)][r(524)]||0;if(0!==o){this[r(650)]=+o;const e=this._loadPromise.length;this[r(577)][r(576)](s,{start:e,count:o}),this[r(518)][r(526)](...t._imagePromises[r(568)]())}this[r(618)].has(s)||this[r(618)][r(576)](s,new Map),this[r(525)][r(536)](s)||this[r(525)].set(s,new Map);const a=this.modelMaterialMap[r(561)](s),h=this.modelTextureMap[r(561)](s);for(let e=0,s=t[r(573)][r(498)];e<s;e++){const s=t[r(573)][e],o=new Map,l=Array[r(599)](s.geometry[r(561)](r(584))[r(631)]);let c=[];if(s[r(611)][r(536)](r(616)))c=Array.from(s[r(611)].get(r(616))[r(631)]);else for(let t=0,e=l[r(498)]/3;t<e;t++)c.push(0,0,0);const u=Array.from(s[r(611)][r(561)](r(514)).item),p=s.geometry.get("uv")?Array.from(s[r(611)].get("uv")[r(631)]):[],f=s[r(570)][r(569)](s[r(606)]);let g=p[r(498)]>0;if(0!==s[r(611)].group[r(498)])s[r(611)][r(510)][r(563)](function(e){const i=r,n={};n[i(521)]=l[i(615)](3*e[i(527)],3*(e[i(527)]+e.count)),n[i(575)]=u[i(615)](3*e[i(527)],3*(e[i(527)]+e[i(622)])),n[i(552)]=c[i(615)](3*e[i(527)],3*(e[i(527)]+e[i(622)])),n[i(506)]=p[i(615)](2*e[i(527)],2*(e[i(527)]+e.count)),n.positionCount=e[i(622)];let f=s[i(621)][e.materialIndex];(!f||t[i(636)])&&(f=t.customMaterial,g=!1);const d=this[i(565)](f,g,a,h);if(o[i(561)](d)){const t=this[i(630)](o.get(d),n);o.set(d,t)}else o.set(d,n)}[r(509)](this));else{let e={};e[r(521)]=l,e[r(575)]=u,e[r(552)]=c,e[r(506)]=p,e[r(549)]=l[r(498)]/3;let i=s[r(621)][0];(!i||t[r(636)])&&(i=t[r(608)],g=!1);const n=this.dealMaterial(i,g,a,h);if(o[r(561)](n)){const t=this[r(630)](o[r(561)](n),e);o.set(n,t)}else o[r(576)](n,e)}this[r(635)](o),o[r(594)]=f,n[r(576)](s.ID,s),i[r(576)](s.ID,o)}const l=t[r(574)]?new Float32Array(t.getModelBBox()[r(595)]()[r(541)]()):new Float32Array([0,0,0]);i[r(516)]={u_useVideo:t.useVideoProject,modelMatrix:t[r(496)],u_opacityFactor:t.opacityFactor,u_translate:l,pointLight:{position:t[r(582)][r(584)],color:t[r(582)][r(616)][r(597)](),intensity:t[r(582)][r(617)],distance:t[r(582)][r(604)],decay:t[r(582)][r(627)]},directionLight:{direction:t[r(629)][r(625)],color:t[r(629)][r(616)][r(597)](),intensity:t.directionLight[r(617)]},ambientLight:{color:t[r(529)][r(616)][r(597)](),intensity:t.ambientLight.intensity}},this[r(540)][r(576)](t[r(593)](),n),this.models[r(576)](t[r(593)](),i)}[e(509)](this))}[HT(630)](t,e){const r=HT,i={};return i.a_position=t[r(521)][r(598)](e[r(521)]),i[r(575)]=t[r(575)][r(598)](e[r(575)]),i[r(552)]=t[r(552)].concat(e[r(552)]),i[r(506)]=t[r(506)].concat(e[r(506)]),i.positionCount=t[r(549)]+e[r(549)],i}dealMaterial(t,e,r,i){const n=HT;if(!r[n(561)](t[n(515)])){if(t.u_useTexture=!1,t[n(563)]&&e){const e=t[n(563)][n(550)];t[n(495)]=!0,t[n(563)].loadPromise[n(634)](function(){const r=n;if(!i.get(e)){let n=this[r(644)](t.map);this.gl[r(614)](this.gl[r(508)],0,this.gl[t[r(563)][r(601)]],this.gl[t[r(563)].format],this.gl[t[r(563)].type],t.map.image),i[r(576)](e,n),this[r(624)](),this[r(650)]--}}.bind(this))}r[n(576)](t.id,t)}return t.id}[HT(644)](t,e=0){const r=HT;let i=this.gl[r(644)]();return this.gl[r(583)](this.gl[r(586)]+e),this.gl[r(639)](this.gl[r(508)],i),this.gl[r(543)](this.gl[r(559)],1),this.gl[r(543)](this.gl[r(610)],1),this.gl[r(539)](this.gl[r(508)],this.gl[r(641)],this.gl[t[r(620)]]),this.gl[r(539)](this.gl.TEXTURE_2D,this.gl[r(649)],this.gl[t[r(653)]]),this.gl.texParameteri(this.gl[r(508)],this.gl[r(522)],this.gl[t[r(603)]]),this.gl[r(539)](this.gl[r(508)],this.gl[r(589)],this.gl[t[r(513)]]),i}[HT(531)](t){const e=HT,r=this,i=t[e(642)],n=t[e(519)],s=t.id,o=t.flipY;if(i instanceof HTMLVideoElement)i.oncanplay=function(){const t=e;let a=r[t(646)][t(566)](i,n,t(652),t(652),o,t(585),t(585))[t(592)];r.videoTextures[t(576)](s,{texture:a,video:i})};else{if(!(i instanceof HTMLCanvasElement||i instanceof HTMLImageElement))throw new SyntaxError(e(609));{let t=r[e(646)][e(566)](i,n,e(652),e(652),o,e(585),e(585))[e(592)];r[e(626)][e(576)](s,{texture:t,video:i})}}}[HT(635)](t){const e=HT;for(let r of t[e(568)]())this.setVaoData(r)}[HT(571)](t){const e=HT;0==t.a_texCoord[e(498)]?delete this[e(646)][e(535)][this[e(646)][e(632)][e(515)]]:this[e(646)][e(535)][this[e(646)].texCoordAttr[e(515)]]=this[e(646)][e(632)];let r=this[e(533)](this.gl,this[e(646)]);this[e(646)][e(637)](r[e(567)],t),t[e(517)]=r.vao,t[e(567)]=r[e(567)],delete t[e(521)],delete t[e(575)],delete t[e(552)],delete t[e(506)]}removeModelById(t){const e=HT,r=this[e(600)].get(t);if(!r)return;for(let[t,i]of r){for(let[t,r]of i){this.program[e(572)](r.vao);for(const t in r)delete r[t]}i[e(551)]();for(const t in i)delete i[t]}r[e(551)]();for(const t in r)delete r[t];const i=this[e(618)].get(t);for(let[t,r]of i)this.gl[e(544)](r);i[e(551)]();const n=this[e(525)][e(561)](t);for(let[t,e]of n)for(const t in e)delete e[t];n[e(551)](),this[e(600)][e(554)](t),this.originModels[e(554)](t);const s=this._loadPromiseIndex[e(561)](t);s&&this[e(518)][e(499)](s[e(527)],s[e(622)]),this[e(503)](t)}removeAllModels(){const t=HT;for(let e of this.models[t(651)]())this.removeModelById(e)}[HT(547)](){const t=HT;this[t(624)](),0!==this[t(650)]&&Promise[t(578)](this[t(518)])[t(634)]((()=>{this[t(624)]()}))}[HT(624)](){const t=HT;this[t(646)][t(497)](),this[t(646)][t(528)]({u_vpMatrix:this.camera[t(613)](),eyePosition:[this.camera[t(520)],this[t(602)]._eyeY,this[t(602)][t(587)]],u_opacity:this[t(579)],u_highlightColor:this.uniforms[t(607)]}),this[t(600)][t(645)](function(e,r){const i=t,n=this[i(525)][i(561)](r),s=this[i(618)][i(561)](r),o=this[i(540)][i(561)](r);this[i(646)][i(560)]({pointLight:e[i(516)][i(582)],directionLight:e[i(516)][i(629)],ambientLight:e[i(516)][i(529)]}),this[i(646)][i(557)](e[i(516)]);const a=this[i(640)][i(532)].get(r);if(a){const t=a[i(524)];e[i(645)](function(e,r){const a=i;let h=o.get(r);e[a(562)]=!!h[a(628)],this.program[a(553)](e),e.forEach(function(e,r){const i=a,o=n[i(561)](r);this[i(646)].setMaterialUniforms(o),o[i(495)]?(o[i(605)]=0,this.program[i(542)](o),this.gl[i(639)](this.gl[i(508)],s[i(561)](o[i(563)][i(550)]))):(this[i(646)].setSampleUniforms({}),this.gl[i(639)](this.gl.TEXTURE_2D,null)),this.gl[i(523)](e.vao),this[i(646)].draw(e[i(549)],t),this.gl[i(523)](null)}[a(509)](this))}.bind(this))}}[t(509)](this))}[HT(500)](e){const r=HT,i=e[r(501)](),n={x:i[12]-this.camera[r(520)],y:i[13]-this[r(602)][r(623)],z:i[14]-this[r(602)][r(587)]};return this[r(602)].getViewRotate()[r(569)]((new t.Matrix4)[r(638)](n.x,n.y,n.z))}[HT(588)](t){const e=HT;t[e(645)]((t=>{const r=e,i=this[r(640)][r(590)].get(t);i[r(573)].length?(this[r(512)](t),this.owner[r(534)]()):i[r(511)][r(634)]((()=>{const e=r;this[e(512)](t),this.owner[e(534)]()}))}))}_updateModelMatrixVBO(e){const r=HT,i=this.owner[r(532)][r(561)](e),n=this[r(600)][r(561)](e);0!=i[r(524)]?n[r(645)](((e,n)=>{const s=r,o=[],a=[];i[s(645)]((r=>{const i=s,n=new t.Matrix4,h=new t.Matrix4;n.multiply(r.modelMatrix),n[i(569)](e[i(594)]),h[i(504)](n),h[i(580)](),o[i(526)](...n[i(501)]()),a[i(526)](...h[i(501)]())}));const h=new Float32Array(o),l=new Float32Array(a);e[s(645)](((t,e)=>{const r=s,i=t[r(567)],n=this.gl;n[r(494)](n[r(555)],i[r(502)]),n[r(643)](n[r(555)],h,n[r(530)]),n[r(494)](n[r(555)],i[r(537)]),n[r(643)](n.ARRAY_BUFFER,l,n[r(530)])}))})):this[r(503)](e)}[HT(503)](t){const e=this.models.get(t);e&&e.forEach((t=>{const e=jT;t[e(645)]((t=>{const r=e,i=t[r(567)],n=this.gl;n[r(494)](n[r(555)],i.a_allMMatrix),n[r(643)](n[r(555)],0,n.DYNAMIC_DRAW),n[r(494)](n[r(555)],i[r(537)]),n[r(643)](n.ARRAY_BUFFER,0,n[r(530)])}))}))}}const $T=["getMid","hasOwnProperty","clear","removeModel","183049WKUGWt","camera","setHighlightColor","getCamera","render","_updateMMsVBO","getLayerType","_modelToAdd","152663YTEtgl","_map","400729phIsIH","_deleteModelInstancesVbo","splice","active","set","_mmMap","destroy","enableStrict","all","_delay","setOpacity","_opacity","forEach","getUnit","enableHashCode","removeAllModels","299137FQfNjk","delete","_id","_mid","intersectCoordinate","_fbxRender","min","3GbDspe","modelData","_addModel","_updateMatrixVBO","removeById","draw","_modelMap","113930PGJwyY","models","push","_isLGD","length","setMap","_draw","getModelById","116jrYAtj","_instanceChangeMIds","layerOctree","removeModelById","projector","modelMatrix","then","getLeft","get","max","85932FPHgsP","indexOf","_modelPromises","433FRdAqw"],XT=WT;function WT(t,e){return $T[t-=124]}!function(t,e){const r=WT;for(;;)try{if(225156===-parseInt(r(133))*parseInt(r(186))+parseInt(r(130))+parseInt(r(146))+parseInt(r(148))+-parseInt(r(178))+parseInt(r(164))+parseInt(r(171))*-parseInt(r(138)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($T);class ZT extends FT{constructor(t,e={}){const r=WT;super(t,e),this.name=t,this._map=null,this[r(177)]=new Map,this[r(145)]=new Map,this[r(132)]=[],this[r(181)]=!1,this[r(162)]=e[r(135)](r(162))?e[r(162)]:this[r(162)],this[r(155)]=!!e[r(135)]("enableStrict")&&e.enableStrict}raycasterIntersect(t){const e=WT,r=[];for(let[i,n]of this[e(153)]){const s=this[e(177)][e(128)](i);if(s)for(let i of n){let n=Number.POSITIVE_INFINITY,o=null;const a=i[e(125)],h=s[e(172)];for(let r=0;r<h[e(182)];r++){const i=h[r].intersectRay(t,a);i&&i.distanceToCamera<n&&(n=i.distanceToCamera,o=i[e(168)])}o&&(i.intersectCoordinate=o,r[e(180)]({distance:n,feature:i}))}}return r}updateModelProjector(t,e){const r=WT;t[r(124)]=e;const i=this._fbxRender[r(179)][r(128)](t[r(166)]);i&&(i.uniforms[r(124)]=e)}[XT(144)](){return Ot.FbxModelInstanceLayer}[XT(183)](e){const r=XT;super[r(183)](e);const i={mapUnit:e.getCrs()[r(161)](),isLGD:this[r(181)],event:this.event,layer:this};if(e&&this[r(162)]){const i=e.getCrs().getWorldExtent();let n=Math[r(170)](i.getBottom(),i[r(127)]()),s=Math[r(129)](i.getTop(),i.getRight()),o=new t.Vector3(n,n,n),a=new t.Vector3(s,s,s);this[r(188)]=new Ug(o,a)}this[r(169)]=new YT(this.gl,i),this[r(169)][r(139)]=e[r(141)](),this._storedModels(),Promise.all(this[r(132)])[r(126)]((()=>{const t=r;this._throttle(this[t(174)],this[t(157)],this)}))}_storedModels(){const t=XT,e=this;this[t(145)][t(160)]((function(r,i,n){const s=t;e._modelMap[s(152)](r.getMid(),r),e[s(173)](r)})),this._modelToAdd[t(136)]()}[XT(173)](t){const e=XT;let r=this[e(169)].addFbxModel(t);this[e(132)][e(180)](r);let i=this;r[e(126)]((function(){const n=e;if(i[n(162)])for(let e=0,r=t[n(172)].length;e<r;e++){let r=t[n(172)][e];r[n(167)]=t[n(166)],r._bbox&&i[n(188)].put(r)}const s=i._modelPromises[n(131)](r);s>-1&&i[n(132)][n(150)](s,1)}))}addModel(t){const e=XT;this[e(147)]?(this[e(177)][e(152)](t[e(134)](),t),this._addModel(t)):this[e(145)].set(t[e(134)](),t),this._map&&this[e(147)].af[e(151)]()}removeAllModels(){const t=XT;this[t(177)].clear(),this[t(145)].clear(),this[t(153)].clear(),this[t(169)][t(163)](),this[t(162)]&&this.layerOctree.clear(),this[t(147)]&&this[t(147)].af.active()}[XT(185)](t){const e=XT;return this[e(177)][e(128)](t)}[XT(137)](t){const e=XT;let r=t[e(134)]();this.removeModelAllInstances(r),this[e(177)][e(165)](r),this[e(145)][e(165)](r),this[e(169)][e(189)](r),this.enableHashCode&&this[e(188)][e(175)](r),this[e(147)]&&this[e(147)].af[e(151)]()}updateHighlightStatus(){}[XT(176)](){const t=XT;super[t(176)](),0==this._modelPromises[t(182)]?this[t(184)]():Promise[t(156)](this[t(132)])[t(126)](this[t(184)].bind(this))}[XT(184)](){const t=XT;this[t(169)][t(158)](this[t(159)]),this[t(169)][t(140)](this[t(147)].getHighlightColor()),this[t(169)][t(142)]()}[XT(154)](){const t=XT;this[t(169)][t(163)](),super.destroy()}_updateMatrixVBO(){const t=XT;this._fbxRender[t(143)](this[t(187)]),this[t(187)][t(136)]()}_deleteModelInstancesVbo(t){const e=XT;this._fbxRender[e(149)](t)}}const qT=["a_position","drawCount","7RQJljS","101132jxYujZ","158413hnHczF","1105664JMcYII","a_highlight","_appendData","index","features","buffer","_selected","3041bNeEtT","3AJdvua","updateBBox","313695khvnJE","dataMap","680383MONDpn","46646dIeTaA","set","223GeIvjE","handleBlock","length","updateWorldMatrix","2olXWBS","drawType","mode","_handleSphereMesh","createVertexData","_owner"],JT=KT;function KT(t,e){return qT[t-=408]}!function(t,e){const r=KT;for(;;)try{if(438748===-parseInt(r(433))*parseInt(r(412))-parseInt(r(424))-parseInt(r(426))+-parseInt(r(422))*parseInt(r(413))+parseInt(r(427))*parseInt(r(411))+-parseInt(r(421))*-parseInt(r(429))+parseInt(r(414)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(qT);class QT extends bh{constructor(t,e={}){e[KT(434)]="drawElements",super(t,e)}[JT(430)](t){const e=JT,r=t[e(418)];for(let t=r[e(431)]-1;t>-1;t--){const i=r[t];i[e(419)]||(i[e(419)]=this[e(425)],this[e(436)](i,i.buffer),i[e(432)](),i[e(423)]())}this._dealBlockData(t)}[JT(416)](t,e){const r=JT;for(let[i,n]of t){const s=e.get(i);let o=Array.from(s);t[r(428)](i,n.concat(o))}e=null}[JT(436)](t,e){const r=JT;let i=t[r(437)]();if(!i)return void(t[r(419)]=null);const n=t[r(420)]?1:0;i[r(428)](r(415),[].concat(new Array(i.get(r(409)).length/3).fill(n)));const s=i.get(r(417));return this[r(416)](e,i),e.set(r(410),[s.length]),e.set(r(435),[this[r(408)].gl[t.mode]]),this}}const tE=["_filterBlocks","_eyeZ","outlineStrength","getFogDist","_gl","outlineColor","319853ZyGHdV","setSingleUniform","u_outlineStrength","clientHeight","translate","getFPlaneDistance","active","ALWAYS","log","getProjMatrix","stencilMask","getCoordinate","program","LN2","9281jOeSQN","drawSingle","_parser","u_mMatrix","container","getIntensity","getDirection","729025GVqwZM","rteViewMatrix","u_vMatrix","getOrdinate","toNormalizeArray","normalMatrix","1681684KwIrUI","u_outlineColor","length","stencilFunc","693305ycJCzs","setUniforms","getCamera","scale","117545eFhzvg","STENCIL_BUFFER_BIT","_eyeY","divide","clear","getNormalColorArr","drawElements","getFogColor","_parserOpt","buffer","draw","_eyeX","5nNyVfI","fill","opacity","features","worldMatrix","27zTqfsq","u_normalMatrix","clientWidth","getElements","162831xvpqUj","owner","1cjzjlk","_enableLight"];function eE(t,e){return tE[t-=133]}const rE=eE;!function(t,e){const r=eE;for(;;)try{if(421936===parseInt(r(167))+parseInt(r(177))+-parseInt(r(193))*-parseInt(r(181))+parseInt(r(198))*parseInt(r(160))+parseInt(r(146))*-parseInt(r(138))+parseInt(r(136))+-parseInt(r(173)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(tE);class iE extends gh{constructor(t,e={},r={}){const i=eE,n=i(187);super(t,i(194),e,1,n),this[i(162)]=new QT(this,this[i(189)])}[rE(191)](t){const e=rE,r=this[e(137)]._map,i=this[e(140)](t);if(i[e(175)]<1)return;const n=this[e(144)],s=mh[e(184)](r.getCamera().getCoordinate()[e(170)]("X")),o=mh.divide(r.getCamera()[e(157)]()[e(170)]("Y")),a=mh[e(184)](r[e(179)]()[e(157)]()[e(170)]("Z")),h=2/(Math[e(154)](r[e(179)]()[e(151)]()+1)/Math[e(159)]),l=this._layer[e(139)]&&r._enableLight,c=r.getSunlight(),u=r[e(179)](),p={u_opacity:this[e(195)],u_pMatrix:r[e(155)]()[e(135)](),u_viewport:[r[e(164)][e(134)],r[e(164)][e(149)]],u_fogColor:r[e(188)](),u_fogDist:r[e(143)](),u_eyeH:[s[0],o[0],a[0]],u_eyeL:[s[1],o[1],a[1]],u_logDepthFunc:h,u_highlightColor:r.getHighlightColor(),u_enableLight:l,u_lightDirection:c[e(166)](),u_lightColor:c[e(186)](),u_intensity:c[e(165)]()};this.program[e(152)](),this[e(158)][e(178)](p);for(let t=0,r=i[e(175)];t<r;t++){const r=i[t];if(!r[e(190)])continue;const s=r[e(196)][0];n[e(185)](n[e(182)]),n[e(176)](n[e(153)],1,255),this[e(158)][e(147)](e(133),s[e(172)][e(135)]()),this[e(158)][e(147)](e(163),s[e(197)][e(135)]()),this.program[e(147)]("u_vMatrix",this[e(168)](s[e(197)],u)),this[e(158)][e(147)](e(148),0),this.program[e(147)](e(174),[0,0,0,0]),this[e(158)].drawSingle(r);const o=1+.01*s[e(142)];if(o>1){n[e(176)](n.NOTEQUAL,1,255),n[e(156)](0);const t=s[e(197)].clone()[e(180)](o,o,o);this[e(158)][e(147)](e(133),s[e(172)][e(135)]()),this[e(158)][e(147)](e(163),t[e(135)]()),this[e(158)][e(147)](e(169),this[e(168)](t,u)),this[e(158)][e(147)](e(148),o),this[e(158)][e(147)](e(174),s[e(145)][e(171)]()),this.program[e(161)](r),n[e(156)](255)}}}[rE(168)](t,e){const r=rE,i=t[r(135)](),n={x:i[12]-e[r(192)],y:i[13]-e[r(183)],z:i[14]-e[r(141)]};return e.getViewRotate()[r(150)](n.x,n.y,n.z)[r(135)]()}}const nE=["getTexure","length","updateBBox","textures","_selected","handleBlock","buffer","updateWorldMatrix","drawElements","_bindTexture","topSymbol","push","set","10GPvnRF","index","723724ismMzw","_dealBlockData","_texture","281074DcEdTY","getTextureObject","_id","37810bXzomz","concat","then","owner","_appendData","get","bufferImage","dataMap","fillSymbol","dispatch","fill","98684mfckHk","mode","443MtgGQb","_owner","features","drawType","153tTbXGm","createVertexData","event","LAYEREVENT_DATACHANGE","glHelper","2065sggaOc","139285VaIdOW","10AkNBvQ","promise","_handleMesh"],sE=oE;function oE(t,e){return nE[t-=303]}!function(t,e){const r=oE;for(;;)try{if(220548===-parseInt(r(324))*-parseInt(r(328))+parseInt(r(308))+parseInt(r(334))+parseInt(r(322))+parseInt(r(303))*parseInt(r(311))+-parseInt(r(333))*parseInt(r(335))+-parseInt(r(305)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(nE);class aE extends QT{constructor(t,e={}){const r=oE;e[r(327)]=r(346),super(t,e),this[r(332)]=Gt[r(316)](this[r(314)].gl)}[sE(343)](t){const e=sE;!t[e(341)]&&(t[e(341)]=[]);const r=t[e(326)],i=[];for(let n=r[e(339)]-1;n>-1;n--){const s=r[n];s[e(344)]||(s.buffer=this[e(318)],this[e(337)](s,s[e(344)],t,i),s[e(345)](),s[e(340)]())}Promise.all(i)[e(313)]((()=>{const r=e;this[r(306)](t),this.owner[r(314)]._map[r(330)][r(320)](new ch(p[r(331)]))}))}[sE(337)](e,r,i,n){const s=sE,o=e[s(319)];i[s(341)][0]=o[s(310)];let a=e[s(329)]();if(!a)return void(e[s(344)]=null);const h=a[s(316)](s(304)),l=e[s(342)]?1:0;a.set("a_highlight",[][s(312)](new Array(a[s(316)]("a_position")[s(339)]/3)[s(321)](l))),this[s(315)](r,a),r[s(350)]("mode",[this[s(325)].gl[e[s(323)]]]),r[s(350)]("drawCount",[h[s(339)]]),this[s(347)](o,n,0);const c=e[s(348)];c&&c instanceof t.TextureFill&&(i[s(341)][1]=c._id,this[s(347)](c,n,1))}[sE(347)](t,e,r){const i=sE,n=t[i(310)],s=t[i(338)]();s?this[i(332)][i(309)](n,r,t)[i(317)](s):e[i(349)](t[i(336)][i(313)]((t=>{const e=i;this.glHelper.getTextureObject(n,r,t)[e(317)](t[e(307)])})))}}const hE=["normalMatrix","getFPlaneDistance","container","drawSingle","getFogDist","clientWidth","2RTeEAz","getDirection","39EaMWQH","getFogColor","getNormalColorArr","getOrdinate","41455vIkZrF","buffer","getCamera","_eyeZ","get","clear","worldMatrix","getElements","_map","stencilFunc","outlineStrength","rteViewMatrix","600153zueLcn","stencilMask","getTextureObject","1901FJEcmK","getViewRotate","_filterBlocks","setSingleUniform","_eyeY","22563TyRdWU","fill","glHelper","_enableLight","LN2","u_outlineColor","textures","program","u_vMatrix","_parser","getCoordinate","394373qxCRmK","u_outlineStrength","outlineColor","_gl","_eyeX","203611QANdpu","u_normalMatrix","features","getSunlight","bindTexture","608330BeHjAd","u_mMatrix","clone","_parserOpt","divide","_layer"];function lE(t,e){return hE[t-=455]}!function(t,e){const r=lE;for(;;)try{if(313857===parseInt(r(509))+parseInt(r(480))+parseInt(r(488))+-parseInt(r(468))+-parseInt(r(499))+-parseInt(r(483))*parseInt(r(464))+-parseInt(r(462))*parseInt(r(504)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(hE);class cE extends gh{constructor(t,e={},r={}){const i=lE;super(t,i(489),e,1,"drawElements"),this[i(497)]=new aE(this,this[i(512)]),this.glHelper=Gt[i(472)](this._gl)}draw(t){const e=lE,r=this.owner[e(476)],i=this[e(485)](t);if(i.length<1)return;const n=this[e(502)],s=mh[e(513)](r[e(470)]()[e(498)]()[e(467)]("X")),o=mh.divide(r[e(470)]().getCoordinate()[e(467)]("Y")),a=mh[e(513)](r[e(470)]()[e(498)]().getOrdinate("Z")),h=2/(Math.log(r[e(470)]()[e(457)]()+1)/Math[e(492)]),l=this[e(455)][e(491)]&&r[e(491)],c=r[e(507)](),u=r[e(470)](),p={u_opacity:this.opacity,u_pMatrix:r.getProjMatrix()[e(475)](),u_viewport:[r[e(458)][e(461)],r.container.clientHeight],u_fogColor:r[e(465)](),u_fogDist:r[e(460)](),u_eyeH:[s[0],o[0],a[0]],u_eyeL:[s[1],o[1],a[1]],u_pattern0:0,u_pattern1:1,u_logDepthFunc:h,u_highlightColor:r.getHighlightColor(),u_enableLight:l,u_lightDirection:c[e(463)](),u_lightColor:c[e(466)](),u_intensity:c.getIntensity()};this[e(495)].active(),this[e(495)].setUniforms(p);for(let t=0,r=i.length;t<r;t++){const r=i[t];if(!r[e(469)])continue;const s=r[e(506)][0];this[e(490)][e(482)](r.textures[0])[e(508)](),r[e(494)][1]&&this[e(490)].getTextureObject(r[e(494)][1])[e(508)](),n[e(473)](n.STENCIL_BUFFER_BIT),n[e(477)](n.ALWAYS,1,255),this[e(495)].setSingleUniform(e(505),s[e(456)].getElements()),this[e(495)][e(486)](e(510),s.worldMatrix[e(475)]()),this.program[e(486)](e(496),this[e(479)](s[e(474)],u)),this[e(495)][e(486)](e(500),0),this[e(495)][e(486)](e(493),[0,0,0,0]),this[e(495)][e(459)](r);const o=1+.01*s[e(478)];if(o>1){n[e(477)](n.NOTEQUAL,1,255),n[e(481)](0);const t=s.worldMatrix[e(511)]().scale(o,o,o);this[e(495)].setSingleUniform(e(505),s[e(456)][e(475)]()),this[e(495)][e(486)]("u_mMatrix",t[e(475)]()),this[e(495)][e(486)](e(496),this[e(479)](t,u)),this[e(495)].setSingleUniform(e(500),o),this.program[e(486)]("u_outlineColor",s[e(501)].toNormalizeArray()),this.program[e(459)](r),n[e(481)](255)}}}rteViewMatrix(t,e){const r=lE,i=t[r(475)](),n={x:i[12]-e[r(503)],y:i[13]-e[r(487)],z:i[14]-e[r(471)]};return e[r(484)]().translate(n.x,n.y,n.z)[r(475)]()}}const uE=["dispatch","then","MESH_COLOR","MESH_TEXTURE","get","bufferToGPU","_selected","a_highlight","bPrecisionCorrect","layout","drawCount","buffer","_bPrecisionCorrect","multiDivide","1445527fWvXtG","keys","meshType","_appendData","updateMeshType","2MjzRKt","length","pointCount","a_position","attributes","event","640780xbYleF","5475waBaJh","_texture","mode","a_positionL","glHelper","set","fillSymbol","fill","features","_appendDataWithIndex","_gl","promise","LAYEREVENT_DATACHANGE","_map","_owner","renderData","_bindTexture","getAllChildren","getTexure","concat","programs","_visible","421806PzNCju","_drawType","handleBlock","bufferImage","93XtvAFF","6101bOPYKO","createVertexData","textures","handleTextureMesh","index","dataMap","1PGAhQu","handleColorMesh","53FcdydX","382911ObClPx","getTextureObject","1756aQVqpq","_precisionCorrect","updateBBox","_dealMeshData","all","_id","push"],pE=fE;function fE(t,e){return uE[t-=172]}!function(t,e){const r=fE;for(;;)try{if(380267===parseInt(r(223))*parseInt(r(220))-parseInt(r(184))+parseInt(r(221))*-parseInt(r(218))+parseInt(r(185))*parseInt(r(178))+-parseInt(r(212))*parseInt(r(211))+parseInt(r(207))+parseInt(r(173)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(uE);class gE{constructor(e,r){const i=fE;this[i(208)]=r.drawType,this[i(242)]=r[i(238)]||!1,this[i(199)]=e,this[i(199)][i(205)][i(234)](t.painterType[i(233)]).layout[i(182)][i(190)](i(216),{count:1,type:Uint32Array}),this[i(199)][i(205)][i(234)](t.painterType[i(232)])[i(239)][i(182)][i(190)](i(216),{count:1,type:Uint32Array}),this[i(189)]=Gt[i(234)](this[i(199)][i(195)])}[pE(209)](e){const r=pE,i=e[r(193)][0];i.updateWorldMatrix();const n=i[r(202)]();let s=null;for(let e=0,i=n.length;e<i;e++)s=n[e],s[r(241)]||(this[r(177)](s),s[r(175)]===t.painterType.MESH_COLOR?this[r(219)](s):this[r(215)](s),s[r(225)]())}[pE(219)](t){const e=pE;t[e(241)]=this[e(217)](t[e(175)]);let r=t[e(213)]();if(!r)return void(t[e(241)]=null);const i=t[e(236)]?1:0;r[e(190)](e(237),[][e(204)](new Array(r[e(234)](e(181))[e(179)]/3)[e(192)](i)));const n=r[e(234)](e(216));this[e(176)](t[e(241)],r),t[e(241)][e(190)](e(240),[n[e(179)]]),t[e(241)][e(190)](e(187),[this[e(199)]._gl[t.mode]]),this[e(226)](t)}[pE(215)](e){const r=pE,i=[];e.textures=[],e[r(241)]=this[r(217)](e[r(175)]);const n=e[r(191)];e[r(214)][0]=n[r(228)];let s=e[r(213)]();if(!s)return void(e.buffer=null);const o=s[r(234)](r(216)),a=e[r(236)]?1:0;s[r(190)](r(237),[][r(204)](new Array(s.get(r(181))[r(179)]/3).fill(a))),this[r(176)](e[r(241)],s),e[r(241)].set(r(187),[this._owner._gl[e[r(187)]]]),e[r(241)][r(190)](r(240),[o[r(179)]]),this._bindTexture(n,i,0);const h=e.topSymbol;h&&h instanceof t.TextureFill&&(e[r(214)][1]=h._id,this[r(201)](h,i,1)),Promise[r(227)](i)[r(231)]((()=>{const t=r;this[t(226)](e),this[t(199)][t(199)][t(198)][t(183)][t(230)](new ch(p[t(197)]))}))}[pE(201)](t,e,r){const i=pE,n=t[i(228)],s=t[i(203)]();s?this[i(189)][i(222)](n,r,t)[i(210)](s):e[i(229)](t[i(196)].then((t=>{const e=i;this.glHelper[e(222)](n,r,t).bufferImage(t[e(186)])})))}updateMeshType(e){const r=pE;e[r(175)]=e[r(191)]instanceof t.ColorFill?t.painterType[r(232)]:t.painterType[r(233)]}[pE(217)](t){const e=pE;let r=new Map;const i=this[e(199)][e(205)][e(234)](t)[e(239)][e(182)];for(let t of i.keys())r[e(190)](t,[]);return r}[pE(226)](t){const e=pE;t[e(206)]&&t.buffer&&(this._precisionCorrect(t[e(241)]),this[e(199)][e(235)](t))}[pE(224)](t){const e=pE;if(t&&this[e(242)]&&t.has(e(188))&&t[e(234)](e(188))[e(179)]<1){const r=mh[e(172)](t.get(e(181)));t[e(190)](e(181),r[0]),t[e(190)](e(188),r[1])}}_initRenderData(t){const e=pE;t[e(200)]=new Map;const r=this._owner[e(205)][e(234)](t[e(175)]).layout[e(182)];for(let i of r[e(174)]())t[e(200)][e(190)](i,[]);t[e(200)].set(e(187),[]),t[e(200)][e(190)](e(240),[]),t[e(180)]=0}[pE(194)](t,e){const r=pE;this._appendDataIndex(t.renderData,e,t.pointCount),e.set(r(216),e[r(234)](r(216))),t.pointCount+=e.get("a_position")[r(179)]/3}_appendData(t,e){const r=pE;for(let[i,n]of t){const s=e[r(234)](i);t[r(190)](i,n[r(204)](s))}e=null}_appendDataIndex(t,e,r=0){const i=pE,n=e[i(234)](i(216)),s=[...n];for(let t=n[i(179)]-1;t>-1;t--)n[t]+=r;this[i(176)](t,e),e.set(i(216),s)}}const dE=["_addEleBuffer","_remove","removeBlock","98545PGosEK","programs","container","index","u_vMatrix","rteViewMatrix","STATIC_DRAW","type","_eyeY","_opacity","removeAll","vbos","getAllChildren","getIntensity","worldMatrix","add","depthMask","draw","clone","72772uBjWdl","active","getProgram","ARRAY_BUFFER","layout","getCamera","_curBlock","delete","push","length","1XTcxxJ","215275WImtdM","_blockHelper","_blocks","_owner","u_normalMatrix","1hXyvEN","_map","getByAttribute","bufferData","_id","scale","_add","getCoordinate","LN2","54iOKRSV","getSunlight","outlineStrength","getAll","drawMeshes","build","log","getBlockById","_drawType","ELEMENT_ARRAY_BUFFER","getOrdinate","buffer","handleBlock","clientHeight","setSingleUniform","NOTEQUAL","29418tCjgUY","_setVBO","createUnique","_addVerBuffer","_simpleTaskFag","event","apply","getNormalColorArr","drawElements","_parserOpt","MESH_TEXTURE","values","getFogDist","bid","51868vdzfJA","148042hNKSrl","runTask","glHelper","_eyeX","stencilFunc","u_outlineStrength","textures","removeBlockById","_type","_setVbosData","addTask","LAYEREVENT_DATACHANGE","3733kCHpre","meshType","_enableLight","get","instance","getViewRotate","createVAO","set","addSimple","_removeAll","forEach","clear","_visibility","hasOwnProperty","bindTexture","remove","deleteVBO","_layer","DYNAMIC_DRAW","getFPlaneDistance","MESH_COLOR","_parser","stencilMask","22vFWwTp","getElements","u_mMatrix","createProgram","meshes","drawType","drawBuffer","_attributes","1JCMHUw","divide","drawSingleMesh","_filterBlocks","_taskManager","dispatch","getProjMatrix","features","getTextureObject","filterBlocks","_gl","update","deleteVAO"],_E=yE;function yE(t,e){return dE[t-=274]}!function(t,e){const r=yE;for(;;)try{if(140888===parseInt(r(401))+parseInt(r(296))*parseInt(r(286))+parseInt(r(311))*parseInt(r(354))+-parseInt(r(302))*-parseInt(r(342))+parseInt(r(341))*parseInt(r(385))+parseInt(r(297))+parseInt(r(377))*-parseInt(r(327)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(dE);class mE{constructor(e,r,i){const n=yE;this._id=t.Aid[n(329)](this.constructor.name),this[n(371)]=e,this[n(299)]=new Map,this[n(298)]=new Qa(this[n(299)],1),this[n(395)]=e.gl,this[n(300)]=e,this._opacity=e._opacity,this[n(366)]=!0,this._drawType=n(335),this._type="fill";const s=this[n(380)](this[n(350)],r),o=this[n(380)](this[n(350)],i);this[n(402)]=new Map,this.programs[n(361)](t.painterType[n(374)],s),this[n(402)][n(361)](t.painterType[n(337)],o),this[n(389)]=t.TaskManager[n(358)](),this[n(336)]={drawType:this[n(319)],bPrecisionCorrect:e._isRTE},this[n(282)]=this[n(308)],this[n(369)]=this[n(399)],this[n(277)]=this[n(363)],this[n(375)]=new gE(this,this._parserOpt),this[n(344)]=Gt[n(357)](this[n(395)])}[_E(380)](t,e){const r=_E;let i=new ah(this[r(395)],t,e);const n=i.id;return Gt[r(357)](this[r(395)]).hasProgram(n)?i=null:(i[r(316)](),Gt.get(this[r(395)]).addProgram(i)),Gt[r(357)](this._gl)[r(288)](n)}[_E(308)](t){const e=_E,r=this[e(298)][e(357)](t);return r[e(282)](t),this[e(352)](r),this._owner[e(303)].af.active(),this}_remove(t){const e=_E;if(!t[e(340)])return null;const r=this._blocks[e(357)](t[e(340)]);r[e(293)](t);const i=t[e(279)]();for(let t=i[e(295)]-1;t>=0;t--){let r=i[t];r[e(383)]&&(this[e(402)][e(357)](r.meshType).layout[e(370)](r[e(383)][e(278)]),this.programs[e(357)](r[e(355)])[e(290)][e(397)](r[e(383)].vao))}return this.removeBlock(r),this[e(300)][e(303)].af[e(287)](),t}[_E(396)](t){const e=_E;if(!t[e(340)])return null;const r=this[e(299)][e(357)](t[e(340)]);return r[e(396)](t),this[e(352)](r),this[e(300)][e(303)][e(332)][e(390)](new ch(p[e(353)])),t}removeBlock(t){const e=_E,r=t.id;t[e(322)]||(t.doTask=0,this[e(389)][e(331)][e(293)](this._id+t.id)),t.clear(),this[e(299)].delete(r),this[e(298)]._curBlock&&t.id===this[e(298)][e(292)].id&&(this._blockHelper._curBlock=null),t=null}[_E(349)](t){const e=_E;this[e(400)](this[e(299)][e(357)](t))}[_E(318)](t){const e=_E;return this[e(299)][e(357)](t)}[_E(363)](){const t=_E;return this[t(299)][t(364)](((e,r)=>{const i=t;0!==e.features.length&&this[i(399)](e[i(392)][0])})),this[t(300)][t(303)].af[t(287)](),this}[_E(314)](){const t=_E,e=[];return this[t(299)].forEach(((r,i)=>{const n=t;e[n(294)][n(333)](e,r[n(392)])})),e}getById(t){const e=_E;for(let r of this[e(299)][e(338)]()){for(let i=r[e(392)].length-1;i>=0;i--)if(r[e(392)][i][e(306)]===t)return r.features[i]}return null}[_E(304)](t,e){const r=_E;let i=[];for(let n of this[r(299)].values()){for(let s=n[r(392)][r(295)]-1;s>=0;s--){const o=n[r(392)][s][r(384)];o&&o[r(367)](t)&&o[t]===e&&(i[i.length]=n[r(392)][s])}}return i}[_E(388)](t){const e=_E;return this._blockHelper[e(394)](t)}[_E(352)](t){const e=_E;return this[e(389)][e(362)](this,this[e(343)],t),this}[_E(343)](t){const e=_E;this._parser[e(323)](t)}bufferToGPU(t){const e=_E;let r=t[e(383)]?t.drawBuffer:this[e(402)][e(357)](t[e(355)])[e(290)][e(360)]();this._setVbosData(r.vbos,t[e(322)],t[e(355)]),t[e(383)]=r,t[e(382)]=this[e(319)]}[_E(351)](t,e,r,i=!1){const n=_E;let s;for(let o in t)s=this[n(402)][n(357)](r)[n(290)].attributes[n(357)](o)[n(274)],this._setVBO(o,t[o],new s(e.get(o)),i)}[_E(328)](t,e,r,i){const n=_E;t===n(404)?this[n(398)](e,r,i):this[n(330)](e,r,i)}[_E(330)](t,e,r){const i=_E;let n=this._gl;n.bindBuffer(n[i(289)],t),r?n[i(305)](n[i(289)],e,n[i(372)]):n[i(305)](n.ARRAY_BUFFER,e,n[i(407)])}[_E(398)](t,e,r){const i=_E;let n=this[i(395)];n.bindBuffer(n[i(320)],t),r?n[i(305)](n[i(320)],e,n[i(372)]):n[i(305)](n[i(320)],e,n[i(407)])}[_E(284)](t){const e=_E,r=this[e(300)][e(303)],i=this[e(388)](t);if(i[e(295)]<1)return;const n=this[e(395)],s=mh.divide(r[e(291)]()[e(309)]()[e(321)]("X")),o=mh.divide(r[e(291)]()[e(309)]()[e(321)]("Y")),a=mh[e(386)](r.getCamera()[e(309)]()[e(321)]("Z")),h=2/(Math[e(317)](r[e(291)]()[e(373)]()+1)/Math[e(310)]),l=this[e(371)]._enableLight&&r[e(356)],c=r[e(312)](),u=r[e(291)](),p={u_opacity:this[e(300)][e(276)],u_pMatrix:r[e(391)]()[e(378)](),u_viewport:[r[e(403)].clientWidth,r.container[e(324)]],u_fogColor:r.getFogColor(),u_fogDist:r[e(339)](),u_eyeH:[s[0],o[0],a[0]],u_eyeL:[s[1],o[1],a[1]],u_pattern0:0,u_pattern1:1,u_logDepthFunc:h,u_highlightColor:r.getHighlightColor(),u_enableLight:l,u_lightDirection:c.getDirection(),u_lightColor:c[e(334)](),u_intensity:c[e(280)]()};for(let t=0,r=i[e(295)];t<r;t++){const r=i[t][e(392)][0];if(!r)continue;n[e(365)](n.STENCIL_BUFFER_BIT),n[e(346)](n.ALWAYS,1,255),this.drawMeshes(u,r,p,1,[0,0,0,0]);const s=1+.01*r[e(313)];s>1&&(n[e(283)](!1),n[e(346)](n[e(326)],1,255),n[e(376)](0),this[e(315)](u,r,p,s,r.outlineColor.toNormalizeArray()),n.stencilMask(255),n[e(283)](!0))}}[_E(315)](e,r,i,n,s){const o=_E,a=r[o(381)];for(let r=0,h=a[o(295)];r<h;r++){const h=a[r];if(!h[o(383)])continue;const l=this[o(402)][o(357)](h.meshType);l[o(287)](),l.setUniforms(i);const c=h[o(281)][o(285)]()[o(307)](n,n,n);l.setSingleUniform(o(301),h.normalMatrix[o(378)]()),l[o(325)](o(379),c.getElements()),l[o(325)](o(405),this[o(406)](c,e)),l[o(325)](o(347),n),l.setSingleUniform("u_outlineColor",s),h[o(355)]===t.painterType[o(337)]&&(this[o(344)][o(393)](h[o(348)][0])[o(368)](),h[o(348)][1]&&this[o(344)][o(393)](h[o(348)][1])[o(368)]()),l[o(387)](h)}}[_E(406)](t,e){const r=_E,i=t[r(378)](),n={x:i[12]-e[r(345)],y:i[13]-e[r(275)],z:i[14]-e._eyeZ};return e[r(359)]().translate(n.x,n.y,n.z)[r(378)]()}}const IE=["setMask","splice","add","_opacity","opacity","distance","ONE","raycaterMeshGroup","updateFeature","values","1221043mZaaUm","getAllChildren","get","remove","_isOIT","blendOptions","name","117759WguzUT","initStoredFeature","enableHashCode","733102hMfphc","_mergeExtra","redraw","_featuresToAdd","removeAllFeatures","length","getFeatureById","POSITIVE_INFINITY","REPLACE","updatePainterType","removeAll","removeFeature","915064opAhTo","NONE","getPainterType","enableLight","intersectRay","getLayerType","getStencilStatus","getDepthStatus","146901KojAiA","MeshLayer","setMap","setEnable","3MmNkuP","addFeatures","children","getCullFaceStatus","selectedMesh","_isLGD","OITMode","setOpacity","EXT_color_buffer_float","getById","MESH_TEXTURE","hasOwnProperty","push","_layerExtra","_map","MESH_COLOR","isOIT","floor","activeStatusManager","_oitDraw","setFunc","getExtent","_enableLight","getAll","988683NcifZu","draw","addFeature","forEach","_drawPainters","411142vdZIrp","1RpcZRp","MESH_GROUP","destroy","_oitPainter","intersectCoordinate","cullFace","SRC_ALPHA","update","_cullFace","indexOf","_OITMode","raycasterIntersect","getBlendStatus","apply","_painters","set","getAllFeatures"],xE=vE;function vE(t,e){return IE[t-=269]}!function(t,e){const r=vE;for(;;)try{if(650596===parseInt(r(305))+-parseInt(r(297))+-parseInt(r(338))+parseInt(r(339))*parseInt(r(275))+-parseInt(r(309))*-parseInt(r(282))+parseInt(r(333))+-parseInt(r(285)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(IE);class bE extends Dt{constructor(t,e){const r=vE;super(e),this[r(281)]=t,this[r(284)]=!!e[r(320)](r(284))&&e[r(284)],this[r(331)]=!e.hasOwnProperty(r(300))||e[r(300)],this[r(279)]=!0===e[r(325)],this[r(349)]=Math.floor(e[r(315)])?Math[r(326)](e.OITMode):0,this[r(347)]=!!e[r(320)](r(344))&&e[r(344)],this[r(314)]||this[r(304)]()[r(308)](!1),this[r(353)]=new Map,this[r(288)]=[],this[r(280)]=e[r(320)]("blendOptions")?e[r(280)]:{rbgSrcFactor:nt[r(271)],rgbDstFactor:nt.ZERO,alphaSrcFactor:nt[r(345)],alphaDstFactor:nt.ZERO}}[xE(302)](){return Ot[xE(306)]}get id(){return this._id}setMap(e){const r=xE;super[r(307)](e);let i=this[r(322)]();this[r(279)]&&(this[r(342)]=new ru(this),this.gl.getExtension(r(317)),i=this[r(322)]({oit:this[r(349)]}));const n=this._mergeExtra(i,{colorI:0,highlight:0,mMatrix:0,aNormal:0,light:0,outline:0}),s=new iE(this,n);this[r(353)][r(354)](t.painterType[r(324)],s);const o=this[r(286)](i,{stretchTexture2D:0,highlight:0,mMatrix:0,aNormal:0,light:0,outline:0}),a=new cE(this,o);this[r(353)][r(354)](t.painterType[r(319)],a);const h=new mE(this,n,o);this[r(353)][r(354)](t.painterType[r(340)],h),this.initStoredFeature()}[xE(283)](){const t=xE;for(let e of this[t(288)])this.addFeature(e);this[t(288)]=[]}[xE(355)](){const t=xE,e=[];return this[t(353)][t(336)](((r,i)=>{const n=t;e.push[n(352)](e,r[n(332)]())})),e}[xE(289)](){const t=xE;this[t(288)]=[],this[t(353)][t(336)](((e,r)=>{e[t(295)]()}))}[xE(310)](t){const e=xE;for(let r=0,i=t[e(290)];r<i;r++)this[e(335)](t[r])}addFeature(t){const e=xE;this[e(323)]?(t[e(294)](),this[e(353)][e(277)](t.getPainterType())[e(358)](t)):this[e(288)].push(t)}[xE(273)](t){const e=xE;if(this[e(323)]){t[e(294)](!1)===t[e(299)]()?this[e(353)][e(277)](t[e(299)]())[e(346)](t):(this[e(296)](t),this[e(335)](t))}else{const r=this[e(288)].indexOf(t);r>-1&&(this[e(288)][r]=t)}}removeFeatures(t){for(let e=t[xE(290)]-1;e>=0;e--)this.removeFeature(t[e])}[xE(296)](e){const r=xE,i=e[r(299)]();if(i===t.painterType[r(298)])return!1;if(this[r(323)])this[r(353)][r(277)](i)[r(278)](e);else{const t=this._featuresToAdd[r(348)](e);t>-1&&this[r(288)][r(357)](t,1)}}[xE(291)](t){const e=xE;for(let r of this[e(353)][e(274)]()){let i=r[e(318)](t);if(void 0!==i&&null!=i)return i}return null}[xE(334)](){const t=xE;this[t(312)]()[t(308)](this[t(347)]),this[t(304)]()[t(308)](!0),this[t(304)]().setFunc(Q.LESS),this[t(303)]()[t(308)](!0),this[t(303)]()[t(329)]({sfail:bt.KEEP,zfail:bt[t(293)],zpass:bt[t(293)]}),super.draw(),this[t(328)](),this[t(337)](),this[t(303)]()[t(308)](!1)}_drawPainters(){const t=xE,e=this[t(323)][t(330)]();this._painters.forEach(((r,i)=>{r[t(334)](e)}))}_oitDraw(){const t=xE;this[t(279)]&&(this[t(304)]()[t(356)](!1),this[t(351)]().setEnable(!0),this[t(351)]().setFunc(this[t(280)]),this[t(327)](this.gl))}[xE(316)](t=1){const e=xE;this[e(359)]=t;for(let t of this[e(353)].values())t[e(269)]=this[e(359)];this[e(287)]()}[xE(341)](){const t=xE;this.removeAllFeatures(),super[t(341)]()}[xE(350)](t){const e=xE;if(!this[e(284)])return[];let r=this.getAllFeatures(),i=[];for(let n=r[e(290)]-1;n>=0;n--){const s=r[n];let o=0!==s[e(311)][e(290)]?this[e(272)](t,s):s[e(301)](t);o&&i[e(321)](o)}return i}[xE(272)](t,e){const r=xE,i=e[r(276)]();let n=null,s=Number[r(292)];for(let e=i[r(290)]-1;e>=0;e--){let o=i[e][r(301)](t);o&&s>o[r(270)]&&(s=o[r(270)],n=i[e])}return n?(e[r(313)]=n,e[r(343)]=n[r(343)],{feature:e,distance:s}):null}}var wE=["231640AtJQKy","_map","636927ESgrNa","the PointCloudBaseLayer is abstract class,can not be instantiated!","85784nIYSOf","draw","destroy","setMap","21891RecPXl","5550QTHQgU","getPointCount","61GpapjU","name","655473ATvppJ","13YmGXSm","175973TrqXch","17ygQCJd","count"];function TE(t,e){return wE[t-=206]}var EE=TE;!function(t,e){for(var r=TE;;)try{if(330282===parseInt(r(222))*-parseInt(r(212))-parseInt(r(214))+parseInt(r(211))+parseInt(r(216))+-parseInt(r(209))+-parseInt(r(207))*parseInt(r(223))+-parseInt(r(210))*-parseInt(r(218)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wE);class CE extends Dt{constructor(t,e={}){var r=TE;if(new.target===Dt)throw new Error(r(217));super(e),this[r(208)]=t,this[r(215)]=null,this[r(213)]=0}[EE(221)](t){super.setMap(t)}clear(){}[EE(206)](){return this.count}[EE(220)](){}[EE(219)](){}}const AE=["1OcwwJu","count","pointCount","setMap","411178yaeBXE","setTranslate","clear","transform","_painter","104410sAdadC","_scaleMatrix","readData","4651fAEnvi","destroy","314267kPmlkp","_translate","_mergeExtra","rotate","76413KPfkfe","draw","5zuVoJP","_matrix","76265yhbfBp","_scale","name","getPointCount","97ZcJcRn","_rotate","removeAll","scale","1OmEHwd","234571uTpNyy","_translateMatrix"],ME=PE;!function(t,e){const r=PE;for(;;)try{if(308367===parseInt(r(389))+parseInt(r(393))*-parseInt(r(391))+parseInt(r(380))+parseInt(r(383))*-parseInt(r(397))+parseInt(r(401))*parseInt(r(385))+-parseInt(r(404))*-parseInt(r(402))+parseInt(r(408)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(AE);class SE extends CE{constructor(e,r={}){const i=PE;super(e,r),this[i(395)]=e,this._map=null,this._painter=null,this[i(405)]=0,this.center=[0,0,0],this[i(394)]=[1,1,1],this[i(386)]=[0,0,0],this[i(398)]=[0,0,0],this[i(381)]=new t.Matrix4,this[i(403)]=new t.Matrix4,this[i(392)]=new t.Matrix4}[ME(407)](t){const e=ME;super[e(407)](t);let r=this._layerExtra();this[e(379)]=new ap(this,this[e(387)](r,{}))}[ME(382)](t){const e=ME;this[e(405)]+=t[e(406)];const r=this[e(394)],i=this[e(386)],n=this[e(398)];this[e(392)][e(409)](i[0],i[1],i[2]).rotate(n[0],1,0,0)[e(388)](n[1],0,1,0).rotate(n[2],0,0,1)[e(400)](r[0],r[1],r[2]),this[e(379)]._add(t)}[ME(378)](t,e,r){this._translate=[t,e,r]}[ME(400)](t,e,r){this._scale=[t,e,r]}[ME(388)](t=0,e=0,r=0){this._rotate=[t,e,r]}[ME(410)](){const t=ME;this._painter[t(399)](),this[t(405)]=0,this.draw()}[ME(396)](){return this[ME(405)]}[ME(384)](){const t=ME;this[t(379)][t(410)](),super[t(384)]()}[ME(390)](){const t=ME;super.draw(),this[t(379)][t(390)]()}}function PE(t,e){return AE[t-=378]}const RE=["showText","keys","_oitPainter","_tag","labels","_vaoPoolCapacity","signal","skyImage","updateView","url","roadLabelLimiteAngle","setTileUrl","_layersPaintersMap","getResolutions","charsUrl","href","iconUrl","onload","_addLabel","FOG","delete","getServerZoomByRes","getZoom","getColor","abs","textInfo","FillTextureBinPainter","xyz","_collisionLabel","_enableLight","resolve","filter","_id","_taskManager","activeStatusManager","destroy","LAND","setFogColor","_updateData","visibility","VECTORTILE_STYLELOADED","removeBlockById","extent","data","DEPTH_BUFFER_BIT","StretchTextureBinPainter","points","FillSolidBinPainter","setLabelOn","then","StretchBinPainter","ordinary_house","init","result","_OITMode","loadDone","Point","drawArrays","isOIT","getResolution","rangeCol","buffer","33333FoYRQH","getCrs","getMaxZoom","StretchPainter","coord","groupSideLength","dataStore","fontSize","useWebWorker","_vaoToDeleteOnce","_dealVtile","bind","_updateLabel","GET","setIndex","_labelOn","removeListener","textImg","FillNoiseBinPainter","_insertPainter","_oitStretch","Feature","LAYEREVENT_LOADEND","/chars.json","_startOneRequestTask","Label_Icon","layers","heightFactor","pos-z.jpg","height","dealTileRequest","floor","PROCESS_HVTB","updateIcons","LINEAR","read","updateTexture","getStyleByTypeLevel","setFrontFace","isBaseLayer","_geoJSON","_removeAll","updateChars","renderLabel","746906oJAbLz","218208ooybYG","SDFPointTextPainter","images/","getPainterByKey","polygons","FillTexture","hasOwnProperty","blob","substring","107103FmDxXP","request","subXYZ","COLOR","json","_layerDraw","MAPEVENT_EXTENTCHANGED","styleUrl","ONE_MINUS_SRC_ALPHA","getMarkerSymbols","labelOn","showIcon","sprite","spriteText","doTask","spriteImg","getData","_tileBuffer","1KAmXMw","getFillSymbols","setSkyImage","LAYEREVENT_DATACHANGE","addVTile","zoom","_IDB","stretch","setOpacity","draw","_oitDraw","setMask","key","fillMode","skyBox","getExtension","text","getUnit","_vtGroupToDraw","_getStyleJson","_isOIT","_addTexts","extra","_setSkyImage","width","addListener","lastIndexOf","add","CCW","FillNoise","checkCacheSize","offset","setLandColor","_getXYZ","124728SrMKVg","workerPool","weight","getBlendStatus","glHelper","_groupSideLength","VectorTileBinLayer","Stretch","has","length","MAPEVENT_ZOOMING","_addIcons","instance","_useWebWorker","getRotateX","catch","split","resource","getLabelOn","prepareData","_styleJsonPromise","_mergeExtra","clear","hvtbCache","redraw","_map","_setSkybox","setXYZ","_queryHVTB","tiles","dispatch","polyText","featureType","_dataMaxLevel","dataMaxLevel","_indexedDBReady","getTextureObject","getLayerType","indexOf","fill","1XcSgGh","_vtGroupCache","enableLight","EXT_color_buffer_float","parallelChange","entries","setFunc","_opacity","_draw","iconWeight","116993dzWVpJ","resourceLoaded","textJson","set","_maxThreads","neg-z.jpg","push","Label_Point","MAPEVENT_ROTATING","_styleRuleMgr","MAPEVENT_ROTATERESET","noiseStyle","_updateMapData","NOISE","resetGLStatus","sort","neg-y.jpg","layerUrl","maxX","FillPolygon","setStyle","GRADUAL","OITPainter","cors","getCamera","bufferImage","_updateDataWithoutMapData","values","_initIndexDB","_initIDBPromise","1MQvxkd","Label_Line","OITMode","get","_extraFlags","VectorTile_AddLayer","StretchTexture","setMap","name","pos-x.jpg","event","setEnable","lines","setSkyBox","_painters","79041xnHtOQ","active","_dataStoreName","dataFormat","_extraStretch","getDepthStatus","maxY","getMap","dbName","_filterLabel","parse","ready","_addvtPolygons","textTexture","_layerExtra"],LE=FE;function FE(t,e){return RE[t-=314]}!function(t,e){const r=FE;for(;;)try{if(134166===-parseInt(r(324))*parseInt(r(314))+parseInt(r(446))+-parseInt(r(500))+-parseInt(r(552))+-parseInt(r(369))*parseInt(r(354))+-parseInt(r(491))+-parseInt(r(518))*-parseInt(r(490)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(RE);class DE extends Hb{constructor(e,r,i={},n){const s=FE;super(e,r,i),this[s(333)]=null,this._styleJsonPromise=this[s(537)](i[s(507)]),this._isBaseLayer=!1!==i[s(485)],this.roadLabelLimiteAngle=i[s(394)]?-i.roadLabelLimiteAngle:-40,this[s(323)]=500,this.spriteText=500,this[s(583)]=400,this[s(525)]=350,this[s(557)]=i[s(451)]||1,this[s(315)]=new Map,this[s(536)]=new Set,this[s(368)]=[],this[s(396)]=new Map,this[s(486)]=new t.GeoJSON,this[s(461)]=!i[s(510)]||i[s(510)],this._tag=7,this[s(393)]=r,this.iconUrl=i.styleUrl[s(499)](0,i[s(507)][s(544)]("/")),this[s(398)]=i.styleUrl[s(499)](0,i[s(507)][s(544)]("/")),this[s(585)]=i[s(586)],this[s(417)]=t.TaskManager[s(564)](),this[s(413)]=!i[s(497)](s(316))||i[s(316)],this.lineWay=s(318),this[s(466)]=[],this[s(538)]=!0===i[s(442)],this[s(438)]=Math[s(477)](i[s(356)])?Math.floor(i[s(356)]):0,this[s(505)]=!0===this[s(538)]?this[s(528)]:this[s(322)],this[s(565)]=!!i.hasOwnProperty(s(454))&&i[s(454)],this.callback=n}[LE(589)](){return Ot[LE(558)]}setLabelOn(t,e=7,r=!0){const i=LE,n=1==t;this[i(461)]=n,this[i(387)]=e,this[i(396)][i(357)](i(471))&&1==(1&e)&&(this[i(396)][i(357)](i(471))[i(423)]=n),this._layersPaintersMap[i(357)]("Label_Line")&&1==(e>>1&1)&&(this._layersPaintersMap.get("Label_Line")[i(423)]=n),this[i(396)][i(357)]("Label_Point")&&1==(e>>2&1)&&(this._layersPaintersMap.get(i(331))[i(423)]=n),r&&this[i(376)]().af[i(370)]()}[LE(570)](){return this._labelOn}[LE(479)](t,e,r=!0){const i=LE;if(this[i(400)]=t,r&&this[i(577)]){this._updateDataWithoutMapData(),this[i(482)]();const t=this;this.event[i(543)](p[i(521)],(function(r){const n=i;e&&(e(r),t.event[n(462)](p[n(521)],e))}))}return this}[LE(488)](t,e,r=!0){const i=LE;if(this[i(398)]=t,r&&this[i(577)]){this[i(350)](),this[i(482)]();const t=this;this[i(364)][i(543)](p[i(521)],(function(r){const n=i;e&&(e(r),t[n(364)][n(462)](p.LAYEREVENT_DATACHANGE,e))}))}return this}updateTexture(){const t=LE;this.textTexture=this[t(398)]+"/chars.png",this[t(326)]=this[t(398)]+t(469),this[t(409)]={},this.iconInfo={};const e=this;let r=0;this[t(512)]=new Tg(this[t(400)]+"/icons"),this[t(512)][t(501)][t(433)]((()=>{const i=t;if(Gt.get(this.gl)[i(588)](this.sprite[i(393)],0,{min_filter:i(480)})[i(349)](this.sprite[i(515)],!0),r++,3===r){e.textInfo.w=e[i(463)][i(542)],e[i(409)].h=e[i(463)][i(475)];e.getPainterByKey(i(331),i(331),e[i(513)])[i(556)].getTextureObject(e[i(382)],0,{min_filter:i(480)})[i(349)](e.textImg,!0),e.resourceLoaded=!0,e[i(571)]()}})),xg[t(357)](this[t(382)],t(498),(i=>{const n=t;e.textImg=new Image;let s=URL.createObjectURL(i);e[n(463)][n(401)]=()=>{const t=n;if(r++,3===r){e[t(409)].w=e[t(463)].width,e[t(409)].h=e.textImg[t(475)];e[t(494)]("Label_Point",t(331),e[t(513)])[t(556)][t(588)](e[t(382)],0,{min_filter:t(480)})[t(349)](e.textImg,!0),e[t(325)]=!0,e.prepareData()}},e[n(463)].src=s})),xg[t(357)](this[t(326)],t(504),(i=>{const n=t;if(e.textJson=i,e[n(409)][n(445)]=i[n(445)],e[n(409)][n(453)]=i[n(453)],r++,3===r){e[n(409)].w=e[n(463)][n(542)],e.textInfo.h=e[n(463)][n(475)];e[n(494)](n(331),n(331),e[n(513)])[n(556)].getTextureObject(e[n(382)],0,{min_filter:n(480)})[n(349)](e[n(463)],!0),this[n(325)]=!0,this[n(571)]()}}))}getPainterByKey(t,e,r){const i=LE;if(!this[i(396)][i(357)](t)){let n;switch(e){case i(559):r=this[i(525)],n=new Up(this,this[i(573)](this[i(373)],{colorI:0,aNormal:0,light:0}));break;case i(360):n=new $p(this,this[i(573)](this[i(540)],{texture2D:0,aNormal:0,light:0}));break;case"FillPolygon":n=new(ef[i(431)])(this,this._mergeExtra(this[i(540)],{colorI:0}));break;case"FillTexture":n=new(ef[i(410)])(this,this[i(573)](this[i(540)],{texture2D:0}));break;case"FillNoise":n=new(ef[i(464)])(this,this[i(573)](this[i(540)],{fog:0,noise:0,vposition:0}));break;case"Label_Icon":r=this[i(323)],n=new $c(this,this[i(573)](this[i(540)],{fog:0,offset:1,sprite:0}),{drawType:i(441),blockSize:200});break;case i(355):r=this[i(583)],n=new Pl(this,this._mergeExtra(this[i(540)],{coordOffset:0,fog:0,texture2D:0,sdftext:0,colorI:0}),{textAtlas:this[i(326)],painterType:i(591)});break;case i(331):r=this[i(513)],n=new(ef[i(492)])(this,this[i(573)](this[i(540)],{fog:0,offset:1,sprite:0,sdftext:0,colorI:0}),{textAtlas:this[i(326)],drawType:i(441)})}if(n){this[i(396)][i(327)](t,n),this[i(465)](n,r);let e=new R(i(359));e[i(530)]=t,this[i(364)][i(582)](e)}}return this._layersPaintersMap[i(357)](t)}[LE(537)](t){const e=LE;return new Promise((function(e,r){const i=FE;xg.get(t,i(504),(function(t){e(t)}),(function(t){r(t)}))}))[e(433)]((t=>{this[e(333)]=new Ca(t,{isHvtb:!0})}))}[LE(571)](){const t=LE;if(this[t(380)]=!1,!this[t(325)])return;this._vtGroupToDraw.clear(),this[t(523)]=this[t(405)](),this[t(523)]=this.zoom<=this[t(585)]?this.zoom:this[t(585)],this[t(579)](this[t(523)]),this.addExterInfo();const e=[];for(let r=0,i=this[t(517)][t(561)];r<i;r++){const i=this._tileBuffer[r],n=i[t(357)](t(411)),s=i[t(357)](t(502));if(this[t(536)][t(545)](n),this[t(315)].has(n)){const e=this[t(315)][t(357)](n);this[t(315)][t(404)](n),this[t(315)][t(327)](n,e)}else{this[t(315)][t(327)](n,new Set);const r=s[0];e[t(330)](this[t(580)](r[t(393)],this[t(523)],n,r[t(411)]))}}Promise.all(e).then((()=>{const e=t;!this[e(439)]&&(this._map[e(364)].dispatch(new R(p[e(468)])),this[e(439)]=!0),!this.ready&&(this[e(577)].event.dispatch(new R(p[e(521)])),this[e(380)]=!0)})),this.checkCacheSize()}async[LE(476)](e,r,i,n){const s=LE;let o;return o=this._IDB&&this[s(587)]?new Promise((o=>{const a=s;this[a(524)][a(516)](this._dataStoreName,e)[a(433)]((s=>{const h=a;if(s.result)this[h(456)](s[h(437)][h(427)],r,i,e),o();else if(this[h(565)]){let s,a=new Promise((function(t,e){s=t}));a[h(414)]=s;let l={taskType:t.WorkerTaskType[h(478)],dataUrl:e,xyz:n,useIndexedDB:!0,layerType:this[h(589)]()};this[h(553)][h(582)](l,a),a.then((()=>{const t=h;this._IDB[t(516)](this[t(371)],e)[t(433)]((n=>{const s=t;this[s(456)](n.result[s(427)],r,i,e),o()}))}))}else{this[h(470)](e)[h(433)]((t=>{this[h(456)](t,r,i,e),o()}))}}))})):new Promise((o=>{const a=s;if(this._useWebWorker){let s,h=new Promise((function(t,e){s=t}));h[a(414)]=s;let l=new URL(e)[a(399)],c={taskType:t.WorkerTaskType[a(478)],dataUrl:l,xyz:n,useIndexedDB:!1,layerType:this[a(589)]()};this.workerPool[a(582)](c,h),h[a(433)]((t=>{const n=a;this[n(456)](t[n(427)],r,i,e),o()}))}else{this[a(470)](e)[a(433)]((t=>{this._dealVtile(t,r,i,e),o()}))}})),o}[LE(470)](e){return new Promise(((r,i)=>{const n=FE;fetch(e,{signal:this[n(390)],mode:n(347),method:n(459)})[n(433)]((t=>{if(200===t.status)return t.arrayBuffer()}))[n(433)]((i=>{const s=n;let o;o=new t.Hvtb(i)[s(481)](),this[s(524)]&&this[s(524)].addData(this[s(371)],{data:o,url:e}),r(o)}))[n(567)]((t=>{}))}))}async[LE(580)](t,e,r,i){return this[LE(476)](t,e,r,i)}[LE(456)](t,e,r){const i=LE;t&&this[i(315)][i(357)](r)&&(this[i(522)](t,e,r),t.labels&&this[i(402)](t[i(388)],r,e))}[LE(402)](t,e,r){const i=LE;this[i(388)]=JSON[i(379)](t),this[i(489)](e,r),this._filterLabel()}renderLabel(t,e){const r=LE,i=this.labels;i[r(430)].length>0&&this[r(563)](i[r(430)],t,e),i[r(366)][r(561)]>0&&this._addLineLabels(i[r(366)],t,e),i[r(495)][r(561)]>0&&this[r(539)](i[r(495)],t,e)}[LE(563)](t,e,r){const i=LE;for(let n=0;n<t[i(561)];n++){const s=t[n];if(!s)continue;const o={featureType:s[i(584)],extent:s[i(426)],text:s[i(534)],offset:s[i(549)],weight:s[i(554)]},a={type:"Feature",geometry:{type:"Point",coordinates:s.coord},properties:o};a.id=s.id;const h=this._geoJSON.readFeatureFromObject(a);h[i(384)]=!0,h.showIcon=!0;const l=this[i(333)][i(483)](s.featureType,r);if(!l)continue;h[i(344)](l),h.url=e;const c=l[i(509)]()[0],u=l.getTextSymbols()[0];if(u&&u.display){const t=i(331),r=i(331);this[i(315)][i(357)](e)[i(545)](t);this[i(494)](t,r,400).add(h)}if(c&&c.display){const t=i(471),r=i(471);this[i(315)][i(357)](e)[i(545)](t);this[i(494)](t,r,500)[i(545)](h)}}}[LE(539)](t,e,r){const i=LE;for(let n=0;n<t.length;n++){const s=t[n];if(!s)continue;const o={extent:s[i(426)],text:s[i(534)],offset:s[i(549)],weight:s[i(554)]},a={type:"Feature",geometry:{type:i(440),coordinates:s[i(450)]},properties:o};a.id=s.id;const h=this._geoJSON.readFeatureFromObject(a);h.showText=!0,h[i(511)]=!0;const l=this[i(333)].getStyleByTypeLevel(s[i(584)],r);if(!l)continue;h.setStyle(l),h.url=e;const c=i(331),u=i(331);this[i(315)][i(357)](e)[i(545)](c);this.getPainterByKey(c,u,400)[i(545)](h)}}_addLineLabels(t,e,r){const i=LE;for(let n=0;n<t.length;n++){const s=t[n],o={extent:s.extent,text:s[i(534)],offset:s[i(549)],angle:s.rotate,weight:s.weight},a={type:i(467),geometry:{type:i(440),coordinates:s[i(450)]},properties:o},h=this[i(486)].readFeatureFromObject(a);h[i(384)]=!0,h[i(511)]=!0;const l=this[i(333)].getStyleByTypeLevel(s[i(584)],r);if(!l)continue;h[i(344)](l),h[i(393)]=e;const c=i(355),u=i(355);this[i(315)][i(357)](e)[i(545)](c);this.getPainterByKey(c,u,h[i(554)])[i(545)](h)}}[LE(522)](t,e,r){const i=LE,n=t[i(472)];this[i(358)]={featureType:{POINT:1,LINE:2,POLYGON:3}},this._extraFlags[i(584)];for(let t=n[i(561)]-1;t>=0;t--){const e=n[t];this._addvtPolygons(e,r)}return[]}[LE(381)](t,e){const r=LE,i=t[r(531)],n=t[r(362)],s=this[r(577)][r(406)]();let o;const a={COLOR:0,TEXTURE:1,GRADUAL:2,NOISE:3};let h;switch(i){case a[r(503)]:h=-1!=n.indexOf(r(435))?r(559):r(343);break;case a.TEXTURE:h=-1!=n[r(590)](r(435))?r(360):r(496);break;case a[r(345)]:n==r(435)&&(h="Stretch");break;case a[r(337)]:h=r(547),o=this._styleRuleMgr[r(483)](n,s);break;default:h=r(343)}const l=t.features,c=t[r(554)],u=n+"_"+h;for(let t=0,i=l[r(561)];t<i;t++){const i=l[t];h==r(547)&&(i[r(335)]=o),i[r(393)]=e,this[r(315)].get(e)[r(545)](u);const n=this[r(494)](u,h,c);n&&n[r(545)](i,!1)}}_getXYZ(t,e,r){return t+"#"+e+"#"+r}[LE(397)](){const t=LE;return this[t(376)]()[t(397)]()}[LE(443)](){return this.getMap().getResolution()}_updateData(){const t=LE;this[t(336)](),this[t(350)]()}[LE(350)](){const t=LE;for(let[e,r]of this[t(315)][t(319)]()){for(let e of r[t(385)]())this[t(396)].get(e)[t(487)]();this[t(315)].delete(e)}}[LE(395)](t){const e=LE,[r,i,n]=t[e(568)]("#");let s="";return s=this[e(372)]?""+this[e(341)]+n+"/"+r+"/"+i+"."+this[e(372)]:""+this[e(341)]+n+"/"+r+"/"+i,s}_updateMapData(){const t=LE,e=this[t(333)].getStyleMap();if(!e[t(560)](t(403)))return;const r=e[t(357)]("FOG")[t(519)]()[0];if(r[t(532)])this._setSkybox(r[t(532)]);else if(r[t(391)])this[t(541)](r.skyImage);else{const r=e[t(357)](t(403))[t(519)]()[0][t(407)]();this._map.removeSkyBox(),this[t(577)][t(520)](null),this[t(577)][t(421)](r)}const i=e[t(357)](t(420))[t(519)]()[0][t(407)]();this[t(577)][t(550)](i)}[LE(578)](e){const r=LE;if(!(e instanceof Array))return;let i;if(1==e.length){let n=e[0];if(!t.initState[r(569)])throw"field 'resource' of 'hmap.initState' must be set before using default skybox!.";let s=t.initState[r(569)]+r(493)+n+"/";i=[s+r(363),s+"neg-x.jpg",s+"pos-y.jpg",s+r(340),s+r(474),s+r(329)]}else 6==e.length&&(i=e);this[r(577)]&&(this[r(577)][r(367)](i),this[r(577)].af[r(370)]())}[LE(361)](t){const e=LE;super[e(361)](t),this[e(482)](),this[e(412)]=new nw(this),this[e(577)].event[e(543)](p[e(332)],this[e(378)].bind(this)),this[e(577)][e(364)].addListener(p[e(562)],this._filterLabel.bind(this)),this._map[e(364)][e(543)](p[e(334)],this[e(378)][e(457)](this)),this._map[e(364)][e(543)](p[e(506)],this[e(378)][e(457)](this)),this[e(540)]=this[e(383)](),"m"===t[e(447)]()[e(535)]()?this[e(473)]=1:this.heightFactor=1/111e3,this[e(572)][e(433)]((()=>{const t=e;this[t(422)]();let r=new R(p[t(424)]);this[t(364)][t(582)](r),this[t(576)](0)})),this[e(585)]=this[e(585)]||this._map[e(448)](),this._extraStretch=this[e(540)],this._isOIT&&(this[e(386)]=new(ef[e(346)])(this),this.gl[e(533)](e(317)),this._extraStretch=this[e(383)]({oit:this[e(438)]})),this[e(565)]&&(this.workerPool=new vb(t[e(328)]))}[LE(378)](){const t=LE;if(!this[t(577)])return;this.id=this[t(416)],this[t(514)]=1;const e=this;this[t(417)].addFilterTask(this[t(412)],(function(t){e._updateLabel()}),this),this[t(577)].af.active()}[LE(458)](){const t=LE;this._collisionLabel[t(392)](this[t(536)],this._map[t(406)]()),this[t(412)][t(415)](this._layersPaintersMap[t(357)](t(331)),this[t(396)][t(357)](t(471)))}[LE(527)](){const t=LE,e=this[t(577)];if(!e)return;this.gl.clear(this.gl[t(428)]);const r=e[t(348)](),i=Math[t(408)](r[t(566)]()),n=this.getCullFaceStatus();i>90&&n[t(484)]("CW"),super[t(527)](),this[t(505)](),i>90&&n.setFrontFace(t(546))}[LE(322)](){const t=LE;this[t(432)](this[t(461)],this[t(387)],!1),super.draw();const e=this[t(577)][t(348)]().getRotateX();if(Math[t(408)](e)<=90)for(let e=0,r=this._painters[t(561)];e<r;e++){const r=this._painters[e];r[t(423)]&&(this[t(374)]()[t(365)](!1),(r instanceof ef[t(434)]||r instanceof ef[t(429)])&&this[t(374)]()[t(365)](!0),this[t(374)]()[t(370)](this.gl),r.draw(this[t(536)]))}else for(let e=this[t(368)][t(561)]-1;e>-1;e--){const r=this[t(368)][e];r.visibility&&(this.getDepthStatus()[t(365)](!1),r instanceof ef[t(449)]&&this.getDepthStatus().setEnable(!0),this[t(374)]()[t(370)](this.gl),r[t(527)](this[t(536)]))}this.gl[t(574)](this.gl.DEPTH_BUFFER_BIT)}_oitDraw(){const t=LE;this[t(432)](this[t(461)],this[t(387)],!1),this[t(374)]()[t(365)](!1),super.draw();for(let e=0,r=this._painters[t(561)];e<r;e++){const r=this[t(368)][e];if(r[t(423)]){if(r instanceof ef[t(449)])continue;this[t(374)]()[t(370)](this.gl),r[t(527)](this[t(536)])}}this.gl[t(574)](this.gl[t(428)]),this[t(374)]()[t(529)](!1),this[t(555)]().setEnable(!0),this.getBlendStatus()[t(320)]({rbgSrcFactor:nt.ONE,rgbDstFactor:nt.ONE,alphaSrcFactor:nt.ZERO,alphaDstFactor:nt[t(508)]}),this[t(418)](this.gl);for(let e=0,r=this[t(466)][t(561)];e<r;e++){const r=this._oitStretch[e];r.visibility&&r[t(527)](this._vtGroupToDraw)}this[t(338)](),this[t(418)](this.gl)}[LE(548)](){const t=LE;if(this._vtGroupCache.size<this[t(389)])return;let e=0;for(let[r,i]of this._vtGroupCache[t(319)]()){for(let e of i[t(385)]()){this[t(396)].get(e)[t(425)](r)}if(this._vtGroupCache[t(404)](r),++e===this[t(455)])break}}[LE(465)](t,e){const r=LE;t.weight=e,this[r(368)][r(330)](t),this._painters[r(339)](((t,e)=>{const i=r;return t.weight-e[i(554)]})),e===this[r(525)]&&this[r(466)].push(t)}[LE(526)](t=1){const e=LE;this[e(321)]=t;for(let t of this[e(396)][e(351)]())t.opacity=this._opacity;this[e(576)]()}setXYZ(t){const e=LE;this[e(517)]=[];const r=this.rangeRow(t),i=this[e(444)](t);for(let n=i[e(342)]-1;n>=i.minX;n--)for(let i=r[e(375)]-1;i>=r.minY;i--){let r=new Map,{subXYZ:s}=this._getSubXYZ(n,i,t);r[e(327)](e(411),this[e(551)](n,i,t)),r.set("subXYZ",s),this[e(517)][this[e(517)][e(561)]]=r}}[LE(419)](){const t=LE;for(let e=this[t(368)][t(561)]-1;e>-1;e--)this[t(368)][e].removeAll();super[t(419)]()}[LE(352)](){const e=LE;this[e(377)]=e(575),this._dataStoreName=e(581),this[e(353)]=new Promise(((r,i)=>{const n=e;this.dataStore=new t.DataStore(this[n(371)],{keyPath:n(393),autoIncrement:!1}),this[n(452)][n(460)](n(393),"url",{unique:!0}),this._IDB=new t.IndexedDB(this.dbName,1,{storeList:[this[n(452)]]}),this[n(524)][n(436)]()[n(433)]((t=>{this[n(587)]=!0,r(t)}))[n(567)]((t=>{i(t)}))}))}}const OE=["FillNoisePainter","keys","_toRenderLayer","dealTileRequest","random","_painterType","set","_oitDraw","depthTest","_getXYZ","_dataMaxLevel","push","FillVideoPainter","painterType","_removeAll","ZERO","event","setLayerStyle","updateFeature","dispatch","22653tTejRR","ONE_MINUS_SRC_ALPHA","splice","SymbolDynamicPainter","getTextureObject","getLayerType","POLYGON_RADIALGRADIENT","forEach","status","setTileUrl","LinePainter","_oitStretch","_geoJSON","callback","prepareData","surfaceColor","addFeaturesByLayerName","col","FillDashPainter","setOpacity","101629kJvhQF","surfaceModel","_oitPainter","updateFeatures","heightFactor","setIndex","enableHashCode","_tileBuffer","sort","LAYEREVENT_LOADEND","single","EXT_color_buffer_float","_isBaseLayer","workerPool","destroy","LineSymbol","_maxThreads","addFeature","catch","_queryGJT","_layersPaintersMap","POINT","GeoJSONTileLayer","Circle","STRETCH","LINE_DASH","Stretch","_groupSideLength","spriteImg","PROCESS_GJT","117156CuoYHA","has","_map","_startOneRequestTask","OITPainter","lineWay","_showStretchZoom","checkCacheSize","weightumber","cancelDefaultStyle","997ndndIP","STRETCH_TEXTURE","getHitCoordinate","FillTexturePainter","OITMode","_allLayers","isBaseLayer","parallelChange","loadDone","floor","delete","setMap","POLYGON_NOISE","LINE_WIDTH_DASH","size","json","_layerExtra","active","21hqtgJU","style","_dealVtile","_vaoToDeleteOnce","weight","setXYZ","result","enableLight","StretchPainter","all","weight","FillSolidPainter","read","_updateData","getServerZoomByRes","layerUrl","xyz","getExtension","then","_dataStoreName","_vtGroupToDraw","setLayerWeight","dbName","setShowStretchZoom","StretchTexturePainter","getData","LINE_WIDTH","gjtCache","ONE","indexOf","add","getAttributes","hasOwnProperty","removeBlockById","getResolution","2LxfGhC","visible","addFeatures","_atlasMgr","url","setFunc","resolve","addVTile","_opacity","removeFeature","raycasterIntersect","layerName","SPRITEPOINT","setDefaultStyle","LINE","split","73FZXgEK","setMask","apply","style  hmap.style.Style","getMaxZoom","getBlendStatus","assign","POLYGON_DASH","_painters","_mergeExtra","ColorFill","Color","_isOIT","signal","sprite","extra","draw","bufferImage","_IDB","showStretchZoom","getDepthStatus","pixelLength","getPainterType","zoom","href","styleType","painters","getColor","cors","_styleMap","length","_maxWeight","847MYtxwT","dataMaxLevel","_initIDBPromise","_featuresToAdd","POLYGON_SOLID","groupSideLength","opacity","hasOwnerStyle","update","features","dataStore","_useWebWorker","get","POLYGON_TEXTURE","updatePainterType","_drawPainters","_vaoPoolCapacity","atlasSpace","init","setLayerVisible","dataFormat","SymbolStaticPainter","_layersWithoutStyle","_vtGroupCache","solid","useWebWorker","request","FillRadialGradientPainter","initStoredFeature","70790XlOdFV","getMap","_blocks","setStyle","drawArrays","_OITMode","getResolutions","58831BTyXav","_indexedDBReady","atlasSize","_redraw"],NE=BE;function BE(t,e){return OE[t-=163]}!function(t,e){const r=BE;for(;;)try{if(151790===parseInt(r(169))*parseInt(r(262))-parseInt(r(199))+parseInt(r(227))*-parseInt(r(310))-parseInt(r(339))+-parseInt(r(209))*-parseInt(r(278))+parseInt(r(370))+parseInt(r(346)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(OE);class UE extends Hb{constructor(e,r,i={},n){const s=BE;i[s(358)]=!!i[s(259)]("depthTest")&&i[s(358)],super(e,r,i),this[s(175)]=!!i[s(259)](s(175))&&i.enableHashCode,this[s(181)]=!1!==i[s(215)],this[s(196)]=i[s(315)]||1,this[s(333)]=new Map,this._vtGroupToDraw=new Set,this[s(265)]=new Ga(i[s(348)],i[s(327)],!1),this[s(286)]=new Map,this[s(313)]=[],this[s(189)]=new Map,this[s(313)]=[],this[s(382)]=new t.GeoJSON,this._showStretchZoom=i[s(297)]||16,this.url=r,this.dataFormat=s(224),this[s(360)]=i[s(311)],this.pixelLength=i[s(299)]||20,this._enableLight=!i[s(259)]("enableLight")||i[s(234)],this[s(204)]=s(216),this[s(381)]=[],this[s(290)]=!0===i.isOIT,this[s(344)]=Math.floor(i[s(213)])?Math[s(218)](i[s(213)]):0,this._layerDraw=!0===this._isOIT?this[s(357)]:this[s(294)],this._useWebWorker=!!i.hasOwnProperty(s(335))&&i.useWebWorker,this[s(352)]=[],this[s(307)]=new Map,this[s(383)]=n,this[s(309)]=0,this._layersWithoutStyle=[],this._allLayers=new Set}[NE(250)](t){this._showStretchZoom=t}get[NE(304)](){return this[NE(286)]}[NE(375)](){return Ot[NE(191)]}[NE(172)](t){const e=NE;for(let r of t)this[e(368)](r)}updateFeature(t){const e=NE;if(this._map){t[e(324)](!1)===t[e(300)]()?this[e(304)].get(t[e(300)]())[e(318)](t):(this.removeFeature(t),this[e(186)](t))}else{const r=this[e(313)][e(256)](t);r>-1&&(this[e(313)][r]=t)}}[NE(165)](e,r,i){const n=NE;if(void 0!==i&&!isFinite(i))throw new TypeError(n(207));if(void 0!==i?this._maxWeight=this[n(309)]>i?this[n(309)]:i:this._maxWeight++,!(r instanceof t.Style))throw new TypeError(n(281));this[n(307)].set(e,{style:r,weight:void 0!==i?i:this[n(309)],visible:!0,hasOwnerStyle:!0}),this[n(349)]()}[NE(248)](t,e){const r=NE;if(!isFinite(e))throw new Error(r(237));this._maxWeight=this._maxWeight>e?this._maxWeight:e,this[r(307)][r(200)](t)?this[r(307)][r(322)](t)[r(231)]=e:this._styleMap[r(356)](t,{weight:e,visible:!0,hasOwnerStyle:!1}),this[r(349)]()}[NE(367)](t,e){const r=NE;this._maxWeight++,this[r(307)][r(200)](t)?(this[r(307)][r(322)](t).style=e,this[r(307)][r(322)](t)[r(317)]=!0):this[r(307)][r(356)](t,{style:e,visible:!0,hasOwnerStyle:!0,weight:this[r(309)]}),this[r(349)]()}[NE(275)](){const e=NE,r=new t.Style({markerSymbols:[new(Fa[e(192)])({radius:8,fillColor:new(Fa[e(289)])(250,124,40,1)})],fillSymbols:[new(Fa[e(288)])(new(Fa[e(289)])(255*Math.random(),255*Math[e(354)](),255*Math[e(354)](),1))],lineSymbols:[new(Fa[e(184)])({width:6,color:new t.Color(255*Math.random(),255*Math.random(),255*Math[e(354)](),1),lineStyle:e(334)})]});this[e(214)][e(377)]((t=>{const i=e;this[i(307)].has(t)?this[i(307)].set(t,Object[i(284)]({style:r},this[i(307)][i(322)](t))):(this[i(332)][i(361)](t),this[i(309)]++,this[i(307)][i(356)](t,{style:r,weight:this[i(309)],visible:!0}))})),this._redraw()}[NE(208)](){const t=NE;this[t(307)][t(377)](((e,r)=>{const i=t;-1!==this[i(332)][i(256)](r)&&delete e[i(228)]})),this[t(349)]()}_redraw(t=0){const e=NE;this[e(240)](),this[e(201)].af[e(226)](t)}[NE(329)](t,e=!0){const r=NE;this[r(309)]++,this[r(307)][r(200)](t)?this[r(307)][r(322)](t).visible=e:this._styleMap[r(356)](t,{visible:e,weight:this[r(309)],hasOwnerStyle:!1}),this[r(349)]()}hideAllLayers(){const t=NE;this[t(307)][t(377)]((e=>{e[t(263)]=!1})),this[t(349)]()}showAllLayers(){const t=NE;this[t(307)][t(377)]((e=>{e[t(263)]=!0})),this._redraw()}addVTile(t,e){const r=NE,i=this[r(382)][r(239)](t);for(let t=i[r(308)]-1;t>=0;t--){const n=i[t];n[r(266)]=e;const s=n[r(258)](),o=s[r(273)];this[r(214)][r(257)](o);const a=this._styleMap[r(322)](o);if(!a||!a[r(228)])continue;const{style:h,weight:l,visible:c,hasOwnerStyle:u}=a;if(n[r(317)]=u,n[r(342)](h),n[r(231)]=l,n[r(263)]=void 0===c||c,n[r(324)](),s[r(259)]("stretch")&&s[r(259)](r(218))&&s[r(218)]>0&&this[r(301)]>=this[r(205)]){s.height=4*s[r(218)];let t=h.getFillSymbols()[0][r(305)]();s[r(164)]=t,s[r(170)]=r(179),s.styleType=r(195),n[r(355)]=r(195)}else s.styleType=n.getPainterType()}return i[r(177)](((t,e)=>{const i=r;return void 0===e[i(231)]?1:void 0===t[i(231)]?-1:t[i(231)]-e[i(231)]})),this[r(264)](i),[]}[NE(186)](t){const e=NE;if(t[e(263)])if(this[e(201)]){const r=t[e(258)]()[e(303)];this[e(333)][e(322)](t[e(266)])[e(257)](r);const i=this[e(304)][e(322)](r);i&&i[e(257)](t,!1)&&this[e(189)][e(356)](r,i)}else this[e(313)][e(361)](t)}[NE(264)](t){const e=NE;for(let r=0,i=t[e(308)];r<i;r++)this[e(186)](t[r])}[NE(271)](t){const e=NE,r=t.getPainterType();if(r===ef[e(363)].NONE)return!1;if(this._map)this[e(304)][e(322)](r).remove(t);else{const r=this[e(313)].indexOf(t);r>-1&&this[e(313)][e(372)](r,1)}}[NE(163)](){const t=NE;this[t(247)].clear(),this[t(301)]=this[t(241)](),this[t(301)]=this.zoom<=this[t(360)]?this[t(301)]:this._dataMaxLevel,this[t(232)](this[t(301)]),this.addExterInfo();const e=[];for(let r=0,i=this[t(176)].length;r<i;r++){const i=this._tileBuffer[r],n=i.get(t(243)),s=i.get("subXYZ");if(this[t(247)].add(n),this._vtGroupCache[t(200)](n)){const e=this._vtGroupCache[t(322)](n);this._vtGroupCache.delete(n),this[t(333)][t(356)](n,e)}else{this[t(333)][t(356)](n,new Set);for(let r=0,i=s[t(308)];r<i;r++){const i=s[r];e[t(361)](this._queryGJT(i[t(266)],n,i[t(243)]))}}}Promise[t(236)](e)[t(245)]((()=>{const e=t;!this.loadDone&&(this[e(201)][e(366)].dispatch(new R(p[e(178)])),this[e(217)]=!0)})),this[t(206)]()}async dealTileRequest(e,r,i){const n=NE;let s;return s=this[n(296)]&&this._indexedDBReady?new Promise((s=>{const o=n;this._IDB.getData(this[o(246)],e)[o(245)]((n=>{const a=o;if(n[a(233)])this[a(229)](n[a(233)].data,r,e),s();else if(this[a(321)]){let n,o=new Promise((function(t,e){n=t}));o[a(268)]=n;let h={taskType:t.WorkerTaskType.PROCESS_GJT,dataUrl:e,xyz:i,useIndexedDB:!0,layerType:this[a(375)]()};this.workerPool[a(369)](h,o),o[a(245)]((()=>{const t=a;this[t(296)][t(252)](this._dataStoreName,e)[t(245)]((i=>{const n=t;this._dealVtile(i[n(233)].data,r,e),s()}))}))}else{this[a(202)](e)[a(245)]((t=>{this[a(229)](t,r,e),s()}))}}))})):new Promise((s=>{const o=n;if(this[o(321)]){let n,a=new Promise((function(t,e){n=t}));a[o(268)]=n;let h=new URL(e)[o(302)],l={taskType:t.WorkerTaskType[o(198)],dataUrl:h,xyz:i,useIndexedDB:!1,layerType:this[o(375)]()};this[o(182)][o(369)](l,a),a[o(245)]((t=>{this[o(229)](t.data,r,e),s()}))}else{this[o(202)](e)[o(245)]((t=>{this[o(229)](t,r,e),s()}))}})),s}_startOneRequestTask(t){return new Promise(((e,r)=>{const i=BE;fetch(t,{signal:this[i(291)],mode:i(306),method:"GET"})[i(245)]((t=>{const e=i;if(200===t[e(378)])return t[e(224)]()})).then((r=>{const n=i;this._IDB&&this._IDB.addData(this[n(246)],{data:r,url:t}),e(r)}))[i(187)]((t=>{}))}))}async[NE(188)](t,e,r){return this[NE(353)](t,e,r)}[NE(229)](t,e){const r=NE;t&&this[r(333)][r(322)](e)&&this[r(269)](t,e)}_getXYZ(t,e,r){return t+"#"+e+"#"+r}getResolutions(){const t=NE;return this[t(340)]()[t(345)]()}[NE(261)](){return this.getMap().getResolution()}[NE(240)](){const t=NE;for(let[e,r]of this[t(333)].entries()){for(let e of r[t(351)]())this[t(189)].get(e)[t(364)]();this[t(333)][t(219)](e)}}[NE(379)](t){const e=NE,[r,i,n]=t.split("#");let s="";return s=this[e(330)]?""+this[e(242)]+n+"/"+r+"/"+i+"."+this[e(330)]:""+this[e(242)]+n+"/"+r+"/"+i,s}[NE(220)](e){const r=NE;super[r(220)](e),this[r(240)]();let i=this._layerExtra();this[r(290)]&&(this[r(171)]=new(ef[r(203)])(this),this.gl[r(244)](r(180)),i=this[r(225)]({oit:this[r(344)]})),this[r(321)]&&(this[r(182)]=new vb(e[r(185)]));const n=new(ef[r(212)])(this,this[r(287)](i,{texture2D:0,offset:0,highlight:0}));this[r(286)][r(356)](ef[r(363)][r(323)],n);const s=new(ef[r(350)])(this,this[r(287)](this[r(293)],{fog:0,offset:0,vposition:0,noise:0}));this[r(286)][r(356)](t.painterType[r(221)],s);const o=new(ef[r(362)])(this,this[r(287)](i,{texture2D:0,offset:0,highlight:0}));this[r(286)][r(356)](t.painterType.POLYGON_VIDEOTEX,o);const a=new(ef[r(337)])(this,this[r(287)](i,{radialGradient:0}));this._painters[r(356)](ef[r(363)][r(376)],a);const h=new(ef[r(238)])(this,this._mergeExtra(i,{offset:0,colorI:0,highlight:0}));this[r(286)][r(356)](ef[r(363)][r(314)],h);const l=new(ef[r(167)])(this,this[r(287)](i,{wideSolid:0,dash:0,offset:0,colorI:0,highlight:0}));this[r(286)][r(356)](t.painterType[r(285)],l);const c=new bl(this,this[r(287)](i,{wideSolid:0,colorI:0,offset:0,highlight:0}),{lineWay:this[r(204)]});this[r(286)].set(t.painterType[r(253)],c);const u=new(ef[r(380)])(this,this._mergeExtra(i,{dash:0,wideSolid:0,colorI:0,offset:0,highlight:0}),{lineWay:this[r(204)]});this._painters[r(356)](ef[r(363)][r(222)],u);const p=new bl(this,this[r(287)](i,{colorI:0,offset:0,highlight:0}));this._painters[r(356)](ef[r(363)][r(276)],p);const f=new(ef[r(380)])(this,this._mergeExtra(i,{colorI:0,offset:0,dash:0,highlight:0}));this[r(286)][r(356)](t.painterType[r(194)],f);const g=new(ef[r(235)])(this,this[r(287)](i,{stretch:0,colorI:0,highlight:0,aNormal:0,light:0}));this._painters[r(356)](ef[r(363)][r(193)],g);const d=new Du(this,this[r(287)](i,{colorI:0}));this[r(286)].set(t.painterType.VOXEL,d);const _=new(ef[r(251)])(this,this[r(287)](i,{stretch:0,stretchTexture2D:0,highlight:0,aNormal:0,light:0}));this[r(286)].set(ef[r(363)][r(210)],_);const y=new(ef[r(373)])(this,this._mergeExtra(i,{offset:1,sprite:0,opacity:0,dynamicText:0,highlight:0}),{drawType:r(343),blockSize:200,atlasManager:this[r(265)]});if(this._painters[r(356)](ef[r(363)][r(190)],y),this.enableSprite){const t=new(ef[r(331)])(this,this[r(287)](i,{offset:0,sprite:0,highlight:0}),{drawType:"drawArrays",blockSize:200,atlasManager:this[r(265)]});this[r(286)][r(356)](ef[r(363)][r(274)],t),this[r(292)][r(336)].then((()=>{const t=r;Gt[t(322)](this.gl)[t(374)](this.sprite[t(266)],0)[t(295)](this.sprite[t(197)])}))}"m"===e.getCrs().getUnit()?this[r(173)]=1:this[r(173)]=1/111e3,this[r(360)]=this._dataMaxLevel||this[r(201)][r(282)](),this[r(338)]()}[NE(338)](){const t=NE;for(let e of this._featuresToAdd)this[t(186)](e);this[t(313)]=[]}draw(){const t=NE;super[t(294)](),this[t(290)]?this[t(357)]():this._drawPainters()}[NE(325)](){const t=NE,e=this[t(247)];this.painters[t(377)]((r=>{r[t(294)](e)}))}_oitDraw(){const t=NE;this[t(298)]()[t(279)](!1),this[t(283)]().setEnable(!0),this[t(283)]()[t(267)]({rbgSrcFactor:nt[t(255)],rgbDstFactor:nt[t(255)],alphaSrcFactor:nt[t(365)],alphaDstFactor:nt[t(371)]}),this.activeStatusManager(this.gl),this[t(325)]()}[NE(206)](){const t=NE;if(this[t(333)][t(223)]<this[t(326)])return;let e=0;for(let[r,i]of this[t(333)].entries()){for(let e of i.keys()){this[t(189)][t(322)](e)[t(260)](r)}if(this[t(333)].delete(r),++e===this[t(230)])break}}[NE(272)](t){const e=NE,r=[],i=t[e(211)](),n=this.getTileInfo(i);if(!n)return r;let[s,o,a]=[1*n[e(166)],1*n.row,this.zoom];this[e(196)]>1&&(s=Math.floor(s/this[e(196)]),o=Math.floor(o/this._groupSideLength));const h=this[e(359)](s,o,a);return this[e(189)][e(377)](((t,i)=>{const n=e;if(t instanceof gc){t[n(341)][n(377)](((t,e)=>{const i=n;e.split("#")[2]==h[i(277)]("#")[2]&&r[i(361)][i(280)](r,t[i(319)])}))}else{const e=t.getBlockById(h);e&&r[n(361)][n(280)](r,e.features)}})),r.reverse()}[NE(168)](t=1){const e=NE;this[e(270)]=t;for(let t of this[e(189)].values())t[e(316)]=this[e(270)];this.redraw()}[NE(183)](){const t=NE;for(let e=this._painters[t(308)]-1;e>-1;e--)this[t(286)][e].removeAll();super[t(183)]()}_initIndexDB(){const e=NE;this[e(249)]=e(254),this[e(246)]="tiles",this[e(312)]=new Promise(((r,i)=>{const n=e;this.dataStore=new t.DataStore(this[n(246)],{keyPath:n(266),autoIncrement:!1}),this[n(320)][n(174)](n(266),"url",{unique:!0}),this[n(296)]=new t.IndexedDB(this.dbName,1,{storeList:[this[n(320)]]}),this[n(296)][n(328)]().then((t=>{this[n(347)]=!0,r(t)}))[n(187)]((t=>{i(t)}))}))}}var kE=["178695AzmfGQ","169959saePZW","18dCxMbq","180473jAcbyD","147797olDPpq","9786nOvebO","1PzLuFl","202865wKFZjp","7KGMclY","1VZPpzh","814MTMaeM"];function VE(t,e){return kE[t-=412]}!function(t,e){for(var r=VE;;)try{if(107603===parseInt(r(413))+parseInt(r(416))+-parseInt(r(415))*parseInt(r(421))+-parseInt(r(420))*parseInt(r(417))+parseInt(r(419))*parseInt(r(418))+-parseInt(r(422))*-parseInt(r(414))+-parseInt(r(412)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(kE);var GE=Object.freeze({__proto__:null,layerType:Ot,Layer:Dt,ClusterLayer:Fx,FbxModelLayer:uv,GLTFLayer:Av,LayerContainer:cf,ObjModelLayer:kv,OverlayLayer:mf,PointsLayer:sb,S3MLayer:Lb,Tile3DLayer:Nb,TMSLayer:Xb,VectorLayer:Hg,VectorTileLayer:lw,WMSLayer:Jb,ThreeJSLayer:bf,WMTSLayer:ew,TextLayer:Dw,MapvLayer:Rf,MVTLayer:rT,TerrainLayer:gT,GraticuleLayer:of,GroundVectorLayer:CT,FbxModelInstanceLayer:ZT,MeshLayer:bE,PointCloudBaseLayer:CE,PointCloudLayer:SE,VectorTileBinLayer:DE,GeoJSONTileLayer:UE});const zE=["_status","100%","position","44NibUSs","round","250484YulzAi","_map","302771ruwGLq","appendChild","scaleFactor","top","_scaleFactor","1gLFAbg","9523JjSBoH","getPixelPos","228073GJvbhi","right","296783QsJiIM","sin","getY","transform","2kgooNf","_popupDom","3yAFwco","scale(","clientHeight","bottom","clientWidth","_element","left","getRotateAngle","transformOrigin","absolute","324273VXahuY","style","75985ZTENDv","zIndex","_reAdjust","pitch","container"];function HE(t,e){return zE[t-=162]}const jE=HE;!function(t,e){const r=HE;for(;;)try{if(480635===-parseInt(r(201))*parseInt(r(185))+-parseInt(r(199))*-parseInt(r(183))+parseInt(r(173))+-parseInt(r(190))*-parseInt(r(195))+parseInt(r(171))+-parseInt(r(193))+parseInt(r(181))*parseInt(r(191)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(zE);class YE extends gf{constructor(t){const e=HE;super(t=t||{}),this._scaleFactor=void 0!==t[e(187)]?t[e(187)]:0,this[e(178)]=[e(188),e(167)],this[e(200)]=document.createElement("div"),this[e(200)][e(186)](this[e(166)]),this._container[e(186)](this[e(200)])}[jE(175)](t){const e=jE,r=this[e(192)](),i=r.getX(),n=r[e(197)](),s=this._layer[e(177)][e(165)],o=this._layer[e(177)][e(163)],a=this[e(166)][e(165)],h=this[e(166)][e(163)];n<h&&this._status[0]!=e(188)?this[e(178)][0]=e(188):n>o-h&&"bottom"!=this._status[0]&&(this[e(178)][0]=e(164)),i<a&&this[e(178)][1]!=e(167)?this[e(178)][1]=e(167):i>s-a&&"right"!=this[e(178)][1]&&(this[e(178)][1]=e(194));const l=(this[e(178)][0],e(188),n),c=(this[e(178)][1],e(167),i),u="top"==this[e(178)][0]?l:l-h,p=this[e(178)][1]==e(167)?c:c-a;this._popupDom[e(172)][e(180)]=e(170),this._popupDom[e(172)][e(188)]=u+"px",this._popupDom[e(172)].left=p+"px";const f=t[e(177)].clientHeight/2,g=t[e(184)][e(168)](e(176))*Math.PI/180,d=Math[e(196)]((u-f)/f*Math.PI*.5)*this[e(189)]*Math[e(196)](g)+1;this[e(166)][e(172)][e(198)]=e(162)+d+")";const _=this._status[0]==e(188)?0:e(179),y=this[e(178)][1]==e(167)?0:e(179);this._element[e(172)][e(169)]=y+" "+_,this[e(200)][e(172)][e(174)]=10+Math[e(182)](100*d)}}const $E=["scaleFactor","getValue","_anchorType","transformOrigin",'" height="',"anchorHeight","lineWidth","container","lineColor","3NXgTbb","sin",'" ry="',"createElement","380727GTbNWW","_popOffsetLine","innerHTML",';"/>','" style="fill:',"_anchorFillColor","_linePointOffsetArr","anchorWidth",";stroke:","anchorFillColor","_reAdjust",'" y="',"_anchorStr","</svg>","657487SsduOx","top","absolute","1102897wcGEWr",";stroke-width:","clientHeight","_popupDom","_container","_scaleFactor","pitch",'<svg width="100%" height="100%" style="position:absolute">','<rect x="',"_anchorStrokeColor","left",'<polyline points="',"anchorStrokeColor","getRotateAngle","anchorType","appendChild","308183iFBlWQ",'" style="fill:rgba(0,0,0,0);stroke:',"_anchorStrokeWidth","_lineStr","style","anchorStrokeWidth","position","_lineWidth","_map","_element","ellipse","zIndex","_lineColor",'"/>',"length","_lineDom",'<ellipse cx="',"_anchorHeight","getX","transform","2989009FUWGYJ","toRGBAColor","scale(",'" width="',"popOffsetLine","div","919491Kvcyel","hasOwnProperty","_anchorWidth","linePointOffsetArr","704760EkYqoL"],XE=ZE;!function(t,e){const r=ZE;for(;;)try{if(609358===-parseInt(r(418))-parseInt(r(446))-parseInt(r(449))+-parseInt(r(428))*parseInt(r(432))+parseInt(r(388))+parseInt(r(414))+parseInt(r(408)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($E);class WE extends gf{constructor(e){const r=ZE;super(e=e||{}),this[r(454)]=void 0!==e[r(419)]?e[r(419)]:0,this[r(433)]=e.hasOwnProperty(r(412))?e[r(412)]:new t.Offset(0,0),this._linePointOffsetArr=e[r(415)](r(417))?e[r(417)]:[new t.Offset(10,10)],this[r(395)]=e[r(415)](r(425))?e[r(425)]:0,this._lineColor=e[r(415)](r(427))?e[r(427)]:new t.Color(0,0,0,0),this[r(403)]=document.createElement(r(413)),this[r(421)]=e[r(415)]("anchorType")?e[r(386)]:r(398),this[r(416)]=e[r(415)](r(439))?e.anchorWidth:0,this[r(405)]=e[r(415)]("anchorHeight")?e[r(424)]:0,this[r(437)]=e[r(415)](r(441))?e.anchorFillColor:new t.Color(0,0,0,0),this._anchorStrokeColor=e[r(415)](r(384))?e[r(384)]:new t.Color(0,0,0,1),this[r(390)]=e[r(415)](r(393))?e.anchorStrokeWidth:2,this[r(452)]=document[r(431)]("div"),this._popupDom.appendChild(this[r(397)]),this[r(453)][r(387)](this[r(452)]),this[r(453)][r(387)](this[r(403)])}[XE(442)](t){const e=XE,r=this[e(400)][e(409)](),i=this[e(395)],n=this.getPixelPos(),s=n[e(406)](),o=n.getY();let a,h,l=" ";if(this[e(438)][e(402)]>0)for(let t=0,r=this._linePointOffsetArr.length;t<r;t++){const i=this._linePointOffsetArr[t],n=s+i[e(420)]("x"),c=o-i[e(420)]("y");l+=n+","+c+" ",t==r-1&&(a=n,h=c)}this[e(391)]=e(460)+s+","+o+l+a+","+h+e(389)+r+";stroke-width:"+i+e(401);const c=this._anchorFillColor[e(409)](),u=this[e(458)].toRGBAColor();this[e(421)]==e(398)?this[e(444)]=e(404)+s+'" cy="'+o+'" rx="'+this[e(416)]/2+e(430)+this._anchorHeight/2+e(436)+c+";stroke:"+u+";stroke-width:"+this[e(390)]+e(401):this[e(444)]=e(457)+s+e(443)+o+e(411)+this[e(416)]/2+e(423)+this[e(405)]/2+'" style="fill:'+c+e(440)+u+e(450)+this[e(390)]+e(435);let p="";p+=e(456),p+=this[e(444)],p+=this[e(391)],p+=e(445),this[e(403)][e(434)]=p;const f=a+this[e(433)][e(420)]("x"),g=h-this[e(433)][e(420)]("y");this[e(452)][e(392)][e(394)]=e(448),this[e(452)][e(392)][e(447)]=g+"px",this._popupDom[e(392)][e(459)]=f+"px",this[e(452)][e(392)][e(399)]="10";const d=t[e(426)][e(451)]/2,_=t[e(396)][e(385)](e(455))*Math.PI/180,y=Math[e(429)]((n.getY()-d)/d*Math.PI*.5)*this[e(454)]*Math[e(429)](_)+1;this._element[e(392)][e(407)]=e(410)+y+")",this[e(397)].style[e(422)]="0 0",this[e(452)][e(392)][e(399)]=10+Math.round(100*y)}}function ZE(t,e){return $E[t-=384]}var qE=["5KrCdcc","134311esJRtJ","54pJywDJ","11164imgJId","11lWxRWn","1fgVrHe","115MTOePb","309736fnyJMT","2237OwzPsL","308957IBhbRC","26126VNeNDc","1435111DOqaXT","1hsAyhq"];function JE(t,e){return qE[t-=167]}!function(t,e){for(var r=JE;;)try{if(995268===-parseInt(r(178))*-parseInt(r(172))+-parseInt(r(167))*parseInt(r(175))-parseInt(r(174))+parseInt(r(176))*parseInt(r(177))+parseInt(r(169))*parseInt(r(168))+parseInt(r(173))*-parseInt(r(171))+parseInt(r(170))*-parseInt(r(179)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(qE);var KE=Object.freeze({__proto__:null,AdaptPopup:YE,ArrawPopup:WE,Overlay:gf,SimplePopup:fg}),QE=["12038RwBLDY","20144mBOXEl","1858368FSEWyO","27NoTIwk","1xtFXRs","289033BfpPkP","2547366UDZBnw","73jftZXJ","1212957kNarqA","3motGKC","363168NVVqSc"];function tC(t,e){return QE[t-=487]}!function(t,e){for(var r=tC;;)try{if(989544===parseInt(r(495))*parseInt(r(493))+parseInt(r(494))+-parseInt(r(497))+parseInt(r(491))*parseInt(r(490))+parseInt(r(492))*-parseInt(r(488))+-parseInt(r(496))*-parseInt(r(489))+-parseInt(r(487)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(QE);var eC=Object.freeze({__proto__:null,Event:R,EventManager:A,EventType:p,MapEvent:ch}),rC=["168hsAfXi","46xChlJC","263541HbAXKK","2383tPxqsH","660629douJIA","12658aiKXaQ","1849120EvaEsU","342728wkNCHB","861302YKIhuC"];function iC(t,e){return rC[t-=375]}!function(t,e){for(var r=iC;;)try{if(588300===-parseInt(r(383))-parseInt(r(376))+-parseInt(r(381))*parseInt(r(375))+parseInt(r(382))*parseInt(r(377))-parseInt(r(380))+parseInt(r(379))+parseInt(r(378)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(rC);var nC=Object.freeze({__proto__:null,Topology:t.Topology,Raycaster:kf,Intersect3D:t.Intersect3D}),sC=["80675QvCWgd","1306291XEJDCn","247644oCoVtR","582923sgskza","26109yTedGz","5DTqJAu","495336qVYbZD","386414WlDoQV"];function oC(t,e){return sC[t-=215]}!function(t,e){for(var r=oC;;)try{if(330336===-parseInt(r(217))+parseInt(r(216))+-parseInt(r(219))+-parseInt(r(215))+parseInt(r(218))*-parseInt(r(221))+-parseInt(r(220))+parseInt(r(222)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(sC);var aC=Object.freeze({__proto__:null,Light:Hf,SunLight:Jf,AmbientLight:Py,DirectionLight:Xf,PointLight:Dy,SpotLight:By}),hC=["1KPonMe","31173AneZIg","_scale","_init","hasOwnProperty","1ASbDqQ","typeNum","color","normalColorArr","getScale","clone","setColor","6254OhwIVn","222kPvWqR","56fMQBip","getColor","25221LZRtkH","34JzeHDP","toNormalizeArray","10MUkaUC","13EAPhTg","scale","181606vNfmzL","_color","1115VmfqwH","33738QAPxRL"],lC=uC;!function(t,e){for(var r=uC;;)try{if(179780===parseInt(r(183))*parseInt(r(203))+parseInt(r(197))*parseInt(r(179))+-parseInt(r(191))*parseInt(r(195))+parseInt(r(192))*parseInt(r(190))+parseInt(r(198))*-parseInt(r(194))+parseInt(r(202))+-parseInt(r(204))*parseInt(r(200)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(hC);class cC extends t.Noise{constructor(e={}){var r=uC;super(e),this[r(201)]=e.color?e[r(185)]:new t.Color(0,115,250,1),this._scale=e[r(182)](r(199))?e[r(199)]:1,this._init()}[lC(181)](){var t=lC;this[t(184)]=4,this.normalColorArr=this[t(201)][t(196)]()}[lC(193)](){return this[lC(201)]}[lC(189)](e){var r=lC;if(!(e instanceof t.Color))throw new TypeError('parameter "color" must be an instance of Color');this[r(201)]=e,this[r(186)]=this[r(201)].toNormalizeArray()}[lC(187)](){return this[lC(180)]}setScale(t){this[lC(180)]=t}[lC(188)](){return new cC({color:this[lC(201)],scale:this._scale})}}function uC(t,e){return hC[t-=179]}var pC=["52709fsJefs","getScale","clone","_color","1RFLeIX","getColor","_init","1305872HAPAiE","1538268KeDsWy","normalColorArr","toNormalizeArray","1179317DWpdpY","_scale","setScale","2717653Arqtlo","1lqJNMv",'parameter "color" must be an instance of Color',"1677144AqTtBY","hasOwnProperty","color","typeNum","scale","733179pigxAH","2mfcQkd"],fC=gC;function gC(t,e){return pC[t-=293]}!function(t,e){for(var r=gC;;)try{if(932185===-parseInt(r(315))*parseInt(r(311))+-parseInt(r(304))*-parseInt(r(298))-parseInt(r(293))+-parseInt(r(300))*-parseInt(r(299))+parseInt(r(308))+-parseInt(r(307))+parseInt(r(314)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(pC);class dC extends t.Noise{constructor(e={}){var r=gC;super(e),this[r(303)]=e[r(295)]?e[r(295)]:new t.Color(0,115,250,1),this[r(312)]=e[r(294)](r(297))?e[r(297)]:1,this[r(306)]()}[fC(306)](){var t=fC;this[t(296)]=6,this.normalColorArr=this[t(303)][t(310)]()}[fC(305)](){return this[fC(303)]}setColor(e){var r=fC;if(!(e instanceof t.Color))throw new TypeError(r(316));this[r(303)]=e,this[r(309)]=this[r(303)][r(310)]()}[fC(301)](){return this[fC(312)]}[fC(313)](t){this[fC(312)]=t}[fC(302)](){var t=fC;return new dC({color:this[t(303)],scale:this[t(312)]})}}var _C=["getColor","_scale","hasOwnProperty","static","7msCMEf","speed","867991rfnRvD","getScale","1108717OyxSkT",'parameter "color" must be an instance of Color',"normalColorArr","_init","setSpeed","clone","1CoshVI","_speed","getSpeed","467145vhrsJK","368349hoKLrN","_static","color","setColor","108296EKISBQ","_color","372844LwKivq","toNormalizeArray","1XnssyN","setScale","scale","1402661PIYZoA"],yC=mC;function mC(t,e){return _C[t-=180]}!function(t,e){for(var r=mC;;)try{if(655665===-parseInt(r(185))+-parseInt(r(203))*parseInt(r(183))+parseInt(r(201))+parseInt(r(194))+parseInt(r(199))*parseInt(r(181))+-parseInt(r(195))+-parseInt(r(206))*-parseInt(r(191)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_C);class IC extends t.Noise{constructor(e={}){var r=mC;super(e),this[r(200)]=e[r(197)]?e[r(197)]:new t.Color(0,115,250,1),this[r(192)]=e[r(209)](r(182))?e[r(182)]:1,this[r(208)]=e[r(209)]("scale")?e[r(205)]:1,this[r(196)]=!!e.hasOwnProperty(r(180))&&e[r(180)],this[r(188)]()}[yC(188)](){var t=yC;this.typeNum=2,this[t(187)]=this._color[t(202)]()}[yC(207)](){return this[yC(200)]}[yC(198)](e){var r=yC;if(!(e instanceof t.Color))throw new TypeError(r(186));this[r(200)]=e,this[r(187)]=this._color[r(202)]()}[yC(193)](){return this[yC(192)]}[yC(189)](t){this[yC(192)]=t}[yC(184)](){return this._scale}[yC(204)](t){this[yC(208)]=t}[yC(190)](){var t=yC;return new IC({color:this._color,speed:this[t(192)],scale:this[t(208)],static:this[t(196)]})}}var xC=["55333tgSiBe","_init","823zDgwNq","_scale","18oOlBpS","29TqbPxw","49167sVJXwz","3455069OOxsMD","scale","549166xRQImT","normalColorArr","getScale","1028mSlVEI","setScale","color","1177009mYREtz",'parameter "color" must be an instance of Color',"_color","typeNum","1606260poyhXM"],vC=bC;function bC(t,e){return xC[t-=294]}!function(t,e){for(var r=bC;;)try{if(900859===-parseInt(r(301))+parseInt(r(306))*-parseInt(r(302))-parseInt(r(311))+parseInt(r(297))+parseInt(r(308))*-parseInt(r(307))+parseInt(r(294))*parseInt(r(304))+parseInt(r(309)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xC);class wC extends t.Noise{constructor(e={}){var r=bC;super(e),this[r(299)]=e[r(296)]?e[r(296)]:new t.Color(0,115,250,1),this[r(305)]=e.hasOwnProperty(r(310))?e[r(310)]:1,this[r(303)]()}_init(){var t=bC;this[t(300)]=3,this[t(312)]=this[t(299)].toNormalizeArray()}getColor(){return this._color}setColor(e){var r=bC;if(!(e instanceof t.Color))throw new TypeError(r(298));this[r(299)]=e,this[r(312)]=this._color.toNormalizeArray()}[vC(313)](){return this[vC(305)]}[vC(295)](t){this._scale=t}clone(){var t=vC;return new wC({color:this[t(299)],scale:this[t(305)]})}}var TC=["normalColorArr","485249HUqMrg","_static","getColor","clone","setColor","1BGuPma","100428jTpYNq","hasOwnProperty","getScale","3331KKxYiL","color","702337oiViZA","45523qnBqVM","_scale","getSpeed","20250kMzyBt","_color","1XLcJld","static","scale","speed","91YJoAcJ","_init","setSpeed","toNormalizeArray","2kzddym","_speed","954026qLeGuk","62AqVGtA"];function EC(t,e){return TC[t-=349]}var CC=EC;!function(t,e){for(var r=EC;;)try{if(578864===parseInt(r(374))*parseInt(r(356))+parseInt(r(371))+-parseInt(r(376))+parseInt(r(352))*-parseInt(r(350))+-parseInt(r(365))*parseInt(r(360))+-parseInt(r(362))*parseInt(r(370))+parseInt(r(377))*parseInt(r(363)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(TC);class AC extends t.Noise{constructor(e={}){var r=EC;super(e),this[r(351)]=e.color?e[r(375)]:new t.Color(0,115,250,1),this[r(361)]=e[r(372)]("speed")?e[r(355)]:1,this[r(378)]=e[r(372)](r(354))?e[r(354)]:1,this[r(366)]=!!e.hasOwnProperty("static")&&e[r(353)],this[r(357)]()}[CC(357)](){var t=CC;this.typeNum=5,this[t(364)]=this[t(351)][t(359)]()}[CC(367)](){return this[CC(351)]}[CC(369)](e){var r=CC;if(!(e instanceof t.Color))throw new TypeError('parameter "color" must be an instance of Color');this[r(351)]=e,this[r(364)]=this[r(351)][r(359)]()}[CC(349)](){return this[CC(361)]}[CC(358)](t){this[CC(361)]=t}[CC(373)](){return this[CC(378)]}setScale(t){this[CC(378)]=t}[CC(368)](){var t=CC;return new AC({color:this._color,speed:this[t(361)],scale:this[t(378)],static:this[t(366)]})}}var MC=["5wGsIsV","33xpJXAF","264716HjCNDJ","21599TnHnir","55331TCIcNH","12ENOrXE","893VrXHYN","1060bJUpnN","1329542lIvRgb","955687aFgvlF","1jYTYuO","1054YOpfyX","167bzKpRx"];function SC(t,e){return MC[t-=288]}!function(t,e){for(var r=SC;;)try{if(680531===-parseInt(r(295))+parseInt(r(290))*parseInt(r(291))+-parseInt(r(294))*-parseInt(r(296))+-parseInt(r(298))*-parseInt(r(292))+parseInt(r(288))*parseInt(r(299))+-parseInt(r(293))*parseInt(r(297))+-parseInt(r(300))*parseInt(r(289)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(MC);var PC=Object.freeze({__proto__:null,Noise:t.Noise,Cell:cC,Domain:dC,Perlin:IC,Square:wC,Turbulent:AC,Water:t.Water});const RC=["bindTexture","drawArrays","TEXTURE0","7117DsrlRz","749219LWongL","490301SMhhkY","59tipDSa","1wAvKHn","255035GuoDkY","getAttribLocation","896907WXnTgM","setDepthAttachment","_createProgram","setUp","program","createBuffer","#version 300 es\n                precision mediump float;\n                uniform sampler2D u_Sampler;\n                uniform float u_kernel[9];\n                out vec4 outColor;\n                void main(){\n                    vec4 colorSum=\n                   texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)+ivec2(-1,-1)),0)*u_kernel[0]+\n                   texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)+ivec2(0, -1)),0)*u_kernel[1]+\n                   texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)+ivec2(1, -1)),0)*u_kernel[2]+\n                   texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)+ivec2(-1,  0)),0)*u_kernel[3]+\n                   texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)+ivec2(-1,  0)),0)*u_kernel[4]+\n                   texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)+ivec2(1,  0)),0)*u_kernel[5]+\n                   texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)+ivec2(-1, 1)),0)*u_kernel[6]+\n                   texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)+ivec2(0, 1)),0)*u_kernel[7]+\n                   texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)+ivec2(1, 1)),0)*u_kernel[8];\n                   float kernelWeight = u_kernel[0]+u_kernel[1]+u_kernel[2]+u_kernel[3]+u_kernel[4]+u_kernel[5]+u_kernel[6]+u_kernel[7]+u_kernel[8];\n                   if(kernelWeight<0.0){\n                        kernelWeight=1.0;\n                   }\n                   outColor = vec4((colorSum / kernelWeight).rgb, 1.0);\n                }","getUniformLocation","TEXTURE_2D","bufferData","FLOAT","uniform1fv","u_kernel","colorAttachments","683930gqIBvi","ARRAY_BUFFER","#version 300 es\n                in vec4 a_Position;\n                void main(){\n                    gl_Position = a_Position;\n                }","activeTexture","942527QJlMsA","vertexAttribPointer","enableVertexAttribArray","addColorAttachment","bindBuffer","1uuApQt","TRIANGLE_STRIP","deleteBuffer","4htyQoJ","kernel","uniform1i","bindVertexArray"],LC=FC;function FC(t,e){return RC[t-=372]}!function(t,e){const r=FC;for(;;)try{if(542815===-parseInt(r(390))+parseInt(r(409))*parseInt(r(372))+parseInt(r(394))*parseInt(r(373))-parseInt(r(376))+parseInt(r(411))+parseInt(r(402))*parseInt(r(374))+parseInt(r(410))*-parseInt(r(399)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(RC);class DC extends Kx{constructor(t,e=0,r){const i=FC;super(t,e,r);let n=i(392),s=i(382);this.program=this[i(378)](n,s),this.u_kernel=r.kernel?r[i(403)]:[0,0,0,0,1,0,0,0,0]}[LC(379)](){const t=LC;this[t(397)](0,0),this[t(377)](1),super[t(379)]()}render(){const t=LC,e=this.gl,r=this[t(380)];e.useProgram(r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e[t(381)](),s=e.getUniformLocation(this.program,"u_Sampler");e[t(404)](s,0),e[t(398)](e[t(391)],n),e[t(385)](e[t(391)],i,e.STATIC_DRAW);let o=e[t(375)](r,"a_Position");e[t(395)](o,2,e[t(386)],!1,0,0),e[t(396)](o);let a=e[t(383)](r,"u_kernel[0]");e[t(387)](a,this[t(388)]),e[t(393)](e[t(408)]),e[t(406)](e[t(384)],this[t(389)][0]),e[t(407)](e[t(400)],0,4),e[t(406)](e[t(384)],null),e[t(401)](n),e[t(405)](null)}}const OC=["render","program","ARRAY_BUFFER","bufferData","error","u_hsv","#version 300 es\n                precision mediump float;\n                uniform sampler2D u_Sampler;\n                uniform float u_hsv[3];\n                out vec4 outColor;\n\n                // RGBSV\n                vec3 rgbToHsl(vec3 color){\n                    float r=color.r;\n                    float g=color.g;\n                    float b=color.b;\n                    float h;\n                    float s;\n                    float v;\n                    float  mx ;\n                    float  mn ;\n                    if(r>g){\n                        mx=r;\n                        mn=g;\n                    }else{\n                        mx =g;\n                        mn =r;\n                    }\n                    if(mx<b){\n                        mx=b;\n                    }\n                    if(mn>b){\n                        mn=b;\n                    }\n                    float m = mx-mn;\n                    if (mx == mn){\n                        h = 0.0;\n                    }else if(mx == r){\n                        if (g >= b){\n                        h = ((g-b)/m)*60.0 ;\n                        }else{\n                            h = ((g-b)/m)*60.0 + 360.0;\n                        }\n                    }else if(mx == g){\n                        h = ((b-r)/m)*60.0 + 120.0;\n                    }else if(mx == b){\n                        h = ((r-g)/m)*60.0 + 240.0;\n                    }\n\n                    if (mx == 0.0){\n                        s = 0.0;\n                    }else{\n                        s = m/mx;\n                    }\n\n                    v = mx;\n                    return vec3(h /360.0, s, v);\n                }\n\n                // HSVGB\n                vec3 hslToRgb(vec3 color){\n                    float nH = color.r ;\n                    float nS = color.g ;\n                    float nV = color.b ;\n\n                    float nR ;\n                    float nG ;\n                    float nB ;\n                    if (color.g == 0.0) {\n                        nR = nV ;\n                        nG = nV ;\n                        nB = nV ;\n                    }else{\n                        float hi = nH * 6.0;\n                        if (hi == 6.0) {\n                            hi = 0.0;\n                        }\n                        int f = int(hi);\n                        float p = nV * (1.0 - nS);\n                        float q = nV * (1.0 - nS * (hi - float(f)));\n                        float t = nV * (1.0 - nS * (1.0 - (hi - float(f))));\n\n                        if (f == 0) {\n                            nR = nV;\n                            nG = t;\n                            nB = p;\n                        }else if(f == 1){\n                            nR = q;\n                            nG = nV;\n                            nB = p;\n                        }else if(f == 2){\n                            nR = p;\n                            nG = nV;\n                            nB = t;\n                        }else if(f == 3){\n                            nR = p;\n                            nG = q;\n                            nB = nV;\n                        }else if(f == 4){\n                            nR = t;\n                            nG = p;\n                            nB = nV;\n                        }else{\n                            nR = nV;\n                            nG = p;\n                            nB = q;\n                        }\n                    }\n                        //return vec3(nR*255.0,nG*255.0,nB*255.0);\n                        return vec3(nR,nG,nB);\n                    }\n                void main(){\n                    //     n                    outColor = texelFetch(u_Sampler,ivec2(gl_FragCoord.xy),0);\n                    vec3 outColor_HSL =rgbToHsl(outColor.rgb)*vec3(u_hsv[0],u_hsv[1],u_hsv[2]);\n                    vec3 outColor_RGB = hslToRgb(outColor_HSL);\n                    outColor = vec4(outColor_RGB,1.0);\n                }","5141lSGhxz","uniform1fv","uniform1i","45adWADt","192243QbSaGA","addColorAttachment","bindVertexArray","1726vFsNbU","getAttribLocation","1VLKUhU","setDepthAttachment","enableVertexAttribArray","#version 300 es\n                in vec4 a_Position;\n                void main(){\n                    gl_Position = a_Position;\n                }","activeTexture","TEXTURE0","955264pPWUjK","useProgram","78493jWOFtQ","1182957UIiVuK","STATIC_DRAW","getUniformLocation","275061VrTFmv","deleteBuffer","TEXTURE_2D","u_hsv[0]","bindTexture","colorAttachments","bindBuffer","8HzTsyt","hsv","TRIANGLE_STRIP","7xEwqsN","setUp"],NC=UC;!function(t,e){const r=UC;for(;;)try{if(670264===-parseInt(r(430))*parseInt(r(426))+-parseInt(r(423))*parseInt(r(451))+parseInt(r(438))+parseInt(r(427))+parseInt(r(440))*parseInt(r(414))+parseInt(r(444))+-parseInt(r(441))*parseInt(r(432)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(OC);class BC extends Kx{constructor(t,e=0,r){const i=UC;super(t,e,r);let n=i(435),s=i(422);this[i(417)]=this._createProgram(n,s),this[i(421)]=r[i(412)]?r[i(412)]:[1,1,1]}[NC(415)](){const t=NC;this[t(428)](0),this[t(433)](1),super[t(415)]()}[NC(416)](){const t=NC,e=this.gl,r=this[t(417)];e[t(439)](r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e.createBuffer();if(!n)return console[t(420)]("Failed to create the buffer object"),-1;let s=e[t(443)](this[t(417)],"u_Sampler");e[t(425)](s,0),e[t(450)](e[t(418)],n),e[t(419)](e.ARRAY_BUFFER,i,e[t(442)]);let o=e[t(431)](r,"a_Position");e.vertexAttribPointer(o,2,e.FLOAT,!1,0,0),e[t(434)](o);let a=e[t(443)](r,t(447));e[t(424)](a,this[t(421)]),e[t(436)](e[t(437)]),e.bindTexture(e.TEXTURE_2D,this[t(449)][0]),e.drawArrays(e[t(413)],0,4),e[t(448)](e[t(446)],null),e[t(445)](n),e[t(429)](null)}}function UC(t,e){return OC[t-=412]}const kC=["TEXTURE_2D","bindBuffer","45089xJudVF","getUniformLocation","u_Sampler","bufferData","ARRAY_BUFFER","1ikQbGG","TRIANGLE_STRIP","557014hDHRqf","gray","deleteBuffer","drawArrays","495240Chumxc","enableVertexAttribArray","activeTexture","314456sSzcaC","1974924SIbhQT","uniform1fv","addColorAttachment","422788saGYWl","createBuffer","bindTexture","program","u_gray","setDepthAttachment","#version 300 es\n                precision mediump float;\n                uniform sampler2D u_Sampler;\n                uniform float u_gray[3];\n                out vec4 outColor;\n\n                void main(){\n                    // n                    outColor = texelFetch(u_Sampler,ivec2(gl_FragCoord.xy),0);\n                    float gray = outColor.r*u_gray[0]+outColor.g*u_gray[1]+outColor.b*u_gray[2];\n                    outColor = vec4(gray,gray,gray,1.0);\n                }","colorAttachments","u_gray[0]","1qUYyYE","setUp","vertexAttribPointer","STATIC_DRAW","237061zddXjP"],VC=GC;function GC(t,e){return kC[t-=379]}!function(t,e){const r=GC;for(;;)try{if(377398===parseInt(r(410))+-parseInt(r(397))*parseInt(r(384))+-parseInt(r(379))*parseInt(r(406))+-parseInt(r(386))+-parseInt(r(390))+-parseInt(r(393))+parseInt(r(394)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(kC);class zC extends Kx{constructor(t,e=0,r){const i=GC;super(t,e,r);let n=i(403);this[i(400)]=this._createProgram("#version 300 es\n                in vec4 a_Position;\n                void main(){\n                    gl_Position = a_Position;\n                }",n),this.u_gray=r[i(387)]?r[i(387)]:[.3,.6,.1]}[VC(407)](){const t=VC;this[t(396)](0,0),this[t(402)](1),super[t(407)]()}render(){const t=VC,e=this.gl,r=this[t(400)];e.useProgram(r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e[t(398)](),s=e[t(380)](this[t(400)],t(381));e.uniform1i(s,0),e[t(412)](e[t(383)],n),e[t(382)](e[t(383)],i,e[t(409)]);let o=e.getAttribLocation(r,"a_Position");e[t(408)](o,2,e.FLOAT,!1,0,0),e[t(391)](o);let a=e[t(380)](r,t(405));e[t(395)](a,this[t(401)]),e[t(392)](e.TEXTURE0),e.bindTexture(e[t(411)],this[t(404)][0]),e[t(389)](e[t(385)],0,4),e[t(399)](e.TEXTURE_2D,null),e[t(388)](n),e.bindVertexArray(null)}}const HC=["uniform1fv","bindTexture","1lZBVBR","setUp","addColorAttachment","1038892UwfdKv","3cezHDy","bindBuffer","u_rgb","createBuffer","652452SwIPgU","TEXTURE_2D","uniform1i","TRIANGLE_STRIP","useProgram","FLOAT","460173bfHKgU","getAttribLocation","getUniformLocation","program","enableVertexAttribArray","TEXTURE0","427244OWOpHk","render","vertexAttribPointer","Failed to create the buffer object","u_Sampler","STATIC_DRAW","_createProgram","#version 300 es\n                in vec4 a_Position;\n                void main(){\n                    gl_Position = a_Position;\n                }","ARRAY_BUFFER","937324cEFEJc","u_rgb[0]","583693YBZLMP","setDepthAttachment","a_Position","deleteBuffer","colorAttachments","rgb","3090594LKwrNe"],jC=YC;function YC(t,e){return HC[t-=457]}!function(t,e){const r=YC;for(;;)try{if(903168===parseInt(r(471))*-parseInt(r(482))+-parseInt(r(486))*parseInt(r(473))+parseInt(r(496))+parseInt(r(462))+-parseInt(r(485))+parseInt(r(490))+parseInt(r(479)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(HC);class $C extends Kx{constructor(t,e=0,r){const i=YC;super(t,e,r);let n=i(469);this[i(459)]=this[i(468)](n,"#version 300 es\n                precision mediump float;\n                uniform sampler2D u_Sampler;\n                uniform float u_rgb[3];\n                out vec4 outColor;\n\n                void main(){\n                    outColor = texelFetch(u_Sampler,ivec2(gl_FragCoord.xy),0);\n                    outColor = vec4(outColor.rgb*vec3(u_rgb[0],u_rgb[1],u_rgb[2]),1.0);\n                }"),this.u_rgb=r[i(478)]?r.rgb:[1,1,1]}[jC(483)](){const t=jC;this[t(484)](0),this[t(474)](1),super[t(483)]()}[jC(463)](){const t=jC,e=this.gl,r=this.program;e[t(494)](r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e[t(489)]();if(!n)return console.error(t(465)),-1;let s=e[t(458)](this[t(459)],t(466));e[t(492)](s,0),e[t(487)](e[t(470)],n),e.bufferData(e[t(470)],i,e[t(467)]);let o=e[t(457)](r,t(475));e[t(464)](o,2,e[t(495)],!1,0,0),e[t(460)](o);let a=e[t(458)](r,t(472));e[t(480)](a,this[t(488)]),e.activeTexture(e[t(461)]),e[t(481)](e[t(491)],this[t(477)][0]),e.drawArrays(e[t(493)],0,4),e[t(481)](e[t(491)],null),e[t(476)](n),e.bindVertexArray(null)}}const XC=["ARRAY_BUFFER","FLOAT","colorAttachments","deleteBuffer","Failed to create the buffer object","282253RlsRtP","TEXTURE_2D","uniform1f","1gyIoBJ","enableVertexAttribArray","149929fXGiZb","6524wlpKdZ","STATIC_DRAW","setDepthAttachment","program","a_Position","drawArrays","155450BoPatv","u_gray","247259uRXgsE","error","TEXTURE0","addColorAttachment","#version 300 es\n                in vec4 a_Position;\n                void main(){\n                    gl_Position = a_Position;\n                }","#version 300 es\n                precision mediump float;\n                uniform sampler2D u_Sampler;\n                uniform float u_gray[3];\n                uniform float u_threshold;\n                out vec4 outColor;\n\n                void main(){\n                    // ,n                    outColor = texelFetch(u_Sampler,ivec2(gl_FragCoord.xy),0);\n                    float gray = outColor.r*u_gray[0]+outColor.g*u_gray[1]+outColor.b*u_gray[2];\n                    gray = gray>u_threshold?1.0:0.0;\n                    outColor = vec4(gray,gray,gray,1.0);\n                }","u_threshold","render","47VeTSwz","gray","u_gray[0]","activeTexture","bindTexture","vertexAttribPointer","264939HklTwQ","bufferData","threshold","getUniformLocation","44CrkMwB","getAttribLocation","setUp","useProgram","3VcWpOr","uniform1i","6101uVmDSv","TRIANGLE_STRIP"],WC=qC;!function(t,e){const r=qC;for(;;)try{if(154719===parseInt(r(491))*parseInt(r(488))+parseInt(r(494))*parseInt(r(520))+parseInt(r(500))+parseInt(r(493))+-parseInt(r(516))+parseInt(r(510))*parseInt(r(526))+-parseInt(r(524))*parseInt(r(502)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(XC);class ZC extends Kx{constructor(t,e=0,r){const i=qC;super(t,e,r);let n=i(506),s=i(507);this[i(497)]=this._createProgram(n,s),this[i(501)]=r[i(511)]?r[i(511)]:[.3,.6,.1],this[i(508)]=r[i(518)]?r[i(518)]:.5}setUp(){const t=qC;this[t(505)](0),this[t(496)](1),super[t(522)]()}[WC(509)](){const t=WC,e=this.gl,r=this[t(497)];e[t(523)](r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e.createBuffer();if(!n)return console[t(503)](t(487)),-1;let s=e.getUniformLocation(this[t(497)],"u_Sampler");e[t(525)](s,0),e.bindBuffer(e[t(528)],n),e[t(517)](e[t(528)],i,e[t(495)]);let o=e[t(521)](r,t(498));e[t(515)](o,2,e[t(484)],!1,0,0),e[t(492)](o);let a=e[t(519)](r,t(512));e.uniform1fv(a,this[t(501)]);let h=e[t(519)](r,"u_threshold");e[t(490)](h,this.u_threshold),e[t(513)](e[t(504)]),e[t(514)](e[t(489)],this[t(485)][0]),e[t(499)](e[t(527)],0,4),e[t(514)](e.TEXTURE_2D,null),e[t(486)](n),e.bindVertexArray(null)}}function qC(t,e){return XC[t-=484]}const JC=["vertexAttribPointer","bindTexture","bindBuffer","988030uGMUQy","render","18442PmEwmF","4007BtoUdM","addColorAttachment","a_Position","53iUmqAw","u_Sampler","error","74QSuhYk","program","_createProgram","setDepthAttachment","setUp","ARRAY_BUFFER","#version 300 es\n                in vec4 a_Position;\n                void main(){\n                    gl_Position = a_Position;\n                }","useProgram","89975FmNgyv","activeTexture","createBuffer","bufferData","TEXTURE0","colorAttachments","TRIANGLE_STRIP","2648365mPiuEv","FLOAT","getAttribLocation","drawArrays","enableVertexAttribArray","375083IcZtJS","bindVertexArray","#version 300 es\n                precision mediump float;\n                uniform sampler2D u_Sampler;\n                out vec4 outColor;\n\n                void main(){\n                    // \n                    outColor = texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)),0);\n                    outColor = vec4(1.0-outColor.r,1.0-outColor.g,1.0-outColor.b,1.0);\n                }","deleteBuffer","Failed to create the buffer object","689412iAGLXA","getUniformLocation","TEXTURE_2D"],KC=QC;function QC(t,e){return JC[t-=279]}!function(t,e){const r=QC;for(;;)try{if(891264===parseInt(r(312))+-parseInt(r(289))*-parseInt(r(286))+parseInt(r(283))+-parseInt(r(300))+parseInt(r(317))+parseInt(r(292))*parseInt(r(285))+-parseInt(r(307)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(JC);class tA extends Kx{constructor(t,e=0,r){const i=QC;super(t,e,r);let n=i(298),s=i(314);this[i(293)]=this[i(294)](n,s)}[KC(296)](){const t=KC;this[t(287)](0),this[t(295)](1),super.setUp()}[KC(284)](){const t=KC,e=this.gl,r=this[t(293)];e[t(299)](r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e[t(302)]();if(!n)return console[t(291)](t(316)),-1;let s=e[t(318)](this[t(293)],t(290));e.uniform1i(s,0),e[t(282)](e[t(297)],n),e[t(303)](e.ARRAY_BUFFER,i,e.STATIC_DRAW);let o=e[t(309)](r,t(288));e[t(280)](o,2,e[t(308)],!1,0,0),e[t(311)](o),e[t(301)](e[t(304)]),e[t(281)](e[t(279)],this[t(305)][0]),e[t(310)](e[t(306)],0,4),e[t(281)](e.TEXTURE_2D,null),e[t(315)](n),e[t(313)](null)}}const eA=["program","activeTexture","bindTexture","15724tPhGGP","createBuffer","_exposure","getUniformLocation","ARRAY_BUFFER","exposure","_createProgram","#version 300 es\n                precision highp float;\n                uniform sampler2D u_Sampler;\n                out vec4 outColor;\n                uniform float exposure;\n                void main(){\n                    const float gamma = 2.2;\n                    outColor = texelFetch(u_Sampler,ivec2(gl_FragCoord.xy),0);\n                    vec3 co=vec3(outColor.r,outColor.g,outColor.b);\n                    //vec3 mapped = co / (co + vec3(1.0));\n                    vec3 mapped = vec3(1.0) - exp(-co*exposure);\n                    // Gamma\n                    mapped = pow(mapped, vec3(1.0 / gamma));\n                    outColor = vec4(mapped, 1.0);\n                }","1442117OprroP","setUp","setDepthAttachment","2jwBNiZ","getAttribLocation","1929598bbDJGy","enableVertexAttribArray","1mhONau","376125gSBuVA","2NbXccX","colorAttachments","1397274Nqorez","bindVertexArray","#version 300 es\n                in vec4 a_Position;\n                void main(){\n                    gl_Position = a_Position;\n                }","626217pBKCRr","u_Sampler","STATIC_DRAW","1043979LjArhy","drawArrays","TEXTURE_2D","uniform1f"],rA=iA;function iA(t,e){return eA[t-=350]}!function(t,e){const r=iA;for(;;)try{if(729545===-parseInt(r(360))*-parseInt(r(355))+-parseInt(r(370))*-parseInt(r(381))+parseInt(r(363))+parseInt(r(354))+parseInt(r(378))*-parseInt(r(353))+parseInt(r(357))+-parseInt(r(351)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(eA);class nA extends Kx{constructor(t,e=0,r){const i=iA;super(t,e,r);let n=i(359),s=i(377);this[i(367)]=this[i(376)](n,s),this[i(372)]=1|r[i(375)]}[rA(379)](){const t=rA;this.addColorAttachment(0,1),this[t(380)](1),super[t(379)]()}render(){const t=rA,e=this.gl,r=this[t(367)];e.useProgram(r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e[t(371)](),s=e[t(373)](this[t(367)],t(361));e.uniform1i(s,0);let o=e[t(373)](this[t(367)],t(375));e[t(366)](o,this._exposure),e.bindBuffer(e[t(374)],n),e.bufferData(e.ARRAY_BUFFER,i,e[t(362)]);let a=e[t(350)](r,"a_Position");e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0),e[t(352)](a),e[t(368)](e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,this[t(356)][0]),e[t(364)](e.TRIANGLE_STRIP,0,4),e[t(369)](e[t(365)],null),e.deleteBuffer(n),e[t(358)](null)}}const sA=["732714KRMTHp","threshold","deleteVertexArray","setRadius","destroy","2VLHASo","getOwnPropertyNames","activeTexture","a_position","useProgram","u_radius","TEXTURE0","vao","radius","uniform1f","1toiVyi","vertexAttribPointer","setUp","uniforms","1286222xXePtv","_getUniforms","drawArrays","#version 300 es\n                 in vec4 a_position;\n                 void main(){\n                     gl_Position = a_position;\n                 }","deleteTexture","setThreshold","length","TEXTURE_2D","STATIC_DRAW","enableVertexAttribArray","addColorAttachment","u_sampler","u_threshold","isFinite","190107Qqhuhk","1139930eJyxxW","425589NWIuxQ","max","verticesBuffer","_createStaticData","FLOAT","bindTexture","#version 300 es\n                 precision mediump float;\n\n                 uniform float u_strength;\n                 uniform float u_radius;\n                 uniform float u_threshold;\n                 uniform sampler2D u_sampler;\n                 out vec4 outColor;\n\n                 vec4 brightColor(vec3 rgb,vec4 texColor){\n                     float brightness = dot(texColor.rgb, vec3(0.2126, 0.7152, 0.0722));\n                     if(brightness > u_threshold){\n                         return vec4(rgb, 1.0);\n                     }\n                     return vec4(0.0,0.0,0.0,1.0);\n                 }\n\n                 vec4 guassBlur(float radius,sampler2D img,vec4 fragCoord,vec3 rgb){\n                     vec3 result = 2.0*brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy),0)).rgb;\n                     for(float i=0.0;i<=radius;i+=1.0){\n                         for(float j=0.0;j<=radius;j+=1.0){\n                             result += brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy)+ivec2(i,j),0)).rgb;\n                             result += brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy)-ivec2(i,j),0)).rgb;\n                         }\n                     }\n                     return vec4(result/2.0, 1.0);\n\n                     // result += brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy)+ivec2(-1.0,1.0),0)).rgb;\n                     // result += brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy)+ivec2(0.0,1.0),0)).rgb;\n                     // result += brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy)+ivec2(1.0,1.0),0)).rgb;\n                     //\n                     // result += brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy)+ivec2(-1.0,0.0),0)).rgb;\n                     // result += brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy)+ivec2(0.0,0.0),0)).rgb;\n                     // result += brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy)+ivec2(1.0,0.0),0)).rgb;\n                     //\n                     // result += brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy)+ivec2(-1.0,-1.0),0)).rgb;\n                     // result += brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy)+ivec2(0.0,-1.0),0)).rgb;\n                     // result += brightColor(rgb,texelFetch(img,ivec2(fragCoord.xy)+ivec2(1.0,-1.0),0)).rgb;\n                     // return vec4(result/9.0, 1.0);\n                 }\n\n                 void main(){\n                     outColor = texelFetch(u_sampler,ivec2(gl_FragCoord.xy),0);\n                     vec4 blurColor = u_strength * guassBlur(u_radius,u_sampler,gl_FragCoord,outColor.rgb);\n                     outColor+=blurColor;\n                 }","1UiBMaC","deleteProgram","hasOwnProperty","bindVertexArray","ARRAY_BUFFER","strength","u_strength","render","2121117EvAAyf","bindBuffer","bufferData","colorAttachments","1730353qlMZil","uniform1i","program"],oA=aA;function aA(t,e){return sA[t-=186]}!function(t,e){const r=aA;for(;;)try{if(882467===parseInt(r(241))+parseInt(r(220))*-parseInt(r(229))+-parseInt(r(202))*-parseInt(r(222))+parseInt(r(221))+parseInt(r(187))+parseInt(r(206))+-parseInt(r(192))*parseInt(r(237)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(sA);class hA extends Kx{constructor(t,e=0,r={}){const i=aA;super(t,e,r);let n=i(209),s=i(228);this[i(234)]=r[i(231)](i(234))?r[i(234)]:.2,this[i(200)]=r[i(231)]("radius")?Math[i(223)](r.radius,0):4,this.threshold=r.hasOwnProperty(i(188))?r[i(188)]:.8,this.program=this._createProgram(n,s),this[i(205)]=this[i(207)](this[i(186)]),this[i(225)]()}setStrength(t){Number.isFinite(t)&&(this.strength=t)}[oA(190)](t){Number[oA(219)](t)&&(this.radius=t)}[oA(211)](t){const e=oA;Number.isFinite(t)&&(this[e(188)]=t)}[oA(204)](){const t=oA;this[t(216)](0),super[t(204)]()}[oA(236)](){const t=oA,e=this.gl;e[t(196)](this[t(186)]),e[t(232)](this[t(199)]),e[t(201)](this[t(205)][t(235)],this[t(234)]),e[t(201)](this[t(205)][t(197)],this[t(200)]),e.uniform1f(this.uniforms[t(218)],this[t(188)]),e[t(242)](this[t(205)][t(217)],0),e[t(194)](e[t(198)]+0),e[t(227)](e[t(213)],this.colorAttachments[0]),e[t(208)](e.TRIANGLE_STRIP,0,4),e[t(227)](e[t(213)],null),e[t(232)](null)}[oA(225)](){const t=oA,e=this.gl,r=e.getAttribLocation(this[t(186)],t(195));this[t(199)]=e.createVertexArray(),e.bindVertexArray(this[t(199)]);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]);this.verticesBuffer=e.createBuffer(),e[t(238)](e[t(233)],this[t(224)]),e[t(203)](r,2,e[t(226)],!1,0,0),e[t(215)](r),e[t(239)](e.ARRAY_BUFFER,i,e[t(214)]),e[t(232)](null)}[oA(191)](){const t=oA;this.gl[t(189)](this[t(199)]),this.gl.deleteBuffer(this[t(224)]),this.gl[t(230)](this[t(186)]),this.gl[t(210)](this[t(240)][0]);let e=Object[t(193)](this);for(let r=0,i=e[t(212)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const lA=["deleteVertexArray","bindTexture","addColorAttachment","30jrjoLc","program","setSpeed","ARRAY_BUFFER","u_speed","destroy","bindBuffer","STATIC_DRAW","557676tszJnr","918695cUADJJ","u_strength","u_time","setUp","createBuffer","drawArrays","vertexAttribPointer","deleteTexture","isFinite","14401ZQEEWV","setFullScreenEnable","getAttribLocation","683003akHhVp","_createStaticData","uniform1f","294189vLjjJg","a_position","9OPvdqq","speed","TRIANGLE_STRIP","TEXTURE0","uniforms","verticesBuffer","TEXTURE_2D","getOwnPropertyNames","hasOwnProperty","_createProgram","45496syqbtn","u_sampler","#version 300 es\n                precision mediump float;\n                uniform sampler2D u_sampler;\n                uniform float u_time;\n                uniform float u_speed;\n                uniform float u_strength;\n                uniform float u_fill;\n\n                in vec2 v_texCoord;\n\n                out vec4 outColor;\n                //random\n                vec3 random(vec3 p){\n                    p = vec3(\n                        dot(p,vec3(127.1,311.7,69.5)),\n                        dot(p,vec3(269.5,183.3,132.7)),\n                        dot(p,vec3(247.3,108.5,96.5))\n                    );\n                    return -1.0 + 2.0 * fract(sin(p)*43758.5453123);\n                }\n                //perlin noise \n                float noise_perlin(vec3 st){\n                    vec3 i = floor(st);\n                    vec3 s = fract(st);\n\n                    float a = dot(random(i),s);\n                    float b = dot(random(i + vec3(1, 0, 0)),s - vec3(1, 0, 0));\n                    float c = dot(random(i + vec3(0, 1, 0)),s - vec3(0, 1, 0));\n                    float d = dot(random(i + vec3(0, 0, 1)),s - vec3(0, 0, 1));\n                    float e = dot(random(i + vec3(1, 1, 0)),s - vec3(1, 1, 0));\n                    float f = dot(random(i + vec3(1, 0, 1)),s - vec3(1, 0, 1));\n                    float g = dot(random(i + vec3(0, 1, 1)),s - vec3(0, 1, 1));\n                    float h = dot(random(i + vec3(1, 1, 1)),s - vec3(1, 1, 1));\n\n                    vec3 u = smoothstep(0.,1.,s);\n                    return mix(mix(mix( a, b, u.x),\n                                mix( c, e, u.x), u.y),\n                            mix(mix( d, f, u.x),\n                                mix( g, h, u.x), u.y), u.z);\n                }\n                void main(){\n                    vec2 uv = v_texCoord;\n                    vec2 coord = uv;\n\n                    coord.y -= u_time * 0.1*u_speed;\n                    float noise = noise_perlin(vec3(coord*10.0*u_speed,u_time));\n\n                    vec2 offset = vec2(noise,noise);\n                    offset *= 0.01*u_strength;\n                    \n                    // reduce towards Y top\n                    offset *= (1.0-uv.t)*(1.0-u_fill)+u_fill*1.0;\n                    outColor = texture(u_sampler, uv.st + offset);\n                }\n                ","1hRgBME","bindVertexArray","attibutes","colorAttachments","strength","vao","deleteBuffer","fullScreen","bufferData","length","uniform1i","useProgram","55075mgDlTc","#version 300 es\n                in vec4 a_position;\n                out vec2 v_texCoord;\n                void main(){\n                    gl_Position = a_position;\n                    v_texCoord = 0.5+0.5*a_position.xy;\n                }"];function cA(t,e){return lA[t-=282]}const uA=cA;!function(t,e){const r=cA;for(;;)try{if(517328===parseInt(r(285))*-parseInt(r(323))+parseInt(r(331))+-parseInt(r(293))*-parseInt(r(318))+-parseInt(r(288))+parseInt(r(332))+-parseInt(r(291))+-parseInt(r(303))*parseInt(r(306)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(lA);class pA extends Kx{constructor(t,e=0,r){const i=cA;super(t,e,r);let n=i(319),s=i(305);this[i(324)]=this[i(302)](n,s),this[i(297)]=this._getUniforms(this[i(324)]),this[i(308)]=this._getAttributes(this[i(324)]),this.time=new Date,this[i(310)]=r[i(301)](i(310))?r.strength:1,this[i(294)]=r.hasOwnProperty(i(294))?r[i(294)]:1,this.fullScreen=!!r[i(301)](i(313))&&r[i(313)],this[i(289)]()}setStrength(t){const e=cA;Number[e(284)](t)&&(this[e(310)]=t)}[uA(325)](t){const e=uA;Number[e(284)](t)&&(this[e(294)]=t)}[uA(286)](t){this[uA(313)]=Boolean(t)}[uA(335)](){const t=uA;this[t(322)](0,0),super[t(335)]()}render(){const t=uA,e=this.gl,r=this.program;e[t(317)](r),e[t(307)](this[t(311)]),e[t(316)](this[t(297)][t(304)],0),e[t(290)](this.uniforms[t(334)],(new Date-this.time)/1e3),e[t(290)](this[t(297)][t(327)],this[t(294)]),e.uniform1f(this.uniforms[t(333)],this[t(310)]),e[t(290)](this[t(297)].u_fill,this[t(313)]),e.activeTexture(e[t(296)]),e[t(321)](e[t(299)],this.colorAttachments[0]),e[t(337)](e[t(295)],0,4),e[t(307)](null),e[t(321)](e.TEXTURE_2D,null)}[uA(289)](){const t=uA,e=this.gl,r=e[t(287)](this.program,t(292));this[t(311)]=e.createVertexArray(),e[t(307)](this.vao);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]);this[t(298)]=e[t(336)](),e[t(329)](e[t(326)],this[t(298)]),e[t(282)](r,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r),e[t(314)](e.ARRAY_BUFFER,i,e[t(330)]),e[t(307)](null)}[uA(328)](){const t=uA;this.gl[t(320)](this[t(311)]),this.gl[t(312)](this.verticesBuffer),this.gl.deleteProgram(this[t(324)]),this.gl[t(283)](this[t(309)][0]);let e=Object[t(300)](this);for(let r=0,i=e[t(315)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const fA=["TEXTURE0","renderStencil","setUp","REPLACE","drawArrays","a_Position","index","getCoordSeqs","stencilOp","createBuffer","bindVertexArray","colorMask","triangleData","TEXTURE_2D","colorAttachments","_color","stencilFunc","TRIANGLE_STRIP","uniformMatrix4fv","ZERO","vertexAttribPointer","923450lDSTAX","bufferData","deleteBuffer","stencilMask","_createProgram","ALWAYS","#version 300 es\n                in vec4 a_Position;\n                void main(){\n                    gl_Position = a_Position;\n                }","STENCIL_BUFFER_BIT","STENCIL_TEST","#version 300 es\n                precision mediump float;\n                uniform sampler2D u_Sampler;\n                uniform vec4 u_color;\n                out vec4 outColor;\n\n                void main(){\n                    vec3 u_gray = vec3(0.3,0.6,0.1);\n                    outColor = texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)),0);\n                    float gray = outColor.r*u_gray[0]+outColor.g*u_gray[1]+outColor.b*u_gray[2];\n                    outColor = vec4(u_color.rgb*gray/255.0,outColor.a*u_color.a);\n                }","bindBuffer","push","u_vpMatrix","ARRAY_BUFFER","44433uKvImO","UNSIGNED_SHORT","u_color","getUniformLocation","23McssrT","915702DIqHKi","setDepthAttachment","3635rdMXgf","u_Sampler","activeTexture","_polygon","179rlFklr","_map","render","forEach","clear","47493UVMUoI","drawElements","162954dFrwuJ","ELEMENT_ARRAY_BUFFER","enable","indexCount","toArray","enableVertexAttribArray","getElements","useProgram","#version 300 es\n                in vec3 a_Position;\n                uniform mat4 u_vpMatrix;\n                void main(){\n                    gl_Position=u_vpMatrix*vec4(a_Position,1.0);\n                }\n        ","getPolygons","polygon","STATIC_DRAW","1658vglmuo","NOTEQUAL","FLOAT","initData","_stencilProgram","color","options.polygon olygonultiPolygon","positionCount","bindTexture","a_position","program","769RWUeMx","getAttribLocation"],gA=_A;!function(t,e){const r=_A;for(;;)try{if(615817===parseInt(r(381))+parseInt(r(372))*parseInt(r(376))+-parseInt(r(370))+parseInt(r(429))+-parseInt(r(369))*-parseInt(r(365))+parseInt(r(383))+-parseInt(r(395))*parseInt(r(406)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(fA);class dA extends Kx{constructor(e,r=0,i){const n=_A;super(e,r,i);let s=n(391),o=n(435),a=n(438);if(this[n(405)]=this[n(433)](o,a),this[n(399)]=this[n(433)](s,"#version 300 es\n                precision mediump float;\n                uniform sampler2D u_Sampler;\n                out vec4 outColor;\n                void main(){\n                    outColor = texelFetch(u_Sampler,ivec2(gl_FragCoord.xy),0);\n                }"),!(i[n(393)]instanceof t.MultiPolygon||i.polygon instanceof t.Polygon))throw new Error(n(401));this[n(375)]=i[n(393)],this[n(423)]=i[n(400)]?i[n(400)][n(387)]():[1,1,1,1],this[n(398)]()}setColor(t){this._color=t.toArray()}setPolygon(e){const r=_A;if(!(e instanceof t.MultiPolygon||e instanceof t.Polygon))throw new Error;this[r(375)]=e,this.initData()}[gA(398)](){const e=gA;if(this[e(375)]instanceof t.Polygon){const t=this[e(375)][e(415)]();this[e(420)]=Rh(t)}else if(this[e(375)]instanceof t.MultiPolygon){const t=this[e(375)][e(392)](),r=[],i=[],n=[],s=[];let o=0,a=0;t.forEach((t=>{const a=e,h=Rh(t[a(415)]());r[a(440)](...h[a(404)]),n[a(440)](...h[a(386)]),i[a(440)](...h[a(414)]),s.push(parseInt(h[a(402)])),o+=parseInt(h[a(402)])})),n.forEach(((t,e)=>{if(0!==e){a+=n[e-1];for(let r=a;r<a+t;r++)i[r]+=s[e-1];s[e]+=s[e-1]}})),this[e(420)]={a_position:r,index:i,positionCount:[o],indexCount:n}}}setUp(){const t=gA;this.addColorAttachment(0,0),this[t(371)](1),super[t(410)]()}[gA(409)](){const t=gA,e=this.gl,r=this[t(399)];e[t(390)](r);const{a_position:i,index:n,indexCount:s}=this.triangleData,o=this[t(377)].getVPMatrix(),a=e[t(417)]();e[t(439)](e[t(364)],a),e[t(430)](e[t(364)],new Float32Array(i),e[t(394)]);const h=e[t(407)](r,t(413));e[t(428)](h,3,e[t(397)],!1,0,0),e[t(388)](h);const l=e[t(417)]();e.bindBuffer(e[t(384)],l),e[t(430)](e[t(384)],new Uint16Array(n),e[t(394)]);let c=e[t(368)](r,t(363));this.gl[t(426)](c,!1,o[t(389)]());let u=e[t(368)](r,t(373));e.uniform1i(u,0),e[t(374)](e[t(408)]),e[t(403)](e[t(421)],this[t(422)][0]),e[t(385)](e[t(437)]),e[t(424)](e[t(434)],1,255),e[t(416)](e[t(427)],e[t(427)],e[t(411)]),e[t(380)](e[t(436)]),e[t(419)](1,1,1,1),e[t(432)](255);let p=0;s[t(379)](((r,i)=>{const n=t;0!==i&&(p+=2*s[i-1]),e[n(382)](e.TRIANGLES,r,e[n(366)],p)})),e[t(403)](e[t(421)],null),e[t(431)](a),e[t(418)](null),e.stencilFunc(e[t(396)],1,255)}[gA(378)](){const t=gA;this[t(409)]();const e=this.gl,r=this[t(405)];e.useProgram(r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e[t(417)](),s=e[t(368)](this[t(405)],"u_Sampler");e.uniform1i(s,0),e.bindBuffer(e.ARRAY_BUFFER,n),e[t(430)](e.ARRAY_BUFFER,i,e[t(394)]);let o=e[t(407)](r,t(413));e.vertexAttribPointer(o,2,e[t(397)],!1,0,0),e[t(388)](o);let a=e[t(368)](r,t(367));e.uniform4f(a,...this[t(423)]),e.activeTexture(e[t(408)]),e.bindTexture(e[t(421)],this[t(422)][0]),e[t(412)](e[t(425)],0,4),e[t(403)](e.TEXTURE_2D,null),e.deleteBuffer(n),e.bindVertexArray(null)}}function _A(t,e){return fA[t-=363]}const yA=["STENCIL_TEST","deleteBuffer","bindTexture","_createProgram","FLOAT","611144edsXxP","TEXTURE0","clear","uniform1i","TRIANGLE_STRIP","169UdVTdC","308835hhiBIg","STENCIL_BUFFER_BIT","setX","gray","render","Failed to create the buffer object","516977uacqzK","a_Position","renderStencil","setUp","ARRAY_BUFFER","bindVertexArray","bufferData","19410uHInWG","colorMask","activeTexture","getAttribLocation","ZERO","enableVertexAttribArray","#version 300 es\n                precision mediump float;\n                uniform sampler2D u_Sampler;\n                uniform float u_gray[3];\n                out vec4 outColor;\n\n                void main(){\n                    // \n                    outColor = texelFetch(u_Sampler,(ivec2(gl_FragCoord.xy)),0);\n                    outColor = vec4(1.0-outColor.r,1.0-outColor.g,1.0-outColor.b,1.0);\n                }","vertexAttribPointer","program","STATIC_DRAW","REPLACE","ALWAYS","useProgram","stencilFunc","u_gray","u_Sampler","TEXTURE_2D","NOTEQUAL","374769fKTWlM","2980VMfwau","1OLPhqh","colorAttachments","#version 300 es\n                precision mediump float;\n                uniform sampler2D u_Sampler;\n                out vec4 outColor;\n                void main(){\n                    outColor = texelFetch(u_Sampler,ivec2(gl_FragCoord.xy),0);\n                }","25ALqBcC","bindBuffer","uniform1fv","574111coaqdN","setY","getUniformLocation","_stencilProgram"],mA=IA;function IA(t,e){return yA[t-=233]}!function(t,e){const r=IA;for(;;)try{if(386526===parseInt(r(277))*parseInt(r(246))+parseInt(r(243))*parseInt(r(241))+parseInt(r(270))+-parseInt(r(258))+-parseInt(r(263))*-parseInt(r(242))+-parseInt(r(249))+-parseInt(r(264)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(yA);class xA extends Kx{constructor(t,e=0,r){const i=IA;super(t,e,r);let n=i(245),s="#version 300 es\n                in vec4 a_Position;\n                void main(){\n                    gl_Position = a_Position;\n                }",o=i(283);this[i(285)]=this[i(256)](s,o),this._stencilProgram=this._createProgram(s,n),this[i(237)]=r.gray?r[i(267)]:[.3,.3,.4],this._x=void 0!==r.x?r.x:1,this._y=void 0!==r.y?r.y:1}[mA(273)](){const t=mA;this.addColorAttachment(0,0),this.setDepthAttachment(1),super[t(273)]()}[mA(266)](t){this._x=t,this.render()}[mA(250)](t){this._y=t,this.render()}[mA(272)](){const t=mA,e=this.gl,r=this[t(252)];e[t(235)](r);const i=this._x,n=this._y;let s=new Float32Array([-1,n,-1,-1,i,n,i,-1]);const o=e.createBuffer();e[t(247)](e[t(274)],o),e[t(276)](e[t(274)],new Float32Array(s),e[t(286)]);const a=e[t(280)](r,"a_Position");e[t(284)](a,2,e[t(257)],!1,0,0),e[t(282)](a);let h=e.getUniformLocation(r,t(238));e[t(261)](h,0),e[t(279)](e[t(259)]),e[t(255)](e[t(239)],this[t(244)][0]),e.enable(e[t(253)]),e[t(236)](e[t(234)],1,255),e.stencilOp(e.ZERO,e[t(281)],e[t(233)]),e[t(260)](e[t(265)]),e[t(278)](1,1,1,1),e.stencilMask(255),e.drawArrays(e[t(262)],0,4),e.bindTexture(e.TEXTURE_2D,null),e[t(254)](o),e[t(275)](null),e[t(236)](e[t(240)],1,255)}[mA(268)](){const t=mA;this[t(272)]();const e=this.gl,r=this[t(285)];e[t(235)](r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e.createBuffer();if(!n)return console.error(t(269)),-1;let s=e[t(251)](this.program,t(238));e[t(261)](s,0),e[t(247)](e[t(274)],n),e[t(276)](e[t(274)],i,e.STATIC_DRAW);let o=e[t(280)](r,t(271));e[t(284)](o,2,e[t(257)],!1,0,0),e[t(282)](o);let a=e[t(251)](r,"u_gray[0]");e[t(248)](a,this[t(237)]),e[t(279)](e[t(259)]),e[t(255)](e[t(239)],this[t(244)][0]),e.drawArrays(e[t(262)],0,4),e[t(255)](e[t(239)],null),e[t(254)](n),e[t(275)](null)}}const vA=["setDepthAttachment","setUp","2vbghkM","addColorAttachment","getAttribLocation","TRIANGLE_STRIP","TEXTURE_2D","uniform1i","useProgram","activeTexture","enableVertexAttribArray","u_sampler","317731YmPAyF","254616XZIMES","_createProgram","vertexAttribPointer","1MsqYAy","1195991vMzBQU","#version 300 es\n                precision mediump float;\n\n                uniform float u_noiseType;\n                uniform bool u_noiseStatic;\n                uniform float u_time;\n                uniform vec4 u_color;\n                uniform float u_speed;\n                uniform float u_scale;\n                uniform float u_miPerMapUnit;\n                uniform sampler2D u_pattern0;\n                #define MOD3 vec3(.1031,.11369,.13787)\n\n                vec3 random33(vec3 p) {\n                    p = vec3(\n                        dot(p,vec3(127.1,311.7,69.5)),\n                        dot(p,vec3(269.5,183.3,132.7)),\n                        dot(p,vec3(247.3,108.5,96.5))\n                    );\n                    return -1.0 + 2.0 * fract(sin(p)*43758.5453123);\n                }\n\n                vec2 random22( vec2 p ) {\n                    return fract(\n                        sin(\n                            vec2(\n                                dot(p,vec2(127.1,311.7)),\n                                dot(p,vec2(269.5,183.3))\n                            )\n                        )*43758.5453\n                    );\n                }\n\n                float random31(vec3 p)\n                {\n                    p  = fract(p * MOD3);\n                    p += dot(p, p.yzx + 19.19);\n                    return -1.0 + 2.0 * fract((p.x + p.y) * p.z);\n                }\n\n                //perlin noise\n                float noise_perlin(vec3 p) {\n                    vec3 i = floor(p);\n                    vec3 s = fract(p);\n\n                    float a = dot(random33(i),s);\n                    float b = dot(random33(i + vec3(1., 0., 0.)),s - vec3(1., 0., 0.));\n                    float c = dot(random33(i + vec3(0., 1., 0.)),s - vec3(0., 1., 0.));\n                    float d = dot(random33(i + vec3(0., 0., 1.)),s - vec3(0., 0., 1.));\n                    float e = dot(random33(i + vec3(1., 1., 0.)),s - vec3(1., 1., 0.));\n                    float f = dot(random33(i + vec3(1., 0., 1.)),s - vec3(1., 0., 1.));\n                    float g = dot(random33(i + vec3(0., 1., 1.)),s - vec3(0., 1., 1.));\n                    float h = dot(random33(i + vec3(1., 1., 1.)),s - vec3(1., 1., 1.));\n\n                    vec3 u = smoothstep(0.,1.,s);\n\n                    return mix(mix(mix( a, b, u.x),\n                                mix( c, e, u.x), u.y),\n                            mix(mix( d, f, u.x),\n                                mix( g, h, u.x), u.y), u.z);\n                }\n\n                //simplex noise\n                float noise_simplex(vec3 p) {\n                    const float K1 = 0.333333333;\n                    const float K2 = 0.166666667;\n\n                    vec3 i = floor(p + (p.x + p.y + p.z) * K1);\n                    vec3 d0 = p - (i - (i.x + i.y + i.z) * K2);\n\n                    vec3 e = step(vec3(0.0), d0 - d0.yzx);\n                    vec3 i1 = e * (1.0 - e.zxy);\n                    vec3 i2 = 1.0 - e.zxy * (1.0 - e);\n\n                    vec3 d1 = d0 - (i1 - 1.0 * K2);\n                    vec3 d2 = d0 - (i2 - 2.0 * K2);\n                    vec3 d3 = d0 - (1.0 - 3.0 * K2);\n\n                    vec4 h = max(0.6 - vec4(dot(d0, d0), dot(d1, d1), dot(d2, d2), dot(d3, d3)), 0.0);\n                    vec4 n = h * h * h * h * vec4(\n                                                dot(d0, random33(i)),\n                                                dot(d1, random33(i + i1)),\n                                                dot(d2, random33(i + i2)),\n                                                dot(d3, random33(i + 1.0)\n                                                ));\n                    return dot(vec4(31.316), n);\n                }\n\n                //value noise\n                float noise_value(vec3 p)\n                {\n                    vec3 pi = floor(p);\n                    vec3 pf = p - pi;\n                    vec3 w = pf * pf * (3.0 - 2.0 * pf);\n                    return \tmix(\n                                mix(mix(random31(pi + vec3(0, 0, 0)), random31(pi + vec3(1, 0, 0)), w.x),\n                                    mix(random31(pi + vec3(0, 0, 1)), random31(pi + vec3(1, 0, 1)), w.x),\n                                    w.z),\n                                mix(mix(random31(pi + vec3(0, 1, 0)), random31(pi + vec3(1, 1, 0)), w.x),\n                                    mix(random31(pi + vec3(0, 1, 1)), random31(pi + vec3(1, 1, 1)), w.x),\n                                    w.z),\n                                w.y);\n                }\n\n                //square\n                float noise_square(vec2 p) {\n                    vec2 i_st = floor(p);\n                    vec2 f_st = fract(p);\n                    float min_dist = 1.;\n                    for (int i = -1; i <= 1; i++) {\n                        for (int j = -1; j <= 1; j++) {\n                            vec2 neighbor = vec2(float(i),float(j));\n                            vec2 point = random22(i_st + neighbor);\n                            float d = length(point + neighbor - f_st);\n                            min_dist = min(min_dist,d);\n                        }\n                    }\n                    return pow(min_dist,3.);\n                }\n\n                //cell\n                float noise_cell(vec2 p) {\n                    float dists[27];\n                    vec2 i_st = floor(p);\n                    vec2 f_st = fract(p);\n                    float min_dist = 10.;\n                    for (int i = -1; i <= 1; i++) {\n                        for (int j = -1; j <= 1; j++) {\n                            vec2 neighbor = vec2(float(i),float(j));\n                            vec2 point = random22(i_st + neighbor);\n                            float d = length(point + neighbor - f_st);\n                            dists[(i + 1) * 3 + (j + 1) ] = d;\n                            min_dist = min(min_dist,d);\n                        }\n                    }\n                    float sec_min_dist = 10.;\n                    for (int i = 0; i < 9; i++) {\n                        if (dists[i] != min_dist) {\n                            sec_min_dist = min(sec_min_dist,dists[i]);\n                        }\n                    }\n                    return pow(sec_min_dist - min_dist,.5);\n                }\n\n                //fractal fbm\n                float noise_sum(vec3 p)\n                {\n                    float f = 0.0;\n                    p = p * 4.0;\n                    float a = 1.;\n                    for (int i = 0; i < 5; i++) {\n                        f += a * noise_perlin(p);\n                        p = 2.0 * p;\n                        a /= 2.;\n                    }\n                    return f;\n                }\n\n                //fractal turbulence\n                float noise_sum_abs(vec3 p)\n                {\n                    float f = 0.0;\n                    p = p * 4.0;\n                    float a = 1.;\n                    for (int i = 0; i < 5; i++) {\n                        f += a * abs(noise_perlin(p));\n                        p = 2.0 * p;\n                        a /= 2.;\n                    }\n                    return f;\n                }\n\n                //fractal domain wrapping\n                float domain_wraping(vec3 p)\n                {\n                    vec3 q = vec3(noise_sum(p), noise_sum(p), 0.0);\n                    vec3 r = vec3(noise_sum(p + q), noise_sum(p + q), 0.0);\n                    return noise_sum(q + r);\n                }\n\n                //water fill\n                vec3 getWaterNoise(vec3 p)\n                {\n                    vec2 uv0 = p.xy / (103.0 * 1.0) + vec2(p.z / 17.0, p.z / 29.0);\n                    vec2 uv1 = p.xy / (107.0 * 1.0) - vec2(p.z / -19.0, p.z / 31.0);\n                    vec2 uv2 = p.xy / (vec2(8907.0, 9803.0) * 1.0) + vec2(p.z / 101.0, p.z /   97.0);\n                    vec2 uv3 = p.xy / (vec2(1091.0, 1027.0) * 1.0) - vec2(p.z / 109.0, p.z / -113.0);\n                    vec4 nColor = texture(u_pattern0,uv0) + texture(u_pattern0,uv1) + texture(u_pattern0,uv2) + texture(u_pattern0,uv3);\n                    float noise_value = dot(0.5*nColor.rgb-1.0,vec3(1.0,1.0,1.0));\n                    return max(0.0,noise_value)*u_color.rgb;\n                }\n\n                //mix color\n                vec3 mixColor(vec3 color,float n)\n                {\n                    return mix(0.8 * color,color,n);\n                }\n\n                void main(){\n\n\n\n                }\n\n                ","FLOAT","bindTexture","280600DPqRSl","program","1pZgwpL","a_position","bufferData","3lXZgAk","27105GPkQZT","162086OMsMOd","#version 300 es\n                in vec4 a_position;\n                void main(){\n                    gl_Position = a_position;\n                }","bindVertexArray","STATIC_DRAW","1JmQTVF","67289naHIBj","createBuffer","TEXTURE0"],bA=wA;function wA(t,e){return vA[t-=368]}!function(t,e){const r=wA;for(;;)try{if(379500===-parseInt(r(402))-parseInt(r(375))+parseInt(r(403))*parseInt(r(386))+parseInt(r(381))*-parseInt(r(380))+parseInt(r(382))*-parseInt(r(392))+parseInt(r(387))*-parseInt(r(377))+-parseInt(r(370))*-parseInt(r(371)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(vA);class TA extends Kx{constructor(t,e=0,r){const i=wA;super(t,e,r);let n=i(383),s=i(372);this[i(376)]=this[i(368)](n,s)}[bA(391)](){const t=bA;this[t(393)](0),this[t(390)](1),super[t(391)]()}render(){const t=bA,e=this.gl,r=this.program;e[t(398)](r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e[t(388)](),s=e.getUniformLocation(this[t(376)],t(401));e[t(397)](s,0),e.bindBuffer(e.ARRAY_BUFFER,n),e[t(379)](e.ARRAY_BUFFER,i,e[t(385)]);let o=e[t(394)](r,t(378));e[t(369)](o,2,e[t(373)],!1,0,0),e[t(400)](o),e[t(399)](e[t(389)]),e[t(374)](e[t(396)],this.colorAttachments[0]),e.drawArrays(e[t(395)],0,4),e.bindTexture(e[t(396)],null),e.deleteBuffer(n),e[t(384)](null)}}const EA=["711342MPFWRv","5yUQaYQ","1UIaoRG","366358LvhWbl","37116twrfVh","1243597MxywLn","vsShader","fsShader","1464069hrvUkt","1959551DbGULJ","241117vNLfTA","#version 300 es\nprecision mediump float;\nin vec2 v_texCoord;\nin vec3 v_coord;\nuniform sampler2D u_pattern;\nuniform sampler2D u_depth;\nuniform float u_farNear;\nuniform vec3 u_camera;\nout vec4 outColor;\n//nstruct FogP{\n    float density;//GlobalDensity*exp2(-FogHeightFalloff*(cameraH-FogHeight))\n    float heightFalloff;\n    float globalDensity;\n    float height;\n};\nuniform FogP u_fog1,u_fog2;\nuniform vec4 u_fogColor;//xyz-Inscattering color;z--maxOpacity\nuniform vec2 u_fogDistance;//x-startDistance;y-fogCutoffDistance;\nuniform vec4 u_inscatteringColor;//xyz-color;w-cosine exponent\nuniform vec4 u_lightDirection;//xyz-directional light's direction;w-directional inscattering start distance\n\n\n float FLT_EPSILON2=0.01;\n//\nfloat caculateLineIntegral(float fogHeightFalloff,float rayDirectionY,float rayOriginTerms){\n    float falloff=max(-127.0,fogHeightFalloff*rayDirectionY);// if it's lower than -127.0, then exp2() goes crazy in OpenGL's GLSL.\n    float lineIntegral=(1.0-exp2(-falloff))/falloff;//FogFactorn    float lineIntegralTaylor=log(2.0)-(0.5*pow(log(2.0),2.0))*falloff;//0\n    // float fogFactor=abs(falloff)>FLT_EPSILON2?lineIntegral:lineIntegralTaylor;\n    float choose=step(FLT_EPSILON2,abs(falloff));\n    float fogFactor=(1.0-choose)*lineIntegralTaylor+choose*lineIntegral;\n    return rayOriginTerms*fogFactor;\n}\n\n//nvec4 getExponentialHeightFog(vec3 worldPosR2Camera){\n     float minFogTrans=1.0-u_fogColor.a;//n    //eceiver n    vec3 camera2Receiver=worldPosR2Camera;//camera to vertex \n    float camera2ReceiverLen=length(camera2Receiver);//\n    vec3 camera2ReceiverNormal=normalize(camera2Receiver);//n\n    float rayOriginTerms=u_fog1.density;//\n    float rayOriginTerms2=u_fog2.density;//n    //n    float rayLen=camera2ReceiverLen;//\n    // float rayDirectionY=-camera2Receiver.z;//n    float rayDirectionY=camera2Receiver.z;//()\n\n    //n    float start=u_fogDistance.x;\n    if(start>0.0){\n        float exclude=start/camera2ReceiverLen;//n        float camera2ExcludeY=exclude*rayDirectionY;//yn        float exclusionY=u_camera.z+camera2ExcludeY;//yn        float exclusion2ReceiverY=camera2Receiver.z-camera2ExcludeY;//n\n        //ameran        //\n        rayLen=(1.0-exclude)*camera2ReceiverLen;\n        // rayDirectionY=-exclusion2ReceiverY;//n        rayDirectionY=exclusion2ReceiverY;\n\n        //\n        float exponent=max(-127.0,u_fog1.heightFalloff*(exclusionY-u_fog1.height));\n        rayOriginTerms=u_fog1.globalDensity*exp2(-exponent);\n        float exponent2=max(-127.0,u_fog2.heightFalloff*(exclusionY-u_fog2.height));\n        rayOriginTerms2=u_fog2.globalDensity*exp2(-exponent2);\n    }\n    //\n    //\n    float fogFactor=caculateLineIntegral(u_fog1.heightFalloff,rayDirectionY,rayOriginTerms)+caculateLineIntegral(u_fog2.heightFalloff,rayDirectionY,rayOriginTerms2);\n    float fog=fogFactor*rayLen;//fog0-1\n    \n    //\n    float expFogFactor=max(clamp(exp2(-fog),0.0,1.0),1.0-u_fogColor.a);\n   \n    float cutoff=u_fogDistance.y;\n    // if(cutoff>0.0 && camera2ReceiverLen>cutoff){\n    //     expFogFactor=1.0;\n    // }\n    vec3 fogColor=u_fogColor.rgb*(1.0-expFogFactor);\n    return vec4(fogColor,expFogFactor);\n}\n\nvec3 worldSpaceViewDir(float depth){\n    float viewDepth=0.0;\n    viewDepth=1.0/(u_farNear+depth*(1.0-u_farNear));\n    vec3 worldViewDir=v_coord*viewDepth;\n    return worldViewDir;//Zn}\n\nvoid main(){\n    float depth=texture(u_depth,v_texCoord).r;//\n    vec3 worldPos=worldSpaceViewDir(depth)+u_camera;//n    vec4 v_fogCoord=getExponentialHeightFog(worldSpaceViewDir(depth));//worldSpaceViewDir--vertex to camera  \n    vec4 color=texture(u_pattern,v_texCoord);//\n    outColor=vec4(color.rgb*v_fogCoord.w+v_fogCoord.xyz,clamp(v_fogCoord.w,0.1,0.9));\n}\n"],CA=AA;function AA(t,e){return EA[t-=424]}!function(t,e){const r=AA;for(;;)try{if(765338===-parseInt(r(427))+parseInt(r(434))+-parseInt(r(430))+parseInt(r(425))*-parseInt(r(424))+parseInt(r(435))*parseInt(r(432))+-parseInt(r(426))+parseInt(r(431)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(EA);const MA={};MA[CA(428)]="#version 300 es\nin vec2 a_position;//nin vec2 a_texCoord;\nout vec2 v_texCoord;\nout vec3 v_coord;\n\nuniform mat4x3 u_frustum;//cameran\nvoid main(){\n    gl_Position=vec4(a_position,0.0,1.0);\n    v_texCoord=a_texCoord;\n    v_coord=u_frustum[gl_VertexID];\n }\n",MA[CA(429)]=CA(433);const SA=["cutoffDistance","globalDensity2","depthAttachment","110679EYrASd","heightFalloff","fogInscatteringColor","TEXTURE_2D","ARRAY_BUFFER","toNormalizeArray","heightFalloff2","u_fog1.density","_program","bufferData","bindTexture","_buffers","19NPMEac","deleteVertexArray","u_farNear","startDistance","u_fogDistance","453475zypXZa","11758IKTFxo","u_fog1.heightFalloff","getNear","_initFogParams","setFogMaxOpacity","u_fog2.heightFalloff","texBuffer","343135cbQRaW","getFPlaneDistance","_fog","_map","vertexAttribPointer","camera","_getDensity","activeTexture","clear","frustum","drawArrays","render","_setUniforms","u_camera","u_fog2.density","uniform3fv","setStartDistance","density","TEXTURE0","height","u_frustum","fogMaxOpacity","useProgram","FLOAT","_attribs","u_depth","createBuffer","u_fogColor","a_position","enableVertexAttribArray","globalDensity","uniform4fv","DEPTH_BUFFER_BIT","fogHeight2","deleteTexture","uniformMatrix4x3fv","_vao","createVertexArray","colorAttachments","uniform1i","u_fog1.globalDensity","u_pattern","getOwnPropertyNames","setFog2","17866VcBwNx","STATIC_DRAW","fogColor","setUp","vsShader","getCoordinate","bindVertexArray","a_texCoord","2769bpjYpZ","fogDistance","uniform1f","getCamera","verBuffer","_uniforms","_getUniforms","bindBuffer","_initStaticBuffer","639271nKMCmr","295wCrRnZ","fogHeight","hasOwnProperty","deactive"],PA=RA;function RA(t,e){return SA[t-=420]}!function(t,e){const r=RA;for(;;)try{if(371131===-parseInt(r(441))+-parseInt(r(428))*-parseInt(r(485))+parseInt(r(510))+-parseInt(r(434))+parseInt(r(433))+parseInt(r(502))+parseInt(r(503))*-parseInt(r(493)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(SA);class LA extends Kx{constructor(t,e=0,r){const i=RA;super(t,e,r);const n=MA[i(489)],s=MA.fsShader;this._program=this._createProgram(n,s),this[i(501)](),this[i(443)]=this[i(437)]()}[PA(488)](){this.addColorAttachment(0),this.setDepthAttachment(0),super.setUp()}[PA(452)](){const t=PA;this[t(506)]();const e=this.gl,r=this[t(424)];e[t(449)](e[t(473)]),e[t(491)](this[t(477)]);const i=this[t(444)][t(496)](),n=i[t(490)](),s=i[t(442)]()/i[t(436)]();let o=i.getFrustumRay();o=new Float32Array(o),e[t(463)](r),this._setUniforms({camera:[n._x,n._y,n._z],frustum:o,farNear:s}),e[t(448)](e[t(459)]+2),e[t(426)](e.TEXTURE_2D,this[t(479)][0]),e[t(448)](e[t(459)]+1),e[t(426)](e[t(513)],this.depthAttachment),e[t(451)](e.TRIANGLE_STRIP,0,4),e.bindTexture(e[t(513)],null),e.bindVertexArray(null)}setFog1(t){const e=PA;this[e(443)][e(471)]=t[e(505)]("density")?t[e(458)]:this[e(443)][e(471)],this[e(443)].heightFalloff=t[e(505)](e(511))?t[e(511)]:this[e(443)][e(511)],this._fog.fogHeight=t[e(505)](e(460))?t.height:this[e(443)][e(504)]}[PA(484)](t){const e=PA;this._fog[e(508)]=t.hasOwnProperty(e(458))?t[e(458)]:this[e(443)][e(471)],this._fog[e(422)]=t[e(505)](e(511))?t[e(511)]:this[e(443)][e(511)],this[e(443)][e(474)]=t[e(505)](e(460))?t[e(460)]:this[e(443)][e(504)]}setFogColor(t){const e=PA,r=t[e(421)]();this[e(443)].fogInscatteringColor=[r[0],r[1],r[2]]}[PA(457)](t){const e=PA;this._fog[e(431)]=t>0?t:this[e(443)][e(431)]}[PA(438)](t){const e=PA;this[e(443)][e(462)]=t>=0&&t<=1?t:this[e(443)].fogMaxOpacity}destroy(){const t=PA;this.gl[t(429)](this[t(477)]),this.gl.deleteBuffer(this[t(427)].texBuffer),this.gl.deleteBuffer(this[t(427)].verBuffer),this.gl.deleteProgram(this[t(424)]),this.gl[t(475)](this[t(509)]),this.gl.deleteTexture(this.colorAttachments[0]);let e=Object[t(483)](this);for(let t=0,r=e.length;t<r;t++){const r=e[t];this[r]=null,delete this[r]}}[PA(453)](t){const e=PA,r=this._fog,i=this._fog[e(512)],n=t.camera[2],s=this[e(447)](r.globalDensity,r.heightFalloff,r[e(504)],n),o=this[e(447)](r[e(508)],r.heightFalloff2,r.fogHeight2,n);let a={fogColor:[i[0],i[1],i[2],r[e(462)]],fogParams:[s,r.heightFalloff,r.globalDensity,r[e(504)]],fogParams2:[o,r[e(422)],r.globalDensity2,r[e(474)]],fogDistance:[r[e(431)],r[e(507)]],u_camera:t[e(446)],u_frustum:t[e(450)],u_farNear:t.farNear};this.gl[e(476)](this._uniforms[e(461)],!1,a[e(461)]),this.gl[e(472)](this[e(498)][e(468)],a[e(487)]),this.gl.uniform2fv(this[e(498)][e(432)],a[e(494)]),this.gl[e(456)](this[e(498)][e(454)],a.u_camera),this.gl[e(480)](this._uniforms[e(482)],2),this.gl[e(480)](this[e(498)][e(466)],1),this.gl[e(495)](this[e(498)].u_farNear,a[e(430)]),this.gl.uniform1f(this[e(498)][e(423)],s),this.gl[e(495)](this[e(498)][e(455)],o),this.gl[e(495)](this[e(498)][e(435)],r[e(511)]),this.gl[e(495)](this[e(498)][e(439)],r[e(422)]),this.gl.uniform1f(this._uniforms[e(481)],r[e(471)]),this.gl[e(495)](this[e(498)]["u_fog2.globalDensity"],r[e(508)]),this.gl[e(495)](this[e(498)]["u_fog1.height"],r[e(504)]),this.gl[e(495)](this._uniforms["u_fog2.height"],r.fogHeight2)}[PA(447)](t,e,r,i){const n=e*(i-r);return t*Math.pow(2,-n)}_initFogParams(){return{globalDensity:.02,heightFalloff:.2,fogHeight:5,globalDensity2:.02,heightFalloff2:.2,fogHeight2:5,fogInscatteringColor:[.447,.639,1],fogMaxOpacity:.5,startDistance:0,cutoffDistance:200,dirLight:null,directionalInscatteringExponent:4,directionalInscatteringStartDistance:0,direcitonalInscatteringColor:[.25,.25,.125],directionalInscatteringIntensity:1}}_initStaticBuffer(){const t=PA,e=this.gl,r=this[t(424)];this[t(465)]=this._getAttributes(r),this[t(498)]=this[t(499)](r),this[t(477)]=e[t(478)]();let i={};e[t(491)](this[t(477)]);const n=new Float32Array([0,1,0,0,1,1,1,0]),s=new Float32Array([-1,1,-1,-1,1,1,1,-1]);i[t(440)]=e[t(467)](),e[t(500)](e[t(420)],i[t(440)]),e[t(425)](e.ARRAY_BUFFER,n,e[t(486)]),e[t(445)](this[t(465)][t(492)],2,e[t(464)],!1,0,0),e[t(470)](this[t(465)].a_texCoord),i.verBuffer=e[t(467)](),e.bindBuffer(e.ARRAY_BUFFER,i[t(497)]),e.vertexAttribPointer(this[t(465)][t(469)],2,e[t(464)],!1,0,0),e[t(425)](e[t(420)],s,e[t(486)]),e[t(470)](this[t(465)][t(469)]),e[t(491)](null),this[t(427)]=i}}const FA=["verticesBuffer","activeTexture","colorAttachments","TRIANGLE_STRIP","speed","u_strength","uniforms","bindBuffer","deleteVertexArray","TEXTURE_2D","5403QwtLoC","9737bPAlFW","length","getOwnPropertyNames","_getUniforms","1hqZvFM","51550DVrvOn","drawingBufferHeight","drawingBufferWidth","drawArrays","4BeEoCq","STATIC_DRAW","hasOwnProperty","239VwOawG","destroy","deleteTexture","strength","vao","u_loc","uniform2fv","setStrength","render","uniform1i","1007829xNZCSr","ARRAY_BUFFER","setUp","bufferData","994769yCgvvT","deleteProgram","bindTexture","_createStaticData","setLocation","setSpeed","u_sampler","312263mlIrxc","time","95ZWEDks","createVertexArray","location","getLocation","u_speed","FLOAT","uniform1f","bindVertexArray","program","TEXTURE0","422322mQjOIW","u_res","deleteBuffer","vertexAttribPointer","u_time","_createProgram"],DA=OA;function OA(t,e){return FA[t-=322]}!function(t,e){const r=OA;for(;;)try{if(877797===parseInt(r(370))*parseInt(r(348))+parseInt(r(349))+-parseInt(r(343))*-parseInt(r(356))+-parseInt(r(353))*parseInt(r(327))+-parseInt(r(344))*-parseInt(r(379))+parseInt(r(377))+-parseInt(r(366)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(FA);class NA extends Kx{constructor(t,e=0,r){const i=OA;super(t,e,r);this[i(325)]=this[i(332)]("#version 300 es\n                in vec4 a_position;\n                out vec2 v_texCoord;\n                void main(){\n                    gl_Position = a_position;\n                    v_texCoord = 0.5+0.5*a_position.xy;\n                }","#version 300 es\n                precision mediump float;\n                in vec2 v_texCoord;\n\n                uniform sampler2D u_sampler;\n                uniform float u_time;\n                uniform float u_speed;\n                uniform float u_radius;\n                uniform float u_strength;\n                uniform vec2 u_res;\n                uniform vec2 u_loc;\n\n                vec2 a_mouse=vec2(0.5,0.5);\n\n                out vec4 outColor;\n              \n                void main(){\n                    vec2 fragCoord = v_texCoord;\n                    // outColor = texture(u_sampler, fragCoord);\n\n                    float waveStrength = 0.02*u_strength;\n                    float frequency = 30.0*u_speed;\n                    float waveSpeed = 5.0;\n                    vec4 sunlightColor = vec4(1.0,0.91,0.75, 0.5);\n                    float sunlightStrength = 5.0;\n                    float centerLight = 2.;\n                    float oblique = .25; \n                        \n                    vec2 tapPoint = vec2(u_loc.x/u_res.x,u_loc.y/u_res.y);\n                    \n                    vec2 uv = fragCoord.xy ;\n                    float modifiedTime = u_time * waveSpeed;\n                    float aspectRatio = u_res.x/u_res.y;\n                    vec2 distVec = uv - tapPoint;\n                    distVec.x *= aspectRatio;\n                    float distance = length(distVec);\n                    \n                    float multiplier = (distance < 1.0) ? (1.0-distance) : 0.0;\n                    float addend = (sin(frequency*distance-modifiedTime)+centerLight) * waveStrength * multiplier*0.5;\n                    vec2 newTexCoord = uv + addend*oblique;\n                    \n                    vec4 colorToAdd = sunlightColor * sunlightStrength * addend;\n                    \n                    outColor = texture(u_sampler, newTexCoord) + colorToAdd;\n\n                }\n                "),this.uniforms=this[i(347)](this[i(325)]),this[i(373)](),this[i(378)]=new Date,this[i(359)]=r[i(355)](i(359))?r[i(359)]:1,this[i(337)]=r[i(355)](i(337))?r[i(337)]:1,this.location=r.hasOwnProperty(i(381))?r[i(381)]:[this.gl[i(351)]/2,this.gl[i(350)]/2]}[DA(363)](t){Number.isFinite(t)&&(this.strength=t)}[DA(375)](t){Number.isFinite(t)&&(this.speed=t)}[DA(374)](t){this[DA(381)]=[t[0],this.gl.drawingBufferHeight-t[1]]}[DA(382)](){return this[DA(381)]}[DA(368)](){const t=DA;this.addColorAttachment(0,0),super[t(368)]()}[DA(364)](){const t=DA;this.deactive();const e=this.gl;e.useProgram(this[t(325)]),e[t(324)](this[t(360)]),e[t(323)](this[t(339)][t(331)],(new Date-this[t(378)])/1e3),e[t(323)](this[t(339)][t(383)],this[t(337)]),e.uniform1f(this.uniforms[t(338)],this.strength),e[t(362)](this[t(339)][t(328)],[e[t(351)],e.drawingBufferHeight]),e[t(362)](this.uniforms[t(361)],this.location),e[t(365)](this[t(339)][t(376)],0),e[t(334)](e[t(326)]+0),e[t(372)](e[t(342)],this[t(335)][0]),e[t(352)](e[t(336)],0,4),e[t(372)](e[t(342)],null),e[t(324)](null)}[DA(373)](){const t=DA,e=this.gl,r=e.getAttribLocation(this[t(325)],"a_position");this[t(360)]=e[t(380)](),e[t(324)](this.vao);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]);this[t(333)]=e.createBuffer(),e[t(340)](e[t(367)],this.verticesBuffer),e[t(330)](r,2,e[t(322)],!1,0,0),e.enableVertexAttribArray(r),e[t(369)](e.ARRAY_BUFFER,i,e[t(354)]),e[t(324)](null)}[DA(357)](){const t=DA;this.gl[t(341)](this[t(360)]),this.gl[t(329)](this[t(333)]),this.gl[t(371)](this[t(325)]),this.gl[t(358)](this[t(335)][0]);let e=Object[t(346)](this);for(let r=0,i=e[t(345)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const BA=["farBlur","u_nearClear","setDepthAttachment","nearBlur","992145sPehBc","u_textureHeight","STATIC_DRAW","_farClear","u_textureWidth","textureHeight","setFocalDepth","_far","_nearClear","_nearBlur","u_tColor","createBuffer","u_blurForce","u_focalDepth","bindBuffer","getAttribLocation","addColorAttachment","uniform1f","ARRAY_BUFFER","3483964tPOopW","cameraFar","u_cameraFar","u_farBlur","depthAttachment","a_texCoord","enableVertexAttribArray","1203098BWSJIN","_focalDepth","uniform1i","717798iOpZsq","drawArrays","focalDepth","TEXTURE_2D","TRIANGLE_STRIP","TEXTURE0","useProgram","activeTexture","render","#version 300 es\n                in vec4 a_Position;\n                in vec2 a_texCoord;\n                out vec2 v_texCoord;\n                void main(){\n                    gl_Position = a_Position;\n                    v_texCoord = a_texCoord;\n                }","1BGUmeJ","FLOAT","u_farClear","992286spWShC","bindTexture","getCamera","setUp","u_nearBlur","69599pipuhj","_map","a_Position","farClear","_blurForce","cameraNear","_farBlur","_createProgram","getViewport","1QgXzlq","u_tDepth","textureWidth","setBlurForce","blurForce","program","vertexAttribPointer","u_cameraNear","1208987KaBNjc","nearClear","setNearBlur","bufferData","getUniformLocation","setNearClear","colorAttachments"];function UA(t,e){return BA[t-=376]}const kA=UA;!function(t,e){const r=UA;for(;;)try{if(718025===-parseInt(r(380))+parseInt(r(402))+-parseInt(r(442))+parseInt(r(385))*-parseInt(r(394))+-parseInt(r(413))+-parseInt(r(377))*parseInt(r(439))+parseInt(r(432)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(BA);class VA extends Kx{constructor(t,e=0,r){const i=UA;super(t,e,r);let n=i(376);this[i(399)]=this[i(392)](n,"#version 300 es\n        precision mediump float;\n\n        in vec2 v_texCoord;\n        uniform sampler2D tColor;\n        uniform sampler2D tDepth;\n        uniform float cameraNear;\n        uniform float cameraFar;\n        uniform float focalDepth;\n        uniform float farClear;\n        uniform float farBlur;\n        uniform float nearClear;\n        uniform float nearBlur;\n        uniform float textureWidth;\n        uniform float textureHeight;\n        uniform int blurForce;\n\n        out vec4 outColor;\n\n        // n        float perspectiveDepthToViewZ( float invClipZ, float near, float far ) {\n            return ( near * far ) / ( far - ( far - near ) * invClipZ );\n        }\n\n        float readDepth( sampler2D depthSampler, vec2 coord ) {\n            float depth = texture(depthSampler,coord).r;\n            float viewZ = perspectiveDepthToViewZ( depth, cameraNear, cameraFar );   // (-far,-near)\n            return viewZ;\n        }\n\n        float getWeight(float dist, float maxDist){\n        \treturn 1.0 - dist/maxDist;\n        }\n\n        vec3 getColorBlur(vec2 uv){\n            vec2 curUv;\n            vec3 color = vec3(0.0, 0.0, 0.0);\n            vec2 textureRatio = vec2(1.0/textureWidth, 1.0/textureHeight);\n        \tfloat weightTotal = 0.0;\n        \tfloat circleSizef = float(blurForce);\n            for(int i=-blurForce; i<blurForce; i++){\n                for(int j=-blurForce; j<blurForce; j++)\n                {\n        \t\t\tvec2 dir =  vec2(i, j);\n                    float dist = length(dir);\n                    curUv = uv + dir*textureRatio;\n        \t\t\tfloat weight = getWeight(dist, circleSizef);\n                    color += weight * texture( tColor, curUv).rgb;\n                    weightTotal += getWeight(dist, circleSizef);\n                }\n            }\n            return color * (1.0 / weightTotal);\n        }\n\n        void main() {\n            vec3 color = texture(tColor,v_texCoord).rgb;\n            float depth = readDepth( tDepth, v_texCoord); // n\n            // float depthVal =  depth - focalDepth;  // n            float coc = 0.0;\n\n            if(depth>focalDepth-nearClear&&depth<focalDepth+farClear){\n                coc =0.0;\n            }else{\n                float depthVal =  depth - focalDepth;  // n                if(depthVal < 0.0)\n                    {\n                        // \n                        coc = (-depthVal - nearClear) / nearBlur;\n                    }\n                    else\n                    {\n                        // n                        coc = (depthVal - farClear) / farBlur;\n                    }\n            }\n\n            coc = clamp(coc, 0.0, 1.0);\n\n            vec3 colorBlur = getColorBlur(v_texCoord);\n            vec3 colorMix = mix(color, colorBlur, coc);\n\n            outColor.rgb = vec3(colorMix);\n            outColor.a = 1.0;\n            // outColor = vec4(coc,coc,coc,1.0);\n        }"),this[i(440)]=r[i(444)],this[i(416)]=r[i(388)],this[i(391)]=r.farBlur,this[i(421)]=r.nearClear,this[i(422)]=r[i(412)],this[i(389)]=r[i(398)]||4,this.init()}init(){const t=UA,e=this.gl,r=this[t(399)];e.useProgram(r),this.a_Position=e.getAttribLocation(r,t(387)),this.a_texCoord=e[t(428)](r,t(437)),this[t(423)]=e[t(406)](r,"tColor"),this[t(395)]=e.getUniformLocation(r,"tDepth"),this[t(426)]=e.getUniformLocation(r,t(444)),this[t(401)]=e[t(406)](r,t(390)),this[t(434)]=e[t(406)](r,t(433)),this[t(379)]=e[t(406)](r,"farClear"),this[t(435)]=e.getUniformLocation(r,t(409)),this.u_nearClear=e.getUniformLocation(r,t(403)),this.u_nearBlur=e[t(406)](r,t(412)),this.u_blurForce=e[t(406)](r,t(398)),this[t(417)]=e.getUniformLocation(r,t(396)),this[t(414)]=e.getUniformLocation(r,t(418));let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e[t(424)]();e[t(427)](e.ARRAY_BUFFER,n),e[t(405)](e[t(431)],i,e[t(415)]),e.vertexAttribPointer(this[t(387)],2,e.FLOAT,!1,0,0),e[t(438)](this[t(387)]);const s=new Float32Array([0,1,0,0,1,1,1,0]),o=e[t(424)]();e[t(427)](e[t(431)],o),e[t(405)](e[t(431)],s,e[t(415)]),e[t(400)](this[t(437)],2,e[t(378)],!1,0,0),e[t(438)](this[t(437)])}set focalDepth(t){return this._focalDepth=t,this}set[kA(388)](t){return this[kA(416)]=t,this}set[kA(409)](t){return this[kA(391)]=t,this}set nearClear(t){return this[kA(421)]=t,this}set[kA(412)](t){return this._nearBlur=t,this}set[kA(398)](t){return this[kA(389)]=t,this}[kA(419)](t){this[kA(440)]=t}setFarClear(t){this[kA(416)]=t}setFarBlur(t){this._farBlur=t}[kA(407)](t){this._nearClear=t}[kA(404)](t){this[kA(422)]=t}[kA(397)](t=4){this[kA(389)]=t}setUp(){const t=kA;this[t(429)](0),this[t(411)](0),super[t(383)]()}[kA(450)](){const t=kA,e=this.gl,r=this[t(399)];e[t(448)](r),e[t(449)](e[t(447)]+0),e[t(381)](e[t(445)],this[t(408)][0]),e.uniform1i(this.u_tColor,0),e[t(449)](e[t(447)]+1),e[t(381)](e[t(445)],this[t(436)]),e[t(441)](this[t(395)],1),e[t(430)](this[t(426)],this._focalDepth),e[t(430)](this.u_cameraNear,this._map[t(382)]()._near),e[t(430)](this[t(434)],this[t(386)].getCamera()[t(420)]),e[t(430)](this[t(379)],this[t(416)]),e.uniform1f(this[t(435)],this[t(391)]),e[t(430)](this[t(410)],this[t(421)]),e[t(430)](this[t(384)],this[t(422)]),e[t(441)](this[t(425)],this._blurForce),e[t(430)](this[t(417)],this[t(386)][t(393)]()[2]),e[t(430)](this[t(414)],this[t(386)][t(393)]()[3]),e[t(443)](e[t(446)],0,4),e[t(381)](e[t(445)],null)}}const GA=["enableVertexAttribArray","TEXTURE_2D","bufferData","ARRAY_BUFFER","1WzTnoK","uniform1f","39yZZwKj","setUp","now","811649KKnwhV","deleteBuffer","bindBuffer","405243nWViRh","drawArrays","iTime","colorAttachments","createBuffer","activeTexture","TEXTURE0","6lesFZz","621731UKwRbg","program","useProgram","1162124ORoYJK","31387VSUNWC","vertexAttribPointer","u_Sampler","1BCeEsE","TRIANGLE_STRIP","addColorAttachment","render","getUniformLocation","STATIC_DRAW","2371907uBsTrN","176327OhLoGw","setDepthAttachment","bindTexture","bindVertexArray","a_Position","1bBQzQa"],zA=HA;function HA(t,e){return GA[t-=236]}!function(t,e){const r=HA;for(;;)try{if(656815===-parseInt(r(258))*parseInt(r(266))+-parseInt(r(273))*parseInt(r(248))+parseInt(r(274))+parseInt(r(253))*parseInt(r(237))+-parseInt(r(241))*parseInt(r(263))+parseInt(r(260))*-parseInt(r(238))+parseInt(r(247)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(GA);class jA extends Kx{constructor(t,e=0,r){super(t,e,r);this.program=this._createProgram("#version 300 es\n                in vec4 a_Position;\n\n                void main(){\n                    gl_Position = a_Position;\n                }","#version 300 es\n                precision mediump float;\n                uniform sampler2D u_Sampler;\n                uniform float iTime;\n                out vec4 outColor;\n                // uniform vec3 u_position;\n                // uniform mat4 u_vpMatrix;\n                float hash(float x)\n                {\n                return fract(sin(x));\n                //return 1.0;\n                }\n                float hash( in vec2 p )\n                {\n                    return fract(sin(p.x*15.+p.y*35.) * 5000.);\n                }\n\n                vec2 hash2(vec2 p)\n                {\n                    return vec2(hash(p*.754),hash(1.5743*p.yx+4.5891))-.5;\n                }\n\n                vec2 hash2b(vec2 p)\n                {\n                    return vec2(hash(p*.754),hash(1.5743*p+4.5476351));\n                }\n                vec2 add = vec2(1.0, 0.0);\n\n                vec2 noise2(vec2 x)\n                {\n                    vec2 p = floor(x);\n                    vec2 f = fract(x);\n                    f = f*f*(3.0-2.0*f);\n\n                    vec2 res = mix(mix( hash2(p),          hash2(p + add.xy),f.x),\n                                    mix( hash2(p + add.yx), hash2(p + add.xx),f.x),f.y);\n                    return res;\n                }\n\n                vec2 fbm2(vec2 x)\n                {\n                    vec2 r = vec2(0.0);\n                    float a = 1.0;\n\n                    for (int i = 0; i < 8; i++)\n                    {\n                        r += abs(noise2(x)+.5 )* a;\n                        x *= 2.;\n                        a *= .5;\n                    }\n\n                    return r;\n                }\n\n                mat2 m2;\n\n                float dseg( vec2 ba, vec2 pa )\n                {\n                    float h = clamp( dot(pa,ba)/dot(ba,ba), -0.2, 1. );\n                    return length( pa - ba*h );\n                }\n\n                float arc(vec2 x,vec2 p, vec2 dir)\n                {\n                    vec2 r = p;\n                    float d=10.;\n                    for (int i = 0; i < 5; i++)\n                    {\n                        vec2 s= noise2(r)+dir;\n                        d=min(d,dseg(s,x-r));\n                        r +=s;\n                    }\n                    return d*3.;\n                }\n\n                float thunderbolt(vec2 x,vec2 tgt)\n                {\n                    vec2 r = tgt;\n                    float d=1000.;\n                    float dist=length(tgt-x);\n\n                    for (int i = 0; i < 19; i++)\n                    {\n                        if(r.y>x.y+.5)break;\n                        vec2 s= (noise2(r)+vec2(0.,.7))*2.;\n                        dist = dseg(s,x-r);\n                        d=min(d,dist);\n\n                        r +=s;\n                        if(i-(i/5)*5==0){\n                            if(i-(i/10)*10==0){\n                                d=min(d,arc(x,r,vec2(.3,.5)));\n                            }else{\n                                d=min(d,arc(x,r,vec2(-.3,.5)));\n                            }\n                        }\n                    }\n                    return exp(-5.*d)+.2*exp(-1.*dist);\n                }\n\n                void main(){\n                    outColor = texelFetch(u_Sampler,ivec2(gl_FragCoord.xy),0);\n\n                    // vec4 p1 = u_vpMatrix * vec4(u_position,1.0);\n                    vec2 p = (2.*gl_FragCoord.xy/vec2(1920.,900.)-1.)*5.0+vec2(0.,-4.0);\n                    vec2 d;\n                    vec2 tgt = vec2(1., -8.);\n                    float c=0.;\n                    vec3 col;\n                    float m = 0.005;  //\n                    float t = hash(floor(m*iTime));\n                    tgt+=8.*hash2b(tgt+t);\n                    if(hash(t+2.3)>.8)\n                    {\n                        c= thunderbolt(p*10.+2.*fbm2(5.*p),tgt);\n                        col+=clamp(1.7*vec3(0.8,.7,.9)*c,0.,1.);\n                    }\n                    outColor += vec4(col, 0.0);\n\n                }")}setUp(){const t=HA;this[t(243)](0,0),this[t(249)](1),super[t(261)]()}[zA(244)](){const t=zA,e=this.gl,r=this[t(275)];e[t(236)](r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e[t(270)](),s=e[t(245)](this[t(275)],t(240));e.uniform1i(s,0),e[t(265)](e[t(257)],n),e[t(256)](e[t(257)],i,e[t(246)]);let o=e.getAttribLocation(r,t(252));e[t(239)](o,2,e.FLOAT,!1,0,0),e[t(254)](o);let a=e[t(245)](r,t(268));e[t(259)](a,Date[t(262)]()%1e4),e[t(271)](e[t(272)]),e[t(250)](e[t(255)],this[t(269)][0]),e[t(267)](e[t(242)],0,4),e[t(250)](e[t(255)],null),e[t(264)](n),e[t(251)](null)}}const YA=["colorAttachments","uniform1f","setUp","RGBA","u_Sampler","COLOR_BUFFER_BIT","347100wWTtIm","CLAMP_TO_EDGE","blitFramebuffer","deleteBuffer","1IYCCaF","getAttribLocation","framebufferTexture2D","UNSIGNED_BYTE","ARRAY_BUFFER","enableVertexAttribArray","TEXTURE_WRAP_S","bindRenderbuffer","frameBufferFit","getExtension","renderbufferStorageMultisample","137296jHuHLN","texParameteri","program","createRenderbuffer","texSize","TEXTURE_MAG_FILTER","FRAMEBUFFER","_createProgram","render","activeTexture","bindFramebuffer","bindTexture","push","#version 300 es\n                precision highp float;\n                uniform sampler2D u_Sampler;\n                out vec4 outColor;\n                uniform float exposure;\n                void main(){\n                    const float gamma = 2.2;\n                    outColor = texelFetch(u_Sampler,ivec2(gl_FragCoord.xy),0);\n                    vec3 co=vec3(outColor.r,outColor.g,outColor.b);\n                    //vec3 mapped = co / (co + vec3(1.0));\n                    vec3 mapped = vec3(1.0) - exp(-co*exposure);\n                    // Gamma\n                    mapped = pow(mapped, vec3(1.0 / gamma));\n                    outColor = vec4(mapped, 1.0);\n                }","type","273lFjEnJ","createBuffer","TEXTURE_MIN_FILTER","frameBuffer","exposure","bufferData","addColorAttachment","bindBuffer","DRAW_FRAMEBUFFER","86248sCFEkK","a_Position","READ_FRAMEBUFFER","drawArrays","getUniformLocation","270697HvCquG","TEXTURE_2D","textureType","COLOR_ATTACHMENT0","COLOR","20030mldUhv","_exposure","NEAREST","FLOAT","RGBA8","createTexture","RENDERBUFFER","uniform1i","872430OrFBNw","2305LhkrNa"],$A=WA;!function(t,e){const r=WA;for(;;)try{if(343614===-parseInt(r(236))*-parseInt(r(211))+parseInt(r(216))+parseInt(r(206))+-parseInt(r(247))+parseInt(r(262))*parseInt(r(225))+parseInt(r(232))+-parseInt(r(224)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(YA);class XA extends Kx{constructor(t,e=1,r){const i=WA;super(t,e,r);let n=i(260);this.program=this[i(254)]("#version 300 es\n                in vec4 a_Position;\n                void main(){\n                    gl_Position = a_Position;\n                }",n),this[i(217)]=r[i(266)]}[$A(228)](){const t=$A;this[t(268)](1,0),this[t(268)](0,0),super[t(228)]()}[$A(268)](t=0,e=0){const r=$A,i=this.gl;if(0===t){let n=i[r(221)]();n[r(261)]=t,n[r(213)]=e,i.bindTexture(i[r(212)],n),0==e?i.texImage2D(i[r(212)],0,i[r(229)],this[r(251)][0],this[r(251)][1],0,i[r(229)],i[r(239)],null):1==e?(i[r(245)]("EXT_color_buffer_float"),i.texImage2D(i[r(212)],0,i.RGBA16F,this[r(251)][0],this.texSize[1],0,i[r(229)],i.FLOAT,null)):2==e&&i.texImage2D(i[r(212)],0,i.RGBA32F,this.texSize[0],this.texSize[1],0,i[r(229)],i.FLOAT,null),i[r(248)](i[r(212)],i[r(264)],i.LINEAR),i.texParameteri(i[r(212)],i[r(252)],i.LINEAR),i[r(248)](i[r(212)],i[r(242)],i[r(233)]),i[r(248)](i[r(212)],i.TEXTURE_WRAP_T,i[r(233)]),i[r(257)](i[r(253)],this[r(244)]),i[r(238)](i[r(253)],i[r(214)],i.TEXTURE_2D,n,0),this[r(226)][r(259)](n),i.bindTexture(i[r(212)],null),i[r(257)](i[r(253)],null)}else{let t=i[r(250)]();i[r(243)](i[r(222)],t),i[r(246)](i[r(222)],this._samples,i[r(220)],this[r(251)][0],this.texSize[1]),i.bindFramebuffer(i.FRAMEBUFFER,this[r(265)]),i.framebufferRenderbuffer(i[r(253)],i[r(214)],i[r(222)],t),this[r(226)][r(259)](t),i.bindFramebuffer(i[r(253)],null)}return this}[$A(255)](){const t=$A,e=this.gl;e[t(257)](e[t(253)],this[t(265)]),e.bindFramebuffer(e[t(208)],this[t(265)]),e[t(257)](e[t(205)],this[t(244)]),e.clearBufferfv(e[t(215)],0,[0,0,0,1]),e[t(234)](0,0,this[t(251)][0],this.texSize[1],0,0,this[t(251)][0],this[t(251)][1],e[t(231)],e[t(218)]),e[t(257)](e[t(253)],null);const r=this[t(249)];e.useProgram(r);let i=new Float32Array([-1,1,-1,-1,1,1,1,-1]),n=e[t(263)](),s=e[t(210)](this[t(249)],t(230));e[t(223)](s,0);let o=e[t(210)](this[t(249)],t(266));e[t(227)](o,this[t(217)]),e[t(204)](e[t(240)],n),e[t(267)](e[t(240)],i,e.STATIC_DRAW);let a=e[t(237)](r,t(207));e.vertexAttribPointer(a,2,e[t(219)],!1,0,0),e[t(241)](a),e[t(256)](e.TEXTURE0),e[t(258)](e[t(212)],this[t(226)][1]),e[t(209)](e.TRIANGLE_STRIP,0,4),e[t(235)](n)}}function WA(t,e){return YA[t-=204]}const ZA=["1206634tqMhlM","feature_vs","322834qGlkSZ","drawingBufferHeight","929231dbZRWL","createTexture","getTextFromFramebuffer","clear","351738IzlDBw","texImage2D","TEXTURE_2D","UNSIGNED_BYTE","get","886ocRoJB","a_Position","uniform1i","clearColor","enableVertexAttribArray","drawArrays","drawingBufferWidth","getAttribLocation","viewport","FLOAT","getVPMatrix","RGBA","bindBuffer","useProgram","17894WFPbAh","COLOR_BUFFER_BIT","bloom_vs","frameBuffer","NEAREST","_elements","bloom_fs","length","index","createBuffer","feature_fs","#version 300 es\n                uniform mat4 u_vpMatrix;\n                in vec3 a_position;\n                in vec4 a_color;\n                out vec4 v_color;\n                void main(){\n                    gl_Position = u_vpMatrix*vec4(a_position,1.0);\n                    v_color = a_color/255.0;\n                }","iResolution","READ_FRAMEBUFFER","FRAMEBUFFER","bindFramebuffer","TEXTURE_MAG_FILTER","active","features","a_Texcoord","setDepthAttachment","#version 300 es\n        in vec4 a_Position;\n        in vec2 a_Texcoord;\n        out vec2 v_uv;\n        void main(){\n            gl_Position = a_Position;\n            v_uv = a_Texcoord;\n        }","uniformMatrix4fv","ARRAY_BUFFER","getUniformLocation","BYTES_PER_ELEMENT","activeTexture","DRAW_FRAMEBUFFER","buffer","a_position","addColorAttachment","#version 300 es\n                precision mediump float;\n                in vec4 v_color;\n                out vec4 outColor;\n                void main(){\n                    outColor = v_color;\n                }","31hgfugi","createFramebuffer","setUp","COLOR","TEXTURE0","deleteFramebuffer","1ywVEzF","u_Sampler","TEXTURE_MIN_FILTER","COLOR_ATTACHMENT0","vertexAttribPointer","DEPTH_BUFFER_BIT","a_color","bufferData","bindTexture","323VUsnmd","1JlwEZD","ELEMENT_ARRAY_BUFFER","uniform2f","LINEAR","texParameteri","691405YHtgoM","STATIC_DRAW","render"],qA=JA;function JA(t,e){return ZA[t-=289]}!function(t,e){const r=JA;for(;;)try{if(501352===parseInt(r(365))*parseInt(r(343))-parseInt(r(363))+-parseInt(r(353))*parseInt(r(369))-parseInt(r(358))+parseInt(r(337))*-parseInt(r(305))+-parseInt(r(291))*-parseInt(r(352))+parseInt(r(361)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ZA);class KA extends Kx{constructor(t,e=0,r={}){const i=JA;super(t,e,r),this[i(362)]=i(316),this[i(315)]=i(336),this[i(307)]=i(326),this[i(311)]="#version 300 es\n                precision mediump float;\n\n                in vec2 v_uv;\n\n                uniform vec2   iResolution;\n                uniform sampler2D u_Sampler;\n                uniform sampler2D u_Sampler1;\n                out vec4 outColor;\n\n                vec3 saturate( vec3 v ) {\n                vec3 msat = vec3(.3,.3,.3);\n                float msdiv = .12;\n                float sv = dot(v,msat);\n                vec3 hs = v/sv*msdiv;\n                float ls = (1.-exp(-sv))*.9;\n                float s = 1.-exp(-sv*sv/10.);\n                vec3 hs2 = mix(hs,vec3(1),s);\n                return ls*hs2/mix(msdiv,1.,s);\n                }\n\n                float kernel(float x) {\n                return   abs(x) < 1.88 ? exp(-0.5*x*x/1.4) :\n                        abs(x) > 6.0 ? 1.35/abs(x*x*x) :\n                        ( exp(-0.5*x*x/1.4) + 2.7/abs(x*x*x) )/2.0;\n                }\n\n                vec4 old_bloom(sampler2D samp, float rmin, ivec2 i) {\n                    const int levels = 6;\n                    float scale = sqrt(rmin)/2.;\n                    scale = max(1.,scale);\n                    int lmin=max(0,int(log2(scale)));\n                    float r = ((scale/float(1<<lmin)))*2.;\n                    const int ri = 5;\n                    vec4 tsum = vec4(0.);\n                    for (int l=lmin; l<lmin+levels; l++) {\n                      for (int ix=-ri;ix<=ri;ix++) {\n                        for (int iy=-ri;iy<=ri;iy++) {\n                          ivec2 si = (i>>l)+ivec2(ix,iy);\n                          vec2 u = vec2((si<<l)-i)*exp2(-float(l))+vec2(.25,.5);\n                          float w = exp(-sqrt(dot(u,u)/(r*r)));\n                          tsum+=w*texelFetch(samp, si, l)*exp2(float(l)*-0.5);\n                        }\n                      }\n                    }\n                    return tsum/(r)/16.0;\n                  }\n\n                vec3 image( sampler2D  chan, vec2 uv, vec3 gain )\n                {\n                    vec3 v = pow(texture(chan, uv).rgb,vec3(2.2));\n                    v+=.1*old_bloom(chan, iResolution.y/100., ivec2(uv*iResolution.xy)).rgb;\n                // v*=gain;\n                    return v;\n                }\n\n                void main( )\n                {\n                    vec3 v = image(u_Sampler, v_uv, vec3(1.0));\n                    outColor = vec4(pow(v,vec3(1./2.2)),1.)+texture(u_Sampler1,v_uv)-texture(u_Sampler,v_uv) ;\n                }\n                ",this[i(323)]=r[i(323)]}setUp(){const t=JA;this[t(335)](0),this[t(325)](1),super[t(339)]()}getTextFromFramebuffer(t){const e=JA,r=this.gl;var i=r[e(338)](),n=r[e(366)]();return r[e(351)](r[e(371)],n),r.texParameteri(r.TEXTURE_2D,r[e(321)],r[e(356)]),r[e(357)](r[e(371)],r[e(345)],r[e(356)]),r[e(370)](r[e(371)],0,r[e(302)],r[e(297)],r[e(364)],0,r[e(302)],r[e(289)],null),r[e(351)](r.TEXTURE_2D,null),r[e(320)](r[e(319)],i),r.framebufferTexture2D(r[e(319)],r[e(346)],r.TEXTURE_2D,n,0),r[e(320)](r[e(319)],null),r.bindFramebuffer(r.READ_FRAMEBUFFER,t),r[e(320)](r.DRAW_FRAMEBUFFER,i),r.clearBufferfv(r[e(340)],0,[0,0,0,1]),r.blitFramebuffer(0,0,r[e(297)],r[e(364)],0,0,r.drawingBufferWidth,r[e(364)],r[e(306)],r[e(309)]),r[e(320)](r[e(318)],null),r[e(320)](r[e(332)],null),r[e(342)](i),n}[qA(360)](){const t=qA,e=this[t(367)](this.frameBuffer);this[t(322)]();const r=this.gl;let i=this._createProgram(this[t(362)],this[t(315)]);r[t(304)](i),r[t(299)](0,0,r[t(297)],r[t(364)]);const n=this._map[t(301)]()[t(310)];var s=r[t(329)](i,"u_vpMatrix");r[t(327)](s,!1,n);const o=r[t(328)],a=r[t(354)],h=r.STATIC_DRAW,l=this[t(323)][0][t(333)],c=new Float32Array(l.get("a_position")),u=new Float32Array(l.get(t(349))),p=new Uint8Array(l[t(290)](t(313))),f=l[t(290)]("mode")[0],g=r[t(314)](),d=r[t(314)](),_=r[t(314)]();r[t(303)](o,g),r[t(350)](o,c,h);let y=r[t(298)](i,t(334));r[t(347)](y,3,r.FLOAT,!1,0,0),r[t(295)](y),r[t(303)](o,_),r[t(350)](o,u,h);let m=r[t(298)](i,"a_color");r[t(347)](m,4,r.FLOAT,!1,0,0),r[t(295)](m),r[t(303)](a,d),r[t(350)](a,p,h),r[t(294)](0,0,0,1),r[t(368)](r[t(306)]|r[t(348)]),r.drawElements(f,p[t(312)],r[t(289)],0);const I=this[t(367)](this[t(308)]);i=this._createProgram(this.bloom_vs,this[t(311)]),r[t(304)](i);let x=new Float32Array([-1,1,0,1,-1,-1,0,0,1,1,1,1,1,-1,1,0]),v=r.createBuffer();r[t(303)](r[t(328)],v),r[t(350)](r.ARRAY_BUFFER,x,r[t(359)]);const b=x[t(330)];let w=r[t(298)](i,t(292));r.vertexAttribPointer(w,2,r.FLOAT,!1,4*b,0),r[t(295)](w);let T=r[t(298)](i,t(324));r[t(347)](T,2,r[t(300)],!1,4*b,2*b),r[t(295)](T),r[t(331)](r[t(341)]),r[t(351)](r[t(371)],I);let E=r[t(329)](i,t(344));r[t(293)](E,0),r[t(331)](r[t(341)]+1),r[t(351)](r[t(371)],e);let C=r[t(329)](i,"u_Sampler1");r[t(293)](C,1);let A=r[t(329)](i,t(317));r[t(355)](A,r[t(297)],r.drawingBufferHeight),r[t(368)](r[t(306)]|r[t(348)]),r[t(296)](r.TRIANGLE_STRIP,0,4)}}const QA=["STATIC_DRAW","getAttribLocation","vertexAttribPointer","drawArrays","519116kKIxyC","uniform1i","colorAttachments","1415877PklrBr","3467NFoKgP","1QknfuS","BYTES_PER_ELEMENT","277206IvsvZT","194xWVqdx","_color","setDepthAttachment","#version 300 es\n                precision mediump float;\n                in vec2 v_texCoord;\n                uniform sampler2D u_Sampler;\n                uniform float u_offsetX;\n                uniform float u_offsetY;\n                uniform vec4 u_color;\n                out vec4 outColor;\n\n                void main(){\n                    vec2 uv = v_texCoord;\n                    vec2 blurredUV = vec2(uv.x+u_offsetX,uv.y+u_offsetY);\n                    vec4 baseColor = vec4(texture(u_Sampler,uv).rgb,1);\n                    vec4 edges = 1.0 - (baseColor / vec4(texture(u_Sampler,blurredUV).rgb, 1)); //edges10\n                    //outColor = vec4(length(edges),length(edges),length(edges),1.0); //\n                    outColor = vec4(u_color.rgb*length(edges)/255.0,u_color.a);\n                }","TEXTURE_2D","43483gPVLrB","1UdakRa","FLOAT","a_Texcoord","_offset","TEXTURE0","8FhXigx","getUniformLocation","#version 300 es\n                in vec4 a_Position;\n                in vec2 a_Texcoord;\n                out vec2 v_texCoord;\n                void main(){\n                    gl_Position = a_Position;\n                    v_texCoord = a_Texcoord;\n                }","312826UhEBWq","u_offsetY","uniform1f","useProgram","a_Position","color","u_offsetX","toArray","createBuffer","ARRAY_BUFFER","941071klmSMI","u_color","disableVertexAttribArray","u_Sampler","program","TRIANGLE_STRIP","2IPIHfx","enableVertexAttribArray","bindVertexArray","_createProgram","uniform4f","setUp","bindTexture","render"];function tM(t,e){return QA[t-=372]}const eM=tM;!function(t,e){const r=tM;for(;;)try{if(586814===parseInt(r(377))*-parseInt(r(373))+-parseInt(r(391))*-parseInt(r(374))+-parseInt(r(388))*-parseInt(r(382))+parseInt(r(401))*parseInt(r(383))+parseInt(r(376))*parseInt(r(407))+parseInt(r(419))+-parseInt(r(372)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(QA);class rM extends Kx{constructor(t,e=0,r){const i=tM;super(t,e,r);let n=i(390),s=i(380);this.program=this[i(410)](n,s),this[i(386)]=r.offset||1,this[i(378)]=r[i(396)]?r.color[i(398)]():[1,1,1,1]}setUp(){const t=tM;this.addColorAttachment(0),this[t(379)](1),super[t(412)]()}[eM(414)](){const t=eM,e=this.gl,r=this.program;e[t(394)](r);let i=new Float32Array([-1,1,0,1,-1,-1,0,0,1,1,1,1,1,-1,1,0]);const n=this._map.getViewport();let s=e[t(399)]();e.bindBuffer(e[t(400)],s),e.bufferData(e.ARRAY_BUFFER,i,e[t(415)]);const o=i[t(375)];let a=e.getAttribLocation(r,t(395));e.vertexAttribPointer(a,2,e[t(384)],!1,4*o,0),e[t(408)](a);let h=e[t(416)](r,t(385));e[t(417)](h,2,e.FLOAT,!1,4*o,2*o),e.enableVertexAttribArray(h);let l=e[t(389)](this[t(405)],t(404));e[t(420)](l,0);let c=e.getUniformLocation(this.program,t(397));e[t(393)](c,this[t(386)]/n[2]);let u=e.getUniformLocation(this[t(405)],t(392));e.uniform1f(u,this[t(386)]/n[3]);let p=e[t(389)](this[t(405)],t(402));e[t(411)](p,...this[t(378)]),e.activeTexture(e[t(387)]),e[t(413)](e[t(381)],this[t(421)][0]),e[t(418)](e[t(406)],0,4),e[t(413)](e.TEXTURE_2D,null),e.deleteBuffer(s);for(let r=0;r<2;r++)e[t(403)](r);e[t(409)](null)}}var iM=["2waNyqY","136805oomEvF","405532zoCvKV","4761520gGVykD","915965YLFDTk","1206884ILTQyO","1xirxaE","1QUQtxL","2oqrZRa","753968LYnsWU","718411SIiLrL"];function nM(t,e){return iM[t-=468]}!function(t,e){for(var r=nM;;)try{if(628838===-parseInt(r(470))-parseInt(r(475))+parseInt(r(478))*-parseInt(r(476))+-parseInt(r(469))*parseInt(r(471))+-parseInt(r(472))*parseInt(r(474))+parseInt(r(477))*parseInt(r(473))+parseInt(r(468)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(iM);var sM=Object.freeze({__proto__:null,Frame:Kx,FrameHelper:eg,ConvoluteFrame:DC,HSVFrame:BC,GrayFrame:zC,RGBFrame:$C,PrintFrame:ZC,NegativeFrame:tA,HDRFrame:nA,BloomFrame:hA,CutoutFrame:dA,RollerFrame:xA,DistortFrame:pA,HeightFogFrame:LA,NoiseFrame:TA,SpreadFrame:NA,DepthBlurFrame:VA,LightningFrame:jA,MultiSampleFrame:XA,FeatureBloomFrame:KA,EdgeFrame:rM}),oM=["1FqcXyA","193JUossl","824198bcCwlD","1173760YhoEra","4279456ZDIgeY","814050MlCtwy","1852181MBhGDN","1MZPwwp","1042365PWsvvr","8309ZqCYuZ"];function aM(t,e){return oM[t-=270]}!function(t,e){for(var r=aM;;)try{if(944885===parseInt(r(271))+parseInt(r(276))*-parseInt(r(275))+-parseInt(r(274))*parseInt(r(278))+parseInt(r(273))+-parseInt(r(277))*parseInt(r(279))+-parseInt(r(270))+parseInt(r(272)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(oM);var hM=Object.freeze({__proto__:null,AF:T,TaskManager:t.TaskManager,painterType:t.painterType});const lM=["1840774lKQYNg","25pBvyNR","465565eGlwtW","EventType","1697838NCPReT","163TFlQBa","1699760bPiYKm","103kuZNQQ","70619merjIH","1322ACwkmt","3849YQlify"],cM=uM;function uM(t,e){return lM[t-=463]}!function(t,e){const r=uM;for(;;)try{if(997853===-parseInt(r(471))-parseInt(r(466))+parseInt(r(464))+-parseInt(r(467))*parseInt(r(465))+-parseInt(r(472))*parseInt(r(468))+-parseInt(r(473))+parseInt(r(469))*parseInt(r(470)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(lM),window.EventType=eC[cM(463)];let pM={Map:sg,initState:t.initState,feature:{Vector:t.Vector},basetype:kb,event:eC,frame:sM,style:Fa,geom:Ql,geomext:U_,control:wy,model:QI,format:Sx,layer:GE,proj:i,overlay:KE,util:Lm,core:hM,strategy:nC,light:aC,noise:PC,PerspectiveCamera:Sm};const fM=["2897371VmWWZp","128269QdtFpH","constructor","srid","_map","_srid","removeAll","124873NpGCDX","163FhUexk","deleteTexture","addMathCell","_objMap","degrees","_visibility","1885790GyeqnC","mapUnit","_setMap","_render","1InrmJe","_draw","_renderable","4PGTpqs","3TUyiPq","_geoLayer","getGeoLayer","destroy","getVisibility","_tickFrame","_mapUnit","get","_gl","_upFlag","_tex","createUnique","_drawFrame","hasOwnProperty","390249KSsTvC","_glStatus","415001onOWdk","getOwnPropertyNames","2ZcTzfO","getMathCellById","updateDrawData","_setGeoLayer","values","_drawData","757HuBJQX","_isRTE","name","4326","_isTex","map","delete","length","setVisibility","_id"],gM=dM;function dM(t,e){return fM[t-=407]}!function(t,e){const r=dM;for(;;)try{if(976086===parseInt(r(429))+parseInt(r(451))*parseInt(r(436))+parseInt(r(453))+parseInt(r(422))*-parseInt(r(455))+parseInt(r(416))*parseInt(r(437))+-parseInt(r(423))*parseInt(r(461))+parseInt(r(415))*-parseInt(r(433)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(fM);class _M{constructor(e={}){const r=dM;if(new.target===_M)throw new TypeError("The MathModel is an abstract class,and can not be instanced!");this[r(414)]=t.Aid[r(448)](this[r(417)][r(407)]),this._visibility=!e[r(450)]("visibility")||e.visibility,this._objMap=new Map,this[r(460)]=null,this._render=null,this[r(445)]=null,this[r(462)]=!1,this[r(435)]=!1,this[r(443)]=null,this[r(446)]={index:null,isChange:!1,update:null},this[r(452)]={},this[r(447)]=null,this[r(409)]=!1}_initRenderOpts(t,e){const r=dM;this[r(445)]=t,this[r(443)]=e[r(430)]?e.mapUnit:r(427),this[r(420)]=e[r(418)]?e[r(418)]:r(408),this._map=e[r(410)]}[gM(431)](t){this[gM(419)]=t}[gM(458)](t){this[gM(438)]=t}[gM(441)](){return this[gM(428)]}[gM(413)](t){this._visibility=!(0==t)}[gM(439)](){return this[gM(438)]}[gM(425)](t){}[gM(456)](t){const e=gM;return this[e(426)][e(444)](t)}getAllMathCells(){const t=gM;return[...this[t(426)][t(459)]()]}removeMathCellById(t){const e=gM;this[e(426)][e(411)](t)}[gM(421)](){this[gM(426)].clear()}isRenderable(){return this[gM(435)]}[gM(457)](){}[gM(440)](){const t=gM;(this[t(435)]||this._render)&&this[t(432)][t(440)](),this[t(447)]&&this[t(409)]&&this[t(445)][t(424)](this._tex);let e=Object[t(454)](this);for(let r=0,i=e[t(412)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this.__proto__=null}[gM(434)](){}_tick(){}[gM(442)](){}[gM(449)](){}}const yM=["121099MaaCDz","394139kpaxVg","_getUniforms","context lost,release brower resource and retry!","height","GeosolutionLayer","COLOR_BUFFER_BIT","json","_handleContextRestored","getAllMathModels","getLayerType","_textInfo","_modelData","getCrs","parameter must be instance of MathModel!","getSunlight","764634FNLorR","865202JtwZEy","static","flush","values","width","_drawFrame","texturePromise","_checkLost","texture","_enableLight","getMathModelById","clear","clientWidth","getViewMatrix","getViewport","push","img","911543VSPfXR","/chars.json","name","getFogDist","_handleTextSource","_isRTE","enableHashCode","get","getFogColor","_splitCameraPrecision","getTextureObject","_float32FromDouble64","src","_initRenderOpts","container","hasOwnProperty","getProjMatrix","_textUrl","_srid","preventDefault","constructor","enableLight","viewport","fontSize","1yOqdxn","anonymous","redraw","_static","_handleContextLost","783065AVkdpZ","textureId","draw","getUnit","getCamera","_setGeoLayer","getIntensity","_mapUnit","setMap","removeMathModelById","then","getVPMatrix","_draw","isRenderable","_staticDraw","getSrid","1080624BPuLGz","getNormalColorArr","_eyeY","delete","_tick","activeStatusManager","buffer","getDirection","getViewRotate","removeAllMathModels","_map","_camera","/chars.png","_tickFrame","textUrl","animateId","all","_visibility","_configContext"],mM=IM;function IM(t,e){return yM[t-=137]}!function(t,e){const r=IM;for(;;)try{if(578538===-parseInt(r(157))+parseInt(r(198))*parseInt(r(156))-parseInt(r(174))+parseInt(r(203))+parseInt(r(140))+-parseInt(r(141))+parseInt(r(219)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(yM);class xM extends Dt{constructor(t){const e=IM;super(t),this[e(152)]=new Map,t=t||{},this[e(201)]=!1!==t[e(158)]||t[e(158)],this[e(180)]=!!t[e(180)]&&t[e(180)],this[e(166)]=!t[e(189)]("enableLight")||t[e(195)],this[e(191)]=t[e(233)]?t[e(233)]:null,this.texturePromise=null}[mM(150)](){return Ot[mM(145)]}[mM(211)](t){const e=mM;super[e(211)](t),this[e(188)].height=this.container.clientHeight,this.container[e(161)]=this[e(188)][e(169)],this.gl[e(196)](0,0,this[e(188)][e(161)],this[e(188)].height),this[e(164)](),this._mapUnit=this[e(229)][e(153)]()[e(206)](),this[e(192)]=this[e(229)].getCrs()[e(218)](),this[e(230)]=this[e(229)].getCamera(),this[e(178)]()}[mM(178)](){const t=mM,e=this;if(e._textInfo={},null!==this[t(191)]){const r=this[t(191)]+t(175),i=this[t(191)]+t(231),n=fetch(r)[t(213)]((e=>e[t(147)]())).then((function(r){const i=t;e[i(151)][i(165)]=r[i(165)],e._textInfo.buffer=r[i(225)],e[i(151)][i(197)]=r[i(197)]})),s=new Promise(((r,n)=>{const s=t,o=new Image;o.onload=function(){const t=IM;e[t(151)][t(173)]=o,e[t(151)].w=o[t(161)],e[t(151)].h=o[t(144)],e._textInfo[t(204)]=i,r()},o.crossOrigin=s(199),o[s(186)]=i}));e[t(163)]=Promise[t(137)]([n,s])[t(213)]((function(){const r=t;Gt[r(181)](e.gl)[r(184)](i,0,{min_filter:"LINEAR"}).bufferImage(e._textInfo[r(173)],!0)}))}}addMathModel(t){const e=mM;if(!this.gl)throw Error("Please add this layer to map first!");if(!(t instanceof _M))throw TypeError(e(154));!t[e(216)]()&&t[e(187)](this.gl,{layer:this,isRTE:this[e(179)],mapUnit:this._mapUnit,srid:this._srid,camera:this[e(230)],map:this._map}),this._modelData.set(t._id,t),t[e(208)](this)}[mM(167)](t){const e=mM;return this[e(152)][e(181)](t)}getModelsByClassName(t){const e=mM;let r=[];for(const i of this[e(152)].values())i[e(194)][e(176)]===t&&r[e(172)](i);return r}[mM(149)](){return[...this._modelData.values()]}[mM(212)](t){const e=mM;let r=this[e(152)][e(181)](t);r&&r._setGeoLayer(null),this._modelData[e(222)](t),this[e(201)]&&this[e(200)]()}[mM(228)](){const t=mM;let e=this[t(149)]();for(let t of e)t._setGeoLayer(null);this[t(152)][t(168)](),this[t(201)]&&this[t(200)]()}redraw(){const t=mM;this[t(217)](),this._layerContainer[t(200)]()}[mM(205)](){this[mM(223)]()}_staticDraw(){const t=mM,e=this[t(142)]();this.gl[t(168)](this.gl[t(146)]|this.gl.DEPTH_BUFFER_BIT);for(const r of this[t(152)].values())this[t(224)](this.gl),this.gl.flush(),r[t(162)](e),this[t(224)](this.gl),this.gl[t(159)](),r[t(215)](e)}_tick(){const t=mM,e=this[t(142)]();for(let r of this[t(152)][t(160)]())r[t(138)]&&(this[t(224)](this.gl),this.gl[t(159)](),r[t(232)](e),this[t(224)](this.gl),this.gl[t(159)](),r._tick(e))}[mM(142)](){const t=mM,e=this._map[t(166)],r=this._map[t(155)](),i=this[t(229)][t(171)]();return{u_viewport:[i[2],i[3]],u_vpMatrix:this[t(229)][t(214)](),u_ifRTE:this[t(179)],u_mvMatrix:this._map[t(170)](),u_projMatrix:this[t(229)][t(190)](),u_camera:this[t(183)](this[t(210)]),u_res:this._isRTE?this[t(185)](this[t(229)].getResolution()):[this[t(229)].getResolution(),0],u_fogColor:this[t(229)][t(182)](),u_fogDist:this[t(229)][t(177)](),u_unit:"m"===this[t(210)],u_cameraP:[this[t(230)]._eyeX,this[t(230)][t(221)],this._camera._eyeZ],u_viewRMatrix:this[t(230)][t(227)](),u_enableLight:e&&this[t(166)],u_lightDirection:r[t(226)](),u_lightColor:r[t(220)](),u_intensity:r[t(209)](),u_logDepthFunc:2/(Math.log(this[t(229)][t(207)]().getFPlaneDistance()+1)/Math.LN2)}}[mM(202)](t){const e=mM;throw t[e(193)](),cancelAnimationFrame(this[e(234)]),new Error(e(143))}[mM(148)](){const t=mM;this[t(139)]();for(let e of this._modelData[t(160)]())e[t(187)](this.gl,{isRTE:this[t(179)],mapUnit:this._mapUnit,srid:this._srid});this[t(200)]()}}const vM=["getOwnPropertyNames","_color0","866569SqDSpg","sin","2056521kTizEB","colorB","setText","getText","1017943IfzhOb","30fBTlPw","POSITIVE_INFINITY","_color1","35257XVTnIH","rayIntersectTriangle","name","_id","length","_value","distanceToCamera","195736uwpiNZ","intersectRay","495273mCxjaY","_center","getOrdinate","toUint8Array","_textStyle","cos","188514sRkNvo","push","setColor","2YPZDrB","destroy","textStyle","intersectCoordinate","set","createUnique"],bM=TM;!function(t,e){const r=TM;for(;;)try{if(769946===parseInt(r(473))+parseInt(r(497))*-parseInt(r(464))+parseInt(r(490))+-parseInt(r(496))+-parseInt(r(479))*parseInt(r(482))+-parseInt(r(471))+parseInt(r(492)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(vM);class wM{constructor(e,r,i){const n=TM;this[n(467)]=t.Aid[n(487)](this.constructor[n(466)]),this._center=[e[n(475)]("X"),e.getOrdinate("Y"),e.getOrdinate("Z")],this[n(469)]=r>=0?r:0;const s=(i=i||{})[n(493)]?i[n(493)]:new t.Color(255,0,0,1);this[n(489)]=s[n(476)]();const o=i.colorT?i.colorT:s;this._color1=o[n(476)](),this[n(477)]=i.hasOwnProperty("textStyle")?i[n(484)]:null}[bM(494)](t){this[bM(477)]=t||null}[bM(495)](){return this._textStyle}getId(){return this[bM(467)]}[bM(481)](t,e=!1){const r=bM;e?this[r(499)]=t[r(476)]():this[r(489)]=t[r(476)]()}[bM(483)](){let t=Object[bM(488)](this);for(let e=0,r=t.length;e<r;e++){const r=t[e];this[r]=null,delete this[r]}}[bM(472)](e,r,i,n,s,o){const a=bM;let h=[],l=[],c=[];const u=i*this._value/r;h.push(this[a(474)][0],this[a(474)][1],u);const p=Math[a(478)](0)*s+this._center[0],f=Math[a(491)](0)*s+this[a(474)][1];h[a(480)](p,f,0,p,f,u);for(let t=1;t<=n;t++){const e=2*Math.PI/n*t,r=Math[a(478)](e)*s+this._center[0],i=Math[a(491)](e)*s+this[a(474)][1];h[a(480)](r,i,0,r,i,u),l[a(480)](2*t+2,0,2*t),c[a(480)](2*t-1,2*t+1,2*t,2*t,2*t+1,2*t+2)}const g=[...l,...c];let d=Number[a(498)],_=null,y=new t.Vector3,m=new t.Vector3,I=new t.Vector3;for(let r=0,i=g[a(468)];r<i-1;r+=3){let i=g[r];y[a(486)](h[3*i],h[3*i+1],h[3*i+2]),i=g[r+1],m[a(486)](h[3*i],h[3*i+1],h[3*i+2]),i=g[r+2],I[a(486)](h[3*i],h[3*i+1],h[3*i+2]);let n=[y,m,I],s=t.Intersect3D[a(465)](e,n);if(s){let t=e[a(470)](s);t<d&&(_=s,d=t)}}return!!_&&(o[a(485)]=_,o[a(470)]=d,!0)}}function TM(t,e){return vM[t-=464]}const EM=["positions","_texRange","_coordSeq","imageSrc","getOrdinate","float32FromDouble64","texRange","getOwnPropertyNames","colorT","844891JcUaHo","734126XPghpv","sqrt","uvs","push","side","processData","colorB","hmap.geosolution.cell.EleWall:coordinates count of parameter 'coordSeq' must more than 1","2203247OUpUzA","_color1","hmap.geosolution.cell.EleWall:parameter 'coordSeq' format must be CoordSeq!","_height","hmap.geosolution.cell.EleWall:parameter 'colorT' format must be instance of hmap.style.Color!","getCoordCount","destroy","extractCoords","_coordsToXYZs","_translateTo64","dataMap","speed","height","createUnique","length","947143gzqvhO","indices","10119wMNiwr","uvOffset","5CQWCCa","_colorArr0","hmap.geosolution.cell.EleWall:parameter 'colorB' format must be instance of hmap.style.Color!","6ZPNPOc","ifAnimate","754536PrBRLg","toNormalizeArray","4326","_color0","texSpace","_id","getId","dataReady","1iuJfaQ","18307XSDBdJ","_imageSrc","_colorArr1","hasOwnProperty","constructor"],CM=AM;function AM(t,e){return EM[t-=354]}!function(t,e){const r=AM;for(;;)try{if(847658===parseInt(r(401))*parseInt(r(387))+-parseInt(r(359))*parseInt(r(400))+parseInt(r(390))*-parseInt(r(385))+parseInt(r(383))+-parseInt(r(392))+-parseInt(r(360))+parseInt(r(368)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(EM);class MM{constructor(e={}){const r=AM;this[r(397)]=t.Aid[r(381)](this[r(405)].name),this[r(408)]=e.coordSeq,this[r(371)]=e.height>0?e[r(380)]:.01,this[r(395)]=e[r(366)]?e[r(366)]:new t.Color(255,255,255,1),this[r(369)]=e[r(358)]?e[r(358)]:this[r(395)],this[r(402)]=e.imageSrc?e[r(409)]:null,this[r(407)]=e.texRange?e[r(356)]:[this[r(371)],this._height],this._texSpace=e[r(396)]?e[r(396)]:[0,0],this[r(391)]=!!e[r(404)](r(391))&&e.ifAnimate,this.speed=e[r(404)](r(379))?e.speed:[5,0],this[r(386)]=[0,0],this[r(399)]=!1,this._init()}_init(){const e=AM;if(!(this._color0 instanceof t.Color))throw TypeError(e(389));if(this[e(388)]=this[e(395)][e(393)](),!(this._color1 instanceof t.Color))throw TypeError(e(372));if(this[e(403)]=this[e(369)][e(393)](),!(this[e(408)]instanceof t.CoordSeq))throw TypeError(e(370));if(this[e(408)][e(373)]()<2)throw RangeError(e(367));let r=this[e(408)][e(375)]();this[e(406)]=this[e(376)](r)}[CM(398)](){return this[CM(397)]}_coordsToXYZs(t){const e=CM;let r=[];for(let i=0;i<t[e(382)];i++){const n=t[i],s=n[e(354)]("X"),o=n[e(354)]("Y"),a=n[e(354)]("Z");r[e(363)](s,o,a),r.push(s,o,a)}return r}[CM(365)](t,e="degrees",r=CM(394)){const i=CM;let n=this.positions[i(382)]/6;this[i(364)]=[],this[i(384)]=[],this[i(362)]=[];for(let t=0;t<n;t++)this[i(364)][i(363)](0),this.side[i(363)](1);for(let t=0;t<n-1;t++){let e=2*t;this[i(384)][i(363)](e,e+1,e+2),this[i(384)][i(363)](e+2,e+1,e+3)}let s=0;for(let t=0;t<n;t++){let e,r,n;0==t?(e=this[i(406)][6*t],r=this.positions[6*t+1],n=this[i(406)][6*t+2]):(e=this[i(406)][6*(t-1)],r=this.positions[6*(t-1)+1],n=this[i(406)][6*(t-1)+2]);let o=this[i(406)][6*t],a=this[i(406)][6*t+1],h=this[i(406)][6*t+2];s+=Math[i(361)]((e-o)*(e-o)+(r-a)*(r-a)+(n-h)*(n-h)),this[i(362)][i(363)](s,0),this[i(362)].push(s,this[i(371)])}t&&(this[i(406)]=this[i(377)](this[i(406)],e)),this[i(378)]={positions:this.positions,side:this.side,uvs:this[i(362)],indices:this[i(384)]},this[i(399)]=!0}[CM(377)](t,e){const r=CM,i=t[r(382)]/3,n=[];for(let s=0;s<i;s++){const i=Pt[r(355)](t[3*s],e),o=Pt[r(355)](t[3*s+1],e),a=Pt[r(355)](t[3*s+2],e);n.push(i[0],o[0],a[0],i[1],o[1],a[1])}return n}[CM(374)](){let t=Object[CM(357)](this);for(let e=0,r=t.length;e<r;e++){const r=t[e];this[r]=null,delete this[r]}}}const SM=["minSize","getOrdinate","center","constructor","_freq","867765zwKUsR","_maxSize","271551Xqpqvj","230358nzfXDB","createUnique","_threshold","name","3AvWkIo","_id","_color","maxSize","_startTime","1315510XpEPHL","toUint8Array","freq","_size","getOwnPropertyNames","_center","destroy","threshold","484238OmEjCt","2976275syKxNw","1386617WrPdts","getId"],PM=RM;function RM(t,e){return SM[t-=465]}!function(t,e){const r=RM;for(;;)try{if(812710===-parseInt(r(473))+parseInt(r(466))+parseInt(r(480))*parseInt(r(493))+parseInt(r(485))+parseInt(r(475))+parseInt(r(476))+-parseInt(r(465)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(SM);class LM{constructor(e){const r=RM;this[r(481)]=t.Aid[r(477)](this[r(471)][r(479)]);const i=e.center?e[r(470)]:new t.Coordinate;this[r(490)]=[i[r(469)]("X"),i[r(469)]("Y"),i.getOrdinate("Z")];const n=e.color?e.color:new t.Color(255,0,0,1);this[r(482)]=n[r(486)](),this[r(488)]=e[r(468)]>=0?e.minSize:1,this[r(474)]=e[r(483)]>0?e[r(483)]:this[r(488)],this[r(472)]=e[r(487)]>0?e.freq:3e3,this[r(478)]=e[r(492)]?e[r(492)]:[.2,.4,.6,.8],this[r(484)]=null}[PM(467)](){return this._id}[PM(491)](){let t=Object[PM(489)](this);for(let e=0,r=t.length;e<r;e++){const r=t[e];this[r]=null,delete this[r]}}}const FM=["_translateTo64","1206474DUsLUW","extendExtent","float32FromDouble64","coordSeqs","1811397fwVPYb","720283ZHTxtz","427183RyRnxl","length","push","dataReady","5BEQOnY","a_position","27129TBEqOD","1655375vXmfTQ","destroy","359928moOqTD","_id","23szYqLY","1DnFwxV"],DM=OM;function OM(t,e){return FM[t-=291]}!function(t,e){const r=OM;for(;;)try{if(960643===parseInt(r(302))+-parseInt(r(300))+parseInt(r(301))*parseInt(r(294))+parseInt(r(291))*parseInt(r(306))+parseInt(r(309))+-parseInt(r(293))*parseInt(r(308))+-parseInt(r(296)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(FM);class NM{constructor(e={}){const r=OM;this[r(292)]=t.Aid.createUnique(this.constructor.name),this.coordSeqs=e[r(299)],this[r(305)]=!1}getId(){return this[OM(292)]}processData(t,e){const r=OM;let i;for(let t of this[r(299)]){let e=t.getExtent();i=i?i[r(297)](e):e}let n=Rh(this[r(299)]),s=n[r(307)],o=n.index,a=n.positionCount;t&&(s=this[r(295)](s,e)),this.dataMap={positions:s,indices:o,positionCount:a,extent:i},this[r(305)]=!0}_translateTo64(t,e){const r=OM,i=t[r(303)]/3,n=[];for(let s=0;s<i;s++){const i=Pt.float32FromDouble64(t[3*s],e),o=Pt[r(298)](t[3*s+1],e),a=Pt.float32FromDouble64(t[3*s+2],e);n[r(304)](i[0],o[0],a[0],i[1],o[1],a[1])}return n}[DM(310)](){const t=DM;let e=Object.getOwnPropertyNames(this);for(let r=0,i=e[t(303)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const BM=["1jpQwrz","24040tkygyS","applyForce","position","192179mAIVHK","updatePosition","inertiaForce","velocity","9829dxdDrR","coordArr","init","destroy","isActive","1489jEvoEg","2zmBcJq","40003iAWOUq","83805dZONWa","applyInertia","inactivate","getOwnPropertyNames","acceleration","214942OalZAo"],UM=kM;function kM(t,e){return BM[t-=341]}!function(t,e){const r=kM;for(;;)try{if(118234===-parseInt(r(355))+parseInt(r(357))+parseInt(r(350))+parseInt(r(360))*parseInt(r(356))+parseInt(r(347))*parseInt(r(348))+parseInt(r(349))+-parseInt(r(342)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(BM);class VM{constructor(t){const e=kM;this[e(359)]=t[e(343)],this[e(341)]=this[e(359)],this[e(354)]=[0,0,0],this.speed=0,this[e(362)]=[0,0,0],this[e(346)]=!1}[UM(344)](t){const e=UM;this[e(341)]=this[e(359)]=t,this[e(354)]=[0,0,0]}[UM(361)](){const t=UM;let e=this[t(341)],r=this[t(354)];this[t(341)]=[e[0]+r[0],e[1]+r[1],e[2]+r[2]],this.position=this[t(341)]}[UM(358)](t){let e=this[UM(354)];this.acceleration=[e[0]+t[0],e[1]+t[1],e[2]+t[2]]}[UM(351)](){const t=UM;let e=this[t(341)],r=this[t(362)];this[t(341)]=[e[0]+r[0],e[1]+r[1],e[2]+r[2]]}[UM(352)](){this[UM(346)]=!1}activate(){this[UM(346)]=!0}[UM(345)](){let t=Object[UM(353)](this);for(let e=0,r=t.length;e<r;e++){const r=t[e];this[r]=null,delete this[r]}}}const GM=["iconUrl","normalColorArr","758282AVryjG","float32FromDouble64","_left","hasOwnProperty","constructor","_getCoordArray","_initParticleParam","1213340waWhEe","_right","random","origination","11238czQpbO","endOpacity","_bottom","originForce","_init","resetByMapUnit","sqrt","getCoordSeqs","resetByUnit","log","gravity","_initMover","name","_id","fps","positions","destination","132965lfNACC","cos","endRadius","getOrdinate","initForce","dataMap","blendMode","787739oUPMOJ","color","floor","getExtent","getOwnPropertyNames","pointNum","controlNum","degrees","7379SCacss","destroy","getPoints","push","scale","fill","inertia","opacity","needLoop","_getDegree","95WpcQyK","toArray","_getRandomInt","726491UMqpBZ","length","2KwhZYO","intersectsGeometry","movers","getCoordinate","forceScale","offsetIndex","_initDataMap","_getRadian","radius","position","getId","_getSpherical","_top"],zM=jM;!function(t,e){const r=jM;for(;;)try{if(939374===-parseInt(r(520))+-parseInt(r(543))*parseInt(r(496))-parseInt(r(485))+parseInt(r(528))*parseInt(r(538))+parseInt(r(492))+-parseInt(r(513))+parseInt(r(541)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(GM);class HM{constructor(e={}){const r=jM;this[r(509)]=t.Aid.createUnique(this[r(489)][r(508)]),this[r(495)]=e[r(495)],this.destination=e[r(512)],this[r(534)]=e[r(534)]?e[r(534)]:[0,0,0],this[r(506)]=e.gravity?e[r(506)]:[0,0,0],this[r(521)]=e[r(521)],this[r(483)]=e[r(483)]?e[r(483)]:null,this[r(519)]=e[r(519)]?e[r(519)]:"additive",this.radius=e[r(478)]&&e.radius>0?e.radius:10,this.endRadius=e.endRadius&&e.endRadius>0?e[r(515)]:0,this[r(535)]=e[r(535)]&&e[r(535)]>0?e[r(535)]:1,this[r(497)]=e[r(497)]&&e[r(497)]>0?e[r(497)]:0,this[r(525)]=e.pointNum&&e[r(525)]>0?e[r(525)]:100,this.controlNum=e[r(526)]&&e.controlNum>0?e.controlNum:2,this[r(547)]=e.forceScale?e[r(547)]:[1,1,1],this.scale=e[r(488)](r(532))&&e[r(532)]>0?e.scale:1,this[r(536)]=null==e[r(536)]||null==e[r(536)]||e.needLoop,this[r(510)]=60,this.offsetTimes=0,this[r(545)]=[],this.resetByUnit=!1,this[r(500)]()}_init(){const t=jM;this[t(491)](),this[t(507)](),this._initDataMap()}[zM(476)](){const t=zM,e=[],r=[],i=[];let n=this[t(545)];for(let s of n)e[t(531)](...s[t(479)]),r.push(...s[t(517)]),i.push(s[t(475)]);this[t(518)]={positions:e,originForce:r,offsetIndex:i,positionCount:e.length/3}}[zM(501)](e,r){const i=zM;let n=1;if(e==i(527))n=1/(6378137*Math.PI*2/360);else{let t=6378137*Math.PI*2/360,e=this[i(518)][i(499)];for(let r=0;r<e[i(542)]/3;r++)e[3*r]*=t,e[3*r+1]*=t,e[3*r+2]*=t}if(this.radius*=n,this[i(515)]*=n,this[i(506)][0]*=n,this.gravity[1]*=n,this[i(506)][2]*=n,this[i(495)]instanceof t.Line||this.origination instanceof t.Polygon||!this[i(512)])this[i(534)][0]*=n,this.inertia[1]*=n,this[i(534)][2]*=n;else{const t=this[i(495)][i(546)](),e=this[i(512)][i(546)]();let r=e.getOrdinate("X")-t[i(516)]("X"),s=e[i(516)]("Y")-t[i(516)]("Y");const o=this[i(525)],a=this.controlNum;let h=Math[i(522)](o/a),l=t[i(516)]("Z");let c=((e[i(516)]("Z")-l)*n-this.gravity[2]*h*h/2)/h;this[i(534)]=[r/h,s/h,c]}if(r){const t=this[i(518)][i(511)],r=[];for(let n=0;n<t[i(542)]/3;n++){const s=Pt.float32FromDouble64(t[3*n+0],e),o=Pt[i(486)](t[3*n+1],e),a=Pt[i(486)](t[3*n+2],e);r.push(s[0],o[0],a[0],s[1],o[1],a[1])}this[i(518)].positions=r}this[i(504)]=!0}[zM(491)](){const e=zM;if(!(this[e(495)]instanceof t.Point||this[e(495)]instanceof t.Line||this[e(495)]instanceof t.Polygon))throw TypeError("parameter 'origination' must be instance of Point or Line or Polygon!");if(this[e(512)]&&!(this[e(512)]instanceof t.Point))throw TypeError("parameter 'destination' must be instance of Point!");const r=this[e(532)],i=this.fps,n=this[e(495)],s=this[e(512)];if(this[e(495)]instanceof t.Line||this[e(495)]instanceof t.Polygon||!s)this.gravity[0]*=r/i,this[e(506)][1]*=r/i,this[e(506)][2]*=r/i,this.inertia[0]*=r/i,this[e(534)][1]*=r/i,this[e(534)][2]*=r/i;else{this[e(506)][0]*=1/i,this.gravity[1]*=1/i,this[e(506)][2]*=1/i;let t=n.getCoordinate(),r=s[e(546)](),o=r[e(516)]("X")-t[e(516)]("X"),a=r.getOrdinate("Y")-t[e(516)]("Y");const h=this[e(525)],l=this.controlNum;let c=Math.floor(h/l),u=t.getOrdinate("Z");let p=(r[e(516)]("Z")-u-this.gravity[2]*c*c/2)/c;this.inertia=[o/c,a/c,p]}const o=this[e(521)][e(539)]();this[e(484)]=[o[0]/255,o[1]/255,o[2]/255,o[3]]}_initMover(){const t=zM;let e=this[t(532)],r=this.forceScale;this[t(512)]&&(e=1);let i=this[t(490)]();for(let n=0;n<this[t(525)];n++){const s=new VM({coordArr:i[n]});this[t(545)][t(531)](s);const o=this[t(477)](Math[t(505)](this._getRandomInt(200,256))/Math[t(505)](256)*270),a=this[t(477)](this[t(540)](0,360)),h=this[t(481)](o,a,15e-6);s[t(517)]=[h[0]*r[0]*e,h[1]*r[1]*e,.5*(h[0]+h[1])*r[2]*e],s.offsetIndex=Math[t(522)](n/this[t(526)])}}[zM(490)](){const e=zM;let r,i=this[e(495)],n=this.pointNum;if(i instanceof t.Point){let t=i[e(546)](),s=[t.getOrdinate("X"),t[e(516)]("Y"),t.getOrdinate("Z")];r=new Array(n)[e(533)](s)}else if(i instanceof t.Line){let t=i[e(530)](),s=0,o=[],a=[];for(let r=0;r<t[e(542)];r++){let i=t[r].getCoordinate(),n=i.getOrdinate("X"),h=i[e(516)]("Y"),l=i.getOrdinate("Z");a[e(531)]([n,h,l]);let c=t[r-1];t[r];let u=0;if(c){let t=c[e(546)](),r=t[e(516)]("X"),i=t[e(516)]("Y"),s=t.getOrdinate("Z");u=Math[e(502)]((n-r)*(n-r)+(h-i)*(h-i)+(l-s)*(l-s))}s+=u,o[e(531)](s)}let h=[];for(let t=0;t<n;t++){let t=Math[e(494)]()*s;for(let r=0;r<o[e(542)];r++){let i=o[r],n=o[r+1];if(t>=i&&t<n){let n=t-i;h[e(531)]([a[r][0]+n/(o[r+1]-o[r])*(a[r+1][0]-a[r][0]),a[r][1]+n/(o[r+1]-o[r])*(a[r+1][1]-a[r][1]),a[r][2]+n/(o[r+1]-o[r])*(a[r+1][2]-a[r][2])])}}}r=h}else if(i instanceof t.Polygon){let s=i[e(523)](),o=s[e(487)],a=s[e(493)],h=s[e(482)],l=s[e(498)],c=i[e(503)]()[0][e(546)](0)[e(516)]("Z"),u=[];for(;u[e(542)]<n;){let r=new t.Coordinate(o+Math[e(494)]()*(a-o),l+Math[e(494)]()*(h-l),c);new t.Point(r)[e(544)](i)&&u[e(531)]([r[e(516)]("X"),r[e(516)]("Y"),r.getOrdinate("Z")])}r=u}return r}[zM(540)](t,e){const r=zM;return Math[r(522)](Math[r(494)]()*(e-t))+t}[zM(537)](t){return t/Math.PI*180}_getRadian(t){return t*Math.PI/180}_getSpherical(t,e,r){const i=zM;return[Math[i(514)](t)*Math.cos(e)*r,Math[i(514)](t)*Math.sin(e)*r,Math.sin(t)*r]}[zM(480)](){return this._id}[zM(529)](){let t=Object[zM(524)](this);for(let e=0,r=t.length;e<r;e++){const r=t[e];this[r]=null,delete this[r]}}}function jM(t,e){return GM[t-=475]}const YM=["372630UEzdbe","2hUTjQM","offsetTimes","getId","4JeMOOq","1NXPqgE","47boqBPI","81078zQLJeT","_id","origination","destroy","scale","getOwnPropertyNames","61931jDSSpM","14215oBphrP","length","803431JqgKdg","427474BpkENt","112444JaFXXs"],$M=XM;function XM(t,e){return YM[t-=234]}!function(t,e){const r=XM;for(;;)try{if(472016===parseInt(r(239))+-parseInt(r(249))+-parseInt(r(237))*parseInt(r(248))+parseInt(r(246))*parseInt(r(236))+parseInt(r(242))+-parseInt(r(241))*-parseInt(r(243))+-parseInt(r(240))*parseInt(r(247)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(YM);class WM extends HM{constructor(e={}){const r=XM;super({origination:e[r(251)],destination:null,inertia:[0,0,0],gravity:[0,0,2.5],color:new t.Color(255,82,31,1),opacity:.4,endOpacity:.4,radius:30,endRadius:30,pointNum:100,controlNum:2,forceScale:[1.5,1.5,0],scale:e.hasOwnProperty(r(234))&&e[r(234)]>0?e[r(234)]:1}),this[r(244)]=0,this.movers=[]}[$M(245)](){return this[$M(250)]}[$M(252)](){const t=$M;let e=Object[t(235)](this);for(let r=0,i=e[t(238)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const ZM=["_init","coordinates count after simplify must more than 1","name","destroy","data","processData","fill","869qQSCVe","ceil","1NseRUD","coordsArray","color","208EmUbOx","getOrdinate","66531QTtpmu","speed","frameDelay","coordSeq","_speed","coordSeq format must be instance of CoordSeq!","188588mlUeMn","createUnique","delay","normalColors","486491vOCNgH","_color","7TRPIjI","getId","get3Dist","length","push","_id","getOwnPropertyNames","getCoordCount","191942qJHrBt","_initFlow","dataReady","13197xwaZck","7583stuhss","format of parameter 'color' must be an instance of Color!","fps","drawPointNum","_length"],qM=JM;function JM(t,e){return ZM[t-=155]}!function(t,e){const r=JM;for(;;)try{if(120220===parseInt(r(172))*-parseInt(r(158))+parseInt(r(175))*parseInt(r(170))+-parseInt(r(189))*parseInt(r(157))-parseInt(r(183))-parseInt(r(177))-parseInt(r(197))+parseInt(r(187)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ZM);class KM{constructor(e){const r=JM;this[r(194)]=t.Aid[r(184)](this.constructor[r(165)]),this.coordSeq=e[r(180)],this._speed=e[r(178)]&&e.speed>0?e[r(178)]:20,this.fps=e[r(160)]&&e[r(160)]>0?e.fps:30,this[r(162)]=e[r(192)]&&e[r(192)]>0?e[r(192)]:50,this[r(188)]=e[r(174)]?e[r(174)]:new t.Color(240,141,65,1),this[r(185)]=e.hasOwnProperty(r(185))?e[r(185)]:0,this[r(156)]=!1,this[r(163)]()}[qM(163)](){this[qM(155)]()}[qM(168)](t){const e=qM,r=this[e(173)],i=this[e(181)]/this[e(160)],n=this._length,s=this[e(186)],o=Math[e(171)](n/i);let a=[],h=[],l=[],c=[],u=[],p=[],f=0,g=0;for(let n=1;n<r[e(192)];n++){let o=r[n],d=r[n-1];a.push([d[e(176)]("X"),d[e(176)]("Y"),d.getOrdinate("Z")]),a[e(193)]([o.getOrdinate("X"),o[e(176)]("Y"),o[e(176)]("Z")]),h.push(...s),h.push(...s);let _=Math[e(171)](o[e(191)](d,t)/i);l[e(193)](f),l[e(193)](f),c[e(193)](f),f+=_,c.push(f),u[e(193)](f),u.push(f);const y=[(o.getOrdinate("X")-d[e(176)]("X"))/_,(o[e(176)]("Y")-d[e(176)]("Y"))/_,(o[e(176)]("Z")-d.getOrdinate("Z"))/_];p.push(...y),p.push(...y),g+=2}let d=new Array(g)[e(169)](o),_=new Array(g)[e(169)](f);this[e(161)]=g,this[e(167)]={positions:a,colors:h,prevFrameNums:l,currFrameNums:c,nextFrameNums:u,routeFrameSums:_,selfFrameSums:d,offsetPerFrames:p},this.dataReady=!0}[qM(155)](){const e=qM;if(!(this[e(180)]instanceof t.CoordSeq))throw TypeError(e(182));if(this[e(180)][e(196)]()<2)throw e(164);if(this[e(173)]=this[e(180)].extractCoords(),!(this[e(188)]instanceof t.Color))throw TypeError(e(159));const r=this[e(188)].toArray();this[e(186)]=[r[0]/255,r[1]/255,r[2]/255,r[3]],this[e(179)]=this[e(185)]*this[e(160)]/1e3}[qM(190)](){return this[qM(194)]}[qM(166)](){const t=qM;let e=Object[t(195)](this);for(let r=0,i=e[t(192)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const QM=["a_normal","substract","1TeAIWC","a_color","coordSeq must be instance of CoordSeq!","a_positionL","constructor","createUnique","getElements","87083PnrlYD","toNormalizeArray","isFinite","miniHeight","getOwnPropertyNames","name","cross","651453ttNefn","_current","maxHeight","getBottom","594747FxUvDV","_colorArr","startColor","_segmentArr","float32FromDouble64","_calculateVertex","_createNormal","_gridSize","reduce","_id","_maxHeight","159843tfAZnv","options.maxHeight must be a positive number greater than options.miniHeight!","getExtent","8ZWQEpD","length","_gap","getId","_coordseq","_miniHeight","forEach","options.gridSpace must be a number between 0 and 1!","count","options.miniHeight must be a positive number!","value","a_positionH","options.gridSize must be a positive number","gridSpace","getLeft","colorArr must be a type of Array","getCoordCount","getCoordinate","ceil","_gridSpace","splice","divideScalar","172151iAvIvq","split","145302evPgvV","a_indices","_getColor","destroy","from","sqrt","push","4283HQSAgr","max"];function tS(t,e){return QM[t-=260]}const eS=tS;!function(t,e){const r=tS;for(;;)try{if(396209===-parseInt(r(276))+parseInt(r(301))+parseInt(r(316))+parseInt(r(283))+parseInt(r(305))+-parseInt(r(287))*parseInt(r(274))+parseInt(r(294))*-parseInt(r(319)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(QM);class rS{constructor(e,r,i,n){const s=tS;if(this[s(314)]=t.Aid[s(292)](this[s(291)][s(299)]),!(e instanceof t.CoordSeq))throw new Error(s(289));if(this[s(323)]=e,!(r&&Number.isFinite(r)&&r>=0))throw new Error(s(264));if(this[s(312)]=r,!(i instanceof Array))throw new Error(s(267));if(i[s(325)]((e=>{if(!e instanceof t.Color)throw new Error("colorArr must be a array of Color instance!")})),this._colorArr=i,n[s(265)]&&(!Number[s(296)](n[s(265)])||n[s(265)]<0||n.gridSpace>1))throw new Error(s(326));if(this[s(271)]=void 0!==n[s(265)]?n[s(265)]:.2,this.a_position=[],this[s(263)]=[],this[s(290)]=[],this[s(288)]=[],this[s(285)]=[],this[s(277)]=[],n[s(297)]&&(!Number.isFinite(n[s(297)])||n[s(297)]<=0))throw new Error(s(261));if(this._miniHeight=void 0!==n[s(297)]?n.miniHeight:1e-5,n[s(303)]&&(!Number[s(296)](n[s(303)])||n[s(303)]<=0||n[s(303)]<=this._miniHeight))throw new Error(s(317));this[s(315)]=void 0!==n[s(303)]?n[s(303)]:.001,this[s(321)]=this[s(315)]-this._miniHeight}[eS(322)](){return this[eS(314)]}[eS(279)](){const t=eS;let e=Object[t(298)](this);for(let r=0,i=e[t(320)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}[eS(310)](t,e,r){const i=eS,n=this[i(323)],s=this[i(312)],o=r.unit;let a=n[i(318)]();const h=a[i(266)](),l=a[i(304)]();let c={};const u=n[i(268)]();let p=0,f=0;for(let t=0;t<u;t++){let e=Math[i(270)]((n[i(269)](t)._x-h)/s),r=Math.ceil((n.getCoordinate(t)._y-l)/s)+"-"+e;!c[r]&&(c[r]=[]);const o=n[i(269)](t)[i(260)];0==t&&(p=o,f=o),p>o?p=o:f<o&&(f=o),c[r][i(282)](o)}let g=[];for(let t in c)g[i(282)](c[t][i(313)](((t,e)=>t+e)));g=Array[i(280)](new Set(g)),g=g.sort((function(t,e){return t-e})),this[i(308)]=this._getColorSegment(this[i(306)],g);const d=this[i(321)]/(f-p);for(let r in c){const n=c[r][i(313)](((t,e)=>t+e)),a=this._getColor(n),u=Number(r.split("-")[0]);let p,f,g,_,y,m,I,x,v=(Number(r[i(275)]("-")[1])-1)*s+h-.5*this._gridSpace*s,b=v+s*(1-.5*this[i(271)]),w=(u-1)*s+l+.5*this[i(271)]*s,T=w+s*(1-.5*this._gridSpace);p=Pt[i(309)](v,o)[0],f=Pt[i(309)](v,o)[1],g=Pt[i(309)](b,o)[0],_=Pt[i(309)](b,o)[1],y=Pt.float32FromDouble64(w,o)[0],m=Pt[i(309)](w,o)[1],I=Pt[i(309)](T,o)[0],x=Pt[i(309)](T,o)[1];let E=36;if(3===t){const t=this[i(324)]+d*n,r=Pt[i(309)](t,o)[0],s=Pt[i(309)](t,o)[1],h=[b,w,t,v,w,t,v,w,0,b,w,0,b,T,0,b,T,t,v,T,t,v,T,0],l=[g,y,r,p,y,r,p,y,0,g,y,0,g,I,0,g,I,r,p,I,r,p,I,0],c=[_,m,s,f,m,s,f,m,0,_,m,0,_,x,0,_,x,s,f,x,s,f,x,0],u=[0,1,2,0,2,3,0,3,4,0,4,5,0,5,6,0,6,1,7,1,6,7,2,1,7,3,2,7,4,3,7,5,4,7,6,5];for(let t=0;t<u.length/3;t++){let e=[h[3*u[3*t]],h[3*u[3*t]+1],h[3*u[3*t]+2]],r=[h[3*u[3*t+1]],h[3*u[3*t+1]+1],h[3*u[3*t+1]+2]],n=[h[3*u[3*t+2]],h[3*u[3*t+2]+1],h[3*u[3*t+2]+2]],s=[l[3*u[3*t]],l[3*u[3*t]+1],l[3*u[3*t]+2]],o=[l[3*u[3*t+1]],l[3*u[3*t+1]+1],l[3*u[3*t+1]+2]],a=[l[3*u[3*t+2]],l[3*u[3*t+2]+1],l[3*u[3*t+2]+2]],p=[c[3*u[3*t]],c[3*u[3*t]+1],c[3*u[3*t]+2]],f=[c[3*u[3*t+1]],c[3*u[3*t+1]+1],c[3*u[3*t+1]+2]],g=[c[3*u[3*t+2]],c[3*u[3*t+2]+1],c[3*u[3*t+2]+2]];this[i(263)][i(282)](...s,...o,...a),this[i(290)][i(282)](...p,...f,...g);let d=this[i(311)](e,r,n);this.a_normal[i(282)](...d[i(262)],...d[i(262)],...d[i(262)])}const C=E*e;for(let t=0;t<u.length;t++)this[i(277)][i(282)](C+t);this.a_indices[i(282)](65535);for(let t=0;t<u[i(320)];t++)this[i(288)][i(282)](...a);e++}else{this[i(263)].push(p,y,0,p,I,0,g,I,0,p,y,0,g,I,0,g,y,0),this.a_positionL[i(282)](f,m,0,f,x,0,_,x,0,f,m,0,_,x,0,_,m,0);for(let t=0;t<6;t++)this[i(288)].push(...a);for(let t=0;t<6;t++){let t=[0,0,1];this.a_normal[i(282)](...t)}}}this[i(302)]=e}_getColorSegment(t,e){const r=eS,i=t[r(320)],n=e[r(320)]/(i-1);let s=[];for(let o=0;o<i-1;o++)s[r(282)]({startColor:t[o],endColor:t[o+1],valueArr:o==i-2?e:e[r(272)](0,n)});return s}[eS(278)](t){const e=eS,r=this[e(308)].length;for(let i=0;i<r;i++){const r=this[e(308)][i],n=r.valueArr;if(-1!==n.indexOf(t)){const i=r[e(307)][e(295)](),s=r.endColor.toNormalizeArray(),o=s[0]-i[0],a=s[1]-i[1],h=s[2]-i[2],l=s[3]-i[3],c=Math[e(284)](...n),u=Math.min(...n),p=c-u!=0?o/(c-u):0,f=c-u!=0?a/(c-u):0,g=c-u!=0?h/(c-u):0,d=c-u!=0?l/(c-u):0;return[i[0]+p*(t-u),i[1]+f*(t-u),i[2]+g*(t-u),i[3]+d*(t-u)]}}}_createNormal(e,r,i){const n=eS;let s=new t.Vector3(e[0],e[1],e[2]),o=new t.Vector3(r[0],r[1],r[2]),a=new t.Vector3(i[0],i[1],i[2]);o[n(286)](s),a[n(286)](s),o[n(300)](a);let[h,l,c]=o[n(293)](),u=Math[n(281)](h*h+l*l+c*c);return 0==u?{isZero:!0,value:[0,0,0]}:(o[n(273)](u),{isZero:!1,value:o[n(293)]()})}}const iS=["2mGZnJi","_id","getId","280358UFdnlZ","createUnique","1551665yWXTHf","307uxNPVk","1654478XQrwCB","641532UhWcvr","_center","703044ElYaTS","destroy","getOwnPropertyNames","583980wbIfYu"," must be a number that larger than 0!","constructor","1WygoSV","getOrdinate","name","2175gQgVXo","length"];function nS(t,e){return iS[t-=300]}const sS=nS;!function(t,e){const r=nS;for(;;)try{if(802928===parseInt(r(312))+parseInt(r(314))+parseInt(r(317))+-parseInt(r(320))*parseInt(r(309))+-parseInt(r(302))*parseInt(r(310))+parseInt(r(307))*-parseInt(r(304))+parseInt(r(311)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(iS);class oS{constructor(e,r){const i=nS;if(this[i(305)]=t.Aid[i(308)](this[i(319)][i(301)]),this[i(313)]=[e.getOrdinate("X"),e[i(300)]("Y"),e[i(300)]("Z")],!Number.isFinite(r)||r<=0)throw r+i(318);this._value=r}[sS(306)](){return this._id}[sS(315)](){const t=sS;let e=Object[t(316)](this);for(let r=0,i=e[t(303)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const aS=["name","endColor","min","getExtent","1JZiqEk","257355LYGaaT","reduce","_id","getElements","forEach","34CDxlGB","a_normal","335DpkagR","303143dxoglG","count","_coordseq","colorArr must be a type of Array","destroy","from","isFinite","a_color","maxHeight","value","_createNormal","options.maxHeight must be a positive number greater than options.miniHeight!","_miniHeight","getBottom","_colorArr","3480lzpKJw","getCoordinate","_getColorSegment","a_positionL","_gridSpace","a_positionH","indexOf","split","startColor","a_position","_segmentArr","options.miniHeight must be a positive number!","191724cAqbUC","_getColor","valueArr","getId","getCoordCount","_gridSize","sort","_maxHeight","divideScalar","5323cujjSW","gridSpace","options.gridSize must be a positive number!","a_indices","61NSJBnU","colorArr must be a array of Color instance!","float32FromDouble64","pow","max","ceil","length","options.gridSpace must be a number between 0 and 1!","push","49ENMTzX","43nbncyA","createUnique","8129htkIoJ","_gap","miniHeight","toNormalizeArray","substract"],hS=lS;function lS(t,e){return aS[t-=469]}!function(t,e){const r=lS;for(;;)try{if(197522===-parseInt(r(507))*-parseInt(r(522))+-parseInt(r(495))*-parseInt(r(491))+-parseInt(r(516))*parseInt(r(525))-parseInt(r(482))+-parseInt(r(470))*parseInt(r(505))+parseInt(r(517))+parseInt(r(504))*-parseInt(r(524)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(aS);class cS{constructor(e,r,i,n){const s=lS;if(this[s(519)]=t.Aid[s(506)](this.constructor[s(512)]),!(e instanceof t.CoordSeq))throw new Error("coordSeq must be instance of CoordSeq!");if(this[s(527)]=e,r<0)throw new Error(s(493));if(this[s(487)]=r,!(i instanceof Array))throw new Error(s(528));if(i[s(521)]((e=>{const r=s;if(!e instanceof t.Color)throw new Error(r(496))})),this[s(469)]=i,n.gridSpace&&(!Number[s(531)](n.gridSpace)||n[s(492)]<0||n[s(492)]>1))throw new Error(s(502));if(this[s(474)]=void 0!==n[s(492)]?n[s(492)]:.2,this[s(479)]=[],this[s(475)]=[],this[s(473)]=[],this[s(523)]=[],this[s(532)]=[],this.a_indices=[],n[s(509)]&&(!Number[s(531)](n[s(509)])||n[s(509)]<=0))throw new Error(s(481));if(this[s(537)]=void 0!==n[s(509)]?n[s(509)]:1e-5,n[s(533)]&&(!Number.isFinite(n[s(533)])||n[s(533)]<=0||n.maxHeight<=this[s(537)]))throw new Error(s(536));this[s(489)]=void 0!==n.maxHeight?n[s(533)]:.001,this[s(508)]=this[s(489)]-this[s(537)]}[hS(485)](){return this[hS(519)]}[hS(529)](){const t=hS;let e=Object.getOwnPropertyNames(this);for(let r=0,i=e[t(501)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}_calculateVertex(t=!1,e,r,{unit:i}){const n=hS,s=this[n(527)],o=this[n(487)],a=s[n(515)](),h=a.getLeft(),l=a[n(538)](),c={},u=Math[n(498)](3,.5),p=s[n(486)]();let f=0,g=0;for(let t=0;t<p;t++){const e=Math[n(500)]((s.getCoordinate(t)._x-h)/(o*u)),r=Math[n(500)]((s[n(471)](t)._y-l)/(1.5*o))+"-"+e;!c[r]&&(c[r]=[]);const i=s[n(471)](t)[n(526)];0==t&&(f=i,g=i),f>i?f=i:g<i&&(g=i),c[r][n(503)](i)}let d=[];for(let t in c)d.push(c[t][n(518)](((t,e)=>t+e)));d=Array[n(530)](new Set(d)),d=d[n(488)]((function(t,e){return t-e})),this[n(480)]=this[n(472)](this[n(469)],d);const _=1-.5*this[n(474)],y=this._gap/(g-f);for(let s in c){const a=c[s][n(518)](((t,e)=>t+e)),p=this[n(537)]+y*a,f=this._getColor(a),g=Number(s[n(477)]("-")[0]),d=Number(s[n(477)]("-")[1]);let m,I,x,v,b,w,T,E,C,A,M,S,P,R,L,F,D,O,N,B,U,k;if(g%2==1?(m=(d-1)*o*u+h-.5*this[n(474)]*o,I=m+.5*o*_*u,x=I+.5*o*_*u):(m=(d-1)*o*u+h+.5*o*u-.5*this[n(474)]*o,I=m+.5*o*u*_,x=I+.5*o*u*_),v=(g-1)*o*1.5+l+-.5*this[n(474)]*o,b=v+.5*o*_,w=b+.5*o*_,T=w+.5*o*_,E=T+.5*o*_,[C,F]=Pt[n(497)](m,i),[A,D]=Pt[n(497)](I,i),[M,O]=Pt.float32FromDouble64(x,i),[S,N]=Pt[n(497)](v,i),[P,B]=Pt[n(497)](b,i),[R,U]=Pt[n(497)](T,i),[L,k]=Pt.float32FromDouble64(E,i),3===e){const e=60,s=Pt[n(497)](p,i)[0],o=Pt[n(497)](p,i)[1],a=[0,2,1,2,4,3,4,0,5,0,4,2,6,8,7,8,10,9,10,6,11,6,10,8,0,7,1,0,6,7,1,8,2,1,7,8,2,9,3,2,8,9,3,10,4,3,9,10,4,11,5,4,10,11,5,6,0,5,11,6],h=[m,T,0,I,E,0,x,T,0,x,b,0,I,v,0,m,b,0,m,T,p,I,E,p,x,T,p,x,b,p,I,v,p,m,b,p];if(t){const t=[C,R,0,A,L,0,M,R,0,M,P,0,A,S,0,C,P,0,C,R,s,A,L,s,M,R,s,M,P,s,A,S,s,C,P,s],e=[F,U,0,D,k,0,O,U,0,O,B,0,D,N,0,F,B,0,F,U,o,D,k,o,O,U,o,O,B,o,D,N,o,F,B,o];for(let r=0;r<a.length/3;r++){let i=[h[3*a[3*r]],h[3*a[3*r]+1],h[3*a[3*r]+2]],s=[h[3*a[3*r+1]],h[3*a[3*r+1]+1],h[3*a[3*r+1]+2]],o=[h[3*a[3*r+2]],h[3*a[3*r+2]+1],h[3*a[3*r+2]+2]],l=[t[3*a[3*r]],t[3*a[3*r]+1],t[3*a[3*r]+2]],c=[t[3*a[3*r+1]],t[3*a[3*r+1]+1],t[3*a[3*r+1]+2]],u=[t[3*a[3*r+2]],t[3*a[3*r+2]+1],t[3*a[3*r+2]+2]],p=[e[3*a[3*r]],e[3*a[3*r]+1],e[3*a[3*r]+2]],f=[e[3*a[3*r+1]],e[3*a[3*r+1]+1],e[3*a[3*r+1]+2]],g=[e[3*a[3*r+2]],e[3*a[3*r+2]+1],e[3*a[3*r+2]+2]];this.a_positionH.push(...l,...c,...u),this[n(473)].push(...p,...f,...g);let d=this._createNormal(i,s,o);this.a_normal[n(503)](...d[n(534)],...d[n(534)],...d.value)}}else for(let t=0;t<a[n(501)]/3;t++){let e=[h[3*a[3*t]],h[3*a[3*t]+1],h[3*a[3*t]+2]],r=[h[3*a[3*t+1]],h[3*a[3*t+1]+1],h[3*a[3*t+1]+2]],i=[h[3*a[3*t+2]],h[3*a[3*t+2]+1],h[3*a[3*t+2]+2]];this[n(479)].push(...e,...r,...i);let s=this[n(535)](e,r,i);this[n(523)][n(503)](...s.value,...s[n(534)],...s.value)}const l=e*r;for(let t=0;t<a[n(501)];t++)this.a_indices[n(503)](l+t);this[n(494)][n(503)](65535);for(let t=0;t<a[n(501)];t++)this.a_color[n(503)](...f);r++}else{const e=[m,T,0,I,E,0,x,T,0,x,T,0,x,b,0,I,v,0,I,v,0,m,b,0,m,T,0,m,T,0,x,T,0,I,v,0];t?(this[n(475)][n(503)](C,R,0,A,L,0,M,R,0,M,R,0,M,P,0,A,S,0,A,S,0,C,P,0,C,R,0,C,R,0,M,R,0,A,S,0),this[n(473)][n(503)](F,U,0,D,k,0,O,U,0,O,U,0,O,B,0,D,N,0,D,N,0,F,B,0,F,U,0,F,U,0,O,U,0,D,N,0)):this[n(479)][n(503)](...e);for(let t=0;t<12;t++)this[n(532)].push(...f);for(let t=0;t<12;t++){let t=[0,0,1];this[n(523)][n(503)](...t)}}}this._current=r}_getColorSegment(t,e){const r=hS,i=t[r(501)],n=e[r(501)]/(i-1);let s=[];for(let r=0;r<i-1;r++)s.push({startColor:t[r],endColor:t[r+1],valueArr:r===i-2?e:e.splice(0,n)});return s}[hS(483)](t){const e=hS,r=this._segmentArr[e(501)];for(let i=0;i<r;i++){const r=this[e(480)][i],n=r[e(484)];if(-1!==n[e(476)](t)){const i=r[e(478)][e(510)](),s=r[e(513)].toNormalizeArray(),o=s[0]-i[0],a=s[1]-i[1],h=s[2]-i[2],l=s[3]-i[3],c=Math[e(499)](...n),u=Math[e(514)](...n),p=c-u!=0?o/(c-u):0,f=c-u!=0?a/(c-u):0,g=c-u!=0?h/(c-u):0,d=c-u!=0?l/(c-u):0;return[i[0]+p*(t-u),i[1]+f*(t-u),i[2]+g*(t-u),i[3]+d*(t-u)]}}}[hS(535)](e,r,i){const n=hS;let s=new t.Vector3(e[0],e[1],e[2]),o=new t.Vector3(r[0],r[1],r[2]),a=new t.Vector3(i[0],i[1],i[2]);o[n(511)](s),a[n(511)](s),o.cross(a);let[h,l,c]=o[n(520)](),u=Math.sqrt(h*h+l*l+c*c);return 0==u?{isZero:!0,value:[0,0,0]}:(o[n(490)](u),{isZero:!1,value:o[n(520)]()})}}const uS=["824725YQNCQq","85007QrPrhq","destroy","26kJQAyp","123861rHcgvF","origination","offsetTimes","_id","destination","minHeight","length","234963ilqqfv","2hirxyo","scale","120825cDyJZO","hasOwnProperty","maxHeight","634671gvEdxA","36777lVdpye"],pS=fS;function fS(t,e){return uS[t-=319]}!function(t,e){const r=fS;for(;;)try{if(625915===parseInt(r(335))*-parseInt(r(336))+parseInt(r(328))+-parseInt(r(323))*-parseInt(r(327))+parseInt(r(322))+parseInt(r(325))+parseInt(r(319))+-parseInt(r(324)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(uS);class gS extends HM{constructor(e={}){const r=fS;super({origination:e[r(329)],destination:e[r(332)],inertia:[0,0,0],gravity:[0,0,-2],color:new t.Color(174,220,226,1),radius:4,endRadius:2,maxHeight:e[r(321)],minHeight:e[r(333)],pointNum:500,controlNum:5,forceScale:[.4,.4,.4],scale:e[r(320)](r(337))&&e[r(337)]>0?e.scale:2}),this[r(330)]=0,this.movers=[]}getId(){return this[fS(331)]}[pS(326)](){const t=pS;let e=Object.getOwnPropertyNames(this);for(let r=0,i=e[t(334)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const dS=["153849EORhVp","4asVuZJ","EAST_SOUTH","88511PBeerQ","16773aouBOh","86282uDvwlZ","1qjpNth","WEST","36843TkZSCB","WEST_NORTH","WEST_SOUTH","EAST_NORTH","93273dzdrms","64258xzMQGm"],_S=IS;!function(t,e){const r=IS;for(;;)try{if(114186===-parseInt(r(318))*-parseInt(r(325))+-parseInt(r(323))*-parseInt(r(317))-parseInt(r(322))+parseInt(r(316))+-parseInt(r(320))+-parseInt(r(315))+parseInt(r(321)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(dS);const yS={EAST:{ewWind:-1,nsWind:0},SOUTH:{ewWind:0,nsWind:1},WEST:{ewWind:1,nsWind:0},NORTH:{ewWind:0,nsWind:-1},EAST_SOUTH:{ewWind:-1,nsWind:1},WEST_SOUTH:{ewWind:1,nsWind:1},EAST_NORTH:{ewWind:-1,nsWind:-1},WEST_NORTH:{ewWind:1,nsWind:-1}},mS={EAST:"EAST",SOUTH:"SOUTH",WEST:_S(324),NORTH:"NORTH",EAST_SOUTH:_S(319),WEST_SOUTH:_S(313),EAST_NORTH:_S(314),WEST_NORTH:_S(326)};function IS(t,e){return dS[t-=313]}const xS=["nsWind","options.rainLevel must be integer between 1 and 6!","1383965skvkvu","getUnit","_divide","anonymous","ewWind","getCrs","createUnique","u_nsWind","windDirect","_imageSrc","_factor","getBottom","floor","name","tan","347657JXeNZw","_initVertex","_map","color","getRight","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAACACAYAAADQxeN6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdBQjhCODQwQ0JDMjExRUFCRTU3RDA0RDU0RjMzRTREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdBQjhCODQxQ0JDMjExRUFCRTU3RDA0RDU0RjMzRTREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0FCOEI4M0VDQkMyMTFFQUJFNTdEMDRENTRGMzNFNEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0FCOEI4M0ZDQkMyMTFFQUJFNTdEMDRENTRGMzNFNEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5mqkn7AAACRElEQVR42sxZQU4DMQyMk72UV/MYDvyjv4Aj4g9cyrBFrVhFHnsScmilqK0ar5PJeBy7BqCMvmqZeD240dZ9t2AuPCPrjOw20Q4G6I3qwQjkIRfmCc5e78bUqPcWAtGOm41AYehZ9IAtODPJU02WJ51TYZ4jIzAkvT2ZA3cKBLrPpniC83Rk6FkEwih66eH2yJXIUyEwIyPsMTzg8DBdXgq5BUgaM2qOF4l70TvUeEJm1Bx4q0crj0b9RCiMAFGlMHKRcdDbEwt1ip4FZyWHuwQ5iHTJYikHYSr+I+iFauQyQF1ecahkWX6yGTUaljB2TvRwLQj3kqHnGbtAbAncYVKzLMt7jGDsNoV7Rbl8bIQJZTY0kO0JJMtjGY1aoA1DnlKFnQ6NYe612eUxQTEVvaJoxJJwlxJ1i0RfEctQnj1PhXjBjEbI8ZQubzo0lp2ThF5EpXR5YEUnA0Iuhdos5BbcY9dB3oIlQWU5RhkBp6iUU43ECCQlnpzUoIaGV+qlOTfioFR9yoyQC5SqlOBLw33omlNJKEyHhpxqpLKhkctuGu7RJX7djeVftQZmzmmoDG9EH0xtAUHtfDRSnBT1nIaMphKAxzWpomY9lqp0CaS2lpFOVVqGR03Bofse1LYWnPYqVN2z0T0NBSHr70l9IyjLs6BnKV9zJDWyoGywpT3L7+7O1xtcvH18dGDUg0Jd3z89o9duYs/6lz9IgPt42sd5HxdnnG+//849Gl3HaR/P+3jbx9c+3m/fT8d59th/8PwIMAC28xE/4wZCqAAAAABJRU5ErkJggg==","isFinite","options.color must be instance of Color!","_setMap","options.windLevel must be a integer between 0 and 12!","_loadImg","1kjxZXu","random","1311161ulOMWs","getResolution","getTop","_unit","64hexdaa","windLevel","getId","length","float32FromDouble64","push","src","height","_textureImage","_color","u_windForce","1224079BYZbbe","getLeft","test","_height","constructor","605216GRJKNd","271NBrdGH","3857","assign","imageSrc","1qzgQiQ","bind","getOwnPropertyNames","15902BTBAtt","u_ewWind","3449MUxSFq","_area","getExtent","1xdHsYW","_rainSize","_initRes","rainLevel"],vS=bS;function bS(t,e){return xS[t-=243]}!function(t,e){const r=bS;for(;;)try{if(913083===parseInt(r(296))*-parseInt(r(275))+-parseInt(r(263))*-parseInt(r(272))+-parseInt(r(270))*-parseInt(r(246))+parseInt(r(262))+-parseInt(r(281))+-parseInt(r(267))*parseInt(r(257))+parseInt(r(307))*parseInt(r(309)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xS);class wS{constructor(e,r={}){const i=bS;if(this._id=t.Aid[i(287)](this[i(261)][i(294)]),this[i(273)]=e,!/^\d+$/.test(r[i(278)])||r[i(278)]<1||r[i(278)]>6)throw new Error(i(280));switch(r.rainLevel){case 1:this[i(283)]=50,this._rainSize=1.5;break;case 2:this._divide=55,this._rainSize=1.5;break;case 3:this[i(283)]=60,this[i(276)]=1.5;break;case 4:this._divide=65,this[i(276)]=1.6;break;case 5:this[i(283)]=70,this._rainSize=1.7;break;case 6:this[i(283)]=75,this[i(276)]=1.7;break;default:this[i(283)]=50,this[i(276)]=1.5}if(void 0!==r[i(253)]&&(!Number[i(302)](r[i(253)])||r[i(253)]<=0))throw new Error("options.height must be a positive number!");if(this[i(260)]=(void 0!==r.height?r[i(253)]:1e4)/11e4,r[i(299)]&&!(r[i(299)]instanceof t.Color))throw new Error(i(303));this._factor=1.2,this[i(255)]=r[i(299)]?r.color:new t.Color(153,153,153,1);const n=i(301);if(this[i(290)]=r[i(266)]||n,this._texturePromise=this[i(306)](),r.windLevel&&(!/^\d+$/[i(259)](r[i(247)])||r[i(247)]<0||r.windLevel>12))throw new Error(i(305));if(r[i(289)]&&yS[r[i(289)]]){this.u_ewWind=yS[r.windDirect][i(285)],this.u_nsWind=yS[r[i(289)]].nsWind;const t=null!=r[i(247)]?r[i(247)]:0;this[i(256)]=40*t/12*Math.PI/180}else this[i(271)]=0,this[i(288)]=0,this.u_windForce=0}setWindDir(t){const e=bS;t?(this.u_ewWind=yS[t][e(285)],this[e(288)]=yS[t][e(279)]):(this[e(271)]=0,this[e(288)]=0,this[e(256)]=0)}setWindLevel(t){this[bS(256)]=40/12*(t||0)*Math.PI/180}[vS(306)](){return new Promise((t=>{const e=bS,r=new Image;r.onload=function(){this[bS(254)]=r,t(this)}[e(268)](this),r.crossOrigin=e(284),r[e(252)]=this._imageSrc}))}[vS(248)](){return this._id}destroy(){const t=vS;let e=Object[t(269)](this);for(let r=0,i=e[t(249)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}[vS(297)](){const e=vS,r=this._unit,i=this[e(273)],n=this[e(276)],s=this[e(298)][e(243)]()/this[e(277)],o=s>1?this._height:this[e(260)]*s*2;let a=[],h=[],l=[],c=[],u=[];const p=i[e(274)](),f=p[e(258)](),g=p[e(292)](),d=p[e(300)](),_=p[e(244)](),y=this._map[e(274)](),m=y[e(258)](),I=y[e(292)](),x=y[e(300)](),v=y[e(244)](),b=f>m?f:m,w=g>I?g:I,T=_>v?v:_,E=((d<x?d:x)-b)/this[e(283)],C=(T-w)/this[e(283)],A=[],M=[],S=[],P=[];let R=0;const L=this[e(256)];for(let i=0;i<this[e(283)];i++)for(let p=0;p<this[e(283)];p++){let f,g;Math.random()>.5?(f=-1*Math[e(308)](),g=Math[e(308)]()):(f=Math[e(308)](),g=-1*Math[e(308)]());const d=(.5*(1+f)+i)*E+b,_=(.5*(1+g)+p)*C+w;new t.Coordinate(d,_,0);const y=Math[e(293)]((i+1)*(p+1)*Math[e(308)]());a[e(251)](y,y,y,y);const m=(.5*Math[e(308)]()+.5)*n,I=(.8*(m-1)+1)/11e4*this[e(291)];l[e(251)](I,I,I,I);const x=10*Math[e(308)]();h.push(x,x,x,x);const v=o,T=.002*s*m,F=2e-4*s*m;if(Math[e(308)]()>.5){const[t,i]=Pt.float32FromDouble64(d+(5*Math.tan(L)*this[e(271)]+.5)*F,r),[n,s]=Pt.float32FromDouble64(d+(5*Math[e(295)](L)*this[e(271)]-.5)*F,r),[o,a]=Pt[e(250)](d-(5*Math[e(295)](L)*this[e(271)]-.5)*F,r),[h,l]=Pt.float32FromDouble64(d-(5*Math[e(295)](L)*this[e(271)]+.5)*F,r),[c,u]=Pt[e(250)](_+(5*Math.tan(L)*this.u_nsWind+.5)*F,r),[p,f]=Pt[e(250)](_-(5*Math[e(295)](L)*this[e(288)]+.5)*F,r),[g,y]=Pt[e(250)](v-T,r),[m,I]=Pt[e(250)](v+T,r);M.push(t,c,g,n,c,g,h,p,m,o,p,m),A[e(251)](i,u,y,s,u,y,l,f,I,a,f,I)}else{const[t,i]=Pt[e(250)](_+(5*Math[e(295)](L)*this[e(288)]+.5)*F,r),[n,s]=Pt[e(250)](_+(5*Math[e(295)](L)*this[e(288)]-.5)*F,r),[o,a]=Pt[e(250)](_-(5*Math[e(295)](L)*this[e(288)]-.5)*F,r),[h,l]=Pt[e(250)](_-(5*Math[e(295)](L)*this[e(288)]+.5)*F,r),[c,u]=Pt[e(250)](d+(5*Math.tan(L)*this[e(271)]+.5)*F,r),[p,f]=Pt[e(250)](d-(5*Math[e(295)](L)*this[e(271)]+.5)*F,r),[g,y]=Pt.float32FromDouble64(v-T,r),[m,I]=Pt[e(250)](v+T,r);M.push(c,t,g,c,n,g,p,h,m,p,o,m),A[e(251)](u,i,y,u,s,y,f,l,I,f,a,I)}c[e(251)](2*T,2*T,0,0),u[e(251)](v-T,v-T,v+T,v+T),S.push(1,1,0,1,0,0,1,0),P[e(251)](4*R+0,4*R+1,4*R+2,4*R+0,4*R+2,4*R+3),R++}Object[e(265)](this,{a_positionH:M,a_positionL:A,a_uvs:S,a_indice:P,a_timeDelay:h,a_speed:l,a_relativeHeight:c,a_number:a,u_initRes:this[e(277)],a_height:u})}[vS(304)](t){const e=vS;this[e(298)]=t,this[e(245)]=t[e(286)]()[e(282)](),this[e(277)]=t[e(243)](),this[e(298)]&&this[e(298)][e(286)]().getSrid()==e(264)&&(this[e(260)]*=11e4,this[e(276)]*=11e4)}}const TS=["_colorC","_type","destroy","freq","toUint8Array","340217BtMGVz","_size","getId","105677uzbYpZ","652862ufHdNs","28539hNwdCO","_freq","_id","length","getOwnPropertyNames","colorRange","247087jlCUyb","_getType","bubble","maxSize","minSize","100406BkigLF","color","1mSFUOc","center","1qjkOBs","getOrdinate","min","1IRGIkT","352554vksYaq","breath","colorChange","_center","type","name"],ES=CS;function CS(t,e){return TS[t-=498]}!function(t,e){const r=CS;for(;;)try{if(215894===-parseInt(r(500))+parseInt(r(511))+-parseInt(r(527))*parseInt(r(529))+parseInt(r(516))+-parseInt(r(514))+parseInt(r(522))*-parseInt(r(531))+-parseInt(r(515))*-parseInt(r(499)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(TS);class AS{constructor(e){const r=CS;this[r(518)]=t.Aid.createUnique(this.constructor[r(505)]),e=e||{},this[r(507)]=e[r(504)]?e[r(504)]:"BubblePoint";const i=e[r(530)]?e.center:new t.Coordinate;this[r(503)]=[i[r(532)]("X"),i.getOrdinate("Y"),i.getOrdinate("Z")],this._size=e[r(526)]>=0?e[r(526)]:10,this._maxSize=e[r(525)]>=0?e[r(525)]:this[r(512)],this[r(517)]=e.freq>0?e[r(509)]:3e3;const n=e.color?e[r(528)]:new t.Color(255,0,0,1);this._color=n[r(510)]();const s=e[r(502)]?e[r(502)]:n;this[r(506)]=s[r(510)]();const o=e.colorRange?e[r(521)]:[1,0];this._alpha=[Math[r(498)](o[0],1),Math.max(o[1],0)]}[ES(513)](){return this[ES(518)]}[ES(523)](t){const e=ES;return{BubblePoint:[e(524),0],BreathPoint:[e(501),0],BubbleCircle:["circle",1],BreathCircle:["circle",2]}[t]||""}[ES(508)](){const t=ES;let e=Object[t(520)](this);for(let r=0,i=e[t(519)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const MS=["setColor","212526TQleFz","_textStyle","_value","constructor","2lplCoT","1xugmuU","1rcfyxR","value","103973zympoS","getId","getValue","textStyle","getOwnPropertyNames","1443394VKyCOF","_id","color","name","2443949rXazVE","isFinite","toUint8Array","947086JfaulZ","2RXmcDO","1354933uxAfWp","getText","1iAHesP","266275KmWcbk"],SS=PS;function PS(t,e){return MS[t-=301]}!function(t,e){const r=PS;for(;;)try{if(731695===parseInt(r(314))*-parseInt(r(326))+parseInt(r(307))+parseInt(r(319))*-parseInt(r(325))+-parseInt(r(316))*parseInt(r(318))+-parseInt(r(315))*parseInt(r(321))+parseInt(r(302))+parseInt(r(311))*parseInt(r(327)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(MS);class RS{constructor(e){const r=PS;this[r(308)]=t.Aid.createUnique(this[r(324)][r(310)]);const i=(e=e||{})[r(309)]?e[r(309)]:new t.Color(255,0,0,1);if(this._color=i[r(313)](),!Number[r(312)](e.value)||e[r(301)]<=0)throw"options.value must be a number that larger than 0!";this[r(323)]=e[r(301)],this[r(322)]=e.textStyle?e[r(305)]:null}setText(t){this[PS(322)]=t||null}[SS(317)](){return this._textStyle}[SS(303)](){return this[SS(308)]}[SS(304)](){return this._value}[SS(320)](t){const e=SS;this._color=t[e(313)]()}destroy(){let t=Object[SS(306)](this);for(let e=0,r=t.length;e<r;e++){const r=t[e];this[r]=null,delete this[r]}}}const LS=["clone","constructor","parameter 'video' must be given!","1YLjiYb","destroy","getOrdinate","dataMap","2OvWtEm","videoRotate","extractCoords","_id","coordSeqs","parameter 'video' must be instance of 'HTMLVideoElement'!","rotate","video","dataReady","_translateTo64","221447odfbkX","getOwnPropertyNames","positionCount","226676KLPCfj","uvs","parameter 'coordSeqs' must be given!","index","27NtmEMy","positions","updateDataByMapUnit","356302OAniub","length","53992kGeCEH","173629WGebgD","_init","349994BimhVp","createUnique","_calculateUVs","float32FromDouble64","push","getId","6155NELqkT","side","indexCount"],FS=DS;function DS(t,e){return LS[t-=496]}!function(t,e){const r=DS;for(;;)try{if(204256===-parseInt(r(523))*-parseInt(r(506))+parseInt(r(511))+parseInt(r(503))*-parseInt(r(517))+parseInt(r(508))+parseInt(r(499))+-parseInt(r(509))+parseInt(r(496))*-parseInt(r(527)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(LS);class OS{constructor(e){const r=DS;this[r(530)]=t.Aid[r(512)](this[r(521)].name),this.coordSeqs=e[r(531)],this[r(534)]=e[r(534)],this[r(528)]=e[r(528)]?e.videoRotate:[0,0,0],this[r(518)]=e.hasOwnProperty(r(518))?e[r(518)]:1,this[r(535)]=!1,this[r(510)]()}[FS(510)](){const t=FS;if(!this[t(531)])throw TypeError(t(501));if(!this[t(534)])throw TypeError(t(522));if(!(this[t(534)]instanceof HTMLVideoElement))throw TypeError(t(532));const e=Rh(this[t(531)]);this[t(526)]={positions:e.a_position,positionCount:e[t(498)],index:e[t(502)],indexCount:e[t(519)]},this[t(513)]()}[FS(513)](){const e=FS;let r=1/0,i=1/0,n=1/0,s=-1/0,o=-1/0,a=-1/0;const h=this[e(531)],l=[];for(let t of h){let h=t[e(520)]()[e(529)]();for(let t of h){let h=t[e(525)]("X"),l=t[e(525)]("Y"),c=t[e(525)]("Z");r>h&&(r=h),i>l&&(i=l),n>c&&(n=c),s<h&&(s=h),o<l&&(o=l),a<c&&(a=c)}l[e(515)](...h)}let c=new t.Coordinate((r+s)/2,(i+o)/2,(n+a)/2),u=this[e(528)][0],p=this[e(528)][1],f=this[e(528)][2],g=1/0,d=1/0,_=-1/0,y=-1/0,m=-1/0;for(let t of l){u&&t.rotate("X",-u,c),p&&t[e(533)]("Y",-p,c),f&&t[e(533)]("Z",-f,c);let r=t[e(525)]("X"),i=t.getOrdinate("Y"),n=t.getOrdinate("Z");g>r&&(g=r),d>i&&(d=i),_<r&&(_=r),y<i&&(y=i),m<n&&(m=n)}const I=_-g,x=y-d,v=[];for(let t of l){let r=t[e(525)]("X"),i=t[e(525)]("Y");v[e(515)]((r-g)/I,1-(i-d)/x)}this[e(500)]=v}[FS(516)](){return this._id}[FS(524)](){let t=Object[FS(497)](this);for(let e=0,r=t.length;e<r;e++){const r=t[e];this[r]=null,delete this[r]}}[FS(505)](t,e){const r=FS;let i=this[r(526)].positions;t&&(this.dataMap[r(504)]=this[r(536)](i,e)),this[r(535)]=!0}[FS(536)](t,e){const r=FS,i=t[r(507)]/3,n=[];for(let s=0;s<i;s++){const i=Pt[r(514)](t[3*s],e),o=Pt[r(514)](t[3*s+1],e),a=Pt.float32FromDouble64(t[3*s+2],e);n.push(i[0],o[0],a[0],i[1],o[1],a[1])}return n}}const NS=["updateDataByMapUnit","6AhiKcI","_id","66JkTZjV","317857TMlIwr","destroy","unvalid 'projector'","video","parameter 'video' must be instance of HTMLVideoElement!","indexCount","154534WhAvJH","hasOwnProperty","16542MaZGeH","parameter 'video' must be given!","3pmwJuL","projector","positionCount","a_position","350891PTAvyO","1265ZChpQq","coordSeqs","660987BJYaCB","757ePWSsz","getId","1ttSJNx","94TdgpzK","index","_init","parameter 'coordSeqs' must be given!","dataMap","10767kZjFtJ"],BS=US;function US(t,e){return NS[t-=482]}!function(t,e){const r=US;for(;;)try{if(578240===-parseInt(r(498))*parseInt(r(493))+-parseInt(r(511))*parseInt(r(502))+-parseInt(r(500))*parseInt(r(509))+-parseInt(r(486))*-parseInt(r(492))+-parseInt(r(490))*-parseInt(r(487))+parseInt(r(503))+parseInt(r(482))*parseInt(r(489)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(NS);class kS extends OS{constructor(t){const e=US;if(!t[e(510)](e(483)))throw new SyntaxError(e(505));t[e(506)]=t[e(483)][e(506)],super(t),this.projector=t[e(483)]}[BS(495)](){const t=BS;if(!this[t(488)])throw TypeError(t(496));if(!this.video)throw TypeError(t(512));if(!(this[t(506)]instanceof HTMLVideoElement))throw TypeError(t(507));const e=Rh(this[t(488)]);this[t(497)]={positions:e[t(485)],positionCount:e[t(484)],index:e[t(494)],indexCount:e[t(508)]}}[BS(491)](){return this[BS(501)]}[BS(504)](){super[BS(504)]()}[BS(499)](t,e){super[BS(499)](t,e)}}const VS=["offsetTimes","22031NOJhWM","destroy","name","maxHeight","length","442617SLnnaw","getOwnPropertyNames","694846JAVwdj","7xOzTVp","_id","hasOwnProperty","11BLRyHl","minHeight","origination","constructor","scale","145532hoOxnd","73345SKEtov","createUnique","11LvbreI","movers","73veDRmo","178019JyZKkR","112910xyKkqe"],GS=zS;function zS(t,e){return VS[t-=289]}!function(t,e){const r=zS;for(;;)try{if(899856===parseInt(r(294))*-parseInt(r(307))+parseInt(r(296))*parseInt(r(292))+-parseInt(r(293))*parseInt(r(304))-parseInt(r(313))-parseInt(r(301))+parseInt(r(303))+parseInt(r(290))*parseInt(r(312)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(VS);class HS extends HM{constructor(e={}){const r=zS;super({origination:e[r(309)],destination:null,inertia:[0,0,0],gravity:[0,0,3.6],color:new t.Color(40,40,40,1),opacity:1,endOpacity:.8,radius:80,endRadius:80,maxHeight:e[r(299)],minHeight:e[r(308)],pointNum:180,controlNum:2,forceScale:[2,2,0],scale:e[r(306)](r(311))&&e[r(311)]>0?e[r(311)]:1}),this[r(305)]=t.Aid[r(289)](this[r(310)][r(298)]),this[r(295)]=0,this[r(291)]=[]}getId(){return this[zS(305)]}[GS(297)](){const t=GS;let e=Object[t(302)](this);for(let r=0,i=e[t(300)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const jS=["_speed","_snowSize","area must be a Polygon!","getId","getBottom","1797701LlwPHU","options.height must be a positive number!","getLeft","407400ZRRoYb","21LXnkzd","379160hzJrEq","getCrs","getOwnPropertyNames","getSrid","getExtent","random","_textureImage","options.snowLevel must be integer between 1 and 6!","_id","_initRes","src","_height","1qXOgJf","height","onload","_setMap","isFinite","intersectsGeometry","_imageSrc","createUnique","snowLevel","push","_map","getTop","1hJfdyN","1637qIfEBR","test","destroy","_texturePromise","1660200GFYsrS","_loadImg","977mGBCOI","_divide","round","3857","assign","34877VCPDWe","length","getResolution","bind","getRight","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAGAGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTUtMDctMDNUMTg6NTk6MjIrMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTAxLTEyVDE1OjE0OjQwKzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE5LTAxLTEyVDE1OjE0OjQwKzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmIzMzBlMWI0LTk5ZDctNGU2NS05MGQ2LTNmYjFiYmE2ZTE0MCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjAyNThjNzMxLTQ4ZjQtYTA0MS1hNGFkLTQ4MTA2MTVjY2FlYSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjJjY2VkMTUyLTRjNzAtNDFlZC1hMzcyLWRlOWY4NjgyZTcwMSI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MmNjZWQxNTItNGM3MC00MWVkLWEzNzItZGU5Zjg2ODJlNzAxIiBzdEV2dDp3aGVuPSIyMDE1LTA3LTAzVDE4OjU5OjIyKzAyOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoTWFjaW50b3NoKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjMzMGUxYjQtOTlkNy00ZTY1LTkwZDYtM2ZiMWJiYTZlMTQwIiBzdEV2dDp3aGVuPSIyMDE5LTAxLTEyVDE1OjE0OjQwKzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoTWFjaW50b3NoKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz50mbqsAAAToElEQVR4nOVbW49dR5X+VlXtc2v3Ne52N6bTTnAc0u02GRJQwEhYQkJ5QhmhPPOUl0iBB/4AP4JfMA95IEIaJEYiQhlesCZMEE1iGxJHIjK21XbSwX1xd5+zd9Va87BrVdfefWwI4xEaUVJpn7PPPnVqfbUu31pVh0QE/8zN/KMn8I9uTl+8+uqrAAARgYgghIBer4dnnnkGAPDFL34RANDr9eiJJ55AVVUgIhhjwMwYDAbY3Nyk8+fPP/DHdnd3ZWtrS6y1ICICACLCtWvXxDmH2dlZXL9+HR988AF6vR5mZmawvb2Nw8NDeO+xt7eHpaUlDAYDTE5O4vvf/z7OnTuH1157DR9++CGICNvb2zh58iTubG7iwrP/gvmz61iZG2B5aQG/+e93MDExgW9/+9vHAcgbEWFvbw+Tk5O0uLiIEydOyPnz52lychL9fj89BgD7+/s0MTGh4KT749rU1JRMTU3p22R7y8vL2N3dTWPs7e3JnTt3sLW1BWvtAwF9FK0BQFwUfPLJJ5ibm8Mrr7yiGqCmkgtHZVni4OCAJiYmCAAiEA0AmBlEpGPnDoez1wqMrK2tydraGr333nu4evUqfv/730tZluh2u405PqqWABgOhwCAnZ0dLCws4Ec/+hGdOnUqf5ZEhA4ODtDr9chaS51OB/Pz84QjoRsA6bjOOel0OknY7HMBgL/85S8yGo1kYWEB1loCIBcuXMCFCxdkfX2dNjY25J133sH9+/chIo8UhATA5z//eRweHmJxcRHf+973iIioqioURaGTNQBQlqWJq2GYGWVZUq/XGwcCAVCTkUxg7UDUgtnZWd7e3hZmhrVWkGnH+vo61tfX8eUvfxlvvPGG3Lx5E8vLy8hM6dEA0Ov1MBwO8eKLL+Lpp5/GRx99hLm5ORXGACAiotnZWROFIQDGGJNee+8hIlQURVqibLUku2pnAEJEZnZ2VoXmDKwExPnz57G8vIxf/epXuHXrlnz88ccoyxLe+/+VRiQA7t+/j+npaaytrREAeuKJJ/SjXGACQCEEIyLGOWc6nQ6h1gZTVZWJqv6g8MoAwMwiImyt5UxQ7TlIlIMwPT2Nl156SXZ3d+nKlSuoqkq2t7f/buEbADjncOnSJXrssceAphorABARC8CIiBERKyI2hGCcc0REptPpGGttDhhCCClc5gKKSC50qKqKrbVsjMnvqzbw7u6uMDPNzMzw1NSUXLx4ET/5yU/o5s2b8t5772E0GmFycvIz+4gEwNmzZ/H0008DqD33cDikfr9vNFwDMGVZWmutcc5ZAE5EbDQBS0QqvEF0mAAoCq5NALAxRlqCBmstExEDCLHrZwIgFEUhckRbBQBefvllAYC3334bV65ckY2NDezv738mEBIA3nuMRiOgVmfa39+nbrdL0SsbAKbT6Zi46tZaa4nIEpGN49j4nI2AkYiYLAQmAFQoACwiLCKBiAIRBQA+jqNgMADq9/v63mZjAABeeOEFvPDCC3Tt2jV5/fXX5U9/+hMI+Js4RFoe51yK1c45zM/P58ITAENExtRL6mIvAHS0i0iXmbsAekTUN8b0AfRFpA+gD2AQez+79gD0RETH6cZrkf1GfjUP6FhbW6Mf/OAHeOmll6jb7WBrawvAw7lD0oAzZ86gFfeBzNtrZ2Zna2gLEXFRAwpmLuJnyT+ISMQr+ZTc+wcAuvIetUlV8bVFUxNyZxiy9/l4BAALCwvmu9/9rpxZWaH/evs3Mqw8HpbvJQDW19d1xfPeBsEyswVQeO+dtdZZa9NqWWsLAI6IHOoQaVpjHQMgdi8iPgJQReHzbgFU2ULo9/JQmfMLPPf881j/0pfk3376H9gyI6ycXnw4ALOzs+lmCIEODg7oxIkThohoOBxSp9MxRGSdczZGA0tEBWpNKIwxHX0dx3XRB+QAAE0foDbviaiKwBVRWO3Wex9ql0MBzbAcsnFzcAFAOkVBFy88hW63J1UIGJf6JwCuXLmC9fV1AIAxBv1+H0QEESEiMsxs1NMTke10OiqkE5GO2rAxJtksERkRMaj9R1sLfJysB1CFEEpjjGqA+hiDWrPK+H3ViFxLc2eZTEHbM6trAIB3331XNOEaC8DCwoK+JCKCc47ia1Lq2+oWtboXRFREALpxzA4Ruegj9FnDzDDGCABmZjbGqPqXOFr5Ml5HqE2uin6mxFGk0V4B4LIsiYh8pO05yBxCECLC4uIiXbp0SbJstgnA3t5e7gTbbrNBf9sgKBCoTSBFBUSugMgTAGiMlizmewClMcYDGMXvlxHUMgpeZgInrhEB9Vm48/GawuSNGzdodnYWp06dEu89QsitJgMgQ08R1FhOIQTKihgkIoaZrTEm8QARSUCISBf1ihbRri1iGG0BwKjtvxOFdHoVERdC0N8wkVjlpqTFG2nFe5/P//Tp0+JcLeb169dxeHiI55577jgAjz/+OFqt7TFyDSBmJiIyquIRgEJVH7UZFDiK3xoZdPICgDOvn6/2iIg03ObEikSEtAoVgcznKXF+6V6321VtoNXVVezs7DTkSkRoc3OzDUAtde0PGmSCiKgoCiIiik6uZkiRJEWG6IhInWNXRHpE1ENNfnJSNJFdJwBMiMgEgAkiGhCRPt8D0DPGdBVcZi7UxHDcR7XDOLz3+POf/9yQb5wT1C8pomNbCAHMTDE85TTYoqUJiOaAOpHK9VWjQRE5gM3GyHMKAIAxRqQOS0xE4pxrpMwA2HtvALA68Vwea60sLy+PB+Djjz/G5z73OZ1UTiqkqiohImFmFEUhRCTGmLzUlTcTBVWTKBBXTBki1U1/i1E7N/UVyi5T0RS1xQgza/1gXBrNcXyOmsg4YpLQsbz3qRLVAGB+fr4tCLz3IiKKtMQQJnEwtb8crBQ6lT/ESSQHSURKpAT1CodoLho2rSZRugAikjLFzHmGOG6izhlXaZOvJPTJkyePrRYAIBYWGiqvzEmFNcao0ByLGg1NyX8w8w+5eeRa0RWRDhF1Ee0bNY9QX6G9LyI9EenGZ/NESbsFoKm6EREzGo00cjR8wc7OTgOApAFxdRt1u6IokpqJCHvvWfN2XRGuwwFnK5OnqkkTMmflEHlBZgYBRyGONFTGz5jqBCnPFRwAx8zqcBt+AwBFx50zRgFAw+FQpqenjwNw9+5ddLtdnDhxQifV6MwsRMTGGGHmRkEjqjFHVU3fia9T+IwTUpMw2cRyz60rlhMl1ZqCmQuKeUO09UTTs/HbJqBNBoNB40YygY2NDezt7Y35Tj0Zay0751hEQqSwqefvY4Ejd1LqM6B5QeyaMjsR0SQq74lRRqKkxKqgZhGmHQa1RjkWhHY+kDTga1/7mjrCdtUWcSD23jMRBWttyuSIqBIRVVEPwBtjqgyMoGGrsRS1o1M75YzhtWlyyjjj1ajKM7OlukjTSOOJKGe2DSBipEstacCPf/xjvPnmm405olV0cM6FWMkNAEIIIYhIEJHAzIGIfLRXBScvdXE0k6QRes1UN88xbKYx6jPymoQxxhiKmWrm8Nr1jEbb399vvE8a8Morr2Bubi53hNpUCwxqLQjW2hALGAFHK14BqJi5QqYZCkh8VkFgHK16Hu/y0Jm/TnZtjEkFV2amGgP6mwuhmhdoSxrQ6XRw69YtfPjhh+3vNKo41tpUxnLOqVfOe+L0+WfRcWnxI2lF5i8Sr49JzrjKlIKUkyS9Nljj39oSHLdu3UJZlpiammonFzqohiolJKmaE4X0AKpcG3CU4alj03Q2D1mIgqUQqpEk4yH6TEPAfMVzkhaf1Wca9733yFsC4Jvf/Ga6eePGDSwuLkq3202/EEKQw8ND7vV6wTmXfIBGgBBCZa11RKQakKe4eVZIOMrwEAE1aDo/NRENs6nFvcNxPckOQEII4r3XLfvU2u+PbWHdvXsXP/vZz2R3d7fxAzEfYOeclrG8McZHx1dZa0sAlYhUrUKG9rFmgjHmgiONUocaiEjB5pgWJFDGACHOOXQ6nXYyJwcHB40bSQM0PpZlia9//esgInz66acYDAbS7/el1+vl5WldIR9XXusBlYJgrS2ZeRR5foFY4oo/Rzji+GoOwBG3aFSGc0eqYTUDpr2VxiIiVVVJBKABTntXOQGwsbEBoK4MTUxM4Nq1a7DWyurqKvr9fu4LGltaWtcjokRViaiUowqRFk+1LKarwkQUYgKUp98hRo9cEyoc+Z1kJpnwDUGJSLfZj7XLv/41Ln7jG8cBmJycTDe99xgMBlhZWUG/34fm4DiqtugkTFTHYK2toqClMSavE+bbZg0AolAujoM6fxI1sWQ6GSBKuJR7sDGGiYhDCJwla+N8BUQERcssEgBxXzA1IsL169fhvcezzz6LmZkZnTRQU01NjnRlQlx93cRQB5gXRY8BEEHLa4XJDESkAlBGv6J8Q/1OCHWFs60NHBM0oeaxHGEAZ7/61YacCYCvfOUrjQ9iLAZQcwS9rVctkuS0GEf5uZawx5WqdEWUHCnLUwKWA1ACGBljSmYu0XSMPv42I+4469hVVYlzTjIzEABg7/Hrt97Cd1588TgA4zYNFIiDgwM5efJkftyFu92u7tLoVpWPk05cHc0ymTo6TaN1T1ALIMeywBhSRwoCjkeJPClLGhALoTrXpPLGGLlw7lxDvgRAe8Mgb4PBIP88IT0cDrkoimCt1ZS0kqPydc7rc9Kjds5RrS0zK/UFjtih0ulSREaoQ+UIx0NqDkR7w7ThBzY2NrC7u4szTz752QBotYRop9PRukBgZmOtJWOMCSFUmqigWZBIDjSuvgPgjDGavipzy80qlcrRigo4rgFt4dN8RQR5IeQYABcvXnygxLdv38Zrr72GH/7wh3myxNnWNzvngvfeOOd8FttV7TXuCx1thzf2CzIfoOww3x3OQVBfkK9+mws0vP/W1pZcv35dTp48ibm5ufEA6GnPdhMRTExMYHJyMs4/edbGigKgeERGdz8aiUx0qoIsj4j5fHKCUu9Cae0x8QvUkaCt+rkW5IXSvEwuADA3N4fnn38eRVEc2yEmvfHHP/5xLAAKAhHh3LlzjTMEIQQ3Go3MYDAwAFw8M2BjbE9VHIm7x3HnuMg+y2uFjb2ILBwGHGmAR51yj1DvJ+q9HBzVCjUlvnfvnty4cUO0SLK2tpZkSxqwsrIyVngiSsddx5y5YWOMbjhyzA2AOlevgNrzxqKHZAXUEFmj8oMcAAUhX1HPzJUxplK2GULwqJmor6qKY54iQE3kdnd3OdY35He/+51cvnwZExMTMMY0AEga0CZCbRC89/DeY2pqKs/TDQA6PDw0uolpjLHOOcfMzntvnXPOGFOISBFCKGLG6Jg5rw6bPM9HdogiRgT1GxUze135yBBLLcyo1ohIqKqKO51OKMtS3n//fckLJhcuXDiuAXfu3HkgAABweHiYb5/lbI76/T6JCO/s7ICIMD09jbhzlJe2OdJXZ611xpik+sxsRUTNqyYtzcqzRoQQt9FTPTKEkMryMV1nItJECKPRCH/4wx/SHmcbgKQB77777kMBUAR7vR594QtfQLb3ljRBRCiGQ43tNhNU9wotxd0hZrbWWqrLCibXAM0/NGNMSVCoz+h5730wxngR8cwcnHNp1XHkA0RE+ODgoOH5coefNODnP//5QwGg+GeElZUVefLJJ8fVDYmISP0EM0sIAd1ut6EFEQwTQtBTZCYSKZWfdOs7jpMSHsSSnF5jPpCKJ51Oh9vz8t5ja2urUTMcC4Cex39Y63Q6WFlZQVEUcu/ePep2uxgMBnmWqBrBzjndUzQAJO7aSqwm6Va60mATQtATH3k0yLM6RvQJ6khRO0dmZv2cEfnGaDSSbreLoihQVRVCCGMPTuZbY38VAGstiqLAaDTC66+/Lt/61rf0rzQPqiKnvQU9GxTvKwB65s9E+0x1/QwEHVMTHXbOcfQFbK1VX5GYX1mWuH37NpaXl2l3d5eXl5cfeGp07F9mHtaICGVZYjAYYGZmRgDQaDSSoijywmQuHEUA8tp/ewsrnUkOIehefg5AIl5RzVPPs8DsGTlz5oxYa+XevXu4c+dOntHiXJYQfWYA1Jacc7r7Im+++SZWV1fp7NmzOlktn7XBUHJCIQRDddxUUqUHq5MGVFUFAIibtOrUhJnVNDi7z3fv3hURkaWlpWQ6Tz311EPl+cwAjGvRxnS1xjrI1n0ajUbinCNdGf2vQQyFABqHnZMmhBAkaiADkMPDQ4n/cJPhcIj5+Xl1nvj3n/4UB/v7ODEx0ZjQv7788qMFoNPppBj76aefyi9+8QssLS3JpUuXKNt2b+QGg8EgrzNSr9djzQi1jTlqj+hcARz9+cJ7D+ecnDlzJiVABwcH0GNxh/H/UOPaIwEgb/fv38fVq1fbyVVuy5RdtVGkrzQzM/Mwhyzta/Y7aZE/+ugj/Odbb8n0zAzmTp1CfbJmfHvkADjnMDMzg8ceewzGGNnf38fly5fp9OnTknNwNEEQay2mpqbaf7Bot3alV8a9/u1vfytXr13D6uoqyrJ86Hz/euz7O5uivr29jV/+8peyubmZx/Njh5xiMjMutz/WfVXxzs4O7+zsyL1792R/f78RBRYWFjA5OYm4OXKs5+2Ra0C7OeewsLCA+F+kvKUVGw6H2Nzc1Pxh7DiBGT0iWXr8cbp5+zY+eP99mZ6exsHBAZaWlrC6upqefZjKt1vKBf5Z2/+ZCfx/af8DTo8DJZHbJ6cAAAAASUVORK5CYII=","1519981TePyml"],YS=$S;function $S(t,e){return jS[t-=413]}!function(t,e){const r=$S;for(;;)try{if(921046===-parseInt(r(462))*parseInt(r(427))+parseInt(r(416))*parseInt(r(463))+-parseInt(r(421))*-parseInt(r(437))+parseInt(r(438))+-parseInt(r(436))+-parseInt(r(414))+-parseInt(r(450))*-parseInt(r(433)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(jS);class XS{constructor(e,r={}){const i=$S;if(this[i(446)]=t.Aid[i(457)](this.constructor.name),!(e&&e instanceof t.Polygon))throw new Error(i(430));if(this._area=e,null!=r.snowLevel&&(!/^\d+$/[i(464)](r.snowLevel)||r[i(458)]<1||r[i(458)]>6))throw new Error(i(445));switch(r[i(458)]){case 1:this[i(429)]=.8,this._divide=40;break;case 2:this[i(429)]=.9,this[i(417)]=40;break;case 3:this._snowSize=1,this._divide=40;break;case 4:this._snowSize=1.2,this[i(417)]=40;break;case 5:this._snowSize=1.3,this._divide=40;break;case 6:this[i(429)]=1.4,this._divide=40;break;default:this[i(429)]=.8,this[i(417)]=40}if(null!=r[i(451)]&&(!Number[i(454)](r[i(451)])||r[i(451)]<=0))throw new Error(i(434));this[i(449)]=(void 0!==r[i(451)]?r.height:1e4)/11e4,this[i(428)]=2-this[i(429)];const n=i(426);this._imageSrc=r.imageSrc||n,this[i(413)]=this[i(415)]()}_loadImg(){return new Promise((t=>{const e=$S,r=new Image;r[e(452)]=function(){this[e(444)]=r,t(this)}[e(424)](this),r.crossOrigin="anonymous",r[e(448)]=this[e(456)]}))}[YS(431)](){return this[YS(446)]}[YS(465)](){const t=YS;let e=Object[t(440)](this);for(let r=0,i=e[t(422)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}_calculateVertex(){const e=YS,r=this._area,i=this[e(449)]*this[e(460)][e(423)]()/this[e(447)]*1.5;let n=[],s=[],o=[],a=[],h=[];const l=r[e(442)](),c=l[e(435)](),u=l.getBottom(),p=l[e(425)](),f=l[e(461)](),g=this[e(460)].getExtent(),d=g.getLeft(),_=g[e(432)](),y=g.getRight(),m=g[e(461)](),I=c>d?c:d,x=u>_?u:_,v=f>m?m:f,b=((p<y?p:y)-I)/this[e(417)],w=(v-x)/this[e(417)];for(let l=0;l<this[e(417)];l++)for(let c=0;c<this[e(417)];c++){let u,p;Math[e(443)]()>.5?(u=-1*Math[e(443)](),p=Math.random()):(u=Math[e(443)](),p=-1*Math[e(443)]());const f=(.5*(1+u)+l)*b+I,g=(.5*(1+p)+c)*w+x,d=new t.Coordinate(f,g,0);r[e(455)](new t.Point(d))&&(n[e(459)](f,g,i),h[e(459)](Math[e(418)]((Math[e(443)]()+1)*this[e(429)])),s[e(459)](10*Math[e(443)]()),o[e(459)](2*Math[e(443)]()*Math.PI,2*Math[e(443)](),2*Math[e(443)]()),a.push(1+Math.random(),1+Math.random(),(Math[e(443)]()+1)*this[e(428)]))}Object[e(420)](this,{a_position:n,a_timeDelay:s,a_size:h,a_speed:a,a_rotation:o,u_initRes:this[e(447)]})}[YS(453)](t){const e=YS;this[e(460)]=t,this[e(447)]=t[e(423)](),this._map&&this[e(460)][e(439)]()[e(441)]()===e(419)&&(this[e(417)]*=11e4,this[e(449)]*=11e4,this[e(428)]*=11e4,this[e(429)]*=11e4)}}const WS=["function","_frameCount","extractCoords","_length","1801zPSPHg","float32FromDouble64","2933yxkfcB","26flEhBN","degrees","10299wHoyQY","4326","_isActive","getOrdinate","toUint8Array","_pointCount","getCoordCount","53CjNGzR","46PkhZoM","_id","getOwnPropertyNames","minSize","constructor","52919LUquFE","color","3mDKJiX","_insertCoords","coordSeq","45ovNEtF","161rCRqwP","createUnique","push","name","_maxSize","17WpXFaV","set","length","maxSize","10687aNgyeJ","_coordSeq","getId","_callBack","floor","frameCount","options.coordSeq was not a hmap.basetype.CoordSeq or with a count that less than 2!","_color","77611ByeHGx","33141EGkqmI"],ZS=JS;!function(t,e){const r=JS;for(;;)try{if(297691===-parseInt(r(451))*-parseInt(r(443))+parseInt(r(462))*parseInt(r(440))+-parseInt(r(433))*-parseInt(r(420))+-parseInt(r(424))*-parseInt(r(450))+parseInt(r(461))*parseInt(r(438))+-parseInt(r(456))*-parseInt(r(458))+-parseInt(r(432))*parseInt(r(441)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(WS);class qS{constructor(e,r){const i=JS;if(this._id=t.Aid[i(463)](this[i(455)][i(418)]),e=e||{},this[i(425)]=e[i(460)]instanceof t.CoordSeq?e.coordSeq:new t.CoordSeq,this[i(425)][i(449)]()<2)throw i(430);this[i(437)]=e[i(422)]>0?e[i(422)]:365,this[i(435)]=Math[i(428)](e[i(429)])>=2?Math[i(428)](e.frameCount):20,this._pointCount=1,this[i(419)]=e[i(423)]>0?e[i(423)]:10,this._minSize=e[i(454)]>0?e.minSize:1;const n=e[i(457)]instanceof t.Color?e[i(457)]:new t.Color(255,0,0,1);this[i(431)]=n[i(447)](),this[i(445)]=!0,this[i(427)]=r}[ZS(426)](){return this[ZS(452)]}destroy(){let t=Object[ZS(453)](this);for(let e=0,r=t.length;e<r;e++){const r=t[e];this[r]=null,delete this[r]}}[ZS(459)](t=!1,e=ZS(442),r=ZS(444)){const i=ZS,n=this[i(425)][i(436)](),s=n[0][i(446)]("X"),o=n[0][i(446)]("Y"),a=n[0][i(446)]("Z");let h=[s,o,a],l=new Map,c=0;if(t){const t=Pt.float32FromDouble64(s,e),r=Pt[i(439)](o,e),n=Pt[i(439)](a,e);h=[t[0],r[0],n[0],t[1],r[1],n[1]]}l[i(421)](c,0);const u=this[i(437)]/(this._frameCount*this[i(448)]);for(let s=1,o=n[i(422)];s<o;s++){const o=n[s],a=n[s-1],p=o[i(446)]("X"),f=o[i(446)]("Y"),g=o[i(446)]("Z"),d=a.getOrdinate("X"),_=a[i(446)]("Y"),y=a[i(446)]("Z"),m=o.get3Dist(a,r),I=Math[i(428)](m/u),x=[(p-d)/m,(f-_)/m,(g-y)/m];if(I>0)for(let r=1;r<I;r++){const n=d+x[0]*u*r,s=_+x[1]*u*r,o=y+x[2]*u*r;if(t){const t=Pt.float32FromDouble64(n,e),r=Pt[i(439)](s,e),a=Pt[i(439)](o,e);h.push(t[0],r[0],a[0],t[1],r[1],a[1])}else h[i(464)](n,s,o);c+=1}if(t){const t=Pt[i(439)](p,e),r=Pt[i(439)](f,e),n=Pt[i(439)](g,e);h.push(t[0],r[0],n[0],t[1],r[1],n[1])}else h[i(464)](p,f,g);c+=1,l[i(421)](c,s)}return this.dataReady=!0,{positions:h,returnIndexMap:l,count:c+1}}returnPoint(t){const e=ZS;typeof this[e(427)]===e(434)&&this[e(427)](t)}}function JS(t,e){return WS[t-=418]}const KS=["colorArr","repeat","symbolSrc","357369fzCowy","_translateTo64","uvOffset","name","dataMap","setOrdinate","getCoordSeq","previous","13kqXccs","next","float32FromDouble64","parameter 'coordSeq' format must be CoordSeq!","width","361759nuWLEQ","compareV3","coordSeq","isAnimate","sqrt","1UVhJKI","getCoordCount","extractCoords","getOwnPropertyNames","push","side","_coordsToXYZs","checkCollinear","_getSmoothCoords","84549qmkFnB","placeLength","loop","227864AeGLmW","getOrdinate","1071420FsBNpw","lineWidth","25084pecNbo","smooth","speed","placeSpace","destroy","useAlpha","425090ZKTulX","positions","parameter 'symbolSrc' must be given!","format of parameter 'lineColor' must be an instance of Color!","toNormalizeArray","length","copyV3","lineColor","createUnique","showLine","_id","indices","hasOwnProperty","3VEwvve","_init"],QS=tP;function tP(t,e){return KS[t-=166]}!function(t,e){const r=tP;for(;;)try{if(279077===parseInt(r(175))*-parseInt(r(211))-parseInt(r(223))+-parseInt(r(201))*-parseInt(r(169))+parseInt(r(220))*parseInt(r(188))-parseInt(r(193))-parseInt(r(206))+parseInt(r(167)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(KS);class eP{constructor(e){const r=tP;this[r(185)]=t.Aid[r(183)](this.constructor[r(196)]),this[r(208)]=e[r(208)],this[r(168)]=e[r(168)]&&e.lineWidth>0?e[r(168)]:10,this[r(182)]=e[r(182)]?e[r(182)]:new t.Color(255,0,0,1),this.symbolSrc=e[r(192)],this.useAlpha=!!e[r(187)](r(174))&&e.useAlpha,this.repeat=!e[r(187)]("repeat")||e[r(191)],this[r(221)]=e[r(187)](r(221))&&e[r(221)]>0?e.placeLength:20,this[r(172)]=e[r(187)]("placeSpace")&&e[r(172)]>=0?e[r(172)]:20,this[r(184)]=!e[r(187)](r(184))||e[r(184)],this[r(209)]=!e[r(187)](r(209))||e[r(209)],this[r(171)]=e[r(187)](r(171))?e.speed:5,this[r(170)]=!e.hasOwnProperty(r(170))||e[r(170)],this[r(222)]=!e[r(187)](r(222))||e[r(222)],this[r(195)]=0,this.dataReady=!1,this[r(189)]()}_init(){const e=tP;if(!this[e(192)])throw TypeError(e(177));if(!(this.coordSeq instanceof t.CoordSeq))throw TypeError(e(204));if(this.coordSeq[e(212)]()<2)throw RangeError("coordinates count of coordSeq must more than 1");if(!(this.lineColor instanceof t.Color))throw TypeError(e(178));this[e(190)]=this.lineColor[e(179)]();let r=this[e(208)][e(213)]();this[e(170)]&&r[e(180)]>2&&(r=this[e(219)](r)),this[e(176)]=this[e(217)](r)}[QS(217)](t){const e=QS;let r=[];for(let i=0;i<t.length;i++){const n=t[i],s=n.getOrdinate("X"),o=n[e(166)]("Y"),a=n[e(166)]("Z");r[e(215)](s,o,a),r[e(215)](s,o,a)}return r}_getSmoothCoords(e){const r=QS,i=[];i[r(215)](e[0]);for(let n=1;n<e[r(180)]-1;n++){let s=e[n-1],o=e[n],a=e[n+1];const h=s.getOrdinate("Z"),l=o[r(166)]("Z"),c=a[r(166)]("Z");if(0!==t.Topology[r(218)](s,a,o)){let e=new t.Point(new t.Coordinate(o[r(166)]("X")-.1*(o[r(166)]("X")-s.getOrdinate("X")),o.getOrdinate("Y")-.1*(o[r(166)]("Y")-s[r(166)]("Y")),o.getOrdinate("Z")-.1*(o.getOrdinate("Z")-s[r(166)]("Z")))),n=new t.Point(o),u=new t.Point(new t.Coordinate(o[r(166)]("X")+.1*(a[r(166)]("X")-o.getOrdinate("X")),o[r(166)]("Y")+.1*(a[r(166)]("Y")-o[r(166)]("Y")),o.getOrdinate("Z")+.1*(a[r(166)]("Z")-o[r(166)]("Z")))),p=new t.BezierCurve2([e,n,u],10)[r(199)]()[r(213)]();for(let t=0;t<6;t++){p[t].setOrdinate("Z",h+.9*(l-h)+.1*(l-h)*(t+1)/6)}for(let t=0;t<6;t++){p[t+6][r(198)]("Z",l+.1*(c-l)*t/6)}i[r(215)](...p)}else i[r(215)](o)}return i[r(215)](e[e.length-1]),i}getId(){return this[QS(185)]}[QS(173)](){const t=QS;let e=Object[t(214)](this);for(let r=0,i=e[t(180)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}compareV3(t,e){const r=QS;let i=6*t,n=6*e;return this[r(176)][i]===this[r(176)][n]&&this[r(176)][i+1]===this.positions[n+1]&&this[r(176)][i+2]===this.positions[n+2]}[QS(181)](t){const e=QS;let r=6*t;return[this[e(176)][r],this.positions[r+1],this[e(176)][r+2]]}processData(t,e){const r=QS;let i=this.positions[r(180)]/6;this[r(200)]=[],this[r(202)]=[],this[r(216)]=[],this[r(205)]=[],this[r(186)]=[],this.uvs=[];for(let t=0;t<i;t++)this.side[r(215)](1),this[r(216)][r(215)](-1);let n;for(let t=0;t<i;t++)this.width[r(215)](1),this[r(205)][r(215)](1);n=this[r(207)](0,i-1)?this[r(181)](i-2):this.copyV3(0),this[r(200)][r(215)](n[0],n[1],n[2]),this[r(200)].push(n[0],n[1],n[2]);for(let t=0;t<i-1;t++)n=this.copyV3(t),this[r(200)].push(n[0],n[1],n[2]),this[r(200)][r(215)](n[0],n[1],n[2]);for(let t=1;t<i;t++)n=this.copyV3(t),this.next.push(n[0],n[1],n[2]),this[r(202)][r(215)](n[0],n[1],n[2]);n=this[r(207)](i-1,0)?this[r(181)](1):this.copyV3(i-1),this[r(202)].push(n[0],n[1],n[2]),this[r(202)][r(215)](n[0],n[1],n[2]);for(let t=0;t<i-1;t++){let e=2*t;this[r(186)][r(215)](e,e+1,e+2),this.indices.push(e+2,e+1,e+3)}let s=0;for(let t=0;t<i;t++){let e=this[r(200)][6*t],i=this[r(200)][6*t+1],n=this.previous[6*t+2],o=this.positions[6*t],a=this[r(176)][6*t+1],h=this[r(176)][6*t+2];s+=Math[r(210)]((e-o)*(e-o)+(i-a)*(i-a)+(n-h)*(n-h)),this.uvs[r(215)](s,0),this.uvs[r(215)](s,1)}t&&(this[r(176)]=this._translateTo64(this.positions,e),this[r(200)]=this[r(194)](this[r(200)],e),this[r(202)]=this[r(194)](this.next,e)),this[r(197)]={positions:this[r(176)],previous:this[r(200)],next:this[r(202)],side:this.side,width:this[r(205)],uvs:this.uvs,indices:this[r(186)],symbolSrc:this[r(192)]},this.dataReady=!0}[QS(194)](t,e){const r=QS,i=t[r(180)]/3,n=[];for(let s=0;s<i;s++){const i=Pt.float32FromDouble64(t[3*s],e),o=Pt[r(203)](t[3*s+1],e),a=Pt[r(203)](t[3*s+2],e);n.push(i[0],o[0],a[0],i[1],o[1],a[1])}return n}}const rP=["setColor","_colorArrayNormal","9SiRMfD","65344ZmeIuB","getPosition","1383JncjrC","_getPositionArray","246059QuCCwr","_colorSide","getOrdinate","position must be the instance of Coordinate!","_horiAngle","173997XQrOUx","_id","_colorArrayNormalS","_radius","setVertAngle","getId","145268ttZvfc"," must be a number that between 0 and 180!","parameter must be number!","_orien","33338BNPOrL","vertAngle must be a number that between 0 and 180!","_calcSideLengthNomal","1dLNLam","_color","constructor","setRadius","getSideColor","isFinite","_vertAngle","77159CxrxeF","getHoriAngle","tan","parameter must be an instance of Color!","radius must be number and greater than 0!","destroy","1HBgmzo","createUnique","getOrien","setOrien","getVertAngle","toNormalizeArray"," must be the instance of Coordinate!","_position","length"],iP=nP;function nP(t,e){return rP[t-=436]}!function(t,e){const r=nP;for(;;)try{if(166374===parseInt(r(441))+parseInt(r(459))+parseInt(r(478))*parseInt(r(458))+-parseInt(r(463))*parseInt(r(447))+parseInt(r(474))+-parseInt(r(468))+-parseInt(r(461))*parseInt(r(481)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(rP);class sP{constructor(e,r,i,n,s,o){const a=nP;if(this[a(469)]=t.Aid[a(448)](this[a(436)].name),!(e instanceof t.Coordinate))throw a(466);if(this[a(454)]=e,!Number[a(439)](r)||r<=0||r>=180)throw a(479);if(this[a(440)]=r,!Number[a(439)](i)||i<=0||i>=180)throw"horiAngle must be a number that between 0 and 180!";if(this[a(467)]=i,!Number.isFinite(n)||n<=0)throw a(445);if(this[a(471)]=n,!(s instanceof Array)||3!==s.length)throw"orien must be an object of Array with 3 number!";this._orien=s,this[a(482)]=o,this._sidesNormal=this[a(480)](),this[a(457)]=this[a(482)][a(452)](),this[a(464)]=this[a(482)],this._colorArrayNormalS=this[a(464)].toNormalizeArray()}_calcSideLengthNomal(){const t=nP,e=this[t(440)]*(Math.PI/180),r=this[t(467)]*(Math.PI/180),i=Math[t(443)](e/2),n=Math[t(443)](r/2),s=Math.sqrt(1+n*n+i*i);return{sideV:2*i/s,sideH:2*n/s,h:1/s}}[iP(473)](){return this[iP(469)]}setPosition(e){const r=iP;if(!(e instanceof t.Coordinate))throw e+r(453);this[r(454)]=e}[iP(460)](){return this[iP(454)]}[iP(456)](e){const r=iP;if(!(e instanceof t.Color))throw r(444);this[r(482)]=e,this[r(457)]=this._color.toNormalizeArray()}getColor(){return this[iP(482)]}setSideColor(e){const r=iP;if(!(e instanceof t.Color))throw"parameter must be an instance of Color!";this[r(464)]=e,this[r(470)]=this[r(464)].toNormalizeArray()}[iP(438)](){return this[iP(464)]}[iP(437)](t){const e=iP;if(!Number.isFinite(t))throw e(476);this._radius=t}getRadius(){return this._radius}[iP(450)](t){this._orien=t}[iP(449)](){return this[iP(477)]}[iP(472)](t){const e=iP;if(!Number.isFinite(t)||t<=0||t>=180)throw t+e(475);this[e(440)]=t,this._sidesNormal=this[e(480)]()}[iP(451)](){return this[iP(440)]}setHoriAngle(t){const e=iP;if(!Number[e(439)](t)||t<=0||t>=180)throw t+e(475);this._horiAngle=t,this._sidesNormal=this._calcSideLengthNomal()}[iP(442)](){return this._horiAngle}[iP(462)](){const t=iP;return[this[t(454)].getOrdinate("X"),this[t(454)].getOrdinate("Y"),this[t(454)][t(465)]("Z")]}[iP(446)](){const t=iP;let e=Object.getOwnPropertyNames(this);for(let r=0,i=e[t(455)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const oP=["623380dLLmkZ","230668XSPPJQ","floodColor","_floodHeight","23413jTsqyh","destroy","521dFQFop","toNormalizeArray","14DLrhCg","name","_id","372ODFXeK","setFloodColor","1223mNTZmc","282229nuaIBP","floodHeight","_init","getOwnPropertyNames","setFloodHeight","getFloodHeight","1405771NaZQfC","createUnique","getId","hasOwnProperty","_floodColorArr","_floodColor","1184MiHekw"],aP=hP;function hP(t,e){return oP[t-=339]}!function(t,e){const r=hP;for(;;)try{if(545439===parseInt(r(349))*-parseInt(r(361))-parseInt(r(350))+parseInt(r(356))*-parseInt(r(363))+parseInt(r(351))+-parseInt(r(354))*-parseInt(r(358))+parseInt(r(364))+parseInt(r(343)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(oP);class lP{constructor(e){const r=hP;this[r(360)]=t.Aid[r(344)](this.constructor[r(359)]),this[r(348)]=e[r(346)](r(352))?e[r(352)]:new t.Color(0,0,255,.5),this[r(353)]=e.hasOwnProperty(r(365))?e[r(365)]:0,this[r(339)]()}[aP(339)](){const e=aP;if(!(this[e(348)]instanceof t.Color))throw TypeError("parameter floodColor must be instance of Color.");this[e(347)]=this._floodColor[e(357)]()}[aP(342)](){return this._floodHeight}[aP(341)](t){this[aP(353)]=t}getFloodColorArr(){return this[aP(347)]}[aP(362)](e){const r=aP;if(!(e instanceof t.Color))throw TypeError("parameter must be instance of Color.");this[r(347)]=e[r(357)]()}[aP(345)](){return this._id}[aP(355)](){let t=Object[aP(340)](this);for(let e=0,r=t.length;e<r;e++){const r=t[e];this[r]=null,delete this[r]}this._isDestroy=!0}}const cP=["124529VUDElL","167849rWxOVq","opacity","_speed","speed","463GFMjFz","getId","setColor","getOwnPropertyNames","getSpeed","createUnique","setOpacity","name","161ApHrTE","setId","length","_opacity","_id","1uyxHxi","parameter 'color' must be instance of Color!","4ysUsVP","hasOwnProperty","toNormalizeArray","_color","startParam","getOpacity","_initRadar","_colorArr","setSpeed","_isDestroy","getColor","984547teLUsz","7394YnKKrF","color","4365395eonlUj","1783gOBaWM","1QTTWYb","1175963dYEzhI"],uP=pP;function pP(t,e){return cP[t-=214]}!function(t,e){const r=pP;for(;;)try{if(735789===parseInt(r(244))*parseInt(r(225))+-parseInt(r(248))*parseInt(r(240))+parseInt(r(223))*-parseInt(r(236))-parseInt(r(242))+parseInt(r(218))*-parseInt(r(237))+-parseInt(r(241))*parseInt(r(243))+parseInt(r(239)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(cP);class fP{constructor(e){const r=pP;if(new.target===fP)throw new Error("the RadarScan is abstract class,can not be instanced!");this[r(222)]=t.Aid[r(215)](this.constructor[r(217)]),this._color=e[r(226)](r(238))?e.color:new t.Color(255,0,0,1),this[r(221)]=e[r(226)](r(245))?e[r(245)]:1,this[r(246)]=e[r(226)](r(247))?e[r(247)]:1,this[r(229)]=void 0,this._initRadar()}[uP(231)](){const e=uP;if(!(this._color instanceof t.Color))throw TypeError(e(224));this[e(232)]=this[e(228)][e(227)]()}[uP(216)](t){this._opacity=t}[uP(230)](){return this[uP(221)]}[uP(250)](e){const r=uP;if(!(e instanceof t.Color))throw TypeError("parameter 'color' must be instance of Color!");this._color=e,this[r(232)]=this[r(228)][r(227)]()}[uP(235)](){return this[uP(228)]}[uP(233)](t){this[uP(246)]=t}[uP(214)](){return this[uP(246)]}[uP(249)](){return this._id}[uP(219)](t){this[uP(222)]=t}destroy(){const t=uP;let e=Object[t(251)](this);for(let r=0,i=e[t(220)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this[t(234)]=!0}}const gP=["gravity","1IRZzOE","orders","destination","hasOwnProperty","origin","timeBloom","addEffect","push","26ycwXMe","trailIcon","particleTrailCount","name","bloomSize","bufferTrail","468113OzviWq","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAyNi8xMi8xMcZdNcsAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAAATUlEQVQImV3MPQ2AMBQE4K+EnaUOcFAROEAlTjohoDioh7K8JoRbLveb/DDGACnEhoKMjrpGseDAjgeWCHKYZ3CeQY/mFdzmVf0sG+4XEhkRBqSyQ+IAAAAASUVORK5CYII=","unvalid 'origin' !","positionsL","timeTrail","inertias","the gravity or inertia is not suitable!","error","trailSize","bloomIcon","particleTrailInterval","97297YqLZjM","bloomType","float32FromDouble64","818332WGEzlz","unvalid gravity !","positions","loopTime","unvalid bloomType!","bloomSpeed","_initDataMap","sin","inertia","484073amgiGS","isInteger","blendMode","1hXHgxw","getElement","positionCount","_initEffects","constructor","bloomCount","100441RHKJWB","bufferBloom","resetByMapUnit","offsets","1LdusUW","_id","random","cos","sqrt","length","800541abruZc","_effects","402701CeTnrG","speed","delay"],dP=_P;function _P(t,e){return gP[t-=321]}!function(t,e){const r=_P;for(;;)try{if(423667===parseInt(r(367))*parseInt(r(330))-parseInt(r(358))+parseInt(r(370))*-parseInt(r(326))+-parseInt(r(344))*parseInt(r(380))-parseInt(r(324))-parseInt(r(376))+parseInt(r(355))*parseInt(r(338)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(gP);class yP{constructor(e={}){const r=_P;if(this[r(381)]=t.Aid.createUnique(this[r(374)][r(341)]),!e[r(333)](r(334)))throw new SyntaxError(r(346));const i=r(345);this[r(334)]=e.origin,this[r(332)]=e[r(333)]("destination")?e[r(332)]:null,this[r(328)]=e[r(333)](r(328))?e[r(328)]:1,this[r(366)]=e[r(327)]?e.speed:[0,0,60],this[r(329)]=e.gravity?e[r(329)]:[0,0,-9.8],this.trailSize=e[r(352)]?e.trailSize:5,this[r(339)]=e[r(339)]?e[r(339)]:i,this[r(342)]=e.hasOwnProperty("bloomSize")?e.bloomSize:20,this[r(363)]=e[r(333)](r(363))?e[r(363)]:60,this.bloomCount=e.hasOwnProperty("bloomCount")&&Number[r(368)](e[r(375)])?e[r(375)]:50+50*Math[r(382)](),this[r(356)]=e[r(333)](r(356))?e[r(356)]:0,this[r(353)]=e.bloomIcon?e[r(353)]:i,this[r(369)]=e[r(369)]?e.blendMode:"alpha",this[r(340)]=e[r(333)](r(340))?e[r(340)]:20,this[r(354)]=e[r(333)](r(354))?e[r(354)]:.01,this[r(325)]=[],this[r(373)]()}[dP(364)](e){const r=dP;let i=0,n=[0,0,0];if(this[r(332)]){i=0;const e=new t.Vector3(this[r(332)]._x-this[r(334)]._x,this[r(332)]._y-this[r(334)]._y,this[r(332)]._z-this[r(334)]._z);if(0===this[r(329)][2])i=e[r(371)](2)/this.inertia[2],this[r(366)][0]=e[r(371)](0)/i,this.inertia[1]=e.getElement(1)/i,n=[e[r(371)](0),e[r(371)](1),e.getElement(2)];else{const t=.5*this[r(329)][2],s=this[r(366)][2],o=s*s-4*t*-e[r(371)](2);if(o<0)return console[r(351)](r(350)),!1;if(0===o){const t=-this[r(366)][2]/this[r(329)][2];if(t<0)return console[r(351)]("the gravity or inertia is not suitable!"),!1;i=t}else{const t=(-this[r(366)][2]+Math[r(322)](o))/this[r(329)][2],e=(-this[r(366)][2]-Math.sqrt(o))/this[r(329)][2];if(t<0&&e<0)return console[r(351)]("the gravity or inertia is not suitable!"),!1;t<0&&(i=t<0?e:t)}const a=this[r(366)][2]*i+.5*this.gravity[2]*i*i;n=[this[r(366)][0]*i,this.inertia[1]*i,a]}}else{if(0===this[r(329)][2])throw new SyntaxError(r(359));i=-this[r(366)][2]/this[r(329)][2]*.9;const t=this.inertia[2]*i+.5*this[r(329)][2]*i*i;n=[this[r(366)][0]*i,this.inertia[1]*i,t]}const s=0!==this[r(329)][2]?-1.2*this[r(363)]/this.gravity[2]:i/5;this[r(377)]={inertias:[],positions:[],orders:[],offsets:[],size:this.bloomSize,positionCount:0,opacity:1,endOpacity:0,iconUrl:this[r(353)]};for(let t=this[r(375)]-1;t>=0;t--)for(let t=0;t<this[r(340)];t++)this[r(377)][r(379)][r(337)](n[0],n[1],n[2]),this[r(377)].positions[r(337)](this[r(334)]._x,this[r(334)]._y,this[r(334)]._z),this[r(377)].orders.push(t);this[r(377)][r(372)]=this[r(377)][r(379)][r(323)]/3,this[r(343)]={inertias:[...this[r(366)]],positions:[this[r(334)]._x,this[r(334)]._y,this[r(334)]._z],offsets:[0,0,0],orders:[0],size:this[r(352)],positionCount:1,opacity:1,endOpacity:0,iconUrl:this.trailIcon};for(let t=0;t<20;t++)this[r(343)].inertias[r(337)](...this.inertia),this.bufferTrail[r(360)][r(337)](this.origin._x,this[r(334)]._y,this.origin._z),this[r(343)].offsets[r(337)](0,0,0),this[r(343)][r(331)][r(337)](t+1);this[r(343)][r(372)]=this[r(343)][r(379)][r(323)]/3,this[r(348)]=i,this[r(335)]=s,this[r(361)]=this[r(335)]+this[r(348)]+this[r(328)]}[dP(373)](){const t=dP;this[t(325)].push((function(t){const e=_P;function r(e){const r=_P,i=Math.random()*Math.PI*2,n=(Math[r(382)]()-.5)*Math.PI,s=Math[r(365)](i),o=Math[r(321)](i),a=e*Math.sin(n)*s,h=e*Math.cos(n)*s,l=-e*o,c=[];for(let e=0;e<t[r(340)];e++)c[r(337)](a,h,l);return c}const i=[];for(let n=t.bloomCount-1;n>=0;n--)i.push(...r(t[e(363)]));return i}));this[t(325)].push((function(e){const r=t;function i(t){const r=_P,i=Math.random()*Math.PI*2,n=(Math[r(382)]()-.5)*Math.PI,s=Math[r(365)](i),o=Math[r(321)](i),a=t*Math[r(365)](n)*s,h=t*Math[r(321)](n)*s,l=-t*o,c=[];for(let t=0;t<e[r(340)];t++)c[r(337)](a,h,l,a/2,h/2,l/2);return c}const n=[];for(let t=e.bloomCount-1;t>=0;t-=2)n[r(337)](...i(e[r(363)]));return n}))}[dP(336)](t){const e=dP;return this._effects[this[e(325)][e(323)]]=t,this[e(325)][e(323)]-1}updateBloomInertias(){const t=dP;this[t(325)][t(323)]-1<this[t(356)]&&console[t(351)](t(362)),this[t(377)][t(349)]=this._effects[this[t(356)]](this)}[dP(378)](t,e){const r=dP,i=this[r(377)][r(360)],n=[],s=[];for(let e=0;e<i.length/3;e++){const o=Pt[r(357)](i[3*e],t),a=Pt[r(357)](i[3*e+1],t),h=Pt[r(357)](i[3*e+2],t);n[r(337)](o[0],a[0],h[0]),s.push(o[1],a[1],h[1])}this[r(377)][r(360)]=n,this[r(377)][r(347)]=s;const o=this[r(343)][r(360)],a=[],h=[];for(let e=0;e<o[r(323)]/3;e++){const i=Pt.float32FromDouble64(o[3*e],t),n=Pt[r(357)](o[3*e+1],t),s=Pt[r(357)](o[3*e+2],t);a.push(i[0],n[0],s[0]),h[r(337)](i[1],n[1],s[1])}this[r(343)].positions=a,this.bufferTrail[r(347)]=h}}const mP=["normalColors","toArray","get3Dist","push","718JWuVbu","frameDelay","dataReady","_initTrace","speed","parameter 'color' must be instance of Color!","1557995znkyze","fps","690444jzmPEx","1006ObDpgU","coordinates count after simplify must more than 1","23iDciOE","hasOwnProperty","fill","5033MTGWhv","length","getId","_id","coordSeq","radius","parameter 'coordSeq' must be instance of CoordSeq!","_color","271988jbyTEI","getOrdinate","createUnique","delay","coordsArray","1qLLDoe","_speed","9956NeFSBC","CLASS_NAME","data","drawPointNum","1svNJgp","getCoordCount","processData","ceil","color","1072521qZSgVx"],IP=xP;function xP(t,e){return mP[t-=398]}!function(t,e){const r=xP;for(;;)try{if(792704===-parseInt(r(421))-parseInt(r(434))+-parseInt(r(405))*-parseInt(r(410))+parseInt(r(435))*-parseInt(r(416))-parseInt(r(432))+parseInt(r(437))*parseInt(r(412))+parseInt(r(440))*parseInt(r(426)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(mP);class vP{constructor(e){const r=xP;this[r(400)]=t.Aid[r(407)](this[r(413)]),this[r(401)]=e[r(401)],this[r(411)]=e.speed&&e.speed>0?e[r(430)]:20,this.fps=e.fps&&e[r(433)]>0?e[r(433)]:30,this._color=e[r(420)]?e.color:new t.Color(240,141,65,1),this.radius=e[r(402)]?e[r(402)]:10,this[r(408)]=e[r(438)](r(408))?e[r(408)]:0,this[r(428)]=!1,this._init()}_init(){this[xP(429)]()}[IP(418)](t){const e=IP,r=this[e(409)],i=this[e(411)]/this[e(433)],n=this[e(422)];let s=[],o=[],a=[],h=[],l=[],c=0,u=0;for(let p=0;p<r[e(398)]-1;p++){let f=r[p],g=r[p+1];s[e(425)]([f[e(406)]("X"),f[e(406)]("Y"),f.getOrdinate("Z")]),o[e(425)](...n);let d=Math[e(419)](f[e(424)](g,t)/i);a[e(425)](c),c+=d,h[e(425)](c);const _=[(g[e(406)]("X")-f[e(406)]("X"))/d,(g.getOrdinate("Y")-f[e(406)]("Y"))/d,(g[e(406)]("Z")-f[e(406)]("Z"))/d];l[e(425)](..._),u++}let p=new Array(u)[e(439)](c),f=this[e(402)],g=new Array(u)[e(439)](f);this[e(415)]=u,this[e(414)]={positions:s,colors:o,sizes:g,currFrameNums:a,nextFrameNums:h,routeFrameSums:p,offsetPerFrames:l},this[e(428)]=!0}[IP(429)](){const e=IP;if(!(this[e(401)]instanceof t.CoordSeq))throw TypeError(e(403));if(this[e(401)][e(417)]()<2)throw e(436);if(this[e(409)]=this.coordSeq.extractCoords(),!(this[e(404)]instanceof t.Color))throw TypeError(e(431));const r=this[e(404)][e(423)]();this[e(422)]=[r[0]/255,r[1]/255,r[2]/255,r[3]],this[e(427)]=this.delay*this[e(433)]/1e3}[IP(399)](){return this._id}}const bP=["3OzCIuU","2uOLBhs","toArray","_polygon","456096pUDqwI","156527AleBFa","polygon must be hmap.geom.Polygon instance!","_id","_buffer","953091AqZVLo","_SphereBufferGeometryDot","getBuffer","_center","getOwnPropertyNames","getCoordSeqs","assign","name","610164NVOEQX","getId","_setMap","274745cslBkR","374996rNLqXw","length","getCentroid","111881JRdQex","_force","_init"];function wP(t,e){return bP[t-=493]}const TP=wP;!function(t,e){const r=wP;for(;;)try{if(637869===parseInt(r(495))+-parseInt(r(511))+parseInt(r(499))+-parseInt(r(510))*-parseInt(r(518))+parseInt(r(514))+parseInt(r(507))+-parseInt(r(494))*parseInt(r(517)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(bP);class EP{constructor(e,r){const i=wP;if(this[i(497)]=t.Aid.createUnique(this.constructor[i(506)]),!(e instanceof t.Polygon))throw new Error(i(496));this[i(493)]=e,this[i(498)]=r.buffer||.001,this[i(502)]=this[i(493)][i(513)]()[i(519)](),this[i(515)]=r.force||1,this[i(516)]()}[TP(508)](){return this[TP(497)]}destroy(){const t=TP;let e=Object[t(503)](this);for(let r=0,i=e[t(512)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}_init(){this[TP(500)]()}[TP(509)](t){this._map=t}_SphereBufferGeometryDot(){const t=TP;let e=Rh(this[t(493)][t(501)](this[t(498)],"OUTSIDE")[t(504)]());Object[t(505)](this,e)}}const CP=["5lAUthG","92847xZPtpt","length","76236lnAbwk","4IMJgzP","createUnique","20347IcYuRr","push","index","53376xDjwvc","_translateTo64","_applyWaterHeight","260531FWqBAs","53148OxOGFF","193233dQpHEn","coordSeqs","positionCount","float32FromDouble64","dataReady","getOwnPropertyNames","name","_id"],AP=MP;function MP(t,e){return CP[t-=231]}!function(t,e){const r=MP;for(;;)try{if(136855===-parseInt(r(242))-parseInt(r(251))+parseInt(r(237))*parseInt(r(250))+parseInt(r(240))+parseInt(r(241))+-parseInt(r(234))*parseInt(r(232))+-parseInt(r(231)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(CP);class SP{constructor(e={}){const r=MP;this[r(249)]=t.Aid[r(233)](this.constructor[r(248)]),this.coordSeqs=e.coordSeqs,this[r(246)]=!1}getId(){return this._id}processData(t,e,r){const i=MP;let n=Rh(this[i(243)]),s=n.a_position,o=n[i(236)],a=n[i(244)];s=t?this[i(238)](s,e,r):this[i(239)](s,r),this.dataMap={positions:s,indices:o,positionCount:a},this.dataReady=!0}[AP(238)](t,e,r){const i=AP,n=t[i(252)]/3,s=[];for(let o=0;o<n;o++){const n=Pt[i(245)](t[3*o],e),a=Pt.float32FromDouble64(t[3*o+1],e),h=Pt[i(245)](r,e);s[i(235)](n[0],a[0],h[0],n[1],a[1],h[1])}return s}[AP(239)](t,e){const r=t[AP(252)]/3;for(let i=0;i<r;i++)t[3*i+2]=e;return t}destroy(){const t=AP;let e=Object[t(247)](this);for(let r=0,i=e[t(252)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}var PP=["setOpacity","277636nBHcbr","1xKcpbg","hmap.geosolution.cell.ScatterScan:parameter 'center' must be instance of Coordinate!","426551ErZjEu","setRadius","getRadius","radius","251ekRLFL","239863OjyZiB","69753NyOvsh","toArray","_center","_centerArr","135365xOYEFK","_init","hasOwnProperty","unUseTexture","_useTexture","_radius","71aQMEQw","94338SbauFZ","_opacity"];function RP(t,e){return PP[t-=207]}var LP=RP;!function(t,e){for(var r=RP;;)try{if(190687===parseInt(r(217))+-parseInt(r(227))+parseInt(r(228))*-parseInt(r(212))+parseInt(r(224))+-parseInt(r(211))*parseInt(r(223))+parseInt(r(213))+parseInt(r(207)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(PP);class FP extends fP{constructor(e){var r=RP;super(e),this[r(215)]=e[r(219)]("center")?e.center:new t.Coordinate(0,0,0),this._radius=e.hasOwnProperty(r(210))?e[r(210)]:.01,this[r(221)]=!!e[r(219)]("useTexture")&&e.useTexture,this[r(218)]()}[LP(218)](){var e=LP;if(!(this[e(215)]instanceof t.Coordinate))throw TypeError(e(229));this[e(216)]=this[e(215)][e(214)]()}[LP(226)](t){this[LP(225)]=t}useTexture(){this._useTexture=!0}[LP(220)](){this._useTexture=!1}[LP(208)](t){this._radius=Number(t)}[LP(209)](){return this[LP(222)]}}var DP=["1zqfigg","498733IIMSUL","_angle","_radius","1035613FDZgDN","2PluJAy","720127jvJVRP","_init","getCenter","toArray","493607cydsls","hasOwnProperty","993107xBkNLw","202131PgPxhN","786XlLvlH","hmap.geosolution.cell.SectorScan:parameter 'center' of method setCenter must be instance of Coordinate!","_center","hmap.geosolution.cell.SectorScan:parameter 'center' must be instance of Coordinate!","getAngle","67sWHBJA","_centerArr","angle","setRadius","getRadius","radius","center","1FxPVtu"],OP=NP;function NP(t,e){return DP[t-=259]}!function(t,e){for(var r=NP;;)try{if(655265===parseInt(r(264))+-parseInt(r(280))*parseInt(r(260))+-parseInt(r(282))*parseInt(r(259))+-parseInt(r(267))+parseInt(r(285))*parseInt(r(281))+parseInt(r(266))+parseInt(r(273))*parseInt(r(268)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(DP);class BP extends fP{constructor(e){var r=NP;super(e),this[r(270)]=e[r(265)](r(279))?e[r(279)]:new t.Coordinate(0,0,0),this[r(284)]=e[r(265)](r(278))?e[r(278)]:.01,this[r(283)]=e[r(265)](r(275))?e[r(275)]:30,this[r(261)]()}[OP(261)](){var e=OP;if(!(this[e(270)]instanceof t.Coordinate))throw TypeError(e(271));this._centerArr=this[e(270)][e(263)]()}setCenter(e){var r=OP;if(!(e instanceof t.Coordinate))throw TypeError(r(269));this[r(270)]=e,this[r(274)]=e[r(263)]()}[OP(262)](){return this[OP(270)]}[OP(276)](t){this._radius=Number(t)}[OP(277)](){return this[OP(284)]}setAngle(t){this._angle=t}[OP(272)](){return this[OP(283)]}}var UP=["12249QqlCGD","757956XiqgVd","18SCAeBa","maxHeight","663079CtvpKO","hasOwnProperty","19058qZlfDa","getHeightRange","_heightRange","getMaxHeight","_maxHeight","1373mGKHxY","minHeight","25CyCICZ","53231CKWpfY","setMinHeight","_minHeight","2pRszjU","386957SJAGNN"],kP=VP;function VP(t,e){return UP[t-=356]}!function(t,e){for(var r=VP;;)try{if(496519===parseInt(r(374))+parseInt(r(368))*parseInt(r(369))+parseInt(r(357))+parseInt(r(365))+-parseInt(r(371))+parseInt(r(372))*-parseInt(r(370))+parseInt(r(362))*-parseInt(r(364)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(UP);class GP extends fP{constructor(t){var e=VP;super(t),this[e(367)]=t.hasOwnProperty(e(363))?t[e(363)]:.01,this[e(361)]=t[e(356)](e(373))?t[e(373)]:.02,this[e(359)]=t[e(356)]("heightRange")?t.heightRange:.001}[kP(366)](t){this[kP(367)]=Number(t)}getMinHeight(){return this[kP(367)]}setMaxHeight(t){this[kP(361)]=Number(t)}[kP(360)](){return this[kP(361)]}setHeightRange(t){this[kP(359)]=t}[kP(358)](){return this[kP(359)]}}var zP=["119fTSBmD","1VbpiYZ","hmap.geosolution.cell.LinearScan:parameter of setDestination must be instance of Coordinate!","105856YEIRlW","_origination","range","setOrigination","_originationArr","origination","6OPXwQB","hmap.geosolution.cell.LinearScan:parameter 'origination' must be instance of Coordinate!","193957EONMPm","1307vuMsVS","97nrCnIq","getDestination","_destinationArr","destination","_angle","1518gTryhD","_init","107722pdvGnO","32890gtDLrZ","getAngle","hasOwnProperty","toArray","angle","_range","_destination","hmap.geosolution.cell.LinearScan:parameter 'destination' must be instance of Coordinate!","138919WCkTqy"],HP=jP;function jP(t,e){return zP[t-=340]}!function(t,e){for(var r=jP;;)try{if(148723===parseInt(r(349))*parseInt(r(361))-parseInt(r(360))+parseInt(r(350))*parseInt(r(348))-parseInt(r(369))+parseInt(r(340))*parseInt(r(358))+parseInt(r(352))+parseInt(r(367))*-parseInt(r(362)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(zP);class YP extends fP{constructor(e){var r=jP;super(e),this[r(353)]=e.hasOwnProperty(r(357))?e[r(357)]:new t.Coordinate(0,0,0),this[r(346)]=e[r(342)]("destination")?e[r(365)]:new t.Coordinate(0,0,0),this[r(366)]=e[r(342)](r(344))?e.angle:30,this._range=e[r(342)](r(354))?e.range:.1,this[r(368)]()}[HP(368)](){var e=HP;if(!(this[e(353)]instanceof t.Coordinate))throw TypeError(e(359));if(!(this._destination instanceof t.Coordinate))throw TypeError(e(347));this[e(356)]=this[e(353)][e(343)](),this[e(364)]=this[e(346)][e(343)]()}getOrigination(){return this[HP(353)]}[HP(355)](e){if(!(e instanceof t.Coordinate))throw TypeError("hmap.geosolution.cell.LinearScan:parameter of setOrigination must be instance of Coordinate!");this._origination=e,this._originationArr=e.toArray()}[HP(363)](){return this[HP(346)]}setDestination(e){var r=HP;if(!(e instanceof t.Coordinate))throw TypeError(r(351));this[r(346)]=e,this[r(364)]=e.toArray()}[HP(341)](){return this._angle}setAngle(t){this[HP(366)]=t}getRange(){return this[HP(345)]}setRange(t){this[HP(345)]=t}}const $P=["parameter of setClipColor must be instance of hmap.style.Color.","minCoordinate","setMinCoordinate","40998aczyop","setMaxCoordinate","5BavUrX","_id","parameter of setMaxCoordinate must be instance of hmap.basetype.Coordinate.","380141hfZMtu","parameter minCoordinate must be instance of hmap.basetype.Coordinate.","349334RvTJgn","toNormalizeArray","_isDestroy","490920ckWzsx","hasOwnProperty","maxCoordinate","_clipColorArr","_maxCoordinate","_useTexture","parameter clipColor must be instance of hmap.style.Color.","_minCoordArr","1wPMbhE","getMinCoordinate","getMaxCoordinate","_init","296293DpAfIr","setClipColor","50LovCQT","destroy","_maxCoordArr","_minCoordinate","clipColor","useTexture","4265XCEixI","createUnique","constructor","parameter of setMinCoordinate must be instance of hmap.basetype.Coordinate.","_clipColor","length","toArray","334429RXLWuS"],XP=WP;function WP(t,e){return $P[t-=243]}!function(t,e){const r=WP;for(;;)try{if(383907===parseInt(r(243))+parseInt(r(245))*-parseInt(r(251))+parseInt(r(267))*-parseInt(r(280))+-parseInt(r(269))+parseInt(r(258))+parseInt(r(262))*parseInt(r(264))+parseInt(r(272)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}($P);class ZP{constructor(e){const r=WP;this[r(265)]=t.Aid[r(252)](this[r(253)].name),this[r(255)]=e[r(273)](r(249))?e.clipColor:new t.Color(255,255,0,.5),this[r(248)]=e.hasOwnProperty(r(260))?e[r(260)]:new t.Coordinate(0,0,0),this._maxCoordinate=e[r(273)](r(274))?e[r(274)]:new t.Coordinate(0,0,0),this[r(277)]=!!e[r(273)]("useTexture")&&e[r(250)],this[r(283)]()}_init(){const e=WP;if(!(this[e(255)]instanceof t.Color))throw TypeError(e(278));if(!(this._minCoordinate instanceof t.Coordinate))throw TypeError(e(268));if(!(this[e(276)]instanceof t.Coordinate))throw TypeError("parameter maxCoordinate must be instance of hmap.basetype.Coordinate.");this[e(275)]=this[e(255)].toNormalizeArray(),this[e(279)]=this._minCoordinate.toArray(),this[e(247)]=this[e(276)][e(257)]()}getClipColor(){return this[WP(255)]}[XP(244)](e){const r=XP;if(!(e instanceof t.Color))throw TypeError(r(259));this[r(255)]=e,this._clipColorArr=this._clipColor[r(270)]()}[XP(281)](){return this[XP(248)]}[XP(261)](e){const r=XP;if(!(e instanceof t.Coordinate))throw TypeError(r(254));this[r(248)]=e,this[r(279)]=this[r(248)].toArray()}[XP(282)](){return this._maxCoordinate}[XP(263)](e){const r=XP;if(!(e instanceof t.Coordinate))throw TypeError(r(266));this._maxCoordinate=e,this[r(247)]=this._maxCoordinate[r(257)]()}getId(){return this[XP(265)]}[XP(246)](){const t=XP;let e=Object.getOwnPropertyNames(this);for(let r=0,i=e[t(256)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}this[t(271)]=!0}}var qP=["892619oFIcfs","2547DpxiVu","7WwEtFa","446669puRZBO","271wyLeLa","326940ccfKSk","1496340XxjwGj","202173cbKBgV","94330FUQPKU","3kWRShh"];function JP(t,e){return qP[t-=133]}!function(t,e){for(var r=JP;;)try{if(823886===parseInt(r(142))+-parseInt(r(140))+parseInt(r(141))*parseInt(r(136))+-parseInt(r(137))*-parseInt(r(133))+-parseInt(r(139))+-parseInt(r(135))*-parseInt(r(138))+-parseInt(r(134)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(qP);var KP=Object.freeze({__proto__:null,ProjectImage:kS,Bar:wM,EleWall:MM,FilledCircle:LM,FillWater:NM,Flow:KM,Fire:WM,GridHeat:rS,Heatpoint:oS,HexGridHeat:cS,OutFire:gS,Particle:HM,ParticleMover:VM,Rain:wS,ScatterPoint:AS,Sector:RS,Smoke:HS,Snow:XS,Tadpole:qS,Trail:eP,Viewshed:sP,Wind:yS,WindDirect:mS,VideoTex:OS,Flood:lP,RadarScan:fP,Fireworks:yP,TracePoint:vP,ColorFrame:EP,WaterReflection:SP,ScatterScan:FP,SectorScan:BP,HeightScan:GP,LinearScan:YP,ClipBox:ZP});const QP=["169877eTFVMI","Framebuffer object is incomplete:","1314695lEpVtX","internalFormat","constructor","toString","5TlFihA","setResolution","CLAMP_TO_EDGE","depthRenderBuffer","createFramebuffer","getOwnPropertyNames","RENDERBUFFER","TEXTURE_2D","bindFramebuffer","entries","deleteRenderbuffer","addGLTexture","FRAMEBUFFER","_programs","framebufferTexture2D","RGBA","_destroyRenderProperties","DEPTH_COMPONENT16","bindTexture","STATIC_DRAW","bufferData","deleteProgram","_deleteBuffers","COLOR_ATTACHMENT0","TEXTURE_MIN_FILTER","texImage2D","createTexture","bindBuffer","_deleteGPUArrayProperties","4dIPzRO","_addStaticBufferD","_program","draw","getAttachedShaders","fTexture","TEXTURE_MAG_FILTER","checkFramebufferStatus","_buffers","type","970589hMzsIo","_id","1eAuTyo","bufferSubData","1481088rMVhIA","createUnique","TEXTURE_WRAP_T","deleteFramebuffer","TEXTURE0","738384ycPBRO","drawFrame","deleteShader","DYNAMIC_DRAW","1370551dQlgTe","format","ARRAY_BUFFER","deleteBuffer","TEXTURE_WRAP_S","createBuffer","_addVerBuffer","_reBuffers","335354ZWGVcf","destroy","activeTexture","FRAMEBUFFER_COMPLETE","renderbufferStorage","_createBuffers","_createFrameBuffer","texParameteri","_initToRender","REPEAT","name","_createVerBuffer","DEPTH_ATTACHMENT","program","deleteVertexArray","_vao","UNSIGNED_BYTE","frameBuffer","_deleteFrameBuffers","_createTexture","LINEAR"],tR=eR;function eR(t,e){return QP[t-=199]}!function(t,e){const r=eR;for(;;)try{if(812708===parseInt(r(205))+parseInt(r(200))+-parseInt(r(240))+parseInt(r(285))*-parseInt(r(283))+-parseInt(r(238))*-parseInt(r(244))+parseInt(r(209))+parseInt(r(273))*-parseInt(r(217)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(QP);class rR{constructor(){const e=eR;this[e(284)]=t.Aid[e(201)](this[e(242)][e(227)])}[tR(245)](t){this.res=t}[tR(225)](){}[tR(276)](t,e,r){}[tR(206)](t,e){}[tR(274)](){}_addChangeBufferD(t){}[tR(222)](){}[tR(216)](){const t=tR;this._deleteBuffers(),this._buffers=this._createBuffers(),this[t(274)]()}_deleteBuffers(t){const e=tR;t=t||this[e(281)];for(const[r,i]of Object[e(253)](t))this.gl[e(212)](i)}[tR(215)](t,e,r){const i=tR;let n=this.gl;n[i(271)](n[i(211)],t),r?n[i(264)](n[i(211)],e,n[i(208)]):n[i(264)](n[i(211)],e,n[i(263)])}_upVerBuffer(t,e,r,i=!1){const n=tR;let s=this.gl;s[n(271)](s.ARRAY_BUFFER,t),i?s[n(199)](s.ARRAY_BUFFER,r,e):s[n(264)](s[n(211)],e,s.STATIC_DRAW)}[tR(228)](t,e,r,i=!1){const n=tR;let s=this.gl[n(214)]();return this.gl[n(271)](this.gl[n(211)],s),this.gl.vertexAttribPointer(t,r,this.gl[e],i,0,0),this.gl.enableVertexAttribArray(t),s}[tR(236)](t,e=0){const r=tR;return this[r(275)][r(255)](t,e,r(226),r(226))}[tR(223)](t,e,r=0,i={internalFormat:tR(259),format:tR(259),type:tR(233)}){const n=tR;let s=this.gl;const o=s[n(248)]();s[n(252)](s.FRAMEBUFFER,o);const a=s.createRenderbuffer();s.bindRenderbuffer(s[n(250)],a),s[n(221)](s.RENDERBUFFER,s[n(261)],t,e),s.framebufferRenderbuffer(s.FRAMEBUFFER,s[n(229)],s[n(250)],a),s[n(219)](s[n(204)]+r);const h=s[n(270)]();s.bindTexture(s[n(251)],h),s[n(269)](s[n(251)],0,s[i[n(241)]],t,e,0,s[i[n(210)]],s[i[n(282)]],null),s[n(224)](s.TEXTURE_2D,s[n(279)],s[n(237)]),s.texParameteri(s[n(251)],s[n(268)],s[n(237)]),s[n(224)](s.TEXTURE_2D,s[n(213)],s[n(246)]),s[n(224)](s[n(251)],s[n(202)],s[n(246)]),s[n(258)](s[n(256)],s[n(267)],s[n(251)],h,0),s[n(262)](s[n(251)],null),s.bindRenderbuffer(s[n(250)],null),s[n(252)](s[n(256)],null);const l=s[n(280)](s[n(256)]);if(l!==s[n(220)])throw n(239)+l[n(243)]();return{frameBuffer:o,depthRenderBuffer:a,texture:h,unit:r}}[tR(218)](){}[tR(235)](t){const e=tR;this.gl[e(203)](t[e(234)]),this.gl[e(254)](t[e(247)]),this.gl.deleteTexture(t[e(278)])}_deleteGPUProperties(){const t=tR;this[t(266)](),this[t(232)]&&this.gl[t(231)](this._vao);const e=this[t(275)][t(230)],r=this.gl[t(277)](e);this.gl[t(207)](r[0]),this.gl.deleteShader(r[1]),this.gl[t(265)](e)}[tR(272)](){const t=tR;for(const[e,r]of Object.entries(this[t(281)]))r&&this[t(266)](r);for(const[e,r]of Object[t(253)](this._vaos))r&&this.gl[t(231)](r);for(const[e,r]of Object[t(253)](this[t(257)])){if(!r)continue;const e=this.gl[t(277)](r[t(230)]);this.gl[t(207)](e[0]),this.gl[t(207)](e[1]),this.gl[t(265)](r.program)}}[tR(260)](){let t=Object[tR(249)](this);for(let e=0,r=t.length;e<r;e++){const r=t[e];this[r]=null,delete this[r]}}}const iR=["u_colorMode","uniforms","655lQUqFA","u_intensity","528166YSqjkP","u_cameraP","u_ifLinear","getElements","832803gGtlai","1181lGDNaT","setPrivateUniforms","uniform1i","uniform3fv","u_texMode","u_ifTex","6LPhbqm","u_height","u_projMatrix","u_maxValue","u_viewRMatrix","347cgmnaf","u_lightColor","u_enableLight","u_size","282466dVJGUm","u_lightDirection","u_camera","179BqfalT","uniform1f","560601oMBmkz","1ZmBPPJ","uniformMatrix4fv","2zZZSnv","543971QJAzMS","uniform4fv","u_pattern"],nR=sR;function sR(t,e){return iR[t-=150]}!function(t,e){const r=sR;for(;;)try{if(926119===-parseInt(r(159))+-parseInt(r(178))*parseInt(r(160))+parseInt(r(181))*parseInt(r(184))+-parseInt(r(171))*-parseInt(r(153))+parseInt(r(166))*parseInt(r(175))+parseInt(r(180))+parseInt(r(183))*-parseInt(r(155)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(iR);class oR extends qc{constructor(t,e,r){super(t,e,r)}[nR(161)](t){const e=nR;this.gl[e(179)](this.uniforms[e(157)],t[e(157)]),this.gl[e(179)](this[e(152)][e(151)],t[e(151)]),this.gl[e(179)](this[e(152)][e(174)],t[e(174)]),this.gl.uniform1f(this[e(152)][e(167)],t[e(167)]),this.gl[e(179)](this[e(152)][e(169)],t[e(169)]),this.gl[e(182)](this.uniforms.u_projMatrix,!1,t[e(168)][e(158)]()),this.gl[e(182)](this.uniforms[e(170)],!1,t[e(170)][e(158)]()),this.gl[e(163)](this[e(152)][e(177)],t[e(156)]),this.gl[e(179)](this[e(152)][e(165)],t[e(165)]),this.gl[e(162)](this[e(152)][e(150)],t[e(150)]),this.gl[e(179)](this.uniforms[e(164)],t[e(164)]);let r=t.u_enableLight;this.gl.uniform1i(this[e(152)][e(173)],r),this.gl[e(163)](this[e(152)][e(176)],t[e(176)]),this.gl[e(185)](this[e(152)][e(172)],t[e(172)]),this.gl[e(179)](this[e(152)][e(154)],t[e(154)])}}const aR=["10GKPYDJ","vsShader","fsShader","90544klpBWu","240483nMbQIi","1473931wYHLYr","359bLuOpH","2534ZhxLMG","1TTCOlJ","61357BqLrmt","#version 300 es\nprecision mediump float;\nin vec4 v_color;\nin vec3 v_lightR;\nin float v_texCoord;\n\nuniform sampler2D u_pattern;\nuniform float u_ifTex;\nout vec4 outColor;\nvoid main(){\n    vec4 texColor=texture(u_pattern,vec2(v_texCoord,0.5));\n     outColor=u_ifTex*texColor+(1.0-u_ifTex)*v_color;\n     outColor.rgb=outColor.rgb*v_lightR;\n}\n","661wwztcb","20DVyuzr","1129ZuJDDZ","485788ABGewn"],hR=lR;function lR(t,e){return aR[t-=210]}!function(t,e){const r=lR;for(;;)try{if(740517===parseInt(r(218))+-parseInt(r(223))+-parseInt(r(217))*-parseInt(r(215))+parseInt(r(224))*-parseInt(r(212))+-parseInt(r(211))*parseInt(r(210))+-parseInt(r(213))*-parseInt(r(216))+parseInt(r(219))*parseInt(r(222)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(aR);let cR={};cR[hR(220)]="#version 300 es\nin vec3 a_position;\nin vec3 a_normal;\nin vec4 a_color0;\nin vec4 a_color1;\nin vec3 a_center;\nin float a_value;//n\n//\nuniform bool u_enableLight;\nuniform vec4 u_lightColor;\nuniform vec3 u_lightDirection;\nuniform float u_intensity;\n\nuniform float u_ifLinear;\nuniform float u_colorMode;\nuniform float u_size;\nuniform float u_height;\nuniform float u_maxValue;\nuniform mat4 u_projMatrix;\nuniform mat4 u_viewRMatrix;\nuniform vec3 u_camera;\n\nuniform float u_texMode;\nout float v_texCoord;\nout vec4 v_color;\nout vec3 v_lightR;\n\nfloat getHeight(){\n    return a_value/u_maxValue*u_height;\n}\n\nfloat getColorMode(){\n    return a_value/u_maxValue*u_colorMode+(1.0-u_colorMode);\n}\nvoid main(){\n    float height=getHeight();\n    vec3 pos=vec3(u_size,u_size,height)*a_position.xyz+a_center-u_camera;\n    gl_Position=u_projMatrix*u_viewRMatrix*vec4(pos,1.0);\n    vec4 vColor=getColorMode()*(a_color1-a_color0)*step(0.001,a_position.z)*u_ifLinear+a_color0;\n    \n    vec3 lightRadio;\n    if(u_enableLight){\n        vec3 normal = normalize(a_normal);\n        vec3 lightDirection = normalize(-u_lightDirection);\n        vec3 lightColor = u_lightColor.rgb * u_lightColor.a;\n        float nDotL = dot(lightDirection, normal);\n        vec3 diffuse;\n        if(nDotL > 0.0){\n           float lightValue = 0.2 + 0.2*nDotL;\n           diffuse = vec3(lightColor.rgb) * u_intensity * lightValue;\n        }else{\n           float lightValue = 0.2 + 0.2*nDotL;\n           diffuse = vec3(lightColor.rgb) * lightValue;\n        }\n        vec3 ambient = vec3(lightColor.rgb) * 0.6;\n        lightRadio = ambient + diffuse;\n    }else{\n        lightRadio = vec3(1.0, 1.0, 1.0);\n    } \n    // v_color = vec4(lightRadio * vColor.rgb, vColor.a);//n\n    v_color=vColor;\n    v_lightR=lightRadio;\n    float texMode=step(0.001,a_position.z)*u_texMode+(1.0-u_texMode);\n    v_texCoord=a_value/u_maxValue*texMode;\n}\n",cR[hR(221)]=hR(214);const uR=["normals","divideScalar","_initToRender","getAttributeLocations","sin","_buffers","UNSIGNED_BYTE","_createBar","a_position","push","vertexAttribDivisor","u_tex","UNSIGNED_SHORT","_drawCount","1rMvFeb","getElements","setPrivateUniforms","vsShader","1uqxSig","_addStaticBufferD","_addChangeBufferD","substract","a_normal","_program","value","sqrt","a_center","1GFYwNL","drawElementsInstanced","ELEMENT_ARRAY_BUFFER","bufferData","createVertexArray","_posSize","TRIANGLES","destroy","TEXTURE_2D","_addVerBuffer","_destroyRenderProperties","1652335MshwDd","length","fsShader","1269545hLYAkY","_upBuffer","a_color0","1663jIWksN","count","a_color1","a_value","bindTexture","1284775cRxOEi","values","_createNormal","_createBuffers","indices","1688501RrUNkb","positions","draw","965995hwISOd","_sideNum","682658OCfGEg","colors0","index","centers","_createVerBuffer","bindVertexArray","activeTexture","FLOAT","idArray","cos","_vao","1165dYjrfv","_deleteGPUProperties"],pR=fR;function fR(t,e){return uR[t-=293]}!function(t,e){const r=fR;for(;;)try{if(995562===-parseInt(r(305))*-parseInt(r(316))+parseInt(r(337))+-parseInt(r(327))+-parseInt(r(348))*-parseInt(r(322))+-parseInt(r(335))*-parseInt(r(364))+parseInt(r(319))*-parseInt(r(296))+-parseInt(r(332)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(uR);class gR extends rR{constructor(t,e,r){const i=fR;super(),this.gl=t,this[i(336)]=r,this._vpMatrix=null,this[i(310)]=e,this[i(320)]=!1,this[i(352)]()}[pR(352)](){const t=pR;this._program=new oR(this.gl,cR[t(295)],cR[t(318)]),this._vao=this.gl[t(309)](),this[t(355)]=this[t(330)](),this[t(363)]=this[t(297)]()}[pR(334)](t,e,r){const i=pR;this.gl[i(342)](this._vao),this[i(301)].useProgram(),this.gl[i(343)](this.gl.TEXTURE0+e.u_pattern),this.gl[i(326)](this.gl[i(313)],e[i(361)]),this[i(301)][i(294)](e),this.gl[i(306)](this.gl[r]||this.gl[i(311)],this[i(363)],this.gl[i(362)],0,t[i(345)][i(317)]),this.gl.bindTexture(this.gl[i(313)],null),this.gl[i(342)](null)}[pR(297)](){const t=pR;let e=gR[t(357)](this[t(336)]);return this.gl[t(342)](this[t(347)]),this[t(314)](this[t(355)][t(358)],new Float32Array(e[t(333)]),!1),this[t(314)](this._buffers.a_normal,new Float32Array(e[t(350)]),!1),this.gl.bindBuffer(this.gl[t(307)],this[t(355)][t(339)]),this.gl[t(308)](this.gl[t(307)],new Uint16Array(e[t(331)]),this.gl.STATIC_DRAW),this.gl[t(342)](null),e[t(323)]}[pR(298)](t){const e=pR;this.gl[e(342)](this[e(347)]),this._addVerBuffer(this._buffers.a_center,new Float32Array(t[e(340)]),!1),this[e(314)](this[e(355)][e(321)],new Uint8Array(t[e(338)]),!1),this[e(314)](this._buffers[e(324)],new Uint8Array(t.colors1),!1),this[e(314)](this[e(355)][e(325)],new Float32Array(t[e(328)]),!1),this.gl[e(342)](null),this._upBuffer=!0}[pR(330)](){const t=pR;this.gl[t(342)](this[t(347)]);let e={},r=this[t(301)][t(353)]();return e[t(358)]=this[t(341)](r.a_position,t(344),3),e[t(300)]=this[t(341)](r.a_normal,t(344),3),e[t(304)]=this[t(341)](r[t(304)],t(344),3),this.gl[t(360)](r[t(304)],1),e[t(325)]=this[t(341)](r[t(325)],t(344),1),this.gl.vertexAttribDivisor(r[t(325)],1),e[t(321)]=this[t(341)](r[t(321)],t(356),4,!0),this.gl.vertexAttribDivisor(r[t(321)],1),e[t(324)]=this[t(341)](r[t(324)],t(356),4,!0),this.gl[t(360)](r[t(324)],1),e[t(339)]=this.gl.createBuffer(),this.gl[t(342)](null),this._upBuffer=!1,e}[pR(312)](){const t=pR;this[t(349)](),this[t(315)]()}static[pR(357)](t=4){const e=pR;let r=[0,0,1],i=[],n=[],s=[0,0,1];for(let o=0;o<t;o++){const a=2*Math.PI/t*(o+1),h=2*Math.PI/t*o,l=Math[e(346)](a),c=Math[e(354)](a),u=Math[e(346)](h),p=Math[e(354)](h);r[e(359)](l,c,1,u,p,1),s.push(0,0,1,0,0,1),i[e(359)](0,6*o+2,6*o+1),r[e(359)](u,p,1,l,c,1,u,p,0,l,c,0);const f=gR[e(329)]([u,p,0],[l,c,1],[u,p,1]);s[e(359)](...f[e(302)],...f.value,...f[e(302)],...f[e(302)]),n.push(6*o+4,6*o+3,6*o+5,6*o+4,6*o+5,6*o+6)}const o=[...i,...n];return{positions:r,indices:o,normals:s,count:o.length}}static _createNormal(e,r,i){const n=pR;let s=new t.Vector3(e[0],e[1],e[2]),o=new t.Vector3(r[0],r[1],r[2]),a=new t.Vector3(i[0],i[1],i[2]);o[n(299)](s),a[n(299)](s),o.cross(a);let[h,l,c]=o[n(293)](),u=Math[n(303)](h*h+l*l+c*c);return 0==u?{isZero:!0,value:[0,0,0]}:(o[n(351)](u),{isZero:!1,value:o[n(293)]()})}}const dR=["1181055oRhvri","3VwtemL","#version 300 es\n\nuniform mat4 u_vpMatrix;\nuniform vec2 u_viewport;\n\nin vec3 a_position;\nin float a_size;\nin vec2 a_offset;\n\n//(x,y,w,h) atlas info \nin vec4 a_texAttr;\nuniform vec2 u_atlas;\nin float a_angle;\n\nout float v_angle;\nout float v_ratio;\nout vec4 v_texAttr;\nout mat2 v_rotateMatrix;\n\nin vec4 a_fontColor;\nin vec4 a_haloColor;\nin float a_haloWidth;\nin float a_opacity;\nin float a_weight;\n\nout vec4 v_fontColor;\nout vec4 v_haloColor;\nout float v_haloWidth;\nout float v_opacity;\nout float v_weight;\nout float v_fontSize;\n\nvoid main(){\n    //position\n    gl_Position=u_vpMatrix*vec4(a_position,1.0);\n    vec2 offset=vec2(a_offset.x/u_viewport.x,a_offset.y/u_viewport.y)*2.0*gl_Position.w;\n    gl_Position.xy=gl_Position.xy+offset;\n    //size\n    gl_PointSize=a_size;\n\n    //texture\n    v_texAttr=vec4(a_texAttr.x / u_atlas.x, a_texAttr.y / u_atlas.y, a_texAttr.z / u_atlas.x, a_texAttr.w / u_atlas.y);\n    \n    //rotate\n    float sinV = sin(a_angle);\n    float cosV = cos(a_angle);\n    v_rotateMatrix = mat2(cosV,sinV,-sinV,cosV);\n\n    v_ratio = 1.0;\n    v_angle = a_angle;\n    \n    float diagonal = sqrt(a_texAttr.z*a_texAttr.z + a_texAttr.w*a_texAttr.w);\n    float ratio=a_texAttr.z>a_texAttr.w?diagonal/a_texAttr.z:diagonal/a_texAttr.w;\n    float fAngleZero = float(v_angle==0.0);\n    v_ratio = ratio*(1.0-fAngleZero)+1.0*fAngleZero;\n    gl_PointSize=gl_PointSize*v_ratio;\n\n\n    v_fontColor=a_fontColor;\n    v_haloColor=a_haloColor;\n    v_haloWidth=a_haloWidth;\n    v_opacity=a_opacity;\n    v_weight=a_weight;\n    v_fontSize=a_size;\n    \n}","1157277VwnFCr","9zCgAmi","151207oXPCuc","5XaqoUs","170620BXYLwi","389148dKUdxG","#version 300 es\nprecision mediump float;\n\nin vec4 v_fontColor;\nin vec4 v_haloColor;\nin float v_haloWidth;\nin float v_opacity;\nin float v_weight;\nin float v_fontSize;\n\nuniform float u_opacity;\nuniform sampler2D u_pattern;\n\nin mat2 v_rotateMatrix;\nin vec4 v_texAttr;\nin float v_angle;\nin float v_ratio;\n\nout vec4 outColor;\n\nvoid main(){\n\n    outColor=vec4(1.0,0.0,0.0,1.0);\n\n    vec2 pointCoord=vec2(0.0);\n\n    pointCoord = gl_PointCoord*v_ratio;//v_ration    float centerOffset = (v_ratio-1.0)/2.0;\n    pointCoord = pointCoord-vec2(centerOffset)*float(v_angle!=0.0);//\n    pointCoord = v_rotateMatrix*(pointCoord-vec2(0.5))+vec2(0.5);//\n\n    float boxSize=max(v_texAttr.z,v_texAttr.w);//texture region size\n    pointCoord=vec2(boxSize,boxSize)*pointCoord;\n\n    vec2 texOffset=vec2(0.0);\n    if(v_texAttr.w>v_texAttr.z){//h>w\n        float l=(v_texAttr.w - v_texAttr.z)/2.0;\n        if(pointCoord.x<l){discard;}\n        if(pointCoord.x>l+v_texAttr.z){discard;}\n        if (pointCoord.y > v_texAttr.w) {discard;}\n        if (pointCoord.y < (boxSize - v_texAttr.w) / 2.0) {discard;}\n        texOffset = vec2(-l,0);\n    }else{//w>h\n        float t=(v_texAttr.z - v_texAttr.w)/2.0;\n        if(pointCoord.y<t){discard;}\n        if(pointCoord.y>t+v_texAttr.w){discard;}\n        if (pointCoord.x > v_texAttr.z) {discard;}\n        if (pointCoord.x < (boxSize - v_texAttr.z) / 2.0) {discard;}\n        texOffset = vec2(0,-t);\n    }\n\n    pointCoord = vec2(v_texAttr.x,v_texAttr.y)+pointCoord+texOffset;\n    outColor = texture(u_pattern,pointCoord);\n    float dist = outColor.r;\n\n    float weight=clamp(v_weight,100.,900.);\n    float gamma=0.03;\n    float buffer=0.73-weight*0.0001;\n       \n    vec4 fillColor=vec4(1.0);\n\tfloat fillAlpha = smoothstep(buffer-gamma, buffer+gamma, dist);\n    fillColor = v_fontColor;\n    if(v_haloWidth>0.0){\n        float borderBuffer=buffer-v_haloWidth*0.05;\n        vec4 borderColor=vec4(1.0);\n        float borderAlpha = smoothstep(borderBuffer-gamma, borderBuffer+gamma, dist);\n        borderColor = v_haloColor;\n        if(borderAlpha==0.0){\n            discard;\n            // outColor=vec4(1.0,0.0,0.0,1.0);\n        }else{\n            outColor = mix(borderColor, fillColor, fillAlpha);\n        }\n    }else{\n        outColor = fillColor;\n        outColor.a = fillAlpha;\n    }\n}\n","232575QIlthc","fsShader","691815qxJmZB","vsShader"],_R=yR;function yR(t,e){return dR[t-=432]}!function(t,e){const r=yR;for(;;)try{if(639089===-parseInt(r(434))-parseInt(r(444))-parseInt(r(432))+parseInt(r(435))*-parseInt(r(439))-parseInt(r(437))+-parseInt(r(441))*-parseInt(r(440))+-parseInt(r(438))*-parseInt(r(442)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(dR);let mR={};mR[_R(433)]=_R(436),mR[_R(445)]=_R(443);const IR=["110559KgZipe","getElements","deleteVBOs","bindVertexArray","attributes","uniform1i","POINTS","bufferData","u_pattern","bindBuffer","deleteBuffer","setPrivateUniforms","4dxxBsB","10378zRdGvX","1WYosQQ","15571YsYwAw","a_angle","a_opacity","vsShader","a_haloWidth","u_vpMatrix","ARRAY_BUFFER","uniform2fv","a_texAttr","_organizeAttributesLayout","a_haloColor","u_atlas","STATIC_DRAW","a_offset","attributesLayout","a_position","183240salWoe","161396onezbj","82827AwlJBl","fsShader","draw","uniforms","a_weight","a_fontColor","index","263924qnjKaY","a_size","u_viewport","u_opacity"],xR=bR;!function(t,e){const r=bR;for(;;)try{if(138615===-parseInt(r(385))*-parseInt(r(415))-parseInt(r(386))+parseInt(r(411))+-parseInt(r(403))+-parseInt(r(383))*-parseInt(r(384))+parseInt(r(404))+-parseInt(r(402)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(IR);class vR extends qc{constructor(t){const e=bR;let r,i;r=mR[e(389)],i=mR[e(405)],super(t,r,i),this[e(400)]=this._organizeAttributesLayout()}[xR(395)](){const t=xR;return{a_position:{name:t(401),location:this[t(419)][t(401)],count:3,type:Float32Array},a_fontColor:{name:t(409),location:this[t(419)][t(409)],count:4,type:Float32Array},a_haloColor:{name:t(396),location:this.attributes.a_haloColor,count:4,type:Float32Array},a_haloWidth:{name:t(390),location:this[t(419)][t(390)],count:1,type:Float32Array},a_offset:{name:"a_offset",location:this[t(419)][t(399)],count:2,type:Float32Array},a_opacity:{name:t(388),location:this[t(419)][t(388)],count:1,type:Float32Array},a_size:{name:t(412),location:this[t(419)].a_size,count:1,type:Float32Array},a_angle:{name:t(387),location:this.attributes[t(387)],count:1,type:Float32Array},a_texAttr:{name:t(394),location:this[t(419)][t(394)],count:4,type:Float32Array},a_weight:{name:"a_weight",location:this[t(419)][t(408)],count:1,type:Float32Array}}}[xR(382)](t){const e=xR;this.gl.uniformMatrix4fv(this[e(407)][e(391)],!1,t[e(391)][e(416)]()),this.gl[e(393)](this[e(407)].u_viewport,t[e(413)]),this.gl[e(393)](this[e(407)].u_atlas,t[e(397)]),this.gl[e(420)](this[e(407)][e(379)],t[e(379)]),this.gl[e(420)](this[e(407)][e(414)],t[e(414)])}[xR(406)](t,e){const r=xR;this.gl[r(418)](t),this.gl.drawArrays(this.gl[r(421)],0,e),this.gl[r(418)](null)}[xR(417)](t){const e=xR,r=this.gl;for(let i in t){let n=t[i];i!==e(410)?(r[e(380)](r[e(392)],n),r[e(378)](r[e(392)],0,r[e(398)])):(r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n),r.bufferData(r.ELEMENT_ARRAY_BUFFER,0,r[e(398)])),r[e(381)](n),t[i]=null}return t=null,this}}function bR(t,e){return IR[t-=378]}const wR=["1egaCXc","maxWidth","rowTextCount","toNormalizeArray","top-right","disable","_gl","cos","bindTexture","push","dataMap","createDrawData","setVBOs","indexOf","a_haloWidth","enable","_calcWordsMaxLength","point","createVBOs","591849fGXLAV","split","anchor","length","get","_calcAnchorOffset","a_fontColor","offset","_calcFontWeight","_dataMap","center","vbos","top-left","getTextureObject","a_angle","72010gkbmCL","bindVertexArray","a_texAttr","contentWidth","8279iXiVWp","left","replace","justify","hasOwnProperty","bottom","maxHeight","ceil","_textMap","normal","sin","142033thwoFo","haloColor","103919UAKejY","setPrivateUniforms","_sample","_init","vao","bold","a_haloColor","a_position","fontWeight","fontSize","program","lineHeight","position","_calcContentLength","8209ACcjGj","useProgram","opacity","lighter ","fontColor","_toMultiLines","deletText","2hWBFwH","a_offset","rotate","buffer","bolder","a_size","_layer","DEPTH_TEST","letterSpace","text","89YjuGEY","textureId","style","a_weight","_mode","top","texture","createVertexArray","a_opacity","min","right","_program","deletAllText","has","draw","340830nsJxxn","drawCount","clear","sdf","17wEnodh"],TR=CR;!function(t,e){const r=CR;for(;;)try{if(601014===-parseInt(r(517))+parseInt(r(532))+-parseInt(r(493))+parseInt(r(478))*-parseInt(r(536))+parseInt(r(468))*-parseInt(r(549))+parseInt(r(498))*-parseInt(r(461))+parseInt(r(497))*parseInt(r(547)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wR);class ER{constructor(t,e,r){const i=CR;this[i(449)]=i(496),this[i(482)]=r.mode?r.mode:i(515),this._layer=e,this[i(504)]=t,this[i(544)]=new Map,this[i(526)]={a_position:[],a_size:[],a_offset:[],a_texAttr:[],a_angle:[],a_fontColor:[],a_haloColor:[],a_haloWidth:[],a_opacity:[],a_weight:[]},this[i(450)](t,this._sample)}[TR(450)](t,e){const r=TR;if(e!==r(496))throw new SyntaxError("DF");this[r(489)]=new vR(t);const i=t[r(485)]();t[r(533)](i);const n=this[r(489)][r(516)]();t[r(533)](null),this.buffer={vao:i,vbos:n}}get[TR(457)](){return this._program}get gl(){return this[TR(504)]}get[TR(508)](){return this[TR(526)]}addPointText(t,e){this[TR(544)].set(t,e)}[TR(490)](){const t=TR;this[t(544)][t(495)],this.clearDrawData()}[TR(467)](t){const e=TR;this._textMap[e(491)](t)&&this._textMap.delete(t)}clearDrawData(){const t=TR;this[t(526)][t(454)]=[],this[t(526)][t(469)]=[],this[t(526)][t(531)]=[],this[t(526)][t(523)]=[],this[t(526)][t(453)]=[],this._dataMap[t(512)]=[],this._dataMap[t(486)]=[],this[t(526)].a_texAttr=[],this[t(526)][t(473)]=[],this[t(526)].a_weight=[],this[t(494)]=0}updateText(){const t=TR;for(let[e,r]of this._textMap){const e=r[t(459)],i=r[t(480)];this[t(509)](e,i)}this[t(494)]=this._dataMap[t(454)][t(520)]/3,this[t(489)][t(510)](this.buffer[t(528)],this[t(526)]),this[t(474)].redraw()}[TR(525)](t){const e=TR;switch(t){case e(464):return 200;case e(545):return 400;case e(452):return 700;case e(472):return 900;default:let r=parseInt(t);return r===Number.NaN&&(r=0),Math.max(100,Math[e(487)](r,900))}}[TR(514)](t,e,r,i){const n=TR;let s=0;t[n(535)]=[];const o=t[n(520)];for(let i=0;i<o;i++){let o=this[n(460)](t[i],e[n(484)],r);o>s&&(s=o),t.contentWidth[i]=o}t[n(499)]=s,t[n(542)]=o*e.fontSize}[TR(460)](t,e,r){let i=0;for(let r=0,n=t.length;r<n;r++){let n=e[t[r]];null==n&&(n={x:0,y:0,w:16}),i+=n.w}return i+r*(t.length-1)}_calcAnchorOffset(t,e){const r=TR,i=e[r(499)],n=e.maxHeight;let s=0,o=0;switch(t){case r(527):s=-i/2,o=n/2;break;case r(537):o=n/2;break;case r(488):s=-i,o=n/2;break;case r(483):s=-i/2;break;case r(541):s=-i/2,o=n;break;case r(529):break;case r(502):s=-i;break;case"bottom-left":o=n;break;case"bottom-right":s=-i,o=n}return[s,o]}[TR(509)](e,r){const i=TR;if(!r||!r[i(477)])return;const n=r[i(477)],s=r[i(540)](i(456))?r[i(456)]:18,o=r.hasOwnProperty(i(476))?r.letterSpace-1:-1,a=r[i(540)](i(458))?r[i(458)]:s,h=r[i(540)]("rotate")?r[i(470)]*Math.PI/180:0,l=r[i(540)]("fontColor")?r[i(465)][i(501)]():[1,0,0,1],c=r[i(540)]("haloColor")?r[i(548)][i(501)]():[0,1,0,1],u=r[i(540)]("haloWidth")?r.haloWidth:0,p=r[i(540)]("opacity")?r[i(463)]:1,f=r[i(540)](i(500))?r[i(500)]:6,g=r[i(540)](i(524))?r[i(524)]:new t.Offset[0],d=r.hasOwnProperty(i(455))?this[i(525)](r[i(455)]):400,_=r[i(540)](i(539))?r[i(539)]:i(527),y=r[i(540)](i(519))?r[i(519)]:"center",m=this[i(474)]._textInfo,I=s/m.fontSize,x=m[i(471)],v=Math[i(505)](h),b=Math[i(546)](h),w=this[i(466)](n,f);this[i(514)](w,m,o,a);let[T,E]=this[i(522)](y,w);const C=g._x+T;let A=C,M=g._y-.5*m[i(456)]+E,S=0,P=0;for(let t=0;t<w.length;t++){const r=w[t];let n=0;"center"===_?n=(w[i(499)]-w[i(535)][t])/2:_===i(488)&&(n=w[i(499)]-w[i(535)][t]),A+=n;for(let t=0,n=r[i(520)];t<n;t++){const n=r[t];let a=m[i(484)][n];null==a&&(a={x:0,y:0,w:16});S=(A+.5*a.w)*I,P=M*I;const f=S*v-P*b,g=S*b+P*v;this[i(526)][i(454)][i(507)](...e),this[i(526)][i(469)][i(507)](f,g),this._dataMap.a_angle[i(507)](h),this._dataMap[i(523)].push(...l),this._dataMap[i(453)].push(...c),this[i(526)][i(512)][i(507)](u),this[i(526)].a_opacity[i(507)](p),this[i(526)][i(534)][i(507)]((a.x+x)/m.w,(a.y-1+x)/m.h,a.w/m.w,(m[i(456)]+1)/m.h),this._dataMap.a_size[i(507)](s),this._dataMap[i(481)][i(507)](d),A+=a.w+o}M-=a/I,A=C}}[TR(492)](t){const e=TR;if(0===this[e(494)])return;const r=this[e(504)];this[e(489)][e(462)](),r[e(503)](r[e(475)]),t.u_atlas=[1,1],this[e(489)][e(550)](t),Gt[e(521)](r)[e(530)](this[e(474)]._textInfo[e(479)])[e(506)](),this[e(489)][e(492)](this[e(471)][e(451)],this.drawCount),r[e(513)](r[e(475)])}[TR(466)](t,e){const r=TR;for(;t[r(511)]("\\n")>=0;)t=t[r(538)]("\\n","\n");if(t.indexOf("\n")>-1)return t[r(518)]("\n");{let i=[],n=t[r(520)];for(let s=0,o=Math[r(543)](n/e);s<o;s++){if(s==o-1){i[r(507)](t.substr(s*e));break}i.push(t.substr(s*e,e))}return i}}}function CR(t,e){return wR[t-=449]}const AR=["createDrawData","_geometry","_dataMap","1FtWVWG","_textStyle","a_position","658835VkZjRx","texturePromise","_center","1080497UMbnRV","deletText","maxHeight","1289274YjSWnJ","1119279xkpEPE","vbos","disable","u_atlas","19ElPrTu","get","has","_gl","_maxHeight","updatePieText","_value","drawCount","vao","bindTexture","getTextureObject","1507056cmXTMv","length","57899CMNWnQ","set","_program","1611344SMsKCf","redraw","then","draw","clearDrawData","delete","_layer","addBarText","_textMap","buffer","polylabel","DEPTH_TEST"],MR=SR;function SR(t,e){return AR[t-=179]}!function(t,e){const r=SR;for(;;)try{if(811896===-parseInt(r(185))+parseInt(r(214))+-parseInt(r(208))+parseInt(r(211))*parseInt(r(205))+parseInt(r(215))+-parseInt(r(187))*-parseInt(r(219))+-parseInt(r(190)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(AR);class PR extends ER{constructor(t,e,r){const i=SR;super(t,e,r),this[i(223)]=r[i(213)]?r.maxHeight:0}[MR(197)](t,e){const r=MR;this[r(198)][r(188)](t,e)}addPieText(t,e){const r=MR;this._textMap[r(188)](t,e)}[MR(212)](t){const e=MR;this[e(198)][e(221)](t)&&this[e(198)][e(195)](t)}updateBarText(t=1){const e=MR,r=this;r[e(181)]=0,r._layer[e(209)]&&r[e(196)].texturePromise[e(192)]((function(){const i=e;r[i(194)]();for(let[e,n]of r[i(198)]){const e=[...n[i(210)]];e[2]=r[i(223)]*n[i(180)]/t;const s=n[i(206)];r[i(202)](e,s)}r[i(181)]=r._dataMap[i(207)][i(186)]/3,r[i(189)].setVBOs(r[i(199)][i(216)],r._dataMap),r[i(196)][i(191)]()}))}[MR(179)](){const e=MR,r=this;r[e(181)]=0,r[e(196)][e(209)]&&r[e(196)][e(209)].then((function(){const i=e;r[i(194)]();for(let[e,n]of r[i(198)]){const e=n[i(203)],s=t.Topology[i(200)](e);n[i(206)],r.createDrawData(s.toArray(),n[i(206)])}r[i(181)]=r[i(204)][i(207)][i(186)]/3,r[i(189)].setVBOs(r[i(199)][i(216)],r[i(204)]),r[i(196)].redraw()}))}[MR(193)](t){const e=MR;if(0===this.drawCount)return;const r=this[e(222)];this[e(189)].useProgram(),r[e(217)](r.DEPTH_TEST),t[e(218)]=[1,1],this[e(189)].setPrivateUniforms(t),Gt[e(220)](r)[e(184)](this[e(196)]._textInfo.textureId)[e(183)](),this[e(189)][e(193)](this[e(199)][e(182)],this.drawCount),r.enable(r[e(201)])}}const RR=["432YGGcFw","u_height","texture","getSize","getHeight","748093lpJAzp","setSize","addBarText","setColorMode","_center","colors1","_box","_getGLTexture","_initRenderOpts","u_size","u_colorMode","967DNluZQ","values","_color0","splice","_posSize","_buildBarBBox","_value","u_tex","_color1","_textRender","distanceToCamera","96979vcHRDK","deleteTexture","update","image","_pick","index","_isTex","colors0","centers","push","u_pattern","idArray","updateBarText","_id","_drawData","u_ifLinear","_upFlag","_colorMode","get","_draw","_createTexture","_render","204401SMkmdp","intersectCoordinate","setTextureMode","120307urIJji","_sideNum","_maxValue","_isLinear","getColorMode","getIsLinear","updateDrawData","u_ifTex","_img","u_maxValue","pick","_gl","setHeight","isLinear","_height","colorMode","162096aTGgnw","layer","_builded","_tex","addMathCell","_assemble","setTexture","draw","deleteText","86602sQvnwT","_texMode","height","_isRTE","textureMode","length","9BSwTWb","isChange","_initDrawData","intersectRay","_objMap","_size","mathCell must be instance Bar!","_texUp","size","_upBuffer"],LR=FR;function FR(t,e){return RR[t-=264]}!function(t,e){const r=FR;for(;;)try{if(526528===-parseInt(r(299))-parseInt(r(342))+-parseInt(r(315))*-parseInt(r(331))-parseInt(r(271))+parseInt(r(290))+-parseInt(r(320))+-parseInt(r(305))*-parseInt(r(274)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(RR);class DR extends _M{constructor(t){const e=FR;super(t),t=t||{},this[e(302)]=!1,this[e(275)]=t.sideNum>2?t.sideNum:4,this[e(277)]=!0===t[e(287)]?1:0,this[e(310)]=t.size>0?t[e(313)]:.01,this[e(288)]=t[e(301)]>0?t.height:.03,this[e(276)]=null,this[e(307)](),this[e(346)]=!!t.pick&&t[e(284)],this[e(266)]=1===t[e(289)]?1:0,this[e(282)]=t[e(345)]?t.image:void 0,this._texMode=1===t[e(303)]?1:0,this[e(312)]=void 0,this._isTex=!!this[e(282)]}_initRenderOpts(t,e){const r=FR;super[r(328)](t,e),this[r(335)]=3,this[r(270)]=new gR(this[r(285)],this._posSize,this[r(275)]),this._renderable=!0;const i=e[r(291)];this._textRender=new PR(this[r(285)],i,{maxHeight:this[r(288)]})}[LR(294)](t){const e=LR;if(!(t instanceof wM))throw e(311);this._objMap.set(t[e(355)],t),this[e(292)]=!1}[LR(318)](){return this[LR(310)]}[LR(321)](t){this[LR(310)]=t}[LR(279)](){return 1===this[LR(277)]}setIsLinear(t){this[LR(277)]=!0===t?1:0}[LR(319)](){return this[LR(288)]}[LR(286)](t){this._height=t}[LR(278)](){return this._colorMode}[LR(323)](t){this[LR(266)]=1===t?1:0}[LR(296)](t){const e=LR;this[e(282)]=t,this[e(348)]=!0,this[e(312)]=!1,this._renderable&&this._getGLTexture(t)}[LR(273)](t){this[LR(300)]=1===t?1:0}[LR(327)](t){const e=LR;!this[e(312)]&&this._isTex&&(this[e(293)]&&this._gl[e(343)](this[e(293)]),this[e(293)]=this[e(270)][e(269)](t)[e(317)],this._texUp=!0)}[LR(280)](t){const e=LR;if(t)if(this[e(309)][e(267)](t)){const r=this[e(309)][e(267)](t);let i=this[e(356)][e(353)].indexOf(t);-1===i?(this[e(295)](r),this[e(265)][e(347)]=i,this[e(265)].isChange=!0,this[e(265)][e(344)]="A"):(this[e(356)][e(350)][e(334)](this[e(335)]*i,this[e(335)],...r[e(324)]),this[e(356)].values[e(334)](i,1,r[e(337)]),this[e(356)][e(349)][e(334)](4*i,4,...r[e(333)]),this[e(356)][e(325)].splice(4*i,4,...r[e(339)]),this._upFlag[e(347)]=i,this[e(265)].isChange=!0,this[e(265)][e(344)]="R"),this[e(340)][e(322)](t,r)}else{let r=this[e(356)][e(353)].indexOf(t);-1!==r&&(this[e(356)][e(353)][e(334)](r,1),this._drawData[e(350)][e(334)](this._posSize*r,this[e(335)]),this[e(356)][e(332)][e(334)](r,1),this[e(356)][e(349)].splice(4*r,4),this[e(356)][e(325)][e(334)](4*r,4),this[e(265)][e(347)]=r,this._upFlag[e(306)]=!0,this._upFlag[e(344)]="D"),this[e(340)][e(298)](t)}else{this[e(307)]();for(let t of this[e(309)][e(332)]())this[e(295)](t),this[e(340)].addPointText(t[e(355)],t);this[e(265)][e(347)]=null,this._upFlag[e(306)]=!0,this[e(265)].update="O"}this._maxValue=Math.max(...this._drawData[e(332)]),this[e(340)][e(354)](this[e(276)]),this[e(327)](this._img),this[e(346)]&&!this[e(292)]&&this[e(336)]()}[LR(268)](t){const e=LR;this[e(356)][e(353)][e(304)]<=0||(!this[e(270)][e(314)]||this._upFlag[e(306)])&&(this[e(270)]._addChangeBufferD(this._drawData),this[e(265)][e(306)]=!1)}_tick(t){const e=LR;this[e(356)][e(353)][e(304)]<=0||!1===this[e(270)][e(314)]||(t[e(316)]=this[e(288)],t[e(283)]=this[e(276)],t[e(329)]=this[e(310)],t[e(264)]=this[e(277)],t[e(330)]=this[e(266)],t[e(281)]=this[e(348)],t.u_texMode=this[e(300)],t[e(352)]=0,t[e(338)]=this[e(293)],this._render.draw(this[e(356)],t,""),this._textRender[e(297)](t))}[LR(295)](t){const e=LR;this[e(356)].idArray.push(t[e(355)]),this[e(356)][e(350)].push(...t[e(324)]),this[e(356)][e(332)].push(t[e(337)]),this[e(356)].colors0[e(351)](...t[e(333)]),this[e(356)][e(325)][e(351)](...t[e(339)])}_initDrawData(){this._drawData={centers:[],values:[],colors0:[],colors1:[],idArray:[]}}[LR(336)](){const e=LR;this[e(292)]=!0;const r=this[e(288)],i=this[e(276)],n=this[e(310)];for(let s of this[e(309)][e(332)]()){const o=s[e(324)][0]-n,a=s[e(324)][0]+n,h=s[e(324)][1]-n,l=s[e(324)][1]+n,c=s[e(324)][2],u=s[e(324)][2]+r*s[e(337)]/i;s[e(326)]=new t.BBox(o,h,c,a,l,u)}}intersectRay(t){const e=LR;if(!this._pick)return[];const r=[];for(let i of this._objMap[e(332)]()){let n=i[e(326)].intersectRay(t);n&&i[e(308)](t,this[e(276)],this._height,this[e(275)],this[e(310)],n)&&(i.model=this,i[e(272)]=n[e(272)],r.push({feature:i,distance:n[e(341)]}))}return r}}const OR=["1YxxCLB","u_texSpace","uniform4fv","u_color1","u_height","u_cameraL","2579JuoDzg","1033zpNYwu","clz","uniforms","u_projMatrix","1287879MnWgHW","uniform1f","u_texRange","setPrivateUniforms","1392820KlzvkA","uniform1i","u_unit","u_uvOffset","367nbrlmj","uniform2fv","u_color0","1395481iINDzh","uniformMatrix4fv","uniform3fv","u_mvMatrix","u_ifTex","12358VfkeeF","u_ifRTE","508140xrByHR","chy","u_tex","cly","u_cameraH","651GeoEXA","clx","109GfeNUu","chx","getElements"],NR=BR;function BR(t,e){return OR[t-=178]}!function(t,e){const r=BR;for(;;)try{if(720512===parseInt(r(208))*parseInt(r(186))-parseInt(r(201))+-parseInt(r(181))*-parseInt(r(205))+parseInt(r(215))+-parseInt(r(213))*-parseInt(r(183))+parseInt(r(197))+parseInt(r(193))*-parseInt(r(192)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(OR);class UR extends qc{constructor(t,e,r){super(t,e,r)}[NR(200)](t){const e=NR;this.gl[e(198)](this.uniforms[e(203)],t[e(203)]),this.gl[e(198)](this[e(195)].u_height,t[e(190)]),this.gl[e(188)](this.uniforms[e(207)],t[e(207)]),this.gl.uniform4fv(this[e(195)][e(189)],t[e(189)]),this.gl[e(206)](this[e(195)][e(204)],t[e(204)]),this.gl.uniform2fv(this[e(195)][e(187)],t[e(187)]),this.gl.uniform2fv(this.uniforms[e(199)],t[e(199)]),this.gl[e(202)](this[e(195)][e(178)],0),this.gl[e(202)](this[e(195)][e(212)],t[e(212)]),this.gl[e(202)](this.uniforms.u_ifRTE,t[e(214)]),this.gl.uniformMatrix4fv(this.uniforms.u_mvMatrix,!1,t[e(211)][e(185)]()),this.gl[e(209)](this[e(195)][e(196)],!1,t.u_projMatrix[e(185)]());const r=t.u_camera;this.gl[e(210)](this[e(195)][e(180)],[r[e(184)],r[e(216)],r.chz]),this.gl.uniform3fv(this[e(195)][e(191)],[r[e(182)],r[e(179)],r[e(194)]])}}const kR=["253VFUzOe","1299493xsCzbq","1ZkZpJW","2293717airtrx","1515223DrDojp","#version 300 es\n    in vec3 a_positionH;\n    in vec3 a_positionL;\n    in float a_side;\n    in vec2 a_uv;\n    \n    uniform float u_height;\n    uniform vec4 u_color0;\n    uniform vec4 u_color1;\n\n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_mvMatrix;\n    uniform mat4 u_projMatrix;\n    uniform bool u_ifRTE;\n    uniform float u_unit;\n      \n    out vec2 v_uv;\n    out vec4 v_color;\n    \n    vec4 corrections(vec3 positionH, vec3 positionL){\n        vec3 highD=positionH-u_cameraH;\n        vec3 diff=positionL-u_cameraL;\n        vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n        return vec4(highD+lowD,1.0);\n    }\n    \n    void main() {\n         vec4 position=vec4(a_positionH,1.0);\n         mat4 mvMatrix=u_mvMatrix; \n         if(u_ifRTE){\n            position=corrections(a_positionH, a_positionL);\n            mat4 mvR2Eye=u_mvMatrix;\n            mvR2Eye[3]=vec4(0.0, 0.0, 0.0, mvR2Eye[3][3]);\n            mvMatrix=mvR2Eye;           \n         }\n         position.z += a_side*u_height;\n         gl_Position = u_projMatrix * mvMatrix * position;\n         v_uv = a_uv;\n         v_color = a_side < 0.5 ? u_color0 : u_color1;\n    }\n","1IfSrkn","#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    uniform sampler2D u_tex;\n    uniform bool u_ifTex;\n    uniform vec2 u_uvOffset;\n    uniform vec2 u_texRange;\n    uniform vec2 u_texSpace;\n    \n    in vec2 v_uv;\n    in vec4 v_color;\n    \n    out vec4 outColor;\n\n    void main() {\n        vec4 color = v_color;\n        if(u_ifTex){\n            vec2 uv = fract(v_uv/(u_texRange + u_texSpace) - u_uvOffset)*(u_texRange + u_texSpace)/u_texRange;\n            vec4 textureColor = texture( u_tex, vec2(uv.x, 1.0 - uv.y));\n            color *= textureColor;\n        }\n        outColor = color;\n    }\n","1326488TKYPRd","1062975CjRRQV","fsShader","4153fhGEJD","24036cNMlUa"],VR=zR;!function(t,e){const r=zR;for(;;)try{if(763269===-parseInt(r(469))*parseInt(r(472))+-parseInt(r(465))*-parseInt(r(464))-parseInt(r(471))+parseInt(r(462))+-parseInt(r(467))+-parseInt(r(461))*-parseInt(r(463))+parseInt(r(466)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(kR);const GR={};function zR(t,e){return kR[t-=461]}GR.vsShader=VR(468),GR[VR(473)]=VR(470);const HR=["117gonqOZ","indices","TEXTURE0","src","vsShader","_posSize","3xUTiIy","a_positionH","uvs","_program","_drawEleWall","_upBuffer","FLOAT","6852SNEbWg","length","positionBuffer","activeTexture","TEXTURE_2D","promises","entries","_addVerBuffer","draw","indexBuffer","_buffers","onload","253394rsFsDe","addSymbolToTexture","enableVertexAttribArray","469348nLPbgp","bindTexture","ARRAY_BUFFER","_createBuffer","a_uv","UNSIGNED_SHORT","1ipxXrw","texture","sideBuffer","TRIANGLES","636473hqsQFn","getAttributeLocations","bindBuffer","107521nJsvMb","uvsBuffer","vertexAttribPointer","addGLTexture","createBuffer","1789TnHvPo","576nBbPzL","2383859cvvpGR","a_positionL","side","setPrivateUniforms","then","a_side","positions","3fQqkYc"],jR=YR;function YR(t,e){return HR[t-=368]}!function(t,e){const r=YR;for(;;)try{if(528635===-parseInt(r(371))*parseInt(r(414))+parseInt(r(386))*-parseInt(r(392))+parseInt(r(405))*-parseInt(r(404))+-parseInt(r(383))*-parseInt(r(413))-parseInt(r(396))+-parseInt(r(420))*-parseInt(r(399))+parseInt(r(406)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(HR);class $R extends rR{constructor(t,e){const r=YR;super(),this.gl=t,this._vpMatrix=null,this[r(419)]=e,this._initToRender(),this[r(393)]={},this[r(376)]={},this[r(369)]=!1}_initToRender(){const t=YR;this[t(423)]=new UR(this.gl,GR[t(418)],GR.fsShader),this[t(381)]=this[t(389)]()}[jR(384)](t){const e=jR;if(!t)return;const r=this;if(!this[e(376)][t]){let i=new Promise((function(i){const n=e;let s=new Image;s.crossOrigin="anonymous",s[n(417)]=t,s[n(382)]=function(){const t=n;let e=r._program[t(402)](s,0).texture;i(e)}}));this[e(376)][t]=i}this[e(376)][t][e(410)]((function(i){const n=e;!r.texture[t]&&(r[n(393)][t]=i)}))}[jR(389)](){const t=jR,e=this.gl;let r={},i=this[t(423)][t(397)](),n=this[t(419)];return r[t(373)]=e[t(403)](),e.bindBuffer(e[t(388)],r[t(373)]),e.vertexAttribPointer(i[t(421)],3,e[t(370)],!1,4*n,0),e[t(385)](i[t(421)]),e.vertexAttribPointer(i[t(407)],3,e.FLOAT,!1,4*n,4*(n-3)),e.enableVertexAttribArray(i[t(407)]),r[t(394)]=e.createBuffer(),e.bindBuffer(e[t(388)],r[t(394)]),e[t(401)](i.a_side,1,e[t(370)],!1,0,0),e[t(385)](i[t(411)]),r[t(400)]=e[t(403)](),e[t(398)](e[t(388)],r[t(400)]),e[t(401)](i[t(390)],2,e.FLOAT,!1,0,0),e[t(385)](i[t(390)]),r[t(380)]=e[t(403)](),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r[t(380)]),this[t(369)]=!1,r}[jR(379)](t,e){const r=jR;this[r(423)].useProgram(),this[r(423)][r(409)](e),this[r(368)](t)}[jR(368)](t){const e=jR;let r=this.gl,i=t.imageSrc,n=this[e(393)][i];this[e(378)](this[e(381)].positionBuffer,new Float32Array(t[e(412)]),!1),this._addVerBuffer(this[e(381)].sideBuffer,new Float32Array(t[e(408)]),!1),this[e(378)](this[e(381)][e(400)],new Float32Array(t[e(422)]),!1),r[e(398)](r.ELEMENT_ARRAY_BUFFER,this[e(381)][e(380)]),r.bufferData(r.ELEMENT_ARRAY_BUFFER,new Uint16Array(t.indices),r.STATIC_DRAW),r[e(374)](r[e(416)]+0),r[e(387)](r[e(375)],n);const s=t[e(415)][e(372)];r.drawElements(r[e(395)],s,r[e(391)],0)}destroy(){const t=jR;this._deleteGPUProperties();for(let[e,r]of Object[t(377)](this[t(393)]))this.gl.deleteTexture(r);this._destroyRenderProperties()}}const XR=["processData","promises","_iteration","u_height","43373REEcsx","getAllMathCells","ids","_mapUnit","_isRTE","_isChange","texture","_objMap","23YkOylr","u_color1","_initRenderOpts","_imageSrc","get","_renderChange","push","_texRange","273004psKJiu","side","_draw","indices","1zXmJvI","addMathCell","_textureMap","_render","_createTexture","_colorArr1","length","draw","142154WSClkp","_renderable","_getGLTexture","_colorArr0","_drawData","_geoLayer","then","_id","76876xsqEvU","disable","addSymbolToTexture","2hYHGlo","set","_posSize","456998eVbLdu","u_color0","u_texRange","u_uvOffset","_initDrawData","speed","_tick","uvOffset","u_ifTex","dataMap","isRTE","_height","updateDrawData","341556pTyKns","24359iKnXNn"],WR=ZR;function ZR(t,e){return XR[t-=500]}!function(t,e){const r=ZR;for(;;)try{if(287240===-parseInt(r(544))-parseInt(r(550))+parseInt(r(525))*parseInt(r(528))+parseInt(r(545))*parseInt(r(558))+parseInt(r(517))+parseInt(r(509))*-parseInt(r(531))+parseInt(r(505)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(XR);class qR extends _M{constructor(t){const e=ZR;super(t),this[e(535)]()}_initRenderOpts(t,e){const r=ZR;super[r(560)](t,e),this._posSize=e[r(541)]?6:3,this[r(554)]=!0===e[r(541)]&&e[r(541)],this[r(512)]=new $R(this._gl,this[r(530)]),this[r(518)]=!0}[WR(510)](t){const e=WR;if(!(t instanceof MM))throw TypeError("hmap.geosolution.math.EleWallModel: mathCell must be instance EleWall!");if(!this[e(557)][e(501)](t._id)){this._objMap[e(529)](t[e(524)],t);let r=t[e(500)];this._render[e(527)](r),this[e(555)]=!0}}[WR(543)](){const t=WR;if(!this._isChange)return;this._initDrawData();const e=this[t(551)]();for(let r=0,i=e[t(515)];r<i;r++){let i=e[r];!i.dataReady&&i[t(546)](this[t(554)],this[t(553)]),this[t(521)][t(552)][t(503)](i._id)}this._isChange=!1,this[t(502)]=!0}[WR(507)](t){const e=WR;this[e(521)]&&this[e(537)](t)}_tick(t){const e=WR;this[e(521)]&&this[e(548)](t)}[WR(548)](t={}){const e=WR,r=this._gl;r[e(526)](r.CULL_FACE);let i=[];const n=this._drawData[e(552)];for(let r=0,s=n[e(515)];r<s;r++){const s=this[e(557)].get(n[r]);if(!s)continue;t[e(549)]=s._height,t[e(532)]=s[e(520)],t[e(559)]=s[e(514)],t[e(534)]=s[e(538)],t.u_texSpace=s._texSpace,t[e(533)]=s[e(504)],t[e(539)]=null!=s[e(500)]&&null!=s._imageSrc,t.u_wallHeight=s[e(542)];let o=s[e(540)];const a=o.positions,h=o[e(506)],l=o.uvs,c=o[e(508)],u=s[e(500)],p={positions:a,side:h,uvs:l,indices:c,imageSrc:u,elewallId:n[r]};if(u){let r=this[e(512)][e(556)][u],n=this[e(512)][e(547)][u];if(r){if(this[e(512)][e(516)](p,t),s.ifAnimate){let t=s[e(536)];s[e(538)][0]=s.uvOffset[0]+.01*t[0],s[e(538)][1]=s.uvOffset[1]+.01*t[1],s.uvOffset[0]>1&&(s[e(538)][0]=s.uvOffset[0]-1),s.uvOffset[1]>1&&(s[e(538)][1]=s[e(538)][1]-1)}}else i[e(503)](n)}else this[e(512)][e(516)](p,t)}0!=i[e(515)]&&Promise.all(i)[e(523)]((()=>{const t=e;this._geoLayer&&this[t(522)]._map&&this[t(522)]._map.af.active()}))}[WR(519)](t,e){const r=WR,i=this[r(512)][r(513)](e)[r(556)];this._render[r(511)].set(t,i)}[WR(535)](){this[WR(521)]={indices:[],indicesCount:[],offset:[],positions:[],previous:[],next:[],side:[],uvs:[],symbolSrc:[],ids:[]}}}const JR=["176doTkkc","82uhpGZW","7773TqTAOx","vsShader","781216gdjYPQ","55wNtdrj","#version 300 es\nprecision mediump float;\nin float v_dist;\nin vec4 v_color;\nin vec4 v_threshold;\nout vec4 outColor;\nvoid main(){\n    outColor=v_color;\n    if(v_dist<v_threshold.x){\n       outColor.a=v_color.a; \n    }else if(v_dist<v_threshold.y){\n        outColor.a*=0.75;\n    }else if(v_dist<v_threshold.z){\n        outColor.a*=0.50;\n    }else if(v_dist<v_threshold.w){\n        outColor.a*=0.25;\n    }else{\n        outColor.a*=0.15;\n    }  \n}\n","15329TZGtLw","#version 300 es\nin vec4 a_position;\n\nin vec3 a_center;\nin vec3 a_centerL;\nin vec4 a_color;\nin vec4 a_threshold;//nin float a_size;//\nin float a_freq;//\nin float a_maxSize;//n\nuniform float u_time;//\nuniform float u_res;//nuniform float u_resL;//n\nuniform vec3 u_cameraH;\nuniform vec3 u_cameraL;\nuniform mat4 u_mvMatrix;\nuniform mat4 u_projMatrix;\nuniform bool u_ifRTE;\nuniform float u_unit;\n\nout float v_dist;\nout vec4 v_color;\nout vec4 v_threshold;\n\nfloat getCurrentSize(){\n    float size=a_size;\n    size+=mod(u_time,a_freq)*(a_maxSize-a_size)/a_freq;\n    return size;\n}\n\nvec4 corrections(){\n     float res=u_res+u_resL/10000000.0*(1.0-u_unit)+u_resL*u_unit;\n     vec3 highD=a_center-u_cameraH;\n     vec3 diff=a_centerL-u_cameraL;\n     vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n     return vec4(highD+lowD,res);\n}\n\nvoid main(){\n    float size=getCurrentSize();\n    vec4 pos=a_position;\n    float res=u_res;\n    mat4 mvMatrix=u_mvMatrix;\n    vec3 center=a_center;\n    if(u_ifRTE){\n        mat4 mvR2Eye=u_mvMatrix;\n        mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n        mvMatrix=mvR2Eye;\n        vec4 corr=corrections();\n        center=corr.xyz;\n        res=corr.w;\n    }\n    pos.xy=pos.xy*size*res;\n    pos.xyz=pos.xyz+center;\n    gl_Position=u_projMatrix*mvMatrix*pos;\n    // gl_Position.z=float(gl_InstanceID)*gl_Position.w*0.000001;\n    v_dist=length(a_position.xy);\n    v_color=a_color;\n    v_threshold=a_threshold;\n}\n\n","619984WdMWnZ","1wJelzB","242329IagJAe","9943SACHLc","2174122afbbIt"];function KR(t,e){return JR[t-=406]}const QR=KR;!function(t,e){const r=KR;for(;;)try{if(697208===-parseInt(r(411))+-parseInt(r(412))*parseInt(r(413))+-parseInt(r(407))*parseInt(r(409))+-parseInt(r(416))*parseInt(r(418))+parseInt(r(406))+-parseInt(r(414))*-parseInt(r(417))+parseInt(r(415)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(JR);const tL={};tL[QR(419)]=QR(410),tL.fsShader=QR(408);const eL=["u_ifRTE","10133OeSWno","u_camera","36902NZtrCh","uniform1i","55ZDntMK","u_time","u_resL","u_cameraH","vsShader","458621dcHloK","uniform1f","u_mvMatrix","2389GfNNhV","uniformMatrix4fv","getElements","u_res","u_unit","1DrzHaZ","65QMsmSM","3mOdnCs","clz","u_projMatrix","898KcfcMS","chy","uniform3fv","550683skesHn","137oreWuA","u_cameraL","chz","clx","428074PdspoU","uniforms"];!function(t,e){const r=iL;for(;;)try{if(520284===parseInt(r(242))*parseInt(r(217))+-parseInt(r(237))*parseInt(r(233))+parseInt(r(225))+parseInt(r(218))*parseInt(r(222))+-parseInt(r(230))+parseInt(r(226))*parseInt(r(212))+-parseInt(r(235))*-parseInt(r(219)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(eL);class rL extends qc{constructor(t){super(t,tL[iL(241)],tL.fsShader)}setPrivateUniforms(t){const e=iL;this.gl[e(243)](this.uniforms[e(238)],t.u_time),this.gl.uniform1f(this[e(231)][e(216)],t[e(216)]),this.gl[e(236)](this[e(231)][e(232)],t.u_ifRTE),this.gl[e(213)](this[e(231)][e(211)],!1,t[e(211)][e(214)]()),this.gl[e(213)](this[e(231)][e(221)],!1,t[e(221)][e(214)]());const r=t[e(234)];this.gl.uniform3fv(this[e(231)][e(240)],[r.chx,r[e(223)],r[e(228)]]),this.gl[e(224)](this.uniforms[e(227)],[r[e(229)],r.cly,r[e(220)]]),this.gl.uniform1f(this.uniforms[e(215)],t[e(215)][0]),this.gl[e(243)](this[e(231)][e(239)],t[e(215)][1])}}function iL(t,e){return eL[t-=211]}const nL=["createBuffer","7jHUgJU","bindBuffer","UNSIGNED_BYTE","length","a_size","enableVertexAttribArray","_initToRender","draw","_vpMatrix","_program","TRIANGLES","22826oVLBOh","a_color","_addStaticBufferD","_buffers","a_freq","_vao","indices","1fvdnHX","freqs","26oRBXSz","_createBuffers","119173ISnJZw","sizes","centers","positions","index","174671WJTEht","colors","bufferData","437wTUnIr","getAttributeLocations","621786kbfSVY","cos","useProgram","39nlGOJl","vertexAttribPointer","_addVerBuffer","_destroyRenderProperties","_upBuffer","18073hfqPPw","bindVertexArray","a_position","1882kolfiL","_createVerBuffer","_posSize","idArray","destroy","setPrivateUniforms","vertexAttribDivisor","createVertexArray","14bRRhYr","3433TAXyQM","FLOAT","push","a_maxSize","_deleteGPUProperties","a_center","sin","ARRAY_BUFFER","maxSizes","a_threshold","_addChangeBufferD","ELEMENT_ARRAY_BUFFER"],sL=aL;!function(t,e){const r=aL;for(;;)try{if(947531===parseInt(r(313))*-parseInt(r(321))+parseInt(r(322))*parseInt(r(365))+parseInt(r(305))*parseInt(r(310))+parseInt(r(367))+parseInt(r(335))*parseInt(r(362))+parseInt(r(346))*parseInt(r(353))+-parseInt(r(355))*parseInt(r(357)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(nL);class oL extends rR{constructor(t,e){const r=aL;super(),this.gl=t,this[r(343)]=null,this[r(315)]=e,this[r(309)]=!1,this[r(341)]()}_initToRender(){const t=aL;this._program=new rL(this.gl),this[t(351)]=this.gl[t(320)](),this[t(349)]=this[t(356)](),this[t(348)]()}[sL(342)](t,e,r){const i=sL;this.gl[i(311)](this[i(351)]),this._program[i(369)](),this[i(344)][i(318)](e),this.gl.drawElementsInstanced(this.gl[r]||this.gl[i(345)],52,this.gl.UNSIGNED_BYTE,0,t[i(316)][i(338)]),this.gl[i(311)](null)}_addStaticBufferD(){const t=sL;let e=oL._createFilledCircle();this.gl[t(311)](this._vao),this.gl[t(336)](this.gl[t(329)],this._buffers[t(312)]),this.gl[t(364)](this.gl.ARRAY_BUFFER,new Float32Array(e[t(360)]),this.gl.STATIC_DRAW),this.gl[t(336)](this.gl.ELEMENT_ARRAY_BUFFER,this._buffers[t(361)]),this.gl[t(364)](this.gl[t(333)],new Uint8Array(e[t(352)]),this.gl.STATIC_DRAW),this.gl[t(311)](null)}[sL(332)](t){const e=sL;this.gl[e(311)](this._vao),this._addVerBuffer(this[e(349)].a_center,new Float32Array(t[e(359)]),!1),this._addVerBuffer(this[e(349)][e(347)],new Uint8Array(t[e(363)]),!1),this[e(307)](this[e(349)][e(331)],new Float32Array(t.thresholds),!1),this[e(307)](this[e(349)].a_size,new Float32Array(t[e(358)]),!1),this._addVerBuffer(this._buffers.a_freq,new Float32Array(t[e(354)]),!1),this[e(307)](this[e(349)][e(325)],new Float32Array(t[e(330)]),!1),this.gl[e(311)](null),this._upBuffer=!0}[sL(356)](){const t=sL;let e=this[t(344)][t(366)]();this.gl[t(311)](this[t(351)]);const r=this[t(315)];let i={};return i[t(312)]=this[t(314)](e[t(312)],"FLOAT",3),i[t(327)]=this.gl.createBuffer(),this.gl[t(336)](this.gl.ARRAY_BUFFER,i[t(327)]),this.gl[t(306)](e[t(327)],3,this.gl.FLOAT,!1,4*r,0),this.gl[t(340)](e[t(327)]),this.gl.vertexAttribPointer(e.a_centerL,3,this.gl[t(323)],!1,4*r,4*(r-3)),this.gl[t(340)](e.a_centerL),this.gl[t(319)](e[t(327)],1),this.gl[t(319)](e.a_centerL,1),i[t(347)]=this[t(314)](e[t(347)],t(337),4,!0),this.gl.vertexAttribDivisor(e[t(347)],1),i[t(331)]=this[t(314)](e.a_threshold,"FLOAT",4),this.gl.vertexAttribDivisor(e[t(331)],1),i[t(339)]=this[t(314)](e[t(339)],t(323),1),this.gl[t(319)](e[t(339)],1),i[t(350)]=this[t(314)](e.a_freq,t(323),1),this.gl.vertexAttribDivisor(e[t(350)],1),i.a_maxSize=this._createVerBuffer(e[t(325)],t(323),1),this.gl[t(319)](e.a_maxSize,1),i.index=this.gl[t(334)](),this.gl[t(336)](this.gl[t(329)],null),this.gl[t(311)](null),this[t(309)]=!1,i}[sL(317)](){const t=sL;this[t(326)](),this[t(308)]()}static _createFilledCircle(t=50){const e=sL;let r=[0,0,0],i=[0];for(let n=0;n<=t;n++){const s=2*Math.PI/t*n,o=1*Math[e(368)](s),a=1*Math[e(328)](s);r[e(324)](o,a,0),i[e(324)](n+1)}return{positions:r,indices:i,count:i[e(338)]}}}function aL(t,e){return nL[t-=305]}const hL=["_upFlag","index","isChange","_tick","Date","_size","float32FromDouble64","_addChangeBufferD","splice","_renderable","_render","set","_isRTE","19126dSUmnH","values","sizes","_color","_maxSize","addMathCell","update","_id","MathCell and MathModel must match up!","_objMap","TRIANGLE_FAN","2afVseQ","indexOf","now","14TmAgWS","577051dEhKcK","isRTE","3OLPQce","length","141994oRkwiH","get","_mapUnit","448515UXIuYK","_threshold","_draw","_posSize","_drawData","_assemble","_initDrawData","105194CBoGum","updateDrawData","freqs","colors","431301hrwWgA","_center","573098yiBHte","_upBuffer","1FUBZXO","push","thresholds","_freq","_gl","DEPTH_TEST","idArray","_initRenderOpts","centers","_startTime","maxSizes"],lL=cL;function cL(t,e){return hL[t-=480]}!function(t,e){const r=cL;for(;;)try{if(400411===-parseInt(r(529))*-parseInt(r(507))+parseInt(r(514))+parseInt(r(521))*parseInt(r(503))+-parseInt(r(527))+parseInt(r(511))*-parseInt(r(509))+parseInt(r(525))+parseInt(r(492))*-parseInt(r(506)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(hL);class uL extends _M{constructor(t){const e=cL;super(t),this[e(520)](),this._glStatus={DEPTH_TEST:!1}}[lL(536)](t,e){const r=lL;super[r(536)](t,e),this[r(491)]=!0===e[r(508)]&&e[r(508)],this[r(517)]=e.isRTE?6:3,this._render=new oL(this._gl,this[r(517)]),this[r(488)]=!0}[lL(497)](t){const e=lL;if(!(t instanceof LM))throw e(500);this._objMap[e(490)](t[e(499)],t)}[lL(522)](t){const e=lL;if(t)if(this[e(501)][e(512)](t)){const r=this[e(501)].get(t);let i=this._drawData[e(535)][e(504)](t),n=r[e(526)];if(this._isRTE){const t=Pt.float32FromDouble64(n[0],this[e(513)]),r=Pt[e(485)](n[1],this[e(513)]),i=Pt[e(485)](n[2],this[e(513)]);n=[t[0],r[0],i[0],t[1],r[1],i[1]]}-1===i?(this[e(519)](r,n),this._upFlag[e(480)]=i,this._upFlag[e(481)]=!0,this._upFlag[e(498)]="A"):(this[e(518)].centers[e(487)](this[e(517)]*i,this._posSize,...n),this[e(518)][e(524)].splice(4*i,4,...r[e(495)]),this[e(518)][e(494)].splice(i,1,r[e(484)]),this[e(518)].maxSizes[e(487)](i,1,r[e(496)]),this[e(518)][e(523)].splice(i,1,r[e(532)]),this[e(518)][e(531)][e(487)](4*i,4,...r[e(515)]),this[e(540)][e(480)]=i,this._upFlag[e(481)]=!0,this[e(540)].update="R")}else{let r=this[e(518)].idArray[e(504)](t);-1!==r&&(this._drawData[e(535)][e(487)](r,1),this[e(518)][e(537)][e(487)](this[e(517)]*r,this[e(517)]),this._drawData[e(524)][e(487)](4*r,4),this._drawData[e(494)][e(487)](r,1),this[e(518)][e(539)].splice(r,1),this[e(518)][e(523)][e(487)](r,1),this[e(518)][e(531)][e(487)](4*r,4),this[e(540)][e(480)]=r,this[e(540)][e(481)]=!0,this[e(540)].update="D")}else{this[e(520)]();for(let t of this[e(501)][e(493)]()){let r=t._center;if(this[e(491)]){const i=Pt[e(485)](t[e(526)][0],this[e(513)]),n=Pt.float32FromDouble64(t[e(526)][1],this[e(513)]),s=Pt[e(485)](t[e(526)][2],this[e(513)]);r=[i[0],n[0],s[0],i[1],n[1],s[1]]}this[e(519)](t,r)}this._upFlag[e(480)]=null,this[e(540)].isChange=!0,this._upFlag[e(498)]="O"}}[lL(516)](t){const e=lL;this._drawData.idArray[e(510)]<=0||(this[e(538)]=this[e(538)]?this._startTime:Date[e(505)](),(!this[e(489)][e(528)]||this._upFlag.isChange)&&(this[e(489)][e(486)](this[e(518)]),this._upFlag[e(481)]=!1))}[lL(482)](t){const e=lL;this._drawData[e(535)][e(510)]<=0||!1===this[e(489)]._upBuffer||(this[e(533)].disable(this[e(533)][e(534)]),t.u_time=this._startTime?window[e(483)].now()-this[e(538)]:0,this[e(489)].draw(this[e(518)],t,e(502)))}[lL(519)](t,e){const r=lL;this._drawData.idArray.push(t[r(499)]),this[r(518)].centers[r(530)](...e),this[r(518)][r(524)][r(530)](...t[r(495)]),this._drawData.sizes[r(530)](t[r(484)]),this[r(518)][r(539)][r(530)](t[r(496)]),this._drawData.freqs[r(530)](t[r(532)]),this[r(518)].thresholds.push(...t[r(515)])}[lL(520)](){this[lL(518)]={idArray:[],colors:[],sizes:[],maxSizes:[],freqs:[],centers:[],thresholds:[]}}}const pL=["u_unit","u_mvMatrix","u_cameraL","uniform1f","u_miPerMapUnit","uniform1i","clz","uniforms","724418DSObTL","1177927HbYRlS","uniform4fv","1163705BaUZPm","u_ifRTE","uniformMatrix4fv","199395kuzYYs","u_color","u_cameraH","59LZlQSM","26281TymrQz","u_speed","u_bottomLeft","u_projMatrix","1200823zbPwVI","uniform3fv","getElements","setPrivateUniforms","218205fLlBUH"],fL=gL;function gL(t,e){return pL[t-=369]}!function(t,e){const r=gL;for(;;)try{if(849858===-parseInt(r(373))*parseInt(r(374))+parseInt(r(378))+parseInt(r(392))+-parseInt(r(391))+-parseInt(r(382))+-parseInt(r(370))+parseInt(r(394)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(pL);class dL extends qc{constructor(t,e,r){super(t,e,r)}[fL(381)](t){const e=fL;this.gl.uniform1f(this.uniforms[e(383)],t[e(383)]),this.gl[e(388)](this[e(390)][e(395)],t[e(395)]);const r=t.u_camera;this.gl[e(379)](this[e(390)][e(372)],[r.chx,r.chy,r.chz]),this.gl[e(379)](this[e(390)][e(385)],[r.clx,r.cly,r[e(389)]]),this.gl[e(369)](this[e(390)][e(384)],!1,t[e(384)][e(380)]()),this.gl.uniformMatrix4fv(this[e(390)][e(377)],!1,t.u_projMatrix.getElements()),this.gl[e(386)](this[e(390)].u_time,t.u_time),this.gl[e(393)](this[e(390)][e(371)],t[e(371)]),this.gl[e(386)](this[e(390)].u_speed,t[e(375)]),this.gl.uniform1f(this.uniforms.u_waveScale,t.u_waveScale),this.gl[e(386)](this[e(390)][e(387)],t[e(387)]),this.gl[e(379)](this[e(390)][e(376)],t[e(376)])}}const _L=["#version 300 es\nin vec3 a_positionH;\nin vec3 a_positionL;\nuniform vec3 u_bottomLeft;\n\nuniform vec3 u_cameraH;\nuniform vec3 u_cameraL;\nuniform mat4 u_mvMatrix;\nuniform mat4 u_projMatrix;\nuniform bool u_ifRTE;\nuniform float u_unit;\n    \nout vec4 v_position;\n\n vec4 corrections(vec3 positionH, vec3 positionL){\n    vec3 highD=positionH;\n    vec3 diff=positionL;\n    vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n    return vec4(highD+lowD,1.0);\n}\n    \nvoid main() {\n  vec4 position=vec4(a_positionH,1.0);\n  mat4 mvMatrix=u_mvMatrix; \n  if(u_ifRTE){\n     position=corrections(a_positionH, a_positionL);         \n  }\n  v_position =  vec4(position.xyz-u_bottomLeft,position.w);\n  gl_Position = u_projMatrix * mvMatrix * position;\n}\n","334101ynpdpf","16795ERlvsf","65JeOdpi","212839ENdNch","17203TokdqI","1077398sOSCxp","fsShader","vsShader","#version 300 es\nprecision highp float;\n\nuniform float u_time;\nuniform vec4 u_color;\nuniform float u_speed;\nuniform float u_waveScale;\nuniform float u_miPerMapUnit;\nuniform sampler2D normalSampler;\n\nin vec4 v_position;\nout vec4 outColor;\n\nvec3 getNoise(in vec2 uv)\n{\n  float time = u_time * u_speed, \n    noiseScale = u_waveScale * 0.5 / u_miPerMapUnit;   //u_waveScale * 0.5/u_miPerMapUnit;       //0.5 * u_waveScale * ;\n  vec2 uv0 = uv / (103.0 * noiseScale) + vec2(time / 17.0, time / 29.0);\n  vec2 uv1 = uv / (107.0 * noiseScale) - vec2(time / -19.0, time / 31.0);\n  vec2 uv2 = uv / (vec2(8907.0, 9803.0) * noiseScale) + vec2(time / 101.0, time /   97.0);\n  vec2 uv3 = uv / (vec2(1091.0, 1027.0) * noiseScale) - vec2(time / 109.0, time / -113.0);\n  vec4 noise = texture(normalSampler, uv0) +  texture(normalSampler, uv1) +\n    texture(normalSampler, uv2) + texture(normalSampler, uv3);\n  return noise.xyz * 0.5 - 1.0;\n}\n    \nvoid main() {\n    vec3 distordNormal = getNoise(v_position.xy);\n    vec3 color = vec3(u_color.rgb);\n    vec3 scatter = max(0.0, dot(distordNormal, vec3(1.0,1.0,1.0))) * color;\n    outColor = vec4(scatter, u_color.a);\n}\n","92aguDiF","482378gQiBov","1494256xlwnoP"],yL=IL;!function(t,e){const r=IL;for(;;)try{if(779241===-parseInt(r(122))+parseInt(r(118))*parseInt(r(126))+parseInt(r(127))+parseInt(r(119))*-parseInt(r(121))+parseInt(r(128))+-parseInt(r(120))+-parseInt(r(130)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_L);const mL={};function IL(t,e){return _L[t-=118]}mL[yL(124)]=yL(129),mL[yL(123)]=yL(125);const xL=["vsShader","1312495JybQrN","484421shgbHT","1afDCOe","1824727MMSFkz","1319905OUbHIM","fsShader","#version 300 es\nin vec3 a_positionH;\nin vec3 a_positionL;\n\nuniform vec3 u_cameraH;\nuniform vec3 u_cameraL;\nuniform mat4 u_mvMatrix;\nuniform mat4 u_projMatrix;\nuniform bool u_ifRTE;\nuniform float u_unit;\n   \nvec4 corrections(vec3 positionH, vec3 positionL){\n    vec3 highD=positionH-u_cameraH;\n    vec3 diff=positionL-u_cameraL;\n    vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n    return vec4(highD+lowD,1.0);\n}\n    \nvoid main() {\n  vec4 position=vec4(a_positionH,1.0);\n  mat4 mvMatrix=u_mvMatrix; \n  if(u_ifRTE){\n     position=corrections(a_positionH, a_positionL);\n     mat4 mvR2Eye=u_mvMatrix;\n     mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n     mvMatrix=mvR2Eye;           \n  }\n  gl_Position = u_projMatrix * mvMatrix * position;\n}\n","2JBtoqR","1TvHKhh","2ahhefW","393797MZsmQf","595169NSYBfc","171155XThcPz"],vL=wL;!function(t,e){const r=wL;for(;;)try{if(707537===-parseInt(r(232))*parseInt(r(234))+parseInt(r(235))+parseInt(r(238))+-parseInt(r(245))*parseInt(r(239))+parseInt(r(242))*-parseInt(r(240))+parseInt(r(236))*-parseInt(r(233))+parseInt(r(241)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xL);const bL={};function wL(t,e){return xL[t-=232]}bL[vL(237)]=vL(244),bL[vL(243)]="#version 300 es\nprecision highp float;\n#define TAU 6.28318530718\n#define MAX_ITER 5\n#define INTENSITY 0.004\n#define SCALE 500.0\nuniform float u_time;\nout vec4 outColor;\nvoid main() {\n    vec2 uv = gl_FragCoord.xy/SCALE;\n    vec2 p = mod(uv * TAU, TAU) - 250.0;\n    vec2 i = vec2(p);\n    float c = 0.9;\n    for (int n = 0; n < MAX_ITER; n++) {\n        float t = 0.5 * u_time*2.0 * (1.0 - (3.5 / (float(n)+1.0)));\n        i = p + vec2(cos(t - i.x) + sin(t + i.y), sin(t - i.y) + cos(t + i.x));\n        c += 1.0 / length(vec2(p.x / (sin(i.x + t) / INTENSITY), p.y / (cos(i.y + t) / INTENSITY)));\n    }\n    c = 1.17 - pow(c / float(MAX_ITER), 1.4);\n    outColor=vec4(clamp(vec3(pow(abs(c), 8.0)) + vec3(0.0, 0.1, 0.6), 0.0, 1.0), 1.0);\n}\n";const TL=["createVertexArray","_effect","2vOXZUc","indexBuffer","FLOAT","bindTexture","REPEAT","images/waternormals.jpg","_addStaticBufferD","309454VHmRJf","bufferData","_buffers","2521jQSATU","1hRUdox","onload","_posSize","destroy","_addVerBuffer","bindBuffer","_program","a_positionL","74EheBbY","bindVertexArray","addGLTexture","LINEAR","deleteTexture","TEXTURE0","getAttributeLocations","_addChangeBufferD","176092ZMEUdD","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","vertexAttribPointer","_destroyRenderProperties","1636188rsHqPZ","texture","650729iWLHPT","a_positionH","236543zFxMOz","LINEAR_MIPMAP_LINEAR","_createBuffer","TRIANGLES","TEXTURE_2D","_vpMatrix","27017dyGDvk","_drawFillWater","positionBuffer","_vao","fsShader","setPrivateUniforms","ARRAY_BUFFER","_initToRender","positions","anonymous","5VZoaCO","useProgram","normalMap","crossOrigin","createBuffer","src"],EL=CL;function CL(t,e){return TL[t-=237]}!function(t,e){const r=CL;for(;;)try{if(384547===parseInt(r(269))*-parseInt(r(242))+-parseInt(r(294))*parseInt(r(284))+parseInt(r(276))*-parseInt(r(253))+parseInt(r(252))*-parseInt(r(261))+parseInt(r(249))+-parseInt(r(278))+parseInt(r(274)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(TL);class AL extends rR{constructor(t,e,r){const i=CL;super(),this.gl=t,this[i(255)]=e,this[i(241)]=r,this[i(283)]=null,this[i(296)]=null,this[i(291)]()}_initToRender(){const e=CL;let r=2!=this[e(241)]?mL:bL;this[e(259)]=new dL(this.gl,r.vsShader,r[e(288)]),this[e(287)]=this.gl[e(240)](),this._buffers=this[e(280)]();let i=new Image;i[e(237)]=e(293),i[e(239)]=t.initState.resource+e(247);const n=this;i[e(254)]=function(){const t=e;n.normalMap=n[t(259)][t(263)](i,0,t(246),t(246),0,t(279),t(264))[t(275)]}}draw(t,e){const r=CL;this._program[r(295)](),this[r(259)][r(289)](t),this[r(285)](e)}[EL(285)](t){const e=EL;let r=this.gl;r[e(262)](this[e(287)]),r.activeTexture(r[e(266)]+0),r[e(245)](r[e(282)],this[e(296)]||null),r.drawElements(r[e(281)],t.count,r.UNSIGNED_SHORT,0),r.bindVertexArray(null)}[EL(248)](t){const e=EL;this.gl.bindVertexArray(this[e(287)]);const r=this[e(251)];this[e(257)](r.positionBuffer,new Float32Array(t[e(292)]),!1),this.gl[e(258)](this.gl[e(271)],r[e(243)]),this.gl[e(250)](this.gl.ELEMENT_ARRAY_BUFFER,new Uint16Array(t.indices),this.gl[e(270)]),this.gl[e(262)](null)}[EL(268)](){}_createBuffer(){const t=EL;let e=this.gl;e[t(262)](this[t(287)]);let r={},i=this[t(259)][t(267)](),n=this[t(255)];return r[t(286)]=e.createBuffer(),e.bindBuffer(e[t(290)],r[t(286)]),e[t(272)](i.a_positionH,3,e[t(244)],!1,4*n,0),e.enableVertexAttribArray(i[t(277)]),e.vertexAttribPointer(i[t(260)],3,e[t(244)],!1,4*n,4*(n-3)),e.enableVertexAttribArray(i[t(260)]),r.indexBuffer=e[t(238)](),e[t(258)](e[t(271)],r[t(243)]),e[t(262)](null),r}[EL(256)](){const t=EL;this._deleteGPUProperties(),this.gl[t(265)](this[t(296)]),this[t(273)]()}}const ML=["_addStaticBufferD","198733mUmMjc","u_bottomLeft","6AOBjbK","DEPTH_TEST","push","addMathCell","count","effect","u_time","disable","1gtQjjf","_colorArr","7472aQbJco","waveScale","_id","color","degrees","isRTE","195229uEkLKf","_renderable","dataReady","35126jnOdnr","toNormalizeArray","_isRTE","_mapUnit","set","removeAll","processData","hasOwnProperty","u_waveScale","1TufDcV","13jkTDlX","you must define hmap.initState.resource first!","_gl","blendEquation","speed","resource","_drawData","38220IKioSJ","_objMap","_draw","_render","updateDrawData","initTime","getOrdinate","extent","7020aaIksU","dataMap","_initRenderOpts","length","parameter must be a hmap.geosolution.cell.FillWater!","u_color","FUNC_ADD","24DVorHF","17805gmPtut","getTime","getAllMathCells","draw","extendExtent","u_speed","_isChange","enable","_renderChange","indices","_addToRender","bottomLeft","_initParam","getBottomLeft","removeMathCellById","positions","_tick","get"],SL=PL;function PL(t,e){return ML[t-=104]}!function(t,e){const r=PL;for(;;)try{if(182347===parseInt(r(105))*-parseInt(r(117))+-parseInt(r(118))*-parseInt(r(141))-parseInt(r(125))+parseInt(r(108))*parseInt(r(162))+parseInt(r(170))*-parseInt(r(160))-parseInt(r(133))+parseInt(r(172))*parseInt(r(140)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ML);class RL extends _M{constructor(e){const r=PL;if(super(e),this[r(167)]=e[r(115)](r(167))?e[r(167)]:1,this[r(175)]=e.color instanceof t.Color?e[r(175)]:new t.Color(0,115,250),this[r(122)]=e[r(115)](r(122))&&e[r(122)]>=0?e[r(122)]:1,this[r(173)]=e[r(115)]("waveScale")&&e[r(173)]>=0?e.waveScale:1,!t.initState[r(123)])throw ReferenceError(r(119));this[r(153)]()}_initParam(){const t=PL;this[t(147)]=!1,this[t(149)]=!1,this[t(130)]=(new Date)[t(142)]()/1e3,this[t(171)]=this[t(175)][t(109)]()}[SL(135)](t,e){const r=SL;super._initRenderOpts(t,e);const i=e[r(104)]?6:3;this[r(110)]=!0===e[r(104)]&&e.isRTE,this[r(128)]=new AL(this[r(120)],i,this[r(167)]),this[r(106)]=!0}[SL(165)](t){const e=SL;if(!(t instanceof NM))throw TypeError(e(137));!this[e(126)][e(158)](t[e(174)])&&(this[e(126)][e(112)](t[e(174)],t),this[e(147)]=!0)}[SL(155)](t){const e=SL;super.removeMathCellById(t),this[e(147)]=!0}[SL(113)](){super[SL(113)](),this._isChange=!0}[SL(129)](){const t=SL;if(!this[t(147)])return;let e,r=[],i=[],n=this[t(143)]();for(let s of n){!s[t(107)]&&s[t(114)](this._isRTE,this[t(111)]);let n=s[t(134)],o=n[t(150)],a=n[t(156)],h=this[t(110)]?r[t(136)]/6:r[t(136)]/3;if(0!=h)for(let e=0;e<o[t(136)];e++)i[t(164)](o[e]+h);else i[t(164)](...o);r[t(164)](...a),e=e?e[t(145)](n.extent):n[t(132)]}const s=e&&e[t(154)]();this.bottomLeft=s?[s[t(131)]("X"),s.getOrdinate("Y"),s[t(131)]("Z")]:[0,0,0],this[t(124)]={positions:r,indices:i},this[t(147)]=!1,this[t(149)]=!0}[SL(151)](){const t=SL;this[t(128)][t(159)](this._drawData),this.count=this[t(124)][t(150)][t(136)],this._drawData=null}[SL(127)](t){const e=SL;this._renderChange&&(this[e(151)](),this[e(149)]=!1),this[e(120)][e(148)](this[e(120)].BLEND),this[e(120)][e(121)](this[e(120)][e(139)]),this._gl[e(169)](this[e(120)][e(163)]),this[e(157)](t)}_tick(t={}){const e=SL;if(!this.count||0===this.count)return;t&&(t[e(168)]=(new Date).getTime()/1e3-this[e(130)],t[e(138)]=this[e(171)],t[e(146)]=this.speed,t[e(116)]=this[e(173)],t.u_miPerMapUnit=this[e(111)]==e(176)?11e4:1,t[e(161)]=this[e(152)]);const r={count:this[e(166)]};this[e(128)][e(144)](t,r)}}var LL=["1465321FgsOhQ","1400579nRrQEE","1AFIFoY","1LciXZq","uniform1i","291464BOnIgh","550471dheGbG","uniform1f","507930QjwqzJ","u_framesParam","u_needLoop","735315cJXYMv","u_unit","85022gChPVl","uniforms"];!function(t,e){for(var r=DL;;)try{if(834474===parseInt(r(383))+-parseInt(r(376))+parseInt(r(380))*parseInt(r(379))+parseInt(r(371))+parseInt(r(374))+-parseInt(r(381))*parseInt(r(384))+-parseInt(r(378)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(LL);class FL extends qc{constructor(t,e,r){super(t,e,r)}setPrivateUniforms(t){var e=DL;this.gl[e(385)](this[e(377)][e(375)],t[e(375)]),this.gl[e(385)](this[e(377)][e(372)],t[e(372)]),this.gl[e(382)](this.uniforms[e(373)],t[e(373)])}}function DL(t,e){return LL[t-=371]}const OL=["832099rCtcLN","758FKKRPL","1811nijNWq","43jccEHV","2tYJIZl","185HnWzLj","5782698TcTHQO","87836vkiDFF","#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    in vec4 v_color;\n    out vec4 outColor;\n    void main(){\n        outColor=v_color;\n    }\n","7993rxDsfj","vsShader","#version 300 es\n    in  vec3  a_positionH;\n    in  vec3  a_positionL;\n    in  vec4  a_color;\n    out vec4  v_color;\n    \n    in float a_prevFrameNum;            //n    in float a_currFrameNum;            //n    in float a_nextFrameNum;            //n    in float a_routeFrameSum;           //n    in float a_selfFrameSum;            //\n    in float a_startFrameNum;           //n    in vec3 a_offsetPerFrame;           //n    uniform float u_framesParam;        //n    uniform bool u_needLoop;            //n\n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_mvMatrix;\n    uniform mat4 u_projMatrix;\n    uniform bool u_ifRTE;\n    uniform float u_unit;\n    \n    vec4 corrections(){\n        vec3 highD=a_positionH-u_cameraH;\n        vec3 diff=a_positionL-u_cameraL;\n        vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n        return vec4(highD+lowD,1.0);\n    }\n    \n    void main(){\n        float param = (u_framesParam - a_startFrameNum);\n        float flowFrameSum = a_routeFrameSum + a_selfFrameSum;\n        if(u_needLoop){\n            while(param > flowFrameSum){\n                param = param - flowFrameSum;\n            }\n        }\n        vec4 position=vec4(a_positionH,1.0);\n        mat4 mvMatrix=u_mvMatrix;\n        if(u_ifRTE){\n            mat4 mvR2Eye=u_mvMatrix;            \n            mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n            mvMatrix=mvR2Eye;\n            position=corrections();\n        }\n        float lineParam = 0.0;\n        float opacity = 0.0;\n        bool pointDiscard = true;\n        if(param > a_nextFrameNum + a_selfFrameSum || param < a_prevFrameNum){\n            pointDiscard = true;\n            opacity = 0.0;\n        }else if( param >= a_currFrameNum && param <= a_currFrameNum + a_selfFrameSum ){\n            pointDiscard = false;\n            if(param - a_selfFrameSum < 0.0){\n                opacity = a_currFrameNum/param;\n            }else{\n                opacity = sin((a_currFrameNum - (param - a_selfFrameSum))*1.570796327/a_selfFrameSum);    \n            }\n        }else{\n            if(param - a_selfFrameSum > a_currFrameNum){\n                lineParam = param - a_selfFrameSum - a_currFrameNum;\n            }else{\n                lineParam = param - a_currFrameNum;\n            }\n            pointDiscard = false;\n            if(param - a_selfFrameSum < 0.0){\n                opacity = (a_currFrameNum + lineParam)/param;\n            }else{\n                opacity = sin((a_currFrameNum + lineParam - (param - a_selfFrameSum))*1.570796327/a_selfFrameSum);    \n            }\n        }\n        position = position + vec4(a_offsetPerFrame*lineParam, 0.0);\n        if(!pointDiscard){\n            gl_Position=u_projMatrix*mvMatrix*position;\n            v_color=vec4(a_color.xyz, a_color.w*opacity);\n        }\n    }  \n","17734NrlZgE","fsShader","57ZBGLMS","10829OGtajm"],NL=BL;function BL(t,e){return OL[t-=248]}!function(t,e){const r=BL;for(;;)try{if(798343===parseInt(r(255))*-parseInt(r(256))+-parseInt(r(253))*parseInt(r(257))+parseInt(r(250))*-parseInt(r(252))+-parseInt(r(258))*-parseInt(r(261))+parseInt(r(259))*-parseInt(r(263))-parseInt(r(254))+parseInt(r(260)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(OL);const UL={};UL[NL(248)]=NL(249),UL[NL(251)]=NL(262);const kL=["_sideNum","uniformMatrix4fv","drawArrays","offsetPerFrames","fsShader","_deleteGPUProperties","useProgram","_vao","1126736BpTIpU","createBuffer","a_color","FLOAT","chz","positionBuffer","count","nextFrameNumBuffer","1108535IgFilp","a_nextFrameNum","_upBuffer","_posSize","selfFrameSumBuffer","startFrameNumBuffer","a_offsetPerFrame","a_positionH","1205604naEcMy","bindBuffer","113075pIBVXK","a_selfFrameSum","a_positionL","destroy","13lWyqfQ","draw","getAttributeLocations","u_camera","uniform3fv","_addVerBuffer","u_ifRTE","LINES","res","ARRAY_BUFFER","bindVertexArray","positions","3uGFhDP","a_currFrameNum","setResolution","a_routeFrameSum","currFrameNumBuffer","_createBuffer","offsetPerFrameBuffer","_buffers","1126436PpqZAw","nextFrameNums","uniforms","18712stczIS","1kNUOJj","prevFrameNumBuffer","vertexAttribPointer","u_cameraH","enableVertexAttribArray","clx","1pFxpNN","_drawFlows","routeFrameSumBuffer","u_projMatrix","423221FVUCmg","chx","prevFrameNums","routeFrameSums","_destroyRenderProperties","selfFrameSums","colorBuffer","startFrameNums","_addStaticBufferD","createVertexArray","a_prevFrameNum","vsShader","chy","_program","_vpMatrix"],VL=GL;function GL(t,e){return kL[t-=187]}!function(t,e){const r=GL;for(;;)try{if(815963===-parseInt(r(229))+parseInt(r(188))*parseInt(r(245))+parseInt(r(219))*parseInt(r(263))+-parseInt(r(233))*parseInt(r(256))-parseInt(r(227))-parseInt(r(211))+-parseInt(r(257))*-parseInt(r(253)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(kL);class zL extends rR{constructor(t,e,r){const i=GL;super(),this.gl=t,this[i(203)]=r,this[i(202)]=null,this[i(222)]=e,this[i(221)]=!1,this._initToRender()}[VL(247)](t){this[VL(241)]=t}_initToRender(){const t=VL;this[t(201)]=new FL(this.gl,UL[t(199)],UL[t(207)]),this[t(210)]=this.gl[t(197)](),this[t(252)]=this[t(250)]()}[VL(234)](t,e){const r=VL;let i=this.gl;this[r(201)][r(209)](),i.uniform1i(this[r(201)][r(255)][r(239)],t[r(239)]),i[r(204)](this[r(201)][r(255)].u_mvMatrix,!1,t.u_mvMatrix.getElements()),i[r(204)](this[r(201)].uniforms.u_projMatrix,!1,t[r(187)].getElements());const n=t[r(236)];i[r(237)](this[r(201)][r(255)][r(260)],[n[r(189)],n[r(200)],n[r(215)]]),i[r(237)](this[r(201)][r(255)].u_cameraL,[n[r(262)],n.cly,n.clz]),this._program.setPrivateUniforms(t),this._drawFlows(e)}[VL(264)](t){const e=VL;if(0===t.count)return;this.gl[e(243)](this[e(210)]);const r=this[e(252)];this.gl[e(228)](this.gl.ARRAY_BUFFER,r[e(216)]),this.gl[e(228)](this.gl[e(242)],r.colorBuffer),this.gl.bindBuffer(this.gl[e(242)],r[e(258)]),this.gl.bindBuffer(this.gl[e(242)],r.currFrameNumBuffer),this.gl[e(228)](this.gl[e(242)],r[e(218)]),this.gl[e(228)](this.gl[e(242)],r[e(265)]),this.gl[e(228)](this.gl.ARRAY_BUFFER,r[e(223)]),this.gl[e(228)](this.gl[e(242)],r[e(224)]),this.gl[e(228)](this.gl.ARRAY_BUFFER,r[e(251)]),this.gl[e(205)](this.gl[e(240)],0,t[e(217)]),this.gl.bindVertexArray(null)}[VL(196)](t){const e=VL;this.gl[e(243)](this[e(210)]);const r=this[e(252)];this[e(238)](r[e(216)],new Float32Array(t[e(244)]),!1),this[e(238)](r[e(194)],new Float32Array(t.colors),!1),this[e(238)](r.prevFrameNumBuffer,new Float32Array(t[e(190)]),!1),this[e(238)](r[e(249)],new Float32Array(t.currFrameNums),!1),this._addVerBuffer(r[e(218)],new Float32Array(t[e(254)]),!1),this[e(238)](r[e(265)],new Float32Array(t[e(191)]),!1),this._addVerBuffer(r[e(223)],new Float32Array(t[e(193)]),!1),this._addVerBuffer(r[e(224)],new Float32Array(t[e(195)]),!1),this[e(238)](r[e(251)],new Float32Array(t[e(206)]),!1),this.gl[e(243)](null)}_addChangeBufferD(){}[VL(250)](){const t=VL;let e=this.gl;e[t(243)](this[t(210)]);let r=this._posSize,i={},n=this._program[t(235)]();return i.positionBuffer=e[t(212)](),e[t(228)](e[t(242)],i[t(216)]),e.vertexAttribPointer(n[t(226)],3,e[t(214)],!1,4*r,0),e.enableVertexAttribArray(n[t(226)]),e[t(259)](n[t(231)],3,e[t(214)],!1,4*r,4*(r-3)),e[t(261)](n.a_positionL),i[t(194)]=e[t(212)](),e[t(228)](e[t(242)],i[t(194)]),e[t(259)](n.a_color,4,e[t(214)],!1,0,0),e[t(261)](n[t(213)]),i.prevFrameNumBuffer=e[t(212)](),e[t(228)](e[t(242)],i[t(258)]),e.vertexAttribPointer(n[t(198)],1,e[t(214)],!1,0,0),e[t(261)](n[t(198)]),i[t(249)]=e[t(212)](),e[t(228)](e[t(242)],i[t(249)]),e[t(259)](n[t(246)],1,e[t(214)],!1,0,0),e.enableVertexAttribArray(n[t(246)]),i.nextFrameNumBuffer=e.createBuffer(),e[t(228)](e[t(242)],i[t(218)]),e[t(259)](n.a_nextFrameNum,1,e[t(214)],!1,0,0),e.enableVertexAttribArray(n[t(220)]),i.routeFrameSumBuffer=e.createBuffer(),e[t(228)](e[t(242)],i[t(265)]),e.vertexAttribPointer(n.a_routeFrameSum,1,e[t(214)],!1,0,0),e[t(261)](n[t(248)]),i[t(223)]=e[t(212)](),e[t(228)](e[t(242)],i.selfFrameSumBuffer),e[t(259)](n[t(230)],1,e[t(214)],!1,0,0),e[t(261)](n.a_selfFrameSum),i[t(224)]=e[t(212)](),e[t(228)](e[t(242)],i.startFrameNumBuffer),e[t(259)](n.a_startFrameNum,1,e.FLOAT,!1,0,0),e[t(261)](n.a_startFrameNum),i[t(251)]=e[t(212)](),e[t(228)](e.ARRAY_BUFFER,i[t(251)]),e.vertexAttribPointer(n.a_offsetPerFrame,3,e[t(214)],!1,0,0),e[t(261)](n[t(225)]),e[t(243)](null),i}[VL(232)](){const t=VL;this[t(208)](),this[t(192)]()}}const HL=["currFrameNums","_gl","nextFrameNums","start","offsetPerFrames","SRC_ALPHA","draw","startFrameNums","32089GBbwss","5MIdafu","_render","_isRTE","_drawData","additive","blendFunc","15XwWlem","561131kyWjNB","get","3493HTZXuB","isRTE","count","4lslIrW","_isChange","drawPointNum","blendEquation","243976ajqEUZ","needLoop","prevFrameNums","addMathCell","89HTEdRl","_id","BLEND","frameDelay","set","_renderChange","_isStart","hasOwnProperty","positions","float32FromDouble64","data","removeAll","removeMathCellById","push","_renderable","enable","selfFrameSums","disable","dataReady","_tick","_addToRender","u_needLoop","347005yfIsNi","blendMode","ONE_MINUS_SRC_ALPHA","framesParam","ONE","_draw","_srid","u_framesParam","DEPTH_TEST","_addStaticBufferD","21010idDOjW","96320iliBCj","_initRenderOpts"],jL=YL;function YL(t,e){return HL[t-=264]}!function(t,e){const r=YL;for(;;)try{if(307238===parseInt(r(319))*-parseInt(r(308))-parseInt(r(288))+parseInt(r(299))*-parseInt(r(298))+-parseInt(r(305))*parseInt(r(287))+parseInt(r(306))+-parseInt(r(277))+parseInt(r(311))*parseInt(r(315)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(HL);class $L extends _M{constructor(t={}){const e=YL;super(t),this[e(280)]=0,this._isChange=!1,this[e(324)]=!1,this[e(325)]=!1,this.needLoop=!t.hasOwnProperty("loop")||t.loop,this[e(278)]=t[e(326)]("blendMode")?t.blendMode:e(303)}[jL(289)](t,e){const r=jL;super[r(289)](t,e);const i=e[r(309)]?6:3;this[r(301)]=!0===e[r(309)]&&e[r(309)],this[r(300)]=new zL(this._gl,i),this[r(269)]=!0}[jL(318)](t){const e=jL;if(!(t instanceof KM))throw TypeError("parameter must be instance of Flow!");!this._objMap[e(307)](t[e(320)])&&(this._objMap[e(323)](t[e(320)],t),this[e(312)]=!0)}removeMathCellById(t){super[jL(267)](t),this._isChange=!0}[jL(266)](){const t=jL;super[t(266)](),this[t(312)]=!0}updateDrawData(){const t=jL;if(!this[t(312)])return;const e=[],r=[],i=[],n=[],s=[],o=[],a=[],h=[],l=[];let c=0;const u=this.getAllMathCells();for(let p=0;p<u.length;p++){const f=u[p];!f[t(273)]&&f.processData(this[t(283)]);let g=f[t(265)];const d=g[t(327)],_=g.colors,y=g[t(317)],m=g[t(290)],I=g[t(292)],x=g.routeFrameSums,v=g[t(271)],b=g[t(294)];for(let r=0;r<d.length;r++){const i=d[r];if(this[t(301)]){const r=Pt[t(264)](i[0],this._mapUnit),n=Pt[t(264)](i[1],this._mapUnit),s=Pt[t(264)](i[2],this._mapUnit);e[t(268)](r[0],n[0],s[0],r[1],n[1],s[1])}else e[t(268)](i[0],i[1],i[2])}r[t(268)](..._),i.push(...y),n.push(...m),s[t(268)](...I),o[t(268)](...x),a[t(268)](...v),l[t(268)](...b);const w=f[t(313)];!f[t(297)]&&(f[t(297)]=new Array(w).fill(this[t(280)]+f[t(322)])),h.push(...f[t(297)]),c+=w}this[t(302)]={positions:e,colors:r,prevFrameNums:i,currFrameNums:n,nextFrameNums:s,routeFrameSums:o,selfFrameSums:a,startFrameNums:h,offsetPerFrames:l,count:c},this._isChange=!1,this[t(324)]=!0}[jL(275)](){const t=jL;this[t(300)][t(286)](this[t(302)]),this[t(310)]=this[t(302)][t(310)],this._drawData=null,this[t(293)]()}[jL(282)](t){const e=jL;this[e(324)]&&(this[e(275)](),this._renderChange=!1),this._tick(t)}[jL(274)](t={}){const e=jL;if(!this[e(325)])return;if(!this[e(310)]||0===this[e(310)])return;const r=this[e(291)];"additive"!=this[e(278)]?(r[e(270)](r.BLEND),r[e(304)](r[e(295)],r[e(279)])):(r[e(270)](r[e(321)]),r[e(314)](r.FUNC_ADD),r[e(304)](r.SRC_ALPHA,r[e(281)]),r[e(272)](r[e(285)])),t&&(t[e(284)]=this.framesParam,t[e(276)]=this[e(316)]);const i={count:this.count};this[e(300)][e(296)](t,i),this[e(280)]++,r.disable(r[e(321)])}[jL(293)](){this[jL(325)]=!0}pause(){this[jL(325)]=!1}}const XL=["56233BBNfhF","53nEnlMH","25118mVaKUL","14DlTUkb","1353391ZTIZfv","vsShader","1223207FOXgMI","3699305fUHJko","fsShader","34229aiuvkS","269587wkkvqn","#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    in vec4 v_color;\n    out vec4 outputColor;\n    void main() {\n      outputColor =v_color;\n    }"],WL=ZL;function ZL(t,e){return XL[t-=399]}!function(t,e){const r=ZL;for(;;)try{if(933385===parseInt(r(403))*-parseInt(r(407))+parseInt(r(406))*-parseInt(r(409))-parseInt(r(408))+parseInt(r(410))+-parseInt(r(404))+-parseInt(r(400))+parseInt(r(401)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(XL);const qL={};qL[WL(399)]="#version 300 es\n    in  vec3  a_positionH;\n    in  vec3  a_positionL;\n    in vec4 a_color;\n    in vec3 a_normal;\n    out vec4 v_color;\n    \n    uniform bool u_enableLight;\n    uniform vec4 u_lightColor;\n    uniform vec3 u_lightDirection;\n    uniform float u_intensity;\n\n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_mvMatrix;\n    uniform mat4 u_projMatrix;\n    uniform bool u_ifRTE;\n    uniform float u_unit;\n    \n    vec4 corrections(){\n        vec3 highD=a_positionH-u_cameraH;\n        vec3 diff=a_positionL-u_cameraL;\n        vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n        return vec4(highD+lowD,1.0);\n    }\n    \n    void main() {\n        vec4 position=vec4(a_positionH,1.0);\n        mat4 mvR2Eye=u_mvMatrix;\n        mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n        position=corrections();\n        gl_Position=u_projMatrix*mvR2Eye*position;\n        //  \n        vec3 lightRadio;\n        if(u_enableLight){\n            vec3 normal = normalize(a_normal);\n            vec3 lightDirection = normalize(-u_lightDirection);\n            vec3 lightColor = u_lightColor.rgb * u_lightColor.a;\n            float nDotL = dot(lightDirection, normal);\n            vec3 diffuse;\n            if(nDotL > 0.0){\n               float lightValue = 0.2 + 0.2*nDotL;\n               diffuse = vec3(lightColor.rgb) * u_intensity * lightValue;\n            }else{\n               float lightValue = 0.2 + 0.2*nDotL;\n               diffuse = vec3(lightColor.rgb) * lightValue;\n            }\n            vec3 ambient = vec3(lightColor.rgb) * 0.6;\n            lightRadio = diffuse + ambient;\n        }else{\n            lightRadio = vec3(1.0, 1.0, 1.0);\n        }\n        v_color = vec4(lightRadio * a_color.rgb, a_color.a);\n    }",qL[WL(402)]=WL(405);const JL=["u_intensity","getElements","u_projMatrix","chy","clz","u_lightColor","u_mvMatrix","uniform3fv","chx","u_mvpMatrix","777854YJSItO","u_cameraH","307317KNaPkt","u_unit","uniform4fv","83764lBiXoX","1hkEOXs","u_camera","uniformMatrix4fv","uniforms","setPrivateUniforms","3kVdiXr","uniform1i","261601qGoTbL","u_lightDirection","uniform1f","99210pyQHwr","319199BBOwZQ","u_vpMatrix","3adtHel","clx","610806DxqDZI","u_enableLight"],KL=QL;function QL(t,e){return JL[t-=187]}!function(t,e){const r=QL;for(;;)try{if(652739===-parseInt(r(219))*-parseInt(r(217))+-parseInt(r(211))*parseInt(r(212))+parseInt(r(192))*parseInt(r(208))-parseInt(r(206))+parseInt(r(190))+parseInt(r(189))+-parseInt(r(194)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(JL);class tF extends qc{constructor(t,e,r){super(t,e,r)}[KL(216)](t,e,r){const i=KL;this.gl[i(214)](this[i(215)][i(205)],!1,t[i(191)][i(197)]()),this.gl[i(214)](this[i(215)][i(202)],!1,t.u_mvMatrix.getElements()),this.gl[i(214)](this[i(215)][i(198)],!1,t.u_projMatrix.getElements()),this.gl[i(188)](this[i(215)][i(209)],t[i(209)]);const n=t[i(213)];this.gl[i(203)](this.uniforms[i(207)],[n[i(204)],n[i(199)],n.chz]),this.gl.uniform3fv(this[i(215)].u_cameraL,[n[i(193)],n.cly,n[i(200)]]);let s=t.u_enableLight&&3==e;this.gl[i(218)](this.uniforms[i(195)],s),this.gl[i(203)](this[i(215)][i(187)],t[i(187)]),this.gl[i(210)](this[i(215)][i(201)],t[i(201)]),this.gl[i(188)](this.uniforms.u_intensity,t[i(196)])}}const eF=["a_normal","setPrivateUniforms","a_positionL","bindVertexArray","9LjSNMQ","5321kdcTHR","_draw","CULL_FACE","length","_addVerBuffer","DEPTH_BUFFER_BIT","enable","_vpMatrix","drawArrays","TRIANGLES","86811HZZnIw","vertexAttribPointer","ELEMENT_ARRAY_BUFFER","7313bFQOZT","_destroyRenderProperties","UNSIGNED_SHORT","positionLBuffer","a_indices","createBuffer","_upBuffer","_initToRender","createVertexArray","ARRAY_BUFFER","a_positionH","fsShader","destroy","_buffers","736454iHbUHv","1288053uSDiYL","_createBuffer","useProgram","_disableBlend","a_color","_program","drawElements","normalBuffer","FLOAT","bufferData","345060WSFzvE","_vao","positionHBuffer","_drawGridHeat","enableVertexAttribArray","194RAkntr","921108VCZviW","getAttributeLocations","bindBuffer","vsShader","_addStaticBufferD","DEPTH_TEST","clear"];function rF(t,e){return eF[t-=389]}const iF=rF;!function(t,e){const r=rF;for(;;)try{if(743075===-parseInt(r(443))-parseInt(r(393))+parseInt(r(433))+parseInt(r(392))*parseInt(r(418))+parseInt(r(415))+-parseInt(r(432))+-parseInt(r(404))*parseInt(r(405)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(eF);class nF extends rR{constructor(t,e,r){const i=rF;super(),this.gl=t,this[i(412)]=null,this[i(436)]=r,this[i(425)]()}[iF(425)](){const t=iF;this[t(438)]=new tF(this.gl,qL[t(396)],qL[t(429)]),this._vao=this.gl[t(426)](),this[t(431)]=this[t(434)]()}[iF(406)](t,e,r){const i=iF;this.gl[i(399)](this.gl[i(410)]),this._program[i(435)](),this._program[i(401)](e,r),this[i(390)](t,r)}[iF(390)](t,e){const r=iF;let i=this.gl;if(i[r(403)](this._vao),2==e){let e=t[r(428)][r(408)]/3;i.disable(i[r(398)]),i[r(413)](i[r(414)],0,e)}else{let e=t.a_indices[r(408)];i[r(411)](i[r(398)]),i[r(411)](i[r(407)]),i[r(439)](i[r(414)],e,i[r(420)],0)}i.bindVertexArray(null)}[iF(397)](t){const e=iF,r=this.gl;r[e(403)](this[e(444)]),this._addVerBuffer(this[e(431)][e(389)],new Float32Array(t[e(428)]),!1),this[e(409)](this[e(431)][e(421)],new Float32Array(t[e(402)]),!1),this[e(409)](this[e(431)].colorBuffer,new Float32Array(t[e(437)]),!1),this._addVerBuffer(this[e(431)][e(440)],new Float32Array(t[e(400)]),!1),r[e(395)](r[e(417)],this[e(431)].indicesBuffer),r[e(442)](r[e(417)],new Uint16Array(t[e(422)]),r.STATIC_DRAW),r[e(403)](null),this[e(424)]=!0}[iF(434)](){const t=iF;let e=this.gl;e.bindVertexArray(this._vao);const r=this[t(438)][t(394)](),i=this.gl[t(423)]();e[t(395)](this.gl[t(427)],i),e[t(416)](r[t(428)],3,this.gl[t(441)],!1,0,0),e[t(391)](r.a_positionH);const n=this.gl.createBuffer();e.bindBuffer(this.gl[t(427)],n),e[t(416)](r[t(402)],3,this.gl[t(441)],!1,0,0),e.enableVertexAttribArray(r[t(402)]);const s=e[t(423)]();e[t(395)](e[t(427)],s),e[t(416)](r[t(437)],4,e.FLOAT,!1,0,0),e[t(391)](r[t(437)]);const o=e[t(423)]();e[t(395)](e[t(427)],o),e[t(416)](r[t(400)],3,e[t(441)],!1,0,0),e[t(391)](r[t(400)]);const a=e[t(423)]();return e[t(395)](e[t(417)],a),e[t(403)](null),this[t(424)]=!1,{positionHBuffer:i,positionLBuffer:n,colorBuffer:s,normalBuffer:o,indicesBuffer:a}}[iF(430)](){const t=iF;this._deleteGPUProperties(),this[t(419)]()}}const sF=["979477pibQuW","_dimension","values","getUnit","disable","_upBuffer","push","options.dimension must be number!","idArray","1118287umsQSY","_upFlag","getTime","_render","41389jULbrW","1088379BXhrpD","removeAll","removeMathCellById","_drawData","indexOf","_id","_gl","now","_isChange","5PRZKnr","options.dimension must be 2 or 3!","isRTE","5oIGRSE","a_positionL","_initRenderOpts","length","_current","getCrs","dimension","_startTime","_renderable","117553dOjgYM","a_positionH","_calculateVertex","setDimension","CULL_FACE","updateDrawData","_draw","303889NtGhht","isFinite","_map","dimension must be 2 or 3!","update","_initDrawData","1738921pYDzub","index","a_indices","_assemble","_objMap","_tick","a_normal","a_color","isChange","get"],oF=hF;!function(t,e){const r=hF;for(;;)try{if(879301===-parseInt(r(329))-parseInt(r(308))+parseInt(r(294))+-parseInt(r(284))+parseInt(r(336))*parseInt(r(320))+-parseInt(r(317))*-parseInt(r(307))+parseInt(r(303)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(sF);class aF extends _M{constructor(t={dimension:2}){const e=hF;if(super(t),this[e(316)]=!1,t[e(326)]&&!Number[e(337)](t[e(326)]))throw new Error(e(301));if(t.dimension&&-1===[2,3][e(312)](t[e(326)]))throw new Error(e(318));this[e(295)]=t[e(326)],this[e(324)]=0,this._startTime=(new Date)[e(305)](),this._initDrawData()}[oF(332)](t=2){const e=oF;if(t&&!Number[e(337)](t))throw new Error("dimension must be number!");if(t&&-1===[2,3][e(312)](t))throw new Error(e(281));this[e(295)]=t}[oF(322)](t,e){const r=oF;super[r(322)](t,e);const i=e[r(319)]?6:3;this._isRTE=!0===e[r(319)]&&e[r(319)],this[r(306)]=new nF(this[r(314)],i),this[r(328)]=!0}addMathCell(t){const e=oF;if(!(t instanceof rS))throw TypeError("parameter must be instance of GridHeat!");!this[e(288)][e(293)](t[e(313)])&&(this[e(288)].set(t._id,t),this._isChange=!0,t[e(338)]=this[e(338)])}[oF(310)](t){super.removeMathCellById(t),this._isChange=!0}removeAll(){const t=oF;super[t(309)](),this[t(316)]=!0}[oF(334)](t){const e=oF;if(t)if(this[e(288)].get(t)){const r=this[e(288)][e(293)](t);let i=this[e(311)][e(302)][e(312)](t);-1===i?(r[e(331)](this._dimension,this[e(324)],{unit:this[e(338)][e(325)]()[e(297)]()}),this[e(324)]=r._current,this[e(287)](r),this[e(304)][e(285)]=i,this[e(304)].isChange=!0,this[e(304)][e(282)]="A"):(this[e(304)][e(285)]=i,this._upFlag.isChange=!0,this[e(304)][e(282)]="R")}else{let r=this[e(311)][e(302)][e(312)](t);-1!==r&&(this[e(311)][e(302)][e(323)]=0,this[e(311)][e(330)][e(323)]=0,this[e(311)].a_positionL.length=0,this[e(311)].a_color.length=0,this[e(311)][e(290)][e(323)]=0,this[e(304)][e(285)]=r,this[e(304)][e(292)]=!0,this[e(304)][e(282)]="D")}else{this[e(283)]();for(let t of this[e(288)][e(296)]())t[e(331)](this[e(295)],this[e(324)],{unit:this[e(338)][e(325)]()[e(297)]()}),this[e(324)]=t[e(324)],this._assemble(t);this._upFlag[e(285)]=null,this[e(304)][e(292)]=!0,this[e(304)].update="O"}}[oF(335)](){const t=oF;this[t(324)]=0,0!==this[t(311)][t(302)][t(323)]&&(this._startTime=this[t(327)]||window.Date[t(315)](),(!this._render[t(299)]||this[t(304)][t(292)])&&(this[t(306)]._addStaticBufferD(this[t(311)]),this[t(304)][t(292)]=!1))}[oF(289)](t={}){const e=oF;0!==this._drawData[e(302)].length&&!1!==this[e(306)][e(299)]&&(this[e(314)][e(298)](this[e(314)][e(333)]),this[e(306)][e(335)](this[e(311)],t,this[e(295)]))}_initDrawData(){this[oF(311)]={idArray:[],a_positionH:[],a_positionL:[],a_color:[],a_normal:[],a_indices:[]}}[oF(287)](t){const e=oF;this._drawData.idArray.push(t[e(313)]),this[e(311)].a_positionH.push(...t[e(330)]),this._drawData[e(321)][e(300)](...t[e(321)]),this[e(311)][e(291)].push(...t[e(291)]),this[e(311)][e(290)][e(300)](...t[e(290)]),this[e(311)].a_indices[e(300)](...t[e(286)])}}function hF(t,e){return sF[t-=281]}const lF=["chy","u_ifRTE","u_camera","u_fogColor","1CCmYJT","uniform1f","14998iRbrJX","6187ULlJeS","uniform2fv","u_maxValue","39851PoVNkm","4226KTGLvP","u_sizeStatus","u_mvMatrix","u_unit","16JpVybO","1445621jMuvPc","u_orthoProjMatrix","u_orthoViewMatrix","u_cameraL","chx","uniform3fv","cly","162287MFClhC","9ZQaHRs","u_height","setTextureUniforms","u_sizeUnit","setMode3dUniforms","uniform1i","747AhrEeb","u_minValue","u_cameraH","setRenderUniforms","u_minHeight","u_resL","clx","u_orthoCamera","u_logDepthFunc","uniforms","uniform4fv","u_projMatrix","991503kyeutY","u_fogDist","chz","u_size","uniformMatrix4fv","clz","u_res","getElements"],cF=pF;!function(t,e){const r=pF;for(;;)try{if(766745===parseInt(r(378))*parseInt(r(382))-parseInt(r(359))+parseInt(r(391))*-parseInt(r(390))+parseInt(r(373))+-parseInt(r(383))+-parseInt(r(377))*parseInt(r(371))+parseInt(r(397))*parseInt(r(374)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(lF);class uF extends qc{constructor(t,e,r){super(t,e,r)}[cF(393)](t){const e=cF;this.gl[e(372)](this[e(356)].u_unit,t[e(381)]),this.gl[e(372)](this[e(356)][e(362)],t[e(362)]),this.gl[e(372)](this[e(356)][e(376)],t[e(376)]),this.gl[e(372)](this.uniforms.u_minValue,t[e(398)]),this.gl[e(396)](this[e(356)][e(368)],t[e(368)]),this.gl[e(363)](this[e(356)][e(380)],!1,t[e(380)][e(366)]()),this.gl[e(363)](this.uniforms[e(358)],!1,t[e(358)].getElements());const r=t[e(369)];this.gl[e(388)](this[e(356)][e(349)],[r[e(387)],r.chy,r[e(361)]]),this.gl[e(388)](this.uniforms.u_cameraL,[r[e(353)],r[e(389)],r[e(364)]]),this.gl[e(372)](this[e(356)][e(365)],t.u_res[0]),this.gl.uniform1f(this[e(356)][e(352)],t[e(365)][1]),this.gl[e(372)](this.uniforms[e(394)],t[e(394)]),this.gl.uniform1f(this[e(356)][e(379)],t[e(379)])}[cF(350)](t){const e=cF;this.gl[e(357)](this[e(356)].u_fogColor,t[e(370)]),this.gl[e(375)](this[e(356)][e(360)],t[e(360)])}setOrthoMatrix(t){const e=cF,r=t[e(354)];this.gl[e(388)](this[e(356)].u_cameraH,[r[e(387)],r[e(367)],r.chz]),this.gl[e(388)](this[e(356)][e(386)],[r[e(353)],r[e(389)],r.clz]),this.gl.uniformMatrix4fv(this.uniforms[e(380)],!1,t[e(385)][e(366)]()),this.gl[e(363)](this[e(356)][e(358)],!1,t[e(384)].getElements())}[cF(395)](t){const e=cF,r=t[e(369)];this.gl.uniform3fv(this.uniforms.u_cameraH,[r.chx,r.chy,r.chz]),this.gl[e(388)](this[e(356)].u_cameraL,[r[e(353)],r[e(389)],r[e(364)]]),this.gl[e(363)](this[e(356)][e(380)],!1,t.u_mvMatrix[e(366)]()),this.gl[e(363)](this.uniforms[e(358)],!1,t[e(358)][e(366)]()),this.gl[e(396)](this[e(356)][e(368)],t.u_ifRTE),this.gl[e(372)](this[e(356)][e(381)],t.u_unit),this.gl[e(372)](this[e(356)].u_logDepthFunc,t[e(355)]),this.gl[e(372)](this[e(356)][e(351)],t[e(351)]),this.gl[e(372)](this.uniforms[e(392)],t.u_height)}setColorUniforms(t){}}function pF(t,e){return lF[t-=349]}const fF=["#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nin vec2 v_texCoord;\nin float v_depth;\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform float u_logDepthFunc;\n\nout vec4 outColor;\n\nvoid main(){\n    outColor=texture(u_texture,v_texCoord);\n    float tex=outColor.g;\n    outColor=texture(u_colorTexture,vec2(tex,0.5));\n    gl_FragDepth=log2(v_depth)*u_logDepthFunc*0.5;\n    if(tex<1.0/255.0)outColor.a=0.0;\n}","#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform vec4 u_fogColor;\nuniform vec2 u_fogDist;\nin vec2 v_texCoord;\nout vec4 outColor;\n\nvoid main(){\n    outColor=texelFetch(u_texture,ivec2(gl_FragCoord.xy),0);\n    float tex=outColor.g;\n    // float distFog=outColor.r;\n    outColor=texture(u_colorTexture,vec2(tex,0.5));\n    if(tex<1.0/255.0)outColor.a=0.0;\n\n     /**/\n    // float fogFactor=clamp((u_fogDist.y-distFog)/(u_fogDist.y-u_fogDist.x),0.0,1.0); \n    // outColor=mix(u_fogColor.rgba,color.rgba,fogFactor);\n}","49ttsdxW","#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nin float v_dist;\nin float v_ratio;\nin float v_distFog;\nout vec4 outColor;\nvoid main(){\n    outColor=vec4(0.0,v_ratio,0.0,0.0)*smoothstep(1.0,0.0,v_dist);\n    outColor.r=v_distFog;\n}\n","214JbSVIK","#version 300 es\nin vec4 a_position;\nin vec4 a_color;\nout vec4 v_color;\nvoid main(){\n    gl_Position=a_position;\n    v_color=a_color;\n}","187123xrxoYV","colorVsShader","1nmxsgE","fsShader","6212fGwIsb","#version 300 es\n#define PI 3.141592654\nin vec3 a_position;\nin vec3 a_positionL;\nin vec2 a_texCoord;\n\nuniform float u_minHeight;      //nuniform float u_height;      //nuniform sampler2D u_texture;\n\nuniform vec3 u_cameraH;\nuniform vec3 u_cameraL;\nuniform mat4 u_mvMatrix;\nuniform mat4 u_projMatrix;\nuniform bool u_ifRTE;\nuniform float u_unit;\n\nout vec2 v_texCoord;\nout float v_depth;\n\nvec4 corrections(vec3 posH, vec3 posL){\n    vec3 highD=posH-u_cameraH;\n    vec3 diff=posL-u_cameraL;\n    vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n    return vec4(highD+lowD, 1.0);\n}\n\nvoid main(){\n    vec3 position = a_position;\n    vec4 texColor = texture(u_texture, a_texCoord);\n    float tex = sin(PI*texColor.g/2.0); \n    position.z = u_minHeight + u_height*tex;\n    mat4 mvMatrix=u_mvMatrix;\n    if(u_ifRTE){\n        mat4 mvR2Eye=u_mvMatrix;\n        mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n        mvMatrix=mvR2Eye;\n        vec4 corr=corrections(position, a_positionL);\n        position=corr.xyz;\n    }\n    gl_Position=u_projMatrix * mvMatrix * vec4(position,1.0);\n    v_texCoord=a_texCoord;  \n    v_depth=1.0+gl_Position.w;\n}","frameFsShader","1327464MamMzE","d3FsShader","12604uJGkLx","252538kcjdpY","125PVWFgK","238843thPePs","frameVsShader","467zDkzPq","d3VsShader"],gF=dF;function dF(t,e){return fF[t-=304]}!function(t,e){const r=dF;for(;;)try{if(872209===-parseInt(r(305))+parseInt(r(317))*-parseInt(r(315))+-parseInt(r(307))*parseInt(r(311))-parseInt(r(325))+parseInt(r(324))*parseInt(r(304))+parseInt(r(322))+-parseInt(r(319))*parseInt(r(313)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(fF);const _F={};_F[gF(316)]=gF(314),_F.colorFsShader="#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nin vec4 v_color;\nout vec4 outColor;\nvoid main(){\n    outColor=v_color;\n}\n",_F[gF(306)]="#version 300 es\nin vec4 a_position;\n\nin vec3 a_center;\nin vec3 a_centerL;\nin float a_value;\n\nuniform float u_size;\nuniform float u_maxValue;\nuniform float u_minValue;\n\nuniform float u_res;\nuniform float u_resL;\n\nuniform vec3 u_cameraH;\nuniform vec3 u_cameraL;\nuniform mat4 u_mvMatrix;\nuniform mat4 u_projMatrix;\nuniform bool u_ifRTE;\nuniform float u_unit;\n\nuniform float u_sizeUnit;\nuniform float u_sizeStatus;\n\nout float v_dist;\nout float v_ratio;\nout float v_distFog;\n\nvec4 corrections(){\n     float res=u_res+u_resL/10000000.0*(1.0-u_unit)+u_resL*u_unit;\n     vec3 highD=vec3(a_center.xy-u_cameraH.xy,-u_cameraH.z);\n     vec3 diff=vec3(a_centerL.xy-u_cameraL.xy,-u_cameraL.z);\n     // vec3 highD=a_center - u_cameraH;\n     // vec3 diff=a_centerL - u_cameraL;\n     vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n     return vec4(highD+lowD,res);\n}\nvoid main(){\n    float res=u_res;\n    vec4 pos=a_position;\n    vec3 center=vec3(a_center.xy,0);\n    mat4 mvMatrix=u_mvMatrix;\n    if(u_ifRTE){\n        mat4 mvR2Eye=u_mvMatrix;\n        mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n        mvMatrix=mvR2Eye;\n        vec4 corr=corrections();\n        center=corr.xyz;\n        res=corr.w;\n    }\n    res=res*(1.0-u_sizeUnit)+u_sizeUnit;\n    res=res*((1.0-u_sizeStatus)+u_sizeStatus/110000.);\n    pos.xy=pos.xy*u_size*res;\n    pos.xyz=pos.xyz+center;\n    gl_Position=u_projMatrix*mvMatrix*pos;\n    \n    v_dist=length(a_position.xy);\n    v_ratio=max(0.0,(a_value-u_minValue))/(u_maxValue-u_minValue);\n    v_distFog=gl_Position.w;\n}\n",_F[gF(321)]=gF(312),_F.vsShader="#version 300 es\nin vec4 a_position;\nin vec2 a_texCoord;\nuniform mat4 u_projMatrix;\nout vec2 v_texCoord;\nvoid main(){\n    gl_Position=a_position;\n    v_texCoord=a_texCoord;\n}",_F[gF(318)]=gF(310),_F[gF(308)]=gF(320),_F[gF(323)]=gF(309);const yF=["271qZnjDr","destroy","TRIANGLES","ONE","_posSize","texImage2D","_getRenderData","TRIANGLE_STRIP","clearColor","canvas","UNSIGNED_BYTE","drawElementsInstanced","_vpMatrix","enable","setTranslate","579BEquMo","setOrtho","_deleteGPUArrayProperties","enableVertexAttribArray","getAttributeLocations","FLOAT","bindRenderbuffer","_initToRender","program","ARRAY_BUFFER","getEyeZ","_vaos","getCamera","draw","a_centerL","colorFsShader","440meQkmI","drawElements","_createTexture","blendFuncSeparate","useProgram","COLOR_BUFFER_BIT","_createColorBuffers","index","colors","TEXTURE1","vertexAttribDivisor","indices","floor","clear","getTop","createVertexArray","1LwDnCj","RENDERBUFFER","RG8","depthRenderBuffer","float32FromDouble64","frameFsShader","a_color","ELEMENT_ARRAY_BUFFER","_isColor","bindTexture","u_orthoViewMatrix","createBuffer","_colorFrame","bindBuffer","sin","79zyKIIQ","vertexAttribPointer","_texture","_createBuffers","_draw3dRender","blendEquation","_drawColor","4477iqEXOg","a_position","bindFramebuffer","_upBuffer","_deleteFrameBuffers","_getRenderColor","68815ynJpKA","setOrthoMatrix","_createVerBuffer","renderbufferStorage","u_unit","390623BDHjWt","viewport","DEPTH_COMPONENT16","1234703EVDAMB","indexBuffer","_near","u_colorTexture","_createFrameBuffer","uniform1i","uniforms","UNSIGNED_INT","1yhoqCK","ceil","length","render","FRAMEBUFFER","_frameBuffer","a_center","setMode3dUniforms","BLEND","activeTexture","centers","positions","setRenderUniforms","TEXTURE_2D","clientHeight","_addVerBuffer","TEXTURE0","_deleteTex","_createTextureBuffers","u_orthoCamera","texCoords","deleteTexture","15581zhdLOQ","_programs","values","_drawTexture","push","setTextureUniforms","getExtent","color","_buffers","a_value","_createRenderBuffers","u_texture","getBottom","cos","_mode","_drawRender","clientWidth","DEPTH_TEST","frameBuffer","_destroyRenderProperties","colorVsShader","getLeft","a_texCoord","1byoUzL","FUNC_ADD","DEPTH_BUFFER_BIT","gridSize","texture","map","ZERO","_addStaticBufferD","bindVertexArray","447177fyncxK","a_positionL","TRIANGLE_FAN"],mF=IF;function IF(t,e){return yF[t-=145]}!function(t,e){const r=IF;for(;;)try{if(695238===-parseInt(r(175))*-parseInt(r(191))+parseInt(r(235))*parseInt(r(207))-parseInt(r(240))+parseInt(r(222))*parseInt(r(273))+parseInt(r(160))*parseInt(r(229))+-parseInt(r(157))*parseInt(r(148))+-parseInt(r(251))*parseInt(r(243)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(yF);class xF extends rR{constructor(t,e,r,i){const n=IF;super(),this.gl=t,this[n(172)]=null,this._posSize=e,this[n(232)]=!1,this[n(215)]=!r,this[n(287)]=i,this[n(182)]()}[mF(182)](){const t=mF;this[t(274)]={texture:new uF(this.gl,_F.frameVsShader,_F[t(212)]),render:"3d"!=this._mode?new uF(this.gl,_F.vsShader,_F.fsShader):new uF(this.gl,_F.d3VsShader,_F.d3FsShader),color:this._isColor?new uF(this.gl,_F[t(145)],_F[t(190)]):null},this._vaos={texture:this.gl[t(206)](),render:this.gl[t(206)](),color:this._isColor?this.gl.createVertexArray():null},this[t(281)]=this[t(225)](),this[t(256)]=this[t(247)](this.gl.canvas[t(289)],this.gl.canvas[t(265)],0),this[t(219)]=this[t(215)]?this[t(247)](this.gl[t(169)].clientWidth,this.gl.canvas.clientHeight,0):null,this[t(155)]()}[mF(188)](t,e){const r=mF;this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl[r(241)](0,0,this.gl[r(169)][r(289)],this.gl.canvas.clientHeight),"3d"!=this[r(287)]?this[r(288)](e):this[r(226)](t,e)}drawFrame(t,e,r){const i=mF;let n=this.gl;n[i(181)](n[i(208)],this._frameBuffer[i(210)]),n[i(238)](n[i(208)],n.DEPTH_COMPONENT16,n[i(169)][i(289)],n[i(169)][i(265)]),n[i(216)](n[i(264)],this._frameBuffer.texture),n.texImage2D(n.TEXTURE_2D,0,n[i(209)],n[i(169)][i(289)],n[i(169)].clientHeight,0,n.RG,n[i(170)],null),n[i(231)](n[i(255)],this._frameBuffer[i(291)]),n[i(241)](0,0,n[i(169)][i(289)],n.canvas.clientHeight),n[i(168)](0,0,0,0),n[i(204)](n[i(196)]|n[i(150)]),n[i(173)](n[i(259)]),n[i(227)](n.FUNC_ADD),n[i(194)](n[i(163)],n[i(163)],n.ONE,n.ONE),n.disable(n[i(290)]),this[i(276)](t,e,r),this._isColor&&(n[i(181)](n[i(208)],this[i(219)].depthRenderBuffer),n[i(238)](n[i(208)],n[i(242)],n.canvas[i(289)],n[i(169)][i(265)]),n[i(216)](n[i(264)],this[i(219)].texture),n[i(165)](n.TEXTURE_2D,0,n.RGBA,n[i(169)][i(289)],n[i(169)][i(265)],0,n.RGBA,n[i(170)],null),n.bindFramebuffer(n[i(255)],this[i(219)][i(291)]),n.viewport(0,0,n[i(169)][i(289)],n[i(169)].clientHeight),n[i(173)](n[i(259)]),n[i(227)](n[i(149)]),n[i(194)](n.ONE,n[i(154)],n[i(163)],n[i(154)]),this[i(228)]())}[mF(288)](t){const e=mF,r=this.gl,i=this[e(274)][e(254)];r[e(156)](this[e(186)][e(254)]),i[e(195)](),r[e(260)](r[e(267)]),r[e(216)](r[e(264)],this._frameBuffer[e(152)]),r.uniform1i(i.uniforms[e(284)],0),r[e(260)](r[e(200)]);const n=this[e(215)]?this[e(219)][e(152)]:this[e(224)];r[e(216)](r[e(264)],n),r[e(248)](i.uniforms[e(246)],1),i[e(263)](t),r.drawArrays(r[e(167)],0,4),r.bindVertexArray(null)}[mF(226)](t,e){const r=mF,i=this.gl,n=this[r(274)][r(254)];i[r(156)](this[r(186)][r(254)]),n[r(195)](),i[r(260)](i[r(267)]),i[r(216)](i[r(264)],this[r(256)].texture),i[r(248)](n[r(249)].u_texture,0),i[r(260)](i[r(200)]);const s=this._isColor?this[r(219)][r(152)]:this[r(224)];i[r(216)](i.TEXTURE_2D,s),i[r(248)](n[r(249)].u_colorTexture,1),n[r(263)](e),n[r(258)](e);const o=this._buffers[r(254)];this[r(266)](o[r(230)],new Float32Array(t[r(262)]),!1),this[r(266)](o[r(147)],new Float32Array(t[r(271)]),!1),i[r(220)](i[r(214)],o.indexBuffer),i.bufferData(i[r(214)],new Uint32Array(t[r(202)]),i.STATIC_DRAW);const a=t[r(202)].length;i[r(192)](i[r(162)],a,i[r(250)],0),i[r(156)](null)}[mF(276)](e,r,i,n=null){const s=mF;let o=this._programs[s(152)];if(this.gl.bindVertexArray(this[s(186)].texture),o[s(195)](),o[s(278)](r),"3d"==this[s(287)]){let e=i[s(153)],n=e.getResolution(),a=e[s(279)](),h=e[s(187)](),l=i[s(151)]*n,c=h[s(245)],u=h._far,p=a[s(146)](),f=a.getRight(),g=a[s(285)](),d=a[s(205)]();p-=p-Math.floor(p/l)*l,f+=Math[s(252)](f/l)*l-f,d+=Math[s(252)](d/l)*l-d,g-=g-Math[s(203)](g/l)*l;let _=[(f+p)/2,(d+g)/2,h[s(185)]()],y=(new t.Matrix4)[s(176)](-(f-p)/2,(f-p)/2,-(d-g)/2,(d-g)/2,c,u),m=(new t.Matrix4)[s(174)](-_[0],-_[1],-_[2]),I=r[s(239)]?"mi":"degrees",x=Pt.float32FromDouble64(_[0],I),v=Pt[s(211)](_[1],I),b=Pt[s(211)](_[2],I);r[s(270)]={chx:x[0],clx:x[1],chy:v[0],cly:v[1],chz:b[0],clz:b[1]},r.u_orthoProjMatrix=y,r[s(217)]=m,o[s(236)](r)}this.gl[s(171)](this.gl[n]||this.gl[s(159)],52,this.gl[s(170)],0,e.idArray[s(253)]),this.gl[s(156)](null)}[mF(228)](){const t=mF;this.gl[t(156)](this[t(186)][t(280)]),this.gl[t(195)](this[t(274)][t(280)][t(183)]),this.gl.drawArrays(this.gl[t(167)],0,10),this.gl.bindVertexArray(null)}[mF(193)](t,e=0){const r=mF;return this._programs[r(254)].addGLTexture(t,e)}[mF(268)](){const t=mF;this[t(224)]&&this.gl[t(272)](this[t(224)])}[mF(155)](){const t=mF;this.gl[t(156)](this[t(186)].render);const e="3d"!=this[t(287)]?xF[t(166)]():{positions:[],texCoords:[],indices:[]},r=this[t(281)][t(254)];if(this[t(266)](r.a_position,new Float32Array(e[t(262)]),!1),this[t(266)](r[t(147)],new Float32Array(e.texCoords),!1),this.gl[t(156)](null),this._isColor){this.gl.bindVertexArray(this[t(186)].color);const e=this._buffers[t(280)],r=xF[t(234)]();this[t(266)](e.a_position,new Float32Array(r.positions),!1),this.gl[t(156)](null)}this.gl[t(156)](this[t(186)].texture);const i=xF._createFilledCircle(),n=this._buffers.texture;this._addVerBuffer(n[t(230)],new Float32Array(i[t(262)]),!1),this.gl[t(220)](this.gl.ELEMENT_ARRAY_BUFFER,n[t(198)]),this.gl.bufferData(this.gl[t(214)],new Uint8Array(i[t(202)]),this.gl.STATIC_DRAW),this.gl[t(156)](null)}_addChangeBufferD(t){const e=mF;if(this[e(215)]){this.gl[e(156)](this._vaos[e(280)]);const r=this[e(281)][e(280)];this[e(266)](r.a_color,new Float32Array(t[e(199)]),!1),this.gl.bindVertexArray(null)}this.gl.bindVertexArray(this._vaos.texture);const r=this._buffers[e(152)];this[e(266)](r[e(257)],new Float32Array(t[e(261)]),!1),this[e(266)](r[e(282)],new Float32Array(t[e(275)]),!1),this.gl.bindVertexArray(null),this._upBuffer=!0}[mF(225)](){const t=mF;return this[t(232)]=!1,{texture:this[t(269)](),render:this[t(283)](),color:this[t(215)]?this[t(197)]():void 0}}[mF(283)](){const t=mF;let e=this.gl,r=this[t(274)][t(254)].getAttributeLocations();const i=this[t(164)];e.bindVertexArray(this[t(186)].render);let n={};return"3d"==this._mode?(n[t(230)]=e.createBuffer(),e[t(220)](e.ARRAY_BUFFER,n[t(230)]),e[t(223)](r[t(230)],3,e[t(180)],!1,4*i,0),e.enableVertexAttribArray(r.a_position),e[t(223)](r[t(158)],3,e[t(180)],!1,4*i,4*(i-3)),e.enableVertexAttribArray(r.a_positionL)):n.a_position=this._createVerBuffer(r.a_position,t(180),3),n[t(147)]=this._createVerBuffer(r[t(147)],"FLOAT",2),"3d"==this[t(287)]&&(n[t(244)]=e[t(218)](),e[t(220)](e[t(214)],n.indexBuffer)),e[t(220)](e[t(184)],null),e[t(156)](null),n}[mF(269)](){const t=mF;let e=this.gl,r=this[t(274)][t(152)][t(179)]();const i=this[t(164)];e.bindVertexArray(this[t(186)].texture);let n={};return n[t(230)]=this._createVerBuffer(r.a_position,t(180),3),n[t(257)]=e.createBuffer(),e.bindBuffer(e[t(184)],n.a_center),e[t(223)](r[t(257)],3,e[t(180)],!1,4*i,0),e.enableVertexAttribArray(r[t(257)]),e[t(223)](r[t(189)],3,e.FLOAT,!1,4*i,4*(i-3)),e[t(178)](r.a_centerL),e[t(201)](r[t(257)],1),e[t(201)](r[t(189)],1),n[t(282)]=this[t(237)](r.a_value,t(180),1),e[t(201)](r[t(282)],1),n[t(198)]=e[t(218)](),e[t(220)](e[t(184)],null),e[t(156)](null),n}[mF(197)](){const t=mF,e=this.gl,r=this[t(274)].color[t(179)]();e[t(156)](this._vaos[t(280)]);let i={};return i[t(230)]=this[t(237)](r[t(230)],"FLOAT",3),i[t(213)]=this[t(237)](r[t(213)],t(180),4),e[t(220)](e.ARRAY_BUFFER,null),e[t(156)](null),i}[mF(161)](){const t=mF;this[t(177)](),this[t(233)](this[t(256)]),this[t(233)](this._colorFrame),this[t(292)]()}static _createFilledCircle(t=50){const e=mF;let r=[0,0,0],i=[0];for(let n=0;n<=t;n++){const s=2*Math.PI/t*n,o=1*Math[e(286)](s),a=1*Math[e(221)](s);r[e(277)](o,a,0),i.push(n+1)}return{positions:r,indices:i,count:i[e(253)]}}static _getRenderData(){return{positions:[-1,1,0,-1,-1,0,1,1,0,1,-1,0],texCoords:[0,1,0,0,1,1,1,0],indices:[0,1,2,2,1,3],count:6}}static[mF(234)](){let t=[-1,1,0,-1,-1,0,-.5,1,0,-.5,-1,0,0,1,0,0,-1,0,.5,1,0,.5,-1,0,1,1,0,1,-1,0];return{positions:t,indices:[],count:t[mF(253)]/3}}}const vF=["ONE_MINUS_SRC_ALPHA","11rTjWRs","getSize","_getGLTexture","MaxValue must be greater than minValue!","_tColors","gridSize","_render","get","_deleteTex","_createTexture","u_size","MinValue must be less than maxValue!","length","values","_colorArray","_mapUnit","_img","set","_center","dataMap","mathCell must be instance Heatpoint!!","getHeightScale","colors","concat","push","_initDrawData","indexOf","mode","u_minHeight","equals","getTop","isChange","getBottom","ONE","SRC_ALPHA","BLEND","_gl","_minValFlag","_minValue","hasOwnProperty","_mode","_sizeUnit","_assemble","212394WJCiNB","109jomamK","1404ykvDdR","heightScale","_map","_posSize","u_sizeUnit","_generated3Grids","centers","getLeft","_size","image","splice","setTexture","idArray","_upFlag","index","size","_id","setMinHeatValue","setColorByLevel","setBaseColor","update","getSizeUnit","_objMap","245512hlqFzs","_texUp","_isRTE","113PfcBxJ","_tick","_value","2426KsNaFN","_getSizeStatus","disable","_isTex","3766qiAxJe","_maxValFlag","FUNC_ADD","_maxValue","getMaxHeatValue","float32FromDouble64","4wsfnse","getMinHeatValue","setSize","sizeUnit","setMaxHeatValue","_texture","getExtent","_glStatus","_gridSize","112278WCqPRT","_addChangeBufferD","_drawData","getBaseColor","640JktkWv","reduce","addMathCell","max","_draw","draw","_minHeight","_opacities","blendFuncSeparate","ceil","getResolution","_heightScale","floor","u_height","minHeight","currExtent","_initRenderOpts","_upBuffer","_sizeStatus","toNormalizeArray","DEPTH_TEST"],bF=wF;function wF(t,e){return vF[t-=492]}!function(t,e){const r=wF;for(;;)try{if(116922===parseInt(r(550))+-parseInt(r(507))*parseInt(r(585))+-parseInt(r(552))*-parseInt(r(578))+-parseInt(r(591))*parseInt(r(581))+parseInt(r(551))*-parseInt(r(604))+parseInt(r(600))+-parseInt(r(575)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(vF);class TF extends _M{constructor(e){const r=wF;super(e),e=e||{},this[r(560)]=e[r(567)]>0?e.size:40,this[r(492)]=[1,1,1,1];const i=[new t.Color(0,0,255,this[r(492)][0]),new t.Color(0,255,0,this._opacities[1]),new t.Color(255,255,0,this[r(492)][2]),new t.Color(255,0,0,this[r(492)][3])];this[r(521)]=e[r(529)]?e[r(529)]:i;let n=[];this._colorArray.map((t=>{const e=r;n[e(531)](t[e(504)](),t.toNormalizeArray())})),this[r(511)]=[0,0,0,0,0,0,0,0].concat(n[r(605)]((function(t,e){return t[r(530)](e)}))),this[r(586)]=!0,this[r(588)]=0,this[r(544)]=!0,this[r(545)]=0,this._initDrawData(),this[r(598)]={BLEND:!0,blendEquation:"FUNC_ADD",blendFuncSeparate:[r(541),r(506),r(540),r(540)],DEPTH_TEST:!1},this[r(523)]=e.image?e[r(561)]:void 0,this[r(584)]=!!this[r(523)],this[r(548)]="m"==e[r(594)]?1:0,this[r(503)]=0,this[r(547)]=e.hasOwnProperty(r(534))?e[r(534)]:"2d";let s=e.hasOwnProperty(r(512))&&!isNaN(e[r(512)])?e[r(512)]:10;this[r(599)]=s>=1?s:1,this._minHeight=e[r(546)](r(499))?e[r(499)]:0,this[r(496)]=e[r(546)](r(553))&&e[r(553)]>=0?e[r(553)]:1}[bF(501)](t,e){const r=bF;super[r(501)](t,e),this[r(577)]=!0===e.isRTE&&e.isRTE,this[r(555)]=e.isRTE?6:3,this[r(513)]=new xF(this[r(543)],this[r(555)],this._isTex,this[r(547)]),this._renderable=!0,this[r(582)]()}[bF(606)](t){const e=bF;if(!(t instanceof oS))throw e(527);this[e(574)][e(524)](t[e(568)],t),this._maxValFlag&&(this[e(588)]=Math[e(607)](this[e(588)],t[e(580)]))}[bF(595)](t){const e=bF;if(!(t>this[e(545)]))throw new Error(e(510));this._maxValue=t,this._maxValFlag=!1}[bF(589)](){return this[bF(588)]}[bF(569)](t){const e=bF;if(!(t>0&&t<this._maxValue))throw new Error(e(518));this._minValue=t}[bF(592)](){return this[bF(545)]}[bF(570)](t,e){const r=bF;this[r(521)][r(562)](e,1,t);const i=t[r(504)]();this._tColors.splice(8*e+8,8,...i,...i),this._drawData[r(529)]=this[r(511)],this._upFlag[r(538)]=!0}getColorArray(){return this[bF(521)]}[bF(603)](){const e=bF;return new t.Color(255*this._tColors[0],255*this._tColors[1],255*this[e(511)][2],this[e(511)][3])}[bF(571)](t){const e=bF,r=t.toNormalizeArray();this[e(511)][e(562)](0,8,...r,...r),this[e(602)][e(529)]=this[e(511)],this._upFlag[e(538)]=!0}[bF(593)](t){this[bF(560)]=t}[bF(508)](){return this[bF(560)]}setSizeUnit(t){const e=bF;this[e(548)]="m"==t?1:0,this[e(503)]=0,this[e(582)]()}[bF(573)](){let t="px";return 1===this[bF(548)]&&(t="m"),t}[bF(528)](){return this._heightScale}setHeightScale(t){t>=0&&(this[bF(496)]=t)}[bF(563)](t){const e=bF;this[e(584)]&&(this[e(523)]=t,this[e(584)]=!0,this[e(576)]=!1,this._renderable&&this[e(509)](t))}[bF(509)](t){const e=bF;!this[e(576)]&&this._isTex&&(this._render[e(515)](),this._render[e(596)]=this[e(513)][e(516)](t,1).texture,this[e(576)]=!0)}updateDrawData(t){const e=bF;if(t)if(this[e(574)].get(t)){const r=this[e(574)][e(514)](t);let i=this[e(602)][e(564)].indexOf(t),n=r._center;if(this[e(577)]){const t=Pt.float32FromDouble64(n[0],this[e(522)]),r=Pt[e(590)](n[1],this[e(522)]),i=Pt[e(590)](n[2],this[e(522)]);n=[t[0],r[0],i[0],t[1],r[1],i[1]]}-1===i?(this[e(549)](r,n),this._upFlag.index=i,this[e(565)][e(538)]=!0,this[e(565)][e(572)]="A"):(this[e(602)][e(558)][e(562)](this._posSize*i,this[e(555)],...n),this._drawData[e(520)][e(562)](i,1,r[e(580)]),this[e(565)][e(566)]=i,this[e(565)][e(538)]=!0,this[e(565)].update="R")}else{let r=this[e(602)][e(564)][e(533)](t);-1!==r&&(this[e(602)][e(564)][e(562)](r,1),this[e(602)][e(558)].splice(this[e(555)]*r,this[e(555)]),this._drawData[e(520)].splice(r,1),this[e(565)].index=r,this[e(565)].isChange=!0,this[e(565)][e(572)]="D")}else{this[e(532)]();for(let t of this[e(574)][e(520)]()){let r=t[e(525)];if(this._isRTE){const i=Pt[e(590)](t._center[0],this[e(522)]),n=Pt[e(590)](t[e(525)][1],this[e(522)]),s=Pt[e(590)](t[e(525)][2],this[e(522)]);r=[i[0],n[0],s[0],i[1],n[1],s[1]]}this[e(549)](t,r)}this[e(565)][e(566)]=null,this[e(565)].isChange=!0,this[e(565)][e(572)]="O"}this[e(509)](this[e(523)]),this[e(582)]()}[bF(582)](){const t=bF;1===this._sizeUnit&&"m"!=this[t(522)]&&(this[t(503)]=1)}[bF(608)](t){}_drawFrame(t){const e=bF;this._drawData[e(564)].length<=0||this[e(588)]<=this._minValue||(!this._render[e(502)]||this[e(565)][e(538)])&&(this[e(513)][e(601)](this[e(602)]),this[e(565)][e(538)]=!1)}[bF(579)](t){const e=bF;if(!(this._drawData[e(564)][e(519)]<=0||this[e(588)]<=this[e(545)]||!1===this[e(513)][e(502)]))if(this[e(543)].enable(this[e(543)][e(542)]),this[e(543)].blendEquation(this[e(543)][e(587)]),this[e(543)][e(493)](this[e(543)][e(541)],this[e(543)][e(506)],this._gl[e(540)],this[e(543)][e(540)]),"3d"!=this[e(547)])this[e(543)][e(583)](this[e(543)][e(505)]),this._render[e(609)](this[e(602)],t);else{this[e(543)].enable(this[e(543)][e(505)]);let r=this[e(554)][e(597)]();(!this[e(500)]||!r[e(536)](this[e(500)]))&&(this.dataMap=this[e(557)]());let i=this._map[e(495)]();t[e(535)]=this[e(610)],t[e(498)]=50*i*this[e(496)],this[e(513)][e(609)](this[e(526)],t)}}_tickFrame(t){const e=bF;if(this[e(602)][e(564)][e(519)]<=0||this._maxValue<=this._minValue||!1===this[e(513)][e(502)])return;t[e(517)]=this[e(560)],t.u_maxValue=this[e(588)],t.u_minValue=this._minValue,t[e(556)]=this[e(548)],t.u_sizeStatus=this[e(503)];let r={gridSize:this[e(599)],map:this[e(554)]};this[e(513)].drawFrame(this[e(602)],t,r)}_assemble(t,e){const r=bF;this[r(602)][r(564)][r(531)](t[r(568)]),this[r(602)].centers.push(...e),this[r(602)][r(520)][r(531)](t[r(580)])}[bF(532)](){this[bF(602)]={idArray:[],centers:[],values:[],colors:this._tColors}}_generated3Grids(){const t=bF;let e=this._minHeight,r=this[t(554)],i=r[t(597)](),n=r[t(495)](),s=this[t(599)]*n,o=i[t(559)](),a=i.getRight(),h=i[t(537)](),l=i[t(539)]();o-=o-Math[t(497)](o/s)*s,a+=Math[t(494)](a/s)*s-a,h+=Math[t(494)](h/s)*s-h,l-=l-Math[t(497)](l/s)*s;let c=[],u=[],p=[],f=0,g=Math[t(497)]((a-o)/s);g<(a-o)/s&&(g+=1);let d=Math[t(497)]((h-l)/s);d<(h-l)/s&&(d+=1);for(let r=0;r<g;r++){let i=o+s*r>a?a:o+s*r;for(let n=0;n<d;n++){let g=h-s*n<l?l:h-s*n,_=[i,g,e];if(this[t(577)]){const e=Pt[t(590)](_[0],this._mapUnit),r=Pt[t(590)](_[1],this[t(522)]),i=Pt[t(590)](_[2],this[t(522)]);_=[e[0],r[0],i[0],e[1],r[1],i[1]]}c[t(531)](..._),u[t(531)]((i-o)/(a-o),(g-l)/(h-l)),f++,r>0&&n>0&&p[t(531)](f-1,f-2,f-1-d,f-2,f-2-d,f-1-d)}}return this[t(500)]=i,{indices:p,positions:c,texCoords:u,bound:{left:o,right:a,top:h,bottom:l}}}}const EF=["u_lightDirection","10gvYftl","252703MHQNFo","408772XBqMzU","u_mvMatrix","64162SfhPvz","getElements","uniformMatrix4fv","u_camera","uniforms","chz","u_vpMatrix","uniform4fv","1023603qqyMZC","47898byVYvA","setPrivateUniforms","u_projMatrix","u_lightColor","132479Zcgwif","u_intensity","u_cameraH","clz","cly","777038QQnsLT","1LoOaOF","uniform3fv","chx","clx","uniform1f"],CF=AF;function AF(t,e){return EF[t-=430]}!function(t,e){const r=AF;for(;;)try{if(407087===parseInt(r(437))+-parseInt(r(454))+parseInt(r(441))*parseInt(r(447))+-parseInt(r(446))+-parseInt(r(457))*-parseInt(r(453))+-parseInt(r(455))+parseInt(r(436)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(EF);class MF extends qc{constructor(t,e,r){super(t,e,r)}[CF(438)](t,e,r){const i=CF;this.gl[i(430)](this[i(432)].u_mvpMatrix,!1,t[i(434)][i(458)]()),this.gl[i(430)](this[i(432)][i(456)],!1,t.u_mvMatrix[i(458)]()),this.gl[i(430)](this[i(432)][i(439)],!1,t[i(439)].getElements()),this.gl[i(451)](this[i(432)].u_unit,t.u_unit);const n=t[i(431)];this.gl.uniform3fv(this[i(432)][i(443)],[n[i(449)],n.chy,n[i(433)]]),this.gl[i(448)](this.uniforms.u_cameraL,[n[i(450)],n[i(445)],n[i(444)]]);let s=t.u_enableLight&&3==r;this.gl.uniform1i(this[i(432)].u_enableLight,s),this.gl[i(448)](this[i(432)][i(452)],t[i(452)]),this.gl[i(435)](this[i(432)][i(440)],t[i(440)]),this.gl.uniform1f(this[i(432)][i(442)],t[i(442)])}}const SF=["35345iNbmaW","414TMFmkH","vsShader","#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nin vec4 v_color;\nout vec4 outputColor;\nvoid main() {\n  outputColor = v_color;\n}","1qlsRBb","#version 300 es\nin  vec3  a_positionH;\nin  vec3  a_positionL;\nin vec4 a_color;\nin vec3 a_normal;\n\nuniform bool u_enableLight;\nuniform vec4 u_lightColor;\nuniform vec3 u_lightDirection;\nuniform float u_intensity;\n\nuniform vec3 u_cameraH;\nuniform vec3 u_cameraL;\nuniform mat4 u_mvMatrix;\nuniform mat4 u_projMatrix;\nuniform bool u_ifRTE;\nuniform float u_unit;\n\nout vec4 v_color;\n\nvec4 corrections(){\n    vec3 highD=a_positionH-u_cameraH;\n    vec3 diff=a_positionL-u_cameraL;\n    vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n    return vec4(highD+lowD,1.0);\n}\n\nvoid main() {\n    vec4 position=vec4(a_positionH,1.0);\n    mat4 mvR2Eye=u_mvMatrix;\n    mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n    position=corrections();\n    gl_Position=u_projMatrix*mvR2Eye*position;\n    \n    vec3 lightRadio;\n    if(u_enableLight){\n        vec3 normal = normalize(a_normal);\n        vec3 lightDirection = normalize(-u_lightDirection);\n        vec3 lightColor = u_lightColor.rgb * u_lightColor.a;\n        float nDotL = dot(lightDirection, normal);\n        vec3 diffuse;\n        if(nDotL > 0.0){\n           float lightValue = 0.2 + 0.2*nDotL;\n           diffuse = vec3(lightColor.rgb) * u_intensity * lightValue;\n        }else{\n           float lightValue = 0.2 + 0.2*nDotL;\n           diffuse = vec3(lightColor.rgb) * lightValue;\n        }\n        vec3 ambient = vec3(lightColor.rgb) * 0.6;\n        lightRadio = ambient + diffuse;\n    }else{\n        lightRadio = vec3(1.0, 1.0, 1.0);\n    }\n    v_color = vec4(lightRadio * a_color.rgb, a_color.a);\n}","vsShaderRTE","#version 300 es\nin  vec3  a_position;\nin vec4 a_color;\nin vec3 a_normal;\nout vec4 v_color;\n\nuniform bool u_enableLight;\nuniform vec4 u_lightColor;\nuniform vec3 u_lightDirection;\nuniform float u_intensity;\nuniform mat4 u_mvpMatrix;\n\nvoid main() {\n    vec4 position=vec4(a_position,1.0);\n    gl_Position=u_mvpMatrix*position;\n    \n    vec3 lightRadio;\n    if(u_enableLight){\n        vec3 normal = normalize(a_normal);\n        vec3 lightDirection = normalize(-u_lightDirection);\n        vec3 lightColor = u_lightColor.rgb * u_lightColor.a;\n        float nDotL = dot(lightDirection, normal);\n        vec3 diffuse;\n        if(nDotL > 0.0){\n           float lightValue = 0.2 + 0.2*nDotL;\n           diffuse = vec3(lightColor.rgb) * u_intensity * lightValue;\n        }else{\n           float lightValue = 0.2 + 0.2*nDotL;\n           diffuse = vec3(lightColor.rgb) * lightValue;\n        }\n        vec3 ambient = vec3(lightColor.rgb) * 0.5;\n        lightRadio = ambient + diffuse;\n    }else{\n        lightRadio = vec3(1.0, 1.0, 1.0);\n    }\n    v_color = vec4(lightRadio*a_color.rgb, a_color.a);\n}","2110117sQWDmd","3449XEbDNQ","1239ILQmAK","27507tixYtT","110GJnYuL","5kJWECy","21QoqWdP","925379zuYZdJ","116539fpbeUJ"],PF=RF;function RF(t,e){return SF[t-=247]}!function(t,e){const r=RF;for(;;)try{if(479459===parseInt(r(254))*-parseInt(r(262))+-parseInt(r(257))*parseInt(r(260))+-parseInt(r(261))*-parseInt(r(258))+-parseInt(r(256))*parseInt(r(253))+parseInt(r(255))+-parseInt(r(259))+-parseInt(r(248))*-parseInt(r(252)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(SF);const LF={};LF[PF(250)]=PF(249),LF[PF(263)]=PF(251),LF.fsShader=PF(247);const FF=["createBuffer","1797589FqoNUx","_destroyRenderProperties","22jDsKPp","355450ZWfOdo","DEPTH_BUFFER_BIT","positionBuffer","_initToRender","_vpMatrix","vsShaderRTE","_drawGridHeat","drawElements","enableVertexAttribArray","163qRYdQd","FLOAT","283hMbVtZ","DEPTH_TEST","_createBuffer","_vao","useProgram","_addVerBuffer","_program","1257294Hvxjnj","bufferData","bindVertexArray","81075GWcxwq","vsShader","vertexAttribPointer","_isRTE","createVertexArray","_upBuffer","normalBuffer","colorBuffer","5692yXftrt","clear","positionLBuffer","CULL_FACE","ARRAY_BUFFER","a_positionH","ELEMENT_ARRAY_BUFFER","disable","fsShader","a_color","10741CgbyHK","indicesBuffer","bindBuffer","drawArrays","STATIC_DRAW","setPrivateUniforms","8EYtHtD","a_positionL","TRIANGLES","length","a_indices","_addStaticBufferD","getAttributeLocations","a_normal","UNSIGNED_SHORT","_buffers","a_position","233158KwevMA"];function DF(t,e){return FF[t-=151]}const OF=DF;!function(t,e){const r=DF;for(;;)try{if(934412===parseInt(r(159))+-parseInt(r(170))*parseInt(r(152))+-parseInt(r(199))+parseInt(r(186))*-parseInt(r(162))+parseInt(r(202))+parseInt(r(211))*-parseInt(r(180))+parseInt(r(201))*parseInt(r(197)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(FF);class NF extends rR{constructor(t,e=!1){const r=DF;super(),this.gl=t,this[r(206)]=null,this[r(165)]=e,this[r(205)](e)}[OF(205)](t){const e=OF;this[e(158)]=t?new MF(this.gl,LF[e(207)],LF.fsShader):new MF(this.gl,LF[e(163)],LF[e(178)]),this[e(155)]=this.gl[e(166)](),this[e(195)]=this[e(154)]()}_draw(t,e,r){const i=OF;this.gl[i(171)](this.gl[i(203)]),this[i(158)][i(156)](),this[i(158)][i(185)](e,this[i(165)],r),this[i(208)](t,r)}[OF(208)](t,e){const r=OF;let i=this.gl;if(i[r(161)](this._vao),2==e){let e=this[r(165)]?t[r(175)][r(189)]/3:t[r(196)].length/3;i[r(177)](i[r(153)]),i[r(183)](i[r(188)],0,e)}else{let e=t[r(190)][r(189)];i.enable(i[r(153)]),i.disable(i[r(173)]),i[r(209)](i.TRIANGLES,e,i[r(194)],0)}i[r(161)](null)}[OF(191)](t){const e=OF,r=this.gl;r[e(161)](this._vao),this[e(165)]?(this[e(157)](this[e(195)].positionHBuffer,new Float32Array(t.a_positionH),!0),this[e(157)](this._buffers[e(172)],new Float32Array(t.a_positionL),!0)):this[e(157)](this._buffers[e(204)],new Float32Array(t[e(196)]),!0),this[e(157)](this[e(195)][e(169)],new Float32Array(t.a_color),!0),this[e(157)](this[e(195)][e(168)],new Float32Array(t.a_normal),!0),r[e(182)](r[e(176)],this[e(195)][e(181)]),r[e(160)](r[e(176)],new Uint16Array(t[e(190)]),r[e(184)]),r.bindVertexArray(null),this[e(167)]=!0}_createBuffer(){const t=OF;let e=this.gl;e.bindVertexArray(this[t(155)]);const r=this[t(158)][t(192)](),i=this.gl.createBuffer(),n=this.gl.createBuffer(),s=this.gl[t(198)]();this._isRTE?(e.bindBuffer(this.gl.ARRAY_BUFFER,i),e.vertexAttribPointer(r[t(175)],3,this.gl.FLOAT,!1,0,0),e[t(210)](r[t(175)]),e[t(182)](this.gl.ARRAY_BUFFER,n),e[t(164)](r[t(187)],3,this.gl[t(151)],!1,0,0),e[t(210)](r[t(187)])):(e[t(182)](this.gl.ARRAY_BUFFER,s),e[t(164)](r[t(196)],3,this.gl.FLOAT,!1,0,0),e.enableVertexAttribArray(r[t(196)]));const o=e[t(198)]();e.bindBuffer(e.ARRAY_BUFFER,o),e[t(164)](r[t(179)],4,e[t(151)],!1,0,0),e[t(210)](r.a_color);const a=e[t(198)]();e.bindBuffer(e[t(174)],a),e.vertexAttribPointer(r[t(193)],3,e[t(151)],!1,0,0),e.enableVertexAttribArray(r.a_normal);const h=e[t(198)]();return e[t(182)](e.ELEMENT_ARRAY_BUFFER,h),this[t(167)]=!1,{positionBuffer:s,positionHBuffer:i,positionLBuffer:n,colorBuffer:o,normalBuffer:a,indicesBuffer:h}}destroy(){const t=OF;this._deleteGPUProperties(),this[t(200)]()}}const BF=["Date","1367468UQACWj","disable","getCrs","push","isFinite","55478zAYCgu","getUnit","length","removeAll","_isChange","_upFlag","idArray","31stIcHQ","_objMap","indexOf","isRTE","_render","_initRenderOpts","removeMathCellById","_initDrawData","_upBuffer","9RWLcuV","19087Eguuqc","get","_isRTE","addMathCell","_id","dimension must be number!","4682gJbyXE","_calculateVertex","setDimension","getTime","a_normal","options.dimension must be 2 or 3!","isChange","_gl","updateDrawData","dimension must be 2 or 3!","now","_addStaticBufferD","_dimension","_renderable","update","351cUClyh","options.dimension must be number!","CULL_FACE","dimension","1787923JusDgm","26958NzoVfu","19ZcRMSR","_startTime","_current","_assemble","128951jkzPSm","a_color","a_positionL","_draw","a_positionH","set","index","a_indices","_drawData","a_position","_map"],UF=kF;function kF(t,e){return BF[t-=491]}!function(t,e){const r=kF;for(;;)try{if(986053===parseInt(r(553))*-parseInt(r(503))+parseInt(r(507))+-parseInt(r(525))+parseInt(r(546))*parseInt(r(513))+-parseInt(r(509))*-parseInt(r(508))+-parseInt(r(530))+-parseInt(r(547))*-parseInt(r(537)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(BF);class VF extends _M{constructor(t={dimension:2}){const e=kF;if(super(t),t[e(506)]&&!Number.isFinite(t[e(506)]))throw new Error(e(504));if(t.dimension&&-1===[2,3][e(539)](t[e(506)]))throw new Error(e(493));this[e(500)]=t[e(506)],this[e(511)]=0,this[e(534)]=!1,this[e(510)]=(new Date)[e(491)](),this[e(544)]()}[UF(555)](t=2){const e=UF;if(t&&!Number[e(529)](t))throw new Error(e(552));if(t&&-1===[2,3][e(539)](t))throw new Error(e(497));this[e(500)]=t}_initRenderOpts(t,e){const r=UF;super[r(542)](t,e),e[r(540)],this[r(549)]=!0===e.isRTE&&e[r(540)],this[r(541)]=new NF(this[r(495)],this[r(549)]),this[r(501)]=!0}[UF(550)](t){const e=UF;if(!(t instanceof cS))throw TypeError("parameter must be instance of HexGridHeat!");!this[e(538)][e(548)](t[e(551)])&&(this[e(538)][e(518)](t[e(551)],t),this._isChange=!0,t[e(523)]=this._map)}[UF(543)](t){super[UF(543)](t),this._isChange=!0}removeAll(){const t=UF;super[t(533)](),this[t(534)]=!0}[UF(496)](t){const e=UF;if(t)if(this[e(538)][e(548)](t)){const r=this[e(538)][e(548)](t);let i=this[e(521)].idArray[e(539)](t);-1===i?(r[e(554)](this._isRTE,this[e(500)],this._current,{unit:this[e(523)][e(527)]()[e(531)]()}),this[e(511)]=r[e(511)],this[e(512)](r),this._upFlag[e(519)]=i,this._upFlag[e(494)]=!0,this[e(535)][e(502)]="A"):(this._upFlag[e(519)]=i,this[e(535)][e(494)]=!0,this._upFlag[e(502)]="R")}else{let r=this[e(521)].idArray[e(539)](t);-1!==r&&(this[e(521)][e(536)][e(532)]=0,this[e(521)][e(522)][e(532)]=0,this[e(521)][e(517)][e(532)]=0,this._drawData[e(515)][e(532)]=0,this[e(521)][e(514)].length=0,this[e(521)][e(492)][e(532)]=0,this[e(521)][e(520)][e(532)]=0,this[e(521)][e(506)][e(532)]=0,this[e(535)].index=r,this[e(535)][e(494)]=!0,this[e(535)][e(502)]="D")}else{this[e(544)]();for(let t of this._objMap.values())t._calculateVertex(this._isRTE,this[e(500)],this[e(511)],{unit:this[e(523)][e(527)]().getUnit()}),this[e(511)]=t[e(511)],this[e(512)](t);this[e(535)][e(519)]=null,this[e(535)].isChange=!0,this._upFlag.update="O"}}_draw(){const t=UF;this[t(511)]=0,0!==this[t(521)][t(536)][t(532)]&&(this[t(510)]=this._startTime||window[t(524)][t(498)](),(!this._render[t(545)]||this._upFlag[t(494)])&&(this[t(541)][t(499)](this[t(521)]),this[t(535)][t(494)]=!1))}_tick(t={}){const e=UF;0!==this._drawData.idArray[e(532)]&&!1!==this._render._upBuffer&&(this[e(495)][e(526)](this[e(495)][e(505)]),this[e(541)][e(516)](this[e(521)],t,this[e(500)]))}[UF(544)](){this._drawData={idArray:[],a_position:[],a_positionH:[],a_positionL:[],a_color:[],a_normal:[],a_indices:[],dimension:[]}}_assemble(t){const e=UF;this._isRTE?(this._drawData.a_positionH[e(528)](...t[e(517)]),this._drawData.a_positionL[e(528)](...t[e(515)])):this[e(521)].a_position.push(...t[e(522)]),this[e(521)].idArray[e(528)](t._id),this[e(521)][e(514)].push(...t[e(514)]),this[e(521)][e(492)].push(...t[e(492)]),this[e(521)][e(520)][e(528)](...t[e(520)])}}const GF=["u_ifTexture","231488SaGigb","586658aEVsin","642118OUUxDq","u_ifRTE","1vwcIFA","1931KzmccN","chx","5ydvkaJ","u_unit","u_opacity","u_color","chz","uniform3fv","u_ctrlOffset","u_originPosition","u_offsetCount","u_gravity","37kYAoid","434894MghFIe","u_endSize","u_size","u_inertia","uniform1fv","u_endOpacity","u_mvMatrix","3ZqkRkd","uniformMatrix4fv","307fXEEBh","setPrivateUniforms","getElements","uniforms","1347EliAGw","uniform4fv","clx","u_res","uniform1f","u_resL","u_cameraH","clz","uniform1i","u_projMatrix","64547PqPfJA"],zF=HF;function HF(t,e){return GF[t-=474]}!function(t,e){const r=HF;for(;;)try{if(455973===parseInt(r(502))+parseInt(r(498))+-parseInt(r(482))*-parseInt(r(500))+-parseInt(r(474))*-parseInt(r(488))+-parseInt(r(484))*-parseInt(r(505))+parseInt(r(504))*parseInt(r(501))+-parseInt(r(507))*parseInt(r(475)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(GF);class jF extends qc{constructor(t,e,r){super(t,e,r)}[zF(485)](t){const e=zF,r=this.gl;r.uniform1f(this.uniforms.u_unit,t[e(508)]),r[e(496)](this[e(487)][e(503)],t[e(503)]),r[e(483)](this[e(487)][e(481)],!1,t.u_mvMatrix.getElements()),r[e(483)](this[e(487)][e(497)],!1,t[e(497)][e(486)]());const i=t.u_camera;r.uniform3fv(this[e(487)][e(494)],[i[e(506)],i.chy,i[e(511)]]),r.uniform3fv(this[e(487)].u_cameraL,[i[e(490)],i.cly,i[e(495)]]),r.uniform1f(this[e(487)].u_res,t[e(491)][0]),r.uniform1f(this[e(487)][e(493)],t[e(491)][1]),r[e(489)](this[e(487)][e(510)],new Float32Array(t[e(510)])),r[e(492)](this[e(487)][e(509)],t[e(509)]),r[e(492)](this[e(487)][e(480)],t.u_endOpacity),r[e(492)](this[e(487)][e(477)],t.u_size),r[e(492)](this.uniforms[e(476)],t[e(476)]),r[e(479)](this[e(487)][e(515)],new Float32Array(t.u_offsetCount)),r[e(479)](this[e(487)][e(513)],new Float32Array(t[e(513)])),r[e(512)](this.uniforms[e(514)],new Float32Array(t.u_originPosition)),r.uniform3fv(this[e(487)][e(516)],new Float32Array(t[e(516)])),r[e(512)](this[e(487)].u_inertia,new Float32Array(t[e(478)])),r[e(496)](this[e(487)][e(499)],t[e(499)]),r[e(496)](this[e(487)].u_needLoop,t.u_needLoop)}}const YF=["1pKJtrl","#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nin float v_progressNum;\nuniform vec4 u_color;\nuniform float u_opacity;\nuniform float u_endOpacity;\nuniform bool u_ifTexture;           //\nuniform sampler2D u_pattern;        //\n\nout vec4 outColor;\n\nvoid main() {\n    float opacity = u_opacity+(u_endOpacity-u_opacity)*v_progressNum;\n    if(u_ifTexture){\n        vec4 textureColor = texture( u_pattern, gl_PointCoord);\n        textureColor.rgb = textureColor.rgb * (1.0 - v_progressNum);\n        //textureColor.a = textureColor.a * (1.0-v_progressNum);\n        outColor = textureColor;             //os\n    }else{\n        float dist=distance(gl_PointCoord,vec2(0.5,0.5));\n        if(dist>0.5){\n            discard;\n        }else{\n            vec4 color = u_color;\n            color.a *= cos(3.14159*dist)*opacity;\n            outColor = color;               //os\n        }      \n    }\n}\n","2362954xDRlNz","1fKTNDd","fsShader","238066jaPaSU","156DORBiD","1dpQeWt","vsShader","19421VfEQif","#version 300 es\nuniform vec3 u_cameraH;\nuniform vec3 u_cameraL;\nuniform mat4 u_mvMatrix;\nuniform mat4 u_projMatrix;\nuniform bool u_ifRTE;\nuniform float u_unit;\n\nin vec3 a_positionH;\nin vec3 a_positionL;\nin vec3 a_originForce;          //,nin float a_offsetIndex;         //\n\nuniform float u_size;\nuniform float u_endSize;\nuniform float u_offsetCount;    //\nuniform float u_ctrlOffset;     //\nuniform vec4 u_originPosition;  //\nuniform vec3 u_gravity;         //\nuniform vec3 u_inertia;         //nuniform bool u_needLoop;         //n\nuniform float u_res;\nuniform float u_resL;\n\nout float v_progressNum;\n\nvec4 corrections(vec3 positionH, vec3 positionL){\n    vec3 highD=positionH-u_cameraH;\n    vec3 diff=positionL-u_cameraL;\n    vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n    return vec4(highD+lowD,1.0);\n}\n    \nvoid main() {\n    vec4 position=vec4(a_positionH,1.0);\n    mat4 mvMatrix=u_mvMatrix; \n    float offset = u_ctrlOffset;\n    if(offset - a_offsetIndex > 0.0){\n        float res=u_res;\n        if(u_ifRTE){\n            position=corrections(a_positionH, a_positionL); \n            res=res+u_resL/10000000.0*(1.0-u_unit)+u_resL*u_unit;\n            \n            mat4 mvR2Eye=u_mvMatrix;\n            mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n            mvMatrix=mvR2Eye;       \n        }\n        float a_offset = offset - a_offsetIndex;\n        if(u_needLoop){\n            a_offset = fract(a_offset/u_offsetCount)*u_offsetCount;    \n        }\n        if(a_offset < u_offsetCount){\n            vec3 gravityDis = vec3(0.0,0.0,0.0);\n            for(int i=0;i<int(a_offset);i++){\n                 gravityDis =gravityDis+float(i) *u_gravity;\n            } \n            vec3 totalForce =  u_inertia*a_offset + a_originForce*a_offset + gravityDis;\n            position.xyz += totalForce;\n            gl_Position = u_projMatrix * mvMatrix * position;\n            gl_PointSize = (u_size + (u_endSize-u_size)*(a_offset/u_offsetCount))/res;\n            v_progressNum = a_offset/u_offsetCount;\n        }\n    }\n}\n","473013ITSkcV","595063hLVIPa","597938LGABjF","724GIxrtM"],$F=WF;!function(t,e){const r=WF;for(;;)try{if(326509===-parseInt(r(196))*parseInt(r(188))+parseInt(r(191))*-parseInt(r(182))-parseInt(r(193))-parseInt(r(195))+parseInt(r(185))*-parseInt(r(187))+-parseInt(r(189))*parseInt(r(194))+parseInt(r(184)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(YF);const XF={};function WF(t,e){return YF[t-=182]}XF[$F(190)]=$F(192),XF[$F(186)]=$F(183);const ZF=["TEXTURE_2D","positions","a_offsetIndex","a_positionH","vsShader","createVertexArray","offsetIndexBuffer","5993BVKpec","draw","positionBuffer","_destroyRenderProperties","_program","ARRAY_BUFFER","texture","addIconToTexture","FLOAT","_sideNum","a_originForce","forceBuffer","55858NqzDLy","originForce","bindBuffer","promises","length","getAttributeLocations","fsShader","1omZVzf","anonymous","entries","_addVerBuffer","activeTexture","_buffers","src","bindVertexArray","638892fKCxhn","549814UnAheO","then","u_ifTexture","setPrivateUniforms","_vao","390215BQyInO","enableVertexAttribArray","_createBuffer","positionCount","vertexAttribPointer","530679BEkgjG","_initToRender","6nUAamw","_vpMatrix","offsetIndex","a_positionL","1819039IzELPv","createBuffer"],qF=JF;function JF(t,e){return ZF[t-=461]}!function(t,e){const r=JF;for(;;)try{if(646082===-parseInt(r(493))-parseInt(r(473))-parseInt(r(468))+parseInt(r(505))*-parseInt(r(480))+parseInt(r(467))+-parseInt(r(478))+parseInt(r(484))*parseInt(r(512)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ZF);class KF extends rR{constructor(t,e,r){const i=JF;super(),this.gl=t,this[i(502)]=r,this[i(481)]=null,this._posSize=e,this[i(499)]={},this.promises={},this._initToRender()}[qF(494)](t,e){const r=qF;if(0===t[r(487)][r(509)])return;let i=this.gl;this[r(497)].useProgram(),this[r(497)][r(471)](e),i[r(466)](this[r(472)]),this[r(462)](this[r(464)][r(495)],new Float32Array(t.positions),!0),this._addVerBuffer(this[r(464)].forceBuffer,new Float32Array(t[r(506)]),!0),this[r(462)](this[r(464)][r(492)],new Float32Array(t[r(482)]),!0),e[r(470)]&&(i[r(463)](i.TEXTURE0+0),i.bindTexture(i[r(486)],this[r(499)][t.iconUrl]||null));let n=t[r(476)];i.drawArrays(i.POINTS,0,n),i[r(466)](null)}[qF(479)](){const t=qF;this[t(497)]=new jF(this.gl,XF[t(490)],XF[t(511)]),this[t(472)]=this.gl[t(491)](),this[t(464)]=this[t(475)]()}[qF(500)](t){const e=qF,r=this;if(!this[e(508)][t]){let i=new Promise((function(i,n){const s=e;let o=new Image;o.crossOrigin=s(513),o[s(465)]=t,o.onload=function(){const t=s;let e=r[t(497)].addGLTexture(o,0)[t(499)];i(e)}}));this[e(508)][t]=i}this.promises[t][e(469)]((function(i){const n=e;!r[n(499)][t]&&(r[n(499)][t]=i)}))}[qF(475)](){const t=qF;let e=this.gl;e[t(466)](this[t(472)]);let r=this._posSize,i={},n=this._program[t(510)]();return i[t(495)]=e.createBuffer(),e[t(507)](e[t(498)],i[t(495)]),e[t(477)](n[t(489)],3,e[t(501)],!1,4*r,0),e[t(474)](n[t(489)]),e[t(477)](n.a_positionL,3,e[t(501)],!1,4*r,4*(r-3)),e[t(474)](n[t(483)]),i.forceBuffer=e[t(485)](),e[t(507)](e.ARRAY_BUFFER,i[t(504)]),e[t(477)](n[t(503)],3,e[t(501)],!1,0,0),e.enableVertexAttribArray(n[t(503)]),i[t(492)]=e[t(485)](),e[t(507)](e[t(498)],i[t(492)]),e.vertexAttribPointer(n[t(488)],1,e.FLOAT,!1,0,0),e.enableVertexAttribArray(n[t(488)]),i}destroy(){const t=qF;this._deleteGPUProperties();for(let[e,r]of Object[t(461)](this[t(499)]))this.gl.deleteTexture(r);this[t(496)]()}}const QF=["_draw","ids","opacity","12SBPNDI","u_unit","blendMode","DEPTH_TEST","normalColorArr","iconUrl","needLoop","_gl","controlNum","push","113823DNRXXQ","23707OQVlBm","_id","SRC_ALPHA","_isChange","47MHHsdE","_initRenderOpts","inertia","1483420GLMmuz","15832ZHweza","_render","","resetByMapUnit","513886WNOaxo","length","502232KcHaoo","addMathCell","381210vWKnYf","offsetTimes","dataMap","enable","endOpacity","resetByUnit","_objMap","blendEquation","endRadius","isRTE","set","321jpmBvx","ONE","u_camera","_mapUnit","floor","u_projMatrix","get","u_ifRTE","draw","disable","_renderable","_isRTE","scale","ONE_MINUS_SRC_ALPHA","BLEND","_drawData","_tick","parameter must be instance of Particle!"],tD=eD;function eD(t,e){return QF[t-=389]}!function(t,e){const r=eD;for(;;)try{if(748991===-parseInt(r(402))-parseInt(r(409))+-parseInt(r(443))*parseInt(r(394))+parseInt(r(407))+-parseInt(r(411))+parseInt(r(395))*-parseInt(r(399))+-parseInt(r(403))*-parseInt(r(422)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(QF);class rD extends _M{constructor(t=tD(405),e){const r=tD;super(e),this[r(398)]=!1,this[r(437)]={}}_initRenderOpts(t,e){const r=tD;super[r(400)](t,e);const i=e[r(420)]?6:3;this[r(433)]=!0===e.isRTE&&e.isRTE,this._render=new KF(this[r(391)],i),this[r(432)]=!0}[tD(410)](t){const e=tD;if(!(t instanceof HM))throw TypeError(e(439));if(!this[e(417)][e(428)](t._id)){this._objMap[e(421)](t._id,t);let r=t[e(389)];this._isChange=!0,r&&this._render.addIconToTexture(r)}}updateDrawData(){const t=tD;if(!this[t(398)])return;const e=this.getAllMathCells();this[t(437)].ids=[];for(let r of e)!r[t(416)]&&r[t(406)](this[t(425)],this._isRTE),this[t(437)][t(441)][t(393)](r[t(396)]);this[t(398)]=!1}[tD(440)](t){const e=tD;this[e(437)][e(441)]&&this._tick(t)}[tD(438)](t){this[tD(437)].ids&&this._iteration(t)}_iteration(t={}){const e=tD,r=this[e(391)],i=this._drawData.ids;for(let n=0;n<i[e(408)];n++){const s=this[e(417)][e(428)](i[n]);if(!s)continue;"additive"==s[e(445)]?(r[e(414)](r[e(436)]),r[e(418)](r.FUNC_ADD),r.blendFunc(r[e(397)],r[e(423)]),r[e(431)](r[e(446)])):(r[e(414)](r.BLEND),r.blendFunc(r[e(397)],r[e(435)]),r[e(431)](r.DEPTH_TEST));const o=s[e(413)],a=s[e(447)],h=s[e(434)],l=[s.radius]*h,c=[s[e(419)]]*h,u=Math[e(426)](s.pointNum/s[e(392)]),p=s[e(442)],f=s[e(415)];s[e(412)]++;const g=s[e(412)],d=s.gravity,_=s[e(401)],y=s.coordArr;let m=!!o[e(389)],I=s[e(390)];const x={u_mvMatrix:t.u_mvMatrix,u_projMatrix:t[e(427)],u_color:a,u_opacity:p,u_endOpacity:f,u_size:l,u_endSize:c,u_offsetCount:[u],u_ctrlOffset:[g],u_originPosition:y,u_gravity:d,u_inertia:_,u_ifRTE:t[e(429)],u_unit:t[e(444)],u_camera:t[e(424)],u_res:t.u_res,u_ifTexture:m,u_needLoop:I};this[e(404)][e(430)](o,x)}r[e(431)](r.BLEND)}}const iD=["121317WfVDQX","4028AdRYeF","695uyAoSf","1BzUyCM","222503fZmjCh","33626xDjmRB","109orEJHZ","fsShader","642JaIsqS","18LCXtgO","#version 300 es\nin vec3 a_position;\nin vec4 a_color;\nin float a_weight;\n\nuniform vec3 u_center;\nuniform vec4 u_color;\nuniform float u_maxWeight;\nuniform vec2 u_radius;//x=innerPercent,y=maxRadius\nuniform vec2 u_ifAuto;//x=autoColor,y=autoRadius,{Boolean}\nuniform mat4 u_vpMatrix;\n\nout float v_innerPercent;\nout float v_dist;\nout vec4 v_color;\n\nvoid main(){\n    float percent=a_weight/u_maxWeight;\n    // float radius=percent*u_radius.y*u_ifAuto.y+(-u_ifAuto.y+1.0)*u_radius.y;//\n    float radius=(percent*u_radius.y*(1.0-u_radius.x)+u_radius.y*u_radius.x)*u_ifAuto.y+(-u_ifAuto.y+1.0)*u_radius.y;\n    \n    gl_Position=u_vpMatrix*vec4(vec3(a_position*radius+u_center),1.0);\n    v_color=u_ifAuto.x*percent*u_color+(1.0-u_ifAuto.x)*a_color;\n    // v_innerPercent=u_radius.x/percent*u_ifAuto.y+(-u_ifAuto.y+1.0)*u_radius.x;//\n    v_innerPercent=u_radius.x/(percent*(1.0-u_radius.x)+u_radius.x)*u_ifAuto.y+(-u_ifAuto.y+1.0)*u_radius.x;//fix valuennerPercentbug\n    v_dist=length(a_position.xy);\n}\n","227VVoaHF","22BkKLVu","3482ggDXKS","3lZFqou"],nD=oD;!function(t,e){const r=oD;for(;;)try{if(122935===parseInt(r(233))*-parseInt(r(234))+-parseInt(r(230))*parseInt(r(237))+-parseInt(r(225))*-parseInt(r(224))+-parseInt(r(235))*-parseInt(r(226))-parseInt(r(236))+parseInt(r(232))*parseInt(r(229))+-parseInt(r(227))*parseInt(r(223)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(iD);const sD={};function oD(t,e){return iD[t-=223]}sD.vsShader=nD(231),sD[nD(228)]="#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n\nin vec4 v_color;\nin float v_dist;\nin float v_innerPercent;\nout vec4 outColor;\nvoid main(){\n    outColor=v_color;\n    if(v_dist<v_innerPercent)discard;\n}\n";const aD=["49091vjxTKJ","uniform4fv","uniform2fv","fsShader","vsShader","17607RVoPDj","u_radius","u_maxWeight","22567unzIjK","uniform3fv","u_center","205266caiRtk","u_color","11UptMHI","185997aYpvwz","u_vpMatrix","157933RmljhI","61555FVzOld","1iPSvuY","u_ifAuto","uniforms","setPrivateUniforms","9cXrumr"],hD=cD;!function(t,e){const r=cD;for(;;)try{if(150986===-parseInt(r(316))+parseInt(r(315))+-parseInt(r(321))*-parseInt(r(330))+parseInt(r(312))*parseInt(r(327))+-parseInt(r(313))+parseInt(r(322))*parseInt(r(317))+-parseInt(r(310)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(aD);class lD extends qc{constructor(t){const e=cD;super(t,sD[e(326)],sD[e(325)])}[hD(320)](t){const e=hD;this.gl.uniformMatrix4fv(this[e(319)].u_vpMatrix,!1,t[e(314)].getElements()),this.gl[e(324)](this.uniforms[e(318)],t[e(318)]),this.gl[e(324)](this[e(319)][e(328)],t[e(328)]),this.gl.uniform1f(this[e(319)][e(329)],t.u_maxWeight),this.gl[e(323)](this[e(319)][e(311)],t[e(311)]),this.gl[e(331)](this[e(319)][e(309)],t[e(309)])}}function cD(t,e){return aD[t-=309]}const uD=["createVertexArray","ELEMENT_ARRAY_BUFFER","indices","_vao","_buffers","FLOAT","886478rYlaSv","createBuffer","_program","_createBuffers","bindVertexArray","1135dQOwyv","useProgram","weights","1911286EdTvem","index","_upBuffer","_addStaticBufferD","drawElements","1031723efFTLL","1652497czeXhX","_addChangeBufferD","_posSize","5648532uSABni","a_color","colors","a_weight","setPrivateUniforms","STATIC_DRAW","_initToRender","_createFilledCircle","cos","length","a_position","_addVerBuffer","1703147iHOlxD","draw","_sideNum","_deleteGPUProperties","1172BEZYHT","sin","_createVerBuffer","positions"],pD=fD;function fD(t,e){return uD[t-=403]}!function(t,e){const r=fD;for(;;)try{if(969583===-parseInt(r(445))+-parseInt(r(421))*parseInt(r(436))-parseInt(r(417))+parseInt(r(431))+parseInt(r(444))+-parseInt(r(439))+parseInt(r(405)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(uD);class gD extends rR{constructor(t,e,r){const i=fD;super(),this.gl=t,this[i(419)]=r,this._vpMatrix=null,this[i(404)]=e,this[i(441)]=!1,this[i(411)]()}[pD(411)](){const t=pD;this[t(433)]=new lD(this.gl),this._vao=this.gl[t(425)](),this[t(429)]=this[t(434)]()}[pD(418)](t,e){const r=pD;this.gl[r(435)](this[r(428)]),this[r(433)][r(437)](),this[r(433)][r(409)](e),this.gl[r(443)](this.gl.TRIANGLE_FAN,t[r(427)][r(414)],this.gl.UNSIGNED_SHORT,0),this.gl[r(435)](null)}[pD(442)](){}[pD(403)](t){const e=pD;this.gl[e(435)](this[e(428)]),this[e(416)](this[e(429)][e(415)],new Float32Array(t[e(424)]),!1),this[e(416)](this[e(429)][e(408)],new Float32Array(t[e(438)]),!1),this[e(416)](this._buffers.a_color,new Uint8Array(t[e(407)]),!1),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this[e(429)][e(440)]),this.gl.bufferData(this.gl[e(426)],new Uint16Array(t[e(427)]),this.gl[e(410)]),this.gl.bindVertexArray(null),this._upBuffer=!0}[pD(434)](){const t=pD;let e=this[t(433)].getAttributeLocations();this.gl[t(435)](this._vao);let r={};return r.a_position=this[t(423)](e[t(415)],"FLOAT",3),r[t(406)]=this[t(423)](e[t(406)],"UNSIGNED_BYTE",4,!0),r[t(408)]=this[t(423)](e.a_weight,t(430),1),r[t(440)]=this.gl[t(432)](),this.gl.bindVertexArray(null),this[t(441)]=!1,r}destroy(){this[pD(420)](),this._destroyRenderProperties()}static[pD(412)](t=50){const e=pD;let r=[],i=[0];for(let n=0;n<=t;n++){const s=2*Math.PI/t*n,o=1*Math[e(413)](s),a=1*Math[e(422)](s);r.push(o,a,0),i.push(n+1)}return{positions:r,indices:i,count:i[e(414)]}}}const dD=["_createFilledCircle","_getDrawDataByObjMap","_addChangeBufferD","flat","u_center","_drawData","min","getProportions","center","index","updatePieText","_maxWeight","values","3vUfnMi","_initDrawData","_innerPercent","size","_sideNum","_initRenderOpts","334403MUTswj","703342praMkY","_size","isChange","round","2cQPSLc","sideNum","isRTE","keys","_renderable","_positions","_render","toNormalizeArray","reduce","_geometry","draw","_gl","max","_upBuffer","length","1MXOcFt","splice","fromCoordSeq","12729IsWPvA","747432MWPkWZ","MathCell and MathModel must match up!","u_color","fill","u_ifAuto","_draw","update","indexOf","_autoRadius","unshift","slice","_center","_color","_pick","749058HSZMhU","push","_glStatus","reverse","colors","pick","idArray","set","_posSize","updateDrawData","_textRender","autoRadius","_upFlag","hollowProportion","_pieColor","_autoColor","DEPTH_TEST","75UIYlvk","get","deletAllText","map","_value","u_radius","pieColor","numArray","1152183vmplrE","intersectRay","_id","16399qHGcdx","13xabpIP","autoColor","_objMap","_buildPolygon"],_D=yD;function yD(t,e){return dD[t-=484]}!function(t,e){const r=yD;for(;;)try{if(849796===-parseInt(r(566))*-parseInt(r(560))+-parseInt(r(531))*parseInt(r(542))+parseInt(r(514))+-parseInt(r(543))*parseInt(r(499))+-parseInt(r(539))*-parseInt(r(496))+-parseInt(r(567))*parseInt(r(571))+parseInt(r(500)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(dD);class mD extends _M{constructor(e){const r=yD;super(e),e=e||{},this[r(564)]=e.sideNum>2?e[r(572)]:360,this[r(568)]=e[r(563)]>0?e[r(563)]:.01;let i=e[r(527)]?e.hollowProportion:0;i=Math[r(493)](0,i),i=Math[r(553)](1,i),this[r(562)]=i;const n=e[r(555)]?e[r(555)]:new t.Coordinate;this[r(511)]=[n._x,n._y,n._z],this._autoRadius=!0===e[r(525)]?1:0,this[r(529)]=!0===e[r(544)]?1:0;const s=e[r(537)]?e[r(537)]:new t.Color(255,0,0,1);this._pieColor=s[r(488)](),this[r(561)](),this[r(516)]={DEPTH_TEST:!1},this._pick=!!e[r(519)]&&e[r(519)]}[_D(565)](t,e){const r=_D;super[r(565)](t,e),this[r(522)]=e[r(573)]?6:3,this[r(487)]=new gD(this[r(492)],this[r(522)],this[r(564)]),this[r(486)]=gD[r(547)](this[r(564)]).positions,this[r(485)]=!0;const i=e.layer;this[r(524)]=new PR(this[r(492)],i,{center:this[r(511)]})}addMathCell(t){const e=_D;if(!(t instanceof RS))throw e(501);this[e(545)][e(521)](t[e(541)],t)}[_D(554)](){const t=_D;let e=new Map,r=[],i=[],n=0,s=0;if(0===this[t(545)][t(563)])return e;if(1===this[t(545)].size)return e[t(521)]([...this[t(545)][t(484)]()][0],1),e;for(let e of this._objMap[t(559)]())i[t(515)](e[t(541)]),r[t(515)](e._value),n+=e[t(535)];for(let o=0,a=i[t(495)];o<a-1;o++){const a=r[o]/n;e[t(521)](i[o],a),s+=a}return e.set(i[i[t(495)]-1],1-s),e}[_D(523)](t){const e=_D;if(t)if(this[e(545)][e(532)](t)){const r=this[e(545)].get(t),i=this[e(552)][e(520)][e(507)](t);if(-1===i)this._getDrawDataByObjMap(),this._upFlag[e(556)]=i,this[e(526)][e(569)]=!0,this[e(526)][e(506)]="A";else{const t=r._color,n=this._drawData[e(538)][i]+2;let s=new Array(n)[e(503)](t)[e(550)](),o=this._drawData[e(538)][e(510)](0,i);o=0===o[e(495)]?0:o[e(489)](((t,e)=>t+e))+2*i,this[e(552)][e(518)][e(497)](4*o,4*n,...s),this[e(526)].index=i,this[e(526)].isChange=!0,this[e(526)].update="R"}}else this[e(548)](),this[e(526)][e(556)]=null,this[e(526)][e(569)]=!0,this[e(526)][e(506)]="O";else this[e(548)](),this[e(526)][e(556)]=null,this[e(526)][e(569)]=!0,this[e(526)].update="O";this[e(524)][e(557)]()}[_D(548)](){const t=_D;let e=[],r=[],i=[],n=[],s=0,o=0;this[t(524)][t(533)]();for(let n of this[t(545)][t(559)]())e[t(515)](n._id),r[t(515)](n[t(535)]),i[t(515)](n[t(512)]),s+=n[t(535)],o=Math[t(493)](o,n[t(535)]),this[t(524)].addPieText(n[t(541)],n);const a=r.map((t=>t/s));this._maxWeight=o/s;let h=[],l=[];const c=this._objMap.size;let u=this[t(564)],p=[],f=this._positions,g=[],d=0;if(c>1)for(let o=0;o<c-1;o++){d+=n[o-1]||0;const c=Math[t(570)](r[o]/s*this[t(564)]),_=d+c+1;let y=f[t(510)](3*d,3*_);y[t(509)](0,0,0),g[t(515)](...y),h[t(515)](...new Array(c+2)[t(503)](i[o])),l[t(515)](...new Array(c+2)[t(503)](a[o]));const m=new Array(c+2)[t(503)](0)[t(534)](((e,r)=>r+p[t(495)]-o));p.push(...m),p[t(515)](65535),n.push(c),this[t(546)](e[o],this[t(511)],y,a[o],this[t(558)]),u-=c}d+=n[c-2]||0;let _=f.slice(3*d,3*(d+u+1));_[t(509)](0,0,0),g[t(515)](..._),h[t(515)](...new Array(u+2)[t(503)](i[c-1])),l[t(515)](...new Array(u+2)[t(503)](a[c-1]));const y=new Array(u+2)[t(503)](0)[t(534)](((e,r)=>r+p[t(495)]-c+1));p[t(515)](...y),n[t(515)](u),h=h[t(550)](),this[t(546)](e[c-1],this[t(511)],_,a[c-1],this[t(558)]),this[t(552)]={idArray:e,indices:p,numArray:n,colors:h,weights:l,positions:g}}[_D(505)](t){const e=_D;this[e(552)].idArray[e(495)]<=0||(!this[e(487)][e(494)]||this[e(526)][e(569)])&&(this[e(487)][e(549)](this._drawData),this[e(526)].isChange=!1)}_tick(t){const e=_D;this[e(552)][e(520)].length<=0||!1===this[e(487)][e(494)]||(t[e(551)]=this[e(511)],t[e(502)]=this[e(528)],t.u_maxWeight=this[e(558)],t[e(536)]=[this[e(562)],this._size],t[e(504)]=[this[e(529)],this[e(508)]],this[e(492)].disable(this[e(492)][e(530)]),this[e(487)][e(491)](this[e(552)],t),this[e(524)][e(491)](t))}[_D(561)](){this[_D(552)]={idArray:[],indices:[],numArray:[],colors:[],weights:[],positions:[]}}[_D(546)](e,r,i,n,s){const o=_D;if(!this[o(513)])return;const a=this[o(562)],h=this[o(568)],l=this[o(508)],c=n/s,u=(c*h*(1-a)+h*a)*l+(1-l)*h,p=[];for(let e=0,n=i[o(495)];e<n;e+=3){const n=[i[e]*u+r[0],i[e+1]*u+r[1],i[e+2]*u+r[2]],s=new t.Coordinate(n[0],n[1],n[2]);p[o(515)](s)}if(0!==a){p.splice(0,1);const e=[],n=this[o(568)]*this._innerPercent,s=(c*n*(1-a)+n*a)*l+(1-l)*n;for(let n=3,a=i.length;n<a;n+=3){const a=[i[n]*s+r[0],i[n+1]*s+r[1],i[n+2]*s+r[2]],h=new t.Coordinate(a[0],a[1],a[2]);e[o(515)](h)}p.push(...e[o(517)]())}p[o(495)]>2&&(this[o(545)][o(532)](e)[o(490)]=new t.Polygon([t.LinearRing[o(498)](new t.CoordSeq(p))]))}[_D(540)](t){const e=_D,r=[];if(!this._pick)return r;for(let i of this[e(545)][e(559)]()){if(!i[e(490)])continue;let n=i[e(490)][e(540)](t);n&&r[e(515)]({distance:n,feature:i})}return r}}const ID=["u_time","1mgLFnX","u_mvMatrix","u_camera","484418UQntiC","uniformMatrix4fv","u_resolution","getElements","uniforms","chx","clx","4pePHkm","u_pitch","201OVtlKU","723457JXVPEN","cly","u_res","9455jzGmhV","pitch","clz","uniform3fv","u_projMatrix","564771xUbIOP","u_windForce","uniform1f","88807PENfSG","1mPJKqp","u_nsWind","u_cameraH","u_unit","673236gxBGnu","setPrivateUniforms","u_initRes","8439xaCGQe"];function xD(t,e){return ID[t-=218]}const vD=xD;!function(t,e){const r=xD;for(;;)try{if(478460===parseInt(r(236))*parseInt(r(246))+parseInt(r(237))*-parseInt(r(241))-parseInt(r(233))-parseInt(r(225))+parseInt(r(222))*-parseInt(r(244))+parseInt(r(249))+parseInt(r(224))*parseInt(r(228)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ID);class bD extends qc{constructor(t,e,r){super(t,e,r)}[vD(242)](t){const e=vD;this.gl.uniform1f(this[e(219)][e(245)],t[e(245)]),this.gl[e(235)](this[e(219)][e(243)],t[e(243)]),this.gl[e(235)](this[e(219)].u_ewWind,t.u_ewWind),this.gl[e(235)](this[e(219)][e(238)],t[e(238)]),this.gl[e(235)](this[e(219)].u_windForce,t[e(234)]),this.gl[e(235)](this[e(219)][e(240)],t[e(240)]),this.gl[e(235)](this[e(219)][e(223)],t[e(229)]);const r=t[e(248)];this.gl[e(231)](this[e(219)][e(239)],[r[e(220)],r.chy,r.chz]),this.gl.uniform3fv(this.uniforms.u_cameraL,[r[e(221)],r[e(226)],r[e(230)]]),this.gl[e(235)](this[e(219)][e(251)],t[e(227)][0]+t.u_res[1]/Math.pow(10,7)),this.gl[e(250)](this[e(219)][e(247)],!1,t.u_mvMatrix[e(218)]()),this.gl[e(250)](this[e(219)][e(232)],!1,t.u_projMatrix.getElements())}}const wD=["1442507UgdnsQ","fsShader","1123fMbmkH","#version 300 es\nin vec3 a_positionH;\nin vec3 a_positionL;\nin float a_height;\nin vec2 a_uvs;\nin float a_speed;\nin float a_timeDelay;\nin float a_number;\nin float a_relativeHeight;\n\nuniform vec3 u_cameraH;\nuniform vec3 u_cameraL;\nuniform float u_resolution;\nuniform float u_initRes;\nuniform float u_time;\nuniform mat4 u_projMatrix;\nuniform mat4 u_mvMatrix;\nuniform float u_unit;\nuniform float u_ewWind;                   //\nuniform float u_nsWind;                   //\nuniform float u_windForce;                 //\n\nout vec2 v_uvs;\n\nvec4 corrections(){\n  vec3 highD=a_positionH-u_cameraH;\n  vec3 diff=a_positionL-u_cameraL;\n  vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n  return vec4(highD+lowD,1.0);\n}\n\nvoid main() {\n  if(u_resolution/u_initRes >= 1.0 && fract(a_number/floor(u_resolution/u_initRes))==0.0 ||u_resolution/u_initRes <1.0){\n  mat4 mvR2Eye=u_mvMatrix;\n  mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n  mat4 mvMatrix=mvR2Eye;\n  vec4 position=corrections();\n  // position.z = a_height;\n  // float height = position.z;\n  float fallDis = fract((a_speed *5000.0*u_resolution/u_initRes* (u_time-a_timeDelay))/(a_height+a_relativeHeight))*(a_height+a_relativeHeight);\n  position.z -= fallDis;\n  position.x += u_ewWind*tan(u_windForce)*fallDis*0.75;\n  position.y += u_nsWind*tan(u_windForce)*fallDis*0.75;\n  gl_Position = u_projMatrix * mvMatrix * position;\n  v_uvs = a_uvs;\n  }\n}","96905naPXCy","1eggXhc","499QNlmBA","1687718etUEGp","#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    uniform sampler2D u_texture;\n    in vec2 v_uvs;\n    out vec4 outColor;\n    void main() {\n      outColor = texture(u_texture, v_uvs)*0.6;\n      //outColor = vec4(outColor.grb,outColor.a*0.6);\n    }\n","212343CTMBxI","573252FtYcia","918545jQWmOv"],TD=CD;!function(t,e){const r=CD;for(;;)try{if(867383===parseInt(r(469))*-parseInt(r(476))+parseInt(r(471))+-parseInt(r(473))+parseInt(r(474))+parseInt(r(475))+-parseInt(r(468))+parseInt(r(478))*-parseInt(r(470)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wD);const ED={};function CD(t,e){return wD[t-=467]}ED.vsShader=TD(467),ED[TD(477)]=TD(472);const AD=["a_timeDelay","heightBuffer","a_height","STATIC_DRAW","1259FAtoSJ","237eIvQTw","13202KCMQMs","723308nrlCyI","739KexmYi","positionHBuffer","a_positionL","createVertexArray","_drawRain","fsShader","ELEMENT_ARRAY_BUFFER","277bhYTxf","a_positionH","relativeHeightBuffer","97VZvWcF","266gFjLtS","a_speed","bufferData","9yhHKhC","setPrivateUniforms","_createBuffer","_buffers","uvsBuffer","destroy","3735KxwZLS","2971pLOEfX","a_indice","timeDelayBuffer","vertexAttribPointer","_deleteGPUProperties","_vpMatrix","TRIANGLES","vsShader","enableVertexAttribArray","_vao","drawElements","numBuffer","FLOAT","_addChangeBufferD","101195IxpADf","getAttributeLocations","a_relativeHeight","textures","a_number","bindVertexArray","a_uvs","UNSIGNED_SHORT","_addStaticBufferD","_upBuffer","speedBuffer","_initToRender","createBuffer","_addVerBuffer","bindBuffer","ARRAY_BUFFER","_program","positionLBuffer"],MD=SD;function SD(t,e){return AD[t-=203]}!function(t,e){const r=SD;for(;;)try{if(757310===-parseInt(r(212))*parseInt(r(209))+parseInt(r(223))*-parseInt(r(233))+parseInt(r(232))*-parseInt(r(226))+parseInt(r(211))+-parseInt(r(208))*parseInt(r(219))+parseInt(r(222))*parseInt(r(210))+parseInt(r(247)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(AD);class PD extends rR{constructor(t){const e=SD;super(),this.gl=t,this[e(238)]=null,this._initToRender()}[MD(258)](){const t=MD;this._program=new bD(this.gl,ED[t(240)],ED[t(217)]),this[t(242)]=this.gl[t(215)](),this._buffers=this[t(228)]()}draw(t,e){const r=MD;this[r(263)].useProgram(),this[r(263)][r(227)](e),t.textures[0]&&(this.gl.bindTexture(this.gl.TEXTURE_2D,t[r(250)][0]),this[r(216)](t))}[MD(216)](t){const e=MD;let r=this.gl;r[e(252)](this[e(242)]);let i=t.a_indice.length;r[e(243)](r[e(239)],i,r[e(254)],0),r[e(252)](null)}[MD(255)](){}[MD(246)](t){const e=MD,r=this.gl;r[e(252)](this[e(242)]),this[e(260)](this[e(229)].positionHBuffer,new Float32Array(t.a_positionH),!1),this[e(260)](this[e(229)][e(203)],new Float32Array(t[e(214)]),!1),this[e(260)](this[e(229)][e(257)],new Float32Array(t[e(224)]),!1),this._addVerBuffer(this[e(229)][e(244)],new Float32Array(t[e(251)]),!1),this[e(260)](this[e(229)][e(205)],new Float32Array(t[e(206)]),!1),this[e(260)](this[e(229)][e(221)],new Float32Array(t[e(249)]),!1),this[e(260)](this[e(229)].timeDelayBuffer,new Float32Array(t[e(204)]),!1),this[e(260)](this[e(229)].uvsBuffer,new Float32Array(t.a_uvs),!1),r[e(261)](r.ELEMENT_ARRAY_BUFFER,this[e(229)].indexBuffer),r[e(225)](r[e(218)],new Uint16Array(t[e(234)]),r[e(207)]),r[e(252)](null),this[e(256)]=!0}[MD(228)](){const t=MD;let e=this.gl;e[t(252)](this._vao);let r={},i=this[t(263)][t(248)]();return r[t(213)]=e.createBuffer(),e[t(261)](e[t(262)],r[t(213)]),e[t(236)](i[t(220)],3,e[t(245)],!1,0,0),e[t(241)](i.a_positionH),r.positionLBuffer=e[t(259)](),e.bindBuffer(e[t(262)],r.positionLBuffer),e.vertexAttribPointer(i[t(214)],3,e.FLOAT,!1,0,0),e[t(241)](i[t(214)]),r[t(230)]=e[t(259)](),e[t(261)](e[t(262)],r[t(230)]),e.vertexAttribPointer(i[t(253)],2,e.FLOAT,!1,0,0),e[t(241)](i[t(253)]),r[t(235)]=e[t(259)](),e[t(261)](e[t(262)],r[t(235)]),e[t(236)](i[t(204)],1,e[t(245)],!1,0,0),e.enableVertexAttribArray(i[t(204)]),r[t(257)]=e[t(259)](),e.bindBuffer(e[t(262)],r[t(257)]),e.vertexAttribPointer(i[t(224)],1,e[t(245)],!1,0,0),e[t(241)](i[t(224)]),r[t(244)]=e[t(259)](),e[t(261)](e[t(262)],r[t(244)]),e[t(236)](i[t(251)],1,e[t(245)],!1,0,0),e.enableVertexAttribArray(i.a_number),r[t(205)]=e.createBuffer(),e[t(261)](e.ARRAY_BUFFER,r[t(205)]),e[t(236)](i[t(206)],1,e[t(245)],!1,0,0),e.enableVertexAttribArray(i.a_height),r[t(221)]=e.createBuffer(),e[t(261)](e[t(262)],r[t(221)]),e[t(236)](i.a_relativeHeight,1,e[t(245)],!1,0,0),e[t(241)](i.a_relativeHeight),r.indexBuffer=e[t(259)](),r}[MD(231)](){this[MD(237)](),this._destroyRenderProperties()}}const RD=["removeMathCellById","u_ewWind","_createTexture","then","a_positionH","12076ZAsAqI","_initDrawData","a_speed","get","_geoLayer","_objMap","draw","269206gVxZph","u_windForce","_startTime","getTime","298578DtSZHo","indexOf","_initRenderOpts","disable","_upFlag","MAPEVENT_ZOOMEND","_renderable","_setMap","_initVertex","1jJdWzl","texture","_gl","addListener","u_nsWind","index","length","a_timeDelay","set","_isChange","908ckHCHs","_getGLTexture","1FVqcJt","Date","removeAll","114242ZbISRU","parameter must be instance of Rain!","1OSKBoW","push","isChange","redraw","179888neXhKs","update","_id","_textureImage","getRotateAngle","idArray","a_indice","a_positionL","_assemble","a_height","_addChangeBufferD","_texturePromise","u_initRes","_tick","49342ygcsms","updateDrawData","now","textures","85cIsiJX","_render","_map","addMathCell","event","a_uvs","_drawData","assign"],LD=FD;function FD(t,e){return RD[t-=303]}!function(t,e){const r=FD;for(;;)try{if(150312===-parseInt(r(319))*parseInt(r(348))+parseInt(r(309))*-parseInt(r(372))+-parseInt(r(321))*parseInt(r(344))+parseInt(r(361))+parseInt(r(330))+parseInt(r(368))+parseInt(r(324))*parseInt(r(326)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(RD);class DD extends _M{constructor(t={}){const e=FD;super(t),this._isChange=!1,this[e(370)]=(new Date)[e(371)](),this[e(362)]()}[LD(374)](t,e){const r=LD;super[r(374)](t,e),this[r(349)]=new PD(this[r(311)]),this[r(306)]=!0}[LD(351)](t){const e=LD,r=this;if(!(t instanceof wS))throw TypeError(e(325));!this[e(366)][e(364)](t[e(332)])&&(this._objMap[e(317)](t._id,t),this[e(318)]=!0,t[e(307)](this._map),this[e(350)][e(352)][e(312)](p.MAPEVENT_MOVEEND,(function(){const t=e;r.updateDrawData(),r[t(365)][t(329)]()})),this[e(350)][e(352)].addListener(p[e(305)],(function(){const t=e;r[t(345)](),r[t(365)][t(329)]()})))}[LD(356)](t){const e=LD;super.removeMathCellById(t),this[e(318)]=!0}[LD(323)](){super[LD(323)](),this._isChange=!0}[LD(345)](t){const e=LD;if(t){if(this[e(366)][e(364)](t)){const r=this[e(366)][e(364)](t);let i=this._drawData[e(335)][e(373)](t);-1===i?(this[e(338)](r),this[e(304)][e(314)]=i,this[e(304)].isChange=!0,this._upFlag[e(331)]="A"):(this[e(338)](r),this[e(304)][e(314)]=i,this._upFlag.isChange=!0,this[e(304)].update="R")}}else{this[e(362)]();for(let t of this[e(366)].values())this[e(338)](t);this[e(304)].index=null,this[e(304)][e(328)]=!0,this._upFlag[e(331)]="O"}}_draw(t){const e=LD;this._drawData&&0===this._drawData[e(335)][e(315)]||(this[e(370)]=this[e(370)]||window[e(322)][e(346)](),(!this[e(349)]._upBuffer||this[e(304)].isChange)&&(this[e(349)][e(340)](this[e(354)]),this[e(304)][e(328)]=!1))}[LD(343)](t={}){const e=LD;if(this[e(354)]&&0===this[e(354)].idArray[e(315)])return;this[e(311)][e(303)](this[e(311)].CULL_FACE);const r=(this._startTime?window[e(322)][e(346)]()-this._startTime:0)/1e3,i=this._map[e(334)]("pitch"),{u_initRes:n,u_ewWind:s,u_nsWind:o,u_windForce:a}=this[e(354)];Object[e(355)](t,{u_ewWind:s,u_nsWind:o,u_windForce:a,u_time:r,u_initRes:n,pitch:i}),this[e(349)][e(367)](this[e(354)],t)}[LD(362)](){this[LD(354)]={idArray:[],a_positionH:[],a_positionL:[],a_uvs:[],a_indice:[],a_speed:[],a_number:[],a_height:[],textures:[],a_timeDelay:[],a_relativeHeight:[],u_initRes:null,u_ewWind:null,u_nsWind:null,u_windForce:null}}[LD(338)](t){const e=LD;t[e(308)](),this[e(354)][e(335)][e(327)](t[e(332)]),this[e(354)][e(360)].push(...t.a_positionH),this[e(354)][e(337)][e(327)](...t[e(337)]),this[e(354)][e(363)][e(327)](...t[e(363)]),this[e(354)][e(339)][e(327)](...t[e(339)]),this[e(354)].a_number[e(327)](...t.a_number),this._drawData.a_relativeHeight[e(327)](...t.a_relativeHeight),this._drawData[e(353)][e(327)](...t[e(353)]),this[e(354)][e(336)][e(327)](...t.a_indice),this[e(354)][e(316)][e(327)](...t[e(316)]),this._drawData[e(342)]=t.u_initRes,this[e(354)][e(357)]=t.u_ewWind,this[e(354)][e(313)]=t[e(313)],this._drawData.u_windForce=t[e(369)],t[e(341)][e(359)]((t=>{const r=e;this[r(354)][r(347)][r(327)](this[r(320)](t[r(333)]))}))}[LD(320)](t){const e=LD;return this[e(349)][e(358)](t)[e(310)]}}var OD=["973815ndxMga","238892sbCUAN","278BBQEhK","2541nYGFRh","clientHeight","u_time","setPointUniforms","uniforms","u_mvpMatrix","uniformMatrix4fv","618176tkXRGS","301FCeWvM","uniform1f","getElements","312173UJgxjz","setCircleUniforms","391IUiyNv","uniform2fv","u_vpMatrix","648086GEKwjy","u_viewport"],ND=BD;function BD(t,e){return OD[t-=336]}!function(t,e){for(var r=BD;;)try{if(507811===parseInt(r(350))+-parseInt(r(338))+-parseInt(r(342))+-parseInt(r(352))*-parseInt(r(339))+-parseInt(r(347))+parseInt(r(349))+-parseInt(r(351))*-parseInt(r(344)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(OD);class UD extends qc{constructor(t,e,r){super(t,e,r)}[ND(355)](t){var e=ND;this.gl[e(340)](this[e(356)].u_time,t[e(354)]),this.gl[e(337)](this[e(356)].u_mvpMatrix,!1,t[e(346)][e(341)]())}[ND(343)](t){var e=ND;this.gl[e(340)](this.uniforms.u_time,t[e(354)]),this.gl[e(337)](this[e(356)][e(336)],!1,t[e(346)][e(341)]()),this.gl[e(345)](this[e(356)][e(348)],[this.gl.canvas.clientWidth,this.gl.canvas[e(353)]])}}const kD=["293ljUKlo","708857cdvAQd","559477KycQsm","1kyqemb","307550krdaGm","#version 300 es\nin vec4 a_center;\nin float a_size;\nin float a_maxSize;\nin float a_freq;\nin vec4 a_color;\n\nuniform float u_time;\nuniform mat4 u_mvpMatrix;\nout float v_ratio;\nout vec4 v_color;\n\n//nfloat getSizeAdd(){\n    float size=a_maxSize-a_size;\n    float percent=mod(u_time,a_freq)/a_freq;\n    percent=step(0.5,percent)*(1.-percent)+step(percent,0.5)*percent;\n    return size*2.0*percent;\n}\n\nvoid main(){\n    float size=a_size+getSizeAdd();\n    gl_PointSize=size;\n    gl_Position=u_mvpMatrix*a_center;\n    v_ratio=a_size/size; \n    v_color=a_color; \n}\n","2AOCNWn","549737vuRUYt","673227BCyVUc","#version 300 es\nin vec3 a_position;\nin vec3 a_center;\nin vec4 a_color;\nin float a_size;\nin float a_maxSize;\nin float a_freq;\nin vec2 a_alpha;\nin float a_cycle;//1 or 2\n\nuniform float u_time;\nuniform mat4 u_mvpMatrix;\nuniform vec2 u_viewport;\n\nout vec4 v_color;\n\n//nvec3 getCurrentStatus(){\n    float size=a_size;\n    float alpha=a_alpha.x;\n    float percent=mod(u_time,a_freq)/a_freq;\n    alpha+=percent*(a_alpha.y-a_alpha.x);\n    size+=percent*(a_maxSize-a_size);\n    return vec3(size/u_viewport.x,size/u_viewport.y,alpha);\n}\n//nvec3 getCurrentStatus2(){\n    float size=a_size;\n    float alpha=a_alpha.x;\n    float percent=mod(u_time,a_freq)/a_freq;\n    percent=step(0.5,percent)*(1.-percent)+step(percent,0.5)*percent;\n    size+=percent*(a_maxSize-a_size)*2.0;\n    alpha+=percent*(a_alpha.y-a_alpha.x)*2.0;\n    return vec3(size/u_viewport.x,size/u_viewport.y,alpha);\n}\nvoid main(){\n    vec3 status=(2.0-a_cycle)*getCurrentStatus()+(a_cycle-1.0)*getCurrentStatus2();\n    vec4 position=vec4(status.xy*a_position.xy,a_position.z,0.0);\n    vec4 webPosition=u_mvpMatrix*vec4(a_center,1.0);\n    gl_Position=webPosition+position*webPosition.w;\n    \n    v_color=a_color*status.z;\n}","breathPointFs","circleFs","#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nin vec4 v_color;\nin vec4 v_colorC;\nin float v_ratio;\nout vec4 outColor;\nvoid main(){\n    vec4 color=v_color;\n    float dist=distance(gl_PointCoord,vec2(.5,.5));\n    if(dist-0.5>=0.000001){\n        discard;\n    }\n    float ratio=v_ratio*0.5;\n    outColor=v_color*step(dist,ratio)+v_colorC*step(ratio,dist);\n}","bubblePointFs","#version 300 es\nin vec4 a_center;\nin float a_size;\nin float a_maxSize;\nin float a_freq;\nin vec4 a_color;\nin vec4 a_colorC;\nin vec2 a_alpha;\n\nuniform float u_time;\nuniform mat4 u_mvpMatrix;\nout float v_ratio;\nout vec4 v_color;\nout vec4 v_colorC;\n\n//nvec2 getStatus(){\n    float size=a_size;\n    float alpha=a_alpha.x;\n    float percent=mod(u_time,a_freq)/a_freq;\n    size+=percent*(a_maxSize-a_size);\n    alpha+=percent*(a_alpha.y-a_alpha.x);\n    return vec2(size,alpha);\n}\n\nvoid main(){\n    vec2 status=getStatus();\n    gl_PointSize=status.x;\n    gl_Position=u_mvpMatrix*a_center;\n    v_ratio=a_size/status.x;\n    v_color=a_color;\n    v_colorC=a_colorC*status.y;  \n}\n","1NeKnlH","160964kFovYz","circleVs","1037qRQSNo","#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nin vec4 v_color;\nin float v_ratio;\nout vec4 outColor;\nvoid main(){\n    float dist=distance(gl_PointCoord,vec2(.5,.5));\n    if(dist-0.5>=0.000001){\n        discard;\n    }\n    outColor=v_color*smoothstep(.5,.0,(dist-0.5*v_ratio));\n}"],VD=GD;function GD(t,e){return kD[t-=362]}!function(t,e){const r=GD;for(;;)try{if(368914===-parseInt(r(367))+parseInt(r(374))+-parseInt(r(369))*parseInt(r(373))+-parseInt(r(370))+parseInt(r(364))*parseInt(r(366))+parseInt(r(381))*-parseInt(r(362))+-parseInt(r(372))*-parseInt(r(368)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(kD);const zD={};zD.breathPointVs=VD(371),zD[VD(376)]=VD(365),zD.bubblePointVs=VD(380),zD[VD(379)]=VD(378),zD[VD(363)]=VD(375),zD[VD(377)]="#version 300 es\nprecision mediump float;\nin vec4 v_color;\nout vec4 outColor;\nvoid main(){\n    outColor=v_color;\n    if(outColor.a==0.)discard;\n}";const HD=["createVertexArray","_upBuffer","_createCircleBuffers","_buffers","setPointUniforms","378659mrGwqn","POINTS","draw","_deleteGPUArrayProperties","a_size","breath","_createBreathBuffers","a_cycle","entries","vertexAttribDivisor","positions","233735xthuqc","_destroyRenderProperties","sin","7LiWTBT","74651ZQaYhU","121253dVzIlF","bubblePointFs","UNSIGNED_BYTE","a_alpha","bindVertexArray","1157vMNlQz","idArray","circleFs","breathPointFs","drawArraysInstanced","_sideNum","_vaos","340mZoNdh","_drawCount","substr","a_center","length","bubblePointVs","useProgram","55243OcciBw","LINE_STRIP","_addVerBuffer","_programs","a_color","setCircleUniforms","_addStaticBufferD","1NNtrNv","469784MTRPup","getAttributeLocations","_posSize","_createVerBuffer","count","a_freq","_createCircle","_addChangeBufferD","circle","a_position","a_colorC","_createBuffers","a_maxSize","FLOAT","_createBubbleBuffers","destroy","1cHPeMc","bubble","1nCnOGx","push"],jD=YD;function YD(t,e){return HD[t-=449]}!function(t,e){const r=YD;for(;;)try{if(667989===-parseInt(r(513))*-parseInt(r(452))+parseInt(r(468))+-parseInt(r(467))+-parseInt(r(511))*-parseInt(r(495))+-parseInt(r(473))*-parseInt(r(480))+-parseInt(r(494))*parseInt(r(463))+-parseInt(r(487))*parseInt(r(466)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(HD);class $D extends rR{constructor(t,e,r){const i=YD;super(),this.gl=t,this[i(478)]=r,this._vpMatrix=null,this[i(497)]=e,this[i(516)]=!1,this._initToRender()}_initToRender(){const t=YD;this[t(490)]={bubble:new UD(this.gl,zD[t(485)],zD[t(469)]),breath:new UD(this.gl,zD.breathPointVs,zD[t(476)]),circle:new UD(this.gl,zD.circleVs,zD[t(475)])},this[t(479)]={bubble:this.gl[t(515)](),breath:this.gl[t(515)](),circle:this.gl[t(515)]()},this[t(450)]=this[t(506)](),this._drawCount=this[t(493)]()}[jD(454)](t,e,r){const i=jD;t[i(512)][i(474)][i(484)]>0&&(this.gl[i(472)](this[i(479)].bubble),this[i(490)][i(512)].useProgram(),this._programs[i(512)][i(451)](e),this.gl.drawArrays(this.gl[i(453)],0,t[i(512)][i(474)][i(484)]),this.gl[i(472)](null)),t[i(457)][i(474)][i(484)]>0&&(this.gl.bindVertexArray(this[i(479)][i(457)]),this[i(490)][i(457)][i(486)](),this._programs[i(457)][i(451)](e),this.gl.drawArrays(this.gl[i(453)],0,t[i(457)][i(474)].length),this.gl[i(472)](null)),t[i(503)].idArray[i(484)]>0&&(this.gl[i(472)](this[i(479)][i(503)]),this[i(490)].circle[i(486)](),this[i(490)][i(503)][i(492)](e),this.gl[i(477)](this.gl[i(488)]||this.gl[r],0,this[i(481)],t.circle[i(474)][i(484)]),this.gl[i(472)](null))}[jD(493)](){const t=jD,e=$D[t(501)](this._sideNum);return this.gl.bindVertexArray(this[t(479)][t(503)]),this[t(489)](this._buffers[t(503)][t(504)],new Float32Array(e[t(462)]),!1),this.gl.bindVertexArray(null),e[t(499)]}[jD(502)](t){const e=jD;for(const[r,i]of Object[e(460)](t))if(i[e(474)].length>0){this.gl[e(472)](this._vaos[r]);const t=this[e(450)][r];for(const[r,n]of Object.entries(i))if("positions"!==r&&r!==e(474)){const i="a_"+r[e(482)](0,r.length-1);"a_color"==i||i==e(505)?this[e(489)](t[i],new Uint8Array(n),!1):this._addVerBuffer(t[i],new Float32Array(n),!1)}this.gl[e(472)](null)}this._upBuffer=!0}[jD(506)](){const t=jD;return this[t(516)]=!1,{bubble:this[t(509)](),breath:this[t(458)](),circle:this[t(449)]()}}_createBubbleBuffers(){const t=jD,e=this[t(490)][t(512)].getAttributeLocations();this.gl.bindVertexArray(this[t(479)][t(512)]);let r={};return r[t(483)]=this[t(498)](e[t(483)],t(508),3),r.a_size=this[t(498)](e[t(456)],t(508),1),r[t(507)]=this[t(498)](e[t(507)],t(508),1),r[t(500)]=this[t(498)](e[t(500)],"FLOAT",1),r.a_color=this[t(498)](e[t(491)],t(470),4,!0),r[t(505)]=this[t(498)](e[t(505)],t(470),4,!0),r.a_alpha=this._createVerBuffer(e[t(471)],"FLOAT",2),this.gl[t(472)](null),r}[jD(458)](){const t=jD,e=this[t(490)][t(457)][t(496)]();this.gl[t(472)](this[t(479)][t(457)]);let r={};return r.a_center=this[t(498)](e[t(483)],t(508),3),r[t(456)]=this._createVerBuffer(e[t(456)],"FLOAT",1),r[t(507)]=this._createVerBuffer(e[t(507)],t(508),1),r.a_freq=this[t(498)](e[t(500)],t(508),1),r[t(491)]=this[t(498)](e[t(491)],t(470),4,!0),this.gl[t(472)](null),r}[jD(449)](){const t=jD,e=this[t(490)].circle[t(496)]();this.gl[t(472)](this[t(479)][t(503)]);let r={};return r.a_position=this._createVerBuffer(e[t(504)],"FLOAT",3),r[t(483)]=this[t(498)](e[t(483)],t(508),3),this.gl[t(461)](e[t(483)],1),r[t(491)]=this._createVerBuffer(e.a_color,t(470),4,!0),this.gl[t(461)](e[t(491)],1),r[t(456)]=this[t(498)](e.a_size,"FLOAT",1),this.gl.vertexAttribDivisor(e[t(456)],1),r.a_maxSize=this[t(498)](e.a_maxSize,"FLOAT",1),this.gl[t(461)](e[t(507)],1),r.a_freq=this[t(498)](e[t(500)],t(508),1),this.gl[t(461)](e[t(500)],1),r.a_alpha=this[t(498)](e[t(471)],t(508),2),this.gl[t(461)](e[t(471)],1),r[t(459)]=this[t(498)](e.a_cycle,t(508),1),this.gl[t(461)](e[t(459)],1),this.gl[t(472)](null),r}[jD(510)](){const t=jD;this[t(455)](),this[t(464)]()}static[jD(501)](t=50){const e=jD;let r=[],i=[];for(let n=0;n<=t;n++){const s=2*Math.PI/t*n,o=Math.cos(s),a=Math[e(465)](s);r[e(514)](o,a,0),i[e(514)](n)}return{positions:r,indices:i,count:r[e(484)]/3}}}const XD=["_addChangeBufferD","1dQsAty","values","_renderable","_initDrawData","_render","_objMap","1564391Moeqmm","idArray","_alpha","_freq","entries","3CpoUcs","35RJyUWZ","circle","alphas","1518670qxzRbU","_posSize","centers","_color","length","sideNum","breath","Date","mathCell must be instance of ScatterPoint!","_center","get","bubble","updateDrawData","_startTime","_initRenderOpts","_getType","_draw","u_time","_sideNum","548021baBQSA","_upFlag","sizes","_colorC","_deleteDrawData","_maxSize","2039102pbgxss","disable","splice","_type","colorCs","index","_drawData","colors","addMathCell","push","now","24907Ryafol","indexOf","_gl","isChange","7207JAYuAe","_upBuffer","draw","_addDrawData","_id","set","types","1500670CvnoKF","maxSizes","update","freqs","_size"],WD=ZD;function ZD(t,e){return XD[t-=396]}!function(t,e){const r=ZD;for(;;)try{if(984676===-parseInt(r(463))+-parseInt(r(456))*-parseInt(r(412))+parseInt(r(452))*parseInt(r(413))+parseInt(r(416))+parseInt(r(407))+parseInt(r(435))*parseInt(r(401))+-parseInt(r(441)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(XD);class qD extends _M{constructor(t){const e=ZD;super(t),t=t||{},this[e(434)]=t[e(421)]>2?t[e(421)]:4,this[e(404)](),this[e(429)]=null,this._glStatus={DEPTH_TEST:!1}}[WD(430)](t,e){const r=WD;super._initRenderOpts(t,e),this[r(417)]=e.isRTE?6:3,this[r(405)]=new $D(this[r(454)],this[r(417)],this[r(434)]),this[r(403)]=!0}[WD(449)](t){const e=WD;if(!(t instanceof AS))throw e(424);this[e(406)][e(461)](t._id,t)}[WD(428)](t){const e=WD;if(t)if(this[e(406)][e(426)](t)){const r=this[e(406)][e(426)](t),i=r[e(431)](r[e(444)])[0],n=this[e(447)][i][e(408)][e(453)](t);if(-1===n){for(const[r,i]of Object[e(411)](this[e(447)])){const n=i.idArray[e(453)](t);if(-1!==n){this[e(439)](r,n);break}}this[e(459)](i,r),this[e(436)][e(446)]=n,this[e(436)][e(455)]=!0,this[e(436)][e(397)]="A"}else this._replaceDrawData(i,n,r),this[e(436)].index=n,this[e(436)][e(455)]=!0,this[e(436)].update="R"}else{for(const[r,i]of Object.entries(this[e(447)])){const n=i[e(408)][e(453)](t);if(-1!==n){this[e(439)](r,n);break}}this[e(436)][e(446)]=null,this[e(436)][e(455)]=!0,this[e(436)][e(397)]="D"}else{this[e(404)]();for(let t of this._objMap[e(402)]()){const r=t._getType(t[e(444)])[0];this[e(459)](r,t)}this[e(436)][e(446)]=null,this[e(436)][e(455)]=!0,this._upFlag[e(397)]="O"}}[WD(459)](t,e){const r=WD,i=this[r(447)][t];switch(t){case r(427):i[r(408)][r(450)](e[r(460)]),i.centers[r(450)](...e[r(425)]),i.sizes[r(450)](e[r(399)]),i.maxSizes[r(450)](e[r(440)]),i[r(398)][r(450)](e[r(410)]),i[r(448)][r(450)](...e._color),i[r(445)][r(450)](...e[r(438)]),i[r(415)][r(450)](...e[r(409)]);break;case r(422):i[r(408)].push(e[r(460)]),i.centers[r(450)](...e[r(425)]),i[r(437)][r(450)](e[r(399)]),i[r(396)][r(450)](e[r(440)]),i.freqs.push(e[r(410)]),i.colors[r(450)](...e[r(419)]);break;case r(414):const t=e[r(431)](e[r(444)])[1]||0;i[r(408)][r(450)](e[r(460)]),i[r(418)][r(450)](...e[r(425)]),i[r(437)][r(450)](e[r(399)]),i[r(396)][r(450)](e[r(440)]),i[r(398)].push(e[r(410)]),i[r(448)].push(...e[r(419)]),i.alphas[r(450)](...e._alpha),i.cycles[r(450)](t)}}_deleteDrawData(t,e){const r=WD,i=this[r(447)][t];switch(t){case"bubble":i[r(408)][r(443)](e,1),i[r(418)].splice(3*e,3),i[r(437)][r(443)](e,1),i.maxSizes.splice(e,1),i[r(398)][r(443)](e,1),i[r(448)][r(443)](4*e,4),i[r(445)].splice(4*e,4),i[r(415)].splice(2*e,2);break;case r(422):i[r(408)][r(443)](e,1),i.centers[r(443)](3*e,3),i[r(437)][r(443)](e,1),i.maxSizes[r(443)](e,1),i[r(398)].splice(e,1),i[r(448)][r(443)](4*e,4);break;case"circle":i[r(408)][r(443)](e,1),i[r(418)][r(443)](3*e,3),i.sizes[r(443)](e,1),i[r(396)][r(443)](e,1),i[r(398)][r(443)](e,1),i.colors[r(443)](4*e,4),i[r(415)].splice(2*e,2),i.cycles.splice(e,1)}}_replaceDrawData(t,e,r){const i=WD,n=this._drawData[t];switch(t){case i(427):n.centers[i(443)](3*e,3,...r._center),n[i(437)][i(443)](e,1,r[i(399)]),n[i(396)][i(443)](e,1,r[i(440)]),n[i(398)][i(443)](e,1,r[i(410)]),n[i(448)][i(443)](4*e,4,...r[i(419)]),n.colorCs[i(443)](4*e,4,...r[i(438)]),n[i(415)][i(443)](2*e,2,...r._alpha);break;case"breath":n.centers[i(443)](3*e,3,...r[i(425)]),n[i(437)][i(443)](e,1,r[i(399)]),n.maxSizes[i(443)](e,1,r[i(440)]),n[i(398)][i(443)](e,1,r[i(410)]),n.colors[i(443)](4*e,4,...r[i(419)]);break;case i(414):n[i(418)][i(443)](3*e,3,...r[i(425)]),n[i(437)][i(443)](e,1,r._size),n.maxSizes[i(443)](e,1,r[i(440)]),n[i(398)][i(443)](e,1,r[i(410)]),n[i(448)][i(443)](4*e,4,...r[i(419)]),n.alphas[i(443)](2*e,2,...r._alpha),n[i(462)][i(443)](e,1,cycle)}}[WD(432)](t){const e=WD;0===this[e(447)][e(427)][e(408)][e(420)]&&0===this[e(447)][e(422)][e(408)].length&&0===this[e(447)][e(414)][e(408)].length||(this[e(429)]=this[e(429)]||window[e(423)][e(451)](),(!this[e(405)]._upBuffer||this[e(436)].isChange)&&(this[e(405)][e(400)](this._drawData),this._upFlag.isChange=!1))}_tick(t){const e=WD;0===this[e(447)][e(427)][e(408)][e(420)]&&0===this[e(447)][e(422)][e(408)][e(420)]&&0===this[e(447)][e(414)][e(408)][e(420)]||!1!==this[e(405)][e(457)]&&(t[e(433)]=this._startTime?window[e(423)][e(451)]()-this[e(429)]:0,this._gl[e(442)](this[e(454)].DEPTH_TEST),this[e(405)][e(458)](this._drawData,t))}_initDrawData(){this[WD(447)]={bubble:{idArray:[],centers:[],sizes:[],maxSizes:[],freqs:[],colors:[],colorCs:[],alphas:[]},breath:{idArray:[],centers:[],sizes:[],maxSizes:[],freqs:[],colors:[]},circle:{idArray:[],centers:[],sizes:[],maxSizes:[],freqs:[],colors:[],alphas:[],cycles:[]}}}}const JD=["639548TdSCKh","203667jmwdbC","521677HGoVpJ","1bpzoAC","fsShader","#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    \n    uniform sampler2D u_pattern;     \n    in vec4 v_texCoord;\n    out vec4 outColor;\n\n    void main() {  \n        outColor=vec4(0.0,0.0,0.0,0.0);\n        float u= v_texCoord.x/v_texCoord.w;\n        float v= v_texCoord.y/v_texCoord.w;\n        if(!(u>1.0||u<0.0||v>1.0||v<0.0)){\n            outColor = texture(u_pattern, vec2(u,v));\n        }      \n    }\n","479346WcLwDG","1ovTEcX","299248qgzsTV","1KuTuUy","#version 300 es\n    in vec3 a_positionH;\n    in vec3 a_positionL;\n    //\n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_mvMatrix;\n    uniform mat4 u_projMatrix; \n    uniform bool u_ifRTE;\n    uniform float u_unit;\n    //\n    uniform mat4 u_texMappingMatrix;\n    out vec4 v_texCoord;\n    \n    vec4 corrections(vec3 positionH, vec3 positionL){\n        vec3 highD=positionH-u_cameraH;\n        vec3 diff=positionL-u_cameraL;\n        vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n        return vec4(highD+lowD,1.0);\n    }\n    \n    vec4 getPosition(vec3 positionH, vec3 positionL){\n        vec3 highD=positionH;\n        vec3 diff=positionL;\n        vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n        return vec4(highD+lowD,1.0);    \n    }\n    \n    void main() {\n         vec4 position=vec4(a_positionH,1.0);\n         vec4 tempPosition = vec4(a_positionH,1.0);//\n         mat4 mvMatrix=u_mvMatrix; \n         if(u_ifRTE){\n            position=corrections(a_positionH, a_positionL);\n            mat4 mvR2Eye= u_mvMatrix;\n            mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n            mvMatrix=mvR2Eye;    \n            //n            tempPosition = getPosition(a_positionH, a_positionL);          \n         }         \n         gl_Position = u_projMatrix * mvMatrix * position;\n         \n         //\n         v_texCoord = u_texMappingMatrix * tempPosition;\n    }\n","757288wxACzr","960567PBvabb"];function KD(t,e){return JD[t-=173]}const QD=KD;!function(t,e){const r=KD;for(;;)try{if(489519===-parseInt(r(175))+parseInt(r(183))*parseInt(r(184))+parseInt(r(176))+parseInt(r(174))*parseInt(r(185))+-parseInt(r(177))+parseInt(r(182))+-parseInt(r(179))*parseInt(r(178)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(JD);const tO={};tO.vsShader=QD(173),tO[QD(180)]=QD(181);const eO=["918190cNSneW","uniformMatrix4fv","uniforms","uniform1f","u_texMappingMatrix","u_pattern","u_ifRTE","513083aQRnPk","chz","825736fpwJYk","clx","2962iAFJrN","u_cameraH","204MPaHwF","setPrivateUniforms","2xRVvHR","uniform1i","5321zgRkQH","clz","u_unit","u_projMatrix","chx","1128NUpvAC","cly","u_mvMatrix","getElements","321DvYUcM","2348HgthKA","1mlejhi","147251EAqSBK"],rO=iO;function iO(t,e){return eO[t-=421]}!function(t,e){const r=iO;for(;;)try{if(551355===parseInt(r(429))*parseInt(r(443))+parseInt(r(425))*parseInt(r(440))-parseInt(r(423))-parseInt(r(444))+parseInt(r(427))*-parseInt(r(431))+-parseInt(r(421))*parseInt(r(442))+parseInt(r(441))*parseInt(r(436)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(eO);class nO extends qc{constructor(t,e,r){super(t,e,r)}[rO(428)](t){const e=rO;this.gl[e(447)](this[e(446)][e(433)],t[e(433)]),this.gl.uniform1i(this.uniforms[e(450)],t[e(450)]);const r=t.u_camera;this.gl.uniform3fv(this[e(446)][e(426)],[r[e(435)],r.chy,r[e(422)]]),this.gl.uniform3fv(this.uniforms.u_cameraL,[r[e(424)],r[e(437)],r[e(432)]]),this.gl[e(445)](this[e(446)][e(438)],!1,t[e(438)][e(439)]()),this.gl[e(445)](this[e(446)][e(434)],!1,t[e(434)].getElements()),this.gl[e(445)](this[e(446)][e(448)],!1,t[e(448)].getElements()),this.gl[e(430)](this[e(446)].u_pattern,t[e(449)])}}const sO=["setPrivateUniforms","createBuffer","123085iWSzZC","textureId","videoTexture","indices","bindBuffer","86EwGmaC","1vWOyZD","enableVertexAttribArray","activeTexture","_posSize","deleteTexture","bindTexture","bindVertexArray","UNSIGNED_BYTE","positions","ELEMENT_ARRAY_BUFFER","destroy","RGB8","FLOAT","4ssYpyb","528096jAenyZ","length","_vao","getAttributeLocations","101713pSOAsg","_program","set","drawElements","positionBuffer","67714QxnuZQ","RGB","videoElement","get","TEXTURE0","_addStaticBufferD","_videoTextureReady","UNSIGNED_SHORT","addGLTexture","indexBuffer","videoElements","videoTextures","STATIC_DRAW","_buffers","2319CzKMqA","13086MCMTwO","a_positionL","a_positionH","texImage2D","values","fsShader","_initToRender","537490KSQcCJ","vsShader","useProgram","clearTexture","23TILIUf","unvalid document element!","bufferData","TEXTURE_2D","TRIANGLES","_addVerBuffer","texture","createVertexArray","_createBuffer"],oO=aO;function aO(t,e){return sO[t-=342]}!function(t,e){const r=aO;for(;;)try{if(293753===parseInt(r(354))*parseInt(r(392))+parseInt(r(373))*-parseInt(r(368))+-parseInt(r(355))*-parseInt(r(400))+parseInt(r(404))*parseInt(r(393))-parseInt(r(369))+parseInt(r(349))+parseInt(r(378)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(sO);class hO extends rR{constructor(t,e){const r=aO;super(),this.gl=t,this[r(358)]=e,this._videoTextureReady=!1,this.videoTextures=new Map,this.videoElements=new Map,this[r(399)]()}[oO(399)](){const t=oO;this[t(374)]=new nO(this.gl,tO[t(401)],tO[t(398)]),this[t(371)]=this.gl[t(345)](),this[t(391)]=this[t(346)]()}_initVideoTexture(t,e,r){const i=oO,n=this;if(e instanceof HTMLVideoElement)e.oncanplay=function(){const i=aO;if(!n[i(389)][i(381)](t)){let s=n[i(374)][i(386)](e,r)[i(344)];n[i(389)].set(t,s)}n.videoElements[i(375)](t,e)};else{if(!(e instanceof HTMLCanvasElement||e instanceof HTMLImageElement))throw new SyntaxError(i(405));if(!n[i(389)].get(t)){let s=n[i(374)].addGLTexture(e,r)[i(344)];n.videoTextures.set(t,s)}n.videoElements[i(375)](t,e)}}[oO(403)](){const t=oO;this[t(351)]=null,this[t(380)]=null,this[t(384)]=!1}draw(t,e){const r=oO;this[r(374)][r(402)](),this[r(374)][r(347)](e);const i=this.gl,n=this[r(391)];i.bindVertexArray(this._vao),this[r(343)](n[r(377)],new Float32Array(t[r(363)]),!1),i[r(353)](i[r(364)],n[r(387)]),i[r(406)](i.ELEMENT_ARRAY_BUFFER,new Uint16Array(t.indices),i.STATIC_DRAW);let s=e[r(350)],o=this.videoTextures[r(381)](s),a=this[r(388)][r(381)](s);i[r(357)](i[r(382)]+e.u_pattern),i[r(360)](i[r(407)],o),a&&i[r(396)](i.TEXTURE_2D,0,i[r(366)],i[r(379)],i[r(362)],a);let h=t[r(352)][r(370)];i[r(376)](i[r(342)],h,i[r(385)],0),i.bindVertexArray(null)}[oO(383)](t){const e=oO,r=this.gl;r[e(361)](this[e(371)]);const i=this[e(391)];this[e(343)](i[e(377)],new Float32Array(t[e(363)]),!1),r[e(353)](r[e(364)],i.indexBuffer),r[e(406)](r[e(364)],new Uint16Array(t[e(352)]),r[e(390)]),r.bindVertexArray(null)}[oO(346)](){const t=oO,e=this.gl;e.bindVertexArray(this._vao);let r={},i=this[t(374)][t(372)](),n=this[t(358)];return r.positionBuffer=e[t(348)](),e[t(353)](e.ARRAY_BUFFER,r[t(377)]),e.vertexAttribPointer(i[t(395)],3,e.FLOAT,!1,4*n,0),e[t(356)](i.a_positionH),e.vertexAttribPointer(i[t(394)],3,e[t(367)],!1,4*n,4*(n-3)),e[t(356)](i[t(394)]),r.indexBuffer=e[t(348)](),e[t(353)](e[t(364)],r[t(387)]),e.bindVertexArray(null),r}[oO(365)](){const t=oO;this._deleteGPUProperties();for(let e of this[t(389)][t(397)]())this.gl[t(359)](e);this._destroyRenderProperties()}}const lO=["clx","365vPkXAM","chx","1FeleVf","u_unit","9RkJNdv","clz","300563CRFYAr","cly","uniforms","u_ifRTE","chy","u_mvMatrix","u_camera","132113HTGTdF","setPrivateUniforms","186281fRGVBK","uniform3fv","u_projMatrix","69814lQSOWp","getElements","278794ozbgWQ","222024NQJwEE","171CMENpc","uniformMatrix4fv"],cO=uO;function uO(t,e){return lO[t-=271]}!function(t,e){const r=uO;for(;;)try{if(193956===-parseInt(r(294))+-parseInt(r(291))*parseInt(r(278))-parseInt(r(271))+parseInt(r(276))*parseInt(r(273))-parseInt(r(282))-parseInt(r(272))+-parseInt(r(280))*-parseInt(r(289)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(lO);class pO extends qc{constructor(t,e,r){super(t,e,r)}[cO(290)](t){const e=cO;this.gl.uniform1f(this[e(284)].u_unit,t[e(279)]),this.gl.uniform1i(this.uniforms[e(285)],t[e(285)]);const r=t[e(288)];this.gl[e(292)](this[e(284)].u_cameraH,[r[e(277)],r[e(286)],r.chz]),this.gl[e(292)](this[e(284)].u_cameraL,[r[e(275)],r[e(283)],r[e(281)]]),this.gl[e(274)](this[e(284)][e(287)],!1,t[e(287)].getElements()),this.gl.uniformMatrix4fv(this[e(284)].u_projMatrix,!1,t[e(293)][e(295)]())}}const fO=["27IqVNNt","58453hXerqG","1ZpPGWj","797wTRnVE","1144146qKpJAu","284055VbEYmV","vsShader","305530mWqTEs","2335495jVKOhE","69lRvvnN","#version 300 es\n    in vec3 a_positionH;\n    in vec3 a_positionL;\n    \n    in vec2 a_uv;\n\n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_mvMatrix;\n    uniform mat4 u_projMatrix;\n    uniform bool u_ifRTE;\n    uniform float u_unit;\n      \n    out vec2 v_uv;\n    \n    vec4 corrections(vec3 positionH, vec3 positionL){\n        vec3 highD=positionH-u_cameraH;\n        vec3 diff=positionL-u_cameraL;\n        vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n        return vec4(highD+lowD,1.0);\n    }\n    \n    void main() {\n         vec4 position=vec4(a_positionH,1.0);\n         mat4 mvMatrix=u_mvMatrix; \n         if(u_ifRTE){\n            position=corrections(a_positionH, a_positionL);\n            mat4 mvR2Eye=u_mvMatrix;\n            mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n            mvMatrix=mvR2Eye;           \n         }\n         gl_Position = u_projMatrix * mvMatrix * position;\n         v_uv = a_uv;\n    }\n","#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    uniform sampler2D u_pattern;        //\n     \n    in vec2 v_uv;\n    out vec4 outColor;\n\n    void main() {\n        vec4 textureColor = texture( u_pattern, v_uv);\n        outColor = textureColor;\n    }\n","314KTLSIs"],gO=dO;function dO(t,e){return fO[t-=166]}!function(t,e){const r=dO;for(;;)try{if(596746===parseInt(r(173))*-parseInt(r(166))+parseInt(r(169))*-parseInt(r(170))+-parseInt(r(172))*-parseInt(r(171))-parseInt(r(177))-parseInt(r(175))-parseInt(r(174))+parseInt(r(178)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(fO);const _O={};_O[gO(176)]=gO(167),_O.fsShader=gO(168);const yO=["createVertexArray","ARRAY_BUFFER","1691428yGPSJE","_vao","13WMDWko","_posSize","enableVertexAttribArray","STATIC_DRAW","indexBuffer","videoTextures","UNSIGNED_SHORT","deleteTexture","texImage2D","positions","positionBuffer","a_positionL","UNSIGNED_BYTE","TRIANGLES","_addStaticBufferD","bufferData","createBuffer","destroy","a_uv","_initToRender","1bKSbVC","draw","src","TEXTURE0","98621xjjdTP","a_positionH","getAttributeLocations","uvsBuffer","_buffers","954428RDcxpW","_videoTextureReady","bindVertexArray","ELEMENT_ARRAY_BUFFER","videoElement","_addVerBuffer","TEXTURE_2D","set","videoElements","uvs","RGB8","1154211oSqOcw","fsShader","FLOAT","vsShader","_deleteGPUProperties","745117YsEJcN","indices","bindBuffer","_destroyRenderProperties","_program","1722459ZxLIUG","vertexAttribPointer","clearTexture","891527BZGBvu","1vXLuIy","texture","values","get","2mNGspo"],mO=IO;function IO(t,e){return yO[t-=392]}!function(t,e){const r=IO;for(;;)try{if(930936===-parseInt(r(403))*-parseInt(r(453))+parseInt(r(437))*parseInt(r(428))-parseInt(r(406))+parseInt(r(398))+parseInt(r(395))+-parseInt(r(448))*parseInt(r(399))+-parseInt(r(432))*parseInt(r(408)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(yO);class xO extends rR{constructor(t,e){const r=IO;super(),this.gl=t,this[r(409)]=e,this[r(438)]=!1,this[r(413)]=new Map,this.videoElements=new Map,this[r(427)]()}_initToRender(){const t=IO;this[t(394)]=new pO(this.gl,_O[t(451)],_O[t(449)]),this[t(407)]=this.gl[t(404)](),this[t(436)]=this._createBuffer()}_initVideoTexture(t){const e=IO,r=this,i=t[e(430)];t.oncanplay=function(){const n=e;if(!r[n(413)][n(402)](i)){let e=r[n(394)].addGLTexture(t,0)[n(400)];r[n(413)][n(444)](i,e)}r[n(445)][n(444)](i,t)}}[mO(397)](){const t=mO;this.videoTexture=null,this[t(441)]=null,this._videoTextureReady=!1}[mO(429)](t,e){const r=mO;this[r(394)].useProgram(),this._program.setPrivateUniforms(e);const i=this.gl,n=this[r(436)];i[r(439)](this[r(407)]),this[r(442)](n.positionBuffer,new Float32Array(t[r(417)]),!1),this._addVerBuffer(n[r(435)],new Float32Array(t.uvs),!1),i[r(392)](i[r(440)],n[r(412)]),i[r(423)](i[r(440)],new Uint16Array(t.indices),i[r(411)]);let s=e.videoSrc,o=this.videoTextures[r(402)](s),a=this[r(445)][r(402)](s);i.activeTexture(i[r(431)]+0),i.bindTexture(i[r(443)],o||null),a&&i[r(416)](i[r(443)],0,i[r(447)],i.RGB,i[r(420)],a);let h=t.indices.length;i.drawElements(i[r(421)],h,i[r(414)],0),i[r(439)](null)}[mO(422)](t){const e=mO,r=this.gl;r.bindVertexArray(this[e(407)]);const i=this._buffers;this[e(442)](i.positionBuffer,new Float32Array(t[e(417)]),!1),this[e(442)](i[e(435)],new Float32Array(t[e(446)]),!1),r[e(392)](r[e(440)],i[e(412)]),r.bufferData(r[e(440)],new Uint16Array(t[e(454)]),r[e(411)]),r[e(439)](null)}_createBuffer(){const t=mO,e=this.gl;e[t(439)](this[t(407)]);let r={},i=this[t(394)][t(434)](),n=this[t(409)];return r[t(418)]=e[t(424)](),e[t(392)](e.ARRAY_BUFFER,r[t(418)]),e[t(396)](i[t(433)],3,e[t(450)],!1,4*n,0),e.enableVertexAttribArray(i.a_positionH),e.vertexAttribPointer(i.a_positionL,3,e.FLOAT,!1,4*n,4*(n-3)),e.enableVertexAttribArray(i[t(419)]),r[t(435)]=e.createBuffer(),e[t(392)](e[t(405)],r[t(435)]),e[t(396)](i.a_uv,2,e[t(450)],!1,0,0),e[t(410)](i[t(426)]),r[t(412)]=e.createBuffer(),e[t(392)](e[t(440)],r.indexBuffer),e.bindVertexArray(null),r}[mO(425)](){const t=mO;this[t(452)]();for(let e of this[t(413)][t(401)]())this.gl[t(415)](e);this[t(393)]()}}const vO=["dataMap","delete","enable","1GjfYNe","112114sAnnqq","removeMathCellById","addMathCell","uvs","ids","videoSrc","448591oRkCXu","dataReady","_iteration","set","_drawData","video","_gl","421UNVOxq","3EyykGq","_objMap","disable","isRTE","BACK","_isRTE","positions","91775Arqscc","16011BgVYHs","400995KpPYDX","_initDrawData","CULL_FACE","updateDrawData","_initVideoTexture","drawCount","side","_tick","hasOwnProperty","_draw","_renderable","_render","length","_isChange","472729EBkphR","push","get","86ovCatQ","frontFace","CCW","_id","getAllMathCells","cullFace","parameter must be instance of 'VideoTex'!","DEPTH_TEST","_initRenderOpts"],bO=wO;function wO(t,e){return vO[t-=185]}!function(t,e){const r=wO;for(;;)try{if(327975===parseInt(r(208))+parseInt(r(230))+parseInt(r(193))*parseInt(r(223))+parseInt(r(192))+-parseInt(r(237))*-parseInt(r(211))+-parseInt(r(194))+-parseInt(r(185))*parseInt(r(224)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(vO);class TO extends _M{constructor(t){const e=wO;super(t),this[e(200)]=t[e(202)](e(200))?t[e(200)]:1,this._drawCount=0,this[e(207)]=!1}[bO(219)](t,e){const r=bO;super[r(219)](t,e);const i=e.isRTE?6:3;this[r(190)]=!0===e[r(188)]&&e[r(188)],this[r(205)]=new xO(this._gl,i),this[r(204)]=!0}[bO(226)](t){const e=bO;if(!(t instanceof OS))throw TypeError(e(217));if(!this[e(186)][e(210)](t[e(214)])){this._objMap[e(233)](t[e(214)],t);let r=t[e(235)];this._render[e(198)](r),this[e(207)]=!0}}[bO(225)](t){const e=bO;this._objMap.has(t)&&(this[e(186)][e(221)](t),this[e(207)]=!0)}[bO(197)](){const t=bO;if(!this[t(207)])return;this[t(195)]();const e=this[t(215)]();for(let r=0;r<e[t(206)];r++){let i=e[r];!i[t(231)]&&i.updateDataByMapUnit(this[t(190)],this._mapUnit),this._drawData.ids[t(209)](i[t(214)])}this._isChange=!1}[bO(203)](t){const e=bO;this._drawData&&this[e(201)](t)}_tick(t={}){const e=bO;this[e(234)]&&this[e(232)](t)}[bO(232)](t={}){const e=bO,r=this[e(236)],i=this._drawCount;t[e(199)]=i,r[e(222)](r[e(218)]),2==this[e(200)]?r[e(187)](r.CULL_FACE):(r[e(222)](r.CULL_FACE),0==this[e(200)]?r.frontFace(r.CW):r[e(212)](r.CCW));const n=this[e(234)][e(228)];for(let r=0;r<n[e(206)];r++){const i=this[e(186)][e(210)](n[r]);if(!i)continue;let s=i[e(220)][e(191)],o=i[e(220)].index,a=i[e(227)],h=i[e(235)];t[e(229)]=h.src;let l={positions:s,indices:o,uvs:a};this[e(205)].draw(l,t)}r[e(187)](r[e(218)]),r[e(212)](r[e(213)]),r[e(222)](r[e(196)]),r[e(216)](r[e(189)])}[bO(195)](){this[bO(234)]={indices:[],indiceCount:[],positions:[],positionCount:[],uvs:[],ids:[]}}}const EO=["enable","_drawData","get","1QAEmTT","_tick","video","updateDrawData","u_pattern","_objMap","CULL_FACE","draw","BACK","disable","6772Rcuglc","_renderable","_drawCount","isRTE","_initVideoTexture","CCW","parameter must be instance of ProjectImage!","textureId","_draw","index","side","740510SJGfYk","addMathCell","_id","frontFace","DEPTH_TEST","_initDrawData","1051097LOVhqz","texProjViewMatrix","1156BXduVV","_initRenderOpts","149896pErSnP","_gl","_isChange","89HhqFQE","removeMathCellById","projector","1411271LzPYsN","u_texMappingMatrix","695ozLjDu","pattern","ids","1092715bcVqtc","dataMap"],CO=AO;function AO(t,e){return EO[t-=449]}!function(t,e){const r=AO;for(;;)try{if(926881===parseInt(r(454))*parseInt(r(491))+parseInt(r(449))*parseInt(r(472))-parseInt(r(489))-parseInt(r(452))+parseInt(r(493))+parseInt(r(457))+parseInt(r(462))*parseInt(r(483)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(EO);class MO extends TO{constructor(t){super(t)}[CO(492)](t,e){const r=CO;super[r(492)](t,e);const i=e[r(475)]?6:3;this._isRTE=!0===e[r(475)]&&e[r(475)],this._render=new hO(this[r(494)],i),this[r(473)]=!0}[CO(484)](t){const e=CO;if(!(t instanceof kS))throw TypeError(e(478));if(!this[e(467)][e(461)](t[e(485)])){this[e(467)].set(t[e(485)],t);let r=t[e(451)][e(464)],i=t[e(451)][e(455)],n=t[e(451)].id;this._render[e(476)](n,r,i),this[e(495)]=!0}}[CO(450)](t){super[CO(450)](t)}[CO(465)](){super[CO(465)]()}[CO(480)](t){super[CO(480)](t)}[CO(463)](t={}){super[CO(463)](t)}_iteration(t={}){const e=CO,r=this._gl;t.drawCount=this[e(474)],r[e(459)](r[e(487)]),2===this[e(482)]?r.disable(r[e(468)]):(r[e(459)](r[e(468)]),0===this[e(482)]?r[e(486)](r.CW):r[e(486)](r[e(477)]));const i=this[e(460)][e(456)];for(let r=0;r<i.length;r++){const n=this[e(467)][e(461)](i[r]);if(!n||!n[e(451)])continue;t[e(453)]=n[e(451)][e(490)];let s=n.dataMap.positions,o=n[e(458)][e(481)];n[e(451)][e(464)],t[e(479)]=n.projector.id,t[e(466)]=0|n[e(451)][e(455)];let a={positions:s,indices:o};this._render[e(469)](a,t)}r[e(471)](r[e(487)]),r[e(486)](r[e(477)]),r[e(459)](r[e(468)]),r.cullFace(r[e(470)])}[CO(488)](){this[CO(460)]={indices:[],indiceCount:[],positions:[],positionCount:[],ids:[]}}}const SO=["frameVsShader","#version 300 es\nin vec4 a_position;\n\nin vec3 a_center;\nin vec3 a_centerL;\nin float a_value;\n\nuniform float u_size;\nuniform float u_maxValue;\nuniform float u_minValue;\n\nuniform float u_res;\nuniform float u_resL;\n\nuniform vec3 u_cameraH;\nuniform vec3 u_cameraL;\nuniform mat4 u_mvMatrix;\nuniform mat4 u_projMatrix;\nuniform bool u_ifRTE;\nuniform float u_unit;\n\nuniform float u_sizeUnit;\nuniform float u_sizeStatus;\n\nout float v_dist;\nout float v_ratio;\nout float v_distFog;\n\nvec4 corrections(){\n     float res=u_res+u_resL/10000000.0*(1.0-u_unit)+u_resL*u_unit;\n     // vec3 highD=vec3(a_center.xy-u_cameraH.xy,-u_cameraH.z);\n     // vec3 diff=vec3(a_centerL.xy-u_cameraL.xy,-u_cameraL.z);\n     vec3 highD=a_center-u_cameraH;\n     vec3 diff=a_centerL-u_cameraL;\n     vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n     return vec4(highD+lowD,res);\n}\nvoid main(){\n    float res=u_res;\n    vec4 pos=a_position;\n    vec3 center=vec3(a_center.xy,0);\n    mat4 mvMatrix=u_mvMatrix;\n    if(u_ifRTE){\n        mat4 mvR2Eye=u_mvMatrix;\n        mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n        mvMatrix=mvR2Eye;\n        vec4 corr=corrections();\n        center=corr.xyz;\n        res=corr.w;\n    }\n    res=res*(1.0-u_sizeUnit)+u_sizeUnit;\n    res=res*((1.0-u_sizeStatus)+u_sizeStatus/110000.);\n    pos.xy=pos.xy*u_size*res;\n    pos.xyz=pos.xyz+center;\n    gl_Position=u_projMatrix*mvMatrix*pos;\n    \n    v_dist=length(a_position.xy);\n    v_ratio=max(0.0,(a_value-u_minValue))/(u_maxValue-u_minValue);\n    v_distFog=gl_Position.w;\n}\n","1893435TLlZFT","725094OtoMaC","63754TmVAid","vsShader","25UOxesN","colorVsShader","1073377qswFVo","1768716XJgCFG","#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nin vec4 v_color;\nout vec4 outColor;\nvoid main(){\n    outColor=v_color;\n}\n","#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nin float v_dist;\nin float v_ratio;\nin float v_distFog;\nout vec4 outColor;\nvoid main(){\n    outColor=vec4(0.0,v_ratio,0.0,0.0)*smoothstep(1.0,0.0,v_dist);\n    outColor.r=v_distFog;\n}\n","#version 300 es\nin vec4 a_position;\nin vec4 a_color;\nout vec4 v_color;\nvoid main(){\n    gl_Position=a_position;\n    v_color=a_color;\n}","32189NZcMms","colorFsShader","2nrZUzY","frameFsShader","1gGFtpN","1HLtzWQ","160019GToXYG","fsShader"],PO=LO;!function(t,e){const r=LO;for(;;)try{if(960552===parseInt(r(370))*parseInt(r(358))+-parseInt(r(363))*parseInt(r(373))+parseInt(r(364))+parseInt(r(368))*parseInt(r(361))+-parseInt(r(357))+parseInt(r(359))+-parseInt(r(374))*parseInt(r(372)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(SO);const RO={};function LO(t,e){return SO[t-=354]}RO[PO(362)]=PO(367),RO[PO(369)]=PO(365),RO[PO(355)]=PO(356),RO[PO(371)]=PO(366),RO[PO(360)]="#version 300 es\nin vec4 a_position;\nin vec2 a_texCoord;\nuniform mat4 u_projMatrix;\nout vec2 v_texCoord;\nvoid main(){\n    gl_Position=a_position;\n    v_texCoord=a_texCoord;\n}",RO[PO(354)]="#version 300 es\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D u_texture;\nuniform sampler2D u_colorTexture;\nuniform vec4 u_fogColor;\nuniform vec2 u_fogDist;\nin vec2 v_texCoord;\nout vec4 outColor;\n\nvoid main(){\n    outColor=texelFetch(u_texture,ivec2(gl_FragCoord.xy),0);\n    float tex=outColor.g;\n    // float distFog=outColor.r;\n    outColor=texture(u_colorTexture,vec2(tex,0.5));\n    if(tex<1.0/255.0)outColor.a=0.0;\n\n     /**/\n    // float fogFactor=clamp((u_fogDist.y-distFog)/(u_fogDist.y-u_fogDist.x),0.0,1.0); \n    // outColor=mix(u_fogColor.rgba,color.rgba,fogFactor);\n}";const FO=["40374tgYokj","17LPiYLN","11jQeOkn","6397OdUWiS","942896Rndyvk","1ZiZBXU","367706zHjkdC","69805SchsUo","94392GdWyfq","vsD","#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    \n    in vec4 v_color;\n    in float v_checked;\n    in float v_dist;\n    in vec4 v_position;\n\n    uniform vec4 u_fogColor;\n    uniform vec2 u_fogDist;\n    uniform float u_opacity;\n    \n    out vec4 outColor;\n    void main(){\n       vec4 color=v_color;\n       if(v_checked==1.0){\n           color=color*color.grba;\n       }\n      float fogFactor=clamp((u_fogDist.y-v_dist)/(u_fogDist.y-u_fogDist.x),0.0,1.0);  \n      outColor.rgb=mix(u_fogColor.rgb,color.rgb,fogFactor);\n      outColor.a=color.a*u_opacity;\n      if(outColor.a<=0.0){\n        discard;\n      }\n    }\n    ","61WwZCwU","306868KxSaWj"],DO=NO;!function(t,e){const r=NO;for(;;)try{if(482650===parseInt(r(126))*parseInt(r(131))+parseInt(r(132))+-parseInt(r(136))+parseInt(r(128))*parseInt(r(129))+-parseInt(r(127))+parseInt(r(133))*-parseInt(r(134))+parseInt(r(135))*-parseInt(r(130)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(FO);const OO={};function NO(t,e){return FO[t-=126]}OO.vs="#version 300 es\n    in vec3 a_position;\n    in vec3 a_positionL;\n    \n    in vec4 a_color;\n    in float a_checked;\n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_mvMatrix;\n    uniform mat4 u_projMatrix; \n    uniform bool u_ifRTE;\n    \n    out vec4 v_color;\n    out float v_checked;\n    out float v_dist;\n    void main(){\n        vec4 position=vec4(a_position,1.0);\n        mat4 mvMatrix=u_mvMatrix;\n        if(u_ifRTE){\n            vec3 highD=a_position-u_cameraH;\n            vec3 lowD=(a_positionL-u_cameraL)/10000000.0;\n            mat4 mvR2Eye=u_mvMatrix;\n            mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n            mvMatrix=mvR2Eye;\n            position=vec4(highD+lowD,1.0);\n        }\n        gl_Position=u_projMatrix*mvMatrix*position;\n        v_color=a_color;\n        v_checked=a_checked;\n        v_dist=gl_Position.w;\n    }\n    ",OO.fs=DO(138),OO[DO(137)]="#version 300 es\n    in vec3 a_position;\n    in vec3 a_positionL;\n    \n    in vec4 a_color;\n    in float a_checked;\n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_mvMatrix;\n    uniform mat4 u_projMatrix; \n    uniform bool u_ifRTE;\n    \n    out vec4 v_color;\n    out float v_checked;\n    out float v_dist;\n    out vec4 v_position;\n    \n    //LGD\n    uniform float u_farPlaneD;\n    uniform bool  u_ifLGD;\n    uniform float u_logConstant;\n    \n    vec4 logDepth(vec4 clipPos,bool ifLGD,float logC,float farPlaneD){\n        vec4 clipD=clipPos;\n        if(ifLGD){\n            clipD.z=\n            ((2.0*log(logC*clipPos.z+1.0)/log(logC*farPlaneD+1.0))-1.0)*clipPos.w;\n        }\n        return clipD;\n    }\n    \n    void main(){\n        vec4 position=vec4(a_position,1.0);\n        mat4 mvMatrix=u_mvMatrix;\n        if(u_ifRTE){\n            vec3 highD=a_position-u_cameraH;\n            vec3 lowD=(a_positionL-u_cameraL)/10000000.0;\n            mat4 mvR2Eye=u_mvMatrix;\n            mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n            mvMatrix=mvR2Eye;\n            position=vec4(highD+lowD,1.0);\n        }\n        vec4 clip=u_projMatrix*mvMatrix*position;\n        gl_Position=logDepth(clip,u_ifLGD,u_logConstant,u_farPlaneD);\n        v_color=a_color;\n        v_checked=a_checked;\n        v_dist=gl_Position.w;\n        v_position = position;\n    }\n    ";const BO=["TRIANGLES","13262mkRMGj","_organizeAttributesLayout","u_mvMatrix","u_cameraL","uniformMatrix4fv","getElements","chz","u_projMatrix","u_logConstant","a_position","UNSIGNED_INT","1114bWayWD","u_opacity","attributesLayout","938dHXQyt","uniform3fv","a_checked","a_positionL","734370HHmamD","setPrivateUniforms","uniform1f","cly","drawElements","1606940sgucfz","u_ifLGD","u_camera","mode","u_ifRTE","260795WFyRnC","clx","202628KlLLCb","draw","attributes","1yuukqX","uniforms","uniform1i","1294934BDVpna","62QeiXaQ","index","u_farPlaneD","chy","clz","a_color","vsD"],UO=kO;function kO(t,e){return BO[t-=240]}!function(t,e){const r=kO;for(;;)try{if(805641===parseInt(r(277))*parseInt(r(274))+parseInt(r(263))*-parseInt(r(255))-parseInt(r(248))-parseInt(r(246))+parseInt(r(281))+parseInt(r(251))*parseInt(r(241))+-parseInt(r(254)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(BO);UO(264),UO(282),UO(249);const VO=["4OMaGuH","1181647kLuwzQ","191QCntvj","236pXYQpn","40673UUrEOv","2eoywGN","4081YSsAnG","#version 300 es\n    precision highp float;\n    in vec3 a_position;\n    uniform mat4 u_vMatrix;\n    uniform mat4 u_pMatrix;\n    in vec4 a_color;\n    out vec4 v_color;\n    in vec3 a_positionL;\n\tuniform vec3 u_eyeH;\n    uniform vec3 u_eyeL;\n    void main(){\n        vec3 position=a_position;\n        mat4 vMatrix=u_vMatrix;\n        mat4 pMatrix=u_pMatrix;\n        position=vec3(a_position.x-u_eyeH.x+a_positionL.x-u_eyeL.x,a_position.y-u_eyeH.y+a_positionL.y-u_eyeL.y,a_position.z-u_eyeH.z+a_positionL.z-u_eyeL.z);\n        mat4 mvR2Eye=vMatrix;\n        mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n        vMatrix=mvR2Eye;\n        gl_Position=vec4(position, 1.0);\n        gl_Position = pMatrix * vMatrix  * gl_Position;\n        v_color = a_color;\n    }\n","1282014MNMtwo","597351NhpRvD","1187NroYDw","#version 300 es\n    precision highp float;\n    uniform float u_opacity;\n    in vec4 v_color;\n    out vec4 outColor;\n    void main(){\n        outColor = v_color;\n    }\n","1smbBII","990301wzcfQi"],GO=HO;!function(t,e){const r=HO;for(;;)try{if(641415===-parseInt(r(143))*parseInt(r(139))+parseInt(r(149))*-parseInt(r(142))+parseInt(r(145))*parseInt(r(141))+-parseInt(r(151))*parseInt(r(140))-parseInt(r(138))+parseInt(r(148))*parseInt(r(144))+parseInt(r(147)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(VO);const zO={};function HO(t,e){return VO[t-=138]}zO.vs=GO(146),zO.fs=GO(150);const jO=["519143UjVUBZ","setPrivateUniforms","271681uaKOiJ","attributes","a_position","_organizeAttributesLayout","clz","1562453zYXvja","index","uniformMatrix4fv","chz","clx","u_eyeH","UNSIGNED_INT","TRIANGLES","2UteOCi","u_projMatrix","a_color","256119RugBvT","draw","750642TImGrD","mode","chx","a_positionL","u_camera","u_mvMatrix","2BaFhSm","drawElements","u_ifRTE","uniforms","chy","u_eyeL","uniform3fv","getElements","597719hTBDgQ","173834MNPwvF"],YO=$O;function $O(t,e){return jO[t-=275]}!function(t,e){const r=$O;for(;;)try{if(496199===parseInt(r(301))*parseInt(r(304))-parseInt(r(286))+parseInt(r(306))+parseInt(r(288))*parseInt(r(276))+parseInt(r(285))+parseInt(r(284))+-parseInt(r(293)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(jO);class XO extends qc{constructor(t){const e=$O;super(t,zO.vs,zO.fs),this.attributesLayout=this[e(291)](),this[e(307)]=t[e(300)]}[YO(291)](){const t=YO;return{a_position:{name:t(290),location:this[t(289)][t(290)],count:3,type:Float32Array},a_positionL:{name:t(309),location:this[t(289)][t(309)],count:3,type:Float32Array},a_color:{name:"a_color",location:this.attributes[t(303)],count:4,type:Float32Array},index:{name:t(294),location:-1,count:1,type:Uint32Array}}}[YO(287)](t){const e=YO;this.gl.uniform1i(this[e(279)][e(278)],t[e(278)]),this.gl[e(295)](this[e(279)][e(275)],!1,t[e(275)][e(283)]()),this.gl[e(295)](this[e(279)][e(302)],!1,t[e(302)].getElements());const r=t[e(310)];this.gl.uniform3fv(this[e(279)][e(298)],[r[e(308)],r[e(280)],r[e(296)]]),this.gl[e(282)](this.uniforms[e(281)],[r[e(297)],r.cly,r[e(292)]])}[YO(305)](t){const e=YO,r=this.gl,i=r[e(300)],n=t,s=r[e(299)];r[e(277)](i,n,s,0)}}const WO=["bindRenderbuffer","blendFuncSeparate","sin","a_value","uniforms","_initToRender","height","TRIANGLE_FAN","chz","_vaos","colorBuffer","FRAMEBUFFER","DEPTH_TEST","_posSize","clear","floor","_deleteFrameBuffers","bottomright","vertexAttribPointer","u_mvMatrix","colorFsShader","clx","_createFilledCircle","RENDERBUFFER","_colorFrame","UNSIGNED_BYTE","disable","clz","topleft","TEXTURE_2D","viewport","_createTextureBuffers","_upBuffer","795724HqRAuh","_createVerBuffer","blendEquation","a_centerL","_createRenderBuffers","uniform1i","canvas","TRIANGLES","bindFramebuffer","ZERO","u_projMatrix","texImage2D","push","_divideDu","42034RpGpmW","enableVertexAttribArray","_programs","STATIC_DRAW","render","a_texCoord","program","frameBuffer","_getRenderColor","clientHeight","positions","_drawColor","colorVsShader","getUniformLocation","frameFsShader","u_camera","1198834HJIxxR","idArray","BLEND","drawElementsInstanced","bindTexture","drawArrays","cos","ELEMENT_ARRAY_BUFFER","cly","minY","positionBuffer","_drawTexture","_addVerBuffer","createBuffer","DEPTH_BUFFER_BIT","u_texture","_frameBuffer","ONE","TEXTURE0","u_eyeH","texture","vertexAttribDivisor","uniform3f","_texture","2421258utclki","destroy","RGBA","bottomleft","createVertexArray","useProgram","deleteTexture","u_vMatrix","_deleteGPUArrayProperties","getAttribLocation","1648251gOviJI","u_colorTexture","TRIANGLE_STRIP","_getRenderData","_vpMatrix","getAttributeLocations","FUNC_ADD","drawFrame","color","frameVsShader","indices","topright","_drawBox","bindBuffer","_createBuffers","addGLTexture","12uNCJQH","enable","length","TEXTURE1","renderbufferStorage","clearColor","bufferData","values","uniformMatrix4fv","a_color","a_center","index","_addBoxBuffer","_createFrameBuffer","1399000DBjurV","FLOAT","box","a_positionL","RG8","clientWidth","centers","a_position","_elements","activeTexture","_destroyRenderProperties","bindVertexArray","drawElements","chx","ARRAY_BUFFER","COLOR_BUFFER_BIT","maxY","_isColor","_createTexture","999497OpMbME","positionLBuffer","_drawRender","_buffers","setTextureUniforms","maxX","_createColorBuffers","DEPTH_COMPONENT16","pow","colors","depthRenderBuffer"],ZO=qO;function qO(t,e){return WO[t-=169]}!function(t,e){const r=qO;for(;;)try{if(873476===-parseInt(r(263))-parseInt(r(312))-parseInt(r(293))+parseInt(r(229))+parseInt(r(279))*parseInt(r(213))+parseInt(r(199))+parseInt(r(253)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(WO);class JO extends rR{constructor(t,e,r,i,n){const s=qO;super(),this.gl=t,this[s(267)]=null,this[s(179)]=e,this[s(198)]=!1,this[s(310)]=!r,this[s(171)]()}_initToRender(){const t=qO;this[t(215)]={texture:new uF(this.gl,RO[t(272)],RO[t(227)]),render:new uF(this.gl,RO.vsShader,RO.fsShader),color:this._isColor?new uF(this.gl,RO[t(225)],RO[t(186)]):null,box:new XO(this.gl)},this[t(175)]={texture:this.gl[t(257)](),render:this.gl[t(257)](),color:this[t(310)]?this.gl[t(257)]():null,box:this.gl[t(257)]()},this._buffers=this._createBuffers(),this[t(245)]=this[t(292)](this.gl[t(205)][t(298)],this.gl[t(205)][t(222)],0),this[t(190)]=this[t(310)]?this._createFrameBuffer(this.gl[t(205)][t(298)],this.gl[t(205)].clientHeight,0):null,this._addStaticBufferD()}draw(t,e){const r=qO;this.gl[r(207)](this.gl[r(177)],null),this.gl.viewport(0,0,this.gl[r(205)][r(298)],this.gl[r(205)][r(222)]),this._drawRender(e)}[ZO(270)](t,e){const r=ZO;let i=this.gl;i[r(323)](i.RENDERBUFFER,this[r(245)][r(322)]),i.renderbufferStorage(i[r(189)],i[r(319)],i.canvas[r(298)],i[r(205)].clientHeight),i.bindTexture(i.TEXTURE_2D,this[r(245)][r(249)]),i[r(210)](i[r(195)],0,i[r(297)],i[r(205)][r(298)],i.canvas[r(222)],0,i.RG,i.UNSIGNED_BYTE,null),i[r(207)](i[r(177)],this[r(245)][r(220)]),i.viewport(0,0,i.canvas[r(298)],i.canvas[r(222)]),i[r(284)](0,0,0,0),i[r(180)](i[r(308)]|i[r(243)]),i.enable(i[r(231)]),i[r(201)](i[r(269)]),i.blendFuncSeparate(i[r(246)],i[r(246)],i[r(246)],i[r(246)]),i[r(192)](i[r(178)]),this[r(240)](t,e),this._isColor&&(i[r(323)](i[r(189)],this._colorFrame[r(322)]),i[r(283)](i[r(189)],i.DEPTH_COMPONENT16,i.canvas[r(298)],i[r(205)][r(222)]),i[r(233)](i[r(195)],this[r(190)][r(249)]),i[r(210)](i[r(195)],0,i[r(255)],i[r(205)][r(298)],i[r(205)].clientHeight,0,i[r(255)],i.UNSIGNED_BYTE,null),i[r(207)](i.FRAMEBUFFER,this[r(190)][r(220)]),i[r(196)](0,0,i[r(205)].clientWidth,i.canvas[r(222)]),i[r(280)](i[r(231)]),i[r(201)](i.FUNC_ADD),i[r(324)](i.ONE,i[r(208)],i[r(246)],i[r(208)]),this[r(224)]())}[ZO(314)](t){const e=ZO,r=this.gl,i=this[e(215)][e(217)];r[e(304)](this._vaos[e(217)]),i[e(258)](),r.activeTexture(r[e(247)]),r[e(233)](r.TEXTURE_2D,this._frameBuffer[e(249)]),r[e(204)](i[e(170)][e(244)],0),r[e(302)](r[e(282)]);const n=this[e(310)]?this[e(190)][e(249)]:this._texture;r[e(233)](r[e(195)],n),r.uniform1i(i[e(170)][e(264)],1),i.setRenderUniforms(t),r[e(234)](r[e(265)],0,4),r[e(304)](null),this[e(275)](t)}_drawTexture(t,e,r=null){const i=ZO;let n=this[i(215)][i(249)];this.gl.bindVertexArray(this[i(175)][i(249)]),n.useProgram(),n[i(316)](e),this.gl[i(232)](this.gl[r]||this.gl[i(173)],52,this.gl[i(191)],0,t[i(230)][i(281)]),this.gl[i(304)](null)}[ZO(224)](){const t=ZO;this.gl[t(304)](this[t(175)][t(271)]),this.gl[t(258)](this[t(215)].color[t(219)]),this.gl[t(234)](this.gl[t(265)],0,10),this.gl[t(304)](null)}[ZO(275)](t){const e=ZO,r=this[e(215)][e(295)][e(219)],i=this.gl;i[e(304)](this[e(175)][e(295)]),i.useProgram(r);const n=t[e(228)];n.clx/=Math[e(320)](10,7),n.cly/=Math[e(320)](10,7),n[e(193)]/=Math[e(320)](10,7);let s=i[e(226)](r,e(260));i[e(287)](s,!1,t[e(185)][e(301)]);let o=i[e(226)](r,"u_pMatrix");i[e(287)](o,!1,t[e(209)][e(301)]);let a=i.getUniformLocation(r,e(248));i.uniform3f(a,n[e(306)],n.chy,n[e(174)]);let h=i.getUniformLocation(r,"u_eyeL");i[e(251)](h,n[e(187)],n[e(237)],n.clz),i[e(305)](i[e(206)],36,i[e(191)],0),i[e(304)](null)}[ZO(311)](t,e=0){const r=ZO;return this[r(215)].render[r(278)](t,e)}_deleteTex(){const t=ZO;this._texture&&this.gl[t(259)](this[t(252)])}_addStaticBufferD(){const t=ZO;this.gl[t(304)](this[t(175)][t(217)]);const e=JO[t(266)](),r=this._buffers[t(217)];if(this[t(241)](r.a_position,new Float32Array(e[t(223)]),!1),this[t(241)](r[t(218)],new Float32Array(e.texCoords),!1),this.gl.bindVertexArray(null),this._isColor){this.gl[t(304)](this._vaos[t(271)]);const e=this[t(315)].color,r=JO[t(221)]();this[t(241)](e[t(300)],new Float32Array(r[t(223)]),!1),this.gl[t(304)](null)}this.gl.bindVertexArray(this._vaos[t(249)]);const i=JO[t(188)](),n=this[t(315)][t(249)];this[t(241)](n.a_position,new Float32Array(i.positions),!1),this.gl[t(276)](this.gl.ELEMENT_ARRAY_BUFFER,n[t(290)]),this.gl.bufferData(this.gl[t(236)],new Uint8Array(i[t(273)]),this.gl.STATIC_DRAW),this.gl[t(304)](null)}[ZO(212)](t){const e=Math[ZO(181)](t);return[e,t-e]}[ZO(291)](t,e){const r=ZO,i=this.gl;i.bindVertexArray(this[r(175)][r(295)]);const n=this._programs.box[r(219)];this[r(212)](t[r(194)]),this[r(212)](t[r(317)]),this[r(212)](t[r(238)]),this[r(212)](t[r(309)]);let s=new Float32Array([this._divideDu(t[r(194)][0])[0],this._divideDu(t[r(194)][1])[0],0,this[r(212)](t[r(256)][0])[0],this._divideDu(t[r(256)][1])[0],0,this[r(212)](t[r(183)][0])[0],this[r(212)](t[r(183)][1])[0],0,this._divideDu(t[r(274)][0])[0],this[r(212)](t[r(274)][1])[0],0,this[r(212)](t.topleft[0])[0],this._divideDu(t[r(194)][1])[0],0,this[r(212)](t[r(256)][0])[0],this[r(212)](t.bottomleft[1])[0],0,this[r(212)](t[r(183)][0])[0],this._divideDu(t[r(183)][1])[0],0,this[r(212)](t[r(274)][0])[0],this[r(212)](t[r(274)][1])[0],0]);i[r(276)](i[r(307)],this[r(315)][r(239)]),i[r(285)](i[r(307)],s,i[r(216)]);let o=i[r(262)](n,r(300));i[r(184)](o,3,i[r(294)],!1,0,0),i[r(214)](o);let a=new Float32Array([this[r(212)](t[r(194)][0])[1],this[r(212)](t[r(194)][1])[1],0,this[r(212)](t[r(256)][0])[1],this[r(212)](t.bottomleft[1])[1],0,this[r(212)](t.bottomright[0])[1],this[r(212)](t[r(183)][1])[1],0,this[r(212)](t.topright[0])[1],this[r(212)](t.topright[1])[1],0,this._divideDu(t[r(194)][0])[1],this[r(212)](t.topleft[1])[1],t.height/11e4,this._divideDu(t.bottomleft[0])[1],this[r(212)](t[r(256)][1])[1],t[r(172)]/11e4,this[r(212)](t[r(183)][0])[1],this[r(212)](t[r(183)][1])[1],t[r(172)]/11e4,this[r(212)](t.topright[0])[1],this[r(212)](t.topright[1])[1],t[r(172)]/11e4]);i.bindBuffer(i[r(307)],this[r(315)][r(313)]),i.bufferData(i[r(307)],a,i[r(216)]);let h=i[r(262)](n,r(296));i[r(184)](h,3,i.FLOAT,!1,0,0),i[r(214)](h);let l=new Float32Array([e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3]]);i[r(276)](i[r(307)],this[r(315)][r(176)]),i.bufferData(i[r(307)],l,i.STATIC_DRAW);let c=i[r(262)](n,"a_color");i[r(184)](c,4,i.FLOAT,!1,0,0),i[r(214)](c);let u=new Uint8Array([0,3,2,3,2,1,4,5,6,4,6,7,5,4,0,5,0,1,3,7,6,3,6,2,2,6,5,2,5,1,4,7,3,4,3,0]);i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this[r(315)].indexBuffer),i.bufferData(i[r(236)],u,i[r(216)]),i[r(304)](null)}_addChangeBufferD(t){const e=ZO;if(this[e(310)]){this.gl[e(304)](this._vaos[e(271)]);const r=this._buffers[e(271)];this[e(241)](r.a_color,new Float32Array(t[e(321)]),!1),this.gl[e(304)](null)}this.gl[e(304)](this[e(175)][e(249)]);const r=this[e(315)][e(249)];this[e(241)](r[e(289)],new Float32Array(t[e(299)]),!1),this[e(241)](r[e(169)],new Float32Array(t[e(286)]),!1),this.gl[e(304)](null),this[e(198)]=!0}[ZO(277)](){const t=ZO;return this[t(198)]=!1,{texture:this[t(197)](),render:this[t(203)](),color:this[t(310)]?this[t(318)]():void 0,positionBuffer:this.gl.createBuffer(),positionLBuffer:this.gl.createBuffer(),colorBuffer:this.gl.createBuffer(),indexBuffer:this.gl[t(242)]()}}[ZO(203)](){const t=ZO;let e=this.gl,r=this[t(215)][t(217)].getAttributeLocations();e.bindVertexArray(this[t(175)].render);let i={};return i.a_position=this[t(200)](r.a_position,t(294),3),i[t(218)]=this._createVerBuffer(r[t(218)],t(294),2),e[t(276)](e[t(307)],null),e[t(304)](null),i}[ZO(197)](){const t=ZO;let e=this.gl,r=this[t(215)].texture[t(268)]();const i=this._posSize;e[t(304)](this[t(175)][t(249)]);let n={};return n[t(300)]=this[t(200)](r[t(300)],t(294),3),n[t(289)]=e.createBuffer(),e[t(276)](e[t(307)],n[t(289)]),e[t(184)](r[t(289)],3,e.FLOAT,!1,4*i,0),e[t(214)](r.a_center),e.vertexAttribPointer(r[t(202)],3,e[t(294)],!1,4*i,4*(i-3)),e[t(214)](r[t(202)]),e.vertexAttribDivisor(r[t(289)],1),e[t(250)](r[t(202)],1),n[t(169)]=this._createVerBuffer(r[t(169)],t(294),1),e[t(250)](r.a_value,1),n[t(290)]=e[t(242)](),e.bindBuffer(e[t(307)],null),e[t(304)](null),n}_createColorBuffers(){const t=ZO,e=this.gl,r=this[t(215)][t(271)][t(268)]();e.bindVertexArray(this._vaos[t(271)]);let i={};return i.a_position=this[t(200)](r[t(300)],t(294),3),i[t(288)]=this[t(200)](r[t(288)],"FLOAT",4),e[t(276)](e[t(307)],null),e.bindVertexArray(null),i}[ZO(254)](){const t=ZO;this[t(261)](),this[t(182)](this[t(245)]),this[t(182)](this[t(190)]),this[t(303)]()}static _createFilledCircle(t=50){const e=ZO;let r=[0,0,0],i=[0];for(let n=0;n<=t;n++){const s=2*Math.PI/t*n,o=1*Math[e(235)](s),a=1*Math[e(325)](s);r[e(211)](o,a,0),i[e(211)](n+1)}return{positions:r,indices:i,count:i[e(281)]}}static[ZO(266)](){return{positions:[-1,1,0,-1,-1,0,1,1,0,1,-1,0],texCoords:[0,1,0,0,1,1,1,0],indices:[0,1,2,2,1,3],count:6}}static[ZO(221)](){let t=[-1,1,0,-1,-1,0,-.5,1,0,-.5,-1,0,0,1,0,0,-1,0,.5,1,0,.5,-1,0,1,1,0,1,-1,0];return{positions:t,indices:[],count:t[ZO(281)]/3}}}const KO=["_id","setColorByLevel","_gl","push","_mapUnit","colors","_maxValFlag","size","enable","setMinHeatValue","_maxValue","values","_getGLTexture","_initDrawData","_value","mathCell must be instance Heatpoint!!","blendFuncSeparate","_sizeUnit","_isTex","_posSize","setMaxHeatValue","u_sizeUnit","FUNC_ADD","621057glwIAb","_boxColor","addMathCell","u_sizeStatus","u_minValue","float32FromDouble64","_deleteTex","_texture","ONE","idArray","427sUwBME","index","_tickFrame","disable","_texUp","_draw","_center","6378NxphOT","_minValFlag","_tick","_drawFrame","7sAcEho","_renderable","_minValue","2954VRNpaS","u_size","MinValue must be less than maxValue!","isChange","image","_opacities","blendEquation","drawFrame","TRIANGLE_FAN","_objMap","132712ewXTLg","_initRenderOpts","_isRTE","_size","239174MQvMYL","u_maxValue","SRC_ALPHA","setSize","sizeUnit","_addChangeBufferD","_getSizeStatus","93SXlWLg","isRTE","set","reduce","_assemble","_render","ONE_MINUS_SRC_ALPHA","concat","_colorArray","boxColor","_upFlag","_createTexture","_drawData","modelMatrix","box","getSizeUnit","splice","length","toNormalizeArray","getMaxHeatValue","89266PgnHVC","_img","_glStatus","331bkjaCm","DEPTH_TEST","_tColors","getBaseColor","centers","indexOf","_sizeStatus","setBaseColor","update"];function QO(t,e){return KO[t-=178]}const tN=QO;!function(t,e){const r=QO;for(;;)try{if(177548===parseInt(r(193))*-parseInt(r(272))-parseInt(r(213))+parseInt(r(258))*-parseInt(r(216))+parseInt(r(186))+-parseInt(r(269))*parseInt(r(265))+-parseInt(r(182))+parseInt(r(248)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(KO);class eN extends _M{constructor(e){const r=QO;super(e),e=e||{},this._size=e[r(232)]>0?e[r(232)]:40,this[r(277)]=[1,1,1,1];const i=[new t.Color(0,0,255,this[r(277)][0]),new t.Color(0,255,0,this[r(277)][1]),new t.Color(255,255,0,this[r(277)][2]),new t.Color(255,0,0,this._opacities[3])];this[r(201)]=e.colors?e[r(230)]:i;let n=[];this._colorArray.map((t=>{const e=r;n.push(t[e(211)](),t[e(211)]())})),this._tColors=[0,0,0,0,0,0,0,0][r(200)](n[r(196)]((function(t,e){return t[r(200)](e)}))),this[r(231)]=!0,this[r(235)]=0,this[r(266)]=!0,this[r(271)]=0,this._initDrawData(),this[r(215)]={BLEND:!0,blendEquation:r(247),blendFuncSeparate:[r(188),"ONE_MINUS_SRC_ALPHA",r(256),r(256)],DEPTH_TEST:!0},this._img=e[r(276)]?e[r(276)]:void 0,this._isTex=!!this[r(214)],this._sizeUnit="m"==e[r(190)]?1:0,this[r(222)]=0,this._box=e[r(207)],this[r(249)]=e[r(202)]}[tN(183)](t,e){const r=tN;super[r(183)](t,e),this[r(184)]=!0===e[r(194)]&&e.isRTE,this[r(244)]=e.isRTE?6:3,this[r(198)]=new JO(this[r(227)],this[r(244)],this[r(243)]),this[r(198)]._addBoxBuffer(this._box,this[r(249)]),this[r(270)]=!0,this._getSizeStatus()}[tN(250)](t){const e=tN;if(!(t instanceof oS))throw e(240);this[e(181)][e(195)](t[e(225)],t),this[e(231)]&&(this[e(235)]=Math.max(this[e(235)],t[e(239)]))}[tN(245)](t){const e=tN;if(!(t>this[e(271)]))throw new Error("MaxValue must be greater than minValue!");this[e(235)]=t,this[e(231)]=!1}[tN(212)](){return this[tN(235)]}[tN(234)](t){const e=tN;if(!(t>0&&t<this[e(235)]))throw new Error(e(274));this[e(271)]=t}getMinHeatValue(){return this[tN(271)]}[tN(226)](t,e){const r=tN;this[r(201)][r(209)](e,1,t);const i=t[r(211)]();this[r(218)][r(209)](8*e+8,8,...i,...i),this._drawData.colors=this[r(218)],this[r(203)][r(275)]=!0}getColorArray(){return this[tN(201)]}[tN(219)](){const e=tN;return new t.Color(255*this[e(218)][0],255*this[e(218)][1],255*this._tColors[2],this._tColors[3])}[tN(223)](t){const e=tN,r=t.toNormalizeArray();this[e(218)].splice(0,8,...r,...r),this[e(205)][e(230)]=this[e(218)],this[e(203)][e(275)]=!0}[tN(189)](t){this[tN(185)]=t}getSize(){return this[tN(185)]}setSizeUnit(t){const e=tN;this[e(242)]="m"==t?1:0,this[e(222)]=0,this[e(192)]()}[tN(208)](){let t="px";return 1===this._sizeUnit&&(t="m"),t}setTexture(t){const e=tN;this[e(243)]&&(this[e(214)]=t,this._isTex=!0,this[e(262)]=!1,this[e(270)]&&this[e(237)](t))}[tN(237)](t){const e=tN;!this[e(262)]&&this._isTex&&(this[e(198)][e(254)](),this[e(198)][e(255)]=this._render[e(204)](t,1).texture,this._texUp=!0)}updateDrawData(t){const e=tN;if(t)if(this[e(181)].get(t)){const r=this[e(181)].get(t);let i=this[e(205)][e(257)][e(221)](t),n=r[e(264)];if(this[e(184)]){const t=Pt[e(253)](n[0],this._mapUnit),r=Pt[e(253)](n[1],this[e(229)]),i=Pt[e(253)](n[2],this[e(229)]);n=[t[0],r[0],i[0],t[1],r[1],i[1]]}-1===i?(this[e(197)](r,n),this[e(203)].index=i,this[e(203)][e(275)]=!0,this._upFlag[e(224)]="A"):(this._drawData[e(220)][e(209)](this[e(244)]*i,this[e(244)],...n),this[e(205)][e(236)][e(209)](i,1,r._value),this[e(203)][e(259)]=i,this[e(203)][e(275)]=!0,this[e(203)].update="R")}else{let r=this[e(205)][e(257)][e(221)](t);-1!==r&&(this[e(205)][e(257)][e(209)](r,1),this[e(205)].centers[e(209)](this._posSize*r,this[e(244)]),this._drawData[e(236)].splice(r,1),this[e(203)][e(259)]=r,this[e(203)].isChange=!0,this[e(203)][e(224)]="D")}else{this[e(238)]();for(let t of this[e(181)][e(236)]()){let r=t[e(264)];if(this[e(184)]){const i=Pt[e(253)](t._center[0],this[e(229)]),n=Pt[e(253)](t[e(264)][1],this._mapUnit),s=Pt[e(253)](t[e(264)][2],this[e(229)]);r=[i[0],n[0],s[0],i[1],n[1],s[1]]}this[e(197)](t,r)}this._upFlag[e(259)]=null,this._upFlag[e(275)]=!0,this._upFlag[e(224)]="O"}this[e(237)](this[e(214)]),this[e(192)]()}[tN(192)](){const t=tN;1===this._sizeUnit&&"m"!=this[t(229)]&&(this[t(222)]=1)}[tN(263)](t){}[tN(268)](t){const e=tN;this[e(205)].idArray[e(210)]<=0||this[e(235)]<=this[e(271)]||(!this[e(198)]._upBuffer||this[e(203)][e(275)])&&(this[e(198)][e(191)](this[e(205)]),this._upFlag[e(275)]=!1)}[tN(267)](t){const e=tN;this._drawData[e(257)][e(210)]<=0||this._maxValue<=this[e(271)]||!1===this._render._upBuffer||(this._gl[e(233)](this._gl.BLEND),this[e(227)][e(178)](this._gl[e(247)]),this._gl[e(241)](this[e(227)][e(188)],this[e(227)][e(199)],this[e(227)][e(256)],this[e(227)][e(256)]),this[e(227)][e(261)](this[e(227)][e(217)]),this[e(198)].draw(this[e(205)],t,e(180)))}[tN(260)](t){const e=tN;this[e(205)][e(257)].length<=0||this[e(235)]<=this[e(271)]||!1===this[e(198)]._upBuffer||(t[e(273)]=this[e(185)],t[e(187)]=this._maxValue,t[e(252)]=this[e(271)],t[e(246)]=this[e(242)],t[e(251)]=this._sizeStatus,t[e(206)]=this.modelMatrix,this[e(198)][e(179)](this._drawData,t))}[tN(197)](t,e){const r=tN;this._drawData.idArray[r(228)](t._id),this[r(205)][r(220)][r(228)](...e),this[r(205)][r(236)][r(228)](t[r(239)])}[tN(238)](){const t=tN;this[t(205)]={idArray:[],centers:[],values:[],colors:this[t(218)]}}}var rN=["uniformMatrix4fv","pow","103588ZIPccm","u_nsWind","13UPDXpr","76589vQaJxd","779ICmxqP","u_ewWind","116rPjGGF","46411BjCfUA","1etNIZm","17wTqtkr","19258SHmISv","u_initRes","uniforms","setPrivateUniforms","u_resolution","getElements","uniform1f","75987wPilRc","13499kbTSWP","u_time","1vjVRHu","u_vpMatrix","u_windForce","u_mvpMatrix"],iN=nN;function nN(t,e){return rN[t-=358]}!function(t,e){for(var r=nN;;)try{if(140260===parseInt(r(369))+parseInt(r(366))+parseInt(r(372))*-parseInt(r(370))+parseInt(r(373))*-parseInt(r(360))+-parseInt(r(374))*-parseInt(r(383))+-parseInt(r(358))*parseInt(r(375))+-parseInt(r(368))*-parseInt(r(376)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(rN);class sN extends qc{constructor(t,e,r){super(t,e,r)}[iN(379)](t){var e=iN;this.gl.uniform1f(this[e(378)][e(359)],t.u_time),this.gl[e(382)](this[e(378)].u_ewWind,t[e(371)]),this.gl.uniform1f(this[e(378)][e(367)],t.u_nsWind),this.gl.uniform1f(this.uniforms[e(362)],t[e(362)]),this.gl[e(364)](this[e(378)][e(363)],!1,t[e(361)][e(381)]()),this.gl[e(382)](this.uniforms[e(380)],t.u_res[0]+t.u_res[1]/Math[e(365)](10,7)),this.gl[e(382)](this.uniforms[e(377)],t[e(377)])}}const oN=["vsShader","1813CwwNee","fsShader","842tBvHML","1bugnHp","323339cKFcxo","494LsNTkd","#version 300 es\n    in vec3 a_position;\n    in vec3 a_rotation;\n    in vec3 a_speed;\n    in float a_size;\n    in float a_timeDelay;\n\n    uniform float u_time;\n    uniform mat4 u_mvpMatrix;\n    uniform float u_ewWind;                   //\n    uniform float u_nsWind;                   //\n    uniform float u_windForce;                 //\n    uniform float u_initRes;                      //n    uniform float u_resolution;         //\n\n    out float v_rotation;\n    void main() {\n      v_rotation =  u_resolution/u_initRes*(a_rotation.x + u_time * a_rotation.z);\n      vec4 position=vec4(a_position,1.0);\n      position.x += sin(u_time * a_speed.x*0.3) * 0.0001;\n      position.y += cos(u_time * a_speed.y*0.3) * 0.0001;\n      float height = position.z;\n      float fallDis = fract((a_speed.z/40.0*u_resolution/u_initRes* (u_time-a_timeDelay))/height)*height;\n      position.z -= fallDis;\n      position.x += u_resolution/u_initRes*u_ewWind*u_windForce*fallDis;\n      position.y += u_resolution/u_initRes*u_nsWind*u_windForce*fallDis;\n      gl_Position = u_mvpMatrix * position;\n      //gl_PointSize = 25.0*a_size / (gl_Position.w*25.0);\n      if( 25.0*a_size / (gl_Position.w*3.0)>a_size*10.0){\n        gl_PointSize=a_size*10.0;\n      }else{\n        gl_PointSize=25.0*a_size / (gl_Position.w*3.0);\n      }\n    }","340707NRueIO","377130eabQWW","1SDHdlV","236971mIxgfW","370466mWLCMB","37BvKAwz","#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    uniform sampler2D u_texture;\n    in float v_rotation;\n    out vec4 outputColor;\n    void main() {\n      vec2 rotated = vec2(\n        cos(v_rotation) * (gl_PointCoord.x - 0.5) + sin(v_rotation) * (gl_PointCoord.y - 0.5)+0.5,\n        cos(v_rotation) * (gl_PointCoord.y - 0.5) - sin(v_rotation) * (gl_PointCoord.x - 0.5)+0.5\n      );\n      outputColor = texture(u_texture, rotated);\n      if(outputColor.a<0.4)discard;\n    }"],aN=lN;!function(t,e){const r=lN;for(;;)try{if(222026===-parseInt(r(154))*-parseInt(r(142))+parseInt(r(146))*parseInt(r(151))+parseInt(r(153))+-parseInt(r(149))*parseInt(r(145))+-parseInt(r(150))+parseInt(r(144))*parseInt(r(147))+-parseInt(r(152)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(oN);const hN={};function lN(t,e){return oN[t-=141]}hN[aN(141)]=aN(148),hN[aN(143)]=aN(155);const cN=["_initToRender","713075cunWeI","a_timeDelay","_createBuffer","createBuffer","getAttributeLocations","timeDelayBuffer","_addVerBuffer","length","433806bCDWiA","821DVXqGQ","rotationBuffer","FLOAT","BLEND","_program","a_position","1448NveWlo","68hMYdun","positionBuffer","destroy","_addChangeBufferD","useProgram","_upBuffer","drawArrays","enable","991584QfEuxP","_drawSnow","bindVertexArray","_vao","textures","bindBuffer","888894SnNrtg","_deleteGPUProperties","_destroyRenderProperties","1761TrCJOm","enableVertexAttribArray","ARRAY_BUFFER","bindTexture","a_size","draw","POINTS","_buffers","609796noNvjS","a_rotation","_addStaticBufferD","sizeBuffer","TEXTURE_2D","a_speed","createVertexArray","fsShader","vertexAttribPointer","speedBuffer"],uN=pN;function pN(t,e){return cN[t-=212]}!function(t,e){const r=pN;for(;;)try{if(757870===-parseInt(r(234))+parseInt(r(237))*parseInt(r(213))-parseInt(r(256))+-parseInt(r(220))*-parseInt(r(219))+parseInt(r(228))+parseInt(r(212))+-parseInt(r(245)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(cN);class fN extends rR{constructor(t){const e=pN;super(),this.gl=t,this._vpMatrix=null,this[e(255)]()}[uN(255)](){const t=uN;this[t(217)]=new sN(this.gl,hN.vsShader,hN[t(252)]),this._vao=this.gl[t(251)](),this[t(244)]=this[t(258)]()}[uN(242)](t,e){const r=uN;this[r(217)][r(224)](),this._program.setPrivateUniforms(e),t[r(232)][0]&&(this.gl[r(240)](this.gl[r(249)],t[r(232)][0]||null),this[r(229)](t))}[uN(229)](t){const e=uN;let r=this.gl;r.bindVertexArray(this[e(231)]);let i=t[e(218)][e(263)]/3;r[e(227)](r[e(216)]),r[e(226)](r[e(243)],0,i),r.bindVertexArray(null)}[uN(247)](){}[uN(223)](t){const e=uN;this.gl.bindVertexArray(this[e(231)]),this[e(262)](this[e(244)].positionBuffer,new Float32Array(t[e(218)]),!1),this[e(262)](this._buffers[e(214)],new Float32Array(t[e(246)]),!1),this[e(262)](this._buffers[e(254)],new Float32Array(t.a_speed),!1),this[e(262)](this[e(244)][e(248)],new Float32Array(t.a_size),!1),this[e(262)](this[e(244)][e(261)],new Float32Array(t[e(257)]),!1),this.gl[e(230)](null),this[e(225)]=!0}_createBuffer(){const t=uN;let e=this.gl;e[t(230)](this[t(231)]);let r={},i=this[t(217)][t(260)]();return r[t(221)]=e[t(259)](),e[t(233)](e[t(239)],r[t(221)]),e[t(253)](i[t(218)],3,e[t(215)],!1,0,0),e[t(238)](i.a_position),r.rotationBuffer=e[t(259)](),e.bindBuffer(e[t(239)],r[t(214)]),e[t(253)](i.a_rotation,3,e[t(215)],!1,0,0),e.enableVertexAttribArray(i[t(246)]),r.speedBuffer=e.createBuffer(),e.bindBuffer(e[t(239)],r[t(254)]),e[t(253)](i.a_speed,3,e[t(215)],!1,0,0),e[t(238)](i[t(250)]),r[t(248)]=e[t(259)](),e[t(233)](e.ARRAY_BUFFER,r[t(248)]),e[t(253)](i[t(241)],1,e[t(215)],!1,0,0),e.enableVertexAttribArray(i[t(241)]),r.timeDelayBuffer=e[t(259)](),e[t(233)](e[t(239)],r[t(261)]),e[t(253)](i[t(257)],1,e[t(215)],!1,0,0),e[t(238)](i[t(257)]),r}[uN(222)](){const t=uN;this[t(235)](),this[t(236)]()}}const gN=["_upFlag","then","_gl","_setMap","a_speed","WEST","_initDrawData","_id","ewWind","assign","get","1qrzhwy","push","2tykPTQ","removeMathCellById","_map","getTime","_isRTE","_calculateVertex","234973upDoFU","_getGLTexture","windLevel","_isChange","idArray","_render","disable","isChange","indexOf","NORTH","setWindLevel","18180pjCyIW","now","parameter must be instance of Snow!","_assemble","a_size","WEST_NORTH","3NhfLUD","32483dCuyOd","addListener","u_windForce","_startTime","SOUTH","_renderable","_geoLayer","_drawData","setWindDir","a_timeDelay","415VENkVy","texture","CULL_FACE","u_ewWind","isRTE","WEST_SOUTH","_createTexture","u_initRes","values","set","149ulLbay","8RISkuk","_tick","test","nsWind","_upBuffer","removeAll","EAST","MAPEVENT_MOVEEND","update","1693RWThkq","_textureImage","windDirect","updateDrawData","event","a_position","textures","addMathCell","31038uYnVwm","_objMap","EAST_NORTH","a_rotation","redraw","Date","length","u_nsWind","12226gCNzwH","_draw","index"],dN=_N;function _N(t,e){return gN[t-=379]}!function(t,e){const r=_N;for(;;)try{if(133877===-parseInt(r(414))*parseInt(r(404))+parseInt(r(452))*parseInt(r(444))+parseInt(r(463))+-parseInt(r(422))+parseInt(r(384))*parseInt(r(446))+parseInt(r(430))*parseInt(r(405))+parseInt(r(383))*parseInt(r(394)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(gN);class yN extends _M{constructor(t={}){const e=_N;if(super(t),this[e(455)]=!1,this[e(387)]=(new Date)[e(449)](),t[e(454)]&&(!/^\d+$/[e(407)](t[e(454)])||t.windLevel<0||t[e(454)]>12))throw new Error("options.windLevel must be a integer between 0 and 12!");const r=[e(411),e(388),e(438),e(461),"EAST_SOUTH",e(399),e(424),e(382)];t[e(416)]&&-1!==r[e(460)](t[e(416)])?(this[e(397)]=yS[t.windDirect].ewWind,this[e(429)]=yS[t[e(416)]][e(408)],this[e(386)]=.8/12*(t.windLevel?t[e(454)]:0)):(this.u_ewWind=0,this.u_nsWind=0,this[e(386)]=0),this[e(439)]()}[dN(392)](t){const e=dN;t?(this[e(397)]=yS[t][e(441)],this[e(429)]=yS[t][e(408)]):(this[e(397)]=0,this.u_nsWind=0,this[e(386)]=0)}[dN(462)](t){this.u_windForce=.8/12*(t||0)}_initRenderOpts(t,e){const r=dN;super._initRenderOpts(t,e);const i=e[r(398)]?6:3;this[r(450)]=!0===e.isRTE&&e[r(398)],this[r(457)]=new fN(this[r(435)],i),this[r(389)]=!0}[dN(421)](t){const e=dN,r=this;if(!(t instanceof XS))throw TypeError(e(379));!this[e(423)][e(443)](t[e(440)])&&(this[e(423)][e(403)](t[e(440)],t),this[e(455)]=!0,t[e(436)](this[e(448)]),this[e(448)][e(418)][e(385)](p[e(412)],(function(){const t=e;r[t(417)](),r[t(390)][t(426)]()})),this[e(448)][e(418)][e(385)](p.MAPEVENT_ZOOMEND,(function(){const t=e;r.updateDrawData(),r[t(390)][t(426)]()})))}removeMathCellById(t){const e=dN;super[e(447)](t),this[e(455)]=!0}[dN(410)](){const t=dN;super[t(410)](),this[t(455)]=!0}[dN(417)](t){const e=dN;if(t)if(this[e(423)][e(443)](t)){const r=this[e(423)].get(t);let i=this[e(391)][e(456)].indexOf(t);-1===i?(this._assemble(r),this[e(433)][e(432)]=i,this._upFlag[e(459)]=!0,this[e(433)][e(413)]="A"):(this._upFlag[e(432)]=i,this._upFlag.isChange=!0,this[e(433)][e(413)]="R")}else{let r=this[e(391)][e(456)].indexOf(t);-1!==r&&(this[e(391)][e(456)][e(428)]=0,this[e(391)].a_position[e(428)]=0,this[e(391)].a_timeDelay[e(428)]=0,this[e(391)][e(381)].length=0,this[e(391)][e(437)].length=0,this[e(391)][e(425)][e(428)]=0,this[e(391)][e(401)][e(428)]=0,this[e(433)].index=r,this[e(433)][e(459)]=!0,this[e(433)][e(413)]="D")}else{this[e(439)]();for(let t of this[e(423)][e(402)]())this[e(380)](t);this[e(433)][e(432)]=null,this[e(433)][e(459)]=!0,this[e(433)][e(413)]="O"}}[dN(431)](t){const e=dN;this[e(391)]&&0===this[e(391)][e(456)][e(428)]||(this[e(387)]=this[e(387)]||window[e(427)][e(464)](),(!this._render[e(409)]||this._upFlag[e(459)])&&(this[e(457)]._addChangeBufferD(this[e(391)]),this[e(433)][e(459)]=!1))}[dN(406)](t={}){const e=dN;if(this[e(391)]&&0===this[e(391)][e(456)].length)return;this[e(435)][e(458)](this[e(435)][e(396)]);const r=(this[e(387)]?window[e(427)][e(464)]()-this[e(387)]:0)/1e3,{u_ewWind:i,u_nsWind:n,u_windForce:s}=this,{u_initRes:o}=this[e(391)];Object[e(442)](t,{u_ewWind:i,u_nsWind:n,u_windForce:s,u_time:r,u_initRes:o}),this[e(457)].draw(this[e(391)],t)}[dN(439)](){this[dN(391)]={idArray:[],a_position:[],a_timeDelay:[],a_size:[],a_speed:[],a_rotation:[],u_initRes:null,textures:[]}}[dN(380)](t){const e=dN;t[e(451)](),this[e(391)].idArray[e(445)](t[e(440)]),this[e(391)][e(419)][e(445)](...t[e(419)]),this[e(391)][e(393)][e(445)](...t[e(393)]),this[e(391)][e(381)][e(445)](...t.a_size),this._drawData[e(437)][e(445)](...t[e(437)]),this[e(391)][e(425)][e(445)](...t[e(425)]),this[e(391)][e(401)]=t.u_initRes,t._texturePromise[e(434)]((t=>{const r=e;this[r(391)][r(420)][r(445)](this._getGLTexture(t[r(415)]))}))}[dN(453)](t){const e=dN;return this[e(457)][e(400)](t)[e(395)]}}const mN=["452rmtpQG","12fenzOI","uniform1f","clz","u_cameraH","chz","cly","159139qVGDdy","u_unit","u_camera","312RHWAlV","uniforms","clx","89524VncxhO","229xBiwvY","177355anOzia","38PMTpNg","u_mvMatrix","1llNSTK","uniformMatrix4fv","7399IKTLDq","1cweJiv","uniform1i","u_projMatrix","chy","234197mzMPNC"];function IN(t,e){return mN[t-=116]}!function(t,e){const r=IN;for(;;)try{if(155659===-parseInt(r(123))*parseInt(r(116))-parseInt(r(137))+-parseInt(r(138))*-parseInt(r(125))+-parseInt(r(131))*-parseInt(r(119))+-parseInt(r(140))*-parseInt(r(118))+-parseInt(r(124))*parseInt(r(134))+parseInt(r(139)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(mN);class xN extends qc{constructor(t,e,r){super(t,e,r)}setPrivateUniforms(t){const e=IN;this.gl[e(126)](this[e(135)][e(132)],t[e(132)]),this.gl[e(120)](this[e(135)].u_ifRTE,t.u_ifRTE),this.gl[e(117)](this.uniforms[e(141)],!1,t.u_mvMatrix.getElements()),this.gl[e(117)](this.uniforms[e(121)],!1,t[e(121)].getElements());const r=t[e(133)];this.gl.uniform3fv(this[e(135)][e(128)],[r.chx,r[e(122)],r[e(129)]]),this.gl.uniform3fv(this[e(135)].u_cameraL,[r[e(136)],r[e(130)],r[e(127)]])}}const vN=["#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    in vec4 v_color;\n    out vec4 outColor;\n    void main(){\n    float dist=distance(gl_PointCoord,vec2(0.5,0.5));\n    if(dist>0.5){\n        discard;\n    }else{\n        outColor=v_color;     \n    }\n}\n","246163PgpKYi","93872PKIewn","1FYIolO","vsShader","fsShader","#version 300 es\n    in  vec3  a_positionH;\n    in  vec3  a_positionL;\n    in  vec2 a_size;\n    in  float a_count;\n    in  vec4  a_color;\n    out vec4  v_color;\n    \n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_mvMatrix;\n    uniform mat4 u_projMatrix;\n    uniform bool u_ifRTE;\n    uniform float u_unit;\n    \n    float getParam(){\n        return float(gl_VertexID)/a_count;\n    }\n    \n    vec4 corrections(){\n        vec3 highD=a_positionH-u_cameraH;\n        vec3 diff=a_positionL-u_cameraL;\n        vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n        return vec4(highD+lowD,1.0);\n    }\n    void main(){\n        vec4 position=vec4(a_positionH,1.0);\n        mat4 mvMatrix=u_mvMatrix;\n        if(u_ifRTE){\n            mat4 mvR2Eye=u_mvMatrix;\n            mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n            mvMatrix=mvR2Eye;\n            position=corrections();\n        }\n        gl_Position=u_projMatrix*mvMatrix*position;\n        gl_PointSize=a_size.y+(a_size.x-a_size.y)*getParam();\n        v_color=a_color*getParam();\n    }  \n","97699isTVoc","91684mHCmZH","514XRmFkR","1095199yKtEoM","640Fsxvbx","418098EoGUzg"],bN=TN;!function(t,e){const r=TN;for(;;)try{if(311049===parseInt(r(257))*-parseInt(r(255))-parseInt(r(266))+parseInt(r(262))*-parseInt(r(254))-parseInt(r(261))+parseInt(r(260))+-parseInt(r(258))+parseInt(r(256)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(vN);const wN={};function TN(t,e){return vN[t-=254]}wN[bN(263)]=bN(265),wN[bN(264)]=bN(259);const EN=["a_positionH","_initToRender","blendFunc","BLEND","_configGL","a_color","vsShader","_posSize","4nrfOgH","_createBuffers","color","useProgram","enable","a_size","44825suvwoN","795722yrlqEu","384530ukIrdg","377793UNUPQy","a_count","draw","260131mptChl","vertexAttribPointer","positions","createVertexArray","a_positionL","bindBuffer","_program","SRC_ALPHA","positionBuffer","39koELCa","enableVertexAttribArray","vertexAttrib1f","fsShader","ARRAY_BUFFER","_buffers","destroy","_drawTadpole","setPrivateUniforms","2pARRPe","1426416QhZwJc","vertexAttrib2fv","getAttributeLocations","_vao","drawArrays","54667kKRFiF","count","bindVertexArray","_upBuffer","_disableBlend","offsetOther","FLOAT","_deleteGPUProperties"],CN=AN;function AN(t,e){return EN[t-=129]}!function(t,e){const r=AN;for(;;)try{if(903161===parseInt(r(151))*parseInt(r(166))+-parseInt(r(175))*-parseInt(r(153))-parseInt(r(129))+-parseInt(r(145))*-parseInt(r(157))-parseInt(r(176))-parseInt(r(152))-parseInt(r(154)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(EN);class MN extends rR{constructor(t,e,r){const i=AN;super(),this.gl=t,this[i(144)]=e,this[i(133)]=r,this[i(132)]=!1,this._initToRender(),this[i(141)]()}[CN(138)](){const t=CN;this._program=new xN(this.gl,wN[t(143)],wN[t(169)]),this._vao=this.gl[t(160)](),this[t(171)]=this._createBuffers()}_configGL(){const t=CN;this[t(133)]?this.gl.disable(this.gl.BLEND):(this.gl[t(149)](this.gl[t(140)]),this.gl[t(139)](this.gl[t(164)],this.gl.ONE))}[CN(156)](t,e){const r=CN,i=this[r(163)][r(178)]();this._program[r(148)](),this[r(163)][r(174)](t),this.gl.vertexAttrib4fv(i[r(142)],t[r(147)]),this.gl[r(177)](i[r(150)],t.size),this.gl[r(168)](i[r(155)],e[r(130)]),this[r(173)](e)}[CN(173)](t){const e=CN;if(!this[e(132)]||0===t.count)return;this.gl[e(131)](this[e(179)]);const r=this[e(163)][e(178)](),i=this[e(144)],n=t.offsetPos;t[e(134)],this.gl[e(162)](this.gl.ARRAY_BUFFER,this._buffers[e(165)]),this.gl[e(158)](r[e(137)],3,this.gl.FLOAT,!1,4*i,4*i*n),this.gl[e(158)](r[e(161)],3,this.gl[e(135)],!1,4*i,4*(i-3)+4*i*n),this.gl[e(180)](this.gl.POINTS,0,t[e(130)]),this.gl[e(131)](null)}_addChangeBufferD(t,e=!1){const r=CN;this.gl[r(131)](this[r(179)]);const i=this[r(171)];this._addVerBuffer(i.positionBuffer,new Float32Array(t[r(159)]),!1),this.gl[r(131)](null),this[r(132)]=!0}[CN(146)](){const t=CN,e=this[t(163)].getAttributeLocations();let r=this._posSize,i={};return this.gl.bindVertexArray(this[t(179)]),i[t(165)]=this.gl.createBuffer(),this.gl.bindBuffer(this.gl[t(170)],i.positionBuffer),this.gl[t(158)](e[t(137)],3,this.gl.FLOAT,!1,4*r,0),this.gl.enableVertexAttribArray(e.a_positionH),this.gl[t(158)](e[t(161)],3,this.gl[t(135)],!1,4*r,4*(r-3)),this.gl[t(167)](e.a_positionL),this.gl[t(131)](null),this._upBuffer=!1,i}[CN(172)](){this[CN(136)](),this._destroyRenderProperties()}}const SN=["values","size","_renderable","offsets","isRTE","302702bcjHSs","get","_frameCount","positions","start","_srid","tadpoleNums","splice","_addChangeBufferD","106898IfFIoe","_gl","_iteration","_id","58657BRsrKx","1NjFXpW","306502aKybNf","index","_upBuffer","push","_color","activeArray","_isRTE","_draw","522279vwtpJM","indexOf","_isActive","_posSize","_render","315IiSNNG","addMathCell","indexMaps","_initRenderOpts","isChange","has","loop","_pointCount","slice","607KvfvbU","_initDrawData","_tick","set","updateDrawData","_assemble","1XEavtF","reduce","length","_objMap","_minSize","colors","sizes","_upFlag","_mapUnit","color","_loop","_drawData","min","numArray","update","_isStart","draw","_maxSize","returnPoint","446jnkYlj","187QrIsKh","idArray"],PN=RN;function RN(t,e){return SN[t-=179]}!function(t,e){const r=RN;for(;;)try{if(175369===parseInt(r(232))+parseInt(r(231))*-parseInt(r(230))+-parseInt(r(226))+-parseInt(r(210))*-parseInt(r(184))+-parseInt(r(209))*-parseInt(r(245))+-parseInt(r(190))*-parseInt(r(217))+-parseInt(r(240)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(SN);class LN extends _M{constructor(t){const e=RN;super(t),t=t||{},this[e(200)]=!0===t[e(181)]&&t[e(181)],this[e(185)](),this[e(205)]=!0}_initRenderOpts(t,e){const r=RN;super[r(248)](t,e),this._posSize=e[r(216)]?6:3,this[r(238)]=!0===e.isRTE&&e[r(216)],this._render=new MN(this[r(227)],this._posSize),this[r(214)]=!0}[PN(246)](t){const e=PN;if(!(t instanceof qS))throw"MathCell and MathModel must match up!";this[e(193)][e(187)](t[e(229)],t)}[PN(221)](){this._isStart=!0}pause(){this[PN(205)]=!1}[PN(188)](t){const e=PN;if(t)if(this[e(193)][e(218)](t)){const r=this[e(193)][e(218)](t);let i=this[e(201)][e(211)][e(241)](t);-1===i?(this[e(189)](r),this[e(197)][e(233)]=i,this[e(197)][e(179)]=!0,this[e(197)][e(204)]="A"):(this[e(201)][e(195)][e(224)](i,1,r[e(236)]),this._drawData[e(196)].splice(i,1,[r._maxSize,r[e(194)]]),this[e(201)][e(237)][e(224)](i,1,!0),this[e(201)][e(215)][e(224)](i,1,-r._frameCount*r._pointCount),this[e(197)][e(233)]=i,this[e(197)][e(179)]=!0,this[e(197)].update="R")}else{let r=this[e(201)][e(211)][e(241)](t);if(-1!==r){this[e(201)][e(211)].splice(r,1),this._drawData.tadpoleNums[e(224)](r,1),this._drawData[e(247)][e(224)](r,1),this._drawData[e(195)][e(224)](r,1),this[e(201)][e(196)][e(224)](r,1),this[e(201)].activeArray[e(224)](r,1),this._drawData[e(215)][e(224)](r,1);let t=this[e(201)][e(203)][e(183)](0,r);t=0===t[e(192)]?0:t[e(191)](((t,e)=>t+e)),this[e(201)][e(220)].splice(t*this[e(243)],this[e(201)][e(203)][r]*this[e(243)]),this._drawData.numArray.splice(r,1),this._upFlag[e(233)]=r,this[e(197)].isChange=!0,this[e(197)][e(204)]="D"}}else{this[e(185)]();for(let t of this[e(193)][e(212)]())this._assemble(t);this._upFlag[e(233)]=null,this._upFlag[e(179)]=!0,this[e(197)].update="O"}}[PN(239)](t){const e=PN;0!==this[e(201)][e(211)][e(192)]&&(!this[e(244)][e(234)]||this._upFlag[e(179)]&&"R"!==this[e(197)].update)&&(this[e(244)][e(225)](this._drawData),this[e(197)][e(179)]=!1)}[PN(186)](t){const e=PN;this[e(201)][e(211)].length<=0||!1===this._render[e(234)]||this._iteration(t)}[PN(228)](t){const e=PN;let r=0,i=0;const n=this[e(193)].size;for(let s=0;s<n;s++){const n=this[e(201)][e(195)][s],o=this[e(201)][e(196)][s],a=this[e(201)][e(203)][s],h=this[e(201)][e(223)][s],l=this._drawData[e(247)][s],c=this[e(201)][e(211)][s];if(!this[e(201)][e(237)][s]){r+=a,i+=h;continue}let u=this[e(201)][e(215)][s];const p=r+(u<h?0:u-h),f=i;let g=0;if(g=u<h?Math[e(202)](u,a):Math[e(202)](h+a-u,h),g>0){const r={offsetPos:p,offsetOther:f,count:g};t[e(199)]=n,t[e(213)]=o,this[e(244)][e(206)](t,r)}const d=u+h;l[e(180)](d)&&this._objMap[e(218)](c)[e(208)](l.get(d)),r+=a,i+=h,this[e(205)]&&this[e(201)][e(215)][s]++,this[e(201)][e(215)][s]>a+h&&(this[e(200)]?this[e(201)][e(215)][s]=0:this[e(201)].activeArray[s]=!1)}}[PN(189)](t){const e=PN,r=t._insertCoords(this._isRTE,this[e(198)],this[e(222)]);this[e(201)][e(211)][e(235)](t._id),this[e(201)][e(203)][e(235)](r.count),this[e(201)][e(223)][e(235)](t[e(219)]*t[e(182)]),this[e(201)][e(247)][e(235)](r.returnIndexMap),this[e(201)].positions[e(235)](...r.positions),this._drawData[e(195)][e(235)](t[e(236)]),this[e(201)][e(196)].push([t[e(207)],t._minSize]),this[e(201)][e(237)][e(235)](t[e(242)]),this[e(201)].offsets.push(-t[e(219)]*t._pointCount)}[PN(185)](){this[PN(201)]={idArray:[],numArray:[],tadpoleNums:[],indexMaps:[],positions:[],colors:[],sizes:[],activeArray:[],offsets:[]}}}const FN=["u_ifRTE","1122780IWOgAd","571719lAjLYe","u_res","setPrivateUniforms","1289399iLAkWa","u_cameraL","u_placeSpace","u_lineColor","uniform3fv","1103505annNmn","chy","u_unit","u_placeLength","25rQpwSw","u_uvOffset","getElements","u_showTexture","uniforms","693804mzmFXQ","u_useAlpha","uniform1f","u_mvMatrix","977542jFUTnB","36430ZzVsVB","uniformMatrix4fv","u_projMatrix","chx","u_cameraH","u_showLine","clx","uniform1i"],DN=ON;function ON(t,e){return FN[t-=482]}!function(t,e){const r=ON;for(;;)try{if(829321===parseInt(r(504))+parseInt(r(507))+parseInt(r(493))+-parseInt(r(512))+-parseInt(r(489))+parseInt(r(494))*parseInt(r(484))+-parseInt(r(503)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(FN);class NN extends qc{constructor(t,e,r){super(t,e,r)}[DN(506)](t){const e=DN;this.gl[e(491)](this[e(488)][e(482)],t.u_unit),this.gl.uniform1i(this[e(488)].u_ifRTE,t[e(502)]);const r=t.u_camera;this.gl[e(511)](this[e(488)][e(498)],[r[e(497)],r[e(513)],r.chz]),this.gl.uniform3fv(this[e(488)][e(508)],[r[e(500)],r.cly,r.clz]),this.gl[e(495)](this[e(488)][e(492)],!1,t[e(492)][e(486)]()),this.gl.uniformMatrix4fv(this[e(488)][e(496)],!1,t[e(496)][e(486)]()),this.gl[e(491)](this.uniforms[e(505)],t[e(505)][0]),this.gl[e(491)](this.uniforms.u_resL,t[e(505)][1]),this.gl.uniform4fv(this.uniforms[e(510)],t[e(510)]),this.gl.uniform1f(this[e(488)].u_lineWidth,t.u_lineWidth),this.gl[e(501)](this[e(488)][e(499)],t[e(499)]),this.gl[e(501)](this[e(488)].u_useAlpha,t[e(490)]),this.gl[e(501)](this.uniforms[e(487)],t.u_showTexture),this.gl.uniform1f(this[e(488)][e(485)],t.u_uvOffset),this.gl[e(491)](this[e(488)][e(483)],t[e(483)]),this.gl.uniform1f(this[e(488)].u_placeSpace,t[e(509)])}}const BN=["702496RjBCua","298363cRityI","766892PRtLMQ","99551YVcLrZ","407611DmMCIr","#version 300 es\n    in vec3 a_positionH;\n    in vec3 a_positionL;\n    in vec3 a_previousH;\n    in vec3 a_previousL;\n    in vec3 a_nextH;\n    in vec3 a_nextL;\n    \n    in float a_side;\n    in vec2 a_uv;\n\n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_mvMatrix;\n    uniform mat4 u_projMatrix;\n    uniform bool u_ifRTE;\n    uniform float u_unit;\n    \n    uniform float u_res;\n    uniform float u_resL;\n    uniform float u_lineWidth;\n  \n    out vec2 v_uv;\n    \n    vec4 corrections(vec3 positionH, vec3 positionL){\n        vec3 highD=positionH-u_cameraH;\n        vec3 diff=positionL-u_cameraL;\n        vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n        return vec4(highD+lowD,1.0);\n    }\n    \n    void main() {\n         vec4 position=vec4(a_positionH,1.0);\n         vec4 previous=vec4(a_previousH,1.0);\n         vec4 next=vec4(a_nextH,1.0);\n         mat4 mvMatrix=u_mvMatrix; \n         float res=u_res;\n         if(u_ifRTE){\n            position=corrections(a_positionH, a_positionL);\n            previous=corrections(a_previousH, a_previousL);\n            next=corrections(a_nextH, a_nextL);\n            res=res+u_resL/10000000.0*(1.0-u_unit)+u_resL*u_unit;\n\n            mat4 mvR2Eye=u_mvMatrix;\n            mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n            mvMatrix=mvR2Eye;           \n         }\n         vec2 currentP = position.xy;\n         vec2 prevP = previous.xy;\n         vec2 nextP = next.xy;\n         float width = res * u_lineWidth/2.0;\n         \n         float scale = 1.0; vec2 dir;\n         if( nextP == currentP ) dir = normalize( currentP - prevP );\n         else if( prevP == currentP ) dir = normalize( nextP - currentP );\n         else {\n             vec2 dir1 = normalize( currentP - prevP );\n             vec2 dir2 = normalize( nextP - currentP );\n             dir = normalize( dir1 + dir2 );\n             float cc = abs(atan(-dir.x/dir.y) - atan(dir1.y/dir1.x));\n\t\t\t scale = 1.0/sin(cc);\n         }\n         vec2 normal = vec2( -dir.y, dir.x);\n         vec4 offset = vec4( normal * (width*scale) * a_side, 0.0, 1.0 );\n         position.xy += offset.xy;\n         gl_Position = u_projMatrix * mvMatrix * position;\n         v_uv = vec2(a_uv.x/res,a_uv.y);\n    }\n","vsShader","1PeJgqD","fsShader","1109414IgOKbB","545459vvowWC","13pPqLxb","1FpLZGk","1QlInCs","3scwnXn"],UN=kN;function kN(t,e){return BN[t-=289]}!function(t,e){const r=kN;for(;;)try{if(636888===parseInt(r(297))*parseInt(r(303))+parseInt(r(300))*parseInt(r(298))+parseInt(r(296))*-parseInt(r(294))+-parseInt(r(293))*-parseInt(r(291))+parseInt(r(301))+-parseInt(r(299))+parseInt(r(295))*-parseInt(r(302)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(BN);const VN={};VN[UN(290)]=UN(289),VN[UN(292)]="#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    uniform bool u_showLine;\n    uniform bool u_useAlpha;            //n    uniform bool u_showTexture;\n    uniform vec4 u_lineColor;\n    uniform float u_uvOffset;\n    uniform float u_placeLength;\n    uniform float u_placeSpace;\n    \n    uniform sampler2D u_pattern;        //\n     \n    in vec2 v_uv;\n    out vec4 outColor;\n\n    void main() {\n        vec4 color = u_lineColor;\n        vec2 outUv = v_uv;\n        outUv.x = fract(outUv.x/(u_placeLength + u_placeSpace) - u_uvOffset)*(u_placeLength + u_placeSpace)/u_placeLength;\n        vec4 textureColor = texture( u_pattern, outUv);\n        if(u_showLine){\n            if(u_useAlpha){\n                color.a *= textureColor.a;\n                outColor = color;\n            }else{\n                if(u_showTexture) {\n                    outColor = color*(1.0-textureColor.a) + textureColor*textureColor.a;\n                } else {\n                    outColor = color;\n                }\n            }\n        }else{\n            outColor = textureColor;\n        }\n    }\n";const GN=["next","939553tmySwp","onload","ARRAY_BUFFER","crossOrigin","vertexAttribPointer","a_positionL","_drawTrail","bindBuffer","ELEMENT_ARRAY_BUFFER","_posSize","indexBuffer","addGLTexture","_deleteGPUProperties","_buffers","destroy","createBuffer","texture","positions","enableVertexAttribArray","nextBuffer","TEXTURE0","a_nextH","a_previousL","setPrivateUniforms","uvs","a_positionH","bindVertexArray","_program","25209onZfsH","then","previous","97LxerGX","deleteTexture","positionBuffer","_vao","560107mUsSNS","a_uv","STATIC_DRAW","a_nextL","UNSIGNED_SHORT","TEXTURE_2D","previousBuffer","indices","FLOAT","symbolSrc","_createBuffer","_initToRender","219807KkQUKT","1ZrNGqc","addSymbolToTexture","activeTexture","_addVerBuffer","8729wISGUf","bindTexture","_upBuffer","draw","sideBuffer","51GTpLnK","810970YkEgqz","promises","TRIANGLES","a_previousH","59tTXIoy","5249TzDjTV","uvsBuffer","a_side","side","useProgram","1BHmDPg"],zN=HN;function HN(t,e){return GN[t-=500]}!function(t,e){const r=HN;for(;;)try{if(772026===parseInt(r(527))*-parseInt(r(559))+parseInt(r(558))*parseInt(r(524))+parseInt(r(566))+-parseInt(r(548))*-parseInt(r(553))+-parseInt(r(544))*parseInt(r(531))+-parseInt(r(543))+parseInt(r(564))*-parseInt(r(554)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(GN);class jN extends rR{constructor(t,e){const r=HN;super(),this.gl=t,this._vpMatrix=null,this[r(505)]=e,this[r(542)](),this[r(512)]={},this[r(555)]={},this._upBuffer=!1}[zN(542)](){const t=zN;this[t(523)]=new NN(this.gl,VN.vsShader,VN.fsShader),this._vao=this.gl.createVertexArray(),this[t(509)]=this[t(541)]()}[zN(545)](t){const e=zN,r=this;if(!this.promises[t]){let e=new Promise((function(e){const i=HN;let n=new Image;n[i(569)]="anonymous",n.src=t,n[i(567)]=function(){const t=i;let s=r[t(523)][t(507)](n,0).texture;e(s)}}));this.promises[t]=e}this[e(555)][t][e(525)]((function(i){const n=e;!r[n(512)][t]&&(r[n(512)][t]=i)}))}[zN(541)](){const t=zN,e=this.gl;e.bindVertexArray(this[t(530)]);let r={},i=this[t(523)].getAttributeLocations(),n=this._posSize;return r[t(537)]=e[t(511)](),e[t(503)](e.ARRAY_BUFFER,r.previousBuffer),e[t(500)](i[t(557)],3,e[t(539)],!1,4*n,0),e.enableVertexAttribArray(i[t(557)]),e[t(500)](i[t(518)],3,e[t(539)],!1,4*n,4*(n-3)),e[t(514)](i[t(518)]),r[t(529)]=e[t(511)](),e[t(503)](e[t(568)],r[t(529)]),e[t(500)](i[t(521)],3,e.FLOAT,!1,4*n,0),e.enableVertexAttribArray(i[t(521)]),e[t(500)](i[t(501)],3,e[t(539)],!1,4*n,4*(n-3)),e[t(514)](i[t(501)]),r[t(515)]=e[t(511)](),e.bindBuffer(e[t(568)],r.nextBuffer),e[t(500)](i[t(517)],3,e[t(539)],!1,4*n,0),e[t(514)](i[t(517)]),e.vertexAttribPointer(i[t(534)],3,e[t(539)],!1,4*n,4*(n-3)),e[t(514)](i[t(534)]),r[t(552)]=e[t(511)](),e[t(503)](e.ARRAY_BUFFER,r[t(552)]),e[t(500)](i.a_side,1,e.FLOAT,!1,0,0),e[t(514)](i[t(561)]),r.uvsBuffer=e[t(511)](),e[t(503)](e.ARRAY_BUFFER,r[t(560)]),e[t(500)](i.a_uv,2,e[t(539)],!1,0,0),e[t(514)](i[t(532)]),r[t(506)]=e[t(511)](),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r[t(506)]),this[t(550)]=!1,r}[zN(551)](t,e){const r=zN;this[r(523)][r(563)](),this[r(523)][r(519)](e),this[r(502)](t)}[zN(502)](t){const e=zN;let r=this.gl,i=t[e(540)],n=this[e(512)][i];r.bindVertexArray(this[e(530)]),this[e(547)](this[e(509)][e(529)],new Float32Array(t[e(513)]),!1),this[e(547)](this._buffers[e(537)],new Float32Array(t[e(526)]),!1),this[e(547)](this[e(509)][e(515)],new Float32Array(t[e(565)]),!1),this[e(547)](this[e(509)][e(552)],new Float32Array(t[e(562)]),!1),this[e(547)](this[e(509)][e(560)],new Float32Array(t[e(520)]),!1),r.bindBuffer(r[e(504)],this[e(509)].indexBuffer),r.bufferData(r[e(504)],new Uint16Array(t[e(538)]),r[e(533)]),r[e(546)](r[e(516)]+0),r[e(549)](r[e(536)],n);const s=t[e(538)].length;r.drawElements(r[e(556)],s,r[e(535)],0),r[e(522)](null)}[zN(510)](){const t=zN;this[t(508)]();for(let[e,r]of Object.entries(this[t(512)]))this.gl[t(528)](r);this._destroyRenderProperties()}}const YN=["getAllMathCells","isDrawingTrail","showLine","promises","set","lineLength","previous","values","u_lineWidth","indices","DEPTH_TEST","next","_render","_renderable","_iteration","redraw","_iteration_bak","u_lineColor","getOrdinate","isAnimate","_map","speed","_geoLayer","_initRenderOpts","_isChange","_initDrawData","SRC_ALPHA","isRTE","getCrs","enable","colorArr","getResolution","all","useAlpha","BLEND","ONE_MINUS_SRC_ALPHA","5zPHFeg","141635CUfKOR","length","u_showTexture","uvOffset","_gl","_pedingSymbol","processData","repeat","253444mOpvnM","getMeterPerDegree","then","_id","u_useAlpha","push","coordSeq","_updateLineLength","placeLength","_renderChange","61GGnxCS","crsSrid","getUnit","getMap","uvs","131HRgsIk","blendFunc","8933yjAGEr","1322346KnwgOf","2eBCkgB","disable","_isRTE","_mapUnit","8318LwYpTD","symbolSrc","parameter must be instance of Trail!","positions","dataMap","_objMap","side","getCenter","addSymbolToTexture","u_uvOffset","u_placeLength","updateDrawData","_drawData","_tick","muLineLength","draw","placeSpace","817002WQhJJy","get","u_placeSpace","fromCoordSeq","46279EBlrha","getSrid","addMathCell"],$N=XN;function XN(t,e){return YN[t-=120]}!function(t,e){const r=XN;for(;;)try{if(820769===parseInt(r(175))+parseInt(r(192))*-parseInt(r(185))+parseInt(r(193))+-parseInt(r(127))+parseInt(r(194))*parseInt(r(123))+-parseInt(r(198))*parseInt(r(190))+-parseInt(r(166))*parseInt(r(167)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(YN);class WN extends _M{constructor(t){const e=XN;super(t),this._pedingSymbol={},this[e(154)]=!1,this[e(184)]=!1}[$N(153)](t,e){const r=$N;super[r(153)](t,e);const i=e[r(157)]?6:3;this[r(196)]=!0===e[r(157)],this[r(142)]=new jN(this[r(171)],i),this[r(143)]=!0}[$N(129)](t){const e=$N;if(!(t instanceof eP))throw TypeError(e(200));if(!this._objMap.get(t._id)){this[e(203)][e(134)](t._id,t);let r=t.symbolSrc;this._render[e(206)](r),this[e(154)]=!0}}[$N(209)](){const t=$N;if(!this[t(154)])return;const e=this[t(130)]();this._initDrawData();for(let r=0,i=e[t(168)];r<i;r++){let i=e[r];!i.dataReady&&i[t(173)](this[t(196)],this[t(197)]),this[t(210)].ids[t(180)](i[t(178)])}this[t(154)]=!1,this[t(184)]=!0}_draw(t){this._drawData&&this._tick(t)}[$N(211)](t={}){const e=$N;this[e(210)]&&this[e(144)](t)}[$N(144)](t={}){const e=$N,r=this[e(171)];r[e(159)](r[e(164)]),r[e(191)](r[e(156)],r.ONE_MINUS_SRC_ALPHA),r[e(195)](r[e(140)]),this[e(172)]={};const i=this[e(210)].ids;for(let r=0,n=i.length;r<n;r++){const n=this[e(203)][e(124)](i[r]);if(!n)continue;!n[e(174)]&&(this._updateLineLength(n),n[e(122)]=n[e(120)]/this.getGeoLayer()[e(188)]()[e(161)]()),t.u_uvOffset=n[e(170)],t[e(138)]=n.lineWidth,t[e(208)]=n.placeLength,t[e(125)]=n[e(122)],t.u_showLine=n[e(132)],t[e(147)]=n[e(160)],t.u_useAlpha=n[e(163)],t[e(169)]=!0;let s=n[e(202)];const o=s[e(201)],a=s[e(136)],h=s[e(141)],l=s[e(204)],c=s[e(189)],u=s[e(139)],p=s[e(199)],f={positions:o,previous:a,next:h,side:l,uvs:c,indices:u,symbolSrc:p,trailId:i[r]};let g=this[e(142)].texture[p],d=this[e(142)][e(133)][p];if(g){if(n[e(149)])if(n[e(170)]+=n[e(174)]?.01*n[e(151)]:n[e(151)]/n[e(135)],n[e(174)]||n.loop)n[e(170)]>1&&(n[e(170)]=n[e(170)]-1);else if(n[e(170)]>1-n[e(183)]/n[e(122)]){if(!n[e(132)]||n[e(163)])continue;t[e(169)]=!1}this._render.draw(f,t)}else!this._pedingSymbol[p]&&(this._pedingSymbol[p]=d)}let n=Object[e(137)](this[e(172)]);0!=n.length&&Promise[e(162)](n)[e(177)]((()=>{const t=e;this[t(152)]&&this._geoLayer._map&&this[t(152)][t(150)][t(145)]()}))}[$N(182)](e){const r=$N;if(e[r(174)])return;const i=this.getGeoLayer()[r(188)]()[r(158)]();if(e[r(186)]==i[r(128)]())return;e[r(186)]=i.getSrid();const n=t.Line[r(126)](e[r(181)]);if(e[r(135)]=n.getLength(e[r(186)]),"degrees"==i[r(187)]()){const t=n.getExtent()[r(205)]()[r(148)]("Y");e[r(120)]=e.lineLength/i[r(176)](t)}else e[r(120)]=e[r(135)]}[$N(146)](t={}){const e=$N;if(this.isDrawingTrail)return;const r=this[e(171)];this[e(131)]=!0;const i=this[e(210)].ids;let n=Object.values(this[e(142)][e(133)]);Promise[e(162)](n)[e(177)]((()=>{const n=e;r[n(159)](r[n(164)]),r[n(191)](r[n(156)],r[n(165)]),r[n(195)](r[n(140)]);for(let e=0;e<i[n(168)];e++){const r=this._objMap[n(124)](i[e]);if(!r)continue;t[n(207)]=r[n(170)],t[n(138)]=r.lineWidth,t[n(208)]=r[n(183)],t.u_placeSpace=r.placeSpace,t.u_showLine=r.showLine,t[n(147)]=r[n(160)],t[n(179)]=r[n(163)];let s=r.dataMap;const o={positions:s[n(201)],previous:s[n(136)],next:s[n(141)],side:s[n(204)],uvs:s[n(189)],indices:s.indices,symbolSrc:s[n(199)],trailId:i[e]};this._render[n(121)](o,t),r.isAnimate&&(r.uvOffset+=.01*r[n(151)],r[n(170)]>1&&(r[n(170)]=r[n(170)]-1))}this[n(131)]=!1}))}[$N(155)](){this[$N(210)]={indices:[],indicesCount:[],offset:[],positions:[],previous:[],next:[],side:[],uvs:[],symbolSrc:[],ids:[]}}}const ZN=["3dohliJ","319193nflmGV","443743AOFFqI","34fLtWib","5Njgwng","fsShader","88062egJMYD","#version 300 es\nin vec3  a_position;\nin float a_radius;\nin vec3  a_scale;\nin vec4  a_color;\nin vec3  a_orien;//\nin vec3  a_location;\n\nuniform mat4 u_projMatrix;\nuniform mat4 u_viewRMatrix;\nuniform vec3 u_camera;\nout vec4 v_color;\n\n//,\nvec4 calcRotate(vec3 orien){\n    float angle=0.0;\n    vec3 normal=vec3(1,0,0);//\n    angle=acos(dot(normal,normalize(orien)));\n    vec3 rotateAxis=cross(normal,normalize(orien));\n    return vec4(rotateAxis,angle);\n}\n//nmat3 calcRotateM(vec4 rotate){\n    float c=cos(rotate.w);\n    float s=sin(rotate.w);\n    float x=rotate.x;\n    float y=rotate.y;\n    float z=rotate.z;\n    \n    vec3 l1=vec3(c+(1.-c)*x*x,(1.-c)*x*y+s*z,(1.-c)*x*z-s*y);\n    vec3 l2=vec3((1.-c)*x*y-s*z,c+(1.-c)*y*y,(1.-c)*y*z+s*x);\n    vec3 l3=vec3((1.-c)*x*z+s*y,(1.-c)*y*z-s*x,c+(1.-c)*z*z);\n    return mat3(l1,l2,l3);\n}\n//\nconst float Length=length(vec3(0.5,0.5,1.0));\nvoid main(){\n    //n    vec3 position=a_position*vec3(a_scale.z,a_scale.x,a_scale.y)*a_radius/Length;//xn    //,n    vec4 rotate=calcRotate(a_orien);\n    mat3 rotateMatrix=calcRotateM(rotate);\n    \n    vec3 positionRT=rotateMatrix*position+a_location-u_camera;\n    gl_Position=u_projMatrix*u_viewRMatrix*vec4(positionRT,1.0);\n    v_color=a_color;\n    gl_PointSize=5.0;\n}","4341cVaDfo","132083bLOrXv","1GbPiLy","4JZUvRv","70762lIiplk","81398ljmaZW"],qN=JN;function JN(t,e){return ZN[t-=402]}!function(t,e){const r=JN;for(;;)try{if(263819===parseInt(r(411))+-parseInt(r(409))*-parseInt(r(404))+-parseInt(r(415))*parseInt(r(407))+parseInt(r(405))*parseInt(r(414))+parseInt(r(403))*parseInt(r(402))+-parseInt(r(406))+parseInt(r(408))*-parseInt(r(413)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ZN);const KN={};KN.vsShader=qN(412),KN[qN(410)]="#version 300 es\nprecision mediump float;\nin vec4 v_color;\nout vec4 outColor;\nvoid main(){\n    outColor=v_color;\n}\n";const QN=["u_viewRMatrix","u_cameraP","85847kSESym","599GgfepZ","5ucbYEA","getElements","setPrivateUniforms","u_projMatrix","1BdiBll","vsShader","2579ePGWEi","5615AOmMqt","428dEkKBx","23DglUWb","1153801RvfgGK","170546vAeBDI","uniform3fv","uniformMatrix4fv","6emrLHz","1MsWBgb","39ztQxbR","uniforms","430854YWkcrm"],tB=eB;function eB(t,e){return QN[t-=363]}!function(t,e){const r=eB;for(;;)try{if(702804===-parseInt(r(378))*parseInt(r(369))+-parseInt(r(382))*-parseInt(r(367))+-parseInt(r(384))*-parseInt(r(366))+-parseInt(r(374))*parseInt(r(372))+-parseInt(r(385))*parseInt(r(365))+parseInt(r(383))*-parseInt(r(381))+-parseInt(r(380))*-parseInt(r(373)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(QN);class rB extends qc{constructor(t){super(t,KN[eB(379)],KN.fsShader)}[tB(376)](t){const e=tB;this.gl[e(364)](this[e(368)].u_projMatrix,!1,t[e(377)][e(375)]()),this.gl[e(364)](this.uniforms[e(370)],!1,t[e(370)][e(375)]()),this.gl[e(363)](this.uniforms.u_camera,t[e(371)])}}const iB=["170034MtJtBV","drawElementsInstanced","vertexAttribDivisor","a_scale","1137839YqQsqZ","3673sLDOSE","TRIANGLES","index","_vao","_buffers","bindVertexArray","getAttributeLocations","idArray","_addStaticBufferD","a_radius","UNSIGNED_BYTE","eleArray","a_orien","ELEMENT_ARRAY_BUFFER","STATIC_DRAW","1gHnFLj","131009NPsFDl","_destroyRenderProperties","bindBuffer","draw","_addChangeBufferD","length","bufferData","createVertexArray","FLOAT","_createVerBuffer","posArray","destroy","a_color","_upBuffer","_program","_initToRender","a_colorSide","_createCone","9262ibnFOZ","ARRAY_BUFFER","a_position","_deleteGPUProperties","_addVerBuffer","_vpMatrix","1GCnwli","_createBuffers","LINE_STRIP","255135yhfguY","24MYHLkX","393586sIeIKo","a_location"],nB=sB;function sB(t,e){return iB[t-=195]}!function(t,e){const r=sB;for(;;)try{if(352679===-parseInt(r(213))-parseInt(r(211))+parseInt(r(233))*-parseInt(r(209))-parseInt(r(200))+parseInt(r(206))*parseInt(r(234))+-parseInt(r(210))*parseInt(r(218))+parseInt(r(217)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(iB);class oB extends rR{constructor(t){const e=sB;super(),this.gl=t,this[e(205)]=null,this._initToRender()}[nB(197)](){const t=nB;this[t(196)]=new rB(this.gl),this._vao=this.gl[t(241)](),this[t(222)]=this[t(207)](),this._addStaticBufferD()}[nB(237)](t,e,r){const i=nB;switch(this.gl[i(223)](this._vao),this[i(196)].useProgram(),this[i(196)].setPrivateUniforms(e),r){case"0":this[i(204)](this[i(222)][i(246)],new Float32Array(t[i(246)]),!1),this.gl[i(214)](this.gl[i(219)],12,this.gl[i(228)],0,t[i(225)][i(239)]),this[i(204)](this[i(222)].a_color,new Float32Array(t[i(198)]),!1),this.gl[i(214)](this.gl[i(208)],12,this.gl.UNSIGNED_BYTE,0,t[i(225)][i(239)]);break;case"1":this._addVerBuffer(this[i(222)].a_color,new Float32Array(t[i(198)]),!1),this.gl.drawElementsInstanced(this.gl.LINE_STRIP,12,this.gl[i(228)],0,t.idArray[i(239)]);break;case"2":this[i(204)](this[i(222)][i(246)],new Float32Array(t[i(246)]),!1),this.gl[i(214)](this.gl[i(219)],12,this.gl.UNSIGNED_BYTE,0,t[i(225)].length);break;default:this[i(204)](this[i(222)][i(246)],new Float32Array(t[i(198)]),!1),this.gl.drawElementsInstanced(this.gl.LINE_STRIP,12,this.gl[i(228)],0,t.idArray[i(239)])}this.gl[i(223)](null)}[nB(226)](){const t=nB;let e=oB[t(199)]();this.gl[t(223)](this[t(221)]),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this[t(222)][t(202)]),this.gl[t(240)](this.gl[t(201)],new Float32Array(e[t(244)]),this.gl.STATIC_DRAW),this.gl[t(236)](this.gl[t(231)],this[t(222)][t(220)]),this.gl[t(240)](this.gl[t(231)],new Uint8Array(e[t(229)]),this.gl[t(232)]),this.gl[t(223)](null)}[nB(238)](t){const e=nB;this.gl.bindVertexArray(this[e(221)]),this[e(204)](this._buffers[e(246)],new Float32Array(t[e(246)]),!1),this[e(204)](this[e(222)][e(227)],new Float32Array(t[e(227)]),!1),this._addVerBuffer(this[e(222)].a_scale,new Float32Array(t.a_scale),!1),this[e(204)](this[e(222)].a_orien,new Float32Array(t[e(230)]),!1),this[e(204)](this._buffers[e(212)],new Float32Array(t.a_location),!1),this.gl[e(223)](null),this[e(195)]=!0}[nB(207)](){const t=nB;let e=this.gl;const r=this._program[t(224)]();e.bindVertexArray(this[t(221)]);let i={};return i[t(202)]=this._createVerBuffer(r[t(202)],t(242),3),i[t(246)]=this[t(243)](r[t(246)],t(242),4),e.vertexAttribDivisor(r.a_color,1),i[t(227)]=this[t(243)](r[t(227)],t(242),1),e[t(215)](r[t(227)],1),i[t(230)]=this[t(243)](r[t(230)],t(242),3),e[t(215)](r.a_orien,1),i[t(216)]=this[t(243)](r[t(216)],"FLOAT",3),e[t(215)](r[t(216)],1),i[t(212)]=this[t(243)](r[t(212)],t(242),3),e[t(215)](r.a_location,1),i[t(220)]=e.createBuffer(),e.bindBuffer(e[t(201)],null),e.bindVertexArray(null),this._upBuffer=!1,i}[nB(245)](){const t=nB;this[t(203)](),this[t(235)]()}static[nB(199)](){const t=nB;let e={};return e[t(244)]=[0,0,0,1,.5,-.5,1,-.5,-.5,1,-.5,.5,1,.5,.5],e[t(229)]=[0,2,1,0,3,2,0,4,3,0,1,4],e}}const aB=["updateDrawData","_initDrawData","_id","CULL_FACE","a_radius","push","_gl","_colorArrayNormalS","1xzjGbt","set","a_scale","_mode","getRadius","depthFunc","_sidesNormal","get","a_color","draw","indexOf","a_location","splice","disable","sideV","_assemble","_upBuffer","314368oXuxjy","394944cPYxnE","58KUclUJ","_colorArrayNormal","addMathCell","608400NDvicn","4208kulkTW","isChange","LEQUAL","a_orien","_glStatus","getId","a_colorSide","_drawData","index","update","_tick","367699QCYUzG","_initRenderOpts","267801FsxkIN","_renderable","getOrien","_upFlag","_objMap","_getPositionArray","mode","_render","145212cKhhqa","idArray"],hB=lB;function lB(t,e){return aB[t-=251]}!function(t,e){const r=lB;for(;;)try{if(199802===-parseInt(r(262))*-parseInt(r(298))+-parseInt(r(281))*parseInt(r(285))-parseInt(r(296))-parseInt(r(279))+parseInt(r(280))+-parseInt(r(252))+parseInt(r(284)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(aB);class cB extends _M{constructor(t){const e=lB;super(t),t=t||{},this[e(265)]=t[e(304)]?t[e(304)]:"0",this[e(255)](),this[e(301)]={index:null,isChange:!1,update:null},this[e(289)]={CULL_FACE:!1,depthFunc:e(287)}}setMode(t){this[lB(265)]=t}[hB(297)](t,e){const r=hB;super[r(297)](t,e),this[r(251)]=new oB(this[r(260)]),this[r(299)]=!0}[hB(283)](t){const e=hB;if(!(t instanceof sP))throw"MathCell and MathModel must match up!";this._objMap[e(263)](t[e(256)],t)}[hB(254)](t){const e=hB;if(t)if(this[e(302)][e(269)](t)){const r=this[e(302)][e(269)](t);let i=this[e(292)][e(253)][e(272)](t);-1===i?(this._assemble(r),this._upFlag[e(293)]=i,this[e(301)][e(286)]=!0,this[e(301)].update="A"):(this[e(292)][e(288)][e(274)](3*i,3,...r[e(300)]()),this[e(292)][e(258)][e(274)](i,1,r[e(266)]()),this[e(292)][e(270)][e(274)](4*i,4,...r[e(282)]),this[e(292)][e(264)][e(274)](3*i,3,r[e(268)].sideH,r._sidesNormal[e(276)],r[e(268)].h),this[e(292)][e(273)][e(274)](3*i,3,...r[e(303)]()),this._drawData[e(291)][e(274)](4*i,4,...r[e(261)]),this[e(301)][e(293)]=i,this[e(301)][e(286)]=!0,this._upFlag.update="R")}else{let r=this[e(292)][e(253)][e(272)](t);-1!==r&&(this._drawData[e(253)].splice(r,1),this[e(292)].a_orien[e(274)](3*r,3),this._drawData[e(258)].splice(r,1),this._drawData[e(270)][e(274)](4*r,4),this._drawData.a_scale[e(274)](3*r,3),this[e(292)][e(273)].splice(3*r,3),this[e(292)][e(291)][e(274)](4*r,4),this[e(301)][e(293)]=r,this[e(301)][e(286)]=!0,this[e(301)].update="D")}else{this[e(255)]();for(let t of this[e(302)].values())this[e(277)](t);this._upFlag[e(293)]=null,this[e(301)][e(286)]=!0,this._upFlag[e(294)]="O"}}_draw(t){const e=hB;this._drawData[e(253)].length<=0||(!this[e(251)][e(278)]||this[e(301)][e(286)])&&(this[e(251)]._addChangeBufferD(this[e(292)]),this._upFlag[e(286)]=!1)}[hB(295)](t){const e=hB;this[e(292)].idArray.length<=0||!1===this[e(251)][e(278)]||(this[e(260)][e(275)](this[e(260)][e(257)]),this[e(260)][e(267)](this[e(260)].LEQUAL),this[e(251)][e(271)](this[e(292)],t,this[e(265)]))}[hB(277)](t){const e=hB;this._drawData[e(253)][e(259)](t[e(290)]()),this._drawData.a_orien[e(259)](...t[e(300)]()),this._drawData[e(258)][e(259)](t[e(266)]()),this[e(292)][e(270)][e(259)](...t[e(282)]),this[e(292)][e(264)][e(259)](t._sidesNormal.sideH,t[e(268)][e(276)],t._sidesNormal.h),this[e(292)][e(273)][e(259)](...t._getPositionArray()),this[e(292)][e(291)][e(259)](...t[e(261)])}[hB(255)](){this._drawData={idArray:[],a_orien:[],a_radius:[],a_scale:[],a_color:[],a_location:[],a_colorSide:[]}}}const uB=["vsShader","\nin vec2 a_position;     //nin vec2 a_texCoord;\nout vec2 v_texCoord;\nout vec3 v_coord;\n\nuniform mat4x3 u_frustum;       //cameran\nvoid main(){\n    gl_Position=vec4(a_position,0.0,1.0);\n    v_texCoord=a_texCoord;\n    v_coord = u_frustum[gl_VertexID];\n }\n","fsShader","1251953MFbbEV","1421201Wwuojo","2873142tIrllq","524160fDPWFI","1oPRZYv","630591TPlPfI","1257781mZvdDp","969146JRiOpC","1oghpAw"],pB=fB;function fB(t,e){return uB[t-=319]}!function(t,e){const r=fB;for(;;)try{if(872188===-parseInt(r(328))+parseInt(r(320))+-parseInt(r(326))*-parseInt(r(321))+-parseInt(r(330))+-parseInt(r(325))*-parseInt(r(329))+parseInt(r(319))+-parseInt(r(327)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(uB);const gB={};gB[pB(322)]=pB(323),gB[pB(324)]="\nin vec2 v_texCoord;\nin vec3 v_coord;\nuniform sampler2D u_pattern;\nuniform sampler2D u_depth;\nuniform float u_farNear;\nuniform vec3 u_camera;\n\n//nvec3 worldSpaceViewDir(float depth){\n    float viewDepth=0.0;\n    viewDepth=1.0/(u_farNear+depth*(1.0-u_farNear));\n    vec3 worldViewDir=v_coord*viewDepth;\n    return worldViewDir;\n}\n\nuniform float u_scanParam;\n#UNIFORM_STRING#\nuniform sampler2D u_scanSampler;\nout vec4 outColor;\n\nvoid main(){\n    float depth = texture(u_depth, v_texCoord).r;\n    vec3 cameraPos = u_camera;\n    vec3 worldPos= worldSpaceViewDir(depth) + cameraPos;        //\n    vec4 originColor=texture(u_pattern, v_texCoord);\n    if(depth > 0.99999) {\n        outColor = originColor;\n    }else{\n        float scanParam = u_scanParam;\n        vec4 processColor = vec4(0.0);    \n        #REALIZE_STRING#\n        outColor = originColor*(1.0 - processColor.a) + processColor;\n    };\n}\n";const dB=["u_pattern","addColorAttachment","TEXTURE0","camera","uniform1i","uniform3fv","vsOpts","9mWsQHi","_map","ARRAY_BUFFER","bindTexture","u_farNear","set","a_texCoord","FLOAT","2jZxyhU","values","useProgram","3bXWMPL","_buildShader","toArray","delete","_processEffects","bufferData","fsShader","9iUxPkX","get","256273tYchoD","active","_checkChange","targetRender","200090ZZcSmq","_instance","attributes","setUp","colorAttachments","farNear","getFrustumRay","uniform1f","createBuffer","3761ytPsrs","1167641kmeYJo","frameBuffer","fragDefine","25527vzeZEV","_uniforms","combineShaderOptions","replace","20198KDmfVl","texBuffer","_initStaticBuffer","_mathModel","frustum","clear","getCoordinate","bindBuffer","createVertexArray","enableVertexAttribArray","u_camera","uniforms","texSize","getShaderOptions","bindFramebuffer","depthAttachment","a_position","_setUniforms","frameHelper","bindVertexArray","deactive","DEPTH_BUFFER_BIT","drawingBufferWidth","getInstance","render","activeTexture","375188RpztfN","fragUniform","push","_updateShader","getFPlaneDistance","uniformMatrix4x3fv","TRIANGLE_STRIP","drawArrays","defines","COLOR_BUFFER_BIT","length","#UNIFORM_STRING#","_attribs","setDepthAttachment","TEXTURE_2D","_program","_vao"],_B=yB;function yB(t,e){return dB[t-=438]}!function(t,e){const r=yB;for(;;)try{if(516675===parseInt(r(490))+parseInt(r(466))*parseInt(r(503))+-parseInt(r(442))+-parseInt(r(507))*parseInt(r(484))+-parseInt(r(499))*parseInt(r(477))+parseInt(r(474))*-parseInt(r(486))+parseInt(r(500)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(dB);class mB extends Kx{constructor(t,e=0,r={}){const i=yB;super(t,e,r),this[i(481)]=new Map,this._buildShader(),this[i(509)]()}[_B(478)](){const t=_B;let e=pm[t(520)](gB.vsShader,gB[t(483)]);const r=e[t(465)],i=e.fsOpts;for(let[e,r]of this[t(481)])""!=r[t(502)]&&i[t(450)][t(444)](r.fragDefine);const n=pm[t(505)](r,!1,!0);let s=pm[t(505)](i,!0,!0),o="",a="";for(let[e,r]of this[t(481)])o+=r[t(443)],a+=r.fragRealize;s=s[t(506)](t(453),o),s=s[t(506)]("#REALIZE_STRING#",a),this._program?this[t(457)].update(n,s):this[t(457)]=new qc(this.gl,n,s)}_updateShader(){const t=_B;if(0!=this[t(481)].values()[t(452)]){this._buildShader();const e=this[t(457)];this[t(454)]=e[t(492)],this._uniforms=e[t(518)]}else this[t(467)]&&(this[t(467)].frameHelper.removeFrame(this),this[t(467)]=null)}_addEffect(t,e){this[_B(481)].set(t,e)}_updateEffect(t,e){const r=_B;this[r(481)][r(471)](t,e)}_getEffect(t){const e=_B;return this[e(481)][e(485)](t)}_removeEffect(t){const e=_B;this._processEffects[e(480)](t)}[_B(493)](){const t=_B;this[t(460)](0,1),this[t(455)](0),super[t(493)]()}[_B(487)](){const t=_B,e=this.gl;e[t(521)](e.FRAMEBUFFER,this[t(501)]);let r=this.gl[t(438)],i=this.gl.drawingBufferHeight;return(this[t(519)][0]!=r||this[t(519)][1]!=i)&&this.resize(r,i),this}[_B(440)](){const t=_B;this[t(527)]();const e=this.gl,r=this[t(457)];e[t(512)](e[t(528)]|e[t(451)]),e[t(526)](this[t(458)]);const i=this[t(467)].getCamera(),n=i[t(513)](),s=i[t(446)]()/i.getNear();let o=i[t(496)](),a=new Float32Array(o);r[t(476)](),this[t(524)]({camera:n[t(479)](),frustum:a,farNear:s});for(let[e,i]of this._processEffects)i[t(489)]&&i.targetRender[t(524)](r);e.activeTexture(e[t(461)]+2),e[t(469)](e[t(456)],this[t(494)][0]),e[t(441)](e[t(461)]+1),e[t(469)](e[t(456)],this[t(522)]),e[t(449)](e[t(448)],0,4),e[t(469)](e[t(456)],null),e[t(526)](null),this[t(488)]()}[_B(488)](){const t=_B;if(this[t(481)]){let e=!1;for(let[r,i]of this[t(481)]){let n=i[t(489)]._mathModel&&i[t(489)][t(510)]._geoLayer;if(!n||!n._map){this._processEffects.delete(r),e=!0;break}}if(e){this[t(481)][t(475)]()[t(452)]?(this[t(445)](),this[t(467)]&&this._map.af[t(487)]()):this[t(467)]&&(this[t(467)][t(525)].removeFrame(this),this[t(467)]=null)}}}_setUniforms(t){const e=_B,r=this.gl,i=this[e(457)][e(518)],n=t[e(462)],s=t[e(511)],o=t[e(495)];r[e(447)](i.u_frustum,!1,s),r[e(464)](i[e(517)],n),r[e(463)](i[e(459)],2),r.uniform1i(i.u_depth,1),r[e(497)](i[e(470)],o)}[_B(509)](){const t=_B,e=this.gl,r=this._program;this._attribs=r[t(492)],this[t(504)]=r[t(518)],this._vao=e[t(515)]();let i={};e[t(526)](this._vao);const n=new Float32Array([0,1,0,0,1,1,1,0]),s=new Float32Array([-1,1,-1,-1,1,1,1,-1]);i[t(508)]=e[t(498)](),e[t(514)](e.ARRAY_BUFFER,i[t(508)]),e[t(482)](e[t(468)],n,e.STATIC_DRAW),e.vertexAttribPointer(this[t(454)][t(472)],2,e[t(473)],!1,0,0),e[t(516)](this._attribs[t(472)]),i.verBuffer=e[t(498)](),e.bindBuffer(e.ARRAY_BUFFER,i.verBuffer),e.vertexAttribPointer(this[t(454)][t(523)],2,e.FLOAT,!1,0,0),e[t(482)](e[t(468)],s,e.STATIC_DRAW),e[t(516)](this[t(454)].a_position),e.bindVertexArray(null),this._buffers=i}static[_B(439)](t,e){const r=_B;return!this[r(491)]&&(this[r(491)]=new mB(t,e)),this._instance}}const IB=["addFrame","uniform4fv","positionBaseFrame","1kGiNlK","getInstance","_updateFlood","_vpMatrix","_updateEffect","_setUniforms","destroy","1210110ONHlZg","_mathModel","_texture","FLOOD_NUM ","2389643THJhXM","762901QjbdiA","uniform1f","170434oLFBni","_id","3cXdLCo","currSize","floodInfos","frameHelper","453394uwjSMX","map","].floodHeight","getUniformLocation","_createBuffer","_map","1CDlIeH","program","_isDestroy","_floodColorArr","_activeFrame","1cSgQTp","drawingBufferWidth","getVisibility","_getEffect","u_floodInfo[","_updateShader","850739VqOwmw","911605YTavti","floodShow","drawingBufferHeight","length"],xB=vB;function vB(t,e){return IB[t-=353]}!function(t,e){const r=vB;for(;;)try{if(712250===-parseInt(r(375))*-parseInt(r(379))+parseInt(r(366))+-parseInt(r(373))+parseInt(r(359))*parseInt(r(371))+parseInt(r(396))+parseInt(r(385))*-parseInt(r(397))+-parseInt(r(390))*parseInt(r(370)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(IB);class bB extends rR{constructor(t,e){const r=vB;super(),this.gl=t,this._map=e[r(380)],this[r(367)]=null,this[r(362)]=null,this[r(368)]=void 0,this[r(376)]=[t[r(391)],t[r(354)]],this[r(389)]()}_activeFrame(){const t=vB;this[t(358)]=mB[t(360)](this.gl,0),!this[t(358)][t(384)]&&this[t(384)][t(378)][t(356)](this[t(358)])}_updateFlood(t=[]){const e=vB;let r=t[e(355)],i=r>0?e(369)+r:"";if(this.positionBaseFrame){let n=this[e(374)],s={fragDefine:i,fragUniform:"#ifdef FLOOD_NUM\n                    struct FloodInfo{\n                        vec4 floodColor;\n                        float floodHeight;\n                    };\n                    uniform FloodInfo u_floodInfo[FLOOD_NUM];\n                    uniform bool floodShow;\n                    #endif",fragRealize:" #ifdef FLOOD_NUM\n                            if(floodShow){\n                                for(int i=0;i<FLOOD_NUM;i++){\n                                    vec4 floodColor = u_floodInfo[i].floodColor;\n                                    float floodHeight = u_floodInfo[i].floodHeight;\n                                    if(worldPos.z < floodHeight){\n                                         processColor *= (1.0 - floodColor.a);\n                                         processColor += vec4(floodColor.rgb * floodColor.a, floodColor.a);\n                                    }\n                                }    \n                            }\n                            #endif",targetRender:this};this[e(377)]=t,this._map&&r>0?this[e(358)][e(363)](n,s):this[e(358)]._removeEffect(n),this[e(358)][e(395)]()}}_drawFlood(){const t=vB;let e=this[t(374)];!this[t(358)][t(393)](e)&&this[t(361)](this[t(377)])}[xB(364)](t){const e=xB;let r=t[e(386)],i=this.floodInfos;if(i&&0!=i[e(355)]){let t=this.gl[e(382)](r,e(353));this.gl.uniform1i(t,this[e(367)]&&this[e(367)][e(392)]());let n=i[e(355)];for(let t=0;t<n;t++){let n=i[t];if(n[e(387)])continue;let s=this.gl[e(382)](r,e(394)+t+"].floodColor"),o=this.gl[e(382)](r,e(394)+t+e(381));this.gl[e(357)](s,n[e(388)]),this.gl[e(372)](o,n._floodHeight)}}}_addStaticBufferD(){}_addChangeBufferD(){}[xB(383)](){}[xB(365)](){const t=xB;let e=this[t(374)];this.positionBaseFrame&&(this[t(358)]._removeEffect(e),this[t(358)][t(395)]())}}const wB=["2XdRgel","removeMathCellById","_mathModel","_tick","237002TPCDGi","_gl","get","528IdRHlI","set","_initRenderOpts","_render","841942pzkEyQ","1wkyEfl","getAllMathCells","568565kgKxQU","618979BSvDMf","12ZYGOvl","858643yqpUPf","addMathCell","405497OaQujb","_renderable","updateDrawData","_map","_objMap"],TB=EB;function EB(t,e){return wB[t-=360]}!function(t,e){const r=EB;for(;;)try{if(500541===parseInt(r(373))+-parseInt(r(376))+-parseInt(r(383))*-parseInt(r(378))+-parseInt(r(374))+parseInt(r(375))*-parseInt(r(366))+parseInt(r(363))*-parseInt(r(371))+parseInt(r(370)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(wB);class CB extends _M{constructor(t){super(t)}[TB(368)](t,e){const r=TB;super[r(368)](t,e),this[r(369)]=new bB(this[r(364)],{map:this[r(381)]}),this._render[r(361)]=this,this[r(379)]=!0}[TB(377)](t){const e=TB;let r=t._id;!this[e(382)][e(365)](r)&&this._objMap[e(367)](r,t)}[TB(360)](t){const e=TB;this._objMap[e(365)](t)&&this._objMap.delete(t)}[TB(380)](){const t=TB;let e=this[t(372)]();this[t(369)]&&this[t(369)]._updateFlood(e)}_draw(){this[TB(362)]()}[TB(362)](){this[TB(369)]._drawFlood()}}const AB=["vsShader","191096hBMKVa","1129159TXHebD","\nin vec2 a_position;     //nin vec2 a_texCoord;\nout vec2 v_texCoord;\nout vec3 v_coord;\n\nuniform mat4x3 u_frustum;       //cameran\nvoid main(){\n    gl_Position=vec4(a_position,0.0,1.0);\n    v_texCoord=a_texCoord;\n    v_coord = u_frustum[gl_VertexID];\n }\n","1021226YjaYiI","120903uTkagj","1108650ZQrpWk","1032445ICrUxm","1429079EZLXRh","fsShader","\nin vec2 v_texCoord;\nin vec3 v_coord;\nuniform sampler2D u_pattern;\nuniform sampler2D u_depth;\nuniform float u_farNear;\nuniform vec3 u_camera;\n\n//nvec3 worldSpaceViewDir(float depth){\n    float viewDepth=0.0;\n    viewDepth=1.0/(u_farNear+depth*(1.0-u_farNear));\n    vec3 worldViewDir=v_coord*viewDepth;\n    return worldViewDir;\n}\n\nstruct ScatterScan{\n    vec3 scanCenter;\n    vec4 scanColor;\n    float scanRadius;\n    float scanSpeed;\n    bool scanTex; \n    float startParam;\n    float scanOpacity;\n};\n\nstruct LinearScan{\n    vec4 scanColor;\n    vec3 origin;\n    vec3 destination;\n    float angle;\n    float range;\n    float scanSpeed; \n    float startParam;\n    float scanOpacity;\n};\n\nstruct SectorScan{\n    vec3 scanCenter;\n    vec4 scanColor;\n    float scanRadius;\n    float scanSpeed;\n    float scanAngle;\n    float startParam;\n    float scanOpacity;     \n};\n\nstruct HeightScan{\n    vec4 scanColor;\n    float minHeight;\n    float maxHeight;\n    float heightRange;\n    float scanSpeed; \n    float startParam;\n    float scanOpacity;\n};\n\nuniform float u_scanParam;\nuniform bool u_scanVisible;\n#ifdef SCATTER_SCAN_NUM\nuniform ScatterScan u_scatterScan[SCATTER_SCAN_NUM];     //    \n#endif\n#ifdef LINEAR_SCAN_NUM\nuniform LinearScan u_linearScan[LINEAR_SCAN_NUM];        // \n#endif\n#ifdef SCETOR_SCAN_NUM\nuniform SectorScan u_sectorScan[SCETOR_SCAN_NUM];        //\n#endif\n#ifdef HEIGHT_SCAN_NUM\nuniform HeightScan u_heightScan[HEIGHT_SCAN_NUM];        //\n#endif\nuniform sampler2D u_scanSampler;\nout vec4 outColor;\n\nvoid main(){\n    float depth = texture(u_depth, v_texCoord).r;      //\n    vec3 cameraPos = u_camera;\n    vec3 worldPos= worldSpaceViewDir(depth) + cameraPos;        //\n    vec4 originColor=texture(u_pattern, v_texCoord);           //\n    if(depth > 0.999 || !u_scanVisible) {     //\n        outColor = originColor;\n    }else{\n        float scanParam = u_scanParam;\n        vec4 processColor = vec4(0.0);    \n        #ifdef SCATTER_SCAN_NUM\n           for(int i=0;i<SCATTER_SCAN_NUM;i++){\n               vec3 center = u_scatterScan[i].scanCenter;\n               vec4 color = u_scatterScan[i].scanColor;\n               float radius = u_scatterScan[i].scanRadius;\n               float speed = u_scatterScan[i].scanSpeed;\n               bool radarTex = u_scatterScan[i].scanTex;\n               float startParam = u_scatterScan[i].startParam;\n               float opacity = u_scatterScan[i].scanOpacity;\n               float scanParam = fract(scanParam * speed - startParam);\n               radius *= scanParam;\n               float dist = distance(worldPos.xy, center.xy);\n               if(dist < radius){\n                     if(radarTex){\n                        vec2 texCoord = (worldPos.xy - (center.xy - vec2(radius)))/vec2(radius*2.0);\n                        vec4 texColor = texture(u_scanSampler, texCoord)*opacity;\n                        processColor *= (1.0 - texColor.a);\n                        processColor += vec4(texColor.rgb * texColor.a, texColor.a);\n                     }else{\n                        vec4 scanColor = color * opacity;\n                        float distRadio = sin(1.570796327*max(dist-0.5 * radius,0.0)/(0.5 * radius));\n                        scanColor.a *= (distRadio * distRadio);\n                        processColor *= (1.0 - scanColor.a);\n                        processColor += vec4(scanColor.rgb * scanColor.a, scanColor.a);    \n                     }\n               }\n           }\n        #endif  \n        #ifdef LINEAR_SCAN_NUM\n            for(int i=0;i<LINEAR_SCAN_NUM;i++){\n               vec4 color = u_linearScan[i].scanColor;\n               vec3 origin = u_linearScan[i].origin;\n               vec3 destination = u_linearScan[i].destination;\n               float angle = u_linearScan[i].angle*3.141592654/180.0;\n               float range = u_linearScan[i].range;\n               float speed = u_linearScan[i].scanSpeed;\n               float startParam = u_linearScan[i].startParam;\n               float opacity = u_linearScan[i].scanOpacity;\n               float scanParam = fract(scanParam * speed - startParam);\n               vec3 curr = mix(origin, destination, scanParam);\n               vec3 fragPos = (worldPos.xyz - curr);\n               float posRotatedX = curr.x + fragPos.x*cos(angle) - fragPos.y*sin(angle);  \n               float posRotatedY = curr.y + fragPos.x*cos(angle) - fragPos.y*sin(angle);\n               float relativeDis = abs(posRotatedX-curr.x);\n               if(relativeDis < range){\n                  vec4 scanColor = color*opacity;\n                  float distRadio = 1.0 - relativeDis/range;\n                  scanColor.a *= distRadio;\n                  processColor *= (1.0 - scanColor.a);\n                  processColor += vec4(scanColor.rgb * scanColor.a, scanColor.a);    \n               }  \n           }\n        #endif\n        #ifdef HEIGHT_SCAN_NUM\n            for(int i=0;i<HEIGHT_SCAN_NUM;i++){\n               vec4 color = u_heightScan[i].scanColor;\n               float minHeight = u_heightScan[i].minHeight;\n               float maxHeight = u_heightScan[i].maxHeight;\n               float heightRange = u_heightScan[i].heightRange;\n               float speed = u_heightScan[i].scanSpeed;\n               float startParam = u_heightScan[i].startParam;\n               float opacity = u_heightScan[i].scanOpacity;\n               float scanParam = fract(scanParam * speed - startParam);\n               float heightRadio = (scanParam - 0.5);\n               float height;\n               if(heightRadio>0.0){\n                   height = (maxHeight-minHeight)*(scanParam-0.5)*2.0;\n               }else{\n                   height = (maxHeight-minHeight)*(0.5-scanParam)*2.0;\n               }\n               float colorRadio = abs(worldPos.z - height - minHeight);\n               if(colorRadio < heightRange/2.0){\n                   vec4 scanColor = color * opacity;\n                   scanColor.a *= (1.0-colorRadio/(heightRange/2.0));\n                   processColor *= (1.0 - scanColor.a);\n                   processColor += vec4(scanColor.rgb * scanColor.a, scanColor.a);\n               } \n            }\n        #endif\n        #ifdef SCETOR_SCAN_NUM\n            for(int i=0;i<SCETOR_SCAN_NUM;i++){\n               vec3 center = u_sectorScan[i].scanCenter;\n               vec4 color = u_sectorScan[i].scanColor;\n               float radius = u_sectorScan[i].scanRadius;\n               float speed = u_sectorScan[i].scanSpeed;\n               float angle = u_sectorScan[i].scanAngle;\n               float startParam = u_sectorScan[i].startParam;\n               float opacity = u_sectorScan[i].scanOpacity;\n               float scanParam = fract(scanParam * speed - startParam);\n               float dist = distance(worldPos.xy, center.xy);\n               if(dist < radius){\n                   float angleRadian = angle*3.141592654/180.0;\n                   float startRadian = (scanParam) * 3.141592654*2.0;\n                   float endRadian = startRadian - angleRadian;\n                   if(endRadian < 0.0) endRadian = 3.141592654*2.0 + endRadian;\n                   float radianVal;\n                   float dx = worldPos.x - center.x, dy = worldPos.y - center.y;\n                   if(dy > 0.0){\n                       radianVal = acos(dx/dist);\n                   }else{\n                       radianVal = 3.141592654*2.0 - acos(dx/dist);\n                   }\n                   vec4 scanColor = color * opacity;\n                   float circleOpacity;\n                   if(endRadian > startRadian){\n                       if(radianVal >= endRadian){\n                           circleOpacity = 0.1 + 0.9*(radianVal - endRadian)/angleRadian;\n                       }else if(radianVal <= startRadian){\n                           circleOpacity = 0.1 + 0.9*(angleRadian - (startRadian - radianVal))/angleRadian;\n                       }else{\n                           circleOpacity = 0.1;\n                       }\n                   }else{\n                       if(radianVal <= startRadian && radianVal >= endRadian){\n                           circleOpacity = 0.1 + 0.9*(radianVal - endRadian)/angleRadian;\n                       }else{\n                           circleOpacity = 0.1;\n                       }\n                   }\n                   scanColor.a *= circleOpacity;       \n                   processColor *= (1.0-scanColor.a);\n                   processColor += vec4(scanColor.rgb * scanColor.a, scanColor.a);\n               } \n            }\n        #endif\n        outColor = originColor*(1.0 - processColor.a) + processColor;\n    };\n}\n"],MB=SB;function SB(t,e){return AB[t-=224]}!function(t,e){const r=SB;for(;;)try{if(867704===-parseInt(r(232))+parseInt(r(226))+-parseInt(r(233))+-parseInt(r(230))+parseInt(r(231))+parseInt(r(229))+parseInt(r(227)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(AB);const PB={};PB[MB(225)]=MB(228),PB[MB(234)]=MB(224);const RB=["_useTexture","223BQHdYa","heightScans","].range","_centerArr","15766CAKydm","_isDestroy","1179vBSFvy","].scanAngle","].origin","sectorScans","_setRadarScanUniforms","].heightRange","_opacity","farNear","u_scanSampler","uniform1f","_setUniforms","u_sectorScan[","].minHeight","].scanCenter","481120KmYCQv","u_scatterScan[","startParam","getUniformLocation","].maxHeight","program","_destinationArr","length","linearScans","visibility","].startParam","u_scanVisible","].scanSpeed","328974zvONAH","1siaNud","_speed","3137879IPIPKF","u_farNear","1WXgmWJ","1261rrTAgT","5qGAmkK","_heightRange","167YNRxoa","uniforms","].scanTex","uniform3fv","u_frustum","].scanOpacity","].scanRadius","u_camera","u_depth","_range","uniform4fv","uniformMatrix4x3fv","199865sVmkJK","uniform1i","].scanColor","_radius","_angle","frustum","u_linearScan[","u_heightScan[","49uzBEDk","_colorArr"],LB=DB;!function(t,e){const r=DB;for(;;)try{if(912724===-parseInt(r(396))+-parseInt(r(382))*-parseInt(r(376))+parseInt(r(373))*-parseInt(r(380))+-parseInt(r(416))*parseInt(r(409))+parseInt(r(418))*parseInt(r(415))+-parseInt(r(410))*-parseInt(r(365))+-parseInt(r(412))*-parseInt(r(414)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(RB);class FB extends qc{constructor(t,e,r){super(t,e,r)}[LB(392)](t){const e=LB,r=t.camera,i=t[e(370)],n=t[e(389)];this.gl[e(364)](this[e(419)][e(357)],!1,i),this.gl[e(421)](this[e(419)][e(360)],r),this.gl[e(366)](this[e(419)].u_pattern,2),this.gl[e(366)](this[e(419)][e(361)],1),this.gl.uniform1f(this[e(419)][e(413)],n)}[LB(386)](t,e){const r=LB;this.gl[r(366)](this.uniforms[r(407)],t[r(405)]),this.gl[r(391)](this[r(419)].u_scanParam,e),this.gl.uniform1i(this[r(419)][r(390)],3);const i=this[r(401)];let n=t.scatterScans,s=t[r(385)],o=t[r(377)],a=t[r(404)];if(n&&0!=n[r(403)]){let t=n[r(403)];for(let e=0;e<t;e++){let t=n[e];if(t[r(381)])continue;let s=this.gl.getUniformLocation(i,"u_scatterScan["+e+r(395)),o=this.gl[r(399)](i,r(397)+e+r(367)),a=this.gl[r(399)](i,r(397)+e+r(359)),h=this.gl[r(399)](i,r(397)+e+r(408)),l=this.gl.getUniformLocation(i,"u_scatterScan["+e+r(420)),c=this.gl[r(399)](i,"u_scatterScan["+e+r(406)),u=this.gl.getUniformLocation(i,r(397)+e+r(358));this.gl.uniform3fv(s,t._centerArr),this.gl[r(363)](o,t[r(374)]),this.gl[r(391)](a,t[r(368)]),this.gl.uniform1f(h,t[r(411)]),this.gl[r(366)](l,t[r(375)]),this.gl[r(391)](c,t.startParam),this.gl[r(391)](u,t[r(388)])}}if(s&&0!=s.length){let t=s.length;for(let e=0;e<t;e++){let t=s[e];if(t[r(381)])continue;let n=this.gl[r(399)](i,"u_sectorScan["+e+r(395)),o=this.gl.getUniformLocation(i,r(393)+e+r(367)),a=this.gl[r(399)](i,r(393)+e+r(359)),h=this.gl[r(399)](i,r(393)+e+r(408)),l=this.gl[r(399)](i,"u_sectorScan["+e+r(383)),c=this.gl[r(399)](i,r(393)+e+r(406)),u=this.gl[r(399)](i,r(393)+e+r(358));this.gl.uniform3fv(n,t[r(379)]),this.gl.uniform4fv(o,t._colorArr),this.gl[r(391)](a,t[r(368)]),this.gl.uniform1f(h,t[r(411)]),this.gl[r(391)](l,t[r(369)]),this.gl[r(391)](c,t[r(398)]),this.gl[r(391)](u,t[r(388)])}}if(o&&0!=o[r(403)]){let t=o.length;for(let e=0;e<t;e++){let t=o[e];if(t[r(381)])continue;let n=this.gl[r(399)](i,"u_heightScan["+e+r(367)),s=this.gl[r(399)](i,r(372)+e+r(394)),a=this.gl[r(399)](i,r(372)+e+r(400)),h=this.gl[r(399)](i,r(372)+e+r(387)),l=this.gl[r(399)](i,r(372)+e+r(408)),c=this.gl[r(399)](i,r(372)+e+r(406)),u=this.gl[r(399)](i,"u_heightScan["+e+"].scanOpacity");this.gl[r(363)](n,t._colorArr),this.gl[r(391)](s,t._minHeight),this.gl[r(391)](a,t._maxHeight),this.gl[r(391)](h,t[r(417)]),this.gl[r(391)](l,t._speed),this.gl.uniform1f(c,t[r(398)]),this.gl[r(391)](u,t._opacity)}}if(a&&0!=a[r(403)]){let t=a[r(403)];for(let e=0;e<t;e++){let t=a[e];if(t._isDestroy)continue;let n=this.gl[r(399)](i,"u_linearScan["+e+r(367)),s=this.gl[r(399)](i,r(371)+e+r(384)),o=this.gl.getUniformLocation(i,"u_linearScan["+e+"].destination"),h=this.gl[r(399)](i,r(371)+e+"].angle"),l=this.gl[r(399)](i,r(371)+e+r(378)),c=this.gl.getUniformLocation(i,r(371)+e+r(408)),u=this.gl[r(399)](i,"u_linearScan["+e+"].startParam"),p=this.gl[r(399)](i,r(371)+e+"].scanOpacity");this.gl[r(363)](n,t._colorArr),this.gl[r(421)](s,t._originationArr),this.gl[r(421)](o,t[r(402)]),this.gl[r(391)](h,t[r(369)]),this.gl.uniform1f(l,t[r(362)]),this.gl.uniform1f(c,t._speed),this.gl[r(391)](u,t[r(398)]),this.gl[r(391)](p,t[r(388)])}}}}function DB(t,e){return RB[t-=357]}const OB=["a_texCoord","_initStaticBuffer","createBuffer","834293bhqPVu","_mathModel","ARRAY_BUFFER","defines","842883rBMpjj","vertexAttribPointer","colorAttachments","getCoordinate","render","204353CMnYvr","imageSrc","bufferData","5BTbjcI","bindVertexArray","48542TzUMfZ","_geoLayer","_program","TRIANGLE_STRIP","getFrustumRay","src","getFPlaneDistance","getCamera","heightScans","clear","setDepthAttachment","fsOpts","_setUniforms","getNear","COLOR_BUFFER_BIT","_vao","sectorScans","a_position","_setRadarScanUniforms","setUp","_uniforms","544507OCTQWe","linearScans","bindBuffer","activeTexture","uniforms","radarParam","depthAttachment","_map","2759342qdhgKg","getShaderOptions","_attribs","useProgram","attributes","update","_updateShader","visibility","TEXTURE0","targetRender","SCETOR_SCAN_NUM ","HEIGHT_SCAN_NUM ","enableVertexAttribArray","addColorAttachment","DEPTH_BUFFER_BIT","onload","bindTexture","2078GeslDi","push","TEXTURE_2D","length","fsShader","toArray","vsShader","createVertexArray","radarScans","FLOAT","_updateTexture","drawArrays","424vDTZmI","SCATTER_SCAN_NUM ","_buildShader","_checkChange","STATIC_DRAW","combineShaderOptions","18yGbdPn"],NB=BB;function BB(t,e){return OB[t-=238]}!function(t,e){const r=BB;for(;;)try{if(570348===-parseInt(r(284))+parseInt(r(298))*parseInt(r(280))+parseInt(r(319))+parseInt(r(293))*parseInt(r(296))+parseInt(r(288))+parseInt(r(262))*parseInt(r(274))+-parseInt(r(245)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(OB);class UB extends Kx{constructor(t,e=0){const r=BB;super(t,e),this.targetRender=null,this[r(270)]={},this.radarTexture={},this.imageSrc=null,this[r(242)]=null,this.program=null,this[r(276)](),this[r(282)]()}_buildShader(t){const e=BB;let r=pm[e(246)](PB[e(268)],PB[e(266)]);const i=r.vsOpts,n=r[e(309)];if(t){let r=t.scatterScans,i=t[e(314)],s=t[e(306)],o=t[e(238)];r&&0!=r[e(265)]&&n[e(287)].push(e(275)+r.length),i&&0!=i[e(265)]&&n[e(287)].push(e(255)+i[e(265)]),s&&0!=s[e(265)]&&n[e(287)][e(263)](e(256)+s[e(265)]),o&&0!=o.length&&n[e(287)][e(263)]("LINEAR_SCAN_NUM "+o[e(265)]),this.radarScans=t}const s=pm[e(279)](i,!1,!0),o=pm[e(279)](n,!0,!0);this[e(300)]?this[e(300)][e(250)](s,o):this[e(300)]=new FB(this.gl,s,o)}[NB(251)](t){const e=NB;this[e(276)](t);const r=this._program;this[e(247)]=r[e(249)],this[e(318)]=r[e(241)]}[NB(272)](t){const e=NB;if(t&&!this.radarTexture[t]){let r=new Image;r.crossOrigin="Anonymous",r[e(260)]=()=>{const i=e;let n=this[i(300)].addGLTexture(r,3).texture;this.radarTexture[t]=n,this[i(294)]=t},r[e(303)]=t}}[NB(317)](){const t=NB;this[t(258)](0,1),this[t(308)](0),super[t(317)]()}[NB(292)](){const t=NB;this.deactive();const e=this.gl,r=this[t(300)];e[t(307)](e[t(259)]|e[t(312)]),e[t(297)](this[t(313)]);const i=this._map[t(305)](),n=i[t(291)](),s=i[t(304)]()/i[t(311)]();let o=i[t(302)](),a=new Float32Array(o);r[t(248)](),r[t(310)]({camera:n[t(267)](),frustum:a,farNear:s});let h=this.targetRender&&this.targetRender[t(285)]&&this[t(254)][t(285)].getVisibility();this[t(270)][t(252)]=h,r[t(316)](this[t(270)],this.radarParam),e[t(240)](e[t(253)]+2),e[t(261)](e[t(264)],this[t(290)][0]),e.activeTexture(e.TEXTURE0+1),e[t(261)](e[t(264)],this[t(243)]),this.radarTexture[this[t(294)]]&&(e[t(240)](e[t(253)]+3),e.bindTexture(e.TEXTURE_2D,this.radarTexture[this[t(294)]])),e[t(273)](e[t(301)],0,4),e[t(261)](e[t(264)],null),e[t(297)](null),this[t(277)]()}_checkChange(){const t=NB;let e=this.radarModel&&this.radarModel[t(299)];(!e||!e[t(244)])&&this[t(251)]([])}_initStaticBuffer(){const t=NB,e=this.gl,r=this._program;this._attribs=r[t(249)],this._uniforms=r[t(241)],this[t(313)]=e[t(269)]();let i={};e[t(297)](this[t(313)]);const n=new Float32Array([0,1,0,0,1,1,1,0]),s=new Float32Array([-1,1,-1,-1,1,1,1,-1]);i.texBuffer=e[t(283)](),e[t(239)](e[t(286)],i.texBuffer),e[t(295)](e.ARRAY_BUFFER,n,e[t(278)]),e[t(289)](this._attribs.a_texCoord,2,e.FLOAT,!1,0,0),e[t(257)](this[t(247)][t(281)]),i.verBuffer=e[t(283)](),e.bindBuffer(e[t(286)],i.verBuffer),e.vertexAttribPointer(this._attribs[t(315)],2,e[t(271)],!1,0,0),e.bufferData(e[t(286)],s,e[t(278)]),e.enableVertexAttribArray(this[t(247)].a_position),e[t(297)](null),this._buffers=i}}const kB=["currSize","_clearFrame","173003abzutw","destroy","38110IlukZx","52379OZxXcx","1MlaJjW","imageSrc","_createBuffer","radarParam","_updateShader","frameHelper","map","772715oyVJwF","targetRender","_texture","_map","resize","663911RcZQHq","drawingBufferHeight","_drawRadarScan","radarData","326841WaNEls","removeFrame","_activeFrame","drawingBufferWidth","_initToRender","_setImage","1101163JQBJHv","74dSHBdf","_updateTexture","radarScanFrame"],VB=GB;function GB(t,e){return kB[t-=348]}!function(t,e){const r=GB;for(;;)try{if(876523===parseInt(r(360))+-parseInt(r(358))+-parseInt(r(378))+-parseInt(r(352))+-parseInt(r(374))*parseInt(r(362))+-parseInt(r(369))+-parseInt(r(353))*-parseInt(r(361)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(kB);class zB extends rR{constructor(t,e){const r=GB;super(),this.gl=t,this[r(372)]=e[r(368)],this._vpMatrix=null,this[r(371)]=void 0,this.currSize=[t.drawingBufferWidth,t[r(375)]],this[r(350)]()}[VB(350)](){this[VB(348)]()}[VB(351)](t){const e=VB;this[e(363)]=t,this[e(355)]&&(this.radarScanFrame[e(363)]=this[e(363)],this[e(355)][e(354)](t))}[VB(348)](){const t=VB;this[t(355)]=new UB(this.gl,0),this[t(355)][t(370)]=this,this[t(372)].frameHelper.addFrame(this.radarScanFrame)}_clearFrame(){const t=VB;this[t(372)]&&this[t(355)]&&this[t(372)][t(367)][t(379)](this[t(355)]),this.radarScanFrame=null}updateRadarInfo(t){const e=VB;let r=t[e(377)];this[e(355)]&&(this.radarScanFrame[e(366)](r),this[e(355)].radarModel=t)}[VB(376)](t){const e=VB;let r=this.gl[e(349)],i=this.gl[e(375)];(this.currSize[0]!=r||this[e(356)][1]!=i)&&(this[e(355)]&&this[e(355)][e(373)](r,i),this[e(356)]=[r,i]),this[e(355)]&&(this[e(355)][e(365)]=t)}_addStaticBufferD(){}_addChangeBufferD(){}[VB(364)](){}[VB(359)](){this[VB(357)]()}}const HB=["_scatterScans","_render","_renderable","updateDrawData","_heightScans","_setImage","addMathCell","91938ByRgYo","129808vQMdGo","_initRenderOpts","imageSrc","_id","_draw","71853FyNtSR","_linearScans","setImage","set","2HTnbry","_tick","188014GnQstC","clear","_mathModel","_map","radarParam","1XFdROG","_imageSrc","values","_drawRadarScan","_objMap","120641mZEggY","_radarChange","delete","1zIxrdJ","_sectorScans","64887PIvIbs","map","updateRadarInfo","radarData","24030zzmLEv","startParam"],jB=YB;function YB(t,e){return HB[t-=468]}!function(t,e){const r=YB;for(;;)try{if(132352===-parseInt(r(478))+-parseInt(r(489))*-parseInt(r(502))+-parseInt(r(494))*parseInt(r(504))-parseInt(r(499))+parseInt(r(477))+-parseInt(r(483))*-parseInt(r(487))+parseInt(r(468)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(HB);class $B extends _M{constructor(t={}){const e=YB;super(t),this[e(495)]=t.hasOwnProperty(e(480))?t.imageSrc:null,this[e(493)]=0,this[e(470)]=new Map,this[e(503)]=new Map,this[e(474)]=new Map,this[e(484)]=new Map,this[e(500)]=!1}[jB(479)](t,e){const r=jB;this._gl=t,this[r(492)]=e[r(505)],!this[r(472)]&&(this._render=new zB(this._gl,e),this._render[r(491)]=this,this._imageSrc&&this[r(471)][r(475)](this._imageSrc),this._renderable=!0)}[jB(485)](t){const e=jB;t!=this[e(495)]&&(this._render[e(475)](t),this[e(495)]=t)}[jB(476)](t){const e=jB;let r=t[e(481)];!this._objMap.get(r)&&(this[e(498)].set(r,t),t instanceof FP&&this._scatterScans[e(486)](r,t),t instanceof BP&&this[e(503)][e(486)](r,t),t instanceof YP&&this._linearScans[e(486)](r,t),t instanceof GP&&this._heightScans.set(r,t),!t.startParam&&(t[e(469)]=this[e(493)]),this[e(500)]=!0)}removeMathCellById(t){const e=jB;let r=this[e(498)].get(t);r&&(this[e(498)][e(501)](t),r instanceof FP&&this[e(470)].delete(t),r instanceof BP&&this[e(503)].delete(t),r instanceof YP&&this[e(484)].delete(t),r instanceof GP&&this._heightScans[e(501)](t),this[e(500)]=!0)}removeAll(){const t=jB;this[t(498)].clear(),this[t(470)][t(490)](),this[t(503)][t(490)](),this._linearScans.clear(),this[t(474)][t(490)](),this[t(500)]=!0}[jB(473)](){const t=jB;if(this[t(500)]){let e={scatterScans:[...this[t(470)].values()],sectorScans:[...this[t(503)][t(496)]()],heightScans:[...this._heightScans[t(496)]()],linearScans:[...this[t(484)][t(496)]()]};this[t(507)]=e,this[t(471)][t(506)](this),this._radarChange=!1}}[jB(482)](){this[jB(488)]()}_tick(){const t=jB;this.radarParam+=.01,this[t(471)][t(497)](this[t(493)])}}const XB=["714798brMTny","1tGElxU","117903VeXFoB","492789lDANXJ","4fwRFYd","2633fVdxHQ","#version 300 es\n    precision mediump float;\n\n    uniform float u_opacity;    // n    uniform float u_endOpacity; // n    uniform sampler2D u_pattern;\n   \n    in float v_deltaTime;   //\n    in float v_timeTrail;   //\n    in float v_timeBloom;   //\n    out vec4 outColor;\n    \n    void main() {\n        outColor = texture(u_pattern, gl_PointCoord); \n        \n        if(v_deltaTime > v_timeTrail){\n             //n            float opacity = u_opacity + (u_endOpacity - u_opacity) * (v_deltaTime - v_timeTrail) / v_timeBloom;\n            outColor.a = outColor.a * opacity * 2.0;  //n        }\n        float dist = distance(gl_PointCoord,vec2(0.5,0.5));\n        if(dist>0.5){\n            discard;\n        }\n    }\n","fsShader","218681pqIeJS","5001snaoGs","31GLvtqh","161236xnZHds","257AvrHXj"],WB=ZB;function ZB(t,e){return XB[t-=407]}!function(t,e){const r=ZB;for(;;)try{if(446081===parseInt(r(414))*parseInt(r(407))-parseInt(r(409))+parseInt(r(417))*parseInt(r(410))-parseInt(r(408))+-parseInt(r(416))*-parseInt(r(415))+-parseInt(r(411))*parseInt(r(418))+parseInt(r(419)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(XB);const qB={vsShader:"#version 300 es\n\n    in vec3 a_positionH;\n    in vec3 a_positionL;\n    in vec3 a_offset;\n    in vec3 a_inertia;\n    in float a_order;    //\n    \n    uniform float u_size;    // \n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_mvMatrix;\n    uniform mat4 u_projMatrix;\n    uniform bool u_ifRTE;\n    uniform float u_unit;\n    uniform vec3 u_gravity;//\n    uniform float u_deltaTime;//\n    uniform float u_timeTrail;    // \n    uniform float u_timeBloom;    // \n    uniform float u_particleCount; // \n    uniform float u_particleInterval; //    \n    \n    out float v_deltaTime;\n    out float v_timeTrail;\n    out float v_timeBloom;\n    \n    vec4 corrections(vec3 positionH, vec3 positionL){\n        vec3 highD=positionH-u_cameraH;\n        vec3 diff=positionL-u_cameraL;\n        vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n        return vec4(highD+lowD,1.0);\n    }\n        \n    void main() {\n        // float unitTranform= (1.0 - u_unit)/111000.0 + u_unit;\n         float unitTranform = 1.0;\n        vec4 position=vec4(a_positionH,1.0);\n     \n        mat4 mvMatrix = u_mvMatrix;\n        if(u_ifRTE){\n            position = corrections(a_positionH, a_positionL);\n            mat4 mvR2Eye = u_mvMatrix;\n            mvR2Eye[3] = vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n            mvMatrix = mvR2Eye;\n        };\n        \n        //offset\n        position.xyz = position.xyz + a_offset * unitTranform;\n        vec4 tempPosition = position;\n        //\n  \n        //\n        float time = u_deltaTime;\n        if(u_deltaTime >= u_timeTrail){\n           time = u_deltaTime-u_timeTrail;             \n        }\n        float temp = time - u_particleInterval * a_order;\n        vec3 offsetLocation = temp * a_inertia * unitTranform;\n        offsetLocation.z +=  0.5 * temp * temp * u_gravity.z * unitTranform;\n        position.xyz = position.xyz + offsetLocation;\n        float size = u_size *(1.0 - a_order / u_particleCount);\n          \n        gl_Position = u_projMatrix * mvMatrix * position;\n        gl_PointSize = size;\n        \n        v_deltaTime = u_deltaTime;\n        v_timeTrail = u_timeTrail;\n        v_timeBloom = u_timeBloom;\n    }\n"};qB[WB(413)]=WB(412);const JB=["u_particleCount","u_gravity","uniform1f","78097dMxDaM","clx","uniform1i","u_projMatrix","218052tLKSEV","125339HXwxYr","u_size","u_ifRTE","chx","chz","u_timeTrail","u_unit","u_particleInterval","279078bsjAWU","uniformMatrix4fv","u_camera","u_timeBloom","setPrivateUniforms","cly","u_pattern","uniforms","u_endOpacity","254679PDswns","u_cameraL","u_deltaTime","getElements","188799fsAuik","u_mvMatrix","u_opacity","uniform3fv","u_cameraH","242353PIJukT"];function KB(t,e){return JB[t-=459]}const QB=KB;!function(t,e){const r=KB;for(;;)try{if(236139===-parseInt(r(482))-parseInt(r(486))+parseInt(r(491))+parseInt(r(477))+parseInt(r(464))+parseInt(r(490))+-parseInt(r(473)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(JB);class tU extends qc{constructor(t,e,r){super(t,e,r)}[QB(468)](t){const e=QB;this.gl[e(465)](this[e(471)][e(478)],!1,t[e(478)][e(476)]()),this.gl[e(465)](this[e(471)][e(489)],!1,t[e(489)].getElements()),this.gl.uniform1f(this[e(471)][e(462)],t.u_unit),this.gl.uniform1i(this[e(471)][e(493)],t.u_ifRTE);const r=t[e(466)];this.gl[e(480)](this[e(471)][e(481)],[r[e(459)],r.chy,r[e(460)]]),this.gl.uniform3fv(this[e(471)][e(474)],[r[e(487)],r[e(469)],r.clz]),this.gl[e(480)](this.uniforms[e(484)],t.u_gravity),this.gl[e(485)](this[e(471)][e(475)],t[e(475)]),this.gl[e(485)](this.uniforms.u_timeTrail,t[e(461)]),this.gl.uniform1f(this[e(471)][e(467)],t[e(467)]),this.gl[e(485)](this[e(471)].u_opacity,t[e(479)]),this.gl.uniform1f(this[e(471)][e(472)],t[e(472)]),this.gl[e(485)](this[e(471)][e(492)],t.u_size),this.gl[e(488)](this[e(471)][e(470)],t[e(470)]),this.gl[e(485)](this[e(471)][e(483)],t.u_particleCount),this.gl[e(485)](this[e(471)][e(463)],t[e(463)])}}const eU=["FLOAT","delete","fsShader","orders","a_positionH","533900xAZDJr","createVertexArray","get","47huYJSe","1054000twZlUX","size","positionCount","offsets","a_positionL","_initTexture","_deleteTexture","vao","_initToRender","iconUrl","bindTexture","7346Mnamah","addGLTexture","TEXTURE_2D","a_inertia","bindVertexArray","enableVertexAttribArray","_deleteAllTextures","POINTS","draw","useProgram","bindBuffer","inertias","texture","_vpMatrix","vsShader","vbos","473717DXysKm","bufferBloom","src","_program","_addVerBuffer","_upBuffer","820518gcgODN","positions","getAttributeLocations","createBuffer","setPrivateUniforms","9231rYniwy","onload","drawArrays","_destroyRenderProperties","_createBuffers","deleteTexture","a_order","a_offset","destroy","ARRAY_BUFFER","440251YjzTYy","_textureMap","_deleteGPUProperties","REPEAT","a_position","values","vertexAttribPointer","length","59kciYGA","crossOrigin","positionsL"],rU=iU;function iU(t,e){return eU[t-=284]}!function(t,e){const r=iU;for(;;)try{if(626017===-parseInt(r(289))+parseInt(r(297))*parseInt(r(347))+parseInt(r(342))+-parseInt(r(336))+parseInt(r(309))+-parseInt(r(308))*parseInt(r(320))+-parseInt(r(305)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(eU);class nU extends rR{constructor(t){const e=iU;super(),this.gl=t,this[e(333)]=null,this[e(341)]=!1,this._textureMap=new Map,this[e(317)]()}[rU(317)](){const t=rU;this[t(339)]=new tU(this.gl,qB[t(334)],qB[t(302)])}[rU(314)](t){const e=rU,r=this;let i=new Image;i[e(348)]=function(){const n=e,s=r[n(339)][n(321)](i,0,n(292),"REPEAT")[n(332)];r[n(290)].set(t,s)},i[e(298)]="anonymous",i[e(338)]=t}_addStaticBufferD(t){const e=rU,r=t.bufferTrail;r[e(316)]=this.gl[e(306)](),this.gl[e(324)](r[e(316)]),r.vbos=this._createBuffers(r[e(316)]),this[e(340)](r[e(335)][e(293)],new Float32Array(r[e(343)]),!0),this._addVerBuffer(r.vbos[e(313)],new Float32Array(r.positionsL),!0),this._addVerBuffer(r[e(335)][e(286)],new Float32Array(r[e(312)]),!0),this[e(340)](r[e(335)][e(285)],new Float32Array(r[e(303)]),!0),this.gl[e(324)](null);const i=t[e(337)];i.vao=this.gl.createVertexArray(),this.gl[e(324)](i[e(316)]),i[e(335)]=this[e(351)](i[e(316)]),this[e(340)](i[e(335)][e(293)],new Float32Array(i[e(343)]),!0),this[e(340)](i[e(335)][e(313)],new Float32Array(i[e(299)]),!0),this[e(340)](i[e(335)][e(286)],new Float32Array(i[e(312)]),!0),this[e(340)](i[e(335)].a_order,new Float32Array(i.orders),!0),this.gl[e(324)](null)}[rU(328)](t,e){const r=rU;if(0===t[r(343)][r(296)]||0===this[r(290)][r(310)])return;if(!t[r(335)])return;let i=this.gl;this._program[r(329)](),this[r(339)][r(346)](e),i.activeTexture(i.TEXTURE0+0),i[r(319)](i[r(322)],this._textureMap[r(307)](t[r(318)])||null),i[r(324)](t[r(316)]),this[r(340)](t[r(335)][r(323)],new Float32Array(t[r(331)]),!0);let n=t[r(311)];i[r(349)](i[r(327)],0,n),i[r(324)](null)}[rU(287)](){const t=rU;this[t(291)]();for(let e of this[t(290)][t(294)]())this.gl[t(284)](e);this[t(350)]()}[rU(315)](t){const e=rU;let r=this._textureMap[e(307)](t);r&&(this._textureMap[e(301)](t),this.gl[e(284)](r)),r=null}[rU(326)](){const t=rU;for(let e of this[t(290)][t(294)]())this.gl[t(284)](e)}[rU(351)](t){const e=rU;this.gl[e(324)](t);const r={},i=Float32Array.BYTES_PER_ELEMENT,n=this._program[e(344)]();return r[e(293)]=this.gl.createBuffer(),this.gl[e(330)](this.gl[e(288)],r[e(293)]),this.gl[e(295)](n[e(304)],3,this.gl.FLOAT,!1,3*i,0),this.gl[e(325)](n.a_positionH),r[e(313)]=this.gl[e(345)](),this.gl[e(330)](this.gl.ARRAY_BUFFER,r[e(313)]),this.gl[e(295)](n.a_positionL,3,this.gl[e(300)],!1,3*i,0),this.gl[e(325)](n.a_positionL),r[e(286)]=this.gl[e(345)](),this.gl[e(330)](this.gl[e(288)],r.a_offset),this.gl[e(295)](n[e(286)],3,this.gl[e(300)],!1,3*i,0),this.gl[e(325)](n.a_offset),r.a_inertia=this.gl.createBuffer(),this.gl.bindBuffer(this.gl[e(288)],r[e(323)]),this.gl[e(295)](n[e(323)],3,this.gl[e(300)],!1,3*i,0),this.gl[e(325)](n[e(323)]),r.a_order=this.gl[e(345)](),this.gl[e(330)](this.gl[e(288)],r[e(285)]),this.gl[e(295)](n[e(285)],1,this.gl[e(300)],!1,i,0),this.gl[e(325)](n[e(285)]),this[e(341)]=!1,r}}const sU=["opacity","loopTime","_renderable","enable","particleTrailCount","1FxlFRZ","blendMode","FUNC_ADD","size","u_projMatrix","u_camera","length","gravity","timeTrail","getAllMathCells","draw","isRTE","197szuLoE","_render","_iteration","push","BLEND","updateDrawData","6976zpUOrm","_gl","get","now","_addStaticBufferD","u_unit","_draw","Date","146947dtMnnp","resetByMapUnit","additive","set","142897nzGcCZ","_isRTE","54375mobqID","_drawData","_id","_srid","ONE","4307bvhcOg","_isChange","u_ifRTE","_mapUnit","27LUyKEH","_initDataMap","16ohrMlp","ids","_initRenderOpts","133gxIWij","bufferBloom","disable","_initTexture","_tick","startTime","201468PhOyaR","_objMap","blendFunc","SRC_ALPHA","DEPTH_TEST"],oU=aU;function aU(t,e){return sU[t-=232]}!function(t,e){const r=aU;for(;;)try{if(111640===-parseInt(r(292))+parseInt(r(232))+parseInt(r(252))+-parseInt(r(274))*-parseInt(r(246))+-parseInt(r(237))*parseInt(r(243))+parseInt(r(288))*-parseInt(r(262))+parseInt(r(241))*parseInt(r(280)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(sU);class hU extends _M{constructor(t={}){super(t),this._drawData={}}[oU(245)](t,e){const r=oU;super[r(245)](t,e),this[r(293)]=!0===e.isRTE&&e[r(273)],this[r(275)]=new nU(this[r(281)]),this[r(259)]=!0}[oU(279)](){const t=oU;if(!this[t(238)])return;const e=this[t(271)]();this[t(233)][t(244)]=[];for(let r of e)r[t(242)](this[t(235)]),!e.resetByUnit&&r[t(289)](this[t(240)],this[t(293)]),this._render[t(249)](r.bloomIcon),this[t(275)][t(249)](r.trailIcon),this._render[t(284)](r),this._drawData.ids[t(277)](r._id);this[t(238)]=!1}addMathCell(t){const e=oU;if(!(t instanceof yP))throw TypeError("parameter must be instance of GridHeat!");!this[e(253)][e(282)](t[e(234)])&&(this[e(253)][e(291)](t[e(234)],t),this._isChange=!0)}[oU(286)](t){const e=oU;this[e(233)].ids&&(this[e(251)]=this[e(251)]||window.Date[e(283)](),this[e(250)](t))}[oU(250)](t){const e=oU;this[e(233)][e(244)]&&this._iteration(t)}[oU(276)](t={}){const e=oU,r=this[e(281)];r[e(248)](r.DEPTH_TEST);const i=this[e(251)]?window[e(287)][e(283)]()-this[e(251)]:0,n=this[e(233)][e(244)];for(let s=0;s<n[e(268)];s++){const o=this[e(253)][e(282)](n[s]);if(!o)continue;o[e(263)]===e(290)?(r[e(260)](r[e(278)]),r.blendEquation(r[e(264)]),r[e(254)](r[e(255)],r[e(236)]),r[e(248)](r[e(256)])):(r[e(260)](r.BLEND),r[e(254)](r[e(255)],r.ONE_MINUS_SRC_ALPHA),r[e(248)](r.DEPTH_TEST));const a=i/1e3%o[e(258)];a>o[e(270)]&&a<o.timeTrail+.02&&o.updateBloomInertias();const h=a>o[e(270)]?o[e(247)]:o.bufferTrail,l={u_mvMatrix:t.u_mvMatrix,u_projMatrix:t[e(266)],u_ifRTE:t[e(239)],u_unit:t[e(285)],u_camera:t[e(267)],u_pattern:0,u_deltaTime:a,u_opacity:h[e(257)],u_endOpacity:h.endOpacity,iconUrl:h.iconUrl,u_size:h[e(265)],u_timeTrail:o[e(270)],u_timeBloom:o.timeBloom,u_gravity:o[e(269)],u_particleCount:o[e(261)],u_particleInterval:o.particleTrailInterval};this[e(275)][e(272)](h,l)}r[e(260)](this[e(281)][e(256)])}}var lU=["uniform1f","u_needLoop","934878taKOCd","20788VrnogR","199CvjOtq","400442KwVesB","u_framesParam","uniform1i","2TedtOB","4521hIZvjb","5557jSdlbO","32lWAjdU","uniforms","514581hItyfe","396174udGXMk","u_unit","29GKEWDy"];function cU(t,e){return lU[t-=219]}!function(t,e){for(var r=cU;;)try{if(556030===-parseInt(r(225))+parseInt(r(233))*parseInt(r(228))+parseInt(r(223))*-parseInt(r(231))+parseInt(r(224))*-parseInt(r(229))+parseInt(r(234))+parseInt(r(222))+parseInt(r(230))*parseInt(r(219)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(lU);class uU extends qc{constructor(t,e,r){super(t,e,r)}setPrivateUniforms(t){var e=cU;this.gl.uniform1f(this[e(232)][e(235)],t[e(235)]),this.gl[e(220)](this[e(232)][e(226)],t[e(226)]),this.gl[e(227)](this[e(232)][e(221)],t[e(221)])}}const pU=["274103wBLMUv","7opporb","fsShader","340643FQfQOv","265051LddzJG","#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    in vec4 v_color;\n    in float v_depth;\n    uniform float u_logDepthFunc;\n   \n    out vec4 outColor;\n    \n    void main(){\n        outColor = v_color;\n        gl_FragDepth=log2(v_depth)*u_logDepthFunc*0.5;\n    }\n","vsShader","427437vzjArO","17YmCkPa","1437565wGLQzB","3MlJnnn","212644vnOHgD","6guhCOl","179830qFFBtX"],fU=gU;function gU(t,e){return pU[t-=454]}!function(t,e){const r=gU;for(;;)try{if(869578===parseInt(r(461))+-parseInt(r(467))*parseInt(r(455))+-parseInt(r(463))+parseInt(r(466))*-parseInt(r(454))+-parseInt(r(464))*parseInt(r(458))+-parseInt(r(465))+parseInt(r(457))*parseInt(r(462)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(pU);const dU={};dU[fU(460)]="#version 300 es\n    #define PI 3.141592654\n    in  vec3  a_positionH;\n    in  vec3  a_positionL;\n    in float a_pointSize;\n    in  vec4  a_color;\n   \n    \n    in float a_currFrameNum;\n    in float a_nextFrameNum;\n    in float a_routeFrameSum;\n    in float a_startFrameNum;\n    in vec3 a_offsetPerFrame;\n    uniform float u_framesParam;\n    uniform bool u_needLoop;\n\n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_mvMatrix;\n    uniform mat4 u_projMatrix;\n    uniform bool u_ifRTE;\n    uniform float u_unit;\n    \n    out vec4  v_color;\n    out float v_depth;\n      \n    vec4 corrections(){\n        vec3 highD=a_positionH-u_cameraH;\n        vec3 diff=a_positionL-u_cameraL;\n        vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n        return vec4(highD+lowD,1.0);\n    }\n    \n    void main(){\n        float param = (u_framesParam - a_startFrameNum);\n        float flowFrameSum = a_routeFrameSum;\n        if(u_needLoop){\n            while(param > flowFrameSum){\n                param = param - flowFrameSum;\n            }\n        }else{\n            if(param >= flowFrameSum){\n                param = flowFrameSum;\n            }\n        }\n        vec4 position=vec4(a_positionH,1.0);\n        mat4 mvMatrix=u_mvMatrix;\n        if(u_ifRTE){\n            mat4 mvR2Eye=u_mvMatrix;            \n            mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n            mvMatrix=mvR2Eye;\n            position=corrections();\n        }\n        if(param <= a_nextFrameNum && param >= a_currFrameNum){\n            float lineParam = param - a_currFrameNum;\n            position = position + vec4(a_offsetPerFrame*lineParam, 0.0);\n            gl_Position=u_projMatrix * mvMatrix * position;\n            gl_PointSize = a_pointSize;\n        }\n        v_color = a_color;\n        v_depth=1.0+gl_Position.w;\n    }  \n",dU[fU(456)]=fU(459);const _U=["nextFrameNumBuffer","_upBuffer","215ciapVB","6513SrQmXy","_initToRender","enable","clx","1dGpznd","a_offsetPerFrame","startFrameNumBuffer","vsShader","_vpMatrix","1352157OGcRoI","clz","u_cameraL","uniform1f","1670CCQORL","POINTS","ARRAY_BUFFER","currFrameNums","sizes","routeFrameSums","FLOAT","a_nextFrameNum","208cWNAYV","uniformMatrix4fv","a_color","routeFrameSumBuffer","uniform3fv","createBuffer","createVertexArray","offsetPerFrameBuffer","_addStaticBufferD","_addVerBuffer","currFrameNumBuffer","2illEPY","a_positionH","chy","count","res","enableVertexAttribArray","vao","getElements","startFrameNums","uniform1i","a_positionL","bindBuffer","u_mvMatrix","a_pointSize","useProgram","u_ifRTE","getAttributeLocations","749119vpyUGk","_sideNum","u_camera","u_cameraH","positionBuffer","positions","drawArrays","_drawFlows","93091ylVGDj","_createBuffer","u_projMatrix","_posSize","a_routeFrameSum","vertexAttribPointer","uniforms","draw","nextFrameNums","a_startFrameNum","chx","655993BpkiQs","pointSizeBuffer","cly","colorBuffer","2704154LXgVYT","buffer","u_logDepthFunc","bindVertexArray","setPrivateUniforms","_program"],yU=mU;function mU(t,e){return _U[t-=420]}!function(t,e){const r=mU;for(;;)try{if(857173===parseInt(r(458))*-parseInt(r(444))+parseInt(r(432))+parseInt(r(445))*-parseInt(r(466))+-parseInt(r(454))+-parseInt(r(449))*-parseInt(r(494))+parseInt(r(421))*-parseInt(r(477))+parseInt(r(436)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_U);class IU extends rR{constructor(t,e,r){const i=mU;super(),this.gl=t,this[i(495)]=r,this[i(453)]=null,this[i(424)]=e,this[i(443)]=!1,this[i(446)]()}setResolution(t){this[mU(481)]=t}[yU(446)](){const t=yU;this[t(441)]=new uU(this.gl,dU[t(452)],dU.fsShader),this[t(483)]=this.gl[t(472)](),this[t(437)]=this[t(422)]()}[yU(428)](t,e){const r=yU;let i=this.gl;this._program[r(491)](),i[r(486)](this[r(441)][r(427)][r(492)],t[r(492)]),i[r(467)](this._program[r(427)][r(489)],!1,t.u_mvMatrix[r(484)]()),i[r(467)](this[r(441)][r(427)][r(423)],!1,t[r(423)][r(484)]());const n=t[r(496)];i[r(470)](this._program[r(427)][r(497)],[n[r(431)],n[r(479)],n.chz]),i.uniform3fv(this[r(441)][r(427)][r(456)],[n[r(448)],n[r(434)],n[r(455)]]),i[r(457)](this._program.uniforms[r(438)],t.u_logDepthFunc),this[r(441)][r(440)](t),i[r(447)](i.DEPTH_TEST),this[r(420)](e)}[yU(420)](t){const e=yU;0!==t[e(480)]&&(this.gl[e(439)](this.vao),this.gl[e(500)](this.gl[e(459)],0,t[e(480)]),this.gl[e(439)](null))}[yU(474)](t,e=!1){const r=yU;this.gl[r(439)](this[r(483)]);const i=this[r(437)];this[r(475)](i.positionBuffer,new Float32Array(t[r(499)]),!1),this[r(475)](i[r(435)],new Float32Array(t.colors),!1),this[r(475)](i[r(433)],new Float32Array(t[r(462)]),!1),this[r(475)](i[r(476)],new Float32Array(t[r(461)]),!1),this[r(475)](i[r(442)],new Float32Array(t[r(429)]),!1),this._addVerBuffer(i[r(469)],new Float32Array(t[r(463)]),!1),this[r(475)](i[r(451)],new Float32Array(t[r(485)]),!1),this[r(475)](i[r(473)],new Float32Array(t.offsetPerFrames),!1),this.gl[r(439)](null)}_addChangeBufferD(t){}_createBuffer(){const t=yU;let e=this.gl;e[t(439)](this[t(483)]);let r=this[t(424)],i={},n=this[t(441)][t(493)]();return i[t(498)]=e.createBuffer(),e.bindBuffer(e[t(460)],i.positionBuffer),e[t(426)](n[t(478)],3,e[t(464)],!1,4*r,0),e[t(482)](n[t(478)]),e[t(426)](n[t(487)],3,e[t(464)],!1,4*r,4*(r-3)),e[t(482)](n[t(487)]),i[t(435)]=e[t(471)](),e[t(488)](e.ARRAY_BUFFER,i[t(435)]),e[t(426)](n[t(468)],4,e[t(464)],!1,0,0),e.enableVertexAttribArray(n[t(468)]),i[t(433)]=e[t(471)](),e.bindBuffer(e[t(460)],i[t(433)]),e[t(426)](n[t(490)],1,e[t(464)],!1,0,0),e[t(482)](n[t(490)]),i[t(476)]=e[t(471)](),e[t(488)](e[t(460)],i[t(476)]),e[t(426)](n.a_currFrameNum,1,e.FLOAT,!1,0,0),e[t(482)](n.a_currFrameNum),i[t(442)]=e[t(471)](),e[t(488)](e.ARRAY_BUFFER,i[t(442)]),e[t(426)](n[t(465)],1,e[t(464)],!1,0,0),e[t(482)](n[t(465)]),i[t(469)]=e[t(471)](),e.bindBuffer(e[t(460)],i.routeFrameSumBuffer),e.vertexAttribPointer(n.a_routeFrameSum,1,e[t(464)],!1,0,0),e[t(482)](n[t(425)]),i[t(451)]=e[t(471)](),e[t(488)](e[t(460)],i[t(451)]),e[t(426)](n[t(430)],1,e[t(464)],!1,0,0),e[t(482)](n[t(430)]),i.offsetPerFrameBuffer=e[t(471)](),e[t(488)](e[t(460)],i[t(473)]),e[t(426)](n.a_offsetPerFrame,3,e[t(464)],!1,0,0),e[t(482)](n[t(450)]),e[t(439)](null),i}}const xU=["push","_mapUnit","_id","isRTE","getAllMathCells","removeAll","_addStaticBufferD","parameter must be instance of TracePoint!","positions","BLEND","778gbndpP","disable","_map","_initRenderOpts","u_needLoop","_objMap","ONE","getCamera","data","colors","406eFFxCX","ONE_MINUS_SRC_ALPHA","SRC_ALPHA","_isRTE","979716NWCoiS","107684cfLHCh","22JmAmAj","log","blendFunc","offsetPerFrames","blendEquation","19KrZNSv","2Ccqrks","frameDelay","get","dataReady","removeMathCellById","float32FromDouble64","_isStart","402111fxOnJO","additive","fill","_tick","enable","_draw","44208pvUwSr","54985SSOeDI","_isChange","nextFrameNums","count","processData","hasOwnProperty","addMathCell","framesParam","u_logDepthFunc","_renderable","LN2","1592188uowVcc","loop","_srid","draw","needLoop","startFrameNums","_render","DEPTH_TEST","start","sizes","set","blendMode","FUNC_ADD","length","currFrameNums"],vU=wU;!function(t,e){const r=wU;for(;;)try{if(856224===parseInt(r(333))+parseInt(r(318))+parseInt(r(279))+-parseInt(r(314))*parseInt(r(304))+-parseInt(r(320))*parseInt(r(267))+parseInt(r(268))*-parseInt(r(325))+-parseInt(r(319))*-parseInt(r(326)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xU);class bU extends _M{constructor(t={}){const e=wU;super(t),this._isChange=!1,this[e(332)]=!1,this[e(283)]=!t[e(273)]("loop")||t[e(280)],this[e(290)]=t[e(273)](e(290))?t[e(290)]:"additive",this[e(275)]=0}[vU(307)](t,e){const r=vU;super._initRenderOpts(t,e);const i=e[r(297)]?6:3;this[r(317)]=!0===e[r(297)]&&e[r(297)],this[r(285)]=new IU(this._gl,i),this[r(277)]=!0}[vU(274)](t){const e=vU;if(!(t instanceof vP))throw TypeError(e(301));!this[e(309)][e(328)](t[e(296)])&&(this._objMap[e(289)](t[e(296)],t),this._isChange=!0)}[vU(330)](t){const e=vU;super[e(330)](t),this[e(269)]=!0}[vU(299)](){const t=vU;super[t(299)](),this[t(269)]=!0}[vU(266)](t){const e=vU;this[e(269)]&&(this._addDataToRender(),this[e(269)]=!1),this[e(336)](t)}[vU(336)](t={}){const e=vU;if(!this[e(332)])return;const r=this._gl;this[e(290)]!=e(334)?(r[e(265)](r[e(303)]),r[e(322)](r[e(316)],r[e(315)])):(r[e(265)](r[e(303)]),r[e(324)](r[e(291)]),r.blendFunc(r[e(316)],r[e(310)]),r[e(305)](r[e(286)])),t&&(t.u_framesParam=this.framesParam,t[e(308)]=this[e(283)],t[e(276)]=2/(Math[e(321)](this[e(306)][e(311)]().getFPlaneDistance()+1)/Math[e(278)]));const i={count:this[e(271)]};this[e(285)][e(282)](t,i),this.framesParam++}[vU(287)](){this[vU(332)]=!0}pause(){this[vU(332)]=!1}_addDataToRender(){const t=vU,e=[],r=[],i=[],n=[],s=[],o=[],a=[],h=[];let l=0;const c=this[t(298)]();for(let u=0;u<c[t(292)];u++){const p=c[u];!p[t(329)]&&p[t(272)](this[t(281)]);let f=p[t(312)];const g=f[t(302)],d=f[t(313)],_=f[t(293)],y=f[t(270)],m=f.routeFrameSums,I=f[t(323)],x=f[t(288)];for(let r=0;r<g[t(292)];r++){const i=g[r];if(this[t(317)]){const r=Pt[t(331)](i[0],this[t(295)]),n=Pt[t(331)](i[1],this[t(295)]),s=Pt.float32FromDouble64(i[2],this[t(295)]);e.push(r[0],n[0],s[0],r[1],n[1],s[1])}else e.push(i[0],i[1],i[2])}r[t(294)](...d),i[t(294)](..._),n[t(294)](...y),s[t(294)](...m),a[t(294)](...I),h[t(294)](...x);const v=p.drawPointNum;p[t(284)]=new Array(v)[t(335)](this[t(275)]+p[t(327)]),o[t(294)](...p[t(284)]),l+=v}this.count=l;const u={positions:e,colors:r,sizes:h,currFrameNums:i,nextFrameNums:n,routeFrameSums:s,startFrameNums:o,offsetPerFrames:a};this[t(285)][t(300)](u),this[t(287)]()}}function wU(t,e){return xU[t-=265]}var TU=["uniform3fv","setPrivateUniforms","u_vpMatrix","73852Kfxpam","u_viewport","11ACwouu","806819qPRiak","1028534nsOYHx","uniform1f","u_mapCenter","uniform2fv","107kaMxWL","33290nAkboD","5003IPDhIn","347040sJkfck","getElements","uniforms","240449SoOzuz"],EU=CU;function CU(t,e){return TU[t-=338]}!function(t,e){for(var r=CU;;)try{if(414359===parseInt(r(350))+parseInt(r(339))+-parseInt(r(354))*parseInt(r(338))+-parseInt(r(347))+parseInt(r(344))*-parseInt(r(346))+parseInt(r(345))+parseInt(r(340)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(TU);class AU extends qc{constructor(t,e,r){super(t,e,r)}[EU(352)](t){var e=EU;this.gl.uniformMatrix4fv(this.uniforms[e(353)],!1,t[e(353)][e(348)]()),this.gl[e(341)](this[e(349)].u_time,Date.now()%1e5),this.gl[e(351)](this.uniforms.u_center,new Float32Array(t.u_center)),this.gl[e(351)](this[e(349)][e(342)],new Float32Array(t[e(342)])),this.gl[e(343)](this.uniforms[e(355)],new Float32Array(t[e(355)]))}}const MU=["1514378aWrUQv","3gjuJzZ","1422507vcRXxj","1763kvsipH","fsShader","424091njMPVF","4507248vjRVJF","#version 300 es\nin vec3 a_position;\nuniform vec3 u_center;\nuniform vec3 u_mapCenter;\nuniform mat4 u_vpMatrix;\nout vec4 v_center;\nout vec4 v_mapCenter;\nvoid main(){\n    gl_Position=u_vpMatrix*vec4(a_position,1.0);\n    v_center = u_vpMatrix*vec4(u_center,1.0);\n    v_mapCenter = u_vpMatrix*vec4(u_mapCenter,1.0);\n}\n","1300827qnEeYl","198AgKBCu","7897osntNw","281JhjRHZ"],SU=PU;function PU(t,e){return MU[t-=153]}!function(t,e){const r=PU;for(;;)try{if(957816===parseInt(r(157))*-parseInt(r(156))+parseInt(r(160))*-parseInt(r(164))-parseInt(r(155))+parseInt(r(159))+parseInt(r(162))*parseInt(r(158))+-parseInt(r(161))+parseInt(r(153)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(MU);let RU={};RU.vsShader=SU(154),RU[SU(163)]="#version 300 es\nprecision mediump float;\nin vec4 v_center;\nin vec4 v_mapCenter;\nuniform vec2 u_viewport;\nuniform float u_time;\nout vec4 outColor;\nvoid main(){\n        vec2 p = (2.0*gl_FragCoord.xy+v_mapCenter.xy*u_viewport-v_center.xy*u_viewport/v_center.w-u_viewport)/u_viewport.y;\n        float tau = 3.1415926535*2.0;\n        float a = atan(p.y,p.x);\n\n        float timeForce = 0.5; //\n        float xCol=mod(a/tau+u_time/1000.0*timeForce,1.0) ;\n        vec3 horColour = vec3(0.0,0.0,0.0); // 0n        if (xCol < 1.0/3.0) {\n            horColour.r += 1.0;\n            horColour.g += xCol*3.0;\n            horColour.b += 1.0-xCol*3.0;\n        }\n        else if (xCol < 2.0/3.0) {\n\n            xCol -= 1.0/3.0;\n            horColour.g += 1.0;\n            horColour.b += xCol*3.0;\n            horColour.r += 1.0 -xCol*3.0;\n        }\n        else {\n            xCol -= 2.0/3.0;\n            horColour.b += 1.0;\n            horColour.r += xCol*3.0;\n            horColour.g += 1.0 - xCol*3.0;\n        }\n        outColor = vec4(horColour, 1.0);\n}\n";const LU=["1270119Jyaibb","length","vao","_drawColorFrame","_addVerBuffer","ARRAY_BUFFER","drawElements","UNSIGNED_SHORT","62199cAGkvG","206008VrUgZO","_upBuffer","8461OaTEuz","offset","3ViFzyo","createBuffer","createVertexArray","u_center","STATIC_DRAW","useProgram","setPrivateUniforms","83966GpcvYa","bindBuffer","vsShader","indicesBuffer","547277cluikm","a_indices","getAttributeLocations","_program","FLOAT","bindVertexArray","_createBuffer","203ilmxJA","7gyDZUW","positionBuffer","drawCount","vertexAttribPointer","fsShader","buffer","TRIANGLES","bufferData","ELEMENT_ARRAY_BUFFER","a_position","295761pfPfbl"],FU=DU;function DU(t,e){return LU[t-=226]}!function(t,e){const r=DU;for(;;)try{if(932693===-parseInt(r(240))*parseInt(r(260))+-parseInt(r(261))*parseInt(r(237))+parseInt(r(229))+-parseInt(r(238))+parseInt(r(228))+parseInt(r(249))+-parseInt(r(253))*-parseInt(r(242)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(LU);class OU extends rR{constructor(t){super(),this.gl=t,this._vpMatrix=null,this._initToRender()}_initToRender(){const t=DU;this[t(256)]=new AU(this.gl,RU[t(251)],RU[t(265)]),this[t(231)]=this.gl[t(244)](),this.buffer=this[t(259)]()}draw(t,e){const r=DU,i=t.idArray[r(230)];this.gl[r(258)](this[r(231)]);for(let n=0;n<i;n++){const i={drawCount:t[r(263)][n],offset:t.offset[n]},s=t[r(245)][n];e[r(245)]=s,this[r(256)][r(247)](),this[r(256)][r(248)](e),this[r(232)](i)}this.gl.bindVertexArray(null)}[FU(232)](t){const e=FU;let r=this.gl,i=t[e(263)],n=t[e(241)];r[e(235)](r[e(267)],i,r[e(236)],2*n)}_addChangeBufferD(t){const e=FU,r=this.gl;r.bindVertexArray(this._vao),this[e(233)](this[e(266)][e(262)],new Float32Array(t[e(227)]),!1),r[e(250)](r[e(226)],this[e(266)][e(252)]),r[e(268)](r[e(226)],new Uint16Array(t[e(254)]),r[e(246)]),r[e(258)](null),this[e(239)]=!0}[FU(259)](){const t=FU;let e=this.gl;e[t(258)](this.vao);let r={},i=this[t(256)][t(255)]();return r[t(262)]=e.createBuffer(),e.bindBuffer(e[t(234)],r[t(262)]),e[t(264)](i[t(227)],3,e[t(257)],!1,0,0),e.enableVertexAttribArray(i[t(227)]),r.indicesBuffer=e[t(243)](),e[t(250)](e[t(226)],r[t(252)]),e.bindVertexArray(null),r}}const NU=["drawCount","parameter must be instance of ColorFrame!","_drawData","_assemble","1033ZZntrs","u_mapCenter","removeMathCellById","90842NquCVV","238727zBiKrl","_center","a_indices","map","update","_initRenderOpts","6433bQcdKq","_objMap","toArray","_initDrawData","idArray","148173OBkjNe","_tick","_isChange","u_center","splice","set","indexOf","isChange","43TxRVSi","getViewport","1GRDtlU","a_position","_upBuffer","length","removeAll","_map","148474HxGdKc","_setMap","_render","_upFlag","235189FnWIih","index","_id","push","271tCxZMq","get","updateDrawData","isRTE"],BU=UU;function UU(t,e){return NU[t-=116]}!function(t,e){const r=UU;for(;;)try{if(172611===-parseInt(r(150))+-parseInt(r(119))*parseInt(r(160))+-parseInt(r(135))*-parseInt(r(127))-parseInt(r(123))-parseInt(r(138))+parseInt(r(158))*parseInt(r(145))+parseInt(r(139)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(NU);class kU extends _M{constructor(t){const e=UU;super(t),this[e(152)]=!1,this[e(148)]()}[BU(144)](t,e){const r=BU;super[r(144)](t,e);const i=e[r(130)]?6:3;this[r(121)]=new OU(this._gl,i),this._renderable=!0}addMathCell(t){const e=BU;if(!(t instanceof EP))throw TypeError(e(132));!this[e(146)][e(128)](t[e(125)])&&(this[e(146)][e(155)](t[e(125)],t),this[e(152)]=!0,t[e(120)](this[e(118)]))}[BU(137)](t){super[BU(137)](t),this._isChange=!0}[BU(117)](){super[BU(117)](),this._isChange=!0}[BU(129)](t){const e=BU;if(t)if(this[e(146)].get(t)){const r=this._objMap[e(128)](t);let i=this[e(133)][e(149)][e(156)](t);-1===i?(this[e(134)](r),this[e(122)][e(124)]=i,this[e(122)][e(157)]=!0,this[e(122)].update="A"):(this[e(122)][e(124)]=i,this[e(122)][e(157)]=!0,this[e(122)][e(143)]="R")}else{let r=this[e(133)][e(149)][e(156)](t);-1!==r&&(this[e(133)][e(149)][e(116)]=0,this[e(133)][e(161)][e(116)]=0,this[e(133)].a_indices[e(116)]=0,this[e(133)][e(153)][e(116)]=0,this[e(122)][e(124)]=r,this[e(122)].isChange=!0,this[e(122)][e(143)]="D")}else{this[e(148)]();for(let t of this[e(146)].values())this._assemble(t);this[e(122)].index=null,this._upFlag.isChange=!0,this._upFlag[e(143)]="O"}}_draw(){const t=BU;0!==this[t(133)][t(149)][t(116)]&&(!this[t(121)][t(162)]||this[t(122)].isChange)&&(this[t(121)]._addChangeBufferD(this[t(133)]),this[t(122)][t(157)]=!1)}[BU(151)](t={}){const e=BU,r=this._map[e(159)]()[e(154)](2,2),i=this._map.getCenter()[e(147)]();t.u_viewport=r,t[e(136)]=i,0!==this[e(133)].idArray[e(116)]&&this[e(121)].draw(this[e(133)],t)}[BU(148)](){this[BU(133)]={idArray:[],a_position:[],a_indices:[],u_center:[],drawCount:[],offset:[]}}_assemble(t){const e=BU,r=this[e(133)][e(161)][e(116)]/3,i=this[e(133)][e(141)].length;let n=t[e(124)];n=n[e(142)]((t=>t+r)),this[e(133)].idArray.push(t[e(125)]),this._drawData[e(161)][e(126)](...t[e(161)]),this[e(133)][e(141)][e(126)](...n),this[e(133)][e(131)][e(126)](n[e(116)]),this[e(133)].offset[e(126)](i),this._drawData.u_center.push(t[e(140)])}}const VU=["38371wERCQP","uniformMatrix4fv","uniform3fv","u_reflectivity","u_ifRTE","u_unit","u_flowScale","uniform1i","1251805IBcsWN","clx","u_offset","331643SZdHtI","u_mapSize","cly","setPrivateUniforms","4JAJKTu","97787dlWDZD","uniform4fv","u_projMatrix","uniforms","u_waveScale","uniform1f","clz","194994psUwXU","u_miPerMapUnit","getElements","820121fuKztA","17vMwgOF","u_mvMatrix","chx","uniform2fv","u_normalMap0","217343TVptRR","u_flowDirection","u_cameraH","3PRvUDj"],GU=zU;function zU(t,e){return VU[t-=196]}!function(t,e){const r=zU;for(;;)try{if(649423===-parseInt(r(210))-parseInt(r(198))-parseInt(r(213))+parseInt(r(222))*-parseInt(r(203))-parseInt(r(231))+-parseInt(r(202))*parseInt(r(223))+parseInt(r(214))*parseInt(r(219)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(VU);class HU extends qc{constructor(t,e,r){super(t,e,r)}[GU(201)](t){const e=GU;this.gl.uniform1f(this[e(206)].u_unit,t[e(228)]),this.gl[e(230)](this[e(206)][e(227)],t[e(227)]);const r=t.u_camera;this.gl[e(225)](this[e(206)][e(221)],[r[e(216)],r.chy,r.chz]),this.gl[e(225)](this[e(206)].u_cameraL,[r[e(196)],r[e(200)],r[e(209)]]),this.gl[e(224)](this[e(206)][e(215)],!1,t[e(215)][e(212)]()),this.gl[e(224)](this.uniforms[e(205)],!1,t[e(205)][e(212)]()),this.gl[e(217)](this.uniforms.u_mapSize,new Float32Array(t[e(199)])),this.gl[e(204)](this[e(206)].u_color,t.u_color),this.gl[e(208)](this[e(206)][e(229)],t[e(207)]),this.gl[e(217)](this[e(206)][e(197)],new Float32Array(t[e(197)])),this.gl[e(208)](this.uniforms[e(211)],t.u_miPerMapUnit),this.gl.uniform1f(this[e(206)].u_reflectivity,t[e(226)]),this.gl[e(217)](this.uniforms[e(220)],t[e(220)]),this.gl[e(230)](this[e(206)][e(218)],1),this.gl[e(230)](this[e(206)].u_normalMap1,2)}}const jU=["74293XTvaAE","#version 300 es\n    precision highp float;\n    uniform sampler2D u_reflectionMap;\n    uniform sampler2D u_normalMap0;\n    uniform sampler2D u_normalMap1;\n    \n    uniform vec4 u_color;\n    uniform float u_reflectivity;\n    uniform vec2 u_mapSize;\n    uniform vec2 u_offset;\n    \n    in vec2 v_color0Uv;\n    in vec2 v_color1Uv;\n    \n    out vec4 outColor;\n    \n    void main() {\n        vec2 uv0 = v_color0Uv; vec2 uv1 = v_color1Uv;\n        float halfCycle = 0.15 * 0.5;\n        vec4 normalColor0 = texture( u_normalMap0, uv0);\n        vec4 normalColor1 = texture( u_normalMap1, uv1);\n        float flowLerp = abs( halfCycle - u_offset.x ) / halfCycle;\n        vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );\n        vec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );\n        vec3 eyeDir = normalize(vec3(1.0, 1.0, 1.0));\n        float theta = max( dot( eyeDir, normal ), 0.0 );\n        float reflectance = u_reflectivity + ( 1.0 - u_reflectivity ) * pow( ( 1.0 - theta ), 2.0 );\n        \n        vec2 reflectUv = vec2(gl_FragCoord.x/u_mapSize.x, 1.0 - gl_FragCoord.y/u_mapSize.y) + normal.xz * 0.02; //0.05\n        vec4 reflectColor = texture( u_reflectionMap, reflectUv );\n        reflectColor.a = 1.0;\n        vec4 refractColor = u_color;    \n        outColor = mix( refractColor, reflectColor, reflectance );\n    }\n","929274kBlCmS","4sBYrdC","#version 300 es\nin vec3 a_positionH;\nin vec3 a_positionL;\n\nout vec2 v_color0Uv;\nout vec2 v_color1Uv;\n\nuniform vec3 u_cameraH;\nuniform vec3 u_cameraL;\nuniform mat4 u_mvMatrix;\nuniform mat4 u_projMatrix;\nuniform bool u_ifRTE;\nuniform float u_unit;\n\nuniform vec2 u_flowDirection;\nuniform float u_flowScale;\nuniform vec2 u_offset;  \nuniform float u_miPerMapUnit;       //n\nvec4 corrections(vec3 positionH, vec3 positionL){\n    vec3 highD=positionH-u_cameraH;\n    vec3 diff=positionL-u_cameraL;\n    vec3 lowD=diff/10000000.0*(1.0-u_unit)+diff*u_unit;\n    return vec4(highD+lowD,1.0);\n}\n    \nvoid main() {\n  vec4 position=vec4(a_positionH,1.0);\n  mat4 mvMatrix=u_mvMatrix; \n  if(u_ifRTE){\n     position=corrections(a_positionH, a_positionL);\n     mat4 mvR2Eye=u_mvMatrix;\n     mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n     mvMatrix=mvR2Eye;           \n  }\n  gl_Position = u_projMatrix * mvMatrix * position;\n  vec3 vPosition = a_positionH + a_positionL/10000000.0*(1.0-u_unit)+a_positionL*u_unit;\n  float scale = u_flowScale; vec2 flowDir = u_flowDirection;\n        flowDir.x *= - 1.0;\n  vec2 vUv = (vPosition.xy - vec2(120.0, 30.0)) * u_miPerMapUnit/vec2(200.0,200.0);\n  v_color0Uv = ( vUv * scale ) + flowDir * u_offset.x;\n  v_color1Uv = ( vUv * scale ) + flowDir * u_offset.y;\n}\n","289qZGoLX","769969SWuUtv","360722Yzwngp","1CFqcEy","213548rREngR","139asEiFT","48209zkuDlk"],YU=XU;!function(t,e){const r=XU;for(;;)try{if(465193===-parseInt(r(371))+parseInt(r(373))+-parseInt(r(365))+parseInt(r(366))+-parseInt(r(369))*-parseInt(r(376))+parseInt(r(370))*parseInt(r(374))+parseInt(r(368))*-parseInt(r(367)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(jU);const $U={};function XU(t,e){return jU[t-=365]}$U.vsShader=YU(375),$U.fsShader=YU(372);const WU=["clone","setUp","beforeRenderEvents","translateMatrix","1192619TpPVMw","getAllLayers","setTranslate","_rotateX","2lWsoDp","addColorAttachment","FRAMEBUFFER","359qlQfCq","multiplyVector3","_rotateZMatrix","190398EQUQuO","readyDrawReflection","afterRenderEvents","_eyeX","frameReady","translate","clipUnderWater","4619mJnBIl","originRotateX","8FDHLde","_eyeZ","105341LGYHbt","_camera","originRotateXMatrix","afterRender","bindFramebuffer","render","multiply","1oHrEsa","resetRender","push","18gwjGJp","79311rbFEZY","762322DYyYST","getElements","_rotateXMatrix","300687fHmqvI","_redrawType","rotate","_eyeY","originEye","frameBuffer","5gaMRBz","deactive","setDepthAttachment","rotateMatrix","originRedrawType","map"],ZU=qU;function qU(t,e){return WU[t-=127]}!function(t,e){const r=qU;for(;;)try{if(838865===parseInt(r(159))*parseInt(r(165))-parseInt(r(133))+-parseInt(r(175))*parseInt(r(151))+-parseInt(r(156))*parseInt(r(127))+-parseInt(r(155))*-parseInt(r(154))+parseInt(r(144))*-parseInt(r(142))+parseInt(r(130))*parseInt(r(140)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(WU);class JU extends Kx{constructor(e,r=0,i){const n=qU;super(e,r,i),this.beforeRenderEvents=[],this[n(135)]=[],this[n(138)]=i.translate||[0,0,0],this[n(161)]=i[n(161)]||[0,0,0];let s=this[n(161)],o=this.translate;s&&(s[0]||s[1]||s[2])?(this[n(168)]=(new t.Matrix4).rotate(this.rotate[0],1,0,0).rotate(this[n(161)][1],0,1,0)[n(161)](this.rotate[2],0,0,1),this[n(174)]=(new t.Matrix4)[n(177)](o[0],o[1],o[2])):(this[n(168)]=new t.Matrix4,this[n(174)]=(new t.Matrix4)[n(177)](0,0,o[2])),this[n(137)]=!0,this[n(134)]=!1}[ZU(172)](){const t=ZU;this[t(128)](0,0),this[t(167)](1),super[t(172)]()}active(e){const r=ZU;this.map=e;const i=this.gl;if(i[r(148)](i[r(129)],this[r(164)]),this[r(137)]){let e=this[r(170)][r(145)];this[r(146)]=e._rotateXMatrix[r(171)](),this[r(141)]=e.getRotateX();let i=e[r(136)],n=e._eyeY,s=e[r(143)],o=e.getRotateX(),a=(new t.Matrix4).setTranslate(0,0,-s)[r(161)](180-o,1,0,0)[r(138)](0,0,s);e[r(158)]=a[r(150)](this.rotateMatrix),e[r(132)]=(new t.Matrix4)[r(150)](e._rotateZMatrix)[r(150)](this[r(168)]),this[r(163)]=[i,n,s];let h=(new t.Matrix4)[r(150)](this.translateMatrix)[r(150)](this.rotateMatrix)[r(131)](new t.Vector3(i,n,s));e[r(136)]=h.getElements()[0],e._eyeY=h[r(157)]()[1],e[r(143)]+=2*(h.getElements()[2]-e[r(143)]),e._rotateX=180-o;for(let t of this[r(170)][r(176)]())t instanceof Lb&&(t[r(139)]=!0);this[r(169)]=this[r(170)][r(160)],this[r(170)][r(160)]=1,this[r(134)]=!1}}[ZU(166)](){const t=ZU,e=this.gl;if(e[t(148)](e[t(129)],null),this[t(137)]&&this.map){this[t(170)][t(145)][t(158)]=this[t(146)],this[t(170)]._camera[t(178)]=this.originRotateX,this[t(170)][t(145)][t(136)]=this[t(163)][0],this[t(170)][t(145)][t(162)]=this.originEye[1],this[t(170)][t(145)]._eyeZ=this[t(163)][2];for(let e of this[t(170)][t(176)]())e instanceof Lb&&(e.clipUnderWater=!1);this[t(170)][t(160)]=this[t(169)]}return this}beforeRender(t){const e=ZU;this[e(173)]?this[e(173)][e(153)](t):this[e(173)]=[t]}[ZU(147)](t){const e=ZU;this.afterRenderEvents?this[e(135)].push(t):this[e(135)]=[t]}[ZU(152)](){const t=ZU;this[t(135)]=[],this.beforeRenderEvents=[],this[t(134)]=!1}[ZU(149)](){const t=ZU;this[t(134)]=!0;let e=this[t(135)];if(e&&0!=e.length)for(let t of e)t()}}const KU=["positionBuffer","LINEAR","13180vMRbhn","drawingBufferWidth","a_positionL","indexBuffer","frameHelper","removeFrame","fsShader","map","1nqjbhC","vertexAttribPointer","setPrivateUniforms","LINEAR_MIPMAP_LINEAR","_posSize","uniforms","destroy","_addStaticBufferD","bindVertexArray","STATIC_DRAW","positions","224558YCRPOg","length","1sPKSIO","bindTexture","drawingBufferHeight","afterRenderEvents","173593TLXYzA","useProgram","enableVertexAttribArray","_deleteGPUProperties","_program","ELEMENT_ARRAY_BUFFER","TEXTURE0","REPEAT","_buffers","_addChangeBufferD","11157VzeaEu","normalMap1","readyDrawReflection","addGLTexture","1795178TkIpKV","createVertexArray","_activeFrame","onload","frameReady","crossOrigin","FLOAT","TEXTURE_2D","drawElements","_map","redraw","55MFenfq","420782ELllDn","resetRender","drawAfterFrame","_destroyRenderProperties","1dLeJgQ","images/Water_2_M_Normal.jpg","_vpMatrix","TRIANGLES","resource","deleteTexture","_redrawType","resize","_drawReflections","addFrame","_vao","Anonymous","getAttributeLocations","normalMap0","beforeRenderEvents","79dvBLaw","createBuffer","_initToRender","src","drawOpt","indices","draw","reflectFrame","vsShader","colorAttachments","ARRAY_BUFFER","_clearFrame","_waterHeight","UNSIGNED_SHORT","images/Water_1_M_Normal.jpg","a_positionH","_createBuffer","_mathModel","1169633StndLB","1VMGLlG","currSize","texture"];function QU(t,e){return KU[t-=110]}const tk=QU;!function(t,e){const r=QU;for(;;)try{if(886761===parseInt(r(157))*-parseInt(r(201))+parseInt(r(126))*-parseInt(r(196))+-parseInt(r(142))*parseInt(r(177))+parseInt(r(162))*parseInt(r(195))-parseInt(r(158))+-parseInt(r(132))*-parseInt(r(115))+-parseInt(r(128))*-parseInt(r(146)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(KU);class ek extends rR{constructor(t,e,r){const i=QU;super(),this.gl=t,this._mathModel=null,this._posSize=e,this[i(189)]=r.waterHeight,this[i(155)]=r[i(114)],this[i(164)]=null,this[i(197)]=[t[i(202)],t.drawingBufferHeight],this._initToRender()}[tk(179)](){const e=tk;this._activeFrame();let r=$U;this[e(136)]=new HU(this.gl,r[e(185)],r[e(113)]),this[e(172)]=this.gl[e(147)](),this[e(140)]=this[e(193)]();const i=this;let n=new Image;n[e(180)]=t.initState[e(166)]+e(191),n[e(151)]=e(173),n[e(149)]=function(){const t=e;i[t(175)]=i[t(136)][t(145)](n,1,t(139),"REPEAT",0,t(118),t(200))[t(198)]};let s=new Image;s[e(180)]=t.initState[e(166)]+e(163),s[e(151)]=e(173),s[e(149)]=function(){const t=e;i[t(143)]=i[t(136)][t(145)](s,2,t(139),t(139),0,"LINEAR_MIPMAP_LINEAR",t(200))[t(198)]}}[tk(148)](){const t=tk;this[t(184)]=new JU(this.gl,0,{translate:[0,0,this._waterHeight],rotate:[0,0,0]}),this._map[t(111)][t(171)](this[t(184)]);const e=this;this[t(184)].afterRender((function(){e[t(160)]()}))}[tk(188)](){const t=tk;this[t(184)][t(176)]=[],this[t(184)][t(131)]=[],this.reflectFrame[t(150)]=!1,this[t(155)]&&this[t(155)][t(111)][t(112)](this[t(184)]),this[t(184)]=null}drawAfterFrame(){const t=tk,e=this._map.getLayerContainers(),r=this._map[t(168)];for(let i=0;i<e[t(127)];i++){e[i][t(156)](r)}}[tk(183)](t,e){const r=tk;this[r(120)]=t,this.drawOpt=e;let i=this.gl[r(202)],n=this.gl[r(130)];if((this[r(197)][0]!=i||this.currSize[1]!=n)&&(this.reflectFrame&&this[r(184)][r(169)](),this[r(197)]=[i,n]),this[r(184)]&&this[r(184)][r(144)]&&this[r(194)]&&0!=this._mathModel.getVisibility()){let t=this[r(120)],e=this[r(181)];t&&(this[r(136)][r(133)](),this[r(136)][r(117)](t),this[r(170)](e))}}_drawReflections(t){const e=tk;let r=this.gl;r.bindVertexArray(this._vao),r.activeTexture(r[e(138)]+0),r[e(129)](r.TEXTURE_2D,this[e(184)][e(186)][0]||null),r.activeTexture(r.TEXTURE0+1),r.bindTexture(r.TEXTURE_2D,this[e(175)]||null),r.activeTexture(r[e(138)]+2),r[e(129)](r[e(153)],this[e(143)]||null),r[e(154)](r[e(165)],t.count,r[e(190)],0),r[e(123)](null),r[e(129)](r[e(153)],null)}[tk(122)](t){const e=tk;this.gl[e(123)](this[e(172)]);const r=this[e(140)];this._addVerBuffer(r[e(199)],new Float32Array(t[e(125)]),!1),this.gl.bindBuffer(this.gl[e(137)],r.indexBuffer),this.gl.bufferData(this.gl[e(137)],new Uint16Array(t[e(182)]),this.gl[e(124)]),this.gl[e(123)](null)}[tk(141)](){}_createBuffer(){const t=tk;let e=this.gl;e[t(123)](this[t(172)]);let r={},i=this[t(136)][t(174)](),n=this[t(119)];return r[t(199)]=e[t(178)](),e.bindBuffer(e[t(187)],r[t(199)]),e[t(116)](i[t(192)],3,e[t(152)],!1,4*n,0),e[t(134)](i[t(192)]),e[t(116)](i[t(203)],3,e[t(152)],!1,4*n,4*(n-3)),e[t(134)](i[t(203)]),r[t(110)]=e[t(178)](),e.bindBuffer(e[t(137)],r[t(110)]),e[t(123)](null),r}[tk(121)](){const t=tk;this[t(135)](),this.gl[t(167)](this.normalMap0),this.gl.deleteTexture(this[t(143)]),this._map&&this.reflectFrame&&(this._map.frameHelper[t(112)](this[t(184)]),this.reflectFrame[t(159)]()),this[t(161)]()}}const rk=["_renderable","_initParam","_isChange","_objMap","getElements","_renderChange","degrees","_offsetX","_setGeoLayer","getTime","_offsetY","color","_render","updateDrawData","indices","_tick","drawingBufferHeight","_activeFrame","_colorArr","_geoLayer","55633TYQIQW","hasOwnProperty","67dZjIFM","_isRTE","positions","reflectivity","blendEquation","_mapUnit","1119873scEYaN","set","disable","721084akQtzw","reflectFrame","_drawData","length","isRTE","drawingBufferWidth","_addToRender","flowDirection","removeMathCellById","count","enable","_addStaticBufferD","dataMap","u_mapSize","216804KgfQsq","get","processData","removeAll","flowScale","7989QNMFtf","_gl","9iOegme","u_color","parameter must be a hmap.geosolution.cell.WaterReflection!","waterHeight","6YibOIp","_initRenderOpts","DEPTH_TEST","flowSpeed","_mathModel","lastTime","draw","_id","u_flowDirection","348119CYhbpX","u_waveScale","997481MsYXqK","BLEND","push","dataReady"],ik=nk;function nk(t,e){return rk[t-=309]}!function(t,e){const r=nk;for(;;)try{if(567486===parseInt(r(313))*parseInt(r(341))+parseInt(r(358))+parseInt(r(322))+parseInt(r(343))*-parseInt(r(311))+parseInt(r(319))+-parseInt(r(336))+-parseInt(r(347))*parseInt(r(356)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(rk);class sk extends _M{constructor(e){const r=nk;super(e),this[r(346)]=e[r(312)](r(346))?e[r(346)]:0,this[r(316)]=e[r(312)](r(316))?e.reflectivity:.5,this[r(373)]=e[r(373)]instanceof t.Color?e[r(373)]:new t.Color(0,115,250,1),this[r(329)]=e[r(329)]?e.flowDirection:new t.Vector3(0,1,0),this[r(350)]=e.hasOwnProperty(r(350))?.03*e[r(350)]:.03,this[r(340)]=e.hasOwnProperty(r(340))?e.flowScale:1,this[r(369)]=0,this[r(372)]=.075,this[r(363)]()}[ik(363)](){const t=ik;this._isChange=!1,this[t(367)]=!1,this[t(352)]=(new Date)[t(371)]()/1e3,this[t(309)]=this[t(373)].toNormalizeArray()}[ik(348)](t,e){const r=ik;super[r(348)](t,e);const i=e.isRTE?6:3;this[r(314)]=!0===e[r(326)]&&e[r(326)],this[r(312)](r(346))&&(e[r(346)]=this.waterHeight),this[r(374)]=new ek(this._gl,i,e),this._render[r(351)]=this,this[r(362)]=!0}[ik(370)](t){const e=ik;t?this._render&&!this[e(374)][e(323)]&&this._render[e(379)]():this[e(374)]._clearFrame(),this[e(310)]=t}addMathCell(t){const e=ik;if(!(t instanceof SP))throw TypeError(e(345));!this[e(365)][e(337)](t[e(354)])&&(this[e(365)][e(320)](t[e(354)],t),this[e(364)]=!0)}[ik(330)](t){super[ik(330)](t),this._isChange=!0}[ik(339)](){const t=ik;super[t(339)](),this[t(364)]=!0}[ik(375)](){const t=ik;if(!this._isChange)return;let e=[],r=[],i=this.getAllMathCells();for(let n of i){!n[t(361)]&&n[t(338)](this[t(314)],this[t(318)],this[t(346)]);let i=n[t(334)],s=i[t(376)],o=i[t(315)],a=this[t(314)]?e[t(325)]/6:e[t(325)]/3;if(0!=a)for(let t=0;t<s.length;t++)s[t]+=a;e[t(360)](...o),r.push(...s)}this[t(324)]={positions:e,indices:r},this._isChange=!1,this[t(367)]=!0}[ik(328)](){const t=ik;this._render[t(333)](this._drawData),this[t(331)]=this[t(324)][t(376)].length,this[t(324)]=null}_draw(t){const e=ik;this._renderChange&&(this[e(328)](),this[e(367)]=!1),this[e(342)][e(332)](this[e(342)][e(359)]),this[e(342)][e(317)](this[e(342)].FUNC_ADD),this._gl[e(321)](this[e(342)][e(349)]),this[e(377)](t)}_tick(t={}){const e=ik;if(!this.count||0===this[e(331)])return;let r=(new Date).getTime()/1e3,i=r-this.lastTime,n=this[e(350)];this[e(369)]+=n*i,this[e(372)]=this[e(369)]+.075,this[e(369)]>=.15?(this[e(369)]=0,this[e(372)]=.075):this[e(372)]>=.15&&(this[e(372)]=this[e(372)]-.15),t&&(t.u_reflectivity=this[e(316)],t[e(355)]=[this[e(329)][e(366)]()[0],this[e(329)][e(366)]()[1]],t.u_offset=[this._offsetX,this[e(372)]],t[e(344)]=this[e(309)],t[e(357)]=this.flowScale,t.u_miPerMapUnit=this[e(318)]==e(368)?111e3:1,t[e(335)]=[this[e(342)][e(327)],this[e(342)][e(378)]]);const s={count:this[e(331)]};this[e(374)][e(353)](t,s),this[e(352)]=r}}const ok=["_activeFrame","_minCoordArr","deleteTexture","_mathModel","_removeEffect","uniform4fv","_fetchingTextures","getVisibility","_getTexture","src","getInstance","3695OomUHU","frameHelper","_setUniforms","_vpMatrix","clipInfos","_updateTexture","get","program","u_clipBoxInfo[","10299qeAAsg","length","TEXTURE0","_imageSrc","_updateClip","#ifdef CLIPBOX_NUM\n                    struct ClipBoxInfo{\n                        vec3 clipPositionMin;\n                        vec3 clipPositionMax;\n                        vec4 clipColor;\n                        bool clipUseTexture;\n                    };\n                    uniform ClipBoxInfo u_clipBoxInfo[CLIPBOX_NUM];\n                    uniform sampler2D u_clipSampler;\n                    uniform bool clipBoxShow;\n                    #endif","_addChangeBufferD","].clipPositionMax","_getEffect","1wQYuEP","_updateEffect","TEXTURE_2D","1396772ekqcRs","649007GwVZhy","onload","72195ZiEmJz","_id","_map","7hspDVj","texture","_program","_isDestroy","1170102oeNoJQ","382VyDJUI","1Yaaemy","positionBaseFrame","598963bgEWag","CLIPBOX_NUM ","activeTexture","u_clipSampler","11TshnZu","uniform1i","uniform3fv","map","_drawClip","crossOrigin","_updateShader","_textures","13Bhelrh"," #ifdef CLIPBOX_NUM\n                            if(clipBoxShow){\n                                for(int i=0;i<CLIPBOX_NUM;i++){\n                                    vec3 positionMin = u_clipBoxInfo[i].clipPositionMin;\n                                    vec3 positionMax = u_clipBoxInfo[i].clipPositionMax;\n                                    vec4 clipColor = u_clipBoxInfo[i].clipColor;\n                                    bool clipUseTexture = u_clipBoxInfo[i].clipUseTexture;\n                                    if((worldPos.x > positionMin.x) && (worldPos.x < positionMax.x) \n                                        && (worldPos.y > positionMin.y) && (worldPos.y < positionMax.y)\n                                        && (worldPos.z > positionMin.z) && (worldPos.z < positionMax.z)){\n                                         if(clipUseTexture){\n                                            float uvx = (worldPos.x - positionMin.x)/(positionMax.x - positionMin.x);\n                                            float uvy = (worldPos.y - positionMin.y)/(positionMax.y - positionMin.y);\n                                            vec4 texColor = texture(u_clipSampler, vec2(uvx, uvy));\n                                            clipColor *= texColor;\n                                         }\n                                         processColor *= (1.0 - clipColor.a);\n                                         processColor += vec4(clipColor.rgb * clipColor.a, clipColor.a);\n                                    }\n                                }\n                            }\n                            #endif"];function ak(t,e){return ok[t-=109]}const hk=ak;!function(t,e){const r=ak;for(;;)try{if(893754===-parseInt(r(113))*parseInt(r(115))+-parseInt(r(149))*-parseInt(r(127))+-parseInt(r(158))*parseInt(r(161))+-parseInt(r(164))*-parseInt(r(119))-parseInt(r(111))+-parseInt(r(112))*parseInt(r(140))+-parseInt(r(162))*-parseInt(r(167)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ok);class lk extends rR{constructor(t,e){const r=ak;super(),this.gl=t,this._map=e[r(122)],this._mathModel=null,this[r(143)]=null,this[r(126)]=new Map,this._fetchingTextures=new Map,this[r(152)]=void 0,this._activeFrame()}[hk(129)](){const t=hk;this[t(114)]=mB[t(139)](this.gl,0),!this[t(114)][t(166)]&&this[t(166)][t(141)].addFrame(this.positionBaseFrame)}[hk(153)](t=[],e){const r=hk;let i=t[r(150)],n=i>0?r(116)+i:"",s=r(154),o=r(128);if(this[r(114)]){let a=this._id,h={fragDefine:n,fragUniform:s,fragRealize:o,targetRender:this};this[r(144)]=t,this[r(166)]&&i>0?this[r(114)][r(159)](a,h):this[r(114)][r(133)](a),this.positionBaseFrame._updateShader(),this._updateTexture(e)}}[hk(145)](t){const e=hk;if(t&&!this[e(135)][e(146)](t)){let r=new Image;r[e(124)]="Anonymous",r[e(163)]=()=>{const i=e;let n=this.positionBaseFrame[i(109)].addGLTexture(r,4)[i(168)];this[i(126)].set(t,n)},r[e(138)]=t,this[e(135)].set(t,!0)}this[e(152)]=t}[hk(137)](){}[hk(123)](){const t=hk;let e=this._id;!this.positionBaseFrame[t(157)](e)&&this[t(153)](this[t(144)])}[hk(142)](t){const e=hk;let r=t[e(147)],i=this.clipInfos;if(i&&0!=i[e(150)]){let n=this.gl.getUniformLocation(r,"clipBoxShow");this.gl[e(120)](n,this[e(132)]&&this[e(132)][e(136)]());let s=i[e(150)];for(let t=0;t<s;t++){let n=i[t];if(n[e(110)])continue;let s=this.gl.getUniformLocation(r,"u_clipBoxInfo["+t+"].clipColor"),o=this.gl.getUniformLocation(r,e(148)+t+"].clipPositionMin"),a=this.gl.getUniformLocation(r,e(148)+t+e(156)),h=this.gl.getUniformLocation(r,e(148)+t+"].clipUseTexture");this.gl[e(134)](s,n._clipColorArr),this.gl[e(121)](o,n[e(130)]),this.gl[e(121)](a,n._maxCoordArr),this.gl.uniform1i(h,n._useTexture)}this[e(152)]&&(this.gl[e(117)](this.gl[e(151)]+4),this.gl.bindTexture(this.gl[e(160)],this[e(126)][e(146)](this[e(152)])||null),this.gl.uniform1i(t.uniforms[e(118)],4))}}_addStaticBufferD(){}[hk(155)](){}_createBuffer(){}destroy(){const t=hk;let e=this[t(165)];this.positionBaseFrame&&(this[t(114)][t(133)](e),this[t(114)][t(125)]());for(let[e,r]of this[t(126)])this.gl[t(131)](r);this._destroyRenderProperties()}}const ck=["_drawClip","_renderable","26066XTgpwW","16tWOybU","updateDrawData","removeMathCellById","437617wNaGmq","_gl","636814VEvpeh","getAllMathCells","_objMap","hasOwnProperty","683088PQbiBW","15107jakRym","26UaIWgg","get","_map","_updateClip","_render","addMathCell","71663PWMHPl","imageSrc","8glhHXe","1CweLil","_initRenderOpts","1376255PWSFHa","_id"],uk=pk;function pk(t,e){return ck[t-=100]}!function(t,e){const r=pk;for(;;)try{if(343334===-parseInt(r(104))*-parseInt(r(103))+-parseInt(r(123))*parseInt(r(121))+parseInt(r(107))*-parseInt(r(124))-parseInt(r(113))+-parseInt(r(114))*parseInt(r(115))+parseInt(r(109))+parseInt(r(126)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(ck);class fk extends _M{constructor(t){const e=pk;super(t),this._imageSrc=t[e(112)](e(122))?t[e(122)]:null}[uk(125)](t,e){const r=uk;super[r(125)](t,e),this[r(119)]=new lk(this[r(108)],{map:this[r(117)]}),this[r(119)]._mathModel=this,this[r(102)]=!0}[uk(120)](t){const e=uk;let r=t[e(100)];!this[e(111)][e(116)](r)&&this[e(111)].set(r,t)}[uk(106)](t){const e=uk;this[e(111)][e(116)](t)&&this[e(111)].delete(t)}[uk(105)](){const t=uk;let e=this[t(110)]();this[t(119)]&&this[t(119)][t(118)](e,this._imageSrc)}_draw(){this._tick()}_tick(){const t=uk;this[t(119)][t(101)]()}}var gk=["385UovaMS","14lzkgzr","14mpGiVe","304010vmHTDa","8086difvIw","197662FqgaIL","2EsFFBk","314JWndJk","753231rkhQBj","233239wwJuXZ","3758wzlDAL","3923wltige"];function dk(t,e){return gk[t-=300]}!function(t,e){for(var r=dk;;)try{if(800002===parseInt(r(309))*-parseInt(r(300))-parseInt(r(311))+-parseInt(r(307))*parseInt(r(304))+parseInt(r(310))*parseInt(r(301))-parseInt(r(306))+-parseInt(r(303))*parseInt(r(302))+parseInt(r(308))*parseInt(r(305)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(gk);var _k=Object.freeze({__proto__:null,ProjectImageModel:MO,BarModel:DR,EleWallModel:qR,FilledCircleModel:uL,FillWaterModel:RL,FlowModel:$L,GridHeatModel:aF,HeatmapModel:TF,HexGridHeatModel:VF,MathModel:_M,ParticleModel:rD,PieModel:mD,RainModel:DD,ScatterModel:qD,SnowModel:yN,TadpoleModel:LN,TrailModel:WN,ViewshedModel:cB,VideoTexModel:TO,FloodModel:CB,RadarScanModel:$B,FireworksModel:hU,TracePointModel:bU,ColorFrameModel:kU,PointCloudHeatModel:eN,WaterReflectionModel:sk,ClipBoxModel:fk});const yk=["invalid parameter,the endIndex is out of the range","distance","middleMarkerSymbols","getTop","pathLineSymbols","stepLength","setInterval","stop","204339gdeRwj","timeRatio","_pauseTime","removeFeature","getWidth","_distance","addFeatures","changeCarStatus","_stopTime","_beginPoint","moveMarkerSymbols","addListener","complete","setRotation","tranceByDistance","132655TzvFMe","pow","invalid layer : layer has no bind map !","distanceTo","setCoordinate","fillPath","lastPointIndex","_coordinate","_map","465982ATuhRD","setPath","setPathSymbol","getBottom","resume","_totalTime","_right","getLeft","getPixelFromCoordinate","_currentDirection","setMiddleSymbol","status","restart","passedLineSymbols","moveMarkerStyle","_speed","maxTime","hasOwnProperty","1PhPNnC","_currentTempPoint","length","completePath","setSpeed","startMarkerStyle","_step","setStopTime","getExtent","push","54459qIGQiA","showMiddlePoint","endMarkerSymbols","curTime","bind","getNextPoint","showMovingOnPath","timeFn","setBottom","_currentAngle","defaultLineStyle","getHeight","checkArrayType","removeFeatures","time","setLeft","_top","endMarkerStyle","moveTheSamePoint","_layer","acos","points","getLineSymbols","setAttributes","_timer","movingVector","_endPoint","sqrt","passedLineStyle","_style","getMarkerSymbols","getInterval","_stopPoint","setTranceStep","8RZkrPQ","callbackMiddle","getGeometry","setTotalTime","setRight","invalid startIndex or endIndex;","interval","play","_startPoint","mode","showPassedPath","data","fitToExtent","_interval","_left","copyTo","destroy","setStartSymbol","removeAllFeatures","513819XglYmj","getMap","getTextSymbols","pre","event","pathData","_stopTimer","changePosition","start","setTop","addTargetStyle","excute","totalTime","caculateDirection","resetPosition","275598ThsEuL","minTime","assign","getRight","fillPathArr","134454eivIPW","removePoint","showPassed","middleMarkerStyle","longitude","zoomToExt","callbackStep","startMarkerSymbols","pathSize","pause","invalid symbols array ","pauseTime","_stopPointIndex","min"],mk=Ik;function Ik(t,e){return yk[t-=303]}!function(t,e){const r=Ik;for(;;)try{if(270681===-parseInt(r(406))+parseInt(r(391))+parseInt(r(448))+-parseInt(r(310))+parseInt(r(338))*parseInt(r(372))+parseInt(r(433))*-parseInt(r(328))+parseInt(r(411)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(yk);class xk{constructor(e,r={}){const i=Ik;if(!e||!e[i(392)]())throw new SyntaxError(i(303));this._layer=e,this._map=e[i(392)](),this[i(373)]=r.callbackMiddle?r.callbackMiddle:null,this.callbackStep=r[i(417)]?r[i(417)]:null,this[i(384)]=!r[i(327)](i(384))||r[i(384)],this._distance=0,this[i(380)]=null,this[i(442)]=null,this[i(364)]=null,this._currentTempPoint=null,this[i(370)]=null,this._stopPointIndex=1,this[i(307)]=1,this.stepLength=0,this[i(447)]=!r[i(381)]||r[i(381)]===i(426),this[i(362)]=null,this[i(325)]=1,this[i(363)]=null,this[i(321)]=i(394),this[i(359)]=null,this[i(319)]=[0,0,0],this._stopTime=0,this[i(397)]=null,this[i(331)]=null,this.showPassed=!!r.showPassed&&r[i(413)],this[i(339)]=!!r[i(339)]&&r[i(339)],this[i(344)]=!r[i(344)]||r.showMovingOnPath,this[i(407)]=0,this[i(326)]=0,this[i(341)]=0,this[i(434)]=1,this[i(419)]=0,this[i(383)]=r[i(396)]?r.pathData:null,this[i(385)]=r[i(378)]?r.interval:60,this[i(334)]=1e3,this[i(435)]=r[i(327)](i(422))?r[i(422)]:0,this[i(315)]=r.hasOwnProperty(i(403))?r[i(403)]:1e4,this[i(386)]=0,this[i(414)]=new t.Style({markerSymbols:r[i(427)]?r[i(427)]:[new t.Circle({radius:5,fillColor:new t.Color(0,0,255,.6),outlineWidth:1})]}),this.defaultLineStyle=new t.Style({lineSymbols:r.pathLineSymbols?r[i(429)]:[new t.LineSymbol({width:2,color:new t.Color(0,0,200,.8)})]}),this[i(366)]=new t.Style({lineSymbols:r.passedLineSymbols?r[i(323)]:[new t.LineSymbol({width:2,color:new t.Color(255,0,0,1),lineStyle:"solid"})]}),this[i(333)]=new t.Style({markerSymbols:r[i(418)]?r[i(418)]:[new t.Circle({radius:5,fillColor:new t.Color(0,200,0,.8),outlineWidth:0})]}),this[i(355)]=new t.Style({markerSymbols:r[i(340)]?r[i(340)]:[new t.Circle({radius:5,fillColor:new t.Color(0,200,0,.8),outlineWidth:0})]}),this[i(324)]=new t.Style({markerSymbols:r[i(443)]?r[i(443)]:[new t.Circle({radius:7,fillColor:new t.Color(255,0,0,.9),outlineColor:new t.Color(0,255,0,.5),outlineWidth:3})]});const n=this;this[i(309)][i(395)][i(444)](p.MAPEVENT_ROTATING,(function(t){const e=i;n[e(404)](n[e(329)],n[e(370)])})),this[i(383)]&&this[i(311)](this[i(383)])}[mk(431)](t){return this._interval=t,this}[mk(369)](){return this[mk(385)]}[mk(371)](t){const e=mk;return this[e(334)]=t,this[e(430)]=this[e(438)]/this[e(334)]*this[e(325)],this}getTranceStep(){return this[mk(334)]}[mk(335)](t){return this[mk(441)]=t,this}[mk(332)](t){const e=mk;if(!(t<=0))return this[e(325)]=t,this.tranceByDistance?this[e(430)]=this[e(438)]/this[e(334)]*this[e(325)]:this[e(434)]=this[e(315)]/((this.maxTime-this[e(407)])*this[e(325)]),this}getStepLength(){return this[mk(430)]}[mk(375)](t){const e=mk;return this[e(315)]=t,!this[e(447)]&&(this[e(434)]=this[e(315)]/((this.maxTime-this[e(407)])*this[e(325)])),this}[mk(350)](t,e){if(!(t instanceof e))throw new TypeError(mk(421))}[mk(389)](e,r=null){const i=mk;return this[i(350)](e,t.MarkerSymbol),this[i(333)][i(368)]()[0]=e,r&&(this[i(350)](r,t.TextSymbol),this[i(333)][i(393)]()[0]=r),this}setEndSymbol(e,r=null){const i=mk;return this[i(350)](e,t.MarkerSymbol),this[i(355)][i(368)]()[0]=e,r&&(this[i(350)](r,t.TextSymbol),this[i(355)].getTextSymbols()[0]=r),this}[mk(320)](e,r=null){const i=mk;return this[i(350)](e,t.MarkerSymbol),this[i(414)][i(368)]()[0]=e,r&&(this[i(350)](r,t.TextSymbol),this[i(414)].getTextSymbols()[0]=r),this}setMoveSymbol(e,r=null){const i=mk;return this.checkArrayType(e,t.MarkerSymbol),this[i(324)].getMarkerSymbols()[0]=e,r&&(this[i(350)](r,t.TextSymbol),this.moveMarkerStyle[i(393)]()[0]=r),this}setPassedSymbol(e){const r=mk;return this[r(350)](e,t.LineSymbol),this.passedLineStyle[r(360)]()[0]=e,this}[mk(312)](e){const r=mk;return this[r(350)](e,t.LineSymbol),this[r(348)].getLineSymbols()[0]=e,this}[mk(382)](t){return this[mk(413)]=!0===t,this}[mk(401)](e,r){const i=mk,n=new t.Coordinate(Number(e[i(308)]._x),Number(e._coordinate._y),Number(e._coordinate._z));let s=new t.Point(n);this[i(363)]=new t.Vector(s,Object[i(408)]({},this[i(383)][0]),this[i(324)]),this._startPoint=new t.Vector(e,this[i(383)][0],this.startMarkerStyle),this[i(364)]=new t.Vector(r,this[i(383)][this[i(383)][i(330)]-1],this[i(355)]),this._layer[i(439)]([this[i(364)],this._startPoint,this[i(363)]])}[mk(311)](e){const r=mk;if(null==e||""==e||null==e)return;let i=e.length;if(i<2)throw new Error("invalid path ");this[r(419)]=i,this.data=e,this._distance=0,this.points,this[r(359)]=[];for(let n=0;n<i;n++){void 0===e[n].z&&(e[n].z=0);const i=new t.Coordinate(Number(e[n][r(415)]),Number(e[n].latitude),Number(e[n].z));let s=new t.Point(i);this[r(359)].push(s),n>0&&this.tranceByDistance&&(this[r(438)]+=this.points[n][r(304)](this[r(359)][n-1]))}this[r(447)]?this[r(430)]=this[r(438)]/this[r(334)]*this[r(325)]:(this.minTime=this[r(383)][0][r(352)],this.curTime=this[r(407)],this[r(326)]=this.data[this[r(419)]-1][r(352)],this[r(434)]=this[r(315)]/((this[r(326)]-this.minTime)*this[r(325)])),this[r(404)](this[r(359)][0],this.points[1]);const n=new t.Coordinate(Number(this[r(359)][0][r(308)]._x),Number(this[r(359)][0]._coordinate._y),Number(this.points[0]._coordinate._z)),s=new t.Coordinate(Number(this[r(359)][0][r(308)]._x),Number(this[r(359)][0][r(308)]._y),Number(this[r(359)][0]._coordinate._z)),o=new t.Coordinate(Number(this.points[1][r(308)]._x),Number(this[r(359)][1][r(308)]._y),Number(this[r(359)][1][r(308)]._z)),a=new t.Coordinate(Number(this.points[0][r(308)]._x),Number(this[r(359)][0][r(308)]._y),Number(this[r(359)][0][r(308)]._z));this._beginPoint=new t.Point(n),this[r(380)]=new t.Point(s),this._stopPoint=new t.Point(o),this[r(329)]=new t.Point(a),this[r(307)]=this.points.length;let h=new t.Line(this[r(359)]),l=new t.MultiPoint(this[r(359)]);l[r(412)](this[r(359)][0]),l[r(412)](this[r(359)][this.points[r(330)]-1]);let c=new t.Vector(h,{},this.defaultLineStyle),u=[];if(u[r(337)](c),this[r(339)]){let e=new t.Vector(l,{},this.middleMarkerStyle);u.push(e)}if(this._layer[r(439)](u),this.addTargetStyle(this[r(359)][0],this.points[i-1]),this[r(344)]&&this[r(440)](),this[r(384)]){let t=h[r(336)]();const e=t[r(437)](),i=t[r(349)]();t[r(376)](t[r(409)]()+e/3),t[r(353)](t[r(317)]()-e/3),t[r(400)](t[r(428)]()+i/3),t[r(346)](t[r(313)]()-e/3),this[r(309)][r(416)](t)}return this}[mk(399)](){const t=mk;return this.status===t(445)&&this[t(432)](),this.status!==t(399)&&(this[t(321)]=t(399),null!=this[t(373)]&&this[t(373)]([this[t(383)][0],0]),this[t(447)]?this[t(345)]():this.play()),this}[mk(420)](){const t=mk;return this.status===t(445)||(clearTimeout(this._timer),clearTimeout(this[t(397)]),this.status=t(420)),this}[mk(432)](){const e=mk;clearTimeout(this._timer),clearTimeout(this[e(397)]),this[e(423)]=1,this[e(404)](this[e(359)][0],this[e(359)][1]);const r=new t.Coordinate(Number(this[e(359)][0][e(308)]._x),Number(this[e(359)][0][e(308)]._y),Number(this.points[0][e(308)]._z));this[e(329)]=new t.Point(r);const i=new t.Coordinate(Number(this.points[0][e(308)]._x),Number(this[e(359)][0][e(308)]._y),Number(this[e(359)][0][e(308)]._z));this._beginPoint=new t.Point(i);const n=new t.Coordinate(Number(this[e(359)][1][e(308)]._x),Number(this[e(359)][1]._coordinate._y),Number(this[e(359)][1]._coordinate._z));return this[e(370)]=new t.Point(n),!this[e(447)]&&(this[e(341)]=this[e(407)]),this[e(440)](),this[e(398)](),this.completePath&&this._layer[e(436)](this.completePath),this[e(331)]=null,this[e(321)]="stop",this}[mk(314)](){const t=mk;this[t(321)]===t(420)?(this[t(321)]=t(394),this.tranceByDistance?this.timeFn():this[t(379)]()):"complete"===this[t(321)]&&this.start()}[mk(322)](e,r){const i=mk;if(void 0!==e&&void 0!==r){if(isNaN(e)||isNaN(r)||e<0||r<0)throw new RangeError(i(377));if(r>this[i(307)]-1)throw new RangeError(i(425))}if(this.status=i(394),this[i(432)](),void 0===e||void 0===r)this[i(447)]?this[i(307)]=this[i(359)][i(330)]:(this[i(341)]=this[i(383)][0].time,this[i(326)]=this.maxTime=this[i(383)][this[i(419)]-1][i(352)]),this.lastPointIndex=this[i(359)][i(330)],this.start();else{this[i(447)]?this[i(307)]=r+1:(this[i(326)]=this[i(383)][r][i(352)],this.curTime=this[i(383)][e][i(352)]);const n=new t.Coordinate(Number(this[i(359)][e]._coordinate._x),Number(this[i(359)][e][i(308)]._y),Number(this[i(359)][e][i(308)]._z)),s=new t.Coordinate(Number(this[i(359)][e+1][i(308)]._x),Number(this[i(359)][e+1][i(308)]._y),Number(this[i(359)][e+1][i(308)]._z));this[i(442)]=new t.Point(n),this[i(380)]=new t.Point(n),this[i(370)]=new t.Point(s),this[i(423)]=e+1,this[i(329)]=this[i(380)],this[i(398)](),this[i(404)](this.points[e],this[i(359)][e+1]),this[i(440)](),this[i(399)]()}}[mk(388)](){const t=mk;clearTimeout(this[t(362)]),clearTimeout(this[t(397)]),this[t(357)][t(390)]()}[mk(345)](){const t=mk;if(this[t(321)]===t(445))return;let e=this[t(423)];if(this[t(442)]._coordinate._x!==this[t(370)][t(308)]._x||this[t(442)][t(308)]._y!==this._stopPoint._coordinate._y){if(this[t(343)](),this[t(398)](),this[t(306)](),this[t(423)]>this[t(307)]-1)return this[t(321)]=t(445),void clearTimeout(this[t(362)]);if(e===this[t(423)])this[t(362)]=setTimeout(this[t(345)][t(342)](this),this[t(385)]);else{let e=void 0!==this[t(383)][this._stopPointIndex-1].crossTime?this[t(383)][this[t(423)]-1].crossTime:1e3*this._stopTime;this._timer=setTimeout(this[t(345)][t(342)](this),e)}}else this[t(397)]=setTimeout(this[t(356)][t(342)](this),this._pauseTime/this._speed)}fitExtent(){const e=mk;if(!this.fitToExtent)return;const r=this._map[e(336)]();(r[e(386)]>this[e(329)]._coordinate._x||r._bottom>this._currentTempPoint[e(308)]._y||r[e(316)]<this[e(329)][e(308)]._x||r[e(354)]<this[e(329)][e(308)]._y)&&this._map.setCenter(new t.Coordinate(this[e(329)][e(308)]._x,this._currentTempPoint[e(308)]._y,0))}getNextPoint(){const t=mk;let e=this[t(329)][t(304)](this[t(370)]);if(e-this[t(430)]<Math[t(449)](10,-10))this[t(386)]=this[t(430)]-e,this._currentTempPoint._coordinate._x=this[t(370)]._coordinate._x,this[t(329)][t(308)]._y=this[t(370)][t(308)]._y,this._currentTempPoint[t(308)]._z=this[t(370)]._coordinate._z,this[t(363)][t(361)](Object.assign({},this[t(383)][this[t(423)]])),null!=this[t(373)]&&this[t(373)]([this[t(383)][this[t(423)]],this[t(423)]]),this[t(423)]<this.lastPointIndex-1?(this[t(423)]++,this[t(370)]=this[t(359)][this[t(423)]],this[t(442)]=this[t(359)][this[t(423)]-1],this.caculateDirection(this[t(329)],this[t(370)]),this.changeCarStatus()):this._stopPointIndex++;else{const e=this[t(430)]+this._left;this[t(329)][t(308)]._x+=e*this._currentDirection[0],this[t(329)][t(308)]._y+=e*this[t(319)][1],this[t(329)]._coordinate._z+=e*this[t(319)][2],this[t(386)]=0,this[t(404)](this._currentTempPoint,this[t(370)]),this[t(440)]()}null!=this[t(417)]&&this[t(417)]([this.data[this[t(423)]-1],[this[t(329)][t(308)]._x,this[t(329)][t(308)]._y,this[t(329)]._coordinate._z],this._stopPointIndex-1,this._currentDirection])}[mk(379)](){const t=mk;if(this[t(321)]===t(445))return;if(this[t(423)]===this[t(419)])return;if(this.curTime>this[t(326)])return;if(this[t(442)][t(308)]._x===this[t(370)][t(308)]._x&&this._beginPoint[t(308)]._y===this[t(370)]._coordinate._y)return void(this[t(397)]=setTimeout(this[t(356)][t(342)](this),this._pauseTime));let e=this._stopPointIndex;return this[t(402)](),this[t(398)](),this[t(306)](),this[t(423)]>=this[t(419)]?(this[t(321)]=t(445),void clearTimeout(this[t(362)])):(e===this[t(423)]?this._timer=setTimeout(this.play[t(342)](this),this[t(385)]):this[t(362)]=setTimeout(this[t(379)].bind(this),0),this)}[mk(402)](){const t=mk;if(this[t(383)][this._stopPointIndex][t(352)]===this[t(383)][this[t(423)]-1][t(352)])this._currentTempPoint[t(308)]._x=this[t(370)][t(308)]._x,this[t(329)][t(308)]._y=this._stopPoint[t(308)]._y,this[t(329)][t(308)]._z=this[t(370)][t(308)]._z;else{const e=this.data[this._stopPointIndex][t(352)]-this[t(383)][this[t(423)]-1].time,r=this[t(341)]-this[t(383)][this._stopPointIndex-1][t(352)],i=(this._stopPoint[t(308)]._x-this[t(442)][t(308)]._x)/e,n=this[t(442)][t(308)]._x+i*r,s=(this._stopPoint[t(308)]._y-this._beginPoint._coordinate._y)/e,o=this[t(442)][t(308)]._y+s*r,a=(this[t(370)][t(308)]._z-this._beginPoint._coordinate._z)/e,h=this[t(442)][t(308)]._z+a*r;this[t(329)][t(308)]._x=n,this._currentTempPoint[t(308)]._y=o,this[t(329)][t(308)]._z=h}this[t(341)]+=this._interval/this[t(434)],this.curTime>this[t(383)][this._stopPointIndex].time?(this[t(341)]=this[t(383)][this[t(423)]][t(352)],this[t(363)][t(361)](Object[t(408)]({},this[t(383)][this[t(423)]])),this._currentTempPoint[t(308)]._x=this[t(359)][this[t(423)]][t(308)]._x,this._currentTempPoint[t(308)]._y=this[t(359)][this._stopPointIndex][t(308)]._y,this[t(329)][t(308)]._z=this[t(359)][this[t(423)]][t(308)]._z,this[t(423)]++,this[t(423)]<this[t(419)]&&(this[t(370)]=this[t(359)][this._stopPointIndex],this._beginPoint=this[t(359)][this._stopPointIndex-1],this.caculateDirection(this[t(442)],this[t(370)]),this[t(440)]()),null!=this.callbackMiddle&&this[t(373)]([this[t(383)][this[t(423)]-1],this[t(423)]-1]),null!=this[t(417)]&&this[t(417)]([this[t(383)][this[t(423)]-1],this._currentTempPoint,this[t(423)]-1,this[t(319)]])):null!=this[t(417)]&&this[t(417)]([this[t(383)][this[t(423)]-1],this._currentTempPoint,this[t(423)]-1,this[t(319)]])}[mk(356)](){const t=mk;this[t(329)][t(308)]._x=this[t(370)]._coordinate._x,this[t(329)][t(308)]._y=this[t(370)]._coordinate._y,this[t(329)][t(308)]._z=this._stopPoint._coordinate._z,this._beginPoint=this._stopPoint,null!=this[t(373)]&&this[t(373)]([this[t(383)][this[t(423)]],this[t(423)]]),this[t(423)]!==this[t(359)][t(330)]-1?(this._stopPointIndex<this.points.length-1&&(this[t(423)]++,this[t(370)]=this[t(359)][this._stopPointIndex]),this.caculateDirection(this[t(329)],this._stopPoint),this.changeCarStatus(),this.tranceByDistance?this[t(345)]():(this[t(341)]=this[t(383)][this[t(423)]-1][t(352)],this[t(379)]())):this[t(321)]=t(445)}[mk(404)](t,e){const r=mk,i=t[r(308)]._x,n=t._coordinate._y,s=t[r(308)]._z,o=e._coordinate._x-i,a=e[r(308)]._y-n,h=e[r(308)]._z-s;this[r(319)]=[0,0,0];const l=Math[r(365)](o*o+a*a+h*h);l>0?this[r(319)]=[o/l,a/l,h/l]:this._currentDirection=[0,0,0];const c=this[r(309)].getPixelFromCoordinate(t[r(308)]),u=this[r(309)][r(318)](e[r(308)]),p=u._x-c._x,f=u._y-c._y,g=Math[r(365)](p*p+f*f),d=[p/g,f/g];this[r(347)]=Math[r(358)](1*d[0]),d[1]>0&&(this[r(347)]=2*Math.PI-this[r(347)])}[mk(440)](){const t=mk;this.movingVector[t(367)][t(368)]()[0][t(446)](180*this[t(347)]/Math.PI-90)}[mk(398)](){const e=mk;let r=new t.Coordinate(this[e(329)]._coordinate._x,this[e(329)]._coordinate._y,this[e(329)][e(308)]._z);this[e(363)][e(374)]()[e(305)](r),this[e(357)].updateFeature(this[e(363)]),this._layer.redraw()}[mk(405)](e=0){const r=mk;let i=new t.Coordinate(this[r(383)][e][r(415)],this.data[e].latitude,this[r(383)][e].z);this[r(357)][r(351)]([this[r(363)]]),this.movingVector=this.movingVector[r(387)](i),this._layer[r(439)]([this[r(363)]])}fillPath(){const e=mk;if(!this[e(413)])return;null!=this[e(331)]&&(this[e(357)].removeFeatures([this[e(331)]]),this.completePath=null),this[e(410)]=[];const r=Math[e(424)](this[e(423)],this[e(383)][e(330)]);for(let t=0;t<r;t++)this.fillPathArr[e(337)](this[e(359)][t]);this[e(410)].push(this[e(329)]);let i=new t.Line(this.fillPathArr);this[e(331)]=new t.Vector(i,{},this[e(366)]),this[e(357)][e(439)]([this[e(331)]])}}const vk=["139ERQuxR","invalid parameter","sensorHeight","cameraY","near","rotate","435199ncghvy","flipY","hasOwnProperty","projMatrix","yaw","_pointArr","3055PLqyGB","constructor","scale","getProjViewMatrixRTE","imageHeight","reverseMatrix","updateViewMatrix","video","multiplyVector3","calcCoordFromPixel","viewMatrix","verticalFOV","cameraZ","setPerspective","366390rIrkDE","setInverseOf","pitch","imageWidth","1181563txpYRm","clipCanvas","sensorWidth","setIdentity","setTranslate","toArray","104899vJZxTU","clampToModel","setClipPolygon","getElement","resetOptions","normalMatrix","atan2","getCoordinate","_applyDirectionMatrix","19222PXESNK","21487BWVsuA","cameraX","1TmSFWZ","updateProjMatrix","update","fromUVs","focalLength","far","clipChanged","calcPixelFromCoord","destroy","1IngGra","roll","pattern","setPosition","texProjViewMatrix","clone","createUnique","28wPNgGu","multiply","updateProjTextureMatrix","getLinearRing","rotateMatrix","degreeToRad"],bk=wk;function wk(t,e){return vk[t-=288]}!function(t,e){const r=wk;for(;;)try{if(276279===-parseInt(r(296))*parseInt(r(308))+parseInt(r(322))+-parseInt(r(341))*parseInt(r(290))+parseInt(r(353))*-parseInt(r(302))+parseInt(r(332))+parseInt(r(342))*parseInt(r(344))+parseInt(r(326)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(vk);class Tk{constructor(e={}){const r=wk;if(!(e[r(304)]("cameraX")&&e[r(304)](r(299))&&e.hasOwnProperty(r(320))&&e[r(304)](r(306))&&e[r(304)](r(324))&&e[r(304)](r(354))))throw new SyntaxError("invalid parameters,no valid cameraX or cameraY or cameraZ or yaw or pitch or roll!");if(!e[r(304)]("video"))throw new SyntaxError("invalid video type !");this.id=t.Aid[r(289)](this[r(309)].name),this[r(300)]=e[r(304)]("near")?e.near:8e-4,this[r(349)]=e[r(304)](r(349))?e[r(349)]:10,this[r(343)]=e[r(343)],this[r(299)]=e.cameraY,this[r(320)]=e[r(320)],this[r(306)]=e[r(306)],this.pitch=e.pitch,this[r(354)]=e.roll,this[r(315)]=e[r(315)],this.focalLength=e.hasOwnProperty(r(348))?e.focalLength:8.5,this[r(325)]=e[r(304)](r(325))?e.imageWidth:1920,this[r(312)]=e.hasOwnProperty(r(312))?e.imageHeight:1080,this.sensorWidth=e.hasOwnProperty(r(328))?e.sensorWidth:7.18,this.pattern=e[r(304)]("pattern")?e[r(355)]:5,this[r(333)]=!!e.hasOwnProperty(r(333))&&e[r(333)],this.flipY=!!e[r(304)](r(303))&&e.flipY,this[r(327)]=null,this[r(336)](e),this[r(318)]=new t.Matrix4,this.reverseMatrix=new t.Matrix4,this.normalMatrix=(new t.Matrix4)[r(330)](.5,.5,.5)[r(310)](.5,-.5,.5),this.projMatrix=new t.Matrix4,this.texProjViewMatrix=new t.Matrix4,this.update()}resetOptions(t){const e=wk;this[e(300)]=t[e(304)]("near")?t[e(300)]:this[e(300)],this[e(349)]=t.hasOwnProperty(e(349))?t[e(349)]:this.far,this.cameraX=t.hasOwnProperty(e(343))?t.cameraX:this[e(343)],this[e(299)]=t.hasOwnProperty(e(299))?t.cameraY:this[e(299)],this.cameraZ=t[e(304)](e(320))?t.cameraZ:this[e(320)],this[e(306)]=t[e(304)](e(306))?t[e(306)]:this[e(306)],this[e(324)]=t[e(304)]("pitch")?t.pitch:this[e(324)],this[e(354)]=t[e(304)](e(354))?t[e(354)]:this.roll,this[e(348)]=t[e(304)](e(348))?t[e(348)]:this.focalLength,this[e(325)]=t.hasOwnProperty("imageWidth")?t[e(325)]:this.imageWidth,this[e(312)]=t[e(304)](e(312))?t.imageHeight:this.imageHeight,this[e(315)]=t.hasOwnProperty(e(315))?t[e(315)]:this[e(315)],this.pattern=t[e(304)](e(355))?t[e(355)]:this[e(355)],this.clampToModel=t[e(304)](e(333))?t[e(333)]:this[e(333)],this[e(303)]=t[e(304)](e(303))?t[e(303)]:this[e(303)]}[bk(334)](e){const r=bk;if(!(e&&e instanceof t.Polygon))return null;const i=e[r(293)](0)[r(307)],n=[];for(let t=0,e=i.length;t<e;t++){const e=i[t],s=this[r(351)](...e[r(339)]()[r(331)]());n.push([s[0]/this[r(325)],s[1]/this[r(312)]])}return this[r(327)]=xm[r(347)](n),xm.gaussBlur(this.clipCanvas,5),this[r(350)]=!0,n}clearClipPolygon(){this[bk(327)]=null,this.clipChanged=!0}getProjectPolygon(){const e=bk;let r=this[e(317)](0,0),i=this[e(317)](this[e(325)],0),n=this[e(317)](this.imageWidth,this[e(312)]),s=this[e(317)](0,this[e(312)]);return new t.Polygon([new t.LinearRing([new t.Point(r),new t.Point(i),new t.Point(n),new t.Point(s)])])}[bk(346)](){const t=bk;this[t(298)]=this[t(328)]*this[t(312)]/this[t(325)],this[t(319)]=2*Math[t(338)](this.sensorHeight/2,this[t(348)]),this.updateViewMatrix(),this.updateProjMatrix(),this[t(292)]()}[bk(345)](){const t=bk;this[t(305)][t(329)]()[t(321)](180*this[t(319)]/Math.PI,this.imageWidth/this[t(312)],this[t(300)],this[t(349)])}[bk(292)](){const t=bk;this[t(357)]=this[t(357)][t(329)]().multiply(this[t(337)])[t(291)](this.projMatrix)[t(291)](this[t(313)])}[bk(311)](e,r,i){const n=bk;let s=new t.Matrix4;s[n(301)](this[n(306)],0,0,1),s.rotate(this[n(354)],0,1,0),s.rotate(this.pitch,1,0,0),s[n(356)](new t.Vector3(this[n(343)]-e,this[n(299)]-r,this[n(320)]-i));let o=new t.Matrix4;return o[n(323)](s),(new t.Matrix4).multiply(this[n(305)])[n(291)](o)}[bk(314)](){const e=bk;return this[e(318)].setIdentity(),this[e(318)][e(301)](this[e(306)],0,0,1),this.viewMatrix[e(301)](this[e(354)],0,1,0),this.viewMatrix[e(301)](this[e(324)],1,0,0),this[e(294)]=this[e(318)][e(288)](),this[e(318)].setPosition(new t.Vector3(this.cameraX,this.cameraY,this[e(320)])),this[e(313)][e(323)](this[e(318)]),this}calcCoordFromPixel(e,r){const i=bk,n=Math.tan(this.verticalFOV/2),s=(2*(e+.5)/this[i(325)]-1)*n*this[i(325)]/this[i(312)],o=(1-2*(r+.5)/this[i(312)])*n,a=new t.Vector3(s,o,-1),h=this[i(340)](this[i(318)],a);h.getElement(2);const l=this.cameraX-this[i(320)]*(h[i(335)](0)/h[i(335)](2)),c=this[i(299)]-this.cameraZ*(h[i(335)](1)/h[i(335)](2));return new t.Coordinate(l,c,0)}[bk(340)](e,r){let i=e._elements,n=r._elements,s=n[0]*i[0]+n[1]*i[4]+n[2]*i[8],o=n[0]*i[1]+n[1]*i[5]+n[2]*i[9],a=n[0]*i[2]+n[1]*i[6]+n[2]*i[10];return new t.Vector3(s,o,a)}calcPixelFromCoord(e,r,i=0){const n=bk;if(void 0===e||void 0===r)throw n(297);let s=new t.Vector3(e,r,i),o=this[n(313)][n(316)](s);const a=-this.focalLength/o.getElement(2),h=o[n(335)](0)*a,l=o[n(335)](1)*a,c=(h+this[n(328)]/2)/this[n(328)],u=(l+this.sensorHeight/2)/this[n(298)];return[~~(c*this[n(325)]),~~((1-u)*this.imageHeight)]}[bk(295)](t){return t*Math.PI/180}[bk(288)](){const t=bk;return new(this[t(309)])({cameraX:this[t(343)],cameraY:this[t(299)],cameraZ:this[t(320)],yaw:this[t(306)],roll:this.roll,pitch:this[t(324)],focalLength:this[t(348)],imageHeight:this[t(312)],imageWidth:this[t(325)],sensorWidth:this[t(328)],sensorHeight:this.sensorHeight,video:this.video,pattern:this[t(355)],clampToModel:this[t(333)]})}[bk(352)](){}}const Ek=["_view","_srid","push","8BfbCiY","calculateRay","54689VqypEk","_targets","getOwnPropertyNames","setStart","578451PrArrd","intersectCoordinate","shift","_tolerance","analyse","setView","intersect","260704vqRKwY","2063HXxxmX","83618lwbjMe","length","1718DyqHma","setTargets","4cfTuXT","_error","4KdpLoS","_map","575912YjusMj","_ray","85afRwBa","get3Dist","isFinite"],Ck=Ak;function Ak(t,e){return Ek[t-=424]}!function(t,e){const r=Ak;for(;;)try{if(502042===-parseInt(r(440))+parseInt(r(433))+parseInt(r(452))*parseInt(r(441))+-parseInt(r(446))*parseInt(r(442))+parseInt(r(450))+-parseInt(r(429))*parseInt(r(448))+-parseInt(r(444))*parseInt(r(427)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Ek);class Mk{constructor(t){const e=Ak;this[e(449)]=t,this._ray=new kf({map:t}),this._view=null,this._targets=null,this[e(447)]=0}[Ck(438)](t){this[Ck(424)]=t}[Ck(445)](t){this._targets=[...t]}setErrorDistance(t){const e=Ck;this._error=Number[e(454)](t)&&t>0?t:0}[Ck(437)](t){const e=Ck;if(!this[e(424)]||!this[e(430)])return;this[e(451)][e(432)](this[e(424)]);let r=[];for(let i=0,n=this._targets[e(443)];i<n;i++){this[e(451)][e(428)](this[e(430)][i]);let n=this[e(451)][e(439)](t);0!==n[e(443)]?(this[e(436)]>0&&(n=this._dealWithTolerance(n)),n=n[0]||void 0,r[e(426)](n)):r[e(426)](null)}return r}_dealWithTolerance(e){const r=Ck,i=[...e];for(let n=0,s=e[r(443)];n<s;n++){const s=e[n][r(434)];if(this[r(424)][r(453)](s,t.initState[r(425)])>this._error)break;i[r(435)]()}return i}destroy(){const t=Ck;this[t(451)].destroy();let e=Object[t(431)](this);for(let r=0,i=e[t(443)];r<i;r++){const t=e[r];this[t]=null,delete this[t]}}}const Sk=["name","_layerExtra","87olTiDA","getLayerContainer","_featuresToAdd","painters","1556552COpvhF","getContext","max","37ilATDH","brightRatios","parameter brightRatio is illegal!","hasOwnProperty","705139IrmZwU","getBottom","wallColor","add","removeFeature","windowSize","remove","map must be instance of hmap.Map!","splice","19HLpudF","windowColor","171234bmEcNO","211334ghcfxS","getCrs","addFeature","container","deepen","roofColor","clone","brightRatio","_oitPainter","layerOctree","medium","getContainer","STRETCH_WINDOW","_mergeExtra","1926577GwcfLm","76674Aphrmf","indexOf","15518nGEfqI","_map","brightWindowColor","setMap","enableHashCode","updateFeature","min","set","getLeft","getRight","getWorldExtent"],Pk=Lk;!function(t,e){const r=Lk;for(;;)try{if(995452===-parseInt(r(413))-parseInt(r(367))-parseInt(r(393))+parseInt(r(378))+parseInt(r(394))*-parseInt(r(376))+-parseInt(r(409))*parseInt(r(396))+-parseInt(r(416))*-parseInt(r(379)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Sk);class Rk extends Hg{constructor(e,r={}){const i=Lk;if(super(e,r),this.windowSize=r[i(372)]||[4,3],this[i(369)]=r[i(369)]||new t.Color(47,21,84),this.roofColor=r[i(384)]||this[i(369)][i(385)]()[i(383)](1.5),this[i(377)]=r.windowColor||new t.Color(32,12,64),this[i(398)]=r[i(398)]||new t.Color(135,166,210),this[i(386)]=r[i(386)]||i(389),this[i(417)]={no:1,rarely:.95,less:.8,medium:.5,much:.2,almost:.05,all:0},!this.brightRatios[i(366)](this[i(386)]))throw new Error(i(365))}[Pk(381)](e){const r=Pk;this[r(397)]?this.painters.get(t.painterType[r(391)])[r(370)](e):this[r(411)].push(e)}[Pk(371)](e){const r=Pk;if(this[r(397)])this[r(412)].get(t.painterType[r(391)])[r(373)](e);else{const t=this[r(411)].indexOf(e);t>-1&&this[r(411)][r(375)](t,1)}}[Pk(401)](t){const e=Pk;if(this._map)this.removeFeature(t),this.addFeature(t);else{const r=this[e(411)][e(395)](t);r>-1&&(this._featuresToAdd[r]=t)}}[Pk(399)](e){const r=Pk;if(!(e instanceof sg))throw new TypeError(r(374));this.event=e.event,this._map=e;const i=this[r(410)]();if(this[r(382)]=i[r(390)](),this.gl=i[r(414)](),this[r(400)]){const i=e[r(380)]()[r(406)]();let n=Math[r(402)](i[r(368)](),i[r(404)]()),s=Math[r(415)](i.getTop(),i[r(405)]()),o=new t.Vector3(n,n,n),a=new t.Vector3(s,s,s);this[r(388)]=new Ug(o,a)}let n=this._layerExtra();this._isOIT&&(this[r(387)]=new ru(this),this.gl.getExtension("EXT_color_buffer_float"),n=this[r(408)]({oit:this._OITMode}));const s=new Pc(this,this[r(392)](n,{highlight:0,colorU:0,stretchWindow:0}));this._painters[r(403)](t.painterType.STRETCH_WINDOW,s)}clone(){const t=Pk;return Rk(this[t(407)],{windowSize:this[t(372)],wallColor:this[t(369)],roofColor:this[t(384)],windowColor:this[t(377)],brightWindowColor:this[t(398)],brightRatio:this[t(386)]})}}function Lk(t,e){return Sk[t-=365]}const Fk=["67dZOXIo","4714dbOceG","#version 300 es\n    precision highp float;\n    \n    uniform vec4 u_color;\n    // in vec4 v_color;\n    \n    out vec4 outColor;\n    \n    void main() {\n        outColor = u_color;\n    }\n","267412gPggXx","#version 300 es\n    precision highp float;\n    \n    in vec4 v_color;\n    out vec4 outColor;\n    \n    void main() {\n        outColor = v_color;\n    }\n","#version 300 es\n    in vec2 a_position;\n    in vec2 a_sPosition;\n    in float a_sTime;\n    in float a_timeElapse;\n    \n    uniform mat4 u_vpMatrix;\n    uniform float u_resolution;\n    uniform float u_speedScale;\n    uniform float u_lifeTime;\n    uniform float u_timeNow;\n    uniform sampler2D u_patternSpeed;\n    uniform vec4 u_mapExtent;\n    uniform float u_maxValue;\n    uniform float u_particleSize;\n    \n    out vec2 o_position;\n    out vec2 o_sPosition;\n    out float o_sTime;\n    out float o_timeElapse;\n    // out vec4 v_color;\n    \n    vec2 decode(vec4 color) {\n        float x = color.r * 255.0 - u_maxValue + color.g;\n        float y = color.b * 255.0 - u_maxValue + color.a;\n        \n        // float BASE = 255.0;\n        // float OFFSET = 40.0;\n        // float x = dot(color.rg, vec2(BASE, BASE * BASE)) - OFFSET;\n        // float y = dot(color.ba, vec2(BASE, BASE * BASE)) - OFFSET;\n        \n        return vec2(x, y);\n    }\n    \n    void main() {\n        vec2 position = a_position;\n        bool nextLife = false;\n        float lifeTime = u_lifeTime * 1000.0;\n        float timeNow = u_timeNow * 1000.0;\n        if ((timeNow - 0.0) >= a_sTime) {\n            if ((timeNow - a_timeElapse) >= lifeTime && mod(timeNow, lifeTime) > a_sTime) {\n                position = a_sPosition;\n                nextLife = true;\n                o_timeElapse = timeNow;\n            }\n            else {\n                o_timeElapse = a_timeElapse;\n            }\n            gl_Position = u_vpMatrix * vec4(position, 0.0, 1.0);\n            gl_PointSize = u_particleSize;\n            \n            vec2 textCoord = (gl_Position.xy / gl_Position.w) / 2.0 + 0.5;\n            vec4 uvColor = texture(u_patternSpeed, textCoord);\n            vec2 uvSpeed = decode(uvColor);\n            \n            float maxValue = u_maxValue / 4.0;\n            float frameDistX = (uvSpeed.x / maxValue) * u_resolution * u_speedScale;\n            float frameDistY = (uvSpeed.y / maxValue) * u_resolution * u_speedScale;\n            float x = position.x + frameDistX;\n            float y = position.y + frameDistY;\n            \n            if (x < u_mapExtent.x) {\n                x = u_mapExtent.z;\n            }\n            else if (x > u_mapExtent.z) {\n                x = u_mapExtent.x;\n            }\n            if (y < u_mapExtent.y) {\n                y = u_mapExtent.w;\n            }\n            else if (y > u_mapExtent.w) {\n                y = u_mapExtent.y;\n            }\n            o_position = vec2(x, y);\n            \n            if (nextLife) {\n                o_position = a_sPosition;\n            }\n            \n            o_sTime = a_sTime;\n            o_sPosition = a_sPosition;\n        }\n        else {\n            gl_Position = vec4(2.0, 0.0, 0.0, 1.0);\n            o_position = a_position;\n            o_sPosition = a_sPosition;\n            o_sTime = a_sTime;\n            o_timeElapse = a_timeElapse;\n        }\n    }\n","2EvTdSX","1237gsxJzC","345RxdWlw","93pumqCo","#version 300 es\n    in vec2 a_position;\n    in vec2 a_velocity;\n    \n    uniform mat4 u_vpMatrix;\n    uniform float u_maxValue;\n    \n    out vec4 v_color;\n    \n    vec4 encode(vec2 value) {\n        float r = floor(value.x + u_maxValue) / 255.0;\n        float g = fract(value.x + u_maxValue);\n        float b = floor(value.y + u_maxValue) / 255.0;\n        float a = fract(value.y + u_maxValue);\n        \n        // float BASE = 255.0;\n        // float OFFSET = 40.0;\n        // float x = value.x + OFFSET;\n        // float r = mod(x, BASE);\n        // float g = floor(x / BASE);\n        // float y = value.y + OFFSET;\n        // float b = mod(y, BASE);\n        // float a = floor(y / BASE);\n        \n        return vec4(r, g, b, a);\n    }\n    \n    void main() {\n        vec4 position = vec4(a_position, 0.0, 1.0);\n        gl_Position = u_vpMatrix * position;\n        v_color = encode(a_velocity);\n    }\n","5249kHqENT","566837jBalbh","1790072ZtxYNd","3209SJTwQn"],Dk=Bk;!function(t,e){const r=Bk;for(;;)try{if(310178===-parseInt(r(466))*parseInt(r(467))+parseInt(r(462))*-parseInt(r(465))-parseInt(r(456))+parseInt(r(468))*-parseInt(r(458))-parseInt(r(460))+-parseInt(r(459))*-parseInt(r(455))+parseInt(r(457)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Fk);let Ok=Dk(454),Nk=Dk(463);function Bk(t,e){return Fk[t-=454]}let Uk=Dk(464),kk=Dk(461);const Vk=["448366iAToGd","_speedProgram","offMap","u_mapExtent","_delay","NEAREST","_seeds","_bindFramebuffer","_drawScreen","26166wQiyll","index","bindBuffer","uOpacity","3wnrTcu","uniformMatrix4fv","STATIC_DRAW","getUniformLocation","uPatternSpeed","33036hzWyfQ","uResolution","COLOR_ATTACHMENT0","_extentChange","_fieldData","activeTexture","_screenTexture","9lgQkis","particleColor","shaderSource","useProgram","data","webgl compile shader failed!","TEXTURE_2D","bindTransformFeedback","977rTRsZX","ELEMENT_ARRAY_BUFFER","_createTexture","BLEND","INTERLEAVED_ATTRIBS","deleteBuffer","a_position","TEXTURE_MAG_FILTER","createShader","FRAMEBUFFER","getElements","o_timeElapse","floor","_frameBuffer","setEnable","texParameteri","_drawVelocity","deleteVertexArray","getShaderParameter","vbo","createProgram","TRANSFORM_FEEDBACK","_throttle","transformFeedbackVaryings","uVPMatrix","ARRAY_BUFFER","SRC_ALPHA","RGBA","35225STRsKJ","disable","u_maxValue","removeListener","LINK_STATUS","log","DYNAMIC_DRAW","1329agLAkL","_drawSpeed","bindTexture","vao","getAttribLocation","u_timeNow","getHeight","destroy","UNSIGNED_INT","createBuffer","maxValue","getZoom","_velocityProgram","deleteProgram","vertexAttribPointer","getExtent","uParticleSize","_particlesNumber","getProgramParameter","now","TEXTURE1","uColor","speedScale","uniform1i","u_vpMatrix","uTimeNow","_initSpeedTexture","name","pixelStorei","353UhdAlD","_tbo","u_speedScale","u_pattern","TRANSFORM_FEEDBACK_BUFFER","drawingBufferWidth","_startTime","bindVertexArray","o_sPosition","createVertexArray","a_timeElapse","MAPEVENT_EXTENTCHANGED","_preTexture","vboEle","draw","setMap","u_lifeTime","enableVertexAttribArray","_screenProgram","deleteTexture","a_textCoord","_vbo","VERTEX_SHADER","uSpeedScale","particlesNumber","blendFunc","TEXTURE_MIN_FILTER","event","drawingBufferHeight","bind","u_particleSize","framebufferTexture2D","bufferData","a_sTime","_animationId","redraw","setData","u_resolution","FLOAT","354oDlNxe","texImage2D","a_sPosition","getShaderInfoLog","334307byAaSu","bindBufferBase","_redraw","FRAGMENT_SHADER","attachShader","POINTS","_textImage","particleLifeTime","particleSize","getLeft","linkProgram","1GwhScu","uniform4fv","_randomSeed","getProgramInfoLog","CLAMP_TO_EDGE","length","createFramebuffer","createTexture","u_color","TEXTURE_WRAP_T","_map","compileShader","ONE","uMapExtent","drawArrays","toNormalizeArray","_speedTexture","_eventFunc","webgl program link failed!","uniform1f","TRIANGLES","uMaxValue","addListener","UNSIGNED_BYTE","program","_createProgram","drawElements","_particleLifeTime","_createShader","BYTES_PER_ELEMENT","uLifeTime","endTransformFeedback","1ogyEQU","push","exp","getBottom","u_opacity","getVPMatrix","a_velocity","random"],Gk=zk;function zk(t,e){return Vk[t-=108]}!function(t,e){const r=zk;for(;;)try{if(248347===-parseInt(r(294))*-parseInt(r(206))+parseInt(r(261))+-parseInt(r(210))*-parseInt(r(221))+-parseInt(r(270))*parseInt(r(274))+parseInt(r(131))*-parseInt(r(253))+parseInt(r(167))*-parseInt(r(138))+parseInt(r(286))*-parseInt(r(279)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Vk);class Hk extends Dt{constructor(e,r={}){const i=zk;super(r),this[i(165)]=e,this[i(155)]=r.particlesNumber||3e3,this[i(248)]=r[i(217)]||2,this.particleSize=r[i(218)]||1,this[i(160)]=r.speedScale||1,this.maxValue=r[i(148)]||40,this[i(287)]=r[i(287)]||new t.Color(204,204,204,1),this._seeds=[],this[i(125)]=ST(),this[i(265)]=500,this[i(282)]=!1,this._initSpeedTexture=!0,this[i(201)]=null}set particlesNumber(t){const e=zk;this[e(155)]=t,this[e(125)](this[e(223)],this._delay,this)}get[Gk(191)](){return this[Gk(155)]}set[Gk(217)](t){const e=Gk;this[e(248)]=t,this[e(125)](this[e(223)],this[e(265)],this)}get particleLifeTime(){return this._particleLifeTime}[Gk(203)](t){const e=Gk;this[e(283)]=t;const r=t.nx,i=t.ny,n=[];for(let t=1;t<i;t++)for(let i=1;i<r;i++){const s=(t-1)*r+i-1,o=t*r+i-1,a=(t-1)*r+i,h=t*r+i;n[e(254)](s,o,h,s,h,a)}if(this[e(283)][e(271)]=n,this[e(231)]){const t=this.gl;t[e(272)](t[e(128)],this._speedProgram[e(122)]),t[e(199)](t[e(128)],new Float32Array(this._fieldData[e(290)]),t[e(276)]),t[e(272)](t[e(295)],this[e(262)][e(180)]),t[e(199)](t[e(295)],new Uint32Array(n),t[e(276)]),t[e(272)](t[e(128)],null),t[e(272)](t[e(295)],null),this[e(125)](this[e(223)],this[e(265)],this)}}[Gk(223)](){const t=Gk;if(!this[t(231)])return;this[t(201)]&&cancelAnimationFrame(this[t(201)]);const e=this[t(231)].getExtent(),r=e[t(219)](),i=e[t(256)](),n=e.getWidth(),s=e[t(144)]();this[t(267)].length=0,this[t(173)]=Date[t(157)]();for(let e=0;e<this[t(155)];e++){const e=r+n*Math[t(260)](),o=i+s*Math.random(),a=Math[t(115)](1e3*this[t(248)]*Math.random());this._seeds.push(e,o,e,o,a,0)}const o=this.gl;o.bindBuffer(o.ARRAY_BUFFER,this[t(188)]),o[t(199)](o[t(128)],new Float32Array(this[t(267)]),o[t(137)]),this[t(212)]()}[Gk(212)](){const t=Gk;this[t(202)](),this[t(201)]=requestAnimationFrame((()=>{this[t(212)]()}))}draw(){const t=Gk;if(0==this[t(267)][t(226)])return;super[t(181)]();const e=this[t(231)][t(258)]()[t(113)](),r=this.gl;this[t(216)](r,this[t(285)],null,r[t(244)],r[t(172)],r[t(195)]),this[t(282)]&&(this._extentChange=!1,this[t(139)](e)),this[t(164)]&&(this._initSpeedTexture=!1,this[t(139)](e)),this[t(268)](r,this[t(116)],this[t(285)]),this[t(269)](this[t(179)],.998),this[t(119)](e),this[t(268)](r,null),r[t(192)](r[t(129)],r[t(233)]),this[t(269)](this[t(285)],1);let i=this._screenTexture;this[t(285)]=this[t(179)],this[t(179)]=i,i=this._vbo,this[t(188)]=this._tbo,this[t(168)]=i}[Gk(119)](t){const e=Gk,r=this.gl,i=this[e(231)],n=i.getResolution(),s=i[e(149)](),o=i[e(153)]();r[e(272)](r[e(128)],this[e(168)]),r[e(199)](r[e(128)],0,r[e(137)]),r[e(289)](this[e(150)][e(245)]),r[e(284)](r[e(158)]),r[e(140)](r[e(292)],this[e(237)]),r.bindBuffer(r[e(128)],this[e(188)]);const a=Float32Array[e(250)],h=r[e(142)](this[e(150)][e(245)],"a_position");r[e(152)](h,2,r[e(205)],!1,6*a,0*a),r[e(184)](h);const l=r[e(142)](this[e(150)][e(245)],e(208));r[e(152)](l,2,r[e(205)],!1,6*a,2*a),r[e(184)](l);const c=r[e(142)](this[e(150)][e(245)],e(200));r[e(152)](c,1,r[e(205)],!1,6*a,4*a),r[e(184)](c);const u=r[e(142)](this[e(150)].program,e(177));r[e(152)](u,1,r.FLOAT,!1,6*a,5*a),r.enableVertexAttribArray(u),r[e(272)](r.TRANSFORM_FEEDBACK_BUFFER,this[e(168)]),r.bufferData(r[e(171)],Float32Array[e(250)]*this[e(267)][e(226)],r.STATIC_READ),r[e(211)](r[e(171)],0,this._tbo),r.beginTransformFeedback(r[e(215)]),r.uniformMatrix4fv(this[e(150)][e(127)],!1,t),r[e(240)](this[e(150)][e(280)],n),r[e(161)](this[e(150)].uPatternSpeed,1),s<20?r[e(240)](this[e(150)][e(190)],this.speedScale):r[e(240)](this[e(150)][e(190)],this.speedScale*Math.sqrt(Math[e(255)](s-18))),r[e(240)](this[e(150)][e(242)],this.maxValue),r[e(240)](this._velocityProgram[e(154)],this.particleSize),r[e(222)](this[e(150)][e(159)],this[e(287)][e(236)]()),r.uniform1f(this[e(150)][e(163)],(Date[e(157)]()-this._startTime)/1e3),r.uniform1f(this[e(150)][e(251)],this[e(248)]),r[e(222)](this._velocityProgram[e(234)],o.toArray()),r[e(235)](r[e(215)],0,this[e(267)][e(226)]/6),r[e(252)](),r.flush(),r[e(211)](r[e(171)],0,null),r[e(272)](r[e(171)],null),r[e(140)](r[e(292)],null)}[Gk(269)](t,e=1){const r=Gk,i=this.gl;i[r(289)](this[r(185)].program),i[r(284)](i[r(158)]),i[r(140)](i.TEXTURE_2D,t),i[r(174)](this[r(185)][r(141)]),i.uniform1i(this[r(185)].uPattern,1),i[r(240)](this._screenProgram[r(273)],e),i.drawElements(i[r(241)],6,i[r(146)],0),i[r(174)](null),i[r(140)](i[r(292)],null)}[Gk(139)](t){const e=Gk,r=this.gl;r[e(132)](r[e(297)]),this[e(216)](r,this._speedTexture,null,r[e(244)],r[e(172)],r[e(195)]),r[e(289)](this[e(262)][e(245)]),this[e(268)](r,this[e(116)],this[e(237)]),r[e(275)](this[e(262)].uVPMatrix,!1,t),r[e(240)](this[e(262)].uMaxValue,this[e(148)]),r[e(174)](this._speedProgram.vao),r[e(247)](r[e(241)],this._fieldData[e(271)][e(226)],r[e(146)],0),this._bindFramebuffer(r,null),r[e(140)](r[e(292)],null),r[e(174)](null)}setMap(t){const e=Gk;super[e(182)](t),this.getDepthStatus()[e(117)](!1);const r=this.gl,i=r[e(172)],n=r[e(195)],s=r[e(266)],o=r[e(225)],a=[r.UNPACK_FLIP_Y_WEBGL],h=[1];this[e(116)]=r[e(227)](),this[e(237)]=this._createTexture(s,o,[],[],null,r[e(244)],i,n),this._screenTexture=this[e(296)](s,o,a,h,null,r[e(244)],i,n),this[e(179)]=this[e(296)](s,o,a,h,null,r[e(244)],i,n),this[e(185)]={program:this[e(246)](r,"#version 300 es\n    in vec2 a_position;    \n    in vec2 a_textCoord;\n    \n    out vec2 v_textCoord;\n    \n    void main() {\n        gl_Position = vec4(a_position, 0.0, 1.0);\n        v_textCoord = a_textCoord;\n    }\n","#version 300 es\n    precision highp float;\n    \n    in vec2 v_textCoord;\n    \n    out vec4 outColor;\n    \n    uniform sampler2D u_pattern;\n    uniform float u_opacity;\n    \n    void main() {\n        outColor = texture(u_pattern, v_textCoord);\n        if (outColor.r < 0.03 && outColor.g < 0.03 && outColor.b < 0.03) {\n            discard;\n        }\n        outColor.a = outColor.a * u_opacity;\n        // if (outColor.a < 0.1) {\n        //     discard;\n        //     // outColor.a = 0.0;\n        // }\n    }\n"),vao:null,vbo:null,vboEle:null,uPattern:null,uOpacity:null},this[e(262)]={program:this[e(246)](r,Ok,Nk),vao:null,vbo:null,vboEle:null,uVPMatrix:null,uMaxValue:null},this[e(150)]={program:null,uVPMatrix:null,uResolution:null,uTimeNow:null,uLifeTime:null,uPatternSpeed:null,uMapExtent:null,uSpeedScale:null,uMaxValue:null,uParticleSize:null,uColor:null};const l=this._createShader(r,r[e(189)],Uk),c=this[e(249)](r,r[e(213)],kk);this[e(150)][e(245)]=r[e(123)](),r[e(214)](this[e(150)][e(245)],l),r[e(214)](this._velocityProgram[e(245)],c);const u=r.createTransformFeedback(),f=["o_position",e(175),"o_sTime",e(114)];if(r[e(293)](r[e(124)],u),r[e(126)](this._velocityProgram.program,f,r[e(298)]),r[e(220)](this[e(150)][e(245)]),!r.getProgramParameter(this[e(150)][e(245)],r[e(135)])){let t=r[e(224)](this[e(150)][e(245)]);throw console[e(136)](t),new Error(e(239))}this[e(150)][e(127)]=r[e(277)](this[e(150)][e(245)],"u_vpMatrix"),this[e(150)][e(280)]=r[e(277)](this._velocityProgram[e(245)],e(204)),this[e(150)].uTimeNow=r[e(277)](this._velocityProgram[e(245)],e(143)),this[e(150)][e(251)]=r[e(277)](this._velocityProgram[e(245)],e(183)),this[e(150)][e(278)]=r[e(277)](this[e(150)][e(245)],"u_patternSpeed"),this[e(150)][e(234)]=r[e(277)](this._velocityProgram[e(245)],e(264)),this[e(150)][e(190)]=r[e(277)](this[e(150)].program,e(169)),this[e(150)][e(242)]=r[e(277)](this._velocityProgram.program,e(133)),this[e(150)][e(154)]=r.getUniformLocation(this[e(150)][e(245)],e(197)),this[e(150)][e(159)]=r.getUniformLocation(this._velocityProgram[e(245)],e(229)),this[e(188)]=r[e(147)](),this._tbo=r[e(147)](),this[e(185)][e(141)]=r[e(176)](),r[e(174)](this._screenProgram[e(141)]),this[e(185)][e(122)]=r[e(147)](),r.bindBuffer(r.ARRAY_BUFFER,this[e(185)][e(122)]),r[e(199)](r.ARRAY_BUFFER,new Float32Array([-1,1,0,1,-1,-1,0,0,1,-1,1,0,1,1,1,1]),r.STATIC_DRAW);const g=r[e(142)](this[e(185)].program,e(109));r.vertexAttribPointer(g,2,r[e(205)],!1,4*Float32Array.BYTES_PER_ELEMENT,0),r[e(184)](g);const d=r[e(142)](this[e(185)][e(245)],e(187));r[e(152)](d,2,r.FLOAT,!1,4*Float32Array[e(250)],2*Float32Array[e(250)]),r[e(184)](d),this[e(185)][e(180)]=r.createBuffer(),r[e(272)](r[e(295)],this[e(185)][e(180)]),r.bufferData(r[e(295)],new Uint32Array([0,1,2,0,2,3]),r[e(276)]),r[e(174)](null),this[e(185)].uPattern=r[e(277)](this[e(185)][e(245)],e(170)),this[e(185)].uOpacity=r[e(277)](this[e(185)][e(245)],e(257)),this[e(262)].vao=r[e(176)](),r[e(174)](this._speedProgram.vao),this[e(262)].vbo=r[e(147)](),r.bindBuffer(r[e(128)],this[e(262)][e(122)]),this[e(283)]&&this[e(283)][e(290)]&&r[e(199)](r[e(128)],new Float32Array(this[e(283)].data),r[e(276)]);const _=r.getAttribLocation(this[e(262)][e(245)],"a_position");r[e(152)](_,2,r.FLOAT,!1,4*Float32Array[e(250)],0),r[e(184)](_);const y=r[e(142)](this._speedProgram[e(245)],e(259));r.vertexAttribPointer(y,2,r.FLOAT,!1,4*Float32Array.BYTES_PER_ELEMENT,2*Float32Array[e(250)]),r.enableVertexAttribArray(y),this[e(262)][e(180)]=r[e(147)](),r[e(272)](r[e(295)],this[e(262)][e(180)]),this[e(283)]&&this[e(283)][e(271)]&&r.bufferData(r[e(295)],new Uint32Array(this[e(283)][e(271)]),r.STATIC_DRAW),r[e(174)](null),this[e(262)][e(127)]=r[e(277)](this[e(262)][e(245)],e(162)),this._speedProgram[e(242)]=r[e(277)](this[e(262)][e(245)],e(133)),this._fieldData&&this[e(125)](this[e(223)],this[e(265)],this),t.event[e(243)](p[e(178)],this[e(238)][e(196)](this))}[Gk(238)](){const t=Gk,e=this.gl;this[t(201)]&&cancelAnimationFrame(this[t(201)]),this[t(282)]=!0,this[t(267)][t(226)]=0;const r=e[t(172)],i=e[t(195)];this._textImage(e,this[t(179)],null,e[t(244)],r,i),this[t(216)](e,this[t(285)],null,e[t(244)],r,i),this[t(125)](this[t(223)],this._delay,this)}[Gk(296)](t,e,r=[],i=[],n,s=null,o,a){const h=Gk,l=this.gl,c=l[h(228)]();l[h(140)](l[h(292)],c);for(let t=0,e=r[h(226)];t<e;t++)l[h(166)](r[t],i[t]);return l[h(118)](l[h(292)],l[h(110)],t),l[h(118)](l[h(292)],l[h(193)],t),l[h(118)](l.TEXTURE_2D,l.TEXTURE_WRAP_S,e),l[h(118)](l[h(292)],l[h(230)],e),this[h(216)](l,c,n,s,o,a),l.bindTexture(l[h(292)],null),c}[Gk(216)](t,e,r=null,i,n=0,s=0){const o=Gk;t.bindTexture(t[o(292)],e),n>0&&s>0?t[o(207)](t.TEXTURE_2D,0,t[o(130)],n,s,0,t[o(130)],i,r):t[o(207)](t[o(292)],0,t[o(130)],t.RGBA,t[o(244)],r)}[Gk(246)](t,e,r){const i=Gk;let n=this._createShader(t,t[i(189)],e),s=this[i(249)](t,t[i(213)],r),o=t.createProgram();if(t[i(214)](o,n),t.attachShader(o,s),t[i(220)](o),t[i(156)](o,t[i(135)]))return o;{let e=t[i(224)](o);throw console[i(136)](e),new Error("webgl program link failed!")}}[Gk(249)](t,e,r){const i=Gk;let n=t[i(111)](e);if(t[i(288)](n,r),t[i(232)](n),t[i(121)](n,t.COMPILE_STATUS))return n;{let e=t[i(209)](n);throw console[i(136)](e),new Error(i(291))}}[Gk(268)](t,e,r=null){const i=Gk;null==e&&t[i(198)](t[i(112)],t[i(281)],t[i(292)],null,0),t.bindFramebuffer(t.FRAMEBUFFER,e),r&&t[i(198)](t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0)}[Gk(263)](){const t=Gk;if(!this[t(231)])return;this._seeds.length=0;const e=this.gl,r=e[t(172)],i=e[t(195)];e[t(272)](e.ARRAY_BUFFER,this._vbo),e[t(199)](e[t(128)],0,e[t(276)]),e.deleteBuffer(this[t(188)]),e[t(272)](e.ARRAY_BUFFER,this[t(168)]),e[t(199)](e.ARRAY_BUFFER,0,e.STATIC_DRAW),e[t(108)](this[t(168)]),e[t(151)](this._velocityProgram[t(245)]),e.bindBuffer(e[t(128)],this[t(185)][t(122)]),e[t(199)](e[t(128)],0,e.STATIC_DRAW),e.deleteBuffer(this._screenProgram.vbo),e[t(272)](e[t(295)],this[t(185)][t(180)]),e[t(199)](e[t(295)],0,e[t(276)]),e[t(108)](this._screenProgram.vboEle),e[t(120)](this[t(185)][t(141)]),e[t(151)](this[t(185)][t(245)]),e[t(272)](e[t(128)],this._speedProgram[t(122)]),e[t(199)](e[t(128)],0,e[t(276)]),e[t(108)](this[t(262)][t(122)]),e.bindBuffer(e[t(295)],this[t(262)][t(180)]),e.bufferData(e[t(295)],0,e.STATIC_DRAW),e[t(108)](this[t(262)][t(180)]),e[t(120)](this[t(262)][t(141)]),e[t(151)](this[t(262)][t(245)]),this[t(216)](e,this._speedTexture,null,e[t(244)],r,i),this._textImage(e,this._preTexture,null,e.UNSIGNED_BYTE,r,i),this._textImage(e,this._screenTexture,null,e[t(244)],r,i),e[t(186)](this[t(237)]),e[t(186)](this[t(285)]),e[t(186)](this._preTexture),this._map[t(194)][t(134)](p[t(178)],this[t(238)])}[Gk(145)](){const t=Gk;this[t(263)](),super[t(145)]()}}const jk=["1HYCupC","_parse","33349MMGnRo","89gJOxvu","1UpYqyS","la1","375073GFrSfa","push","312477iosBax","2479VHSqDQ","1QpIFfh","header","la2","134708jLyIgP","216679lxCkJY","47518aDadCB","data","lo2","lo1"];function Yk(t,e){return jk[t-=300]}const $k=Yk;!function(t,e){const r=Yk;for(;;)try{if(196399===parseInt(r(311))*parseInt(r(303))+-parseInt(r(315))*parseInt(r(301))+parseInt(r(307))+parseInt(r(309))+-parseInt(r(310))*parseInt(r(304))+parseInt(r(305))*parseInt(r(316))+-parseInt(r(314)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(jk);class Xk{constructor(t){const e=Yk;this[e(317)]={},this[e(302)](t)}[$k(302)](t){const e=$k;let r=t[0][e(312)],i=r[e(300)],n=r[e(318)],s=r[e(306)];r[e(313)];let o=r.dx,a=r.dy,h=r.nx,l=r.ny,c=t[0][e(317)],u=t[1][e(317)],p=[];0==i&&359==n&&(i=-180,n=179);let f=0,g=s;for(let t=0;t<l;t++){let t=i-o;for(let r=0;r<h;r++)t+=o,p[e(308)](t,g,c[f],u[f]),f++;g-=a}this[e(317)].nx=h,this.data.ny=l,this.data.data=p}}const Wk=["removeAllFeatures","addFeatures","327154JJQyWm","invalid layer : layer has no bind map !","kml url is null","11122CrXxNX","_vectorLayer","1fteNBs","251529AUbGqg","VectorLayer","setFitToExtent","getMap","1ukcqVL","_fitToExtent","_map","invalid layer : layer must be VectorLayer!","destroy","error","349480VoosbI","347983EhaTvy","getFitToExtent","6jMebcK","302591LdyCjl","function","load","getDataExtent","653534sDxeQZ","fitToExtent","_kmlParser","then"],Zk=qk;function qk(t,e){return Wk[t-=114]}!function(t,e){const r=qk;for(;;)try{if(402991===-parseInt(r(139))*parseInt(r(123))+parseInt(r(137))*parseInt(r(125))-parseInt(r(140))+parseInt(r(136))+-parseInt(r(126))+parseInt(r(114))+parseInt(r(130))*-parseInt(r(120)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Wk);class Jk{constructor(t,e={}){const r=qk;if(!t||!t.getMap())throw new TypeError(r(121));if(t.getLayerType()!==Ot[r(127)])throw new TypeError(r(133));this[r(124)]=t,this[r(132)]=t[r(129)](),this[r(131)]=!e.hasOwnProperty("fitToExtent")||e[r(115)],this._kmlParser=new Ex}[Zk(138)](){return this[Zk(131)]}[Zk(128)](t){this._fitToExtent=t}[Zk(142)](t,e=!1,r){const i=Zk;if(!t)throw new TypeError(i(122));this[i(116)].parse(t)[i(117)]((t=>{const n=i;let{features:s}=t;if(s&&s.length&&(e&&this._vectorLayer.removeAllFeatures(),this._vectorLayer[n(119)](s),this._fitToExtent)){let t=this[n(124)][n(143)]();this[n(132)].zoomToExt(t)}typeof r===n(141)&&r()}),(t=>{const e=i;console[e(135)](t),typeof r===e(141)&&r(t)}))}[Zk(134)](){const t=Zk;this._vectorLayer[t(118)](),this._kmlParser.destroy();for(let t in this)this[t]=null,delete this[t]}}const Kk=["Data to be ranged is empty.","isInteger","1212826dpltbI","getMode","MultiLine","_rangeNum","KMEANS","hasOwnProperty","styles","filter","destroy","map","Setting rangeNum is invalid when using customized mode.","_getStyle","floor","lineSymbols","forEach","RangeNum is large than the length of data!","getAttributes","fillSymbols","getRangeNum","_features","_geoJson","setBreakValues","quantile","indexOf","getBreaks","data","The parameter num must be an integer greater than 0.","equalInterval","abs","566414ojKDQn","21247sReiPN","_customBreaks","QUANTILE","1kjQJuF","787278sbuJIX","_styles","equalColor","max","RangeThemeLayer","getRangeStyles","rangeNum","_mode","getLayerType","543397XSshJc","reduce","warn","getType","getRangeField","2XdiTGN","kmeans","removeFeature","RangeField must be set.","min","Line","updateRangeTheme","firstCentroids","removeAllFeatures","push","_rangeField","equal","breakValues","_getDefaultColors","MAX_VALUE","setData","readFeatures","CUSTOMIZED","1194574cpwGhO","sort","1251564CvPOec","transpose","concat","splice","newCentroids","setMode","length","setRangeStyles","toString","setRangeNum","19lKKUqn","findIndex","Invalid rangeField: rangeField must be Number type!","addFeature"],Qk=tV;function tV(t,e){return Kk[t-=232]}!function(t,e){const r=tV;for(;;)try{if(631772===parseInt(r(278))+parseInt(r(258))*parseInt(r(239))+-parseInt(r(294))+-parseInt(r(244))+-parseInt(r(253))+-parseInt(r(240))*parseInt(r(288))+-parseInt(r(276))*-parseInt(r(243)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(Kk);class eV extends Hg{constructor(e,r){const i=tV;if(super(e,r),this._rangeField=r[i(299)]("rangeField")?r.rangeField:null,!this[i(268)])throw TypeError(i(261));if(this[i(251)]=r.mode?r.mode:iV[i(298)],this[i(245)]=r.styles?r[i(300)]:[],this._rangeNum=r.hasOwnProperty(i(250))?r[i(250)]:this[i(245)][i(284)]?this[i(245)].length:7,!Number.isInteger(this[i(297)])||this[i(297)]<=0)throw TypeError("RangeNum must be an integer greater than 0.");if(this[i(241)]=r[i(270)]||[],this[i(251)]===iV[i(275)]){if(!this[i(241)]||!this[i(241)][i(284)])throw TypeError("Breakvalues must be set when using customized mode.");this._rangeNum=this[i(241)][i(284)]}this[i(314)]=new t.GeoJSON,this[i(313)]=[],r[i(235)]&&this[i(273)](r[i(235)])}[Qk(252)](){return Ot[Qk(248)]}[Qk(273)](t){const e=Qk;this[e(313)]=this[e(314)][e(274)](t)}[Qk(287)](t){const e=Qk;if(this[e(251)]!==iV[e(275)]){if(!Number[e(293)](t)||t<=0)throw TypeError(e(236));this[e(297)]=t}else console[e(255)](e(304))}[Qk(312)](){return this[Qk(297)]}setRangeField(t){this[Qk(268)]=t||this._rangeField}[Qk(257)](){return this[Qk(268)]}[Qk(283)](t){this[Qk(251)]=t}[Qk(295)](){return this[Qk(251)]}[Qk(315)](t){const e=Qk;if(this[e(251)]===iV.CUSTOMIZED){if(!t||!t.length)throw TypeError("Breakvalues can not be empty when using customized mode.");this[e(297)]=t[e(284)]}this._customBreaks=t}getBreakValues(){return this[Qk(241)]}[Qk(285)](t){this._styles=t||[]}[Qk(249)](){return this[Qk(245)]}[Qk(264)](){const t=Qk;if(!this[t(313)][t(284)])return void console[t(255)](t(292));let e=this[t(313)][t(303)]((e=>{const r=t;return Number(e.getAttributes()[this[r(268)]])})).filter((t=>!isNaN(t)));if(0===e.length)throw TypeError(t(290));this[t(297)]>e[t(284)]&&console[t(255)](t(309));let r=this._rangeNum>e[t(284)]?e.length:this[t(297)];this._defaultColors=this[t(271)](r);let i=this[t(251)]===iV.CUSTOMIZED?this[t(241)]:rV[t(234)](e,r,this._mode);for(let e of this[t(313)]){let r=Number(e[t(310)]()[this[t(268)]]),n=-1;!isNaN(r)&&(n=i[t(289)]((t=>r<=t)));let s=this[t(305)](n,e.getGeometry()[t(256)]());e.setStyle(s)}this[t(266)](),this.addFeatures(this[t(313)])}[Qk(291)](t){const e=Qk;super[e(291)](t),this[e(313)][e(289)]((e=>e.id===t.id))<0&&this[e(313)][e(267)](t)}[Qk(260)](t){const e=Qk;super[e(260)](t);let r=this[e(313)][e(289)]((e=>e.id===t.id));r>=0&&this[e(313)][e(281)](r,1)}[Qk(305)](e,r){const i=Qk;if(this[i(245)][e])return this[i(245)][e];let n=this._defaultColors[e]||new t.Color(0,0,0),s=[];return r===t.GeometryType[i(263)]||r===t.GeometryType[i(296)]?s.lineSymbols=[new t.LineSymbol({color:n})]:(s[i(311)]=[new t.ColorFill(n)],s.markerSymbols=[new t.Circle({fillColor:n})],s[i(307)]=[new t.LineSymbol({color:new t.Color(110,110,110)})]),new t.Style(s)}_getDefaultColors(e){const r=Qk;if(e<1)return[];let i=[[69,117,181,1],[255,255,191,1],[214,47,39,1]],n=[i[0]];if(e>1){let t=Math.floor(e/2);for(let e=0;e<i[r(284)]-1;e++){let s=rV[r(246)]([i[e],i[e+1]],t);n=n[r(280)](s)}e%2==0&&(n=n[r(301)]((t=>{const e=r;return t[e(286)]()!=i[1][e(286)]()})))}return n[r(303)]((e=>{const i=r;return new t.Color(...e[i(303)](Math[i(306)]))}))}[Qk(302)](){const t=Qk;for(let e=0;e<this[t(313)][t(284)];e++)this[t(313)][e][t(302)](),delete this._features[e];super[t(302)]()}}class rV{static[Qk(234)](t,e,r){const i=Qk;switch(r){case iV[i(298)]:return this.kmeans(t,e);case iV.EQUAL_INTERVAL:return this[i(269)](t,e);case iV[i(242)]:return this[i(232)](t,e);default:return this[i(259)](t,e)}}static[Qk(279)](t){const e=Qk;return t[0].map(((r,i)=>t[e(303)]((t=>t[i]))))}static[Qk(265)](t,e){const r=Qk;let i=[],n=t[0];i[r(267)](n);for(let n=1;n<e;n++){let e=t.map((t=>{const e=r;let n=Number[e(272)];return i[e(308)]((r=>{let i=Math[e(238)](r-t);i<n&&(n=i)})),n})),n=Math.max(...e),s=e[r(233)](n);i.push(t[s])}return i}static[Qk(282)](t){return t.map((function(t){const e=tV;let r=t[e(254)]((function(t,e){return t+e}),0)/t[e(284)],i=t.map((function(t){return Math[e(238)](t-r)})),n=Math[e(262)](...i);return t[i.indexOf(n)]}))}static kmeans(t,e){const r=Qk;let i,n,s=this[r(265)](t,e),o=0;for(;o<100;){i=s[r(303)]((function(){return[]}));for(let e of t){let t,n=Number[r(272)];s[r(308)](((r,i)=>{let s=Math.abs(r-e);s<n&&(n=s,t=i)})),i[t][r(267)](e)}let a=s.slice();for(s=this.newCentroids(i),n=0;n<e&&-1!==s[r(233)](a[n]);n++);if(n===e)break;o++}return i[r(303)]((t=>Math[r(247)](...t)))[r(277)]((function(t,e){return t-e}))}static equal(t,e){const r=Qk;let i=[],n=Math[r(247)](...t),s=Math[r(262)](...t);for(let t=1;t<e+1;t++)i[r(267)](s+t/e*(n-s));return i}static equalColor(t,e){const r=Qk;let i=this[r(279)](t).map((t=>{let r=[],i=t[t.length-1],n=t[0];for(let t=1;t<e+1;t++)r.push(n+t/e*(i-n));return r}));return this[r(279)](i)}static quantile(t,e){const r=Qk;let i=[];t=t.sort((function(t,e){return t-e}));for(let a=1;a<e+1;a++){var n=t[r(284)]*a/e-1,s=Math[r(306)](n);if(s===n)i[r(267)](t[s]);else{var o=n-s;i[r(267)](t[s]*(1-o)+t[s+1]*o)}}return i}}const iV={KMEANS:"kmeans",EQUAL_INTERVAL:Qk(237),QUANTILE:Qk(232),CUSTOMIZED:"customized"},nV=["defaultStyle","set","addFeatures","unique","_geoJson","addFeature","_defaultColors","_getDefaultColor","getLayerType","get","getGeometry","Data to be unique rendered is empty.","setData","style","floor","3865GFKWwp","2nnooKB","removeFeature","_uniqueField","39209TpZAlr","getType","1741NuRyGv","length","toString","warn","filter","setStyle","data","fillSymbols","Line","getAttributes","630628fDGBxt","lineSymbols","_getStyle","363208ZhaCFQ","682326Burghl","getUniqueField","uniqueField","MultiLine","279HnCXng","191TvOQtq","getDefaultStyle","getUniqueItems","readFeatures","1067321udAwJG","_uniqueItems","setUniqueField","findIndex","uniqueItems","values","setDefaultStyle","UniqueField must be set.","3yAfLUD","updateUniqueTheme","splice","push","random","_features","_defaultStyle","destroy"];function sV(t,e){return nV[t-=194]}const oV=sV;!function(t,e){const r=sV;for(;;)try{if(481551===parseInt(r(203))+-parseInt(r(202))+parseInt(r(208))*-parseInt(r(243))+-parseInt(r(199))+-parseInt(r(207))*parseInt(r(249))+parseInt(r(247))*-parseInt(r(220))+-parseInt(r(212))*-parseInt(r(244)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(nV);class aV extends Hg{constructor(e,r){const i=sV;if(super(e,r),this[i(246)]=r[i(205)],!this._uniqueField)throw TypeError(i(219));this[i(213)]=r[i(216)]?r[i(216)]:[],this[i(226)]=r[i(228)],this[i(232)]=new t.GeoJSON,this[i(225)]=[],this[i(234)]=new Map,r.data&&this[i(240)](r[i(195)])}[oV(236)](){return Ot.UniqueThemeLayer}[oV(240)](t){const e=oV;this[e(225)]=this[e(232)][e(211)](t)}[oV(214)](t){this._uniqueField=t||this._uniqueField}[oV(204)](){return this[oV(246)]}setUniqueItems(t){this._uniqueItems=t||[]}[oV(210)](){return this[oV(213)]}[oV(218)](t){this[oV(226)]=t}[oV(209)](){return this[oV(226)]}[oV(221)](){const t=oV;if(this[t(225)].length){for(let e of this[t(225)]){let r=e[t(198)]()[this[t(246)]],i=this[t(201)](r,e[t(238)]()[t(248)]());e[t(194)](i)}this.removeAllFeatures(),this[t(230)](this[t(225)])}else console[t(252)](t(239))}[oV(233)](t){const e=oV;super.addFeature(t),this[e(225)].findIndex((e=>e.id===t.id))<0&&this[e(225)][e(223)](t)}removeFeature(t){const e=oV;super[e(245)](t);let r=this[e(225)][e(215)]((e=>e.id===t.id));r>=0&&this[e(225)][e(222)](r,1)}[oV(201)](e,r){const i=oV;let n=this[i(213)][i(253)]((t=>t[i(231)]===e));if(n.length>0&&n[0][i(241)])return n[0][i(241)];if(this._defaultStyle)return this[i(226)];let s=this[i(235)](e),o=[];return r==t.GeometryType[i(197)]||r==t.GeometryType[i(206)]?o[i(200)]=[new t.LineSymbol({color:s})]:(o[i(196)]=[new t.ColorFill(s)],o.markerSymbols=[new t.Circle({fillColor:s})],o[i(200)]=[new t.LineSymbol({color:new t.Color(110,110,110)})]),new t.Style(o)}[oV(235)](e){const r=oV;if(this[r(234)][r(237)](e))return this[r(234)].get(e);for(;;){let i=[Math[r(242)](256*Math[r(224)]()),Math[r(242)](256*Math[r(224)]()),Math[r(242)](256*Math[r(224)]()),1],n=!1;for(let t of this[r(234)][r(217)]())if(t.toArray()[r(251)]()===i[r(251)]()){n=!0;break}if(!n)return i=new t.Color(...i),this[r(234)][r(229)](e,i),i}}[oV(227)](){const t=oV;for(let e=0;e<this[t(225)][t(250)];e++)this[t(225)][e][t(227)](),delete this[t(225)][e];super[t(227)]()}}const hV=["updateDrawData","getLayerType","getCoordSeq","removeAllFeatures","hasOwnProperty","_scatterModels","_trailModel","_vectorLayer","images/arrow.png","function","toLine","1ZOxLrD","_series","freq","symbolSrc","coords","you must define hmap.initState.resource first when using default symbolSrc!","Series data is empty.","GeosolutionLayer","warn","color","setSeriesData","564199ENBGLX","series","colorChange","_getBezierCurve","addMathModel","VectorLayer","values","minSize","_fps","map","1051470wQpElk","symbolSize","_geoLayer","addMathCell","1527381Rmvisk","_addTrail","type","valueName","addFeature","removeAll","destroy","resource","removeAllMathModels","getLength","1570DXWdfE","show","invalid 'geosolutionLayer'","518Zburmk","_addScatter","915354NZDAhO","964530MkFzpf","geosolutionLayer","loop","length","get","invalid 'vectorLayer'","sideNum","colorRange","714002aLExtA"],lV=cV;function cV(t,e){return hV[t-=355]}!function(t,e){const r=cV;for(;;)try{if(536328===-parseInt(r(409))+parseInt(r(410))+parseInt(r(390))+-parseInt(r(404))*-parseInt(r(407))+parseInt(r(380))*-parseInt(r(369))+parseInt(r(357))+-parseInt(r(394)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(hV);class uV{constructor(t){const e=cV;if(this[e(370)]=t[e(381)]||[],this._vectorLayer=t.vectorLayer,this[e(392)]=t[e(411)],!this[e(365)]||this[e(365)][e(359)]()!==Ot[e(385)])throw new TypeError(e(415));if(!this[e(392)]||this[e(392)][e(359)]()!==Ot[e(376)])throw new TypeError(e(406));this[e(388)]=60,this[e(364)]=new WN,this[e(392)][e(384)](this[e(364)]),this[e(363)]=new Map}[lV(379)](t){this._series=t||[]}draw(){const e=lV;if(this._series[e(413)]){this[e(365)][e(361)](),this[e(364)][e(399)]();for(let t of this._scatterModels.values())t[e(399)]();for(let r=0;r<this._series[e(413)];r++){let{data:i,lineEffect:n,lineStyle:s,lineCurveness:o,scatterEffect:a}=this[e(370)][r];!s&&(s=new t.Style({lineSymbols:[new t.LineSymbol({color:new t.Color(0,200,0,1)})]}));for(let r=0;r<i[e(413)];r++){const h=this[e(383)](i[r][e(373)][0],i[r][e(373)][1],o);for(let t=0;t<n[e(413)];t++)0!=n[t][e(405)]&&this._addTrail(h,n[t]);for(let t=0;t<a[e(413)];t++)0!=a[t].show&&this[e(408)](i[r],a[t]);let l={};for(let t in i[r])t!=e(373)&&(l[t]=i[r][t]);const c=new t.Vector(h[e(368)](),l,s);this[e(365)][e(398)](c)}}this[e(364)].updateDrawData();for(let t of this._scatterModels[e(386)]())t[e(358)]();this[e(392)].redraw()}else console[e(377)](e(375))}[lV(395)](e,r){const i=lV;if(!r[i(372)]&&!t.initState[i(401)])throw ReferenceError(i(374));const n=e[i(403)]()/((r[i(371)]>0?r[i(371)]:5e3)/1e3)/this[i(388)],s=new eP({coordSeq:e[i(360)](),showLine:!0,lineWidth:r[i(391)]&&r[i(391)][0]||16,placeLength:r.symbolSize&&r[i(391)][1]||16,lineColor:r[i(378)]||new t.Color(0,200,0,1),useAlpha:!0,symbolSrc:r[i(372)]||t.initState[i(401)]+i(366),isAnimate:!0,speed:n,repeat:!1,loop:!r.hasOwnProperty(i(412))||r[i(412)]});this[i(364)][i(393)](s)}[lV(408)](e,r){const i=lV;let n,s,o=r[i(362)](i(355))?r[i(355)]:4,a=this._scatterModels[i(414)](o);!a&&(a=new qD({sideNum:o}),this[i(392)][i(384)](a),this[i(363)].set(o,a)),typeof r.maxSize==i(367)&&(s=r.maxSize(e[r[i(397)]])),typeof r.minSize==i(367)&&(n=r[i(387)](e[r[i(397)]]));const h=new AS({type:r[i(396)],center:new t.Coordinate(...e[i(373)][1]),maxSize:s,minSize:n,freq:r[i(371)],color:r[i(378)]||new t.Color(0,200,0,1),colorChange:r[i(382)]||r[i(378)]||new t.Color(0,200,0,1),colorRange:r[i(356)]||[1,0]});a[i(393)](h)}[lV(383)](e,r,i=.2){const n=lV;(i>1||i<0)&&(i=.2),e[n(413)]<3&&(e[2]=0),r[n(413)]<3&&(r[2]=0);let s=[e,[(e[0]+r[0])/2-(e[1]-r[1])*i,(e[1]+r[1])/2-(r[0]-e[0])*i,(e[2]+r[2])/2],r][n(389)]((e=>new t.Point(new t.Coordinate(...e))));return new t.BezierCurve2(s)}[lV(400)](){const t=lV;this[t(365)][t(361)](),this[t(392)][t(402)](),this[t(364)][t(399)](),this[t(364)][t(400)]();for(let e of this[t(363)].values())e[t(399)](),e[t(400)]();for(let t in this)this[t]=null,delete this[t]}}const pV=["_renderType","random","renderType","_generate","8726ZcAHIH","171747LniQgr","num","mode","box","sin","_clearBurstsTick","addBursts","lifetime","_emissionParams","_systemStartTime","_loopAngle","146ddpaNa","_size1","_num","angle","","unit","speed","now","_limit","_rate","restart","cone","icon","ceil","_generateBySphere","_color1","constructor","_generateByCone","_icon","stop","_emissionPosition","error","color0","_tick","size1","_mapUnit","378901RsWvte","223987vcxJOp","_speed","float32FromDouble64","setEmissionType","_generateByCircle","randomMode","_bursts","sphere","_id","normal","bursts","looping","_color0","_status","max","rate","_loopLast","_particles","splice","systemStartTime","_lifetime","bind","particles","limit","_unit","color1","_emissionType","_mode","start","_randomMode","emissionPosition","floor","name","_alpha0","_looping","SPHERE","cos","pop","BOX","radius","_burstsTick","757415bfYWib","_size0","_alpha1","size0","883888kxtvna","out","alpha0","push","CIRCLE","672578oNBSvC","circle","alpha1","length"],fV=dV;!function(t,e){const r=dV;for(;;)try{if(711058===-parseInt(r(146))-parseInt(r(225))+parseInt(r(229))+parseInt(r(157))*parseInt(r(145))+-parseInt(r(184))+-parseInt(r(234))+parseInt(r(183)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(pV);class gV{constructor(e=[0,0,0],r=fV(235)){const i=fV;this[i(192)]=t.Aid.createUnique(this[i(173)][i(216)]),this[i(177)]=e,this[i(218)]=!0,this._rate=5,this[i(210)]=r,this._emissionParams={radius:.06,normal:[0,0,1]},this[i(211)]="random",this._bursts=[],this[i(224)]=[],this[i(201)]=[],this[i(197)]=0,this[i(226)]=10,this[i(158)]=100,this[i(217)]=1,this._alpha1=1,this[i(196)]=[1,1,1],this[i(172)]=[1,1,1],this._a=[0,0,-.1],this[i(185)]=.5,this[i(204)]=50,this[i(165)]=500,this[i(141)]=0,this._icon=null,this._angleRandom=!1,this[i(208)]=0,this._loopLast=0,this[i(156)]=10,this._num=1,this[i(213)]=0}get[fV(189)](){return this[fV(213)]}set[fV(189)](t=0){return this[fV(213)]=t,this}get loopAngle(){return this._loopAngle}set loopAngle(t){return this[fV(156)]=t,this}get[fV(147)](){return this._num}set num(t){return this[fV(159)]=t,this}set[fV(214)](t){return this[fV(177)]=t,this}get[fV(214)](){return this[fV(177)]}set[fV(195)](t){return this[fV(218)]=t,this}get[fV(195)](){return this._looping}set[fV(199)](t){const e=fV;return this[e(166)]=t,this[e(167)](),this}get[fV(199)](){return this[fV(166)]}get particles(){return this._particles}get angleRandom(){return this._angleRandom}set angleRandom(t){return this._angleRandom=t,this}get[fV(162)](){return this[fV(208)]}set[fV(162)](t){return this._unit="m"==t?0:1,this}get[fV(148)](){return this[fV(211)]}set[fV(148)](t=fV(142)){return this[fV(211)]=t,this}get[fV(194)](){return this[fV(190)]}set[fV(207)](t){return this[fV(165)]=t,this}get[fV(207)](){return this._limit}set[fV(153)](t){return this[fV(204)]=t,this}get[fV(153)](){return this[fV(204)]}set speed(t){this._speed=t}get[fV(163)](){return this[fV(185)]}set a(t){return this._a=t,this}get a(){return this._a}set[fV(228)](t){return this[fV(226)]=t,this}get size0(){return this[fV(226)]}set[fV(181)](t){return this._size1=t,this}get[fV(181)](){return this[fV(158)]}set[fV(231)](t){return this[fV(217)]=t,this}get[fV(231)](){return this[fV(217)]}set alpha1(t){return this[fV(227)]=t,this}get[fV(236)](){return this._alpha1}set[fV(179)](t){return this[fV(196)]=t,this}get color0(){return this[fV(196)]}set[fV(209)](t){return this[fV(172)]=t,this}get color1(){return this[fV(172)]}[fV(152)](t,e,r,i=1){this[fV(190)].push([t,e,r,i]),this.restart()}removeBursts(t){const e=fV;!t&&(this[e(190)]=[]);const r=this._bursts[e(237)];t=Math[e(198)](0,Math.min(r,t)),this[e(190)].splice(t,1),this[e(167)]()}[fV(187)](t,e){const r=fV;this._emissionType=t,this[r(154)]=e}set[fV(169)](t){const e=fV;return t?(this[e(175)]=t,this[e(141)]=1):this[e(141)]=0,this}get[fV(169)](){return this._icon}get[fV(143)](){return this._renderType}get id(){return this[fV(192)]}get[fV(203)](){return this._systemStartTime}[fV(230)](){const t=fV,e=this[t(182)],r=this[t(206)],i=[],n=[],s=[],o=[],a=[];for(let h=r[t(237)]-1;h>=0;h--){const l=r[h],[c,u]=Pt[t(186)](l[3],e),[p,f]=Pt.float32FromDouble64(l[4],e),[g,d]=Pt[t(186)](l[5],e);a[t(232)](l[0],l[1],l[2]),s[t(232)](l[5]),o.push(l[6]),i[t(232)](c,p,g),n[t(232)](u,f,d)}return{a_positionH:i,a_positionL:n,a_height:s,a_timesnap:o,a_speed:a}}[fV(212)](){const t=fV;if(0===this[t(197)]){this[t(197)]=1,this[t(155)]=Date[t(164)](),this.rate>0&&(this[t(180)]=setInterval(this[t(144)][t(205)](this),1e3/this[t(199)])),this[t(151)]();for(let e=0;e<this[t(190)][t(237)];e++){const r=this[t(190)][e];this._tick=setInterval(this[t(144)][t(205)](this),1e3*r[0],r)}}}_clearBurstsTick(){const t=fV;for(let e=this[t(224)].length-1;e>=0;e--)clearInterval(this[t(224)][e]),this[t(224)][e]=null,this[t(224)][t(221)]()}[fV(176)](){const t=fV;1===this[t(197)]&&(this[t(197)]=0,clearInterval(this[t(180)]))}restart(){const t=fV;this.stop(),this[t(212)]()}[fV(144)](t){const e=fV;this[e(210)]==e(235)?this[e(188)](t):this[e(210)]==e(168)?this[e(174)](t):this._emissionType==e(149)?this._generateByBox(t):this[e(210)]==e(191)?this._generateBySphere(t):console[e(178)](e(161));const r=this[e(206)][e(237)]-this._limit;r>0&&this[e(206)][e(202)](0,r)}_generateByBox(t){const e=fV;let r=Date[e(164)]()-this[e(203)];const i=this._emissionParams.l?this._emissionParams.l:1,n=this[e(154)].w?this[e(154)].w:1,s=this[e(154)].h?this[e(154)].h:1,o=this[e(154)][e(193)]?this[e(154)][e(193)]:[0,0,1];let a=this.num;if(t&&(a=Math[e(170)](t[1]+Math[e(142)]()*(t[2]-t[1])),Math[e(142)]()>t[3]))return;let h=Math[e(215)](6*Math[e(142)]()),l=[0,0,0],c=[0,0,0];0==h?(l[0]=this.emissionPosition[0]-i/2/11e4,c=[-1,0,0]):1==h?(l[0]=this[e(214)][0]+i/2/11e4,c=[1,0,0]):2==h?(l[2]=this[e(214)][2]+s/2/11e4,c=[0,0,1]):3==h?(l[2]=this[e(214)][2]-s/2/11e4,c=[0,0,-1]):4==h?(l[1]=this[e(214)][1]-n/2/11e4,c=[0,-1,0]):(l[1]=this.emissionPosition[1]+n/2/11e4,c=[0,1,0]);for(let t=0;t<a;t++){let t=[0,0,0,0,0,0,r];t[0]=this[e(163)]*c[0]+this[e(163)]*c[2]*o[0],t[1]=this[e(163)]*c[1]+this[e(163)]*c[2]*o[1],t[2]=this.speed*c[2]*o[2];let a=(Math[e(142)]()*i-i/2)/11e4,h=(Math.random()*n-n/2)/11e4,u=(Math[e(142)]()*s-s/2)/11e4;t[3]=0==l[0]?this[e(214)][0]+a:l[0],t[4]=0==l[1]?this[e(214)][1]+h:l[1],t[5]=0==l[2]?this.emissionPosition[2]+u:l[2],this.particles[e(232)](t)}}_generateByCone(t){const e=fV;let r=Date[e(164)]()-this[e(203)],i=this._emissionParams[e(193)]?this[e(154)][e(193)]:[0,0,1],n=1*this[e(154)][e(223)]/11e4,s=this._emissionParams[e(160)]*Math.PI/180,o=this.num;if(t&&(o=Math[e(170)](t[1]+Math[e(142)]()*(t[2]-t[1])),Math[e(142)]()>t[3]))return;let a,h=0;if("random"==this[e(148)])for(let t=0;t<o;t++){n*=Math[e(142)](),h=2*Math.PI*Math.random(),a=[this.speed*Math.sin(s)*Math.cos(h),this[e(163)]*Math.sin(s)*Math[e(150)](h),this[e(163)]*Math.cos(s)];let t=[a[0]+a[2]*i[0],a[1]+a[2]*i[1],a[2]*i[2],this[e(214)][0]+n*Math[e(220)](h),this[e(214)][1]+n*Math[e(150)](h),this[e(214)][2],r];this[e(206)][e(232)](t)}else for(let t=0;t<o;t++){h=this[e(200)]+Math.PI*this[e(156)]/180,this[e(200)]=h%Math.PI*2,a=[this[e(163)]*Math[e(150)](s)*Math[e(220)](h),this.speed*Math.sin(s)*Math.sin(h),this[e(163)]*Math[e(220)](s)];let t=[a[0]+a[2]*i[0],a[1]+a[2]*i[1],a[2]*i[2],this[e(214)][0]+n*Math[e(220)](h),this[e(214)][1]+n*Math[e(150)](h),this[e(214)][2],r];this.particles.push(t)}}[fV(171)](t){const e=fV;let r=Date[e(164)]()-this.systemStartTime;const i=this[e(154)].angle?this._emissionParams.angle:360;let n=this.num;if(!(t&&(n=Math.ceil(t[1]+Math.random()*(t[2]-t[1])),Math[e(142)]()>t[3])))for(let t=0;t<n;t++){let t=[0,0,0,0,0,0,0];t[0]=0,t[1]=1,t[2]=2,t[3]=this[e(214)][0],t[4]=this[e(214)][1],t[5]=this[e(214)][2],t[6]=r;let n=90-i/2+i*Math[e(142)](),s=2*Math.PI*Math[e(142)]();t[0]=this[e(163)]*Math[e(220)](n)*Math[e(220)](s),t[1]=this[e(163)]*Math[e(220)](n)*Math.sin(s),t[2]=this[e(163)]*Math[e(150)](n),this[e(206)][e(232)](t)}}_generateByCircle(t){const e=fV;let r=Date[e(164)]()-this[e(203)],i=this[e(154)][e(193)]?this._emissionParams.normal:[0,0,1];const n=this[e(154)][e(223)];let s=this.num;if(!(t&&(s=Math[e(170)](t[1]+Math[e(142)]()*(t[2]-t[1])),Math[e(142)]()>t[3])))if("random"==this[e(148)])for(let t=0;t<s;t++){let t=[this[e(163)]*i[0],this[e(163)]*i[1],this[e(163)]*i[2],this.emissionPosition[0],this.emissionPosition[1],this[e(214)][2],r],s=2*Math.PI*Math[e(142)](),o=1*n/11e4*Math[e(142)]();t[3]=t[3]+o*Math[e(220)](s),t[4]=t[4]+o*Math[e(150)](s),this[e(206)][e(232)](t)}else for(let t=0;t<s;t++){let t=[this[e(163)]*i[0],this[e(163)]*i[1],this[e(163)]*i[2],this[e(214)][0],this[e(214)][1],this[e(214)][2],r],s=this[e(200)]+Math.PI*this[e(156)]/180;this[e(200)]=s%Math.PI*2;let o=1*n/11e4;t[3]=t[3]+o*Math[e(220)](s),t[4]=t[4]+o*Math[e(150)](s),this[e(206)][e(232)](t)}}destroy(){const t=fV;this[t(190)]=[],this._burstsTick=[],this[t(197)]=0}}function dV(t,e){return pV[t-=141]}gV[fV(233)]=fV(235),gV.CONE=fV(168),gV[fV(219)]=fV(191),gV[fV(222)]=fV(149);const _V=["clz","u_unit","attributesLayout","POINTS","u_useTexture","u_cameraH","uniformMatrix4fv","1232253xNSdKU","1926487ZIoUoM","1182605jncizC","1RoWsjS","a_speed","u_res","1muzfrU","attributes","u_color1","u_size0","u_size1","854WFugRX","39966uhUDhh","a_positionL","1SQjaSg","_organizeAttributesLayout","u_alpha0","draw","chx","u_camera","uniform1f","u_alpha1","a_timesnap","u_a","3TEYODD","u_lifetime","u_projMatrix","u_randomMode","uniform3fv","uniforms","u_color0","a_positionH","u_time","u_cameraL","894961nsQZoB","2248SAnhok","1323957opXWPi","getElements","u_mvMatrix"],yV=mV;function mV(t,e){return _V[t-=111]}!function(t,e){const r=mV;for(;;)try{if(975849===parseInt(r(133))*parseInt(r(148))+parseInt(r(134))*-parseInt(r(156))+parseInt(r(113))*-parseInt(r(135))+-parseInt(r(151))*parseInt(r(147))-parseInt(r(111))-parseInt(r(145))+parseInt(r(146))*parseInt(r(123)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(_V);class IV extends qc{constructor(t,e,r){const i=mV;super(t,e,r),this[i(140)]=this._organizeAttributesLayout(),this.mode=t[i(141)]}[yV(114)](){const t=yV;return{a_positionH:{name:t(130),location:this[t(152)][t(130)],count:3,type:Float32Array},a_positionL:{name:t(112),location:this.attributes.a_positionL,count:3,type:Float32Array},a_timesnap:{name:t(121),location:this[t(152)][t(121)],count:1,type:Float32Array},a_speed:{name:t(149),location:this[t(152)][t(149)],count:3,type:Float32Array}}}[yV(116)](t){this.gl.drawArrays(this.mode,0,t)}setPrivateUniforms(t){const e=yV,r=this.gl;r[e(127)](this[e(128)][e(129)],new Float32Array(t[e(129)])),r[e(127)](this[e(128)].u_color1,new Float32Array(t[e(153)])),r[e(127)](this[e(128)][e(122)],new Float32Array(t[e(122)])),r.uniform1f(this[e(128)][e(154)],t[e(154)]),r.uniform1f(this.uniforms.u_size1,t[e(155)]),r[e(119)](this.uniforms[e(115)],t[e(115)]),r[e(119)](this[e(128)][e(120)],t.u_alpha1),r[e(119)](this[e(128)][e(131)],t[e(131)]),r[e(119)](this[e(128)][e(124)],t.u_lifetime),r[e(119)](this.uniforms.u_randomMode,t[e(126)]),r.uniform1f(this[e(128)][e(139)],t.u_unit)}setPublicUniforms(t){const e=yV,r=this.gl,i=t[e(118)];r[e(127)](this[e(128)][e(143)],[i[e(117)],i.chy,i.chz]),r.uniform3fv(this[e(128)][e(132)],[i.clx,i.cly,i[e(138)]]),r.uniformMatrix4fv(this[e(128)][e(137)],!1,t.u_mvMatrix[e(136)]()),r[e(144)](this[e(128)].u_projMatrix,!1,t[e(125)][e(136)]()),r.uniform1f(this.uniforms[e(150)],t[e(150)])}setTextureUniforms(t){const e=yV,r=this.gl;r[e(119)](this[e(128)].u_texture,t.u_texture),r[e(119)](this[e(128)][e(142)],t.u_useTexture)}}const xV=["2050914eDzMsH","356259DtgJEo","fsShader","321397rFgZaI","#version 300 es\n    in vec3 a_positionH;\n    in vec3 a_positionL;\n    in float a_timesnap; //\n    in vec3 a_speed;     //\n\n\n    // \n    uniform vec3 u_cameraH;\n    uniform vec3 u_cameraL;\n    uniform mat4 u_projMatrix;\n    uniform mat4 u_mvMatrix;\n    uniform float u_mapUnit;    //\n    uniform float u_res;\n    uniform float u_unit;       //\n\n    uniform float u_time; //\n    uniform float u_lifetime; //n    uniform vec3 u_a;  //\n    uniform float u_size0;\n    uniform float u_size1;\n    uniform vec3 u_color0;\n    uniform vec3 u_color1;\n    uniform float u_alpha0;\n    uniform float u_alpha1;\n    uniform float u_randomMode;\n\n    out vec3 v_color;\n    out float v_alpha;\n\n    // \n    vec4 corrections(){\n      vec3 highD=a_positionH-u_cameraH;\n      vec3 diff=a_positionL-u_cameraL;\n      vec3 lowD=diff/10000000.0*(1.0-u_mapUnit)+diff*u_mapUnit;\n      return vec4(highD+lowD,1.0);\n    }\n\n    // ec3\n    vec3 linerInterpolateVec3(vec3 start,vec3 end,float lifetime,float lifeStep){\n        float time = lifeStep/lifetime;\n        return (end-start)*time+start;\n    }\n\n    // n    float linerInterpolateFloat(float start,float end,float lifetime,float lifeStep){\n        float time = lifeStep/lifetime;\n        return (end-start)*time+start;\n    }\n\n\n    // n    vec3 randomInterpolateVec3(vec3 start,vec3 end,float random){\n      return (end-start)*random+start;\n    }\n\n    // n    float randomInterpolateFloat(float start,float end,float random){\n      return (end-start)*random+start;\n    }\n\n    void main() {\n      // \n      float lifeStep = (u_time - a_timesnap)/1000.0;\n      // \n      vec3 speed = a_speed/110000.0;\n      vec3 a = u_a/110000.0;\n      if(lifeStep<u_lifetime){\n        mat4 mvR2Eye=u_mvMatrix;\n        mvR2Eye[3]=vec4(0.0,0.0,0.0,mvR2Eye[3][3]);\n        mat4 mvMatrix=mvR2Eye;\n        vec4 position=corrections();\n        // \n        position.x += lifeStep * speed.x + 0.5*a.x*lifeStep*lifeStep;\n        position.y += lifeStep * speed.y + 0.5*a.y*lifeStep*lifeStep;\n        position.z += lifeStep * speed.z + 0.5*a.z*lifeStep*lifeStep;\n        gl_Position = u_projMatrix * mvMatrix * position;\n\n        float pointSize = 1.0;\n        // n        if(u_randomMode==0.0){\n          v_alpha = linerInterpolateFloat(u_alpha0,u_alpha1,u_lifetime,lifeStep);\n          v_color = linerInterpolateVec3(u_color0,u_color1,u_lifetime,lifeStep);\n          pointSize = linerInterpolateFloat(u_size0,u_size1,u_lifetime,lifeStep);\n        }else{\n          // n          // \n          float n = fract(u_time*gl_Position.x/0.00001);\n          float random = floor(n*10.0)/10.0;\n          v_alpha = randomInterpolateFloat(u_alpha0,u_alpha1,random);\n          v_color = randomInterpolateVec3(u_color0,u_color1,random);\n          pointSize =randomInterpolateFloat(u_size0,u_size1,random);\n        }\n\n        // \n        if(u_unit==0.0){\n          // \n          if(u_mapUnit==1.0){\n            gl_PointSize = pointSize/u_res;\n            // \n          }else{\n            // n            gl_PointSize = pointSize/110000.0/u_res;\n          }\n\n        }else{\n          //n          gl_PointSize = pointSize;\n        }\n      }\n\n    }","817874yFIySN","5531yRnVlY","1ZXiqbJ","298191BWkKpa","576825YBpdXP","2hbwDlk","2PDXSJo"],vV=wV;!function(t,e){const r=wV;for(;;)try{if(546889===-parseInt(r(169))+parseInt(r(163))*parseInt(r(170))+-parseInt(r(167))*parseInt(r(159))+parseInt(r(161))+-parseInt(r(160))*parseInt(r(162))+-parseInt(r(165))+parseInt(r(164)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(xV);const bV={};function wV(t,e){return xV[t-=159]}bV.vsShader=vV(168),bV[vV(166)]="#version 300 es\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n    in vec3 v_color;\n    in float v_alpha;\n    uniform sampler2D u_texture;\n    uniform float u_useTexture;\n    out vec4 outColor;\n    void main() {\n      if(u_useTexture==1.0){\n        vec4 color = texture(u_texture,gl_PointCoord);\n        outColor = vec4(color.rgb,color.a*v_alpha);\n        if(outColor.a<0.4)discard;\n      }else{\n        // \n        float dist = distance(gl_PointCoord, vec2(0.5, 0.5));\n        //  0.5 n        if(dist < 0.5) {\n          outColor = vec4(v_color,v_alpha);\n        } else {\n          discard;//\n        }\n      }\n    }";const TV=["size1","color0","now","758qsLXcG","draw","41467GXAlAu","a_positionL","blendEquation","bindVertexArray","setPublicUniforms","TEXTURE_2D","addGLTexture","color1","fsShader","2lBKNZE","randomMode","vaoInfo","bind","alpha0","event","size0","useProgram","SRC_ALPHA","bindTexture","765832TbVbIX","icon","898725mQPLOu","1191170BaiBCu","1033xFjvNI","DEPTH_TEST","getResolution","getViewMatrix","57654Rtscgv","unit","a_speed","setTextureUniforms","setPrivateUniforms","_particalSystemMap","out","a_timesnap","4XpubMe","blendFunc","REPEAT","layer","owner","vao","a_positionH","setVaoData","a_height","ONE","_createVaoInfo","getProjMatrix","vsShader","uniforms","forEach","vbos","getCrs","1076314kOVJcL","alpha1","texture","program","lifetime","renderType","enable","systemStartTime"],EV=CV;function CV(t,e){return TV[t-=106]}!function(t,e){const r=CV;for(;;)try{if(547691===-parseInt(r(133))*parseInt(r(168))+-parseInt(r(131))*parseInt(r(156))-parseInt(r(120))+parseInt(r(154))+-parseInt(r(152))+parseInt(r(160))+parseInt(r(142))*parseInt(r(155)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(TV);class AV extends Bx{constructor(t,e){const r=CV;super(t,e),this[r(147)]=e[r(147)],this[r(123)]=new IV(t,bV[r(115)],bV[r(141)]),this._particalSystemMap=new Map,this[r(116)]={},this[r(107)]=e[r(106)],this.vaoInfo=this[r(113)](t,this.program)}addParticalSystem(t){this[CV(165)].set(t.id,t)}[EV(110)](t){const e=EV,r=this[e(144)];this.program.setVBOs(r[e(118)],t)}render(){const t=EV;if(0==this[t(165)].size)return;this[t(123)][t(149)]();const e=this[t(107)]._map,r=e[t(119)]().getUnit();this[t(123)][t(137)]({u_camera:this[t(107)]._splitCameraPrecision(r),u_mapUnit:"m"==r,u_mvMatrix:e[t(159)](),u_projMatrix:e[t(114)](),u_res:e[t(158)]()});const i=this.gl;this.gl[t(126)](this.gl.DEPTH_TEST),this.gl.enable(this.gl.BLEND),i[t(135)](i.FUNC_ADD),i[t(169)](i[t(150)],i[t(112)]),i.disable(i[t(157)]),this[t(165)][t(117)](function(e,r){const i=t,n=e[i(166)]();this.setVaoData(n);if(1===e[i(125)]){const t=e[i(153)],r=this[i(123)][i(139)](t,0,i(170),i(170));this.gl[i(151)](this.gl[i(138)],r[i(122)]),this[i(123)][i(163)]({u_texture:r[i(161)],u_useTexture:1})}else this[i(123)][i(163)]({u_useTexture:0});this[i(123)][i(164)]({u_color0:e[i(129)],u_color1:e[i(140)],u_size0:e[i(148)],u_size1:e[i(128)],u_alpha0:e[i(146)],u_alpha1:e[i(121)],u_time:Date[i(130)]()-e[i(127)],u_lifetime:e[i(124)],u_a:e.a,u_randomMode:e[i(143)],u_unit:e[i(161)]}),this.gl[i(136)](this[i(144)][i(108)]),this[i(123)][i(132)](n[i(167)].length),this.gl.bindVertexArray(null),n[i(109)]=null,n[i(134)]=null,n[i(111)]=null,n[i(162)]=null,n.a_timesnap=null}[t(145)](this)),this.gl.disable(this.gl[t(157)])}}var MV=["7929CggnJr","67MpDaym","setMap","particalSystem must be instance of ParticalSystem","665974eDjZxq","35564KltitJ","5tqxqcY","addParticalSystem","_map","_render","193119DrEyMT","1015281WHKLpq","896326riHvWo","193673uAhWTV","1ftQBqr","render","2PDUgBW","static","draw","ParticalLayer","getLayerType"],SV=PV;function PV(t,e){return MV[t-=327]}!function(t,e){for(var r=PV;;)try{if(558461===-parseInt(r(331))*parseInt(r(328))-parseInt(r(341))+-parseInt(r(329))*-parseInt(r(340))+-parseInt(r(336))*parseInt(r(337))+-parseInt(r(342))*-parseInt(r(346))-parseInt(r(347))+parseInt(r(327)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(MV);class RV extends Dt{constructor(t,e={}){var r=PV;super(e),this.name=t,this[r(344)]=null,this[r(345)]=null,this[r(332)]=!1}[SV(338)](t){var e=SV;super.setMap(t),this[e(345)]=new AV(this.gl,{layer:this})}[SV(333)](){var t=SV;super.draw(),this[t(345)][t(330)]()}[SV(343)](t){var e=SV;if(!(t instanceof gV))throw new Error(e(339));this[e(345)][e(343)](t)}[SV(335)](){return Ot[SV(334)]}}var LV=["46953BXAHjx","3yaxKbN","813761zgXHgt","26261fOXoaP","151096NBeWKf","182976JSTTtA","47174WdotQz","136099lKlZFH","2qHKXqT"];function FV(t,e){return LV[t-=473]}!function(t,e){for(var r=FV;;)try{if(103035===-parseInt(r(476))+parseInt(r(479))*-parseInt(r(478))-parseInt(r(475))+-parseInt(r(481))*parseInt(r(477))-parseInt(r(474))-parseInt(r(473))+parseInt(r(480)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(LV);var DV=Object.freeze({__proto__:null,TraceReplay:xk,VideoProjector:Tk,Sightline:Mk,CityBuildingLayer:Rk,FieldLayer:Hk,Wind:Xk,KMLLoader:Jk,RangeThemeLayer:eV,UniqueThemeLayer:aV,ODLine:uV,ParticalLayer:RV,ParticalSystem:gV}),OV=["154859qgsdmI","146739RWSzKZ","131633RgfNaJ","231170uaYufZ","16041DeMmsD","193190rCyBmE","12fhYWrQ","233241sliPzk"];function NV(t,e){return OV[t-=386]}!function(t,e){for(var r=NV;;)try{if(126282===-parseInt(r(386))-parseInt(r(389))+parseInt(r(390))*-parseInt(r(392))+parseInt(r(391))+parseInt(r(393))+parseInt(r(387))+parseInt(r(388)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(OV);var BV=Object.freeze({__proto__:null,GeosolutionLayer:xM,cell:KP,math:_k,scene:DV});const UV=["71fLMtrO","876NyhvOV","2303ZEWRYE","581qPXtez","94314vaFSHq","geosolution","213943MAlNOd","379lqcsQE","337162MRSEkV","393mCMGTM","15xtyIrq","1KBWhIP"],kV=GV;!function(t,e){const r=GV;for(;;)try{if(130610===-parseInt(r(392))+parseInt(r(395))*-parseInt(r(397))+parseInt(r(394))+parseInt(r(401))*-parseInt(r(398))+-parseInt(r(391))*parseInt(r(399))+parseInt(r(402))*-parseInt(r(400))+parseInt(r(396)))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(UV);let VV=pM;function GV(t,e){return UV[t-=391]}return VV[kV(393)]=BV,VV}));var hmap$1=hmap;return hmap$1}));